/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 */var requirejs,require,define;(function(global,setTimeout){function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var a;for(a=0;a<e.length&&!(e[a]&&t(e[a],a,e));a+=1);}}function eachReverse(e,t){if(e){var a;for(a=e.length-1;-1<a&&!(e[a]&&t(e[a],a,e));a-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){for(var a in e)if(hasProp(e,a)&&t(e[a],a))break}function mixin(e,t,a,i){return t&&eachProp(t,function(t,n){(a||!hasProp(e,n))&&(!i||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[n]=t:(!e[n]&&(e[n]={}),mixin(e[n],t,a,i)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(t,a,i,n){var s=new Error(a+"\nhttps://requirejs.org/docs/errors.html#"+t);return s.requireType=t,s.requireModules=n,i&&(s.originalError=i),s}function newContext(e){function t(e){var t,a;for(t=0;t<e.length;t++)if(a=e[t],"."===a)e.splice(t,1),t-=1;else if(".."===a)if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;else 0<t&&(e.splice(t-1,2),t-=2)}function a(e,a,n){var s=a&&a.split("/"),o=b.map,d=o&&o["*"],r,c,l,p,m,u,g,h,v,f,A,x;if(e&&(e=e.split("/"),g=e.length-1,b.nodeIdCompat&&jsSuffixRegExp.test(e[g])&&(e[g]=e[g].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&s&&(x=s.slice(0,s.length-1),e=x.concat(e)),t(e),e=e.join("/")),n&&o&&(s||d)){l=e.split("/");outerLoop:for(p=l.length;0<p;p-=1){if(u=l.slice(0,p).join("/"),s)for(m=s.length;0<m;m-=1)if(c=getOwn(o,s.slice(0,m).join("/")),c&&(c=getOwn(c,u),c)){h=c,v=p;break outerLoop}!f&&d&&getOwn(d,u)&&(f=getOwn(d,u),A=p)}!h&&f&&(h=f,v=A),h&&(l.splice(0,v,h),e=l.join("/"))}return r=getOwn(b.pkgs,e),r?r:e}function i(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===I.contextName)return t.parentNode.removeChild(t),!0})}function n(e){var t=getOwn(b.paths,e);if(t&&isArray(t)&&1<t.length)return t.shift(),I.require.undef(e),I.makeRequire(null,{skipMap:!0})([e]),!0}function s(e){var t=e?e.indexOf("!"):-1,a;return-1<t&&(a=e.substring(0,t),e=e.substring(t+1,e.length)),[a,e]}function o(e,t,i,n){var o=null,d=t?t.name:null,r=e,c=!0,l="",p,m,u,g;return e||(c=!1,e="_@r"+(L+=1)),g=s(e),o=g[0],e=g[1],o&&(o=a(o,d,n),m=getOwn(S,o)),e&&(o?i?l=e:m&&m.normalize?l=m.normalize(e,function(e){return a(e,d,n)}):l=-1===e.indexOf("!")?a(e,d,n):e:(l=a(e,d,n),g=s(l),o=g[0],l=g[1],i=!0,p=I.nameToUrl(l))),u=!o||m||i?"":"_unnormalized"+(T+=1),{prefix:o,name:l,parentMap:t,unnormalized:!!u,url:p,originalName:r,isDefine:c,id:(o?o+"!"+l:l)+u}}function d(e){var t=e.id,a=getOwn(A,t);return a||(a=A[t]=new I.Module(e)),a}function r(e,t,a){var i=e.id,n=getOwn(A,i);hasProp(S,i)&&(!n||n.defineEmitComplete)?"defined"===t&&a(S[i]):(n=d(e),n.error&&"error"===t?a(n.error):n.on(t,a))}function c(e,t){var a=e.requireModules,i=!1;t?t(e):(each(a,function(t){var a=getOwn(A,t);a&&(a.error=e,a.events.error&&(i=!0,a.emit("error",e)))}),!i&&req.onError(e))}function l(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(I.defQueueMap[t]=!0),k.push(e)}),globalDefQueue=[])}function p(e){delete A[e],delete x[e]}function m(e,t,a){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,each(e.depMaps,function(n,s){var i=n.id,o=getOwn(A,i);!o||e.depMatched[s]||a[i]||(getOwn(t,i)?(e.defineDep(s,S[i]),e.check()):m(o,t,a))}),a[i]=!0)}function u(){var e=1e3*b.waitSeconds,t=e&&I.startTime+e<new Date().getTime(),a=[],s=[],o=!1,d=!0,r,l;if(!E)return E=!0,eachProp(x,function(e){var r=e.map,c=r.id;if(e.enabled&&(r.isDefine||s.push(e),!e.error))if(!e.inited&&t)n(c)?(l=!0,o=!0):(a.push(c),i(c));else if(!e.inited&&e.fetched&&r.isDefine&&(o=!0,!r.prefix))return d=!1}),t&&a.length?(r=makeError("timeout","Load timeout for modules: ",null,a),r.contextName=I.contextName,c(r)):void(d&&each(s,function(e){m(e,{},{})}),(!t||l)&&o&&(isBrowser||isWebWorker)&&!N&&(N=setTimeout(function(){N=0,u()},50)),E=!1)}function g(e){hasProp(S,e[0])||d(o(e[0],null,!0)).init(e[1],e[2])}function h(e,t,a,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(a,t,!1)}function v(e){var t=e.currentTarget||e.srcElement;return h(t,I.onScriptLoad,"load","onreadystatechange"),h(t,I.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function f(){var e;for(l();k.length;){if(e=k.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));g(e)}I.defQueueMap={}}var b={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},A={},x={},w={},k=[],S={},C={},M={},L=1,T=1,E,D,I,Y,N;return Y={require:function(e){return e.require?e.require:e.require=I.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?S[e.map.id]=e.exports:e.exports=S[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(b.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},D=function(e){this.events=getOwn(w,e.id)||{},this.map=e,this.shim=getOwn(b.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},D.prototype={init:function(e,t,a,i){i=i||{},this.inited||(this.factory=t,a?this.on("error",a):this.events.error&&(a=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=a,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,I.startTime=new Date().getTime();var e=this.map;return this.shim?void I.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;C[e]||(C[e]=!0,I.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e=this.map.id,t=this.depExports,a=this.exports,i=this.factory,n,s;if(!this.inited)hasProp(I.defQueueMap,e)||this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(isFunction(i)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{a=I.execCb(e,i,t,a)}catch(t){n=t}else a=I.execCb(e,i,t,a);if(this.map.isDefine&&void 0===a&&(s=this.module,s?a=s.exports:this.usingExports&&(a=this.exports)),n)return n.requireMap=this.map,n.requireModules=this.map.isDefine?[this.map.id]:null,n.requireType=this.map.isDefine?"define":"require",c(this.error=n)}else a=i;if(this.exports=a,this.map.isDefine&&!this.ignore&&(S[e]=a,req.onResourceLoad)){var o=[];each(this.depMaps,function(e){o.push(e.normalizedMap||e)}),req.onResourceLoad(I,this.map,o)}p(e),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var e=this.map,t=e.id,i=o(e.prefix);this.depMaps.push(i),r(i,"defined",bind(this,function(i){var n=getOwn(M,this.map.id),s=this.map.name,l=this.map.parentMap?this.map.parentMap.name:null,m=I.makeRequire(e.parentMap,{enableBuildCallback:!0}),u,g,h;return this.map.unnormalized?(i.normalize&&(s=i.normalize(s,function(e){return a(e,l,!0)})||""),g=o(e.prefix+"!"+s,this.map.parentMap,!0),r(g,"defined",bind(this,function(e){this.map.normalizedMap=g,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),h=getOwn(A,g.id),void(h&&(this.depMaps.push(g),this.events.error&&h.on("error",bind(this,function(e){this.emit("error",e)})),h.enable()))):n?(this.map.url=I.nameToUrl(n),void this.load()):void(u=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),u.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(A,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&p(e.map.id)}),c(e)}),u.fromText=bind(this,function(a,i){var n=e.name,s=o(n),r=useInteractive;i&&(a=i),r&&(useInteractive=!1),d(s),hasProp(b.config,t)&&(b.config[n]=b.config[t]);try{req.exec(a)}catch(a){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+a,a,[t]))}r&&(useInteractive=!0),this.depMaps.push(s),I.completeLoad(n),m([n],u)}),i.load(e.name,m,u,b))})),I.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){x[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var a,i,n;if("string"==typeof e){if(e=o(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,n=getOwn(Y,e.id),n)return void(this.depExports[t]=n(this));this.depCount+=1,r(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?r(e,"error",bind(this,this.errback)):this.events.error&&r(e,"error",bind(this,function(e){this.emit("error",e)}))}a=e.id,i=A[a],hasProp(Y,a)||!i||i.enabled||I.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(A,e.id);t&&!t.enabled&&I.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var a=this.events[e];a||(a=this.events[e]=[]),a.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},I={config:b,contextName:e,registry:A,defined:S,urlFetched:C,defQueue:k,defQueueMap:{},Module:D,makeModuleMap:o,nextTick:req.nextTick,onError:c,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,a){return(-1===a.indexOf("?")?"?":"&")+t}}var a=b.shim,i={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?(!b[t]&&(b[t]={}),mixin(b[t],e,!0,!0)):b[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(M[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),(e.exports||e.init)&&!e.exportsFn&&(e.exportsFn=I.makeShimExports(e)),a[t]=e}),b.shim=a),e.packages&&each(e.packages,function(e){var t,a;e="string"==typeof e?{name:e}:e,a=e.name,t=e.location,t&&(b.paths[a]=e.location),b.pkgs[a]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(A,function(e,t){e.inited||e.map.unnormalized||(e.map=o(t,null,!0))}),(e.deps||e.callback)&&I.require(e.deps||[],e.callback)},makeShimExports:function(e){return function(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}},makeRequire:function(t,n){function s(a,i,r){var l,p,m;return(n.enableBuildCallback&&i&&isFunction(i)&&(i.__requireJsBuild=!0),"string"==typeof a)?isFunction(i)?c(makeError("requireargs","Invalid require call"),r):t&&hasProp(Y,a)?Y[a](A[t.id]):req.get?req.get(I,a,t,s):(p=o(a,t,!1,!0),l=p.id,hasProp(S,l)?S[l]:c(makeError("notloaded","Module name \""+l+"\" has not been loaded yet for context: "+e+(t?"":". Use require([])")))):(f(),I.nextTick(function(){f(),m=d(o(null,t)),m.skipMap=n.skipMap,m.init(a,i,r,{enabled:!0}),u()}),s)}return n=n||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var i=e.lastIndexOf("."),n=e.split("/")[0],s;return-1!==i&&(!("."===n||".."===n)||1<i)&&(s=e.substring(i,e.length),e=e.substring(0,i)),I.nameToUrl(a(e,t&&t.id,!0),s,!0)},defined:function(e){return hasProp(S,o(e,t,!1,!0).id)},specified:function(e){return e=o(e,t,!1,!0).id,hasProp(S,e)||hasProp(A,e)}}),t||(s.undef=function(e){l();var a=o(e,t,!0),n=getOwn(A,e);n.undefed=!0,i(e),delete S[e],delete C[a.url],delete w[e],eachReverse(k,function(t,a){t[0]===e&&k.splice(a,1)}),delete I.defQueueMap[e],n&&(n.events.defined&&(w[e]=n.events),p(e))}),s},enable:function(e){var t=getOwn(A,e.id);t&&d(e).enable()},completeLoad:function(e){var t=getOwn(b.shim,e)||{},a=t.exports,i,s,o;for(l();k.length;){if(s=k.shift(),null===s[0]){if(s[0]=e,i)break;i=!0}else s[0]===e&&(i=!0);g(s)}if(I.defQueueMap={},o=getOwn(A,e),!i&&!hasProp(S,e)&&o&&!o.inited){if(b.enforceDefine&&(!a||!getGlobal(a)))return n(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));g([e,t.deps||[],t.exportsFn])}u()},nameToUrl:function(e,t,a){var n=getOwn(b.pkgs,e),s,o,d,r,c,l,p;if(n&&(e=n),p=getOwn(M,e),p)return I.nameToUrl(p,t,a);if(req.jsExtRegExp.test(e))c=e+(t||"");else{for(s=b.paths,o=e.split("/"),d=o.length;0<d;d-=1)if(r=o.slice(0,d).join("/"),l=getOwn(s,r),l){isArray(l)&&(l=l[0]),o.splice(0,d,l);break}c=o.join("/"),c+=t||(/^data\:|^blob\:|\?/.test(c)||a?"":".js"),c=("/"===c.charAt(0)||c.match(/^[\w\+\.\-]+:/)?"":b.baseUrl)+c}return b.urlArgs&&!/^blob\:/.test(c)?c+b.urlArgs(e,c):c},load:function(e,t){req.load(I,e,t)},execCb:function(e,t,a,i){return t.apply(i,a)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=v(e);I.completeLoad(t.id)}},onScriptError:function(e){var t=v(e);if(!n(t.id)){var a=[];return eachProp(A,function(e,i){0!==i.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===t.id)return a.push(i),!0})}),c(makeError("scripterror","Script error for \""+t.id+(a.length?"\", needed by: "+a.join(", "):"\""),e,[t.id]))}}},I.require=I.makeRequire(),I}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript)}var version="2.3.6",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!!("undefined"!=typeof window&&"undefined"!=typeof navigator&&window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1,req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,a,i){var n="_",s,o;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=a,a=i):e=[]),o&&o.context&&(n=o.context),s=getOwn(contexts,n),s||(s=contexts[n]=req.s.newContext(n)),o&&s.configure(o),s.require(e,t,a)},req.config=function(e){return req(e)},req.nextTick="undefined"==typeof setTimeout?function(e){e()}:function(e){setTimeout(e,4)},require||(require=req),req.version="2.3.6",req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts._;return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(t,a,i){var n=t&&t.config||{},s;if(isBrowser)return s=req.createNode(n,a,i),s.setAttribute("data-requirecontext",t.contextName),s.setAttribute("data-requiremodule",a),!s.attachEvent||s.attachEvent.toString&&0>s.attachEvent.toString().indexOf("[native code")||isOpera?(s.addEventListener("load",t.onScriptLoad,!1),s.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,s.attachEvent("onreadystatechange",t.onScriptLoad)),s.src=i,n.onNodeCreated&&n.onNodeCreated(s,n,a,i),currentlyAddingScript=s,baseElement?head.insertBefore(s,baseElement):head.appendChild(s),currentlyAddingScript=null,s;if(isWebWorker)try{setTimeout(function(){},0),importScripts(i),t.completeLoad(a)}catch(n){t.onError(makeError("importscripts","importScripts failed for "+a+" at "+i,n,[a]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain)return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,a){var i,n;"string"!=typeof e&&(a=t,t=e,e=null),isArray(t)||(a=t,t=null),!t&&isFunction(a)&&(t=[],a.length&&(a.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,a){t.push(a)}),t=(1===a.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript(),i&&(!e&&(e=i.getAttribute("data-requiremodule")),n=contexts[i.getAttribute("data-requirecontext")])),n?(n.defQueue.push([e,t,a]),n.defQueueMap[e]=!0):globalDefQueue.push([e,t,a])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}})(this,"undefined"==typeof setTimeout?void 0:setTimeout),define("node_modules/requirejs/require.js",function(){}),function(){var e=Math.floor,t=Math.min,a=Math.max;function i(e){function t(t,a,i,n,s,o){for(;0<=s&&s<o;s+=e){var d=n?n[s]:s;i=a(i,t[d],d,t)}return i}return function(a,i,n,s){i=k(i,s,4);var o=!D(a)&&w.keys(a),d=(o||a).length,r=0<e?0:d-1;return 3>arguments.length&&(n=a[o?o[r]:r],r+=e),t(a,i,n,o,r,d)}}function n(e){return function(t,a,i){a=S(a,i);for(var n=E(t),s=0<e?0:n-1;0<=s&&s<n;s+=e)if(a(t[s],s,t))return s;return-1}}function s(e,n,s){return function(o,d,r){var c=0,l=E(o);if("number"==typeof r)0<e?c=0<=r?r:a(r+l,c):l=0<=r?t(r+1,l):r+l+1;else if(s&&r&&l)return r=s(o,d),o[r]===d?r:-1;if(d!==d)return r=n(u.call(o,c,l),w.isNaN),0<=r?r+c:-1;for(r=0<e?c:l-1;0<=r&&r<l;r+=e)if(o[r]===d)return r;return-1}}function o(e,t){var a=R.length,i=e.constructor,n=w.isFunction(i)&&i.prototype||l,s="constructor";for(w.has(e,s)&&!w.contains(t,s)&&t.push(s);a--;)s=R[a],s in e&&e[s]!==n[s]&&!w.contains(t,s)&&t.push(s)}var d=this,r=d._,c=Array.prototype,l=Object.prototype,p=Function.prototype,m=c.push,u=c.slice,g=l.toString,h=l.hasOwnProperty,v=Array.isArray,f=Object.keys,b=p.bind,A=Object.create,x=function(){},w=function(e){return e instanceof w?e:this instanceof w?void(this._wrapped=e):new w(e)};"undefined"==typeof exports?d._=w:("undefined"!=typeof module&&module.exports&&(exports=module.exports=w),exports._=w),w.VERSION="1.8.3";var k=function(e,t,a){if(void 0===t)return e;switch(null==a?3:a){case 1:return function(a){return e.call(t,a)};case 2:return function(a,i){return e.call(t,a,i)};case 3:return function(a,i,n){return e.call(t,a,i,n)};case 4:return function(a,i,n,s){return e.call(t,a,i,n,s)};}return function(){return e.apply(t,arguments)}},S=function(e,t,a){return null==e?w.identity:w.isFunction(e)?k(e,t,a):w.isObject(e)?w.matcher(e):w.property(e)};w.iteratee=function(e,t){return S(e,t,1/0)};var C=function(e,t){return function(a){var n=arguments.length;if(2>n||null==a)return a;for(var s=1;s<n;s++)for(var o=arguments[s],d=e(o),r=d.length,c=0,l;c<r;c++)l=d[c],t&&void 0!==a[l]||(a[l]=o[l]);return a}},M=function(e){if(!w.isObject(e))return{};if(A)return A(e);x.prototype=e;var t=new x;return x.prototype=null,t},L=function(e){return function(t){return null==t?void 0:t[e]}},T=Math.pow(2,53)-1,E=L("length"),D=function(e){var t=E(e);return"number"==typeof t&&0<=t&&t<=T};w.each=w.forEach=function(e,t,a){t=k(t,a);var n,s;if(D(e))for(n=0,s=e.length;n<s;n++)t(e[n],n,e);else{var o=w.keys(e);for(n=0,s=o.length;n<s;n++)t(e[o[n]],o[n],e)}return e},w.map=w.collect=function(e,t,a){t=S(t,a);for(var i=!D(e)&&w.keys(e),n=(i||e).length,s=Array(n),o=0,d;o<n;o++)d=i?i[o]:o,s[o]=t(e[d],d,e);return s},w.reduce=w.foldl=w.inject=i(1),w.reduceRight=w.foldr=i(-1),w.find=w.detect=function(e,t,a){var i;if(i=D(e)?w.findIndex(e,t,a):w.findKey(e,t,a),void 0!==i&&-1!==i)return e[i]},w.filter=w.select=function(e,t,a){var i=[];return t=S(t,a),w.each(e,function(e,a,n){t(e,a,n)&&i.push(e)}),i},w.reject=function(e,t,a){return w.filter(e,w.negate(S(t)),a)},w.every=w.all=function(e,t,a){t=S(t,a);for(var i=!D(e)&&w.keys(e),n=(i||e).length,s=0,o;s<n;s++)if(o=i?i[s]:s,!t(e[o],o,e))return!1;return!0},w.some=w.any=function(e,t,a){t=S(t,a);for(var i=!D(e)&&w.keys(e),n=(i||e).length,s=0,o;s<n;s++)if(o=i?i[s]:s,t(e[o],o,e))return!0;return!1},w.contains=w.includes=w.include=function(e,t,a,i){return D(e)||(e=w.values(e)),("number"!=typeof a||i)&&(a=0),0<=w.indexOf(e,t,a)},w.invoke=function(e,t){var a=u.call(arguments,2),i=w.isFunction(t);return w.map(e,function(e){var n=i?t:e[t];return null==n?n:n.apply(e,a)})},w.pluck=function(e,t){return w.map(e,w.property(t))},w.where=function(e,t){return w.filter(e,w.matcher(t))},w.findWhere=function(e,t){return w.find(e,w.matcher(t))},w.max=function(e,t,a){var n=-Infinity,s=-Infinity,o,d;if(null==t&&null!=e){e=D(e)?e:w.values(e);for(var r=0,c=e.length;r<c;r++)o=e[r],o>n&&(n=o)}else t=S(t,a),w.each(e,function(e,a,i){d=t(e,a,i),(d>s||d===-Infinity&&n===-Infinity)&&(n=e,s=d)});return n},w.min=function(e,t,a){var n=1/0,s=1/0,o,d;if(null==t&&null!=e){e=D(e)?e:w.values(e);for(var r=0,c=e.length;r<c;r++)o=e[r],o<n&&(n=o)}else t=S(t,a),w.each(e,function(e,a,i){d=t(e,a,i),(d<s||d===1/0&&n===1/0)&&(n=e,s=d)});return n},w.shuffle=function(e){for(var t=D(e)?e:w.values(e),a=t.length,i=Array(a),n=0,s;n<a;n++)s=w.random(0,n),s!==n&&(i[n]=i[s]),i[s]=t[n];return i},w.sample=function(e,t,i){return null==t||i?(D(e)||(e=w.values(e)),e[w.random(e.length-1)]):w.shuffle(e).slice(0,a(0,t))},w.sortBy=function(e,t,a){return t=S(t,a),w.pluck(w.map(e,function(e,a,i){return{value:e,index:a,criteria:t(e,a,i)}}).sort(function(e,t){var i=e.criteria,a=t.criteria;if(i!==a){if(i>a||void 0===i)return 1;if(i<a||void 0===a)return-1}return e.index-t.index}),"value")};var I=function(e){return function(t,a,i){var n={};return a=S(a,i),w.each(t,function(i,s){var o=a(i,s,t);e(n,i,o)}),n}};w.groupBy=I(function(e,t,a){w.has(e,a)?e[a].push(t):e[a]=[t]}),w.indexBy=I(function(e,t,a){e[a]=t}),w.countBy=I(function(e,t,a){w.has(e,a)?e[a]++:e[a]=1}),w.toArray=function(e){return e?w.isArray(e)?u.call(e):D(e)?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:D(e)?e.length:w.keys(e).length},w.partition=function(e,t,a){t=S(t,a);var i=[],n=[];return w.each(e,function(e,a,s){(t(e,a,s)?i:n).push(e)}),[i,n]},w.first=w.head=w.take=function(e,t,a){return null==e?void 0:null==t||a?e[0]:w.initial(e,e.length-t)},w.initial=function(e,t,i){return u.call(e,0,a(0,e.length-(null==t||i?1:t)))},w.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:w.rest(e,a(0,e.length-t))},w.rest=w.tail=w.drop=function(e,t,a){return u.call(e,null==t||a?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var Y=function(e,t,a,n){for(var s=[],o=0,d=n||0,r=E(e),c;d<r;d++)if(c=e[d],D(c)&&(w.isArray(c)||w.isArguments(c))){t||(c=Y(c,t,a));var l=0,p=c.length;for(s.length+=p;l<p;)s[o++]=c[l++]}else a||(s[o++]=c);return s};w.flatten=function(e,t){return Y(e,t,!1)},w.without=function(e){return w.difference(e,u.call(arguments,1))},w.uniq=w.unique=function(e,t,a,n){w.isBoolean(t)||(n=a,a=t,t=!1),null!=a&&(a=S(a,n));for(var s=[],o=[],d=0,r=E(e);d<r;d++){var c=e[d],l=a?a(c,d,e):c;t?((!d||o!==l)&&s.push(c),o=l):a?!w.contains(o,l)&&(o.push(l),s.push(c)):!w.contains(s,c)&&s.push(c)}return s},w.union=function(){return w.uniq(Y(arguments,!0,!0))},w.intersection=function(e){for(var t=[],a=arguments.length,n=0,s=E(e),o;n<s;n++)if(o=e[n],!w.contains(t,o)){for(var d=1;d<a&&!!w.contains(arguments[d],o);d++);d===a&&t.push(o)}return t},w.difference=function(e){var t=Y(arguments,!0,!0,1);return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(e){for(var t=e&&w.max(e,E).length||0,a=Array(t),i=0;i<t;i++)a[i]=w.pluck(e,i);return a},w.object=function(e,t){for(var a={},n=0,s=E(e);n<s;n++)t?a[e[n]]=t[n]:a[e[n][0]]=e[n][1];return a},w.findIndex=n(1),w.findLastIndex=n(-1),w.sortedIndex=function(t,a,i,n){i=S(i,n,1);for(var s=i(a),o=0,d=E(t);o<d;){var r=e((o+d)/2);i(t[r])<s?o=r+1:d=r}return o},w.indexOf=s(1,w.findIndex,w.sortedIndex),w.lastIndexOf=s(-1,w.findLastIndex),w.range=function(e,t,i){null==t&&(t=e||0,e=0),i=i||1;for(var n=a(Math.ceil((t-e)/i),0),s=Array(n),o=0;o<n;o++,e+=i)s[o]=e;return s};var N=function(e,t,a,i,n){if(!(i instanceof t))return e.apply(a,n);var s=M(e.prototype),o=e.apply(s,n);return w.isObject(o)?o:s};w.bind=function(e,t){if(b&&e.bind===b)return b.apply(e,u.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var a=u.call(arguments,2),i=function(){return N(e,i,t,this,a.concat(u.call(arguments)))};return i},w.partial=function(e){var t=u.call(arguments,1),a=function(){for(var n=0,s=t.length,o=Array(s),d=0;d<s;d++)o[d]=t[d]===w?arguments[n++]:t[d];for(;n<arguments.length;)o.push(arguments[n++]);return N(e,a,this,this,o)};return a},w.bindAll=function(e){var t=arguments.length,a,n;if(1>=t)throw new Error("bindAll must be passed function names");for(a=1;a<t;a++)n=arguments[a],e[n]=w.bind(e[n],e);return e},w.memoize=function(e,t){var a=function(i){var n=a.cache,s=""+(t?t.apply(this,arguments):i);return w.has(n,s)||(n[s]=e.apply(this,arguments)),n[s]};return a.cache={},a},w.delay=function(e,t){var a=u.call(arguments,2);return setTimeout(function(){return e.apply(null,a)},t)},w.defer=w.partial(w.delay,w,1),w.throttle=function(e,t,a){var i=null,n=0,s,o,d;a||(a={});var r=function(){n=!1===a.leading?0:w.now(),i=null,d=e.apply(s,o),i||(s=o=null)};return function(){var c=w.now();n||!1!==a.leading||(n=c);var l=t-(c-n);return s=this,o=arguments,0>=l||l>t?(i&&(clearTimeout(i),i=null),n=c,d=e.apply(s,o),!i&&(s=o=null)):!i&&!1!==a.trailing&&(i=setTimeout(r,l)),d}},w.debounce=function(e,t,a){var i=function(){var c=w.now()-d;c<t&&0<=c?n=setTimeout(i,t-c):(n=null,!a&&(r=e.apply(o,s),!n&&(o=s=null)))},n,s,o,d,r;return function(){o=this,s=arguments,d=w.now();var c=a&&!n;return n||(n=setTimeout(i,t)),c&&(r=e.apply(o,s),o=s=null),r}},w.wrap=function(e,t){return w.partial(t,e)},w.negate=function(e){return function(){return!e.apply(this,arguments)}},w.compose=function(){var e=arguments,t=e.length-1;return function(){for(var a=t,n=e[t].apply(this,arguments);a--;)n=e[a].call(this,n);return n}},w.after=function(e,t){return function(){if(1>--e)return t.apply(this,arguments)}},w.before=function(e,t){var a;return function(){return 0<--e&&(a=t.apply(this,arguments)),1>=e&&(t=null),a}},w.once=w.partial(w.before,2);var j=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(e){if(!w.isObject(e))return[];if(f)return f(e);var t=[];for(var a in e)w.has(e,a)&&t.push(a);return j&&o(e,t),t},w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var a in e)t.push(a);return j&&o(e,t),t},w.values=function(e){for(var t=w.keys(e),a=t.length,n=Array(a),s=0;s<a;s++)n[s]=e[t[s]];return n},w.mapObject=function(e,t,a){t=S(t,a);for(var i=w.keys(e),n=i.length,s={},o=0,d;o<n;o++)d=i[o],s[d]=t(e[d],d,e);return s},w.pairs=function(e){for(var t=w.keys(e),a=t.length,n=Array(a),s=0;s<a;s++)n[s]=[t[s],e[t[s]]];return n},w.invert=function(e){for(var t={},a=w.keys(e),n=0,s=a.length;n<s;n++)t[e[a[n]]]=a[n];return t},w.functions=w.methods=function(e){var t=[];for(var a in e)w.isFunction(e[a])&&t.push(a);return t.sort()},w.extend=C(w.allKeys),w.extendOwn=w.assign=C(w.keys),w.findKey=function(e,t,a){t=S(t,a);for(var n=w.keys(e),s=0,o=n.length,d;s<o;s++)if(d=n[s],t(e[d],d,e))return d},w.pick=function(e,t,a){var n={},s=e,o,d;if(null==s)return n;w.isFunction(t)?(d=w.allKeys(s),o=k(t,a)):(d=Y(arguments,!1,!1,1),o=function(e,t,a){return t in a},s=Object(s));for(var r=0,c=d.length;r<c;r++){var l=d[r],p=s[l];o(p,l,s)&&(n[l]=p)}return n},w.omit=function(e,t,a){if(w.isFunction(t))t=w.negate(t);else{var i=w.map(Y(arguments,!1,!1,1),String);t=function(e,t){return!w.contains(i,t)}}return w.pick(e,t,a)},w.defaults=C(w.allKeys,!0),w.create=function(e,t){var a=M(e);return t&&w.extendOwn(a,t),a},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,t){return t(e),e},w.isMatch=function(e,t){var a=w.keys(t),n=a.length;if(null==e)return!n;for(var s=Object(e),o=0,d;o<n;o++)if(d=a[o],t[d]!==s[d]||!(d in s))return!1;return!0};var O=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof w&&(e=e._wrapped),t instanceof w&&(t=t._wrapped);var s=g.call(e);if(s!==g.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e==+e?0==+e?1/+e==1/t:+e==+t:+t!=+t;case"[object Date]":case"[object Boolean]":return+e==+t;}var o="[object Array]"===s;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var d=e.constructor,r=t.constructor;if(d!==r&&!(w.isFunction(d)&&d instanceof d&&w.isFunction(r)&&r instanceof r)&&"constructor"in e&&"constructor"in t)return!1}i=i||[],n=n||[];for(var c=i.length;c--;)if(i[c]===e)return n[c]===t;if(i.push(e),n.push(t),o){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!O(e[c],t[c],i,n))return!1}else{var l=w.keys(e),p;if(c=l.length,w.keys(t).length!==c)return!1;for(;c--;)if(p=l[c],!(w.has(t,p)&&O(e[p],t[p],i,n)))return!1}return i.pop(),n.pop(),!0};w.isEqual=function(e,t){return O(e,t)},w.isEmpty=function(e){return!(null!=e)||(D(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e))?0===e.length:0===w.keys(e).length)},w.isElement=function(e){return!!(e&&1===e.nodeType)},w.isArray=v||function(e){return"[object Array]"===g.call(e)},w.isObject=function(e){var t=typeof e;return"function"==t||"object"===t&&!!e},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return g.call(t)==="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return w.has(e,"callee")}),"function"!=typeof /./&&"object"!=typeof Int8Array&&(w.isFunction=function(e){return"function"==typeof e||!1}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!==+e},w.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===g.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return null!=e&&h.call(e,t)},w.noConflict=function(){return d._=r,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.noop=function(){},w.property=L,w.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},w.matcher=w.matches=function(e){return e=w.extendOwn({},e),function(t){return w.isMatch(t,e)}},w.times=function(e,t,n){var s=Array(a(0,e));t=k(t,n,1);for(var o=0;o<e;o++)s[o]=t(o);return s},w.random=function(t,a){return null==a&&(a=t,t=0),t+e(Math.random()*(a-t+1))},w.now=Date.now||function(){return new Date().getTime()};var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=w.invert(P),B=function(e){var t=function(t){return e[t]},a="(?:"+w.keys(e).join("|")+")",i=RegExp(a),n=RegExp(a,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(n,t):e}};w.escape=B(P),w.unescape=B(H),w.result=function(e,t,a){var i=null==e?void 0:e[t];return void 0===i&&(i=a),w.isFunction(i)?i.call(e):i};var F=0;w.uniqueId=function(e){var t=++F+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=function(e){return"\\"+U[e]};w.template=function(e,t,a){!t&&a&&(t=a),t=w.defaults({},t,w.templateSettings);var i=RegExp([(t.escape||V).source,(t.interpolate||V).source,(t.evaluate||V).source].join("|")+"|$","g"),n=0,s="__p+='";e.replace(i,function(t,a,i,o,d){return s+=e.slice(n,d).replace(/\\|'|\r|\n|\u2028|\u2029/g,q),n=d+t.length,a?s+="'+\n((__t=("+a+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(t.variable||"obj","_",s)}catch(t){throw t.source=s,t}var d=function(e){return o.call(this,e,w)},r=t.variable||"obj";return d.source="function("+r+"){\n"+s+"}",d},w.chain=function(e){var t=w(e);return t._chain=!0,t};var z=function(e,t){return e._chain?w(t).chain():t};w.mixin=function(e){w.each(w.functions(e),function(t){var a=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return m.apply(e,arguments),z(this,a.apply(w,e))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=c[e];w.prototype[e]=function(){var a=this._wrapped;return t.apply(a,arguments),("shift"===e||"splice"===e)&&0===a.length&&delete a[0],z(this,a)}}),w.each(["concat","join","slice"],function(e){var t=c[e];w.prototype[e]=function(){return z(this,t.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return w})}.call(this),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"==typeof window?this:window,function(e,t){var a=Math.cos,i=Math.PI,n=String.fromCharCode,s=Math.max;function o(e,t){t=t||oe;var a=t.createElement("script");a.text=e,t.head.appendChild(a).parentNode.removeChild(a)}function d(e){var t=!!e&&"length"in e&&e.length,a=be.type(e);return!("function"===a||be.isWindow(e))&&("array"===a||0===t||"number"==typeof t&&0<t&&t-1 in e)}function r(e,t,a){if(be.isFunction(t))return be.grep(e,function(e,n){return!!t.call(e,n,e)!==a});if(t.nodeType)return be.grep(e,function(e){return e===t!==a});if("string"==typeof t){if(Ce.test(t))return be.filter(t,e,a);t=be.filter(t,e)}return be.grep(e,function(e){return-1<pe.call(t,e)!==a&&1===e.nodeType})}function c(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var t={};return be.each(e.match(Ee)||[],function(e,a){t[a]=!0}),t}function p(e){return e}function m(e){throw e}function u(e,t,a){var i;try{e&&be.isFunction(i=e.promise)?i.call(e).done(t).fail(a):e&&be.isFunction(i=e.then)?i.call(e,t,a):t.call(void 0,e)}catch(e){a.call(void 0,e)}}function g(){oe.removeEventListener("DOMContentLoaded",g),e.removeEventListener("load",g),be.ready()}function h(){this.expando=be.expando+h.uid++}function v(e,t,a){var i;if(void 0===a&&1===e.nodeType)if(i="data-"+t.replace(Re,"-$&").toLowerCase(),a=e.getAttribute(i),"string"==typeof a){try{a="true"===a||"false"!==a&&("null"===a?null:+a+""===a?+a:$e.test(a)?JSON.parse(a):a)}catch(t){}je.set(e,t,a)}else a=void 0;return a}function f(e,t,a,i){var n=1,s=20,o=i?function(){return i.cur()}:function(){return be.css(e,t,"")},d=o(),r=a&&a[3]||(be.cssNumber[t]?"":"px"),c=(be.cssNumber[t]||"px"!==r&&+d)&&Pe.exec(be.css(e,t)),l;if(c&&c[3]!==r){r=r||c[3],a=a||[],c=+d||1;do n=n||".5",c/=n,be.style(e,t,c+r);while(n!==(n=o()/d)&&1!==n&&--s)}return a&&(c=+c||+d||0,l=a[1]?c+(a[1]+1)*a[2]:+a[2],i&&(i.unit=r,i.start=c,i.end=l)),l}function b(e){var t=e.ownerDocument,a=e.nodeName,i=Ve[a],n;return i?i:(n=t.body.appendChild(t.createElement(a)),i=be.css(n,"display"),n.parentNode.removeChild(n),"none"===i&&(i="block"),Ve[a]=i,i)}function A(e,t){for(var a=[],i=0,n=e.length,s,o;i<n;i++)(o=e[i],!!o.style)&&(s=o.style.display,t?("none"===s&&(a[i]=Ne.get(o,"display")||null,!a[i]&&(o.style.display="")),""===o.style.display&&Be(o)&&(a[i]=b(o))):"none"!==s&&(a[i]="none",Ne.set(o,"display",s)));for(i=0;i<n;i++)null!=a[i]&&(e[i].style.display=a[i]);return e}function x(e,t){var a="undefined"==typeof e.getElementsByTagName?"undefined"==typeof e.querySelectorAll?[]:e.querySelectorAll(t||"*"):e.getElementsByTagName(t||"*");return void 0===t||t&&be.nodeName(e,t)?be.merge([e],a):a}function w(e,t){for(var a=0,n=e.length;a<n;a++)Ne.set(e[a],"globalEval",!t||Ne.get(t[a],"globalEval"))}function k(e,t,a,n,s){for(var o=t.createDocumentFragment(),d=[],r=0,c=e.length,l,p,m,u,g,h;r<c;r++)if(l=e[r],l||0===l)if("object"===be.type(l))be.merge(d,l.nodeType?[l]:l);else if(!Ge.test(l))d.push(t.createTextNode(l));else{for(p=p||o.appendChild(t.createElement("div")),m=(qe.exec(l)||["",""])[1].toLowerCase(),u=We[m]||We._default,p.innerHTML=u[1]+be.htmlPrefilter(l)+u[2],h=u[0];h--;)p=p.lastChild;be.merge(d,p.childNodes),p=o.firstChild,p.textContent=""}for(o.textContent="",r=0;l=d[r++];){if(n&&-1<be.inArray(l,n)){s&&s.push(l);continue}if(g=be.contains(l.ownerDocument,l),p=x(o.appendChild(l),"script"),g&&w(p),a)for(h=0;l=p[h++];)ze.test(l.type||"")&&a.push(l)}return o}function S(){return!0}function C(){return!1}function M(){try{return oe.activeElement}catch(e){}}function L(e,t,a,i,n,s){var o,d;if("object"==typeof t){for(d in"string"!=typeof a&&(i=i||a,a=void 0),t)L(e,d,a,i,t[d],s);return e}if(null==i&&null==n?(n=a,i=a=void 0):null==n&&("string"==typeof a?(n=i,i=void 0):(n=i,i=a,a=void 0)),!1===n)n=C;else if(!n)return e;return 1===s&&(o=n,n=function(e){return be().off(e),o.apply(this,arguments)},n.guid=o.guid||(o.guid=be.guid++)),e.each(function(){be.event.add(this,t,n,i,a)})}function T(e,t){return be.nodeName(e,"table")&&be.nodeName(11===t.nodeType?t.firstChild:t,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function E(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function D(e){var t=Xe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function I(e,t){var a,n,s,o,d,r,c,p;if(1===t.nodeType){if(Ne.hasData(e)&&(o=Ne.access(e),d=Ne.set(t,o),p=o.events,p))for(s in delete d.handle,d.events={},p)for(a=0,n=p[s].length;a<n;a++)be.event.add(t,s,p[s][a]);je.hasData(e)&&(r=je.access(e),c=be.extend({},r),je.set(t,c))}}function Y(e,t){var a=t.nodeName.toLowerCase();"input"===a&&Ue.test(e.type)?t.checked=e.checked:("input"===a||"textarea"===a)&&(t.defaultValue=e.defaultValue)}function N(e,t,a,n){t=ce.apply([],t);var s=0,d=e.length,r=t[0],c=be.isFunction(r),l,p,m,u,g,h;if(c||1<d&&"string"==typeof r&&!ve.checkClone&&Ke.test(r))return e.each(function(i){var s=e.eq(i);c&&(t[0]=r.call(this,i,s.html())),N(s,t,a,n)});if(d&&(l=k(t,e[0].ownerDocument,!1,e,n),p=l.firstChild,1===l.childNodes.length&&(l=p),p||n)){for(m=be.map(x(l,"script"),E),u=m.length;s<d;s++)g=l,s!==d-1&&(g=be.clone(g,!0,!0),u&&be.merge(m,x(g,"script"))),a.call(e[s],g,s);if(u)for(h=m[m.length-1].ownerDocument,be.map(m,D),s=0;s<u;s++)g=m[s],ze.test(g.type||"")&&!Ne.access(g,"globalEval")&&be.contains(h,g)&&(g.src?be._evalUrl&&be._evalUrl(g.src):o(g.textContent.replace(Ze,""),h))}return e}function j(e,t,a){for(var n=t?be.filter(t,e):e,s=0,o;null!=(o=n[s]);s++)a||1!==o.nodeType||be.cleanData(x(o)),o.parentNode&&(a&&be.contains(o.ownerDocument,o)&&w(x(o,"script")),o.parentNode.removeChild(o));return e}function R(e,t,a){var i=e.style,n,s,o,d;return a=a||at(e),a&&(d=a.getPropertyValue(t)||a[t],""===d&&!be.contains(e.ownerDocument,e)&&(d=be.style(e,t)),!ve.pixelMarginRight()&&tt.test(d)&&et.test(t)&&(n=i.width,s=i.minWidth,o=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=a.width,i.width=n,i.minWidth=s,i.maxWidth=o)),void 0===d?d:d+""}function O(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function P(e){if(e in ot)return e;for(var t=e[0].toUpperCase()+e.slice(1),a=st.length;a--;)if(e=st[a]+t,e in ot)return e}function H(e,t,a){var i=Pe.exec(t);return i?s(0,i[2]-(a||0))+(i[3]||"px"):t}function B(e,t,a,n,s){for(var o=a===(n?"border":"content")?4:"width"===t?1:0,d=0;4>o;o+=2)"margin"===a&&(d+=be.css(e,a+He[o],!0,s)),n?("content"===a&&(d-=be.css(e,"padding"+He[o],!0,s)),"margin"!==a&&(d-=be.css(e,"border"+He[o]+"Width",!0,s))):(d+=be.css(e,"padding"+He[o],!0,s),"padding"!==a&&(d+=be.css(e,"border"+He[o]+"Width",!0,s)));return d}function F(e,t,a){var i=!0,n=at(e),s="border-box"===be.css(e,"boxSizing",!1,n),o;if(e.getClientRects().length&&(o=e.getBoundingClientRect()[t]),0>=o||null==o){if(o=R(e,t,n),(0>o||null==o)&&(o=e.style[t]),tt.test(o))return o;i=s&&(ve.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+B(e,t,a||(s?"border":"content"),i,n)+"px"}function V(e,t,a,i,n){return new V.prototype.init(e,t,a,i,n)}function U(){ct&&(e.requestAnimationFrame(U),be.fx.tick())}function q(){return e.setTimeout(function(){rt=void 0}),rt=be.now()}function z(e,t){var a=0,n={height:e},s;for(t=t?1:0;4>a;a+=2-t)s=He[a],n["margin"+s]=n["padding"+s]=e;return t&&(n.opacity=n.width=e),n}function W(e,t,a){for(var i=(J.tweeners[t]||[]).concat(J.tweeners["*"]),n=0,s=i.length,o;n<s;n++)if(o=i[n].call(a,t,e))return o}function G(e,t,a){var i="width"in t||"height"in t,n=this,s={},o=e.style,d=e.nodeType&&Be(e),r=Ne.get(e,"fxshow"),c,l,p,m,u,g,h,v;for(c in a.queue||(m=be._queueHooks(e,"fx"),null==m.unqueued&&(m.unqueued=0,u=m.empty.fire,m.empty.fire=function(){m.unqueued||u()}),m.unqueued++,n.always(function(){n.always(function(){m.unqueued--,be.queue(e,"fx").length||m.empty.fire()})})),t)if(l=t[c],dt.test(l)){if(delete t[c],p=p||"toggle"===l,l===(d?"hide":"show"))if("show"===l&&r&&void 0!==r[c])d=!0;else continue;s[c]=r&&r[c]||be.style(e,c)}if(g=!be.isEmptyObject(t),g||!be.isEmptyObject(s))for(c in i&&1===e.nodeType&&(a.overflow=[o.overflow,o.overflowX,o.overflowY],h=r&&r.display,null==h&&(h=Ne.get(e,"display")),v=be.css(e,"display"),"none"===v&&(h?v=h:(A([e],!0),h=e.style.display||h,v=be.css(e,"display"),A([e]))),("inline"===v||"inline-block"===v&&null!=h)&&"none"===be.css(e,"float")&&(!g&&(n.done(function(){o.display=h}),null==h&&(v=o.display,h="none"===v?"":v)),o.display="inline-block")),a.overflow&&(o.overflow="hidden",n.always(function(){o.overflow=a.overflow[0],o.overflowX=a.overflow[1],o.overflowY=a.overflow[2]})),g=!1,s)g||(r?"hidden"in r&&(d=r.hidden):r=Ne.access(e,"fxshow",{display:h}),p&&(r.hidden=!d),d&&A([e],!0),n.done(function(){for(c in d||A([e]),Ne.remove(e,"fxshow"),s)be.style(e,c,s[c])})),g=W(d?r[c]:0,c,n),c in r||(r[c]=g.start,d&&(g.end=g.start,g.start=0))}function Q(e,t){var a,i,n,s,o;for(a in e)if(i=be.camelCase(a),n=t[i],s=e[a],be.isArray(s)&&(n=s[1],s=e[a]=s[0]),a!==i&&(e[i]=s,delete e[a]),o=be.cssHooks[i],o&&"expand"in o)for(a in s=o.expand(s),delete e[i],s)a in e||(e[a]=s[a],t[a]=n);else t[i]=n}function J(e,t,a){var i=0,n=J.prefilters.length,o=be.Deferred().always(function(){delete d.elem}),d=function(){if(p)return!1;for(var t=rt||q(),a=s(0,r.startTime+r.duration-t),i=a/r.duration||0,n=1-i,d=0,c=r.tweens.length;d<c;d++)r.tweens[d].run(n);return o.notifyWith(e,[r,n,a]),1>n&&c?a:(o.resolveWith(e,[r]),!1)},r=o.promise({elem:e,props:be.extend({},t),opts:be.extend(!0,{specialEasing:{},easing:be.easing._default},a),originalProperties:t,originalOptions:a,startTime:rt||q(),duration:a.duration,tweens:[],createTween:function(t,a){var i=be.Tween(e,r.opts,t,a,r.opts.specialEasing[t]||r.opts.easing);return r.tweens.push(i),i},stop:function(t){var a=0,i=t?r.tweens.length:0;if(p)return this;for(p=!0;a<i;a++)r.tweens[a].run(1);return t?(o.notifyWith(e,[r,1,0]),o.resolveWith(e,[r,t])):o.rejectWith(e,[r,t]),this}}),c=r.props,l,p;for(Q(c,r.opts.specialEasing);i<n;i++)if(l=J.prefilters[i].call(r,e,c,r.opts),l)return be.isFunction(l.stop)&&(be._queueHooks(r.elem,r.opts.queue).stop=be.proxy(l.stop,l)),l;return be.map(c,W,r),be.isFunction(r.opts.start)&&r.opts.start.call(e,r),be.fx.timer(be.extend(d,{elem:e,anim:r,queue:r.opts.queue})),r.progress(r.opts.progress).done(r.opts.done,r.opts.complete).fail(r.opts.fail).always(r.opts.always)}function K(e){return e.getAttribute&&e.getAttribute("class")||""}function X(e,t,a,n){if(be.isArray(t))be.each(t,function(t,i){a||vt.test(e)?n(e,i):X(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,a,n)});else if(!a&&"object"===be.type(t))for(var s in t)X(e+"["+s+"]",t[s],a,n);else n(e,t)}function Z(e){return function(t,a){"string"!=typeof t&&(a=t,t="*");var n=0,s=t.toLowerCase().match(Ee)||[],o;if(be.isFunction(a))for(;o=s[n++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(a)):(e[o]=e[o]||[]).push(a)}}function ee(e,t,a,i){function n(d){var r;return s[d]=!0,be.each(e[d]||[],function(e,d){var c=d(t,a,i);return"string"!=typeof c||o||s[c]?o?!(r=c):void 0:(t.dataTypes.unshift(c),n(c),!1)}),r}var s={},o=e===yt;return n(t.dataTypes[0])||!s["*"]&&n("*")}function te(e,t){var a=be.ajaxSettings.flatOptions||{},i,n;for(i in t)void 0!==t[i]&&((a[i]?e:n||(n={}))[i]=t[i]);return n&&be.extend(!0,e,n),e}function ae(e,t,a){for(var i=e.contents,n=e.dataTypes,s,o,d,r;"*"===n[0];)n.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("Content-Type"));if(s)for(o in i)if(i[o]&&i[o].test(s)){n.unshift(o);break}if(n[0]in a)d=n[0];else{for(o in a){if(!n[0]||e.converters[o+" "+n[0]]){d=o;break}r||(r=o)}d=d||r}return d?(d!==n[0]&&n.unshift(d),a[d]):void 0}function ie(e,t,a,i){var n={},s=e.dataTypes.slice(),o,d,r,c,l;if(s[1])for(r in e.converters)n[r.toLowerCase()]=e.converters[r];for(d=s.shift();d;)if(e.responseFields[d]&&(a[e.responseFields[d]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=d,d=s.shift(),d)if("*"===d)d=l;else if("*"!==l&&l!==d){if(r=n[l+" "+d]||n["* "+d],!r)for(o in n)if(c=o.split(" "),c[1]===d&&(r=n[l+" "+c[0]]||n["* "+c[0]],r)){!0===r?r=n[o]:!0!==n[o]&&(d=c[0],s.unshift(c[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(t){return{state:"parsererror",error:r?t:"No conversion from "+l+" to "+d}}}return{state:"success",data:t}}function ne(e){return be.isWindow(e)?e:9===e.nodeType&&e.defaultView}var se=[],oe=e.document,de=Object.getPrototypeOf,re=se.slice,ce=se.concat,le=se.push,pe=se.indexOf,me={},ue=me.toString,ge=me.hasOwnProperty,he=ge.toString,_e=he.call(Object),ve={},fe="3.0.0",be=function(e,t){return new be.fn.init(e,t)},ye=function(e,t){return t.toUpperCase()};be.fn=be.prototype={jquery:fe,constructor:be,length:0,toArray:function(){return re.call(this)},get:function(e){return null==e?re.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){var t=be.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return be.each(this,e)},map:function(e){return this.pushStack(be.map(this,function(t,a){return e.call(t,a,t)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,a=+e+(0>e?t:0);return this.pushStack(0<=a&&a<t?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:le,sort:se.sort,splice:se.splice},be.extend=be.fn.extend=function(){var e=arguments[0]||{},t=1,a=arguments.length,n=!1,s,o,d,r,c,l;for("boolean"==typeof e&&(n=e,e=arguments[t]||{},t++),"object"==typeof e||be.isFunction(e)||(e={}),t===a&&(e=this,t--);t<a;t++)if(null!=(s=arguments[t]))for(o in s)(d=e[o],r=s[o],e!==r)&&(n&&r&&(be.isPlainObject(r)||(c=be.isArray(r)))?(c?(c=!1,l=d&&be.isArray(d)?d:[]):l=d&&be.isPlainObject(d)?d:{},e[o]=be.extend(n,l,r)):void 0!==r&&(e[o]=r));return e},be.extend({expando:"jQuery"+(fe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===be.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=be.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,a;return!!(e&&"[object Object]"===ue.call(e))&&((t=de(e),!!!t)||(a=ge.call(t,"constructor")&&t.constructor,"function"==typeof a&&he.call(a)===_e))},isEmptyObject:function(e){for(var t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?me[ue.call(e)]||"object":typeof e},globalEval:function(e){o(e)},camelCase:function(e){return e.replace(/^-ms-/,"ms-").replace(/-([a-z])/g,ye)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var a=0,n;if(d(e))for(n=e.length;a<n&&!1!==t.call(e[a],a,e[a]);a++);else for(a in e)if(!1===t.call(e[a],a,e[a]))break;return e},trim:function(e){return null==e?"":(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(e,t){var a=t||[];return null!=e&&(d(Object(e))?be.merge(a,"string"==typeof e?[e]:e):le.call(a,e)),a},inArray:function(e,t,a){return null==t?-1:pe.call(t,e,a)},merge:function(e,t){for(var a=+t.length,n=0,s=e.length;n<a;n++)e[s++]=t[n];return e.length=s,e},grep:function(e,t,a){for(var n=[],s=0,o=e.length,d;s<o;s++)d=!t(e[s],s),d!==!a&&n.push(e[s]);return n},map:function(e,t,a){var n=0,s=[],o,r;if(d(e))for(o=e.length;n<o;n++)r=t(e[n],n,a),null!=r&&s.push(r);else for(n in e)r=t(e[n],n,a),null!=r&&s.push(r);return ce.apply([],s)},guid:1,proxy:function(e,t){var a,i,n;if("string"==typeof t&&(a=e[t],t=e,e=a),!!be.isFunction(e))return i=re.call(arguments,2),n=function(){return e.apply(t||this,i.concat(re.call(arguments)))},n.guid=e.guid=e.guid||be.guid++,n},now:Date.now,support:ve}),"function"==typeof Symbol&&(be.fn[Symbol.iterator]=se[Symbol.iterator]),be.each(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error","Symbol"],function(e,t){me["[object "+t+"]"]=t.toLowerCase()});var Ae=/*!
 * Sizzle CSS Selector Engine v2.3.0
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-01-04
 */function(e){function t(e,t,a,n){var s=t&&t.ownerDocument,o=t?t.nodeType:9,d,r,c,l,p,g,v;if(a=a||[],"string"!=typeof e||!e||1!==o&&9!==o&&11!==o)return a;if(!n&&((t?t.ownerDocument||t:C)!==le&&ce(t),t=t||le,me)){if(11!==o&&(p=U.exec(e)))if(!(d=p[1])){if(p[2])return O.apply(a,t.getElementsByTagName(e)),a;if((d=p[3])&&Z.getElementsByClassName&&t.getElementsByClassName)return O.apply(a,t.getElementsByClassName(d)),a}else if(9===o){if(!(c=t.getElementById(d)))return a;if(c.id===d)return a.push(c),a}else if(s&&(c=s.getElementById(d))&&_e(t,c)&&c.id===d)return a.push(c),a;if(Z.qsa&&!D[e+" "]&&(!ue||!ue.test(e))){if(1!==o)s=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((l=t.getAttribute("id"))?l=l.replace(G,Q):t.setAttribute("id",l=S),g=ie(e),r=g.length;r--;)g[r]="#"+l+" "+h(g[r]);v=g.join(","),s=q.test(e)&&u(t.parentNode)||t}if(v)try{return O.apply(a,s.querySelectorAll(v)),a}catch(e){}finally{l===S&&t.removeAttribute("id")}}}return se(e.replace(B,"$1"),t,a,n)}function a(){function e(a,i){return t.push(a+" ")>ee.cacheLength&&delete e[t.shift()],e[a+" "]=i}var t=[];return e}function s(e){return e[S]=!0,e}function o(e){var t=le.createElement("fieldset");try{return!!e(t)}catch(t){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function d(e,t){for(var a=e.split("|"),n=a.length;n--;)ee.attrHandle[a[n]]=t}function r(e,t){var a=t&&e,i=a&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(a)for(;a=a.nextSibling;)if(a===t)return-1;return e?1:-1}function c(e){return function(t){var a=t.nodeName.toLowerCase();return"input"===a&&t.type===e}}function l(e){return function(t){var a=t.nodeName.toLowerCase();return("input"===a||"button"===a)&&t.type===e}}function p(e){return function(t){return"label"in t&&t.disabled===e||"form"in t&&t.disabled===e||"form"in t&&!1===t.disabled&&(t.isDisabled===e||t.isDisabled!==!e&&("label"in t||!K(t))!==e)}}function m(e){return s(function(t){return t=+t,s(function(a,n){for(var s=e([],a.length,t),o=s.length,d;o--;)a[d=s[o]]&&(a[d]=!(n[d]=a[d]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function g(){}function h(e){for(var t=0,a=e.length,n="";t<a;t++)n+=e[t].value;return n}function v(e,t,a){var i=t.dir,n=t.next,s=n||i,o=a&&"parentNode"===s,d=L++;return t.first?function(t,a,n){for(;t=t[i];)if(1===t.nodeType||o)return e(t,a,n)}:function(t,a,r){var c=[M,d],l,p,m;if(r){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,a,r))return!0;}else for(;t=t[i];)if(1===t.nodeType||o)if(m=t[S]||(t[S]={}),p=m[t.uniqueID]||(m[t.uniqueID]={}),n&&n===t.nodeName.toLowerCase())t=t[i]||t;else{if((l=p[s])&&l[0]===M&&l[1]===d)return c[2]=l[2];if(p[s]=c,c[2]=e(t,a,r))return!0}}}function f(e){return 1<e.length?function(t,a,n){for(var s=e.length;s--;)if(!e[s](t,a,n))return!1;return!0}:e[0]}function b(e,a,n){for(var s=0,o=a.length;s<o;s++)t(e,a[s],n);return n}function A(e,t,a,n,s){for(var o=[],d=0,r=e.length,c;d<r;d++)(c=e[d])&&(!a||a(c,n,s))&&(o.push(c),null!=t&&t.push(d));return o}function x(e,t,a,n,o,d){return n&&!n[S]&&(n=x(n)),o&&!o[S]&&(o=x(o,d)),s(function(s,d,r,c){var l=[],p=[],m=d.length,u=s||b(t||"*",r.nodeType?[r]:r,[]),g=e&&(s||!t)?A(u,l,e,r,c):u,h=a?o||(s?e:m||n)?[]:d:g,v,f,x;if(a&&a(g,h,r,c),n)for(v=A(h,p),n(v,[],r,c),f=v.length;f--;)(x=v[f])&&(h[p[f]]=!(g[p[f]]=x));if(!s)h=A(h===d?h.splice(m,h.length):h),o?o(null,d,h,c):O.apply(d,h);else if(o||e){if(o){for(v=[],f=h.length;f--;)(x=h[f])&&v.push(g[f]=x);o(null,h=[],v,c)}for(f=h.length;f--;)(x=h[f])&&-1<(v=o?H(s,x):l[f])&&(s[v]=!(d[v]=x))}})}function w(e){for(var t=e.length,a=ee.relative[e[0].type],n=a||ee.relative[" "],s=a?1:0,o=v(function(e){return e===c},n,!0),d=v(function(e){return-1<H(c,e)},n,!0),r=[function(e,t,i){var n=!a&&(i||t!==oe)||((c=t).nodeType?o(e,t,i):d(e,t,i));return c=null,n}],c,l,p;s<t;s++)if(l=ee.relative[e[s].type])r=[v(f(r),l)];else{if(l=ee.filter[e[s].type].apply(null,e[s].matches),l[S]){for(p=++s;p<t&&!ee.relative[e[p].type];p++);return x(1<s&&f(r),1<s&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(B,"$1"),l,s<p&&w(e.slice(s,p)),p<t&&w(e=e.slice(p)),p<t&&h(e))}r.push(l)}return f(r)}function k(e,a){var n=0<a.length,o=0<e.length,d=function(s,d,r,c,l){var p=0,m="0",u=s&&[],g=[],h=oe,v=s||o&&ee.find.TAG("*",l),f=M+=null==h?1:Math.random()||.1,b=v.length,x,w,k;for(l&&(oe=d===le||d||l);m!==b&&null!=(x=v[m]);m++){if(o&&x){for(w=0,d||x.ownerDocument===le||(ce(x),r=!me);k=e[w++];)if(k(x,d||le,r)){c.push(x);break}l&&(M=f)}n&&((x=!k&&x)&&p--,s&&u.push(x))}if(p+=m,n&&m!==p){for(w=0;k=a[w++];)k(u,g,d,r);if(s){if(0<p)for(;m--;)u[m]||g[m]||(g[m]=j.call(c));g=A(g)}O.apply(c,g),l&&!s&&0<g.length&&1<p+a.length&&t.uniqueSort(c)}return l&&(M=f,oe=h),u};return n?s(d):d}var S="sizzle"+1*new Date,C=e.document,M=0,L=0,T=a(),E=a(),D=a(),I=function(e,t){return e===t&&(re=!0),0},Y={}.hasOwnProperty,N=[],j=N.pop,R=N.push,O=N.push,P=N.slice,H=function(e,t){for(var a=0,n=e.length;a<n;a++)if(e[a]===t)return a;return-1},B=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,F={ID:/^#((?:\\.|[\w-]|[^\0-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\0-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\0-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\0-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\0-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\0-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\0-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\0-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},V=/^[^{]+\{\s*\[native \w/,U=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,q=/[+~]/,z=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,W=function(e,t,a){var i="0x"+t-65536;return i!=i||a?t:0>i?n(i+65536):n(55296|i>>10,56320|1023&i)},G=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,Q=function(e,t){return t?"\0"===e?"\uFFFD":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},J=function(){ce()},K=v(function(e){return!0===e.disabled},{dir:"parentNode",next:"legend"}),X,Z,ee,te,ae,ie,ne,se,oe,de,re,ce,le,pe,me,ue,ge,he,_e;try{O.apply(N=P.call(C.childNodes),C.childNodes),N[C.childNodes.length].nodeType}catch(t){O={apply:N.length?function(e,t){R.apply(e,P.call(t))}:function(e,t){for(var a=e.length,n=0;e[a++]=t[n++];);e.length=a-1}}}for(X in Z=t.support={},ae=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},ce=t.setDocument=function(e){var t=e?e.ownerDocument||e:C,a,i;return t!==le&&9===t.nodeType&&t.documentElement?(le=t,pe=le.documentElement,me=!ae(le),C!==le&&(i=le.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",J,!1):i.attachEvent&&i.attachEvent("onunload",J)),Z.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),Z.getElementsByTagName=o(function(e){return e.appendChild(le.createComment("")),!e.getElementsByTagName("*").length}),Z.getElementsByClassName=V.test(le.getElementsByClassName),Z.getById=o(function(e){return pe.appendChild(e).id=S,!le.getElementsByName||!le.getElementsByName(S).length}),Z.getById?(ee.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&me){var a=t.getElementById(e);return a?[a]:[]}},ee.filter.ID=function(e){var t=e.replace(z,W);return function(e){return e.getAttribute("id")===t}}):(delete ee.find.ID,ee.filter.ID=function(e){var t=e.replace(z,W);return function(e){var a="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return a&&a.value===t}}),ee.find.TAG=Z.getElementsByTagName?function(e,t){return"undefined"==typeof t.getElementsByTagName?Z.qsa?t.querySelectorAll(e):void 0:t.getElementsByTagName(e)}:function(e,t){var a=[],n=0,s=t.getElementsByTagName(e),o;if("*"===e){for(;o=s[n++];)1===o.nodeType&&a.push(o);return a}return s},ee.find.CLASS=Z.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&me)return t.getElementsByClassName(e)},ge=[],ue=[],(Z.qsa=V.test(le.querySelectorAll))&&(o(function(e){pe.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&ue.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||ue.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)"),e.querySelectorAll("[id~="+S+"-]").length||ue.push("~="),e.querySelectorAll(":checked").length||ue.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||ue.push(".#.+[+~]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=le.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&ue.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&ue.push(":enabled",":disabled"),pe.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&ue.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),ue.push(",.*:")})),(Z.matchesSelector=V.test(he=pe.matches||pe.webkitMatchesSelector||pe.mozMatchesSelector||pe.oMatchesSelector||pe.msMatchesSelector))&&o(function(e){Z.disconnectedMatch=he.call(e,"*"),he.call(e,"[s!='']:x"),ge.push("!=",":((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\0-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),ue=ue.length&&new RegExp(ue.join("|")),ge=ge.length&&new RegExp(ge.join("|")),a=V.test(pe.compareDocumentPosition),_e=a||V.test(pe.contains)?function(e,t){var a=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!!(i&&1===i.nodeType&&(a.contains?a.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},I=a?function(e,t){if(e===t)return re=!0,0;var a=!e.compareDocumentPosition-!t.compareDocumentPosition;return a?a:(a=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&a||!Z.sortDetached&&t.compareDocumentPosition(e)===a?e===le||e.ownerDocument===C&&_e(C,e)?-1:t===le||t.ownerDocument===C&&_e(C,t)?1:de?H(de,e)-H(de,t):0:4&a?-1:1)}:function(e,t){if(e===t)return re=!0,0;var a=0,n=e.parentNode,s=t.parentNode,o=[e],d=[t],c;if(!n||!s)return e===le?-1:t===le?1:n?-1:s?1:de?H(de,e)-H(de,t):0;if(n===s)return r(e,t);for(c=e;c=c.parentNode;)o.unshift(c);for(c=t;c=c.parentNode;)d.unshift(c);for(;o[a]===d[a];)a++;return a?r(o[a],d[a]):o[a]===C?-1:d[a]===C?1:0},le):le},t.matches=function(e,a){return t(e,null,null,a)},t.matchesSelector=function(e,a){if((e.ownerDocument||e)!==le&&ce(e),a=a.replace(/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,"='$1']"),Z.matchesSelector&&me&&!D[a+" "]&&(!ge||!ge.test(a))&&(!ue||!ue.test(a)))try{var i=he.call(e,a);if(i||Z.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(t){}return 0<t(a,le,null,[e]).length},t.contains=function(e,t){return(e.ownerDocument||e)!==le&&ce(e),_e(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==le&&ce(e);var a=ee.attrHandle[t.toLowerCase()],i=a&&Y.call(ee.attrHandle,t.toLowerCase())?a(e,t,!me):void 0;return void 0===i?Z.attributes||!me?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null:i},t.escape=function(e){return(e+"").replace(G,Q)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t=[],a=0,n=0,s;if(re=!Z.detectDuplicates,de=!Z.sortStable&&e.slice(0),e.sort(I),re){for(;s=e[n++];)s===e[n]&&(a=t.push(n));for(;a--;)e.splice(t[a],1)}return de=null,e},te=t.getText=function(e){var t="",a=0,n=e.nodeType,s;if(!n)for(;s=e[a++];)t+=te(s);else if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)t+=te(e)}else if(3===n||4===n)return e.nodeValue;return t},ee=t.selectors={cacheLength:50,createPseudo:s,match:F,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(z,W),e[3]=(e[3]||e[4]||e[5]||"").replace(z,W),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(!e[3]&&t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t=!e[6]&&e[2],a;return F.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":t&&/:((?:\\.|[\w-]|[^\0-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\0-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\0-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/.test(t)&&(a=ie(t,!0))&&(a=t.indexOf(")",t.length-a)-t.length)&&(e[0]=e[0].slice(0,a),e[2]=t.slice(0,a)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(z,W).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"([\\x20\\t\\r\\n\\f]|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,a,i){return function(n){var s=t.attr(n,e);return null==s?"!="===a:!a||(s+="","="===a?s===i:"!="===a?s!==i:"^="===a?i&&0===s.indexOf(i):"*="===a?i&&-1<s.indexOf(i):"$="===a?i&&s.slice(-i.length)===i:"~="===a?-1<(" "+s.replace(/[\x20\t\r\n\f]+/g," ")+" ").indexOf(i):"|="==a&&(s===i||s.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,a,i,n){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),d="of-type"===t;return 1===i&&0===n?function(e){return!!e.parentNode}:function(t,a,r){var c=s===o?"previousSibling":"nextSibling",l=t.parentNode,p=d&&t.nodeName.toLowerCase(),m=!r&&!d,u=!1,g,h,v,f,b,A;if(l){if(s){for(;c;){for(f=t;f=f[c];)if(d?f.nodeName.toLowerCase()===p:1===f.nodeType)return!1;A=c="only"===e&&!A&&"nextSibling"}return!0}if(A=[o?l.firstChild:l.lastChild],o&&m){for(f=l,v=f[S]||(f[S]={}),h=v[f.uniqueID]||(v[f.uniqueID]={}),g=h[e]||[],b=g[0]===M&&g[1],u=b&&g[2],f=b&&l.childNodes[b];f=++b&&f&&f[c]||(u=b=0)||A.pop();)if(1===f.nodeType&&++u&&f===t){h[e]=[M,b,u];break}}else if(m&&(f=t,v=f[S]||(f[S]={}),h=v[f.uniqueID]||(v[f.uniqueID]={}),g=h[e]||[],b=g[0]===M&&g[1],u=b),!1===u)for(;(f=++b&&f&&f[c]||(u=b=0)||A.pop())&&!((d?f.nodeName.toLowerCase()===p:1===f.nodeType)&&++u&&(m&&(v=f[S]||(f[S]={}),h=v[f.uniqueID]||(v[f.uniqueID]={}),h[e]=[M,u]),f===t)););return u-=n,u===i||0==u%i&&0<=u/i}}},PSEUDO:function(e,a){var n=ee.pseudos[e]||ee.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e),i;return n[S]?n(a):1<n.length?(i=[e,e,"",a],ee.setFilters.hasOwnProperty(e.toLowerCase())?s(function(e,t){for(var s=n(e,a),o=s.length,d;o--;)d=H(e,s[o]),e[d]=!(t[d]=s[o])}):function(e){return n(e,0,i)}):n}},pseudos:{not:s(function(e){var t=[],a=[],n=ne(e.replace(B,"$1"));return n[S]?s(function(e,t,a,s){for(var o=n(e,null,s,[]),d=e.length,r;d--;)(r=o[d])&&(e[d]=!(t[d]=r))}):function(e,i,s){return t[0]=e,n(t,null,s,a),t[0]=null,!a.pop()}}),has:s(function(e){return function(a){return 0<t(e,a).length}}),contains:s(function(e){return e=e.replace(z,W),function(t){return-1<(t.textContent||t.innerText||te(t)).indexOf(e)}}),lang:s(function(e){return /^(?:\\.|[\w-]|[^\0-\xa0])+$/.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(z,W).toLowerCase(),function(t){var a;do if(a=me?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return a=a.toLowerCase(),a===e||0===a.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var a=e.location&&e.location.hash;return a&&a.slice(1)===t.id},root:function(e){return e===pe},focus:function(e){return e===le.activeElement&&(!le.hasFocus||le.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:p(!1),disabled:p(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(6>e.nodeType)return!1;return!0},parent:function(e){return!ee.pseudos.empty(e)},header:function(e){return /^h\d$/i.test(e.nodeName)},input:function(e){return /^(?:input|select|textarea|button)$/i.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:m(function(){return[0]}),last:m(function(e,t){return[t-1]}),eq:m(function(e,t,a){return[0>a?a+t:a]}),even:m(function(e,t){for(var a=0;a<t;a+=2)e.push(a);return e}),odd:m(function(e,t){for(var a=1;a<t;a+=2)e.push(a);return e}),lt:m(function(e,t,a){for(var n=0>a?a+t:a;0<=--n;)e.push(n);return e}),gt:m(function(e,t,a){for(var n=0>a?a+t:a;++n<t;)e.push(n);return e})}},ee.pseudos.nth=ee.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})ee.pseudos[X]=c(X);for(X in{submit:!0,reset:!0})ee.pseudos[X]=l(X);return g.prototype=ee.filters=ee.pseudos,ee.setFilters=new g,ie=t.tokenize=function(e,a){var i=E[e+" "],n,s,o,d,r,c,l;if(i)return a?0:i.slice(0);for(r=e,c=[],l=ee.preFilter;r;){for(d in(!n||(s=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/.exec(r)))&&(s&&(r=r.slice(s[0].length)||r),c.push(o=[])),n=!1,(s=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/.exec(r))&&(n=s.shift(),o.push({value:n,type:s[0].replace(B," ")}),r=r.slice(n.length)),ee.filter)(s=F[d].exec(r))&&(!l[d]||(s=l[d](s)))&&(n=s.shift(),o.push({value:n,type:d,matches:s}),r=r.slice(n.length));if(!n)break}return a?r.length:r?t.error(e):E(e,c).slice(0)},ne=t.compile=function(e,t){var a=[],n=[],s=D[e+" "],o;if(!s){for(t||(t=ie(e)),o=t.length;o--;)s=w(t[o]),s[S]?a.push(s):n.push(s);s=D(e,k(n,a)),s.selector=e}return s},se=t.select=function(e,t,a,n){var s="function"==typeof e&&e,o=!n&&ie(e=s.selector||e),d,r,c,l,p;if(a=a||[],1===o.length){if(r=o[0]=o[0].slice(0),2<r.length&&"ID"===(c=r[0]).type&&Z.getById&&9===t.nodeType&&me&&ee.relative[r[1].type]){if(t=(ee.find.ID(c.matches[0].replace(z,W),t)||[])[0],!t)return a;s&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(d=F.needsContext.test(e)?0:r.length;d--&&(c=r[d],!ee.relative[l=c.type]);)if((p=ee.find[l])&&(n=p(c.matches[0].replace(z,W),q.test(r[0].type)&&u(t.parentNode)||t))){if(r.splice(d,1),e=n.length&&h(r),!e)return O.apply(a,n),a;break}}return(s||ne(e,o))(n,t,!me,a,!t||q.test(e)&&u(t.parentNode)||t),a},Z.sortStable=S.split("").sort(I).join("")===S,Z.detectDuplicates=!!re,ce(),Z.sortDetached=o(function(e){return 1&e.compareDocumentPosition(le.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||d("type|href|height|width",function(e,t,a){if(!a)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),Z.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||d("value",function(e,t,a){if(!a&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||d("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(e,t,a){var i;if(!a)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);be.find=Ae,be.expr=Ae.selectors,be.expr[":"]=be.expr.pseudos,be.uniqueSort=be.unique=Ae.uniqueSort,be.text=Ae.getText,be.isXMLDoc=Ae.isXML,be.contains=Ae.contains,be.escapeSelector=Ae.escape;var xe=function(e,t,a){for(var i=[];(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(void 0!==a&&be(e).is(a))break;i.push(e)}return i},we=function(e,t){for(var a=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&a.push(e);return a},ke=be.expr.match.needsContext,Se=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Ce=/^.[^:#\[\.,]*$/;be.filter=function(e,t,a){var i=t[0];return a&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?be.find.matchesSelector(i,e)?[i]:[]:be.find.matches(e,be.grep(t,function(e){return 1===e.nodeType}))},be.fn.extend({find:function(e){var t=this.length,a=this,n,s;if("string"!=typeof e)return this.pushStack(be(e).filter(function(){for(n=0;n<t;n++)if(be.contains(a[n],this))return!0}));for(s=this.pushStack([]),n=0;n<t;n++)be.find(e,a[n],s);return 1<t?be.uniqueSort(s):s},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ke.test(e)?be(e):e||[],!1).length}});var Me=be.fn.init=function(e,t,a){var i,n;if(!e)return this;if(a=a||Le,"string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/.exec(e),i&&(i[1]||!t)){if(i[1]){if(t=t instanceof be?t[0]:t,be.merge(this,be.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:oe,!0)),Se.test(i[1])&&be.isPlainObject(t))for(i in t)be.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return n=oe.getElementById(i[2]),n&&(this[0]=n,this.length=1),this}return!t||t.jquery?(t||a).find(e):this.constructor(t).find(e)}return e.nodeType?(this[0]=e,this.length=1,this):be.isFunction(e)?void 0===a.ready?e(be):a.ready(e):be.makeArray(e,this)},Le;Me.prototype=be.fn,Le=be(oe);var Te={children:!0,contents:!0,next:!0,prev:!0};be.fn.extend({has:function(e){var t=be(e,this),a=t.length;return this.filter(function(){for(var e=0;e<a;e++)if(be.contains(this,t[e]))return!0})},closest:function(e,t){var a=0,n=this.length,s=[],o="string"!=typeof e&&be(e),d;if(!ke.test(e))for(;a<n;a++)for(d=this[a];d&&d!==t;d=d.parentNode)if(11>d.nodeType&&(o?-1<o.index(d):1===d.nodeType&&be.find.matchesSelector(d,e))){s.push(d);break}return this.pushStack(1<s.length?be.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?pe.call(be(e),this[0]):pe.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(be.uniqueSort(be.merge(this.get(),be(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),be.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return xe(e,"parentNode")},parentsUntil:function(e,t,a){return xe(e,"parentNode",a)},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return xe(e,"nextSibling")},prevAll:function(e){return xe(e,"previousSibling")},nextUntil:function(e,t,a){return xe(e,"nextSibling",a)},prevUntil:function(e,t,a){return xe(e,"previousSibling",a)},siblings:function(e){return we((e.parentNode||{}).firstChild,e)},children:function(e){return we(e.firstChild)},contents:function(e){return e.contentDocument||be.merge([],e.childNodes)}},function(e,t){be.fn[e]=function(a,i){var n=be.map(this,t,a);return"Until"!==e.slice(-5)&&(i=a),i&&"string"==typeof i&&(n=be.filter(i,n)),1<this.length&&(!Te[e]&&be.uniqueSort(n),/^(?:parents|prev(?:Until|All))/.test(e)&&n.reverse()),this.pushStack(n)}});var Ee=/\S+/g;be.Callbacks=function(e){e="string"==typeof e?l(e):be.extend({},e);var t=[],a=[],i=-1,n=function(){for(c=e.once,r=o=!0;a.length;i=-1)for(d=a.shift();++i<t.length;)!1===t[i].apply(d[0],d[1])&&e.stopOnFalse&&(i=t.length,d=!1);e.memory||(d=!1),o=!1,c&&(d?t=[]:t="")},s={add:function(){return t&&(d&&!o&&(i=t.length-1,a.push(d)),function a(i){be.each(i,function(i,n){be.isFunction(n)?(!e.unique||!s.has(n))&&t.push(n):n&&n.length&&"string"!==be.type(n)&&a(n)})}(arguments),d&&!o&&n()),this},remove:function(){return be.each(arguments,function(e,a){for(var n;-1<(n=be.inArray(a,t,n));)t.splice(n,1),n<=i&&i--}),this},has:function(e){return e?-1<be.inArray(e,t):0<t.length},empty:function(){return t&&(t=[]),this},disable:function(){return c=a=[],t=d="",this},disabled:function(){return!t},lock:function(){return c=a=[],d||o||(t=d=""),this},locked:function(){return!!c},fireWith:function(e,t){return c||(t=t||[],t=[e,t.slice?t.slice():t],a.push(t),!o&&n()),this},fire:function(){return s.fireWith(this,arguments),this},fired:function(){return!!r}},o,d,r,c;return s},be.extend({Deferred:function(t){var a=[["notify","progress",be.Callbacks("memory"),be.Callbacks("memory"),2],["resolve","done",be.Callbacks("once memory"),be.Callbacks("once memory"),0,"resolved"],["reject","fail",be.Callbacks("once memory"),be.Callbacks("once memory"),1,"rejected"]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return n.then(null,e)},pipe:function(){var e=arguments;return be.Deferred(function(t){be.each(a,function(a,i){var n=be.isFunction(e[i[4]])&&e[i[4]];s[i[1]](function(){var e=n&&n.apply(this,arguments);e&&be.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,n?[e]:arguments)})}),e=null}).promise()},then:function(t,i,n){function s(t,a,i,n){return function(){var d=this,r=arguments,c=function(){var e,c;if(!(t<o)){if(e=i.apply(d,r),e===a.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,be.isFunction(c)?n?c.call(e,s(o,a,p,n),s(o,a,m,n)):(o++,c.call(e,s(o,a,p,n),s(o,a,m,n),s(o,a,p,a.notifyWith))):(i!==p&&(d=void 0,r=[e]),(n||a.resolveWith)(d,r))}},l=n?c:function(){try{c()}catch(n){be.Deferred.exceptionHook&&be.Deferred.exceptionHook(n,l.stackTrace),t+1>=o&&(i!==m&&(d=void 0,r=[n]),a.rejectWith(d,r))}};t?l():(be.Deferred.getStackHook&&(l.stackTrace=be.Deferred.getStackHook()),e.setTimeout(l))}}var o=0;return be.Deferred(function(e){a[0][3].add(s(0,e,be.isFunction(n)?n:p,e.notifyWith)),a[1][3].add(s(0,e,be.isFunction(t)?t:p)),a[2][3].add(s(0,e,be.isFunction(i)?i:m))}).promise()},promise:function(e){return null==e?n:be.extend(e,n)}},s={};return be.each(a,function(e,t){var o=t[2],d=t[5];n[t[1]]=o.add,d&&o.add(function(){i=d},a[3-e][2].disable,a[0][2].lock),o.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=o.fireWith}),n.promise(s),t&&t.call(s,s),s},when:function(e){var t=arguments.length,a=t,n=Array(a),s=re.call(arguments),o=be.Deferred(),d=function(e){return function(a){n[e]=this,s[e]=1<arguments.length?re.call(arguments):a,--t||o.resolveWith(n,s)}};if(1>=t&&(u(e,o.done(d(a)).resolve,o.reject),"pending"===o.state()||be.isFunction(s[a]&&s[a].then)))return o.then();for(;a--;)u(s[a],d(a),o.reject);return o.promise()}});be.Deferred.exceptionHook=function(t,a){e.console&&e.console.warn&&t&&/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,a)};var De=be.Deferred();be.fn.ready=function(e){return De.then(e),this},be.extend({isReady:!1,readyWait:1,holdReady:function(e){e?be.readyWait++:be.ready(!0)},ready:function(e){(!0===e?! --be.readyWait:!be.isReady)&&(be.isReady=!0,!0!==e&&0<--be.readyWait||De.resolveWith(oe,[be]))}}),be.ready.then=De.then,"complete"!==oe.readyState&&("loading"===oe.readyState||oe.documentElement.doScroll)?(oe.addEventListener("DOMContentLoaded",g),e.addEventListener("load",g)):e.setTimeout(be.ready);var Ie=function(e,t,a,n,s,o,d){var r=0,c=e.length,l=null==a;if("object"===be.type(a))for(r in s=!0,a)Ie(e,t,r,a[r],!0,o,d);else if(void 0!==n&&(s=!0,be.isFunction(n)||(d=!0),l&&(d?(t.call(e,n),t=null):(l=t,t=function(e,t,a){return l.call(be(e),a)})),t))for(;r<c;r++)t(e[r],a,d?n:n.call(e[r],r,t(e[r],a)));return s?e:l?t.call(e):c?t(e[0],a):o},Ye=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};h.uid=1,h.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ye(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,a){var i=this.cache(e),n;if("string"==typeof t)i[be.camelCase(t)]=a;else for(n in t)i[be.camelCase(n)]=t[n];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][be.camelCase(t)]},access:function(e,t,a){return void 0===t||t&&"string"==typeof t&&void 0===a?this.get(e,t):(this.set(e,t,a),void 0===a?t:a)},remove:function(e,t){var a=e[this.expando],n;if(void 0!==a){if(void 0!==t)for(be.isArray(t)?t=t.map(be.camelCase):(t=be.camelCase(t),t=(t in a)?[t]:t.match(Ee)||[]),n=t.length;n--;)delete a[t[n]];(void 0===t||be.isEmptyObject(a))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!be.isEmptyObject(t)}};var Ne=new h,je=new h,$e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Re=/[A-Z]/g;be.extend({hasData:function(e){return je.hasData(e)||Ne.hasData(e)},data:function(e,t,a){return je.access(e,t,a)},removeData:function(e,t){je.remove(e,t)},_data:function(e,t,a){return Ne.access(e,t,a)},_removeData:function(e,t){Ne.remove(e,t)}}),be.fn.extend({data:function(e,t){var a=this[0],n=a&&a.attributes,s,o,d;if(void 0===e){if(this.length&&(d=je.get(a),1===a.nodeType&&!Ne.get(a,"hasDataAttrs"))){for(s=n.length;s--;)n[s]&&(o=n[s].name,0===o.indexOf("data-")&&(o=be.camelCase(o.slice(5)),v(a,o,d[o])));Ne.set(a,"hasDataAttrs",!0)}return d}return"object"==typeof e?this.each(function(){je.set(this,e)}):Ie(this,function(t){var i;return a&&void 0===t?(i=je.get(a,e),void 0!==i)?i:(i=v(a,e),void 0===i?void 0:i):void this.each(function(){je.set(this,e,t)})},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){je.remove(this,e)})}}),be.extend({queue:function(e,t,a){var i;if(e)return t=(t||"fx")+"queue",i=Ne.get(e,t),a&&(!i||be.isArray(a)?i=Ne.access(e,t,be.makeArray(a)):i.push(a)),i||[]},dequeue:function(e,t){t=t||"fx";var a=be.queue(e,t),i=a.length,n=a.shift(),s=be._queueHooks(e,t),o=function(){be.dequeue(e,t)};"inprogress"===n&&(n=a.shift(),i--),n&&("fx"===t&&a.unshift("inprogress"),delete s.stop,n.call(e,o,s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var a=t+"queueHooks";return Ne.get(e,a)||Ne.access(e,a,{empty:be.Callbacks("once memory").add(function(){Ne.remove(e,[t+"queue",a])})})}}),be.fn.extend({queue:function(e,t){var a=2;return"string"!=typeof e&&(t=e,e="fx",a--),arguments.length<a?be.queue(this[0],e):void 0===t?this:this.each(function(){var a=be.queue(this,e,t);be._queueHooks(this,e),"fx"===e&&"inprogress"!==a[0]&&be.dequeue(this,e)})},dequeue:function(e){return this.each(function(){be.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var a=1,n=be.Deferred(),s=this,o=this.length,d=function(){--a||n.resolveWith(s,[s])},r;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)r=Ne.get(s[o],e+"queueHooks"),r&&r.empty&&(a++,r.empty.add(d));return d(),n.promise(t)}});var Oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pe=new RegExp("^(?:([+-])=|)("+Oe+")([a-z%]*)$","i"),He=["Top","Right","Bottom","Left"],Be=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&be.contains(e.ownerDocument,e)&&"none"===be.css(e,"display")},Fe=function(e,t,a,i){var n={},s,o;for(o in t)n[o]=e.style[o],e.style[o]=t[o];for(o in s=a.apply(e,i||[]),t)e.style[o]=n[o];return s},Ve={};be.fn.extend({show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Be(this)?be(this).show():be(this).hide()})}});var Ue=/^(?:checkbox|radio)$/i,qe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ze=/^$|\/(?:java|ecma)script/i,We={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};We.optgroup=We.option,We.tbody=We.tfoot=We.colgroup=We.caption=We.thead,We.th=We.td;var Ge=/<|&#?\w+;/;(function(){var e=oe.createDocumentFragment(),t=e.appendChild(oe.createElement("div")),a=oe.createElement("input");a.setAttribute("type","radio"),a.setAttribute("checked","checked"),a.setAttribute("name","t"),t.appendChild(a),ve.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ve.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var Qe=oe.documentElement,Je=/^([^.]*)(?:\.(.+)|)/;be.event={global:{},add:function(a,i,n,s,o){var d=Ne.get(a),r,c,l,p,m,e,u,g,h,v,f;if(d)for(n.handler&&(r=n,n=r.handler,o=r.selector),o&&be.find.matchesSelector(Qe,o),n.guid||(n.guid=be.guid++),(p=d.events)||(p=d.events={}),(c=d.handle)||(c=d.handle=function(t){return"undefined"!=typeof be&&be.event.triggered!==t.type?be.event.dispatch.apply(a,arguments):void 0}),i=(i||"").match(Ee)||[""],m=i.length;m--;)(l=Je.exec(i[m])||[],h=f=l[1],v=(l[2]||"").split(".").sort(),!!h)&&(u=be.event.special[h]||{},h=(o?u.delegateType:u.bindType)||h,u=be.event.special[h]||{},e=be.extend({type:h,origType:f,data:s,handler:n,guid:n.guid,selector:o,needsContext:o&&be.expr.match.needsContext.test(o),namespace:v.join(".")},r),(g=p[h])||(g=p[h]=[],g.delegateCount=0,(!u.setup||!1===u.setup.call(a,s,v,c))&&a.addEventListener&&a.addEventListener(h,c)),u.add&&(u.add.call(a,e),!e.handler.guid&&(e.handler.guid=n.guid)),o?g.splice(g.delegateCount++,0,e):g.push(e),be.event.global[h]=!0)},remove:function(e,a,i,n,s){var o=Ne.hasData(e)&&Ne.get(e),d,r,c,l,p,m,u,g,h,v,f;if(o&&(l=o.events)){for(a=(a||"").match(Ee)||[""],p=a.length;p--;){if(c=Je.exec(a[p])||[],h=f=c[1],v=(c[2]||"").split(".").sort(),!h){for(h in l)be.event.remove(e,h+a[p],i,n,!0);continue}for(u=be.event.special[h]||{},h=(n?u.delegateType:u.bindType)||h,g=l[h]||[],c=c[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=d=g.length;d--;)m=g[d],(s||f===m.origType)&&(!i||i.guid===m.guid)&&(!c||c.test(m.namespace))&&(!n||n===m.selector||"**"===n&&m.selector)&&(g.splice(d,1),m.selector&&g.delegateCount--,u.remove&&u.remove.call(e,m));r&&!g.length&&((!u.teardown||!1===u.teardown.call(e,v,o.handle))&&be.removeEvent(e,h,o.handle),delete l[h])}be.isEmptyObject(l)&&Ne.remove(e,"handle events")}},dispatch:function(e){var t=be.event.fix(e),a=Array(arguments.length),n=(Ne.get(this,"events")||{})[t.type]||[],s=be.event.special[t.type]||{},o,d,r,c,l,p;for(a[0]=t,o=1;o<arguments.length;o++)a[o]=arguments[o];if(t.delegateTarget=this,!(s.preDispatch&&!1===s.preDispatch.call(this,t))){for(p=be.event.handlers.call(this,t,n),o=0;(c=p[o++])&&!t.isPropagationStopped();)for(t.currentTarget=c.elem,d=0;(l=c.handlers[d++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||t.rnamespace.test(l.namespace))&&(t.handleObj=l,t.data=l.data,r=((be.event.special[l.origType]||{}).handle||l.handler).apply(c.elem,a),void 0!==r&&!1===(t.result=r)&&(t.preventDefault(),t.stopPropagation()));return s.postDispatch&&s.postDispatch.call(this,t),t.result}},handlers:function(e,t){var a=[],n=t.delegateCount,s=e.target,o,d,r,c;if(n&&s.nodeType&&("click"!==e.type||isNaN(e.button)||1>e.button))for(;s!==this;s=s.parentNode||this)if(1===s.nodeType&&(!0!==s.disabled||"click"!==e.type)){for(d=[],o=0;o<n;o++)c=t[o],r=c.selector+" ",void 0===d[r]&&(d[r]=c.needsContext?-1<be(r,this).index(s):be.find(r,this,null,[s]).length),d[r]&&d.push(c);d.length&&a.push({elem:s,handlers:d})}return n<t.length&&a.push({elem:this,handlers:t.slice(n)}),a},addProp:function(e,t){Object.defineProperty(be.Event.prototype,e,{enumerable:!0,configurable:!0,get:be.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[be.expando]?e:new be.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==M()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===M()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&be.nodeName(this,"input"))return this.click(),!1},_default:function(e){return be.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},be.removeEvent=function(e,t,a){e.removeEventListener&&e.removeEventListener(t,a)},be.Event=function(e,t){return this instanceof be.Event?void(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?S:C,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&be.extend(this,t),this.timeStamp=e&&e.timeStamp||be.now(),this[be.expando]=!0):new be.Event(e,t)},be.Event.prototype={constructor:be.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=S,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=S,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=S,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},be.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&/^key/.test(e.type)?null==e.charCode?e.keyCode:e.charCode:!e.which&&void 0!==t&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},be.event.addProp),be.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){be.event.special[e]={delegateType:t,bindType:t,handle:function(e){var a=this,i=e.relatedTarget,n=e.handleObj,s;return i&&(i===a||be.contains(a,i))||(e.type=n.origType,s=n.handler.apply(this,arguments),e.type=t),s}}}),be.fn.extend({on:function(e,t,a,i){return L(this,e,t,a,i)},one:function(e,t,a,i){return L(this,e,t,a,i,1)},off:function(e,t,a){var i,n;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,be(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return(!1===t||"function"==typeof t)&&(a=t,t=void 0),!1===a&&(a=C),this.each(function(){be.event.remove(this,e,a,t)})}});var Ke=/checked\s*(?:[^=]|=\s*.checked.)/i,Xe=/^true\/(.*)/,Ze=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;be.extend({htmlPrefilter:function(e){return e.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,"<$1></$2>")},clone:function(e,t,a){var n=e.cloneNode(!0),s=be.contains(e.ownerDocument,e),o,d,r,c;if(!ve.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!be.isXMLDoc(e))for(c=x(n),r=x(e),(o=0,d=r.length);o<d;o++)Y(r[o],c[o]);if(t)if(a)for(r=r||x(e),c=c||x(n),(o=0,d=r.length);o<d;o++)I(r[o],c[o]);else I(e,n);return c=x(n,"script"),0<c.length&&w(c,!s&&x(e,"script")),n},cleanData:function(e){for(var t=be.event.special,a=0,n,s,o;void 0!==(s=e[a]);a++)if(Ye(s)){if(n=s[Ne.expando]){if(n.events)for(o in n.events)t[o]?be.event.remove(s,o):be.removeEvent(s,o,n.handle);s[Ne.expando]=void 0}s[je.expando]&&(s[je.expando]=void 0)}}}),be.fn.extend({detach:function(e){return j(this,e,!0)},remove:function(e){return j(this,e)},text:function(e){return Ie(this,function(e){return void 0===e?be.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return N(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.appendChild(e)}})},prepend:function(){return N(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return N(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return N(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e=0,t;null!=(t=this[e]);e++)1===t.nodeType&&(be.cleanData(x(t,!1)),t.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return be.clone(this,e,t)})},html:function(e){return Ie(this,function(e){var t=this[0]||{},a=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!/<script|<style|<link/i.test(e)&&!We[(qe.exec(e)||["",""])[1].toLowerCase()]){e=be.htmlPrefilter(e);try{for(;a<n;a++)t=this[a]||{},1===t.nodeType&&(be.cleanData(x(t,!1)),t.innerHTML=e);t=0}catch(t){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return N(this,arguments,function(t){var a=this.parentNode;0>be.inArray(this,e)&&(be.cleanData(x(this)),a&&a.replaceChild(t,this))},e)}}),be.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){be.fn[e]=function(e){for(var a=[],n=be(e),s=n.length-1,o=0,d;o<=s;o++)d=o===s?this:this.clone(!0),be(n[o])[t](d),le.apply(a,d.get());return this.pushStack(a)}});var et=/^margin/,tt=new RegExp("^("+Oe+")(?!px)[a-z%]+$","i"),at=function(t){var a=t.ownerDocument.defaultView;return a&&a.opener||(a=e),a.getComputedStyle(t)};(function(){function t(){if(i){i.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i.innerHTML="",Qe.appendChild(a);var t=e.getComputedStyle(i);n="1%"!==t.top,d="2px"===t.marginLeft,s="4px"===t.width,i.style.marginRight="50%",o="4px"===t.marginRight,Qe.removeChild(a),i=null}}var a=oe.createElement("div"),i=oe.createElement("div"),n,s,o,d;i.style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",ve.clearCloneStyle="content-box"===i.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(i),be.extend(ve,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),s},pixelMarginRight:function(){return t(),o},reliableMarginLeft:function(){return t(),d}}))})();var it={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"},st=["Webkit","Moz","ms"],ot=oe.createElement("div").style;be.extend({cssHooks:{opacity:{get:function(e,t){if(t){var a=R(e,"opacity");return""===a?"1":a}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,a,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n=be.camelCase(t),s=e.style,o,d,r;if(t=be.cssProps[n]||(be.cssProps[n]=P(n)||n),r=be.cssHooks[t]||be.cssHooks[n],void 0!==a){if(d=typeof a,"string"===d&&(o=Pe.exec(a))&&o[1]&&(a=f(e,t,o),d="number"),null==a||a!==a)return;"number"===d&&(a+=o&&o[3]||(be.cssNumber[n]?"":"px")),ve.clearCloneStyle||""!==a||0!==t.indexOf("background")||(s[t]="inherit"),r&&"set"in r&&void 0===(a=r.set(e,a,i))||(s[t]=a)}else return r&&"get"in r&&void 0!==(o=r.get(e,!1,i))?o:s[t]}},css:function(e,t,a,i){var n=be.camelCase(t),s,o,d;return t=be.cssProps[n]||(be.cssProps[n]=P(n)||n),d=be.cssHooks[t]||be.cssHooks[n],d&&"get"in d&&(s=d.get(e,!0,a)),void 0===s&&(s=R(e,t,i)),"normal"===s&&t in nt&&(s=nt[t]),""===a||a?(o=parseFloat(s),!0===a||isFinite(o)?o||0:s):s}}),be.each(["height","width"],function(e,t){be.cssHooks[t]={get:function(e,a,i){if(a)return!/^(none|table(?!-c[ea]).+)/.test(be.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?F(e,t,i):Fe(e,it,function(){return F(e,t,i)})},set:function(e,a,i){var n=i&&at(e),s=i&&B(e,t,i,"border-box"===be.css(e,"boxSizing",!1,n),n),o;return s&&(o=Pe.exec(a))&&"px"!==(o[3]||"px")&&(e.style[t]=a,a=be.css(e,t)),H(e,a,s)}}}),be.cssHooks.marginLeft=O(ve.reliableMarginLeft,function(e,t){if(t)return(parseFloat(R(e,"marginLeft"))||e.getBoundingClientRect().left-Fe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),be.each({margin:"",padding:"",border:"Width"},function(e,t){be.cssHooks[e+t]={expand:function(a){for(var n=0,s={},o="string"==typeof a?a.split(" "):[a];4>n;n++)s[e+He[n]+t]=o[n]||o[n-2]||o[0];return s}},et.test(e)||(be.cssHooks[e+t].set=H)}),be.fn.extend({css:function(e,t){return Ie(this,function(e,t,a){var n={},s=0,o,d;if(be.isArray(t)){for(o=at(e),d=t.length;s<d;s++)n[t[s]]=be.css(e,t[s],!1,o);return n}return void 0===a?be.css(e,t):be.style(e,t,a)},e,t,1<arguments.length)}}),be.Tween=V,V.prototype={constructor:V,init:function(e,t,a,i,n,s){this.elem=e,this.prop=a,this.easing=n||be.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(be.cssNumber[a]?"":"px")},cur:function(){var e=V.propHooks[this.prop];return e&&e.get?e.get(this):V.propHooks._default.get(this)},run:function(e){var t=V.propHooks[this.prop],a;return this.pos=this.options.duration?a=be.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):a=e,this.now=(this.end-this.start)*a+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):V.propHooks._default.set(this),this}},V.prototype.init.prototype=V.prototype,V.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=be.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){be.fx.step[e.prop]?be.fx.step[e.prop](e):1===e.elem.nodeType&&(null!=e.elem.style[be.cssProps[e.prop]]||be.cssHooks[e.prop])?be.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},V.propHooks.scrollTop=V.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},be.easing={linear:function(e){return e},swing:function(e){return .5-a(e*i)/2},_default:"swing"},be.fx=V.prototype.init,be.fx.step={};var dt=/^(?:toggle|show|hide)$/,rt,ct;be.Animation=be.extend(J,{tweeners:{"*":[function(e,t){var a=this.createTween(e,t);return f(a.elem,e,Pe.exec(t),a),a}]},tweener:function(e,t){be.isFunction(e)?(t=e,e=["*"]):e=e.match(Ee);for(var a=0,i=e.length,n;a<i;a++)n=e[a],J.tweeners[n]=J.tweeners[n]||[],J.tweeners[n].unshift(t)},prefilters:[G],prefilter:function(e,t){t?J.prefilters.unshift(e):J.prefilters.push(e)}}),be.speed=function(e,t,a){var i=e&&"object"==typeof e?be.extend({},e):{complete:a||!a&&t||be.isFunction(e)&&e,duration:e,easing:a&&t||t&&!be.isFunction(t)&&t};return i.duration=be.fx.off||oe.hidden?0:"number"==typeof i.duration?i.duration:i.duration in be.fx.speeds?be.fx.speeds[i.duration]:be.fx.speeds._default,(null==i.queue||!0===i.queue)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){be.isFunction(i.old)&&i.old.call(this),i.queue&&be.dequeue(this,i.queue)},i},be.fn.extend({fadeTo:function(e,t,a,i){return this.filter(Be).css("opacity",0).show().end().animate({opacity:t},e,a,i)},animate:function(e,t,a,i){var n=be.isEmptyObject(e),s=be.speed(t,a,i),o=function(){var t=J(this,be.extend({},e),s);(n||Ne.get(this,"finish"))&&t.stop(!0)};return o.finish=o,n||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(e,t,a){var i=function(e){var t=e.stop;delete e.stop,t(a)};return"string"!=typeof e&&(a=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",s=be.timers,o=Ne.get(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&/queueHooks$/.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(null==e||s[n].queue===e)&&(s[n].anim.stop(a),t=!1,s.splice(n,1));(t||!a)&&be.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t=Ne.get(this),a=t[e+"queue"],i=t[e+"queueHooks"],n=be.timers,s=a?a.length:0,o;for(t.finish=!0,be.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),o=n.length;o--;)n[o].elem===this&&n[o].queue===e&&(n[o].anim.stop(!0),n.splice(o,1));for(o=0;o<s;o++)a[o]&&a[o].finish&&a[o].finish.call(this);delete t.finish})}}),be.each(["toggle","show","hide"],function(e,t){var a=be.fn[t];be.fn[t]=function(e,i,n){return null==e||"boolean"==typeof e?a.apply(this,arguments):this.animate(z(t,!0),e,i,n)}}),be.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){be.fn[e]=function(e,a,i){return this.animate(t,e,a,i)}}),be.timers=[],be.fx.tick=function(){var e=0,t=be.timers,a;for(rt=be.now();e<t.length;e++)a=t[e],a()||t[e]!==a||t.splice(e--,1);t.length||be.fx.stop(),rt=void 0},be.fx.timer=function(e){be.timers.push(e),e()?be.fx.start():be.timers.pop()},be.fx.interval=13,be.fx.start=function(){ct||(ct=e.requestAnimationFrame?e.requestAnimationFrame(U):e.setInterval(be.fx.tick,be.fx.interval))},be.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(ct):e.clearInterval(ct),ct=null},be.fx.speeds={slow:600,fast:200,_default:400},be.fn.delay=function(t,a){return t=be.fx?be.fx.speeds[t]||t:t,a=a||"fx",this.queue(a,function(a,i){var n=e.setTimeout(a,t);i.stop=function(){e.clearTimeout(n)}})},function(){var e=oe.createElement("input"),t=oe.createElement("select"),a=t.appendChild(oe.createElement("option"));e.type="checkbox",ve.checkOn=""!==e.value,ve.optSelected=a.selected,e=oe.createElement("input"),e.value="t",e.type="radio",ve.radioValue="t"===e.value}();var lt=be.expr.attrHandle,pt;be.fn.extend({attr:function(e,t){return Ie(this,be.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){be.removeAttr(this,e)})}}),be.extend({attr:function(e,t,a){var i=e.nodeType,n,s;if(3!==i&&8!==i&&2!==i)return"undefined"==typeof e.getAttribute?be.prop(e,t,a):(1===i&&be.isXMLDoc(e)||(s=be.attrHooks[t.toLowerCase()]||(be.expr.match.bool.test(t)?pt:void 0)),void 0!==a)?null===a?void be.removeAttr(e,t):s&&"set"in s&&void 0!==(n=s.set(e,a,t))?n:(e.setAttribute(t,a+""),a):s&&"get"in s&&null!==(n=s.get(e,t))?n:(n=be.find.attr(e,t),null==n?void 0:n)},attrHooks:{type:{set:function(e,t){if(!ve.radioValue&&"radio"===t&&be.nodeName(e,"input")){var a=e.value;return e.setAttribute("type",t),a&&(e.value=a),t}}}},removeAttr:function(e,t){var a=0,n=t&&t.match(Ee),s;if(n&&1===e.nodeType)for(;s=n[a++];)e.removeAttribute(s)}}),pt={set:function(e,t,a){return!1===t?be.removeAttr(e,a):e.setAttribute(a,a),a}},be.each(be.expr.match.bool.source.match(/\w+/g),function(e,t){var a=lt[t]||be.find.attr;lt[t]=function(e,t,i){var n=t.toLowerCase(),s,o;return i||(o=lt[n],lt[n]=s,s=null==a(e,t,i)?null:n,lt[n]=o),s}});be.fn.extend({prop:function(e,t){return Ie(this,be.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[be.propFix[e]||e]})}}),be.extend({prop:function(e,t,a){var i=e.nodeType,n,s;if(3!==i&&8!==i&&2!==i)return 1===i&&be.isXMLDoc(e)||(t=be.propFix[t]||t,s=be.propHooks[t]),void 0===a?s&&"get"in s&&null!==(n=s.get(e,t))?n:e[t]:s&&"set"in s&&void 0!==(n=s.set(e,a,t))?n:e[t]=a},propHooks:{tabIndex:{get:function(e){var t=be.find.attr(e,"tabindex");return t?parseInt(t,10):/^(?:input|select|textarea|button)$/i.test(e.nodeName)||/^(?:a|area)$/i.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ve.optSelected||(be.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),be.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){be.propFix[this.toLowerCase()]=this});var mt=/[\t\r\n\f]/g;be.fn.extend({addClass:function(e){var t=0,a,n,s,o,d,r,c;if(be.isFunction(e))return this.each(function(t){be(this).addClass(e.call(this,t,K(this)))});if("string"==typeof e&&e)for(a=e.match(Ee)||[];n=this[t++];)if(o=K(n),s=1===n.nodeType&&(" "+o+" ").replace(mt," "),s){for(r=0;d=a[r++];)0>s.indexOf(" "+d+" ")&&(s+=d+" ");c=be.trim(s),o!==c&&n.setAttribute("class",c)}return this},removeClass:function(e){var t=0,a,n,s,o,d,r,c;if(be.isFunction(e))return this.each(function(t){be(this).removeClass(e.call(this,t,K(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(a=e.match(Ee)||[];n=this[t++];)if(o=K(n),s=1===n.nodeType&&(" "+o+" ").replace(mt," "),s){for(r=0;d=a[r++];)for(;-1<s.indexOf(" "+d+" ");)s=s.replace(" "+d+" "," ");c=be.trim(s),o!==c&&n.setAttribute("class",c)}return this},toggleClass:function(e,t){var a=typeof e;return"boolean"==typeof t&&"string"===a?t?this.addClass(e):this.removeClass(e):be.isFunction(e)?this.each(function(a){be(this).toggleClass(e.call(this,a,K(this),t),t)}):this.each(function(){var t,n,s,o;if("string"===a)for(n=0,s=be(this),o=e.match(Ee)||[];t=o[n++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else(void 0===e||"boolean"===a)&&(t=K(this),t&&Ne.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ne.get(this,"__className__")||""))})},hasClass:function(e){var t=0,a,n;for(a=" "+e+" ";n=this[t++];)if(1===n.nodeType&&-1<(" "+K(n)+" ").replace(mt," ").indexOf(a))return!0;return!1}});be.fn.extend({val:function(e){var t=this[0],a,i,n;return arguments.length?(n=be.isFunction(e),this.each(function(t){var i;1!==this.nodeType||(i=n?e.call(this,t,be(this).val()):e,null==i?i="":"number"==typeof i?i+="":be.isArray(i)&&(i=be.map(i,function(e){return null==e?"":e+""})),a=be.valHooks[this.type]||be.valHooks[this.nodeName.toLowerCase()],(!a||!("set"in a)||void 0===a.set(this,i,"value"))&&(this.value=i))})):t?(a=be.valHooks[t.type]||be.valHooks[t.nodeName.toLowerCase()],a&&"get"in a&&void 0!==(i=a.get(t,"value")))?i:(i=t.value,"string"==typeof i?i.replace(/\r/g,""):null==i?"":i):void 0}}),be.extend({valHooks:{option:{get:function(e){var t=be.find.attr(e,"value");return null==t?be.trim(be.text(e)).replace(/[\x20\t\r\n\f]+/g," "):t}},select:{get:function(e){for(var t=e.options,a=e.selectedIndex,n="select-one"===e.type,s=n?null:[],o=n?a+1:t.length,d=0>a?o:n?a:0,r,c;d<o;d++)if(c=t[d],(c.selected||d===a)&&!c.disabled&&(!c.parentNode.disabled||!be.nodeName(c.parentNode,"optgroup"))){if(r=be(c).val(),n)return r;s.push(r)}return s},set:function(e,t){for(var a=e.options,n=be.makeArray(t),s=a.length,o,d;s--;)d=a[s],(d.selected=-1<be.inArray(be.valHooks.option.get(d),n))&&(o=!0);return o||(e.selectedIndex=-1),n}}}}),be.each(["radio","checkbox"],function(){be.valHooks[this]={set:function(e,t){if(be.isArray(t))return e.checked=-1<be.inArray(be(e).val(),t)}},ve.checkOn||(be.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var ut=/^(?:focusinfocus|focusoutblur)$/;be.extend(be.event,{trigger:function(t,a,n,s){var o=[n||oe],d=ge.call(t,"type")?t.type:t,r=ge.call(t,"namespace")?t.namespace.split("."):[],c,l,p,m,u,g,h;if((l=p=n=n||oe,3!==n.nodeType&&8!==n.nodeType)&&!ut.test(d+be.event.triggered)&&(-1<d.indexOf(".")&&(r=d.split("."),d=r.shift(),r.sort()),u=0>d.indexOf(":")&&"on"+d,t=t[be.expando]?t:new be.Event(d,"object"==typeof t&&t),t.isTrigger=s?2:3,t.namespace=r.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),a=null==a?[t]:be.makeArray(a,[t]),h=be.event.special[d]||{},s||!h.trigger||!1!==h.trigger.apply(n,a))){if(!s&&!h.noBubble&&!be.isWindow(n)){for(m=h.delegateType||d,ut.test(m+d)||(l=l.parentNode);l;l=l.parentNode)o.push(l),p=l;p===(n.ownerDocument||oe)&&o.push(p.defaultView||p.parentWindow||e)}for(c=0;(l=o[c++])&&!t.isPropagationStopped();)t.type=1<c?m:h.bindType||d,g=(Ne.get(l,"events")||{})[t.type]&&Ne.get(l,"handle"),g&&g.apply(l,a),g=u&&l[u],g&&g.apply&&Ye(l)&&(t.result=g.apply(l,a),!1===t.result&&t.preventDefault());return t.type=d,s||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(o.pop(),a)||!Ye(n)||!u||!be.isFunction(n[d])||be.isWindow(n)||(p=n[u],p&&(n[u]=null),be.event.triggered=d,n[d](),be.event.triggered=void 0,p&&(n[u]=p)),t.result}},simulate:function(t,a,i){var n=be.extend(new be.Event,i,{type:t,isSimulated:!0});be.event.trigger(n,null,a)}}),be.fn.extend({trigger:function(e,t){return this.each(function(){be.event.trigger(e,t,this)})},triggerHandler:function(e,t){var a=this[0];if(a)return be.event.trigger(e,t,a,!0)}}),be.each(["blur","focus","focusin","focusout","resize","scroll","click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","change","select","submit","keydown","keypress","keyup","contextmenu"],function(e,t){be.fn[t]=function(e,a){return 0<arguments.length?this.on(t,null,e,a):this.trigger(t)}}),be.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ve.focusin="onfocusin"in e,ve.focusin||be.each({focus:"focusin",blur:"focusout"},function(e,t){var a=function(e){be.event.simulate(t,e.target,be.event.fix(e))};be.event.special[t]={setup:function(){var i=this.ownerDocument||this,n=Ne.access(i,t);n||i.addEventListener(e,a,!0),Ne.access(i,t,(n||0)+1)},teardown:function(){var i=this.ownerDocument||this,n=Ne.access(i,t)-1;n?Ne.access(i,t,n):(i.removeEventListener(e,a,!0),Ne.remove(i,t))}}});var gt=e.location,ht=be.now(),_t=/\?/;be.parseXML=function(t){var a;if(!t||"string"!=typeof t)return null;try{a=new e.DOMParser().parseFromString(t,"text/xml")}catch(t){a=void 0}return(!a||a.getElementsByTagName("parsererror").length)&&be.error("Invalid XML: "+t),a};var vt=/\[\]$/,ft=/\r?\n/g;be.param=function(e,t){var a=[],i=function(e,t){var i=be.isFunction(t)?t():t;a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)},n;if(be.isArray(e)||e.jquery&&!be.isPlainObject(e))be.each(e,function(){i(this.name,this.value)});else for(n in e)X(n,e[n],t,i);return a.join("&")},be.fn.extend({serialize:function(){return be.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=be.prop(this,"elements");return e?be.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!be(this).is(":disabled")&&/^(?:input|select|textarea|keygen)/i.test(this.nodeName)&&!/^(?:submit|button|image|reset|file)$/i.test(e)&&(this.checked||!Ue.test(e))}).map(function(e,t){var a=be(this).val();return null==a?null:be.isArray(a)?be.map(a,function(e){return{name:t.name,value:e.replace(ft,"\r\n")}}):{name:t.name,value:a.replace(ft,"\r\n")}}).get()}});var bt={},yt={},At="*/".concat("*"),xt=oe.createElement("a");xt.href=gt.href,be.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":be.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?te(te(e,be.ajaxSettings),t):te(be.ajaxSettings,e)},ajaxPrefilter:Z(bt),ajaxTransport:Z(yt),ajax:function(t,a){function n(t,a,i,n){var p=a,m,u,b,x,S;w||(w=!0,A&&e.clearTimeout(A),h=void 0,f=n||"",g.readyState=0<t?4:0,m=200<=t&&300>t||304===t,i&&(x=ae(o,g,i)),x=ie(o,x,g,m),m?(o.ifModified&&(S=g.getResponseHeader("Last-Modified"),S&&(be.lastModified[v]=S),S=g.getResponseHeader("etag"),S&&(be.etag[v]=S)),204===t||"HEAD"===o.type?p="nocontent":304===t?p="notmodified":(p=x.state,u=x.data,b=x.error,m=!b)):(b=p,(t||!p)&&(p="error",0>t&&(t=0))),g.status=t,g.statusText=(a||p)+"",m?r.resolveWith(s,[u,p,g]):r.rejectWith(s,[g,p,b]),g.statusCode(l),l=void 0,k&&d.trigger(m?"ajaxSuccess":"ajaxError",[g,o,m?u:b]),c.fireWith(s,[g,p]),k&&(d.trigger("ajaxComplete",[g,o]),! --be.active&&be.event.trigger("ajaxStop")))}"object"==typeof t&&(a=t,t=void 0),a=a||{};var o=be.ajaxSetup({},a),s=o.context||o,d=o.context&&(s.nodeType||s.jquery)?be(s):be.event,r=be.Deferred(),c=be.Callbacks("once memory"),l=o.statusCode||{},p={},m={},u="canceled",g={readyState:0,getResponseHeader:function(e){var t;if(w){if(!b)for(b={};t=/^(.*?):[ \t]*([^\r\n]*)$/mg.exec(f);)b[t[1].toLowerCase()]=t[2];t=b[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return w?f:null},setRequestHeader:function(e,t){return null==w&&(e=m[e.toLowerCase()]=m[e.toLowerCase()]||e,p[e]=t),this},overrideMimeType:function(e){return null==w&&(o.mimeType=e),this},statusCode:function(e){if(e)if(w)g.always(e[g.status]);else for(var t in e)l[t]=[l[t],e[t]];return this},abort:function(e){var t=e||u;return h&&h.abort(t),n(0,t),this}},h,v,f,b,A,x,w,k,S,C;if(r.promise(g),o.url=((t||o.url||gt.href)+"").replace(/^\/\//,gt.protocol+"//"),o.type=a.method||a.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(Ee)||[""],null==o.crossDomain){x=oe.createElement("a");try{x.href=o.url,x.href=x.href,o.crossDomain=xt.protocol+"//"+xt.host!=x.protocol+"//"+x.host}catch(t){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=be.param(o.data,o.traditional)),ee(bt,o,a,g),w)return g;for(S in k=be.event&&o.global,k&&0==be.active++&&be.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!/^(?:GET|HEAD)$/.test(o.type),v=o.url.replace(/#.*$/,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(/%20/g,"+")):(C=o.url.slice(v.length),o.data&&(v+=(_t.test(v)?"&":"?")+o.data,delete o.data),!1===o.cache&&(v=v.replace(/([?&])_=[^&]*/,""),C=(_t.test(v)?"&":"?")+"_="+ht++ +C),o.url=v+C),o.ifModified&&(be.lastModified[v]&&g.setRequestHeader("If-Modified-Since",be.lastModified[v]),be.etag[v]&&g.setRequestHeader("If-None-Match",be.etag[v])),(o.data&&o.hasContent&&!1!==o.contentType||a.contentType)&&g.setRequestHeader("Content-Type",o.contentType),g.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"===o.dataTypes[0]?"":", */*; q=0.01"):o.accepts["*"]),o.headers)g.setRequestHeader(S,o.headers[S]);if(o.beforeSend&&(!1===o.beforeSend.call(s,g,o)||w))return g.abort();if(u="abort",c.add(o.complete),g.done(o.success),g.fail(o.error),h=ee(yt,o,a,g),!h)n(-1,"No Transport");else{if(g.readyState=1,k&&d.trigger("ajaxSend",[g,o]),w)return g;o.async&&0<o.timeout&&(A=e.setTimeout(function(){g.abort("timeout")},o.timeout));try{w=!1,h.send(p,n)}catch(t){if(w)throw t;n(-1,t)}}return g},getJSON:function(e,t,a){return be.get(e,t,a,"json")},getScript:function(e,t){return be.get(e,void 0,t,"script")}}),be.each(["get","post"],function(e,t){be[t]=function(e,a,i,n){return be.isFunction(a)&&(n=n||i,i=a,a=void 0),be.ajax(be.extend({url:e,type:t,dataType:n,data:a,success:i},be.isPlainObject(e)&&e))}}),be._evalUrl=function(e){return be.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},be.fn.extend({wrapAll:function(e){var t;return this[0]&&(be.isFunction(e)&&(e=e.call(this[0])),t=be(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return be.isFunction(e)?this.each(function(t){be(this).wrapInner(e.call(this,t))}):this.each(function(){var t=be(this),a=t.contents();a.length?a.wrapAll(e):t.append(e)})},wrap:function(e){var t=be.isFunction(e);return this.each(function(a){be(this).wrapAll(t?e.call(this,a):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){be(this).replaceWith(this.childNodes)}),this}}),be.expr.pseudos.hidden=function(e){return!be.expr.pseudos.visible(e)},be.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},be.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var wt={0:200,1223:204},kt=be.ajaxSettings.xhr();ve.cors=!!kt&&"withCredentials"in kt,ve.ajax=kt=!!kt,be.ajaxTransport(function(t){var a,n;if(ve.cors||kt&&!t.crossDomain)return{send:function(s,o){var d=t.xhr(),r;if(d.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)d[r]=t.xhrFields[r];for(r in t.mimeType&&d.overrideMimeType&&d.overrideMimeType(t.mimeType),t.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest"),s)d.setRequestHeader(r,s[r]);a=function(e){return function(){a&&(a=n=d.onload=d.onerror=d.onabort=d.onreadystatechange=null,"abort"===e?d.abort():"error"===e?"number"==typeof d.status?o(d.status,d.statusText):o(0,"error"):o(wt[d.status]||d.status,d.statusText,"text"!==(d.responseType||"text")||"string"!=typeof d.responseText?{binary:d.response}:{text:d.responseText},d.getAllResponseHeaders()))}},d.onload=a(),n=d.onerror=a("error"),void 0===d.onabort?d.onreadystatechange=function(){4===d.readyState&&e.setTimeout(function(){a&&n()})}:d.onabort=n,a=a("abort");try{d.send(t.hasContent&&t.data||null)}catch(t){if(a)throw t}},abort:function(){a&&a()}}}),be.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),be.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return be.globalEval(e),e}}}),be.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),be.ajaxTransport("script",function(e){if(e.crossDomain){var t,a;return{send:function(i,n){t=be("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",a=function(e){t.remove(),a=null,e&&n("error"===e.type?404:200,e.type)}),oe.head.appendChild(t[0])},abort:function(){a&&a()}}}});var St=[],Ct=/(=)\?(?=&|$)|\?\?/;be.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=St.pop()||be.expando+"_"+ht++;return this[e]=!0,e}}),be.ajaxPrefilter("json jsonp",function(t,a,i){var n=!1!==t.jsonp&&(Ct.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ct.test(t.data)&&"data"),s,o,d;if(n||"jsonp"===t.dataTypes[0])return s=t.jsonpCallback=be.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,n?t[n]=t[n].replace(Ct,"$1"+s):!1!==t.jsonp&&(t.url+=(_t.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return d||be.error(s+" was not called"),d[0]},t.dataTypes[0]="json",o=e[s],e[s]=function(){d=arguments},i.always(function(){void 0===o?be(e).removeProp(s):e[s]=o,t[s]&&(t.jsonpCallback=a.jsonpCallback,St.push(s)),d&&be.isFunction(o)&&o(d[0]),d=o=void 0}),"script"}),ve.createHTMLDocument=function(){var e=oe.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),be.parseHTML=function(e,t,a){if("string"!=typeof e)return[];"boolean"==typeof t&&(a=t,t=!1);var i,n,s;return(t||(ve.createHTMLDocument?(t=oe.implementation.createHTMLDocument(""),i=t.createElement("base"),i.href=oe.location.href,t.head.appendChild(i)):t=oe),n=Se.exec(e),s=!a&&[],n)?[t.createElement(n[1])]:(n=k([e],t,s),s&&s.length&&be(s).remove(),be.merge([],n.childNodes))},be.fn.load=function(e,t,a){var i=this,n=e.indexOf(" "),s,o,d;return-1<n&&(s=be.trim(e.slice(n)),e=e.slice(0,n)),be.isFunction(t)?(a=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<i.length&&be.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){d=arguments,i.html(s?be("<div>").append(be.parseHTML(e)).find(s):e)}).always(a&&function(e,t){i.each(function(){a.apply(this,d||[e.responseText,t,e])})}),this},be.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){be.fn[t]=function(e){return this.on(t,e)}}),be.expr.pseudos.animated=function(e){return be.grep(be.timers,function(t){return e===t.elem}).length},be.offset={setOffset:function(e,t,a){var i=be.css(e,"position"),n=be(e),s={},o,d,r,c,l,p,m;"static"===i&&(e.style.position="relative"),l=n.offset(),r=be.css(e,"top"),p=be.css(e,"left"),m=("absolute"===i||"fixed"===i)&&-1<(r+p).indexOf("auto"),m?(o=n.position(),c=o.top,d=o.left):(c=parseFloat(r)||0,d=parseFloat(p)||0),be.isFunction(t)&&(t=t.call(e,a,be.extend({},l))),null!=t.top&&(s.top=t.top-l.top+c),null!=t.left&&(s.left=t.left-l.left+d),"using"in t?t.using.call(e,s):n.css(s)}},be.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){be.offset.setOffset(this,e,t)});var t=this[0],a,i,n,s;if(t)return t.getClientRects().length?(n=t.getBoundingClientRect(),n.width||n.height?(s=t.ownerDocument,i=ne(s),a=s.documentElement,{top:n.top+i.pageYOffset-a.clientTop,left:n.left+i.pageXOffset-a.clientLeft}):n):{top:0,left:0}},position:function(){if(this[0]){var e=this[0],t={top:0,left:0},a,i;return"fixed"===be.css(e,"position")?i=e.getBoundingClientRect():(a=this.offsetParent(),i=this.offset(),!be.nodeName(a[0],"html")&&(t=a.offset()),t={top:t.top+be.css(a[0],"borderTopWidth",!0),left:t.left+be.css(a[0],"borderLeftWidth",!0)}),{top:i.top-t.top-be.css(e,"marginTop",!0),left:i.left-t.left-be.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===be.css(e,"position");)e=e.offsetParent;return e||Qe})}}),be.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var a="pageYOffset"===t;be.fn[e]=function(i){return Ie(this,function(e,i,n){var s=ne(e);return void 0===n?s?s[t]:e[i]:void(s?s.scrollTo(a?s.pageXOffset:n,a?n:s.pageYOffset):e[i]=n)},e,i,arguments.length)}}),be.each(["top","left"],function(e,t){be.cssHooks[t]=O(ve.pixelPosition,function(e,a){if(a)return a=R(e,t),tt.test(a)?be(e).position()[t]+"px":a})}),be.each({Height:"height",Width:"width"},function(e,t){be.each({padding:"inner"+e,content:t,"":"outer"+e},function(a,i){be.fn[i]=function(n,o){var d=arguments.length&&(a||"boolean"!=typeof n),r=a||(!0===n||!0===o?"margin":"border");return Ie(this,function(t,a,n){var o;return be.isWindow(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,s(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===n?be.css(t,a,r):be.style(t,a,n,r)},t,d?n:void 0,d)}})}),be.fn.extend({bind:function(e,t,a){return this.on(e,null,t,a)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,a,i){return this.on(t,e,a,i)},undelegate:function(e,t,a){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",a)}}),be.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return be});var Mt=e.jQuery,Lt=e.$;return be.noConflict=function(t){return e.$===be&&(e.$=Lt),t&&e.jQuery===be&&(e.jQuery=Mt),be},t||(e.jQuery=e.$=be),be}),function(e){var t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(a,i,n){t.Backbone=e(t,n,a,i)});else if("undefined"!=typeof exports){var a=require("underscore"),i;try{i=require("jquery")}catch(t){}e(t,exports,a,i)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(function(e,t,a,i){var n=Math.max,s=e.Backbone,o=Array.prototype.slice;t.VERSION="1.3.3",t.$=i,t.noConflict=function(){return e.Backbone=s,this},t.emulateHTTP=!1,t.emulateJSON=!1;var d=function(e,t,i){return 1===e?function(){return a[t](this[i])}:2===e?function(e){return a[t](this[i],e)}:3===e?function(e,n){return a[t](this[i],c(e,this),n)}:4===e?function(e,n,s){return a[t](this[i],c(e,this),n,s)}:function(){var e=o.call(arguments);return e.unshift(this[i]),a[t].apply(a,e)}},r=function(e,t,i){a.each(t,function(t,n){a[n]&&(e.prototype[n]=d(t,n,i))})},c=function(e,t){return a.isFunction(e)?e:a.isObject(e)&&!t._isModel(e)?l(e):a.isString(e)?function(t){return t.get(e)}:e},l=function(e){var t=a.matches(e);return function(e){return t(e.attributes)}},p=t.Events={},m=/\s+/,u=function(e,t,n,s,o){var d=0,r;if(n&&"object"==typeof n)for(void 0!==s&&("context"in o)&&void 0===o.context&&(o.context=s),r=a.keys(n);d<r.length;d++)t=u(e,t,r[d],n[r[d]],o);else if(n&&m.test(n))for(r=n.split(m);d<r.length;d++)t=e(t,r[d],s,o);else t=e(t,n,s,o);return t};p.on=function(e,t,a){return g(this,e,t,a)};var g=function(e,t,a,i,n){if(e._events=u(h,e._events||{},t,a,{context:i,ctx:e,listening:n}),n){var s=e._listeners||(e._listeners={});s[n.id]=n}return e};p.listenTo=function(e,t,i){if(!e)return this;var n=e._listenId||(e._listenId=a.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),o=s[n];if(!o){var d=this._listenId||(this._listenId=a.uniqueId("l"));o=s[n]={obj:e,objId:n,id:d,listeningTo:s,count:0}}return g(e,t,i,this,o),this};var h=function(e,t,a,i){if(a){var n=e[t]||(e[t]=[]),s=i.context,o=i.ctx,d=i.listening;d&&d.count++,n.push({callback:a,context:s,ctx:s||o,listening:d})}return e};p.off=function(e,t,a){return this._events?(this._events=u(v,this._events,e,t,{context:a,listeners:this._listeners}),this):this},p.stopListening=function(e,t,n){var s=this._listeningTo;if(!s)return this;for(var o=e?[e._listenId]:a.keys(s),d=0,r;d<o.length&&(r=s[o[d]],!!r);d++)r.obj.off(t,n,this);return this};var v=function(e,t,n,s){if(e){var o=0,d=s.context,r=s.listeners,c;if(!t&&!n&&!d){for(var l=a.keys(r);o<l.length;o++)c=r[l[o]],delete r[c.id],delete c.listeningTo[c.objId];return}for(var p=t?[t]:a.keys(e);o<p.length;o++){t=p[o];var m=e[t];if(!m)break;for(var u=[],g=0,h;g<m.length;g++)h=m[g],n&&n!==h.callback&&n!==h.callback._callback||d&&d!==h.context?u.push(h):(c=h.listening,c&&0==--c.count&&(delete r[c.id],delete c.listeningTo[c.objId]));u.length?e[t]=u:delete e[t]}return e}};p.once=function(e,t,i){var n=u(f,{},e,t,a.bind(this.off,this));return"string"==typeof e&&null==i&&(t=void 0),this.on(n,t,i)},p.listenToOnce=function(e,t,i){var n=u(f,{},t,i,a.bind(this.stopListening,this,e));return this.listenTo(e,n)};var f=function(e,t,i,n){if(i){var s=e[t]=a.once(function(){n(t,s),i.apply(this,arguments)});s._callback=i}return e};p.trigger=function(e){if(!this._events)return this;for(var t=n(0,arguments.length-1),a=Array(t),s=0;s<t;s++)a[s]=arguments[s+1];return u(b,this._events,e,void 0,a),this};var b=function(e,t,a,i){if(e){var n=e[t],s=e.all;n&&s&&(s=s.slice()),n&&A(n,i),s&&A(s,[t].concat(i))}return e},A=function(e,t){var a=-1,n=e.length,s=t[0],o=t[1],d=t[2],r;switch(t.length){case 0:for(;++a<n;)(r=e[a]).callback.call(r.ctx);return;case 1:for(;++a<n;)(r=e[a]).callback.call(r.ctx,s);return;case 2:for(;++a<n;)(r=e[a]).callback.call(r.ctx,s,o);return;case 3:for(;++a<n;)(r=e[a]).callback.call(r.ctx,s,o,d);return;default:for(;++a<n;)(r=e[a]).callback.apply(r.ctx,t);}};p.bind=p.on,p.unbind=p.off,a.extend(t,p);var x=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=a.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{});var n=a.result(this,"defaults");i=a.defaults(a.extend({},n,i),n),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};a.extend(x.prototype,p,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return a.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!a.iteratee(e,this)(this.attributes)},set:function(e,t,n){if(null==e)return this;var s;if("object"==typeof e?(s=e,n=t):(s={})[e]=t,n||(n={}),!this._validate(s,n))return!1;var o=n.unset,d=n.silent,r=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=a.clone(this.attributes),this.changed={});var l=this.attributes,p=this.changed,m=this._previousAttributes;for(var u in s)t=s[u],a.isEqual(l[u],t)||r.push(u),a.isEqual(m[u],t)?delete p[u]:p[u]=t,o?delete l[u]:l[u]=t;if(this.idAttribute in s&&(this.id=this.get(this.idAttribute)),!d){r.length&&(this._pending=n);for(var g=0;g<r.length;g++)this.trigger("change:"+r[g],this,l[r[g]],n)}if(c)return this;if(!d)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,a.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,a.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!a.isEmpty(this.changed):a.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&a.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,i={};for(var n in e){var s=e[n];a.isEqual(t[n],s)||(i[n]=s)}return!!a.size(i)&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(e){e=a.extend({parse:!0},e);var t=this,i=e.success;return e.success=function(a){var n=e.parse?t.parse(a,e):a;return!!t.set(n,e)&&void(i&&i.call(e.context,t,a,e),t.trigger("sync",t,a,e))},Y(this,e),this.sync("read",this,e)},save:function(e,t,i){var n;null==e||"object"==typeof e?(n=e,i=t):(n={})[e]=t,i=a.extend({validate:!0,parse:!0},i);var s=i.wait;if(n&&!s){if(!this.set(n,i))return!1;}else if(!this._validate(n,i))return!1;var o=this,d=i.success,r=this.attributes;i.success=function(e){o.attributes=r;var t=i.parse?o.parse(e,i):e;return s&&(t=a.extend({},n,t)),(!t||o.set(t,i))&&void(d&&d.call(i.context,o,e,i),o.trigger("sync",o,e,i))},Y(this,i),n&&s&&(this.attributes=a.extend({},r,n));var c=this.isNew()?"create":i.patch?"patch":"update";"patch"!=c||i.attrs||(i.attrs=n);var l=this.sync(c,this,i);return this.attributes=r,l},destroy:function(e){e=e?a.clone(e):{};var t=this,i=e.success,n=e.wait,s=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(a){n&&s(),i&&i.call(e.context,t,a,e),t.isNew()||t.trigger("sync",t,a,e)};var o=!1;return this.isNew()?a.defer(e.success):(Y(this,e),o=this.sync("delete",this,e)),n||s(),o},url:function(){var e=a.result(this,"urlRoot")||a.result(this.collection,"url")||I();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},a.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=a.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,a.extend(t,{validationError:i})),!1)}});r(x,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var w=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,a.extend({silent:!0},t))},k={add:!0,remove:!0,merge:!0},S={add:!0,remove:!1},C=function(e,t,a){a=Math.min(n(a,0),e.length);var s=Array(e.length-a),o=t.length,d;for(d=0;d<s.length;d++)s[d]=e[d+a];for(d=0;d<o;d++)e[d+a]=t[d];for(d=0;d<s.length;d++)e[d+o+a]=s[d]};a.extend(w.prototype,p,{model:x,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,a.extend({merge:!1},t,S))},remove:function(e,t){t=a.extend({},t);var i=!a.isArray(e);e=i?[e]:e.slice();var n=this._removeModels(e,t);return!t.silent&&n.length&&(t.changes={added:[],merged:[],removed:n},this.trigger("update",this,t)),i?n[0]:n},set:function(e,t){if(null!=e){t=a.extend({},k,t),t.parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var n=!a.isArray(e);e=n?[e]:e.slice();var s=t.at;null!=s&&(s=+s),s>this.length&&(s=this.length),0>s&&(s+=this.length+1);var o=[],d=[],r=[],c=[],l={},p=t.add,m=t.merge,u=t.remove,g=!1,h=this.comparator&&null==s&&!1!==t.sort,v=a.isString(this.comparator)?this.comparator:null,f,b;for(b=0;b<e.length;b++){f=e[b];var A=this.get(f);if(A){if(m&&f!==A){var x=this._isModel(f)?f.attributes:f;t.parse&&(x=A.parse(x,t)),A.set(x,t),r.push(A),h&&!g&&(g=A.hasChanged(v))}l[A.cid]||(l[A.cid]=!0,o.push(A)),e[b]=A}else p&&(f=e[b]=this._prepareModel(f,t),f&&(d.push(f),this._addReference(f,t),l[f.cid]=!0,o.push(f)))}if(u){for(b=0;b<this.length;b++)f=this.models[b],l[f.cid]||c.push(f);c.length&&this._removeModels(c,t)}var w=!1;if(o.length&&!h&&p&&u?(w=this.length!==o.length||a.some(this.models,function(e,t){return e!==o[t]}),this.models.length=0,C(this.models,o,0),this.length=this.models.length):d.length&&(h&&(g=!0),C(this.models,d,null==s?this.length:s),this.length=this.models.length),g&&this.sort({silent:!0}),!t.silent){for(b=0;b<d.length;b++)null!=s&&(t.index=s+b),f=d[b],f.trigger("add",f,this,t);(g||w)&&this.trigger("sort",this,t),(d.length||c.length||r.length)&&(t.changes={added:d,removed:c,merged:r},this.trigger("update",this,t))}return n?e[0]:e}},reset:function(e,t){t=t?a.clone(t):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,a.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,a.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,a.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[this.modelId(e.attributes||e)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return 0>e&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var i=t.length;return a.isFunction(t)&&(t=a.bind(t,this)),1===i||a.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){e=a.extend({parse:!0},e);var t=e.success,i=this;return e.success=function(a){var n=e.reset?"reset":"set";i[n](a,e),t&&t.call(e.context,i,a,e),i.trigger("sync",i,a,e)},Y(this,e),this.sync("read",this,e)},create:function(e,t){t=t?a.clone(t):{};var i=t.wait;if(e=this._prepareModel(e,t),!e)return!1;i||this.add(e,t);var n=this,s=t.success;return t.success=function(e,t,a){i&&n.add(e,a),s&&s.call(a.context,e,t,a)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?a.clone(t):{},t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeModels:function(e,t){for(var a=[],n=0,s;n<e.length;n++)if(s=this.get(e[n]),s){var o=this.indexOf(s);this.models.splice(o,1),this.length--,delete this._byId[s.cid];var d=this.modelId(s.attributes);null!=d&&delete this._byId[d],t.silent||(t.index=o,s.trigger("remove",s,this,t)),a.push(s),this._removeReference(s,t)}return a},_isModel:function(e){return e instanceof x},_addReference:function(e){this._byId[e.cid]=e;var t=this.modelId(e.attributes);null!=t&&(this._byId[t]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e){delete this._byId[e.cid];var t=this.modelId(e.attributes);null!=t&&delete this._byId[t],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,a,i){if(t){if(("add"===e||"remove"===e)&&a!==this)return;if("destroy"===e&&this.remove(t,i),"change"===e){var n=this.modelId(t.previousAttributes()),s=this.modelId(t.attributes);n!==s&&(null!=n&&delete this._byId[n],null!=s&&(this._byId[s]=t))}}this.trigger.apply(this,arguments)}});r(w,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var M=t.View=function(e){this.cid=a.uniqueId("view"),a.extend(this,a.pick(e,L)),this._ensureElement(),this.initialize.apply(this,arguments)},L=["model","collection","el","id","attributes","className","tagName","events"];a.extend(M.prototype,p,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=a.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var i=e[t];if(a.isFunction(i)||(i=this[i]),i){var n=t.match(/^(\S+)\s*(.*)$/);this.delegate(n[1],n[2],a.bind(i,this))}}return this},delegate:function(e,t,a){return this.$el.on(e+".delegateEvents"+this.cid,t,a),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,a){return this.$el.off(e+".delegateEvents"+this.cid,t,a),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(!this.el){var e=a.extend({},a.result(this,"attributes"));this.id&&(e.id=a.result(this,"id")),this.className&&(e["class"]=a.result(this,"className")),this.setElement(this._createElement(a.result(this,"tagName"))),this._setAttributes(e)}else this.setElement(a.result(this,"el"))},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,i,n){var s=T[e];a.defaults(n||(n={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};if(n.url||(o.url=a.result(i,"url")||I()),null==n.data&&i&&("create"===e||"update"===e||"patch"===e)&&(o.contentType="application/json",o.data=JSON.stringify(n.attrs||i.toJSON(n))),n.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),n.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",n.emulateJSON&&(o.data._method=s);var d=n.beforeSend;n.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",s),d)return d.apply(this,arguments)}}"GET"===o.type||n.emulateJSON||(o.processData=!1);var r=n.error;n.error=function(e,t,a){n.textStatus=t,n.errorThrown=a,r&&r.call(n.context,e,t,a)};var c=n.xhr=t.ajax(a.extend(o,n));return i.trigger("request",i,c,n),c};var T={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var E=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)};a.extend(E.prototype,p,{initialize:function(){},route:function(e,i,n){a.isRegExp(e)||(e=this._routeToRegExp(e)),a.isFunction(i)&&(n=i,i=""),n||(n=this[i]);var s=this;return t.history.route(e,function(a){var o=s._extractParameters(e,a);!1!==s.execute(n,o,i)&&(s.trigger.apply(s,["route:"+i].concat(o)),s.trigger("route",i,o),t.history.trigger("route",s,i,o))}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,a){return t.history.navigate(e,a),this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");for(var e=a.keys(this.routes),t;null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(e){return e=e.replace(/[\-{}\[\]+?.,\\\^$|#\s]/g,"\\$&").replace(/\((.*?)\)/g,"(?:$1)?").replace(/(\(\?)?:\w+/g,function(e,t){return t?e:"([^/?]+)"}).replace(/\*\w+/g,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return a.map(n,function(e,t){return t===n.length-1?e||null:e?decodeURIComponent(e):null})}});var D=t.History=function(){this.handlers=[],this.checkUrl=a.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)};D.started=!1,a.extend(D.prototype,p,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(this._usePushState||!this._wantsHashChange?e=this.getPath():e=this.getHash()),e.replace(/^[#\/]|\s+$/g,"")},start:function(e){if(D.started)throw new Error("Backbone.history has already been started");if(D.started=!0,this.options=a.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(/^\/+|\/+$/g,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,n=i.insertBefore(this.iframe,i.firstChild).contentWindow;n.document.open(),n.document.close(),n.location.hash="#"+this.fragment}var s=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&void(this.iframe&&this.navigate(e),this.loadUrl())},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),a.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!D.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var a=this.root;(""===e||"?"===e.charAt(0))&&(a=a.slice(0,-1)||"/");var i=a+e;if(e=this.decodeFragment(e.replace(/#.*$/,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var n=this.iframe.contentWindow;t.replace||(n.document.open(),n.document.close()),this._updateHash(n.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,a){if(a){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new D;x.extend=w.extend=E.extend=M.extend=D.extend=function(e,t){var i=this,n;return n=e&&a.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},a.extend(n,i,t),n.prototype=a.create(i.prototype,e),n.prototype.constructor=n,n.__super__=i.prototype,n};var I=function(){throw new Error("A \"url\" property or function must be specified")},Y=function(e,t){var a=t.error;t.error=function(i){a&&a.call(t.context,e,i,t),e.trigger("error",e,i,t)}};return t}),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("moment",e):t.moment=e()}(this,function(){"use strict";var oe=Math.round,ve=Math.abs,be=Math.ceil,we=Math.floor,Oe=Math.min;function Pe(){return Pi.apply(null,arguments)}function M(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function He(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;for(var e in t)if(He(t,e))return;return 1}function o(t){return void 0===t}function Be(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function d(i,e){for(var a=[],t=0;t<i.length;++t)a.push(e(i[t],t));return a}function m(i,e){for(var a in e)He(e,a)&&(i[a]=e[a]);return He(e,"toString")&&(i.toString=e.toString),He(e,"valueOf")&&(i.valueOf=e.valueOf),i}function l(i,e,a,t){return va(i,e,a,t,!0).utc()}function c(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function u(i){if(null==i._isValid){var e=c(i),a=Hi.call(e.parsedDateParts,function(t){return null!=t}),t=!isNaN(i._d.getTime())&&0>e.overflow&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&a);if(i._strict&&(t=t&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(i))return t;i._isValid=t}return i._isValid}function L(t){var e=l(NaN);return null==t?c(e).userInvalidated=!0:m(c(e),t),e}function Y(i,e){var a,d,r;if(o(e._isAMomentObject)||(i._isAMomentObject=e._isAMomentObject),o(e._i)||(i._i=e._i),o(e._f)||(i._f=e._f),o(e._l)||(i._l=e._l),o(e._strict)||(i._strict=e._strict),o(e._tzm)||(i._tzm=e._tzm),o(e._isUTC)||(i._isUTC=e._isUTC),o(e._offset)||(i._offset=e._offset),o(e._pf)||(i._pf=c(e)),o(e._locale)||(i._locale=e._locale),0<Bi.length)for(a=0;a<Bi.length;a++)o(r=e[d=Bi[a]])||(i[d]=r);return i}function p(t){Y(this,t),this._d=new Date(null==t._d?NaN:t._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1===f&&(f=!0,Pe.updateOffset(this),f=!1)}function k(t){return t instanceof p||null!=t&&null!=t._isAMomentObject}function D(t){!1===Pe.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function T(i,n){var o=!0;return m(function(){if(null!=Pe.deprecationHandler&&Pe.deprecationHandler(null,i),o){for(var d=[],t=0,r,c;t<arguments.length;t++){if(r="","object"==typeof arguments[t]){for(c in r+="\n["+t+"] ",arguments[0])He(arguments[0],c)&&(r+=c+": "+arguments[0][c]+", ");r=r.slice(0,-2)}else r=arguments[t];d.push(r)}D(i+"\nArguments: "+Array.prototype.slice.call(d).join("")+"\n"+new Error().stack),o=!1}return n.apply(this,arguments)},n)}function qe(t,e){null!=Pe.deprecationHandler&&Pe.deprecationHandler(t,e),Fi[t]||(D(e),Fi[t]=!0)}function w(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function v(n,e){var a=m({},n),s;for(s in e)He(e,s)&&(i(n[s])&&i(e[s])?(a[s]={},m(a[s],n[s]),m(a[s],e[s])):null==e[s]?delete a[s]:a[s]=e[s]);for(s in n)He(n,s)&&!He(e,s)&&i(n[s])&&(a[s]=m({},a[s]));return a}function b(t){null!=t&&this.set(t)}function S(i,e,a){var t=""+ve(i),s=e-t.length;return(0<=i?a?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+t}function H(i,e,a,t){var s="string"==typeof t?function(){return this[t]()}:t;i&&(P[i]=s),e&&(P[e[0]]=function(){return S(s.apply(this,arguments),e[1],e[2])}),a&&(P[a]=function(){return this.localeData().ordinal(s.apply(this,arguments),i)})}function W(t,e){return t.isValid()?(e=A(e,t.localeData()),x[e]=x[e]||function(i){for(var s=i.match(Vi),t=0,n=s.length,o;t<n;t++)s[t]=P[s[t]]?P[s[t]]:(o=s[t]).match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"");return function(o){for(var e="",d=0;d<n;d++)e+=w(s[d])?s[d].call(o,i):s[d];return e}}(e),x[e](t)):t.localeData().invalidDate()}function A(i,n){function a(t){return n.longDateFormat(t)||t}var s=5;for(j.lastIndex=0;0<=s&&j.test(i);)i=i.replace(j,a),j.lastIndex=0,--s;return i}function t(i,e){var a=i.toLowerCase();O[a]=O[a+"s"]=O[e]=i}function E(t){return"string"==typeof t?O[t]||O[t.toLowerCase()]:void 0}function N(i){var e={},n,s;for(s in i)He(i,s)&&(n=E(s))&&(e[n]=i[s]);return e}function z(t,e){F[t]=e}function C(t){return 0==t%4&&0!=t%100||0==t%400}function I(t){return 0>t?be(t)||0:we(t)}function U(i){var e=+i,a=0;return 0!=e&&isFinite(e)&&(a=I(e)),a}function G(i,a){return function(t){return null==t?V(this,i):(B(this,i,t),Pe.updateOffset(this,a),this)}}function V(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function B(i,e,a){i.isValid()&&!isNaN(a)&&("FullYear"===e&&C(i.year())&&1===i.month()&&29===i.date()?(a=U(a),i._d["set"+(i._isUTC?"UTC":"")+e](a,i.month(),Le(a,i.month()))):i._d["set"+(i._isUTC?"UTC":"")+e](a))}function J(a,i,t){ue[a]=w(i)?i:function(a){return a&&t?t:i}}function K(t,e){return He(ue,t)?ue[t](e._strict,e._locale):new RegExp(le(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(i,e,a,t,s){return e||a||t||s})))}function le(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function he(i,n){var t=n,o;for("string"==typeof i&&(i=[i]),Be(n)&&(t=function(t,e){e[n]=U(t)}),o=0;o<i.length;o++)qi[i[o]]=t}function Me(t,i){he(t,function(n,e,a,t){a._w=a._w||{},i(n,a._w,a,t)})}function Le(i,n){if(isNaN(i)||isNaN(n))return NaN;var a=(n%(s=12)+s)%s,s;return i+=(n-a)/12,1==a?C(i)?29:28:31-a%7%2}function Se(i,e){var n;if(!i.isValid())return i;if("string"==typeof e)if(/^\d+$/.test(e))e=U(e);else if(!Be(e=i.localeData().monthsParse(e)))return i;return n=Oe(i.date(),Le(i.year(),e)),i._d["set"+(i._isUTC?"UTC":"")+"Month"](e,n),i}function Ye(t){return null==t?V(this,"Month"):(Se(this,t),Pe.updateOffset(this,!0),this)}function Ae(){function i(t,e){return e.length-t.length}for(var e=[],t=[],s=[],n=0,o;12>n;n++)o=l([2e3,n]),e.push(this.monthsShort(o,"")),t.push(this.months(o,"")),s.push(this.months(o,"")),s.push(this.monthsShort(o,""));for(e.sort(i),t.sort(i),s.sort(i),n=0;12>n;n++)e[n]=le(e[n]),t[n]=le(t[n]);for(n=0;24>n;n++)s[n]=le(s[n]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Ee(t){return C(t)?366:365}function Fe(i){var e,n;return 100>i&&0<=i?((n=Array.prototype.slice.call(arguments))[0]=i+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(i)):e=new Date(Date.UTC.apply(null,arguments)),e}function Ne(i,e,a){var t=7+e-a;return t-(7+Fe(i,0,t).getUTCDay()-e)%7-1}function We(o,e,a,t,s){var n=1+7*(e-1)+(7+a-t)%7+Ne(o,t,s),d=0>=n?Ee(i=o-1)+n:n>Ee(o)?(i=o+1,n-Ee(o)):(i=o,n),i;return{year:i,dayOfYear:d}}function Re(i,e,a){var t=Ne(i.year(),e,a),o=we((i.dayOfYear()-t-1)/7)+1,d,r;return 1>o?d=o+Ce(r=i.year()-1,e,a):o>Ce(i.year(),e,a)?(d=o-Ce(i.year(),e,a),r=i.year()+1):(r=i.year(),d=o),{week:d,year:r}}function Ce(i,e,a){var t=Ne(i,e,a),s=Ne(i+1,e,a);return(Ee(i)-t+s)/7}function Ie(t,e){return t.slice(e,7).concat(t.slice(0,e))}function Ue(){function c(t,e){return e.length-t.length}for(var e=[],r=[],d=[],i=[],p=0,m,u,g,h;7>p;p++)m=l([2e3,1]).day(p),u=le(this.weekdaysMin(m,"")),g=le(this.weekdaysShort(m,"")),h=le(this.weekdays(m,"")),e.push(u),r.push(g),d.push(h),i.push(u),i.push(g),i.push(h);e.sort(c),r.sort(c),d.sort(c),i.sort(c),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function $e(){return this.hours()%12||12}function Ge(t,e){H(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Qe(t,e){return e._meridiemParse}function Je(t){return t?t.toLowerCase().replace("_","-"):t}function Ke(i){for(var e=0,o,d,c,l;e<i.length;){for(o=(l=Je(i[e]).split("-")).length,d=(d=Je(i[e+1]))?d.split("-"):null;0<o;){if(c=Xe(l.slice(0,o).join("-")))return c;if(d&&d.length>=o&&function(i,e){for(var a=Oe(i.length,e.length),t=0;t<a;t+=1)if(i[t]!==e[t])return t;return a}(l,d)>=o-1)break;o--}e++}return pa}function Xe(t){var a;if(void 0===sa[t]&&"undefined"!=typeof module&&module&&module.exports)try{a=pa._abbr,require("./locale/"+t),Ze(a)}catch(a){sa[t]=null}return sa[t]}function Ze(i,e){var a;return i&&((a=o(e)?ea(i):nt(i,e))?pa=a:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+i+" not found. Did you forget to load it?")),pa._abbr}function nt(i,e){if(null===e)return delete sa[i],null;var a=aa,n;if(e.abbr=i,null!=sa[i])qe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=sa[i]._config;else if(null!=e.parentLocale)if(null!=sa[e.parentLocale])a=sa[e.parentLocale]._config;else{if(null==(n=Xe(e.parentLocale)))return na[e.parentLocale]||(na[e.parentLocale]=[]),na[e.parentLocale].push({name:i,config:e}),null;a=n._config}return sa[i]=new b(v(a,e)),na[i]&&na[i].forEach(function(t){nt(t.name,t.config)}),Ze(i),sa[i]}function ea(t){var i;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return pa;if(!M(t)){if(i=Xe(t))return i;t=[t]}return Ke(t)}function ia(i){var e=i._a,t;return e&&-2===c(i).overflow&&(t=0>e[1]||11<e[1]?1:1>e[2]||e[2]>Le(e[0],e[1])?2:0>e[3]||24<e[3]||24===e[3]&&(0!==e[4]||0!==e[5]||0!==e[6])?3:0>e[4]||59<e[4]?4:0>e[5]||59<e[5]?5:0>e[6]||999<e[6]?6:-1,c(i)._overflowDayOfYear&&(t<0||2<t)&&(t=2),c(i)._overflowWeeks&&-1===t&&(t=7),c(i)._overflowWeekday&&-1===t&&(t=8),c(i).overflow=t),i}function oa(o){var e=o._i,i=ra.exec(e)||Ma.exec(e),l,p,m,u,g,h;if(i){for(c(o).iso=!0,l=0,p=ca.length;l<p;l++)if(ca[l][1].exec(i[1])){u=ca[l][0],m=!1!==ca[l][2];break}if(null==u)return void(o._isValid=!1);if(i[3]){for(l=0,p=La.length;l<p;l++)if(La[l][1].exec(i[3])){g=(i[2]||" ")+La[l][0];break}if(null==g)return void(o._isValid=!1)}if(!m&&null!=g)return void(o._isValid=!1);if(i[4]){if(!ha.exec(i[4]))return void(o._isValid=!1);h="Z"}o._f=u+(g||"")+(h||""),ga(o)}else o._isValid=!1}function da(i,e,a,t,s,n){var o=[function(t){var e=parseInt(t,10);{if(49>=e)return 2e3+e;if(999>=e)return 1900+e}return e}(i),zi.indexOf(e),parseInt(a,10),parseInt(t,10),parseInt(s,10)];return n&&o.push(parseInt(n,10)),o}function la(i){var e=ya.exec(i._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")),o,d,r,l;if(e){if(o=da(e[4],e[3],e[2],e[5],e[6],e[7]),d=e[1],r=o,l=i,d&&ze.indexOf(d)!==new Date(r[0],r[1],r[2]).getDay()&&(c(l).weekdayMismatch=!0,!void(l._isValid=!1)))return;i._a=o,i._tzm=function(i,e,a){if(i)return fa[i];if(e)return 0;var t=parseInt(a,10),s=t%100;return 60*((t-s)/100)+s}(e[8],e[9],e[10]),i._d=Fe.apply(null,i._a),i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),c(i).rfc2822=!0}else i._isValid=!1}function ma(i,e,a){return null==i?null==e?a:e:i}function ua(o){var e=[],l,p,m,u,g,h,v;if(!o._d){for(h=o,v=new Date(Pe.now()),m=h._useUTC?[v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()]:[v.getFullYear(),v.getMonth(),v.getDate()],o._w&&null==o._a[2]&&null==o._a[1]&&function(l){var e,p,m,u,g,h,v,f,b;null!=(e=l._w).GG||null!=e.W||null!=e.E?(g=1,h=4,p=ma(e.GG,l._a[0],Re(ba(),1,4).year),m=ma(e.W,1),(1>(u=ma(e.E,1))||7<u)&&(f=!0)):(g=l._locale._week.dow,h=l._locale._week.doy,b=Re(ba(),g,h),p=ma(e.gg,l._a[0],b.year),m=ma(e.w,b.week),null==e.d?null==e.e?u=g:(u=e.e+g,(0>e.e||6<e.e)&&(f=!0)):(0>(u=e.d)||6<u)&&(f=!0)),1>m||m>Ce(p,g,h)?c(l)._overflowWeeks=!0:null==f?(v=We(p,m,u,g,h),l._a[0]=v.year,l._dayOfYear=v.dayOfYear):c(l)._overflowWeekday=!0}(o),null!=o._dayOfYear&&(g=ma(o._a[0],m[0]),(o._dayOfYear>Ee(g)||0===o._dayOfYear)&&(c(o)._overflowDayOfYear=!0),p=Fe(g,0,o._dayOfYear),o._a[1]=p.getUTCMonth(),o._a[2]=p.getUTCDate()),l=0;3>l&&null==o._a[l];++l)o._a[l]=e[l]=m[l];for(;7>l;l++)o._a[l]=e[l]=null==o._a[l]?2===l?1:0:o._a[l];24===o._a[3]&&0===o._a[4]&&0===o._a[5]&&0===o._a[6]&&(o._nextDay=!0,o._a[3]=0),o._d=(o._useUTC?Fe:function(o,e,a,t,s,n,r){var d;return 100>o&&0<=o?(d=new Date(o+400,e,a,t,s,n,r),isFinite(d.getFullYear())&&d.setFullYear(o)):d=new Date(o,e,a,t,s,n,r),d}).apply(null,e),u=o._useUTC?o._d.getUTCDay():o._d.getDay(),null!=o._tzm&&o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),o._nextDay&&(o._a[3]=24),o._w&&void 0!==o._w.d&&o._w.d!==u&&(c(o).weekdayMismatch=!0)}}function ga(p){if(!(p._f!==Pe.ISO_8601))oa(p);else if(p._f!==Pe.RFC_2822){p._a=[],c(p).empty=!0;for(var e=""+p._i,g=e.length,o=0,h=A(p._f,p._locale).match(Vi)||[],u=0,v,f,b,x,w,k,S;u<h.length;u++)f=h[u],(v=(e.match(K(f,p))||[])[0])&&(0<(b=e.substr(0,e.indexOf(v))).length&&c(p).unusedInput.push(b),e=e.slice(e.indexOf(v)+v.length),o+=v.length),P[f]?(v?c(p).empty=!1:c(p).unusedTokens.push(f),w=f,S=p,null!=(k=v)&&He(qi,w)&&qi[w](k,S._a,S,w)):p._strict&&!v&&c(p).unusedTokens.push(f);c(p).charsLeftOver=g-o,0<e.length&&c(p).unusedInput.push(e),12>=p._a[3]&&!0===c(p).bigHour&&0<p._a[3]&&(c(p).bigHour=void 0),c(p).parsedDateParts=p._a.slice(0),c(p).meridiem=p._meridiem,p._a[3]=function(i,e,n){var t;return null==n?e:null==i.meridiemHour?(null!=i.isPM&&((t=i.isPM(n))&&12>e&&(e+=12),t||12!==e||(e=0)),e):i.meridiemHour(e,n)}(p._locale,p._a[3],p._meridiem),null!==(x=c(p).era)&&(p._a[0]=p._locale.erasConvertYear(x,p._a[0])),ua(p),ia(p)}else la(p)}function _a(l){var e=l._i,g=l._f,n,h;return l._locale=l._locale||ea(l._l),null===e||void 0===g&&""===e?L({nullInput:!0}):("string"==typeof e&&(l._i=e=l._locale.preparse(e)),k(e)?new p(ia(e)):(r(e)?l._d=e:M(g)?function(o){var e=!1,l,p,g,h,v,f;if(0===o._f.length)return c(o).invalidFormat=!0,o._d=new Date(NaN);for(h=0;h<o._f.length;h++)v=0,f=!1,l=Y({},o),null!=o._useUTC&&(l._useUTC=o._useUTC),l._f=o._f[h],ga(l),u(l)&&(f=!0),v+=c(l).charsLeftOver,v+=10*c(l).unusedTokens.length,c(l).score=v,e?v<g&&(g=v,p=l):(null==g||v<g||f)&&(g=v,p=l,f&&(e=!0));m(o,p||l)}(l):g?ga(l):o(h=(n=l)._i)?n._d=new Date(Pe.now()):r(h)?n._d=new Date(h.valueOf()):"string"==typeof h?function(t){var e=Ya.exec(t._i);null===e?(oa(t),!1===t._isValid&&(delete t._isValid,la(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:Pe.createFromInputFallback(t)))):t._d=new Date(+e[1])}(n):M(h)?(n._a=d(h.slice(0),function(t){return parseInt(t,10)}),ua(n)):i(h)?function(i){var e,n;i._d||(n=void 0===(e=N(i._i)).day?e.date:e.day,i._a=d([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ua(i))}(n):Be(h)?n._d=new Date(h):Pe.createFromInputFallback(n),u(l)||(l._d=null),l))}function va(o,c,l,m,u){var n={},d;return!0!==c&&!1!==c||(m=c,c=void 0),!0!==l&&!1!==l||(m=l,l=void 0),(i(o)&&h(o)||M(o)&&0===o.length)&&(o=void 0),n._isAMomentObject=!0,n._useUTC=n._isUTC=u,n._l=l,n._i=o,n._f=c,n._strict=m,(d=new p(ia(_a(n))))._nextDay&&(d.add(1,"d"),d._nextDay=void 0),d}function ba(i,e,a,t){return va(i,e,a,t,!1)}function wa(i,e){var n,o;if(1===e.length&&M(e[0])&&(e=e[0]),!e.length)return ba();for(n=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][i](n)||(n=e[o]);return n}function ka(c){var e=N(c),a=e.year||0,t=e.quarter||0,s=e.month||0,n=e.week||e.isoWeek||0,r=e.day||0,d=e.hour||0,i=e.minute||0,l=e.second||0,o=e.millisecond||0;this._isValid=function(i){var e=!1,n,o;for(n in i)if(He(i,n)&&(-1===ge.call(xa,n)||null!=i[n]&&isNaN(i[n])))return!1;for(o=0;o<xa.length;++o)if(i[xa[o]]){if(e)return!1;parseFloat(i[xa[o]])!==U(i[xa[o]])&&(e=!0)}return!0}(e),this._milliseconds=+o+1e3*l+6e4*i+60*(60*(1e3*d)),this._days=+r+7*n,this._months=+s+3*t+12*a,this._data={},this._locale=ea(),this._bubble()}function Sa(t){return t instanceof ka}function Aa(t){return 0>t?-1*oe(-1*t):oe(t)}function Ta(a,i){H(a,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+S(~~(t/60),2)+i+S(~~t%60,2)})}function Ea(i,e){var a=(e||"").match(i),n,o;return null===a?null:0===(o=60*(n=((a[a.length-1]||[])+"").match(Oa)||["-",0,0])[1]+U(n[2]))?0:"+"===n[0]?o:-o}function Da(i,e){var a,n;return e._isUTC?(a=e.clone(),n=(k(i)||r(i)?i.valueOf():ba(i).valueOf())-a.valueOf(),a._d.setTime(a._d.valueOf()+n),Pe.updateOffset(a,!1),a):ba(i).local()}function Na(t){return-oe(t._d.getTimezoneOffset())}function Ra(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Ca(i,e){var a=i,o=null,c,l,p;return Sa(i)?a={ms:i._milliseconds,d:i._days,M:i._months}:Be(i)||!isNaN(+i)?(a={},e?a[e]=+i:a.milliseconds=+i):(o=za.exec(i))?(c="-"===o[1]?-1:1,a={y:0,d:U(o[2])*c,h:U(o[3])*c,m:U(o[4])*c,s:U(o[5])*c,ms:U(Aa(1e3*o[6]))*c}):(o=Ia.exec(i))?(c="-"===o[1]?-1:1,a={y:Pa(o[2],c),M:Pa(o[3],c),w:Pa(o[4],c),d:Pa(o[5],c),h:Pa(o[6],c),m:Pa(o[7],c),s:Pa(o[8],c)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(p=function(i,e){var n;return i.isValid()&&e.isValid()?(e=Da(e,i),i.isBefore(e)?n=Ha(i,e):((n=Ha(e,i)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(ba(a.from),ba(a.to)),(a={}).ms=p.milliseconds,a.M=p.months),l=new ka(a),Sa(i)&&He(i,"_locale")&&(l._locale=i._locale),Sa(i)&&He(i,"_isValid")&&(l._isValid=i._isValid),l}function Pa(i,e){var a=i&&parseFloat(i.replace(",","."));return(isNaN(a)?0:a)*e}function Ha(i,e){var a={};return a.months=e.month()-i.month()+12*(e.year()-i.year()),i.clone().add(a.months,"M").isAfter(e)&&--a.months,a.milliseconds=e-i.clone().add(a.months,"M"),a}function Ba(i,s){return function(n,o){var d;return null===o||isNaN(+o)||(qe(s,"moment()."+s+"(period, number) is deprecated. Please use moment()."+s+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),d=n,n=o,o=d),Fa(this,Ca(n,o),i),this}}function Fa(i,e,a,t){var o=e._milliseconds,n=Aa(e._days),r=Aa(e._months);i.isValid()&&(t=null==t||t,r&&Se(i,V(i,"Month")+r*a),n&&B(i,"Date",V(i,"Date")+n*a),o&&i._d.setTime(i._d.valueOf()+o*a),t&&Pe.updateOffset(i,n||r))}function Va(t){return"string"==typeof t||t instanceof String}function qa(t){return k(t)||r(t)||Va(t)||Be(t)||function(i){var a=M(i),e=!1;return a&&(e=0===i.filter(function(t){return!Be(t)&&Va(i)}).length),a&&e}(t)||function(o){var e=i(o)&&!h(o),s=!1,d=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,c;for(r=0;r<d.length;r+=1)c=d[r],s=s||He(o,c);return e&&s}(t)||null==t}function Wa(i,e){if(i.date()<e.date())return-Wa(e,i);var a=12*(e.year()-i.year())+(e.month()-i.month()),t=i.clone().add(a,"months"),s=0>e-t?(e-t)/(t-i.clone().add(a-1,"months")):(e-t)/(i.clone().add(1+a,"months")-t);return-(a+s)||0}function et(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ea(t))&&(this._locale=e),this)}function at(){return this._locale}function st(t,e){return(t%e+e)%e}function rt(i,e,a){return 100>i&&0<=i?new Date(i+400,e,a)-12622780800000:new Date(i,e,a).valueOf()}function dt(i,e,a){return 100>i&&0<=i?Date.UTC(i+400,e,a)-12622780800000:Date.UTC(i,e,a)}function it(t,e){return e.erasAbbrRegex(t)}function _t(){for(var i=[],e=[],a=[],t=[],s=this.eras(),n=0,o=s.length;n<o;++n)e.push(le(s[n].name)),i.push(le(s[n].abbr)),a.push(le(s[n].narrow)),t.push(le(s[n].name)),t.push(le(s[n].abbr)),t.push(le(s[n].narrow));this._erasRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function ot(t,e){H(0,[t,t.length],0,e)}function mt(i,e,o,t,s){var n;return null==i?Re(this,t,s).year:((n=Ce(i,t,s))<e&&(e=n),function(i,e,a,t,s){var n=We(i,e,a,t,s),o=Fe(n.year,0,n.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,i,e,o,t,s))}function ut(t,e){e[6]=U(1e3*("0."+t))}function Yt(t){return t}function ft(i,e,a,t){var s=ea(),n=l().set(t,e);return s[a](n,i)}function kt(i,o,d){if(Be(i)&&(o=i,i=void 0),i=i||"",null!=o)return ft(i,o,d,"month");for(var t=[],s=0;12>s;s++)t[s]=ft(i,s,d,"month");return t}function Dt(o,c,l,p){c=("boolean"==typeof o?Be(c)&&(l=c,c=void 0):(c=o,o=!1,Be(l=c)&&(l=c,c=void 0)),c||"");var s=ea(),r=o?s._week.dow:0,d=[],i;if(null!=l)return ft(c,(l+r)%7,p,"day");for(i=0;7>i;i++)d[i]=ft(c,(i+r)%7,p,"day");return d}function Tt(i,e,a,t){var s=Ca(e,a);return i._milliseconds+=t*s._milliseconds,i._days+=t*s._days,i._months+=t*s._months,i._bubble()}function wt(t){return 0>t?we(t):be(t)}function vt(t){return 4800*t/146097}function bt(t){return 146097*t/4800}function St(t){return function(){return this.as(t)}}function Ht(t){return function(){return this.isValid()?this._data[t]:NaN}}function Nt(c,e,a,t){var s=Ca(c).abs(),n=Vt(s.as("s")),r=Vt(s.as("m")),d=Vt(s.as("h")),i=Vt(s.as("d")),p=Vt(s.as("M")),o=Vt(s.as("w")),m=Vt(s.as("y")),u=(n<=a.ss?["s",n]:n<a.s&&["ss",n])||1>=r&&["m"]||r<a.m&&["mm",r]||1>=d&&["h"]||d<a.h&&["hh",d]||1>=i&&["d"]||i<a.d&&["dd",i];return null!=a.w&&(u=u||1>=o&&["w"]||o<a.w&&["ww",o]),(u=u||1>=p&&["M"]||p<a.M&&["MM",p]||1>=m&&["y"]||["yy",m])[2]=e,u[3]=0<+c,u[4]=t,function(i,e,a,t,s){return s.relativeTime(e||1,!!a,i,t)}.apply(null,u)}function qt(t){return(0<t)-(0>t)||+t}function $t(){if(!this.isValid())return this.localeData().invalidDate();var c=Kt(this._milliseconds)/1e3,l=Kt(this._days),o=Kt(this._months),p=this.asSeconds(),u,g,h,v,f,b,A,x;return p?(u=I(c/60),g=I(u/60),c%=60,u%=60,h=I(o/12),o%=12,v=c?c.toFixed(3).replace(/\.?0+$/,""):"",f=0>p?"-":"",b=qt(this._months)===qt(p)?"":"-",A=qt(this._days)===qt(p)?"":"-",x=qt(this._milliseconds)===qt(p)?"":"-",f+"P"+(h?b+h+"Y":"")+(o?b+o+"M":"")+(l?A+l+"D":"")+(g||u||c?"T":"")+(g?x+g+"H":"")+(u?x+u+"M":"")+(c?x+v+"S":"")):"P0D"}function Qt(t){return 0===t?0:1===t?1:2===t?2:3<=t%100&&10>=t%100?3:11<=t%100?4:5}function Ga(t){return function(i,e){var a=Qt(i),n=Xt[t][Qt(i)];return 2===a&&(n=n[e?0:1]),n.replace(/%d/i,i)}}function Qa(t){return 0===t?0:1===t?1:2===t?2:3<=t%100&&10>=t%100?3:11<=t%100?4:5}function Ja(t){return function(i,e){var a=Qa(i),n=Zi[t][Qa(i)];return 2===a&&(n=n[e?0:1]),n.replace(/%d/i,i)}}function Ka(t){return 0===t?0:1===t?1:2===t?2:3<=t%100&&10>=t%100?3:11<=t%100?4:5}function Xa(t){return function(i,e){var a=Ka(i),n=vn[t][Ka(i)];return 2===a&&(n=n[e?0:1]),n.replace(/%d/i,i)}}function ei(i,e,a){var t,o;return"m"===a?e?"\u0445\u0432\u0456\u043B\u0456\u043D\u0430":"\u0445\u0432\u0456\u043B\u0456\u043D\u0443":"h"===a?e?"\u0433\u0430\u0434\u0437\u0456\u043D\u0430":"\u0433\u0430\u0434\u0437\u0456\u043D\u0443":i+" "+(t=+i,o={ss:e?"\u0441\u0435\u043A\u0443\u043D\u0434\u0430_\u0441\u0435\u043A\u0443\u043D\u0434\u044B_\u0441\u0435\u043A\u0443\u043D\u0434":"\u0441\u0435\u043A\u0443\u043D\u0434\u0443_\u0441\u0435\u043A\u0443\u043D\u0434\u044B_\u0441\u0435\u043A\u0443\u043D\u0434",mm:e?"\u0445\u0432\u0456\u043B\u0456\u043D\u0430_\u0445\u0432\u0456\u043B\u0456\u043D\u044B_\u0445\u0432\u0456\u043B\u0456\u043D":"\u0445\u0432\u0456\u043B\u0456\u043D\u0443_\u0445\u0432\u0456\u043B\u0456\u043D\u044B_\u0445\u0432\u0456\u043B\u0456\u043D",hh:e?"\u0433\u0430\u0434\u0437\u0456\u043D\u0430_\u0433\u0430\u0434\u0437\u0456\u043D\u044B_\u0433\u0430\u0434\u0437\u0456\u043D":"\u0433\u0430\u0434\u0437\u0456\u043D\u0443_\u0433\u0430\u0434\u0437\u0456\u043D\u044B_\u0433\u0430\u0434\u0437\u0456\u043D",dd:"\u0434\u0437\u0435\u043D\u044C_\u0434\u043D\u0456_\u0434\u0437\u0451\u043D",MM:"\u043C\u0435\u0441\u044F\u0446_\u043C\u0435\u0441\u044F\u0446\u044B_\u043C\u0435\u0441\u044F\u0446\u0430\u045E",yy:"\u0433\u043E\u0434_\u0433\u0430\u0434\u044B_\u0433\u0430\u0434\u043E\u045E"}[a].split("_"),1==t%10&&11!=t%100?o[0]:2<=t%10&&4>=t%10&&(10>t%100||20<=t%100)?o[1]:o[2])}function ti(i,e,a){var t;return i+" "+(t={mm:"munutenn",MM:"miz",dd:"devezh"}[a],2===i?function(t){var e={m:"v",b:"v",d:"z"};return void 0===e[t.charAt(0)]?t:e[t.charAt(0)]+t.substring(1)}(t):t)}function ai(i,e,a){var t=i+" ";return"ss"===a?t+=1===i?"sekunda":2===i||3===i||4===i?"sekunde":"sekundi":"m"===a?e?"jedna minuta":"jedne minute":"mm"===a?t+=1!==i&&(2===i||3===i||4===i)?"minute":"minuta":"h"===a?e?"jedan sat":"jednog sata":"hh"===a?t+=1===i?"sat":2===i||3===i||4===i?"sata":"sati":"dd"===a?t+=1===i?"dan":"dana":"MM"===a?t+=1===i?"mjesec":2===i||3===i||4===i?"mjeseca":"mjeseci":"yy"===a?t+=1!==i&&(2===i||3===i||4===i)?"godine":"godina":void 0}function ii(t){return 1<t&&5>t&&1!=~~(t/10)}function ni(i,e,a,t){var s=i+" ";return"s"===a?e||t?"p\xE1r sekund":"p\xE1r sekundami":"ss"===a?e||t?s+(ii(i)?"sekundy":"sekund"):s+"sekundami":"m"===a?e?"minuta":t?"minutu":"minutou":"mm"===a?e||t?s+(ii(i)?"minuty":"minut"):s+"minutami":"h"===a?e?"hodina":t?"hodinu":"hodinou":"hh"===a?e||t?s+(ii(i)?"hodiny":"hodin"):s+"hodinami":"d"===a?e||t?"den":"dnem":"dd"===a?e||t?s+(ii(i)?"dny":"dn\xED"):s+"dny":"M"===a?e||t?"m\u011Bs\xEDc":"m\u011Bs\xEDcem":"MM"===a?e||t?s+(ii(i)?"m\u011Bs\xEDce":"m\u011Bs\xEDc\u016F"):s+"m\u011Bs\xEDci":"y"===a?e||t?"rok":"rokem":"yy"===a?e||t?s+(ii(i)?"roky":"let"):s+"lety":void 0}function si(i,e,a){var t={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[i+" Tage",i+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[i+" Monate",i+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[i+" Jahre",i+" Jahren"]};return e?t[a][0]:t[a][1]}function oi(i,e,a){var t={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[i+" Tage",i+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[i+" Monate",i+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[i+" Jahre",i+" Jahren"]};return e?t[a][0]:t[a][1]}function di(i,e,a){var t={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[i+" Tage",i+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[i+" Monate",i+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[i+" Jahre",i+" Jahren"]};return e?t[a][0]:t[a][1]}function ri(i,e,a,t){var s={s:["m\xF5ne sekundi","m\xF5ni sekund","paar sekundit"],ss:[i+"sekundi",i+"sekundit"],m:["\xFChe minuti","\xFCks minut"],mm:[i+" minuti",i+" minutit"],h:["\xFChe tunni","tund aega","\xFCks tund"],hh:[i+" tunni",i+" tundi"],d:["\xFChe p\xE4eva","\xFCks p\xE4ev"],M:["kuu aja","kuu aega","\xFCks kuu"],MM:[i+" kuu",i+" kuud"],y:["\xFChe aasta","aasta","\xFCks aasta"],yy:[i+" aasta",i+" aastat"]};return e?s[a][2]?s[a][2]:s[a][1]:t?s[a][0]:s[a][1]}function ci(i,e,a,t){var s="",o,c;switch(a){case"s":return t?"muutaman sekunnin":"muutama sekunti";case"ss":s=t?"sekunnin":"sekuntia";break;case"m":return t?"minuutin":"minuutti";case"mm":s=t?"minuutin":"minuuttia";break;case"h":return t?"tunnin":"tunti";case"hh":s=t?"tunnin":"tuntia";break;case"d":return t?"p\xE4iv\xE4n":"p\xE4iv\xE4";case"dd":s=t?"p\xE4iv\xE4n":"p\xE4iv\xE4\xE4";break;case"M":return t?"kuukauden":"kuukausi";case"MM":s=t?"kuukauden":"kuukautta";break;case"y":return t?"vuoden":"vuosi";case"yy":s=t?"vuoden":"vuotta";}return c=t,s=(10>(o=i)?c?dn[o]:rn[o]:o)+" "+s}function li(i,e,a,t){var s={s:["\u0925\u094B\u0921\u092F\u093E \u0938\u0945\u0915\u0902\u0921\u093E\u0902\u0928\u0940","\u0925\u094B\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[i+" \u0938\u0945\u0915\u0902\u0921\u093E\u0902\u0928\u0940",i+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090F\u0915\u093E \u092E\u093F\u0923\u091F\u093E\u0928","\u090F\u0915 \u092E\u093F\u0928\u0942\u091F"],mm:[i+" \u092E\u093F\u0923\u091F\u093E\u0902\u0928\u0940",i+" \u092E\u093F\u0923\u091F\u093E\u0902"],h:["\u090F\u0915\u093E \u0935\u0930\u093E\u0928","\u090F\u0915 \u0935\u0930"],hh:[i+" \u0935\u0930\u093E\u0902\u0928\u0940",i+" \u0935\u0930\u093E\u0902"],d:["\u090F\u0915\u093E \u0926\u093F\u0938\u093E\u0928","\u090F\u0915 \u0926\u0940\u0938"],dd:[i+" \u0926\u093F\u0938\u093E\u0902\u0928\u0940",i+" \u0926\u0940\u0938"],M:["\u090F\u0915\u093E \u092E\u094D\u0939\u092F\u0928\u094D\u092F\u093E\u0928","\u090F\u0915 \u092E\u094D\u0939\u092F\u0928\u094B"],MM:[i+" \u092E\u094D\u0939\u092F\u0928\u094D\u092F\u093E\u0928\u0940",i+" \u092E\u094D\u0939\u092F\u0928\u0947"],y:["\u090F\u0915\u093E \u0935\u0930\u094D\u0938\u093E\u0928","\u090F\u0915 \u0935\u0930\u094D\u0938"],yy:[i+" \u0935\u0930\u094D\u0938\u093E\u0902\u0928\u0940",i+" \u0935\u0930\u094D\u0938\u093E\u0902"]};return t?s[a][0]:s[a][1]}function pi(i,e,a,t){var s={s:["thoddea sekondamni","thodde sekond"],ss:[i+" sekondamni",i+" sekond"],m:["eka mintan","ek minut"],mm:[i+" mintamni",i+" mintam"],h:["eka voran","ek vor"],hh:[i+" voramni",i+" voram"],d:["eka disan","ek dis"],dd:[i+" disamni",i+" dis"],M:["eka mhoinean","ek mhoino"],MM:[i+" mhoineamni",i+" mhoine"],y:["eka vorsan","ek voros"],yy:[i+" vorsamni",i+" vorsam"]};return t?s[a][0]:s[a][1]}function mi(i,e,a){var t=i+" ";return"ss"===a?t+=1===i?"sekunda":2===i||3===i||4===i?"sekunde":"sekundi":"m"===a?e?"jedna minuta":"jedne minute":"mm"===a?t+=1!==i&&(2===i||3===i||4===i)?"minute":"minuta":"h"===a?e?"jedan sat":"jednog sata":"hh"===a?t+=1===i?"sat":2===i||3===i||4===i?"sata":"sati":"dd"===a?t+=1===i?"dan":"dana":"MM"===a?t+=1===i?"mjesec":2===i||3===i||4===i?"mjeseca":"mjeseci":"yy"===a?t+=1!==i&&(2===i||3===i||4===i)?"godine":"godina":void 0}function ui(i,e,a,t){var s=i;return"s"===a?t||e?"n\xE9h\xE1ny m\xE1sodperc":"n\xE9h\xE1ny m\xE1sodperce":"ss"===a?s+(t||e)?" m\xE1sodperc":" m\xE1sodperce":"m"===a?"egy"+(t||e?" perc":" perce"):"mm"===a?s+(t||e?" perc":" perce"):"h"===a?"egy"+(t||e?" \xF3ra":" \xF3r\xE1ja"):"hh"===a?s+(t||e?" \xF3ra":" \xF3r\xE1ja"):"d"===a?"egy"+(t||e?" nap":" napja"):"dd"===a?s+(t||e?" nap":" napja"):"M"===a?"egy"+(t||e?" h\xF3nap":" h\xF3napja"):"MM"===a?s+(t||e?" h\xF3nap":" h\xF3napja"):"y"===a?"egy"+(t||e?" \xE9v":" \xE9ve"):"yy"===a?s+(t||e?" \xE9v":" \xE9ve"):""}function gi(t){return(t?"":"[m\xFAlt] ")+"["+pn[this.day()]+"] LT[-kor]"}function hi(t){return 11==t%100||1!=t%10}function _i(i,e,a,t){var s=i+" ";return"s"===a?e||t?"nokkrar sek\xFAndur":"nokkrum sek\xFAndum":"ss"===a?hi(i)?s+(e||t?"sek\xFAndur":"sek\xFAndum"):s+"sek\xFAnda":"m"===a?e?"m\xEDn\xFAta":"m\xEDn\xFAtu":"mm"===a?hi(i)?s+(e||t?"m\xEDn\xFAtur":"m\xEDn\xFAtum"):e?s+"m\xEDn\xFAta":s+"m\xEDn\xFAtu":"hh"===a?hi(i)?s+(e||t?"klukkustundir":"klukkustundum"):s+"klukkustund":"d"===a?e?"dagur":t?"dag":"degi":"dd"===a?hi(i)?e?s+"dagar":s+(t?"daga":"d\xF6gum"):e?s+"dagur":s+(t?"dag":"degi"):"M"===a?e?"m\xE1nu\xF0ur":t?"m\xE1nu\xF0":"m\xE1nu\xF0i":"MM"===a?hi(i)?e?s+"m\xE1nu\xF0ir":s+(t?"m\xE1nu\xF0i":"m\xE1nu\xF0um"):e?s+"m\xE1nu\xF0ur":s+(t?"m\xE1nu\xF0":"m\xE1nu\xF0i"):"y"===a?e||t?"\xE1r":"\xE1ri":"yy"===a?hi(i)?s+(e||t?"\xE1r":"\xE1rum"):s+(e||t?"\xE1r":"\xE1ri"):void 0}function vi(i,e,a){var t={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?t[a][0]:t[a][1]}function fi(t){if(t=parseInt(t,10),isNaN(t))return!1;if(0>t)return!0;if(10>t)return 4<=t&&7>=t;if(100>t){var i=t%10;return 0==i?fi(t/10):fi(i)}if(1e4>t){for(;10<=t;)t/=10;return fi(t)}return fi(t/=1e3)}function bi(i,e,a,t){return e?Ai(a)[0]:t?Ai(a)[1]:Ai(a)[2]}function yi(t){return 0==t%10||10<t&&20>t}function Ai(t){return An[t].split("_")}function xi(i,e,a,t){var s=i+" ";return 1===i?s+bi(0,e,a[0],t):e?s+(yi(i)?Ai(a)[1]:Ai(a)[0]):t?s+Ai(a)[1]:s+(yi(i)?Ai(a)[1]:Ai(a)[2])}function wi(i,e,a){return a?1==e%10&&11!=e%100?i[2]:i[3]:1==e%10&&11!=e%100?i[0]:i[1]}function ki(i,e,a){return i+" "+wi(zn[a],i,e)}function Si(i,e,a){return wi(zn[a],i,e)}function Ci(i,e,a){return"s"===a?e?"\u0445\u044D\u0434\u0445\u044D\u043D \u0441\u0435\u043A\u0443\u043D\u0434":"\u0445\u044D\u0434\u0445\u044D\u043D \u0441\u0435\u043A\u0443\u043D\u0434\u044B\u043D":"ss"===a?i+(e?" \u0441\u0435\u043A\u0443\u043D\u0434":" \u0441\u0435\u043A\u0443\u043D\u0434\u044B\u043D"):"m"===a||"mm"===a?i+(e?" \u043C\u0438\u043D\u0443\u0442":" \u043C\u0438\u043D\u0443\u0442\u044B\u043D"):"h"===a||"hh"===a?i+(e?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043D"):"d"===a||"dd"===a?i+(e?" \u04E9\u0434\u04E9\u0440":" \u04E9\u0434\u0440\u0438\u0439\u043D"):"M"===a||"MM"===a?i+(e?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044B\u043D"):"y"===a||"yy"===a?i+(e?" \u0436\u0438\u043B":" \u0436\u0438\u043B\u0438\u0439\u043D"):i}function Mi(i,e,a){var t="";return e?"s"===a?t="\u0915\u093E\u0939\u0940 \u0938\u0947\u0915\u0902\u0926":"ss"===a?t="%d \u0938\u0947\u0915\u0902\u0926":"m"===a?t="\u090F\u0915 \u092E\u093F\u0928\u093F\u091F":"mm"===a?t="%d \u092E\u093F\u0928\u093F\u091F\u0947":"h"===a?t="\u090F\u0915 \u0924\u093E\u0938":"hh"===a?t="%d \u0924\u093E\u0938":"d"===a?t="\u090F\u0915 \u0926\u093F\u0935\u0938":"dd"===a?t="%d \u0926\u093F\u0935\u0938":"M"===a?t="\u090F\u0915 \u092E\u0939\u093F\u0928\u093E":"MM"===a?t="%d \u092E\u0939\u093F\u0928\u0947":"y"===a?t="\u090F\u0915 \u0935\u0930\u094D\u0937":"yy"===a?t="%d \u0935\u0930\u094D\u0937\u0947":void 0:"s"===a?t="\u0915\u093E\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093E\u0902":"ss"===a?t="%d \u0938\u0947\u0915\u0902\u0926\u093E\u0902":"m"===a?t="\u090F\u0915\u093E \u092E\u093F\u0928\u093F\u091F\u093E":"mm"===a?t="%d \u092E\u093F\u0928\u093F\u091F\u093E\u0902":"h"===a?t="\u090F\u0915\u093E \u0924\u093E\u0938\u093E":"hh"===a?t="%d \u0924\u093E\u0938\u093E\u0902":"d"===a?t="\u090F\u0915\u093E \u0926\u093F\u0935\u0938\u093E":"dd"===a?t="%d \u0926\u093F\u0935\u0938\u093E\u0902":"M"===a?t="\u090F\u0915\u093E \u092E\u0939\u093F\u0928\u094D\u092F\u093E":"MM"===a?t="%d \u092E\u0939\u093F\u0928\u094D\u092F\u093E\u0902":"y"===a?t="\u090F\u0915\u093E \u0935\u0930\u094D\u0937\u093E":"yy"===a?t="%d \u0935\u0930\u094D\u0937\u093E\u0902":void 0,t.replace(/%d/i,i)}function Li(t){return 5>t%10&&1<t%10&&1!=~~(t/10)%10}function Ti(i,e,a){var t=i+" ";return"ss"===a?t+(Li(i)?"sekundy":"sekund"):"m"===a?e?"minuta":"minut\u0119":"mm"===a?t+(Li(i)?"minuty":"minut"):"h"===a?e?"godzina":"godzin\u0119":"hh"===a?t+(Li(i)?"godziny":"godzin"):"ww"===a?t+(Li(i)?"tygodnie":"tygodni"):"MM"===a?t+(Li(i)?"miesi\u0105ce":"miesi\u0119cy"):"yy"===a?t+(Li(i)?"lata":"lat"):void 0}function Ei(i,e,a){return i+(20<=i%100||100<=i&&0==i%100?" de ":" ")+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xE2ni",MM:"luni",yy:"ani"}[a]}function Di(i,e,a){var t,o;return"m"===a?e?"\u043C\u0438\u043D\u0443\u0442\u0430":"\u043C\u0438\u043D\u0443\u0442\u0443":i+" "+(t=+i,o={ss:e?"\u0441\u0435\u043A\u0443\u043D\u0434\u0430_\u0441\u0435\u043A\u0443\u043D\u0434\u044B_\u0441\u0435\u043A\u0443\u043D\u0434":"\u0441\u0435\u043A\u0443\u043D\u0434\u0443_\u0441\u0435\u043A\u0443\u043D\u0434\u044B_\u0441\u0435\u043A\u0443\u043D\u0434",mm:e?"\u043C\u0438\u043D\u0443\u0442\u0430_\u043C\u0438\u043D\u0443\u0442\u044B_\u043C\u0438\u043D\u0443\u0442":"\u043C\u0438\u043D\u0443\u0442\u0443_\u043C\u0438\u043D\u0443\u0442\u044B_\u043C\u0438\u043D\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043E\u0432",dd:"\u0434\u0435\u043D\u044C_\u0434\u043D\u044F_\u0434\u043D\u0435\u0439",ww:"\u043D\u0435\u0434\u0435\u043B\u044F_\u043D\u0435\u0434\u0435\u043B\u0438_\u043D\u0435\u0434\u0435\u043B\u044C",MM:"\u043C\u0435\u0441\u044F\u0446_\u043C\u0435\u0441\u044F\u0446\u0430_\u043C\u0435\u0441\u044F\u0446\u0435\u0432",yy:"\u0433\u043E\u0434_\u0433\u043E\u0434\u0430_\u043B\u0435\u0442"}[a].split("_"),1==t%10&&11!=t%100?o[0]:2<=t%10&&4>=t%10&&(10>t%100||20<=t%100)?o[1]:o[2])}function Ii(t){return 1<t&&5>t}function Yi(i,e,a,t){var s=i+" ";return"s"===a?e||t?"p\xE1r sek\xFAnd":"p\xE1r sekundami":"ss"===a?e||t?s+(Ii(i)?"sekundy":"sek\xFAnd"):s+"sekundami":"m"===a?e?"min\xFAta":t?"min\xFAtu":"min\xFAtou":"mm"===a?e||t?s+(Ii(i)?"min\xFAty":"min\xFAt"):s+"min\xFAtami":"h"===a?e?"hodina":t?"hodinu":"hodinou":"hh"===a?e||t?s+(Ii(i)?"hodiny":"hod\xEDn"):s+"hodinami":"d"===a?e||t?"de\u0148":"d\u0148om":"dd"===a?e||t?s+(Ii(i)?"dni":"dn\xED"):s+"d\u0148ami":"M"===a?e||t?"mesiac":"mesiacom":"MM"===a?e||t?s+(Ii(i)?"mesiace":"mesiacov"):s+"mesiacmi":"y"===a?e||t?"rok":"rokom":"yy"===a?e||t?s+(Ii(i)?"roky":"rokov"):s+"rokmi":void 0}function Ni(i,e,a,t){var s=i+" ";return"s"===a?e||t?"nekaj sekund":"nekaj sekundami":"ss"===a?s+=1===i?e?"sekundo":"sekundi":2===i?e||t?"sekundi":"sekundah":5>i?e||t?"sekunde":"sekundah":"sekund":"m"===a?e?"ena minuta":"eno minuto":"mm"===a?s+=1===i?e?"minuta":"minuto":2===i?e||t?"minuti":"minutama":5>i?e||t?"minute":"minutami":e||t?"minut":"minutami":"h"===a?e?"ena ura":"eno uro":"hh"===a?s+=1===i?e?"ura":"uro":2===i?e||t?"uri":"urama":5>i?e||t?"ure":"urami":e||t?"ur":"urami":"d"===a?e||t?"en dan":"enim dnem":"dd"===a?s+=1===i?e||t?"dan":"dnem":2===i?e||t?"dni":"dnevoma":e||t?"dni":"dnevi":"M"===a?e||t?"en mesec":"enim mesecem":"MM"===a?s+=1===i?e||t?"mesec":"mesecem":2===i?e||t?"meseca":"mesecema":5>i?e||t?"mesece":"meseci":e||t?"mesecev":"meseci":"y"===a?e||t?"eno leto":"enim letom":"yy"===a?s+=1===i?e||t?"leto":"letom":2===i?e||t?"leti":"letoma":5>i?e||t?"leta":"leti":e||t?"let":"leti":void 0}function ji(i,e,a){var t=function(i){var e=we(i%1e3/100),a=we(i%100/10),t=i%10,s="";return 0<e&&(s+=Os[e]+"vatlh"),0<a&&(s+=(""===s?"":" ")+Os[a]+"maH"),0<t&&(s+=(""===s?"":" ")+Os[t]),""==s?"pagh":s}(i);return"ss"===a?t+" lup":"mm"===a?t+" tup":"hh"===a?t+" rep":"dd"===a?t+" jaj":"MM"===a?t+" jar":"yy"===a?t+" DIS":void 0}function $i(i,e,a,t){var s={s:["viensas secunds","'iensas secunds"],ss:[i+" secunds",i+" secunds"],m:["'n m\xEDut","'iens m\xEDut"],mm:[i+" m\xEDuts",i+" m\xEDuts"],h:["'n \xFEora","'iensa \xFEora"],hh:[i+" \xFEoras",i+" \xFEoras"],d:["'n ziua","'iensa ziua"],dd:[i+" ziuas",i+" ziuas"],M:["'n mes","'iens mes"],MM:[i+" mesen",i+" mesen"],y:["'n ar","'iens ar"],yy:[i+" ars",i+" ars"]};return t||e?s[a][0]:s[a][1]}function Ri(i,e,a){var t,o;return"m"===a?e?"\u0445\u0432\u0438\u043B\u0438\u043D\u0430":"\u0445\u0432\u0438\u043B\u0438\u043D\u0443":"h"===a?e?"\u0433\u043E\u0434\u0438\u043D\u0430":"\u0433\u043E\u0434\u0438\u043D\u0443":i+" "+(t=+i,o={ss:e?"\u0441\u0435\u043A\u0443\u043D\u0434\u0430_\u0441\u0435\u043A\u0443\u043D\u0434\u0438_\u0441\u0435\u043A\u0443\u043D\u0434":"\u0441\u0435\u043A\u0443\u043D\u0434\u0443_\u0441\u0435\u043A\u0443\u043D\u0434\u0438_\u0441\u0435\u043A\u0443\u043D\u0434",mm:e?"\u0445\u0432\u0438\u043B\u0438\u043D\u0430_\u0445\u0432\u0438\u043B\u0438\u043D\u0438_\u0445\u0432\u0438\u043B\u0438\u043D":"\u0445\u0432\u0438\u043B\u0438\u043D\u0443_\u0445\u0432\u0438\u043B\u0438\u043D\u0438_\u0445\u0432\u0438\u043B\u0438\u043D",hh:e?"\u0433\u043E\u0434\u0438\u043D\u0430_\u0433\u043E\u0434\u0438\u043D\u0438_\u0433\u043E\u0434\u0438\u043D":"\u0433\u043E\u0434\u0438\u043D\u0443_\u0433\u043E\u0434\u0438\u043D\u0438_\u0433\u043E\u0434\u0438\u043D",dd:"\u0434\u0435\u043D\u044C_\u0434\u043D\u0456_\u0434\u043D\u0456\u0432",MM:"\u043C\u0456\u0441\u044F\u0446\u044C_\u043C\u0456\u0441\u044F\u0446\u0456_\u043C\u0456\u0441\u044F\u0446\u0456\u0432",yy:"\u0440\u0456\u043A_\u0440\u043E\u043A\u0438_\u0440\u043E\u043A\u0456\u0432"}[a].split("_"),1==t%10&&11!=t%100?o[0]:2<=t%10&&4>=t%10&&(10>t%100||20<=t%100)?o[1]:o[2])}function Oi(t){return function(){return t+"\u043E"+(11===this.hours()?"\u0431":"")+"] LT"}}var Pi,Hi;Hi=Array.prototype.some?Array.prototype.some:function(i){for(var e=Object(this),a=e.length>>>0,t=0;t<a;t++)if(t in e&&i.call(this,e[t],t,e))return!0;return!1};var Bi=Pe.momentProperties=[],f=!1,Fi={},g;Pe.suppressDeprecationWarnings=!1,Pe.deprecationHandler=null,g=Object.keys?Object.keys:function(i){var e=[],t;for(t in i)He(i,t)&&e.push(t);return e};var Vi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,x={},P={},O={},F={},R=/\d/,Z=/\d\d/,Ui=/\d{3}/,Q=/\d{4}/,X=/[+-]?\d{6}/,ee=/\d\d?/,ae=/\d\d\d\d?/,te=/\d\d\d\d\d\d?/,se=/\d{1,3}/,ne=/\d{1,4}/,re=/[+-]?\d{1,6}/,de=/\d+/,ie=/[+-]?\d+/,_e=/Z|[+-]\d\d(?::?\d\d)?/gi,me=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ue;ue={};var qi={},ce=0,fe=1,pe=2,ke=3,De=4,Te=5,ge;ge=Array.prototype.indexOf?Array.prototype.indexOf:function(t){for(var e=0;e<this.length;++e)if(this[e]===t)return e;return-1},H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),H("MMMM",0,0,function(t){return this.localeData().months(this,t)}),t("month","M"),z("month",8),J("M",ee),J("MM",ee,Z),J("MMM",function(t,e){return e.monthsShortRegex(t)}),J("MMMM",function(t,e){return e.monthsRegex(t)}),he(["M","MM"],function(t,e){e[fe]=U(t)-1}),he(["MMM","MMMM"],function(i,e,a,t){var s=a._locale.monthsParse(i,t,a._strict);null==s?c(a).invalidMonth=i:e[fe]=s});var zi=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],je=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;H("Y",0,0,function(){var t=this.year();return 9999>=t?S(t,4):"+"+t}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),t("year","y"),z("year",1),J("Y",ie),J("YY",ee,Z),J("YYYY",ne,Q),J("YYYYY",re,X),J("YYYYYY",re,X),he(["YYYYY","YYYYYY"],ce),he("YYYY",function(t,e){e[ce]=2===t.length?Pe.parseTwoDigitYear(t):U(t)}),he("YY",function(t,e){e[ce]=Pe.parseTwoDigitYear(t)}),he("Y",function(t,e){e[ce]=parseInt(t,10)}),Pe.parseTwoDigitYear=function(t){return U(t)+(68<U(t)?1900:2e3)};var xe=G("FullYear",!0);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),t("week","w"),t("isoWeek","W"),z("week",5),z("isoWeek",5),J("w",ee),J("ww",ee,Z),J("W",ee),J("WW",ee,Z),Me(["w","ww","W","WW"],function(i,e,a,t){e[t.substr(0,1)]=U(i)}),H("d",0,"do","day"),H("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),H("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),H("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),t("day","d"),t("weekday","e"),t("isoWeekday","E"),z("day",11),z("weekday",11),z("isoWeekday",11),J("d",ee),J("e",ee),J("E",ee),J("dd",function(t,e){return e.weekdaysMinRegex(t)}),J("ddd",function(t,e){return e.weekdaysShortRegex(t)}),J("dddd",function(t,e){return e.weekdaysRegex(t)}),Me(["dd","ddd","dddd"],function(i,e,a,t){var s=a._locale.weekdaysParse(i,t,a._strict);null==s?c(a).invalidWeekday=i:e.d=s}),Me(["d","e","E"],function(i,e,a,t){e[t]=U(i)});var ze=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];H("H",["HH",2],0,"hour"),H("h",["hh",2],0,$e),H("k",["kk",2],0,function(){return this.hours()||24}),H("hmm",0,0,function(){return""+$e.apply(this)+S(this.minutes(),2)}),H("hmmss",0,0,function(){return""+$e.apply(this)+S(this.minutes(),2)+S(this.seconds(),2)}),H("Hmm",0,0,function(){return""+this.hours()+S(this.minutes(),2)}),H("Hmmss",0,0,function(){return""+this.hours()+S(this.minutes(),2)+S(this.seconds(),2)}),Ge("a",!0),Ge("A",!1),t("hour","h"),z("hour",13),J("a",Qe),J("A",Qe),J("H",ee),J("h",ee),J("k",ee),J("HH",ee,Z),J("hh",ee,Z),J("kk",ee,Z),J("hmm",ae),J("hmmss",te),J("Hmm",ae),J("Hmmss",te),he(["H","HH"],ke),he(["k","kk"],function(t,e){var a=U(t);e[ke]=24===a?0:a}),he(["a","A"],function(i,e,a){a._isPm=a._locale.isPM(i),a._meridiem=i}),he(["h","hh"],function(i,e,a){e[ke]=U(i),c(a).bigHour=!0}),he("hmm",function(i,e,a){var t=i.length-2;e[ke]=U(i.substr(0,t)),e[De]=U(i.substr(t)),c(a).bigHour=!0}),he("hmmss",function(i,e,a){var t=i.length-4,s=i.length-2;e[ke]=U(i.substr(0,t)),e[De]=U(i.substr(t,2)),e[Te]=U(i.substr(s)),c(a).bigHour=!0}),he("Hmm",function(t,e){var a=t.length-2;e[ke]=U(t.substr(0,a)),e[De]=U(t.substr(a))}),he("Hmmss",function(t,e){var a=t.length-4,i=t.length-2;e[ke]=U(t.substr(0,a)),e[De]=U(t.substr(a,2)),e[Te]=U(t.substr(i))});var Ve=G("Hours",!0),aa={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:zi,week:{dow:0,doy:6},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekdaysShort:ze,meridiemParse:/[ap]\.?m?\.?/i},sa={},na={},ra=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ma=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ha=/Z|[+-]\d\d(?::?\d\d)?/,ca=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],La=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ya=/^\/?Date\((-?\d+)/i,ya=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,fa={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},pa;Pe.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),Pe.ISO_8601=function(){},Pe.RFC_2822=function(){};var Wi=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ba.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:L()}),ja=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ba.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:L()}),xa=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ta("Z",":"),Ta("ZZ",""),J("Z",_e),J("ZZ",_e),he(["Z","ZZ"],function(i,e,a){a._useUTC=!0,a._tzm=Ea(_e,i)});var Oa=/([\+\-]|\d\d)/gi;Pe.updateOffset=function(){};var za=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ia=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Ca.fn=ka.prototype,Ca.invalid=function(){return Ca(NaN)};var Ua=Ba(1,"add"),Za=Ba(-1,"subtract");Pe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",Pe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var $a=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});H("N",0,0,"eraAbbr"),H("NN",0,0,"eraAbbr"),H("NNN",0,0,"eraAbbr"),H("NNNN",0,0,"eraName"),H("NNNNN",0,0,"eraNarrow"),H("y",["y",1],"yo","eraYear"),H("y",["yy",2],0,"eraYear"),H("y",["yyy",3],0,"eraYear"),H("y",["yyyy",4],0,"eraYear"),J("N",it),J("NN",it),J("NNN",it),J("NNNN",function(t,e){return e.erasNameRegex(t)}),J("NNNNN",function(t,e){return e.erasNarrowRegex(t)}),he(["N","NN","NNN","NNNN","NNNNN"],function(i,e,a,t){var s=a._locale.erasParse(i,t,a._strict);s?c(a).era=s:c(a).invalidEra=i}),J("y",de),J("yy",de),J("yyy",de),J("yyyy",de),J("yo",function(t,e){return e._eraYearOrdinalRegex||de}),he(["y","yy","yyy","yyyy"],ce),he(["yo"],function(i,e,a){var t;a._locale._eraYearOrdinalRegex&&(t=i.match(a._locale._eraYearOrdinalRegex)),e[ce]=a._locale.eraYearOrdinalParse?a._locale.eraYearOrdinalParse(i,t):parseInt(i,10)}),H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ot("gggg","weekYear"),ot("ggggg","weekYear"),ot("GGGG","isoWeekYear"),ot("GGGGG","isoWeekYear"),t("weekYear","gg"),t("isoWeekYear","GG"),z("weekYear",1),z("isoWeekYear",1),J("G",ie),J("g",ie),J("GG",ee,Z),J("gg",ee,Z),J("GGGG",ne,Q),J("gggg",ne,Q),J("GGGGG",re,X),J("ggggg",re,X),Me(["gggg","ggggg","GGGG","GGGGG"],function(i,e,a,t){e[t.substr(0,2)]=U(i)}),Me(["gg","GG"],function(i,e,a,t){e[t]=Pe.parseTwoDigitYear(i)}),H("Q",0,"Qo","quarter"),t("quarter","Q"),z("quarter",7),J("Q",R),he("Q",function(t,e){e[fe]=3*(U(t)-1)}),H("D",["DD",2],"Do","date"),t("date","D"),z("date",9),J("D",ee),J("DD",ee,Z),J("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),he(["D","DD"],pe),he("Do",function(t,e){e[pe]=U(t.match(ee)[0])});var tt=G("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear"),t("dayOfYear","DDD"),z("dayOfYear",4),J("DDD",se),J("DDDD",Ui),he(["DDD","DDDD"],function(i,e,a){a._dayOfYear=U(i)}),H("m",["mm",2],0,"minute"),t("minute","m"),z("minute",14),J("m",ee),J("mm",ee,Z),he(["m","mm"],De);var lt=G("Minutes",!1);H("s",["ss",2],0,"second"),t("second","s"),z("second",15),J("s",ee),J("ss",ee,Z),he(["s","ss"],Te);var Mt=G("Seconds",!1),Lt,Gi;for(H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),t("millisecond","ms"),z("millisecond",16),J("S",se,R),J("SS",se,Z),J("SSS",se,Ui),Lt="SSSS";9>=Lt.length;Lt+="S")J(Lt,de);for(Lt="S";9>=Lt.length;Lt+="S")he(Lt,ut);Gi=G("Milliseconds",!1),H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Qi=p.prototype;Qi.add=Ua,Qi.calendar=function(o,d){1===arguments.length&&(arguments[0]?qa(arguments[0])?(o=arguments[0],d=void 0):function(o){for(var e=i(o)&&!h(o),a=!1,d=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s=0;s<d.length;s+=1)a=a||He(o,d[s]);return e&&a}(arguments[0])&&(d=arguments[0],o=void 0):d=o=void 0);var c=o||ba(),t=Da(c,this).startOf("day"),s=Pe.calendarFormat(this,t)||"sameElse",n=d&&(w(d[s])?d[s].call(this,c):d[s]);return this.format(n||this.localeData().calendar(s,this,ba(c)))},Qi.clone=function(){return new p(this)},Qi.diff=function(i,e,o){var t,d,c;if(!this.isValid())return NaN;if(!(t=Da(i,this)).isValid())return NaN;switch(d=6e4*(t.utcOffset()-this.utcOffset()),e=E(e)){case"year":c=Wa(this,t)/12;break;case"month":c=Wa(this,t);break;case"quarter":c=Wa(this,t)/3;break;case"second":c=(this-t)/1e3;break;case"minute":c=(this-t)/6e4;break;case"hour":c=(this-t)/36e5;break;case"day":c=(this-t-d)/864e5;break;case"week":c=(this-t-d)/6048e5;break;default:c=this-t;}return o?c:I(c)},Qi.endOf=function(i){var n,s;if(void 0===(i=E(i))||"millisecond"===i||!this.isValid())return this;switch(s=this._isUTC?dt:rt,i){case"year":n=s(this.year()+1,0,1)-1;break;case"quarter":n=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=s(this.year(),this.month()+1,1)-1;break;case"week":n=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=36e5-st(n+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":n=this._d.valueOf(),n+=6e4-st(n,6e4)-1;break;case"second":n=this._d.valueOf(),n+=1e3-st(n,1e3)-1;}return this._d.setTime(n),Pe.updateOffset(this,!0),this},Qi.format=function(t){t=t||(this.isUtc()?Pe.defaultFormatUtc:Pe.defaultFormat);var i=W(this,t);return this.localeData().postformat(i)},Qi.from=function(t,e){return this.isValid()&&(k(t)&&t.isValid()||ba(t).isValid())?Ca({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Qi.fromNow=function(t){return this.from(ba(),t)},Qi.to=function(t,e){return this.isValid()&&(k(t)&&t.isValid()||ba(t).isValid())?Ca({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Qi.toNow=function(t){return this.to(ba(),t)},Qi.get=function(t){return w(this[t=E(t)])?this[t]():this},Qi.invalidAt=function(){return c(this).overflow},Qi.isAfter=function(i,e){var n=k(i)?i:ba(i);return this.isValid()&&n.isValid()&&("millisecond"===(e=E(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},Qi.isBefore=function(i,e){var n=k(i)?i:ba(i);return this.isValid()&&n.isValid()&&("millisecond"===(e=E(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},Qi.isBetween=function(i,e,a,t){var o=k(i)?i:ba(i),n=k(e)?e:ba(e);return!!(this.isValid()&&o.isValid()&&n.isValid())&&("("===(t=t||"()")[0]?this.isAfter(o,a):!this.isBefore(o,a))&&(")"===t[1]?this.isBefore(n,a):!this.isAfter(n,a))},Qi.isSame=function(i,e){var n=k(i)?i:ba(i),s;return this.isValid()&&n.isValid()&&("millisecond"===(e=E(e)||"millisecond")?this.valueOf()===n.valueOf():(s=n.valueOf(),this.clone().startOf(e).valueOf()<=s&&s<=this.clone().endOf(e).valueOf()))},Qi.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Qi.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Qi.isValid=function(){return u(this)},Qi.lang=$a,Qi.locale=et,Qi.localeData=at,Qi.max=ja,Qi.min=Wi,Qi.parsingFlags=function(){return m({},c(this))},Qi.set=function(i,n){if("object"==typeof i)for(var a=function(i){var e=[],t;for(t in i)He(i,t)&&e.push({unit:t,priority:F[t]});return e.sort(function(t,e){return t.priority-e.priority}),e}(i=N(i)),t=0;t<a.length;t++)this[a[t].unit](i[a[t].unit]);else if(w(this[i=E(i)]))return this[i](n);return this},Qi.startOf=function(i){var n,s;if(void 0===(i=E(i))||"millisecond"===i||!this.isValid())return this;switch(s=this._isUTC?dt:rt,i){case"year":n=s(this.year(),0,1);break;case"quarter":n=s(this.year(),this.month()-this.month()%3,1);break;case"month":n=s(this.year(),this.month(),1);break;case"week":n=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=s(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=st(n+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":n=this._d.valueOf(),n-=st(n,6e4);break;case"second":n=this._d.valueOf(),n-=st(n,1e3);}return this._d.setTime(n),Pe.updateOffset(this,!0),this},Qi.subtract=Za,Qi.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},Qi.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},Qi.toDate=function(){return new Date(this.valueOf())},Qi.toISOString=function(i){if(!this.isValid())return null;var e=!0!==i,a=e?this.clone().utc():this;return 0>a.year()||9999<a.year()?W(a,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):w(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+1e3*(60*this.utcOffset())).toISOString().replace("Z",W(a,"Z")):W(a,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Qi.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var i="moment",o="",d,r,c;return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),d="["+i+"(\"]",r=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY",c=o+"[\")]",this.format(d+r+"-MM-DD[T]HH:mm:ss.SSS"+c)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Qi[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Qi.toJSON=function(){return this.isValid()?this.toISOString():null},Qi.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Qi.unix=function(){return we(this.valueOf()/1e3)},Qi.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Qi.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Qi.eraName=function(){for(var i=this.localeData().eras(),a=0,n=i.length,s;a<n;++a){if(s=this.clone().startOf("day").valueOf(),i[a].since<=s&&s<=i[a].until)return i[a].name;if(i[a].until<=s&&s<=i[a].since)return i[a].name}return""},Qi.eraNarrow=function(){for(var i=this.localeData().eras(),a=0,n=i.length,s;a<n;++a){if(s=this.clone().startOf("day").valueOf(),i[a].since<=s&&s<=i[a].until)return i[a].narrow;if(i[a].until<=s&&s<=i[a].since)return i[a].narrow}return""},Qi.eraAbbr=function(){for(var i=this.localeData().eras(),a=0,n=i.length,s;a<n;++a){if(s=this.clone().startOf("day").valueOf(),i[a].since<=s&&s<=i[a].until)return i[a].abbr;if(i[a].until<=s&&s<=i[a].since)return i[a].abbr}return""},Qi.eraYear=function(){for(var i=this.localeData().eras(),t=0,o=i.length,n,d;t<o;++t)if(n=i[t].since<=i[t].until?1:-1,d=this.clone().startOf("day").valueOf(),i[t].since<=d&&d<=i[t].until||i[t].until<=d&&d<=i[t].since)return(this.year()-Pe(i[t].since).year())*n+i[t].offset;return this.year()},Qi.year=xe,Qi.isLeapYear=function(){return C(this.year())},Qi.weekYear=function(t){return mt.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Qi.isoWeekYear=function(t){return mt.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Qi.quarter=Qi.quarters=function(t){return null==t?be((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Qi.month=Ye,Qi.daysInMonth=function(){return Le(this.year(),this.month())},Qi.week=Qi.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Qi.isoWeek=Qi.isoWeeks=function(t){var e=Re(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Qi.weeksInYear=function(){var t=this.localeData()._week;return Ce(this.year(),t.dow,t.doy)},Qi.weeksInWeekYear=function(){var t=this.localeData()._week;return Ce(this.weekYear(),t.dow,t.doy)},Qi.isoWeeksInYear=function(){return Ce(this.year(),1,4)},Qi.isoWeeksInISOWeekYear=function(){return Ce(this.isoWeekYear(),1,4)},Qi.date=tt,Qi.day=Qi.days=function(i){if(!this.isValid())return null==i?NaN:this;var n=this._isUTC?this._d.getUTCDay():this._d.getDay(),s,o;return null==i?n:(s=i,o=this.localeData(),i="string"==typeof s?isNaN(s)?"number"==typeof(s=o.weekdaysParse(s))?s:null:parseInt(s,10):s,this.add(i-n,"d"))},Qi.weekday=function(t){if(!this.isValid())return null==t?NaN:this;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Qi.isoWeekday=function(i){if(!this.isValid())return null==i?NaN:this;if(null==i)return this.day()||7;var e=(n=i,s=this.localeData(),"string"==typeof n?s.weekdaysParse(n)%7||7:isNaN(n)?null:n),n,s;return this.day(this.day()%7?e:e-7)},Qi.dayOfYear=function(t){var e=oe((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Qi.hour=Qi.hours=Ve,Qi.minute=Qi.minutes=lt,Qi.second=Qi.seconds=Mt,Qi.millisecond=Qi.milliseconds=Gi,Qi.utcOffset=function(i,o,a){var t=this._offset||0,n;if(!this.isValid())return null==i?NaN:this;if(null==i)return this._isUTC?t:Na(this);if("string"!=typeof i)16>ve(i)&&!a&&(i*=60);else if(null===(i=Ea(_e,i)))return this;return!this._isUTC&&o&&(n=Na(this)),this._offset=i,this._isUTC=!0,null!=n&&this.add(n,"m"),t!==i&&(!o||this._changeInProgress?Fa(this,Ca(i-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Pe.updateOffset(this,!0),this._changeInProgress=null)),this},Qi.utc=function(t){return this.utcOffset(0,t)},Qi.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Na(this),"m")),this},Qi.parseZone=function(){var t;return null==this._tzm?"string"==typeof this._i&&(null==(t=Ea(/Z|[+-]\d\d:?\d\d/gi,this._i))?this.utcOffset(0,!0):this.utcOffset(t)):this.utcOffset(this._tzm,!1,!0),this},Qi.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?ba(t).utcOffset():0,0==(this.utcOffset()-t)%60)},Qi.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Qi.isLocal=function(){return!!this.isValid()&&!this._isUTC},Qi.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Qi.isUtc=Ra,Qi.isUTC=Ra,Qi.zoneAbbr=function(){return this._isUTC?"UTC":""},Qi.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Qi.dates=T("dates accessor is deprecated. Use date instead.",tt),Qi.months=T("months accessor is deprecated. Use month instead",Ye),Qi.years=T("years accessor is deprecated. Use year instead",xe),Qi.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,i){return null==t?-this.utcOffset():("string"!=typeof t&&(t=-t),this.utcOffset(t,i),this)}),Qi.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={},i;return Y(t,this),(t=_a(t))._a?(i=(t._isUTC?l:ba)(t._a),this._isDSTShifted=this.isValid()&&0<function(i,e,a){for(var t=Oe(i.length,e.length),s=ve(i.length-e.length),n=0,o=0;o<t;o++)(a&&i[o]!==e[o]||!a&&U(i[o])!==U(e[o]))&&n++;return n+s}(t._a,i.toArray())):this._isDSTShifted=!1,this._isDSTShifted});var yt=b.prototype;yt.calendar=function(i,e,a){var t=this._calendar[i]||this._calendar.sameElse;return w(t)?t.call(e,a):t},yt.longDateFormat=function(i){var e=this._longDateFormat[i],a=this._longDateFormat[i.toUpperCase()];return e||!a?e:(this._longDateFormat[i]=a.match(Vi).map(function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t}).join(""),this._longDateFormat[i])},yt.invalidDate=function(){return this._invalidDate},yt.ordinal=function(t){return this._ordinal.replace("%d",t)},yt.preparse=Yt,yt.postformat=Yt,yt.relativeTime=function(i,e,a,t){var s=this._relativeTime[a];return w(s)?s(i,e,a,t):s.replace(/%d/i,i)},yt.pastFuture=function(i,e){var a=this._relativeTime[0<i?"future":"past"];return w(a)?a(e):a.replace(/%s/i,e)},yt.set=function(i){var e,n;for(n in i)He(i,n)&&(w(e=i[n])?this[n]=e:this["_"+n]=e);this._config=i,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},yt.eras=function(){for(var e=this._eras||ea("en")._eras,a=0,i=e.length,s;a<i;++a){switch(typeof e[a].since){case"string":s=Pe(e[a].since).startOf("day"),e[a].since=s.valueOf();}switch(typeof e[a].until){case"undefined":e[a].until=1/0;break;case"string":s=Pe(e[a].until).startOf("day").valueOf(),e[a].until=s.valueOf();}}return e},yt.erasParse=function(o,c,a){var t=this.eras(),l,p,m,u,g;for(o=o.toUpperCase(),l=0,p=t.length;l<p;++l)if(m=t[l].name.toUpperCase(),u=t[l].abbr.toUpperCase(),g=t[l].narrow.toUpperCase(),a)switch(c){case"N":case"NN":case"NNN":if(u===o)return t[l];break;case"NNNN":if(m===o)return t[l];break;case"NNNNN":if(g===o)return t[l];}else if(0<=[m,u,g].indexOf(o))return t[l]},yt.erasConvertYear=function(i,e){var a=i.since<=i.until?1:-1;return void 0===e?Pe(i.since).year():Pe(i.since).year()+(e-i.offset)*a},yt.erasAbbrRegex=function(t){return He(this,"_erasAbbrRegex")||_t.call(this),t?this._erasAbbrRegex:this._erasRegex},yt.erasNameRegex=function(t){return He(this,"_erasNameRegex")||_t.call(this),t?this._erasNameRegex:this._erasRegex},yt.erasNarrowRegex=function(t){return He(this,"_erasNarrowRegex")||_t.call(this),t?this._erasNarrowRegex:this._erasRegex},yt.months=function(t,e){return t?M(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||je).test(e)?"format":"standalone"][t.month()]:M(this._months)?this._months:this._months.standalone},yt.monthsShort=function(t,e){return t?M(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[je.test(e)?"format":"standalone"][t.month()]:M(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},yt.monthsParse=function(i,e,a){var t,o,d;if(this._monthsParseExact)return function(i,e,a){var t=i.toLocaleLowerCase(),o,d,c;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;12>o;++o)c=l([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(c,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(c,"").toLocaleLowerCase();return a?"MMM"===e?-1===(d=ge.call(this._shortMonthsParse,t))?null:d:-1===(d=ge.call(this._longMonthsParse,t))?null:d:"MMM"===e?-1!==(d=ge.call(this._shortMonthsParse,t))||-1!==(d=ge.call(this._longMonthsParse,t))?d:null:-1!==(d=ge.call(this._longMonthsParse,t))||-1!==(d=ge.call(this._shortMonthsParse,t))?d:null}.call(this,i,e,a);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),t=0;12>t;t++){if(o=l([2e3,t]),a&&!this._longMonthsParse[t]&&(this._longMonthsParse[t]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[t]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),a||this._monthsParse[t]||(d="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[t]=new RegExp(d.replace(".",""),"i")),a&&"MMMM"===e&&this._longMonthsParse[t].test(i))return t;if(a&&"MMM"===e&&this._shortMonthsParse[t].test(i))return t;if(!a&&this._monthsParse[t].test(i))return t}},yt.monthsRegex=function(t){return this._monthsParseExact?(He(this,"_monthsRegex")||Ae.call(this),t?this._monthsStrictRegex:this._monthsRegex):(He(this,"_monthsRegex")||(this._monthsRegex=me),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},yt.monthsShortRegex=function(t){return this._monthsParseExact?(He(this,"_monthsRegex")||Ae.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(He(this,"_monthsShortRegex")||(this._monthsShortRegex=me),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},yt.week=function(t){return Re(t,this._week.dow,this._week.doy).week},yt.firstDayOfYear=function(){return this._week.doy},yt.firstDayOfWeek=function(){return this._week.dow},yt.weekdays=function(i,e){var a=M(this._weekdays)?this._weekdays:this._weekdays[i&&!0!==i&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===i?Ie(a,this._week.dow):i?a[i.day()]:a},yt.weekdaysMin=function(t){return!0===t?Ie(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},yt.weekdaysShort=function(t){return!0===t?Ie(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},yt.weekdaysParse=function(i,e,a){var t,o,d;if(this._weekdaysParseExact)return function(i,e,a){var t=i.toLocaleLowerCase(),o,d,c;if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;7>o;++o)c=l([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(c,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(c,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(c,"").toLocaleLowerCase();return a?"dddd"===e?-1===(d=ge.call(this._weekdaysParse,t))?null:d:"ddd"===e?-1===(d=ge.call(this._shortWeekdaysParse,t))?null:d:-1===(d=ge.call(this._minWeekdaysParse,t))?null:d:"dddd"===e?-1!==(d=ge.call(this._weekdaysParse,t))||-1!==(d=ge.call(this._shortWeekdaysParse,t))||-1!==(d=ge.call(this._minWeekdaysParse,t))?d:null:"ddd"===e?-1!==(d=ge.call(this._shortWeekdaysParse,t))||-1!==(d=ge.call(this._weekdaysParse,t))||-1!==(d=ge.call(this._minWeekdaysParse,t))?d:null:-1!==(d=ge.call(this._minWeekdaysParse,t))||-1!==(d=ge.call(this._weekdaysParse,t))||-1!==(d=ge.call(this._shortWeekdaysParse,t))?d:null}.call(this,i,e,a);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),t=0;7>t;t++){if(o=l([2e3,1]).day(t),a&&!this._fullWeekdaysParse[t]&&(this._fullWeekdaysParse[t]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[t]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[t]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[t]||(d="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[t]=new RegExp(d.replace(".",""),"i")),a&&"dddd"===e&&this._fullWeekdaysParse[t].test(i))return t;if(a&&"ddd"===e&&this._shortWeekdaysParse[t].test(i))return t;if(a&&"dd"===e&&this._minWeekdaysParse[t].test(i))return t;if(!a&&this._weekdaysParse[t].test(i))return t}},yt.weekdaysRegex=function(t){return this._weekdaysParseExact?(He(this,"_weekdaysRegex")||Ue.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(He(this,"_weekdaysRegex")||(this._weekdaysRegex=me),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},yt.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(He(this,"_weekdaysRegex")||Ue.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(He(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=me),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},yt.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(He(this,"_weekdaysRegex")||Ue.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(He(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=me),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},yt.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},yt.meridiem=function(i,e,a){return 11<i?a?"pm":"PM":a?"am":"AM"},Ze("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===U(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),Pe.lang=T("moment.lang is deprecated. Use moment.locale instead.",Ze),Pe.langData=T("moment.langData is deprecated. Use moment.localeData instead.",ea);var pt=ve,gt=St("ms"),jt=St("s"),xt=St("m"),Pt=St("h"),Ot=St("d"),Wt=St("w"),At=St("M"),Et=St("Q"),Ft=St("y"),zt=Ht("milliseconds"),Jt=Ht("seconds"),Rt=Ht("minutes"),Ct=Ht("hours"),It=Ht("days"),Ut=Ht("months"),Gt=Ht("years"),Vt=oe,Ji={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},Kt=ve,Zt=ka.prototype;Zt.isValid=function(){return this._isValid},Zt.abs=function(){var t=this._data;return this._milliseconds=pt(this._milliseconds),this._days=pt(this._days),this._months=pt(this._months),t.milliseconds=pt(t.milliseconds),t.seconds=pt(t.seconds),t.minutes=pt(t.minutes),t.hours=pt(t.hours),t.months=pt(t.months),t.years=pt(t.years),this},Zt.add=function(t,e){return Tt(this,t,e,1)},Zt.subtract=function(t,e){return Tt(this,t,e,-1)},Zt.as=function(i){if(!this.isValid())return NaN;var n=this._milliseconds,s,o;if("month"===(i=E(i))||"quarter"===i||"year"===i)switch(s=this._days+n/864e5,o=this._months+vt(s),i){case"month":return o;case"quarter":return o/3;case"year":return o/12;}else switch(s=this._days+oe(bt(this._months)),i){case"week":return s/7+n/6048e5;case"day":return s+n/864e5;case"hour":return 24*s+n/36e5;case"minute":return 1440*s+n/6e4;case"second":return 86400*s+n/1e3;case"millisecond":return we(864e5*s)+n;default:throw new Error("Unknown unit "+i);}},Zt.asMilliseconds=gt,Zt.asSeconds=jt,Zt.asMinutes=xt,Zt.asHours=Pt,Zt.asDays=Ot,Zt.asWeeks=Wt,Zt.asMonths=At,Zt.asQuarters=Et,Zt.asYears=Ft,Zt.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*U(this._months/12):NaN},Zt._bubble=function(){var o=this._milliseconds,c=this._days,l=this._months,p=this._data,m,u,g,h,v;return 0<=o&&0<=c&&0<=l||0>=o&&0>=c&&0>=l||(o+=864e5*wt(bt(l)+c),l=c=0),p.milliseconds=o%1e3,m=I(o/1e3),p.seconds=m%60,u=I(m/60),p.minutes=u%60,g=I(u/60),p.hours=g%24,c+=I(g/24),l+=v=I(vt(c)),c-=wt(bt(v)),h=I(l/12),l%=12,p.days=c,p.months=l,p.years=h,this},Zt.clone=function(){return Ca(this)},Zt.get=function(t){return t=E(t),this.isValid()?this[t+"s"]():NaN},Zt.milliseconds=zt,Zt.seconds=Jt,Zt.minutes=Rt,Zt.hours=Ct,Zt.days=It,Zt.weeks=function(){return I(this.days()/7)},Zt.months=Ut,Zt.years=Gt,Zt.humanize=function(i,o){if(!this.isValid())return this.localeData().invalidDate();var d=!1,c=Ji,l,p;return"object"==typeof i&&(o=i,i=!1),"boolean"==typeof i&&(d=i),"object"==typeof o&&(c=Object.assign({},Ji,o),null!=o.s&&null==o.ss&&(c.ss=o.s-1)),l=this.localeData(),p=Nt(this,!d,c,l),d&&(p=l.pastFuture(+this,p)),l.postformat(p)},Zt.toISOString=$t,Zt.toString=$t,Zt.toJSON=$t,Zt.locale=et,Zt.localeData=at,Zt.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$t),Zt.lang=$a,H("X",0,0,"unix"),H("x",0,0,"valueOf"),J("x",ie),J("X",/[+-]?\d+(\.\d{1,3})?/),he("X",function(i,e,a){a._d=new Date(1e3*parseFloat(i))}),he("x",function(i,e,a){a._d=new Date(U(i))}),Pe.version="2.29.1",Pi=ba,Pe.fn=Qi,Pe.min=function(){return wa("isBefore",[].slice.call(arguments,0))},Pe.max=function(){return wa("isAfter",[].slice.call(arguments,0))},Pe.now=function(){return Date.now?Date.now():+new Date},Pe.utc=l,Pe.unix=function(t){return ba(1e3*t)},Pe.months=function(t,e){return kt(t,e,"months")},Pe.isDate=r,Pe.locale=Ze,Pe.invalid=L,Pe.duration=Ca,Pe.isMoment=k,Pe.weekdays=function(i,e,a){return Dt(i,e,a,"weekdays")},Pe.parseZone=function(){return ba.apply(null,arguments).parseZone()},Pe.localeData=ea,Pe.isDuration=Sa,Pe.monthsShort=function(t,e){return kt(t,e,"monthsShort")},Pe.weekdaysMin=function(i,e,a){return Dt(i,e,a,"weekdaysMin")},Pe.defineLocale=nt,Pe.updateLocale=function(i,e){var o,d,r;return null==e?null!=sa[i]&&(null==sa[i].parentLocale?null!=sa[i]&&delete sa[i]:(sa[i]=sa[i].parentLocale,i===Ze()&&Ze(i))):(r=aa,null!=sa[i]&&null!=sa[i].parentLocale?sa[i].set(v(sa[i]._config,e)):(null!=(d=Xe(i))&&(r=d._config),e=v(r,e),null==d&&(e.abbr=i),(o=new b(e)).parentLocale=sa[i],sa[i]=o),Ze(i)),sa[i]},Pe.locales=function(){return g(sa)},Pe.weekdaysShort=function(i,e,a){return Dt(i,e,a,"weekdaysShort")},Pe.normalizeUnits=E,Pe.relativeTimeRounding=function(t){return void 0===t?Vt:"function"==typeof t&&(Vt=t,!0)},Pe.relativeTimeThreshold=function(t,e){return void 0!==Ji[t]&&(void 0===e?Ji[t]:(Ji[t]=e,"s"===t&&(Ji.ss=e-1),!0))},Pe.calendarFormat=function(i,e){var a=i.diff(e,"days",!0);return-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse"},Pe.prototype=Qi,Pe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},Pe.defineLocale("af",{months:["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],weekdays:["Sondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrydag","Saterdag"],weekdaysShort:["Son","Maa","Din","Woe","Don","Vry","Sat"],weekdaysMin:["So","Ma","Di","Wo","Do","Vr","Sa"],meridiemParse:/vm|nm/i,isPM:function(t){return /^nm$/i.test(t)},meridiem:function(i,e,a){return 12>i?a?"vm":"VM":a?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xF4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}});var Xt={s:["\u0623\u0642\u0644 \u0645\u0646 \u062B\u0627\u0646\u064A\u0629","\u062B\u0627\u0646\u064A\u0629 \u0648\u0627\u062D\u062F\u0629",["\u062B\u0627\u0646\u064A\u062A\u0627\u0646","\u062B\u0627\u0646\u064A\u062A\u064A\u0646"],"%d \u062B\u0648\u0627\u0646","%d \u062B\u0627\u0646\u064A\u0629","%d \u062B\u0627\u0646\u064A\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062F\u0642\u064A\u0642\u0629","\u062F\u0642\u064A\u0642\u0629 \u0648\u0627\u062D\u062F\u0629",["\u062F\u0642\u064A\u0642\u062A\u0627\u0646","\u062F\u0642\u064A\u0642\u062A\u064A\u0646"],"%d \u062F\u0642\u0627\u0626\u0642","%d \u062F\u0642\u064A\u0642\u0629","%d \u062F\u0642\u064A\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062D\u062F\u0629",["\u0633\u0627\u0639\u062A\u0627\u0646","\u0633\u0627\u0639\u062A\u064A\u0646"],"%d \u0633\u0627\u0639\u0627\u062A","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064A\u0648\u0645","\u064A\u0648\u0645 \u0648\u0627\u062D\u062F",["\u064A\u0648\u0645\u0627\u0646","\u064A\u0648\u0645\u064A\u0646"],"%d \u0623\u064A\u0627\u0645","%d \u064A\u0648\u0645\u064B\u0627","%d \u064A\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062D\u062F",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064A\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062D\u062F",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064A\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064B\u0627","%d \u0639\u0627\u0645"]},Ki=["\u062C\u0627\u0646\u0641\u064A","\u0641\u064A\u0641\u0631\u064A","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064A\u0644","\u0645\u0627\u064A","\u062C\u0648\u0627\u0646","\u062C\u0648\u064A\u0644\u064A\u0629","\u0623\u0648\u062A","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"];Pe.defineLocale("ar-dz",{months:Ki,monthsShort:Ki,weekdays:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0625\u062B\u0646\u064A\u0646","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],weekdaysShort:["\u0623\u062D\u062F","\u0625\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"],weekdaysMin:["\u062D","\u0646","\u062B","\u0631","\u062E","\u062C","\u0633"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200FM/\u200FYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t){return 12>t?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064A\u0648\u0645 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063A\u062F\u064B\u0627 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062F %s",past:"\u0645\u0646\u0630 %s",s:Ga("s"),ss:Ga("s"),m:Ga("m"),mm:Ga("m"),h:Ga("h"),hh:Ga("h"),d:Ga("d"),dd:Ga("d"),M:Ga("M"),MM:Ga("M"),y:Ga("y"),yy:Ga("y")},postformat:function(t){return t.replace(/,/g,"\u060C")},week:{dow:0,doy:4}}),Pe.defineLocale("ar-kw",{months:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648\u0632","\u063A\u0634\u062A","\u0634\u062A\u0646\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0646\u0628\u0631","\u062F\u062C\u0646\u0628\u0631"],monthsShort:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648\u0632","\u063A\u0634\u062A","\u0634\u062A\u0646\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0646\u0628\u0631","\u062F\u062C\u0646\u0628\u0631"],weekdays:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0625\u062A\u0646\u064A\u0646","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],weekdaysShort:["\u0627\u062D\u062F","\u0627\u062A\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"],weekdaysMin:["\u062D","\u0646","\u062B","\u0631","\u062E","\u062C","\u0633"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064A\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063A\u062F\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064A %s",past:"\u0645\u0646\u0630 %s",s:"\u062B\u0648\u0627\u0646",ss:"%d \u062B\u0627\u0646\u064A\u0629",m:"\u062F\u0642\u064A\u0642\u0629",mm:"%d \u062F\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062A",d:"\u064A\u0648\u0645",dd:"%d \u0623\u064A\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062A"},week:{dow:0,doy:12}});var Xi={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},Zi={s:["\u0623\u0642\u0644 \u0645\u0646 \u062B\u0627\u0646\u064A\u0629","\u062B\u0627\u0646\u064A\u0629 \u0648\u0627\u062D\u062F\u0629",["\u062B\u0627\u0646\u064A\u062A\u0627\u0646","\u062B\u0627\u0646\u064A\u062A\u064A\u0646"],"%d \u062B\u0648\u0627\u0646","%d \u062B\u0627\u0646\u064A\u0629","%d \u062B\u0627\u0646\u064A\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062F\u0642\u064A\u0642\u0629","\u062F\u0642\u064A\u0642\u0629 \u0648\u0627\u062D\u062F\u0629",["\u062F\u0642\u064A\u0642\u062A\u0627\u0646","\u062F\u0642\u064A\u0642\u062A\u064A\u0646"],"%d \u062F\u0642\u0627\u0626\u0642","%d \u062F\u0642\u064A\u0642\u0629","%d \u062F\u0642\u064A\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062D\u062F\u0629",["\u0633\u0627\u0639\u062A\u0627\u0646","\u0633\u0627\u0639\u062A\u064A\u0646"],"%d \u0633\u0627\u0639\u0627\u062A","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064A\u0648\u0645","\u064A\u0648\u0645 \u0648\u0627\u062D\u062F",["\u064A\u0648\u0645\u0627\u0646","\u064A\u0648\u0645\u064A\u0646"],"%d \u0623\u064A\u0627\u0645","%d \u064A\u0648\u0645\u064B\u0627","%d \u064A\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062D\u062F",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064A\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062D\u062F",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064A\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064B\u0627","%d \u0639\u0627\u0645"]},sn=["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648","\u0623\u063A\u0633\u0637\u0633","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"];Pe.defineLocale("ar-ly",{months:sn,monthsShort:sn,weekdays:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0625\u062B\u0646\u064A\u0646","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],weekdaysShort:["\u0623\u062D\u062F","\u0625\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"],weekdaysMin:["\u062D","\u0646","\u062B","\u0631","\u062E","\u062C","\u0633"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200FM/\u200FYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t){return 12>t?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064A\u0648\u0645 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063A\u062F\u064B\u0627 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062F %s",past:"\u0645\u0646\u0630 %s",s:Ja("s"),ss:Ja("s"),m:Ja("m"),mm:Ja("m"),h:Ja("h"),hh:Ja("h"),d:Ja("d"),dd:Ja("d"),M:Ja("M"),MM:Ja("M"),y:Ja("y"),yy:Ja("y")},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return Xi[t]}).replace(/,/g,"\u060C")},week:{dow:6,doy:12}}),Pe.defineLocale("ar-ma",{months:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648\u0632","\u063A\u0634\u062A","\u0634\u062A\u0646\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0646\u0628\u0631","\u062F\u062C\u0646\u0628\u0631"],monthsShort:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648\u0632","\u063A\u0634\u062A","\u0634\u062A\u0646\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0646\u0628\u0631","\u062F\u062C\u0646\u0628\u0631"],weekdays:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0625\u062B\u0646\u064A\u0646","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],weekdaysShort:["\u0627\u062D\u062F","\u0627\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"],weekdaysMin:["\u062D","\u0646","\u062B","\u0631","\u062E","\u062C","\u0633"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064A\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063A\u062F\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064A %s",past:"\u0645\u0646\u0630 %s",s:"\u062B\u0648\u0627\u0646",ss:"%d \u062B\u0627\u0646\u064A\u0629",m:"\u062F\u0642\u064A\u0642\u0629",mm:"%d \u062F\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062A",d:"\u064A\u0648\u0645",dd:"%d \u0623\u064A\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062A"},week:{dow:1,doy:4}});var on={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},cn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};Pe.defineLocale("ar-sa",{months:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648","\u0623\u063A\u0633\u0637\u0633","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"],monthsShort:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648","\u0623\u063A\u0633\u0637\u0633","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"],weekdays:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0625\u062B\u0646\u064A\u0646","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],weekdaysShort:["\u0623\u062D\u062F","\u0625\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"],weekdaysMin:["\u062D","\u0646","\u062B","\u0631","\u062E","\u062C","\u0633"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t){return 12>t?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064A\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063A\u062F\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064A %s",past:"\u0645\u0646\u0630 %s",s:"\u062B\u0648\u0627\u0646",ss:"%d \u062B\u0627\u0646\u064A\u0629",m:"\u062F\u0642\u064A\u0642\u0629",mm:"%d \u062F\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062A",d:"\u064A\u0648\u0645",dd:"%d \u0623\u064A\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062A"},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(t){return cn[t]}).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return on[t]}).replace(/,/g,"\u060C")},week:{dow:0,doy:6}}),Pe.defineLocale("ar-tn",{months:["\u062C\u0627\u0646\u0641\u064A","\u0641\u064A\u0641\u0631\u064A","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064A\u0644","\u0645\u0627\u064A","\u062C\u0648\u0627\u0646","\u062C\u0648\u064A\u0644\u064A\u0629","\u0623\u0648\u062A","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"],monthsShort:["\u062C\u0627\u0646\u0641\u064A","\u0641\u064A\u0641\u0631\u064A","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064A\u0644","\u0645\u0627\u064A","\u062C\u0648\u0627\u0646","\u062C\u0648\u064A\u0644\u064A\u0629","\u0623\u0648\u062A","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"],weekdays:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0625\u062B\u0646\u064A\u0646","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],weekdaysShort:["\u0623\u062D\u062F","\u0625\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"],weekdaysMin:["\u062D","\u0646","\u062B","\u0631","\u062E","\u062C","\u0633"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064A\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063A\u062F\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064A %s",past:"\u0645\u0646\u0630 %s",s:"\u062B\u0648\u0627\u0646",ss:"%d \u062B\u0627\u0646\u064A\u0629",m:"\u062F\u0642\u064A\u0642\u0629",mm:"%d \u062F\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062A",d:"\u064A\u0648\u0645",dd:"%d \u0623\u064A\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062A"},week:{dow:1,doy:4}});var gn={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},hn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},vn={s:["\u0623\u0642\u0644 \u0645\u0646 \u062B\u0627\u0646\u064A\u0629","\u062B\u0627\u0646\u064A\u0629 \u0648\u0627\u062D\u062F\u0629",["\u062B\u0627\u0646\u064A\u062A\u0627\u0646","\u062B\u0627\u0646\u064A\u062A\u064A\u0646"],"%d \u062B\u0648\u0627\u0646","%d \u062B\u0627\u0646\u064A\u0629","%d \u062B\u0627\u0646\u064A\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062F\u0642\u064A\u0642\u0629","\u062F\u0642\u064A\u0642\u0629 \u0648\u0627\u062D\u062F\u0629",["\u062F\u0642\u064A\u0642\u062A\u0627\u0646","\u062F\u0642\u064A\u0642\u062A\u064A\u0646"],"%d \u062F\u0642\u0627\u0626\u0642","%d \u062F\u0642\u064A\u0642\u0629","%d \u062F\u0642\u064A\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062D\u062F\u0629",["\u0633\u0627\u0639\u062A\u0627\u0646","\u0633\u0627\u0639\u062A\u064A\u0646"],"%d \u0633\u0627\u0639\u0627\u062A","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064A\u0648\u0645","\u064A\u0648\u0645 \u0648\u0627\u062D\u062F",["\u064A\u0648\u0645\u0627\u0646","\u064A\u0648\u0645\u064A\u0646"],"%d \u0623\u064A\u0627\u0645","%d \u064A\u0648\u0645\u064B\u0627","%d \u064A\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062D\u062F",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064A\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062D\u062F",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064A\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064B\u0627","%d \u0639\u0627\u0645"]},wn=["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648","\u0623\u063A\u0633\u0637\u0633","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"];Pe.defineLocale("ar",{months:wn,monthsShort:wn,weekdays:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0625\u062B\u0646\u064A\u0646","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],weekdaysShort:["\u0623\u062D\u062F","\u0625\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"],weekdaysMin:["\u062D","\u0646","\u062B","\u0631","\u062E","\u062C","\u0633"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200FM/\u200FYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t){return 12>t?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064A\u0648\u0645 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063A\u062F\u064B\u0627 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062F %s",past:"\u0645\u0646\u0630 %s",s:Xa("s"),ss:Xa("s"),m:Xa("m"),mm:Xa("m"),h:Xa("h"),hh:Xa("h"),d:Xa("d"),dd:Xa("d"),M:Xa("M"),MM:Xa("M"),y:Xa("y"),yy:Xa("y")},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(t){return hn[t]}).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return gn[t]}).replace(/,/g,"\u060C")},week:{dow:6,doy:12}});var kn={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xFCnc\xFC",4:"-\xFCnc\xFC",100:"-\xFCnc\xFC",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};Pe.defineLocale("az",{months:["yanvar","fevral","mart","aprel","may","iyun","iyul","avqust","sentyabr","oktyabr","noyabr","dekabr"],monthsShort:["yan","fev","mar","apr","may","iyn","iyl","avq","sen","okt","noy","dek"],weekdays:["Bazar","Bazar ert\u0259si","\xC7\u0259r\u015F\u0259nb\u0259 ax\u015Fam\u0131","\xC7\u0259r\u015F\u0259nb\u0259","C\xFCm\u0259 ax\u015Fam\u0131","C\xFCm\u0259","\u015E\u0259nb\u0259"],weekdaysShort:["Baz","BzE","\xC7Ax","\xC7\u0259r","CAx","C\xFCm","\u015E\u0259n"],weekdaysMin:["Bz","BE","\xC7A","\xC7\u0259","CA","C\xFC","\u015E\u0259"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xFCn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xFCn\u0259n] LT",lastWeek:"[ke\xE7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xE7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xFCn",dd:"%d g\xFCn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(t){return /^(g\xfcnd\xfcz|ax\u015fam)$/.test(t)},meridiem:function(t){return 4>t?"gec\u0259":12>t?"s\u0259h\u0259r":17>t?"g\xFCnd\xFCz":"ax\u015Fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(t){if(0===t)return t+"-\u0131nc\u0131";var e=t%10;return t+(kn[e]||kn[t%100-e]||kn[100<=t?100:null])},week:{dow:1,doy:7}}),Pe.defineLocale("be",{months:{format:["\u0441\u0442\u0443\u0434\u0437\u0435\u043D\u044F","\u043B\u044E\u0442\u0430\u0433\u0430","\u0441\u0430\u043A\u0430\u0432\u0456\u043A\u0430","\u043A\u0440\u0430\u0441\u0430\u0432\u0456\u043A\u0430","\u0442\u0440\u0430\u045E\u043D\u044F","\u0447\u044D\u0440\u0432\u0435\u043D\u044F","\u043B\u0456\u043F\u0435\u043D\u044F","\u0436\u043D\u0456\u045E\u043D\u044F","\u0432\u0435\u0440\u0430\u0441\u043D\u044F","\u043A\u0430\u0441\u0442\u0440\u044B\u0447\u043D\u0456\u043A\u0430","\u043B\u0456\u0441\u0442\u0430\u043F\u0430\u0434\u0430","\u0441\u043D\u0435\u0436\u043D\u044F"],standalone:["\u0441\u0442\u0443\u0434\u0437\u0435\u043D\u044C","\u043B\u044E\u0442\u044B","\u0441\u0430\u043A\u0430\u0432\u0456\u043A","\u043A\u0440\u0430\u0441\u0430\u0432\u0456\u043A","\u0442\u0440\u0430\u0432\u0435\u043D\u044C","\u0447\u044D\u0440\u0432\u0435\u043D\u044C","\u043B\u0456\u043F\u0435\u043D\u044C","\u0436\u043D\u0456\u0432\u0435\u043D\u044C","\u0432\u0435\u0440\u0430\u0441\u0435\u043D\u044C","\u043A\u0430\u0441\u0442\u0440\u044B\u0447\u043D\u0456\u043A","\u043B\u0456\u0441\u0442\u0430\u043F\u0430\u0434","\u0441\u043D\u0435\u0436\u0430\u043D\u044C"]},monthsShort:["\u0441\u0442\u0443\u0434","\u043B\u044E\u0442","\u0441\u0430\u043A","\u043A\u0440\u0430\u0441","\u0442\u0440\u0430\u0432","\u0447\u044D\u0440\u0432","\u043B\u0456\u043F","\u0436\u043D\u0456\u0432","\u0432\u0435\u0440","\u043A\u0430\u0441\u0442","\u043B\u0456\u0441\u0442","\u0441\u043D\u0435\u0436"],weekdays:{format:["\u043D\u044F\u0434\u0437\u0435\u043B\u044E","\u043F\u0430\u043D\u044F\u0434\u0437\u0435\u043B\u0430\u043A","\u0430\u045E\u0442\u043E\u0440\u0430\u043A","\u0441\u0435\u0440\u0430\u0434\u0443","\u0447\u0430\u0446\u0432\u0435\u0440","\u043F\u044F\u0442\u043D\u0456\u0446\u0443","\u0441\u0443\u0431\u043E\u0442\u0443"],standalone:["\u043D\u044F\u0434\u0437\u0435\u043B\u044F","\u043F\u0430\u043D\u044F\u0434\u0437\u0435\u043B\u0430\u043A","\u0430\u045E\u0442\u043E\u0440\u0430\u043A","\u0441\u0435\u0440\u0430\u0434\u0430","\u0447\u0430\u0446\u0432\u0435\u0440","\u043F\u044F\u0442\u043D\u0456\u0446\u0430","\u0441\u0443\u0431\u043E\u0442\u0430"],isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:["\u043D\u0434","\u043F\u043D","\u0430\u0442","\u0441\u0440","\u0447\u0446","\u043F\u0442","\u0441\u0431"],weekdaysMin:["\u043D\u0434","\u043F\u043D","\u0430\u0442","\u0441\u0440","\u0447\u0446","\u043F\u0442","\u0441\u0431"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043D\u043D\u044F \u045E] LT",nextDay:"[\u0417\u0430\u045E\u0442\u0440\u0430 \u045E] LT",lastDay:"[\u0423\u0447\u043E\u0440\u0430 \u045E] LT",nextWeek:function(){return"[\u0423] dddd [\u045E] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043C\u0456\u043D\u0443\u043B\u0443\u044E] dddd [\u045E] LT";case 1:case 2:case 4:return"[\u0423 \u043C\u0456\u043D\u0443\u043B\u044B] dddd [\u045E] LT";}},sameElse:"L"},relativeTime:{future:"\u043F\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043C\u0443",s:"\u043D\u0435\u043A\u0430\u043B\u044C\u043A\u0456 \u0441\u0435\u043A\u0443\u043D\u0434",m:ei,mm:ei,h:ei,hh:ei,d:"\u0434\u0437\u0435\u043D\u044C",dd:ei,M:"\u043C\u0435\u0441\u044F\u0446",MM:ei,y:"\u0433\u043E\u0434",yy:ei},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(t){return /^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(t)},meridiem:function(t){return 4>t?"\u043D\u043E\u0447\u044B":12>t?"\u0440\u0430\u043D\u0456\u0446\u044B":17>t?"\u0434\u043D\u044F":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(t,e){return"M"===e||"d"===e||"DDD"===e||"w"===e||"W"===e?2!=t%10&&3!=t%10||12==t%100||13==t%100?t+"-\u044B":t+"-\u0456":"D"===e?t+"-\u0433\u0430":t},week:{dow:1,doy:7}}),Pe.defineLocale("bg",{months:["\u044F\u043D\u0443\u0430\u0440\u0438","\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0438\u043B","\u043C\u0430\u0439","\u044E\u043D\u0438","\u044E\u043B\u0438","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043F\u0442\u0435\u043C\u0432\u0440\u0438","\u043E\u043A\u0442\u043E\u043C\u0432\u0440\u0438","\u043D\u043E\u0435\u043C\u0432\u0440\u0438","\u0434\u0435\u043A\u0435\u043C\u0432\u0440\u0438"],monthsShort:["\u044F\u043D\u0443","\u0444\u0435\u0432","\u043C\u0430\u0440","\u0430\u043F\u0440","\u043C\u0430\u0439","\u044E\u043D\u0438","\u044E\u043B\u0438","\u0430\u0432\u0433","\u0441\u0435\u043F","\u043E\u043A\u0442","\u043D\u043E\u0435","\u0434\u0435\u043A"],weekdays:["\u043D\u0435\u0434\u0435\u043B\u044F","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u044F\u0434\u0430","\u0447\u0435\u0442\u0432\u044A\u0440\u0442\u044A\u043A","\u043F\u0435\u0442\u044A\u043A","\u0441\u044A\u0431\u043E\u0442\u0430"],weekdaysShort:["\u043D\u0435\u0434","\u043F\u043E\u043D","\u0432\u0442\u043E","\u0441\u0440\u044F","\u0447\u0435\u0442","\u043F\u0435\u0442","\u0441\u044A\u0431"],weekdaysMin:["\u043D\u0434","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043D\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041C\u0438\u043D\u0430\u043B\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041C\u0438\u043D\u0430\u043B\u0438\u044F] dddd [\u0432] LT";}},sameElse:"L"},relativeTime:{future:"\u0441\u043B\u0435\u0434 %s",past:"\u043F\u0440\u0435\u0434\u0438 %s",s:"\u043D\u044F\u043A\u043E\u043B\u043A\u043E \u0441\u0435\u043A\u0443\u043D\u0434\u0438",ss:"%d \u0441\u0435\u043A\u0443\u043D\u0434\u0438",m:"\u043C\u0438\u043D\u0443\u0442\u0430",mm:"%d \u043C\u0438\u043D\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043D",dd:"%d \u0434\u0435\u043D\u0430",w:"\u0441\u0435\u0434\u043C\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043C\u0438\u0446\u0438",M:"\u043C\u0435\u0441\u0435\u0446",MM:"%d \u043C\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043E\u0434\u0438\u043D\u0430",yy:"%d \u0433\u043E\u0434\u0438\u043D\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(i){var e=i%10,a=i%100;return 0===i?i+"-\u0435\u0432":0==a?i+"-\u0435\u043D":10<a&&20>a?i+"-\u0442\u0438":1==e?i+"-\u0432\u0438":2==e?i+"-\u0440\u0438":7==e||8==e?i+"-\u043C\u0438":i+"-\u0442\u0438"},week:{dow:1,doy:7}}),Pe.defineLocale("bm",{months:["Zanwuyekalo","Fewuruyekalo","Marisikalo","Awirilikalo","M\u025Bkalo","Zuw\u025Bnkalo","Zuluyekalo","Utikalo","S\u025Btanburukalo","\u0254kut\u0254burukalo","Nowanburukalo","Desanburukalo"],monthsShort:["Zan","Few","Mar","Awi","M\u025B","Zuw","Zul","Uti","S\u025Bt","\u0254ku","Now","Des"],weekdays:["Kari","Nt\u025Bn\u025Bn","Tarata","Araba","Alamisa","Juma","Sibiri"],weekdaysShort:["Kar","Nt\u025B","Tar","Ara","Ala","Jum","Sib"],weekdaysMin:["Ka","Nt","Ta","Ar","Al","Ju","Si"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025Br\u025B] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025Br\u025B] HH:mm"},calendar:{sameDay:"[Bi l\u025Br\u025B] LT",nextDay:"[Sini l\u025Br\u025B] LT",nextWeek:"dddd [don l\u025Br\u025B] LT",lastDay:"[Kunu l\u025Br\u025B] LT",lastWeek:"dddd [t\u025Bm\u025Bnen l\u025Br\u025B] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025B %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025Br\u025B kelen",hh:"l\u025Br\u025B %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});var Cn={1:"\u09E7",2:"\u09E8",3:"\u09E9",4:"\u09EA",5:"\u09EB",6:"\u09EC",7:"\u09ED",8:"\u09EE",9:"\u09EF",0:"\u09E6"},Tn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};Pe.defineLocale("bn-bd",{months:["\u099C\u09BE\u09A8\u09C1\u09DF\u09BE\u09B0\u09BF","\u09AB\u09C7\u09AC\u09CD\u09B0\u09C1\u09DF\u09BE\u09B0\u09BF","\u09AE\u09BE\u09B0\u09CD\u099A","\u098F\u09AA\u09CD\u09B0\u09BF\u09B2","\u09AE\u09C7","\u099C\u09C1\u09A8","\u099C\u09C1\u09B2\u09BE\u0987","\u0986\u0997\u09B8\u09CD\u099F","\u09B8\u09C7\u09AA\u09CD\u099F\u09C7\u09AE\u09CD\u09AC\u09B0","\u0985\u0995\u09CD\u099F\u09CB\u09AC\u09B0","\u09A8\u09AD\u09C7\u09AE\u09CD\u09AC\u09B0","\u09A1\u09BF\u09B8\u09C7\u09AE\u09CD\u09AC\u09B0"],monthsShort:["\u099C\u09BE\u09A8\u09C1","\u09AB\u09C7\u09AC\u09CD\u09B0\u09C1","\u09AE\u09BE\u09B0\u09CD\u099A","\u098F\u09AA\u09CD\u09B0\u09BF\u09B2","\u09AE\u09C7","\u099C\u09C1\u09A8","\u099C\u09C1\u09B2\u09BE\u0987","\u0986\u0997\u09B8\u09CD\u099F","\u09B8\u09C7\u09AA\u09CD\u099F","\u0985\u0995\u09CD\u099F\u09CB","\u09A8\u09AD\u09C7","\u09A1\u09BF\u09B8\u09C7"],weekdays:["\u09B0\u09AC\u09BF\u09AC\u09BE\u09B0","\u09B8\u09CB\u09AE\u09AC\u09BE\u09B0","\u09AE\u0999\u09CD\u0997\u09B2\u09AC\u09BE\u09B0","\u09AC\u09C1\u09A7\u09AC\u09BE\u09B0","\u09AC\u09C3\u09B9\u09B8\u09CD\u09AA\u09A4\u09BF\u09AC\u09BE\u09B0","\u09B6\u09C1\u0995\u09CD\u09B0\u09AC\u09BE\u09B0","\u09B6\u09A8\u09BF\u09AC\u09BE\u09B0"],weekdaysShort:["\u09B0\u09AC\u09BF","\u09B8\u09CB\u09AE","\u09AE\u0999\u09CD\u0997\u09B2","\u09AC\u09C1\u09A7","\u09AC\u09C3\u09B9\u09B8\u09CD\u09AA\u09A4\u09BF","\u09B6\u09C1\u0995\u09CD\u09B0","\u09B6\u09A8\u09BF"],weekdaysMin:["\u09B0\u09AC\u09BF","\u09B8\u09CB\u09AE","\u09AE\u0999\u09CD\u0997\u09B2","\u09AC\u09C1\u09A7","\u09AC\u09C3\u09B9","\u09B6\u09C1\u0995\u09CD\u09B0","\u09B6\u09A8\u09BF"],longDateFormat:{LT:"A h:mm \u09B8\u09AE\u09DF",LTS:"A h:mm:ss \u09B8\u09AE\u09DF",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09B8\u09AE\u09DF",LLLL:"dddd, D MMMM YYYY, A h:mm \u09B8\u09AE\u09DF"},calendar:{sameDay:"[\u0986\u099C] LT",nextDay:"[\u0986\u0997\u09BE\u09AE\u09C0\u0995\u09BE\u09B2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09A4\u0995\u09BE\u09B2] LT",lastWeek:"[\u0997\u09A4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09AA\u09B0\u09C7",past:"%s \u0986\u0997\u09C7",s:"\u0995\u09DF\u09C7\u0995 \u09B8\u09C7\u0995\u09C7\u09A8\u09CD\u09A1",ss:"%d \u09B8\u09C7\u0995\u09C7\u09A8\u09CD\u09A1",m:"\u098F\u0995 \u09AE\u09BF\u09A8\u09BF\u099F",mm:"%d \u09AE\u09BF\u09A8\u09BF\u099F",h:"\u098F\u0995 \u0998\u09A8\u09CD\u099F\u09BE",hh:"%d \u0998\u09A8\u09CD\u099F\u09BE",d:"\u098F\u0995 \u09A6\u09BF\u09A8",dd:"%d \u09A6\u09BF\u09A8",M:"\u098F\u0995 \u09AE\u09BE\u09B8",MM:"%d \u09AE\u09BE\u09B8",y:"\u098F\u0995 \u09AC\u099B\u09B0",yy:"%d \u09AC\u099B\u09B0"},preparse:function(t){return t.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(t){return Tn[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Cn[t]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(t,i){return 12===t&&(t=0),"\u09B0\u09BE\u09A4"===i?4>t?t:t+12:"\u09AD\u09CB\u09B0"===i||"\u09B8\u0995\u09BE\u09B2"===i?t:"\u09A6\u09C1\u09AA\u09C1\u09B0"===i?3<=t?t:t+12:"\u09AC\u09BF\u0995\u09BE\u09B2"===i||"\u09B8\u09A8\u09CD\u09A7\u09CD\u09AF\u09BE"===i?t+12:void 0},meridiem:function(t){return 4>t?"\u09B0\u09BE\u09A4":6>t?"\u09AD\u09CB\u09B0":12>t?"\u09B8\u0995\u09BE\u09B2":15>t?"\u09A6\u09C1\u09AA\u09C1\u09B0":18>t?"\u09AC\u09BF\u0995\u09BE\u09B2":20>t?"\u09B8\u09A8\u09CD\u09A7\u09CD\u09AF\u09BE":"\u09B0\u09BE\u09A4"},week:{dow:0,doy:6}});var En={1:"\u09E7",2:"\u09E8",3:"\u09E9",4:"\u09EA",5:"\u09EB",6:"\u09EC",7:"\u09ED",8:"\u09EE",9:"\u09EF",0:"\u09E6"},Nn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};Pe.defineLocale("bn",{months:["\u099C\u09BE\u09A8\u09C1\u09DF\u09BE\u09B0\u09BF","\u09AB\u09C7\u09AC\u09CD\u09B0\u09C1\u09DF\u09BE\u09B0\u09BF","\u09AE\u09BE\u09B0\u09CD\u099A","\u098F\u09AA\u09CD\u09B0\u09BF\u09B2","\u09AE\u09C7","\u099C\u09C1\u09A8","\u099C\u09C1\u09B2\u09BE\u0987","\u0986\u0997\u09B8\u09CD\u099F","\u09B8\u09C7\u09AA\u09CD\u099F\u09C7\u09AE\u09CD\u09AC\u09B0","\u0985\u0995\u09CD\u099F\u09CB\u09AC\u09B0","\u09A8\u09AD\u09C7\u09AE\u09CD\u09AC\u09B0","\u09A1\u09BF\u09B8\u09C7\u09AE\u09CD\u09AC\u09B0"],monthsShort:["\u099C\u09BE\u09A8\u09C1","\u09AB\u09C7\u09AC\u09CD\u09B0\u09C1","\u09AE\u09BE\u09B0\u09CD\u099A","\u098F\u09AA\u09CD\u09B0\u09BF\u09B2","\u09AE\u09C7","\u099C\u09C1\u09A8","\u099C\u09C1\u09B2\u09BE\u0987","\u0986\u0997\u09B8\u09CD\u099F","\u09B8\u09C7\u09AA\u09CD\u099F","\u0985\u0995\u09CD\u099F\u09CB","\u09A8\u09AD\u09C7","\u09A1\u09BF\u09B8\u09C7"],weekdays:["\u09B0\u09AC\u09BF\u09AC\u09BE\u09B0","\u09B8\u09CB\u09AE\u09AC\u09BE\u09B0","\u09AE\u0999\u09CD\u0997\u09B2\u09AC\u09BE\u09B0","\u09AC\u09C1\u09A7\u09AC\u09BE\u09B0","\u09AC\u09C3\u09B9\u09B8\u09CD\u09AA\u09A4\u09BF\u09AC\u09BE\u09B0","\u09B6\u09C1\u0995\u09CD\u09B0\u09AC\u09BE\u09B0","\u09B6\u09A8\u09BF\u09AC\u09BE\u09B0"],weekdaysShort:["\u09B0\u09AC\u09BF","\u09B8\u09CB\u09AE","\u09AE\u0999\u09CD\u0997\u09B2","\u09AC\u09C1\u09A7","\u09AC\u09C3\u09B9\u09B8\u09CD\u09AA\u09A4\u09BF","\u09B6\u09C1\u0995\u09CD\u09B0","\u09B6\u09A8\u09BF"],weekdaysMin:["\u09B0\u09AC\u09BF","\u09B8\u09CB\u09AE","\u09AE\u0999\u09CD\u0997\u09B2","\u09AC\u09C1\u09A7","\u09AC\u09C3\u09B9","\u09B6\u09C1\u0995\u09CD\u09B0","\u09B6\u09A8\u09BF"],longDateFormat:{LT:"A h:mm \u09B8\u09AE\u09DF",LTS:"A h:mm:ss \u09B8\u09AE\u09DF",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09B8\u09AE\u09DF",LLLL:"dddd, D MMMM YYYY, A h:mm \u09B8\u09AE\u09DF"},calendar:{sameDay:"[\u0986\u099C] LT",nextDay:"[\u0986\u0997\u09BE\u09AE\u09C0\u0995\u09BE\u09B2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09A4\u0995\u09BE\u09B2] LT",lastWeek:"[\u0997\u09A4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09AA\u09B0\u09C7",past:"%s \u0986\u0997\u09C7",s:"\u0995\u09DF\u09C7\u0995 \u09B8\u09C7\u0995\u09C7\u09A8\u09CD\u09A1",ss:"%d \u09B8\u09C7\u0995\u09C7\u09A8\u09CD\u09A1",m:"\u098F\u0995 \u09AE\u09BF\u09A8\u09BF\u099F",mm:"%d \u09AE\u09BF\u09A8\u09BF\u099F",h:"\u098F\u0995 \u0998\u09A8\u09CD\u099F\u09BE",hh:"%d \u0998\u09A8\u09CD\u099F\u09BE",d:"\u098F\u0995 \u09A6\u09BF\u09A8",dd:"%d \u09A6\u09BF\u09A8",M:"\u098F\u0995 \u09AE\u09BE\u09B8",MM:"%d \u09AE\u09BE\u09B8",y:"\u098F\u0995 \u09AC\u099B\u09B0",yy:"%d \u09AC\u099B\u09B0"},preparse:function(t){return t.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(t){return Nn[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return En[t]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(t,i){return 12===t&&(t=0),"\u09B0\u09BE\u09A4"===i&&4<=t||"\u09A6\u09C1\u09AA\u09C1\u09B0"===i&&5>t||"\u09AC\u09BF\u0995\u09BE\u09B2"===i?t+12:t},meridiem:function(t){return 4>t?"\u09B0\u09BE\u09A4":10>t?"\u09B8\u0995\u09BE\u09B2":17>t?"\u09A6\u09C1\u09AA\u09C1\u09B0":20>t?"\u09AC\u09BF\u0995\u09BE\u09B2":"\u09B0\u09BE\u09A4"},week:{dow:0,doy:6}});var $n={1:"\u0F21",2:"\u0F22",3:"\u0F23",4:"\u0F24",5:"\u0F25",6:"\u0F26",7:"\u0F27",8:"\u0F28",9:"\u0F29",0:"\u0F20"},Rn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};Pe.defineLocale("bo",{months:["\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F51\u0F44\u0F0B\u0F54\u0F7C","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F42\u0F49\u0F72\u0F66\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F42\u0F66\u0F74\u0F58\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F5E\u0F72\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F63\u0F94\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F51\u0FB2\u0F74\u0F42\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F51\u0F74\u0F53\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F62\u0F92\u0FB1\u0F51\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F51\u0F42\u0F74\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F45\u0F74\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F45\u0F74\u0F0B\u0F42\u0F45\u0F72\u0F42\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F45\u0F74\u0F0B\u0F42\u0F49\u0F72\u0F66\u0F0B\u0F54"],monthsShort:["\u0F5F\u0FB3\u0F0B1","\u0F5F\u0FB3\u0F0B2","\u0F5F\u0FB3\u0F0B3","\u0F5F\u0FB3\u0F0B4","\u0F5F\u0FB3\u0F0B5","\u0F5F\u0FB3\u0F0B6","\u0F5F\u0FB3\u0F0B7","\u0F5F\u0FB3\u0F0B8","\u0F5F\u0FB3\u0F0B9","\u0F5F\u0FB3\u0F0B10","\u0F5F\u0FB3\u0F0B11","\u0F5F\u0FB3\u0F0B12"],monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:["\u0F42\u0F5F\u0F60\u0F0B\u0F49\u0F72\u0F0B\u0F58\u0F0B","\u0F42\u0F5F\u0F60\u0F0B\u0F5F\u0FB3\u0F0B\u0F56\u0F0B","\u0F42\u0F5F\u0F60\u0F0B\u0F58\u0F72\u0F42\u0F0B\u0F51\u0F58\u0F62\u0F0B","\u0F42\u0F5F\u0F60\u0F0B\u0F63\u0FB7\u0F42\u0F0B\u0F54\u0F0B","\u0F42\u0F5F\u0F60\u0F0B\u0F55\u0F74\u0F62\u0F0B\u0F56\u0F74","\u0F42\u0F5F\u0F60\u0F0B\u0F54\u0F0B\u0F66\u0F44\u0F66\u0F0B","\u0F42\u0F5F\u0F60\u0F0B\u0F66\u0FA4\u0F7A\u0F53\u0F0B\u0F54\u0F0B"],weekdaysShort:["\u0F49\u0F72\u0F0B\u0F58\u0F0B","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B","\u0F58\u0F72\u0F42\u0F0B\u0F51\u0F58\u0F62\u0F0B","\u0F63\u0FB7\u0F42\u0F0B\u0F54\u0F0B","\u0F55\u0F74\u0F62\u0F0B\u0F56\u0F74","\u0F54\u0F0B\u0F66\u0F44\u0F66\u0F0B","\u0F66\u0FA4\u0F7A\u0F53\u0F0B\u0F54\u0F0B"],weekdaysMin:["\u0F49\u0F72","\u0F5F\u0FB3","\u0F58\u0F72\u0F42","\u0F63\u0FB7\u0F42","\u0F55\u0F74\u0F62","\u0F66\u0F44\u0F66","\u0F66\u0FA4\u0F7A\u0F53"],longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0F51\u0F72\u0F0B\u0F62\u0F72\u0F44] LT",nextDay:"[\u0F66\u0F44\u0F0B\u0F49\u0F72\u0F53] LT",nextWeek:"[\u0F56\u0F51\u0F74\u0F53\u0F0B\u0F55\u0FB2\u0F42\u0F0B\u0F62\u0F97\u0F7A\u0F66\u0F0B\u0F58], LT",lastDay:"[\u0F41\u0F0B\u0F66\u0F44] LT",lastWeek:"[\u0F56\u0F51\u0F74\u0F53\u0F0B\u0F55\u0FB2\u0F42\u0F0B\u0F58\u0F50\u0F60\u0F0B\u0F58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0F63\u0F0B",past:"%s \u0F66\u0F94\u0F53\u0F0B\u0F63",s:"\u0F63\u0F58\u0F0B\u0F66\u0F44",ss:"%d \u0F66\u0F90\u0F62\u0F0B\u0F46\u0F0D",m:"\u0F66\u0F90\u0F62\u0F0B\u0F58\u0F0B\u0F42\u0F45\u0F72\u0F42",mm:"%d \u0F66\u0F90\u0F62\u0F0B\u0F58",h:"\u0F46\u0F74\u0F0B\u0F5A\u0F7C\u0F51\u0F0B\u0F42\u0F45\u0F72\u0F42",hh:"%d \u0F46\u0F74\u0F0B\u0F5A\u0F7C\u0F51",d:"\u0F49\u0F72\u0F53\u0F0B\u0F42\u0F45\u0F72\u0F42",dd:"%d \u0F49\u0F72\u0F53\u0F0B",M:"\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F42\u0F45\u0F72\u0F42",MM:"%d \u0F5F\u0FB3\u0F0B\u0F56",y:"\u0F63\u0F7C\u0F0B\u0F42\u0F45\u0F72\u0F42",yy:"%d \u0F63\u0F7C"},preparse:function(t){return t.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(t){return Rn[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return $n[t]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(t,i){return 12===t&&(t=0),"\u0F58\u0F5A\u0F53\u0F0B\u0F58\u0F7C"===i&&4<=t||"\u0F49\u0F72\u0F53\u0F0B\u0F42\u0F74\u0F44"===i&&5>t||"\u0F51\u0F42\u0F7C\u0F44\u0F0B\u0F51\u0F42"===i?t+12:t},meridiem:function(t){return 4>t?"\u0F58\u0F5A\u0F53\u0F0B\u0F58\u0F7C":10>t?"\u0F5E\u0F7C\u0F42\u0F66\u0F0B\u0F40\u0F66":17>t?"\u0F49\u0F72\u0F53\u0F0B\u0F42\u0F74\u0F44":20>t?"\u0F51\u0F42\u0F7C\u0F44\u0F0B\u0F51\u0F42":"\u0F58\u0F5A\u0F53\u0F0B\u0F58\u0F7C"},week:{dow:0,doy:6}});var Fn=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],Vn=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,Un=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];Pe.defineLocale("br",{months:["Genver","C\u02BChwevrer","Meurzh","Ebrel","Mae","Mezheven","Gouere","Eost","Gwengolo","Here","Du","Kerzu"],monthsShort:["Gen","C\u02BChwe","Meu","Ebr","Mae","Eve","Gou","Eos","Gwe","Her","Du","Ker"],weekdays:["Sul","Lun","Meurzh","Merc\u02BCher","Yaou","Gwener","Sadorn"],weekdaysShort:["Sul","Lun","Meu","Mer","Yao","Gwe","Sad"],weekdaysMin:["Su","Lu","Me","Mer","Ya","Gw","Sa"],weekdaysParse:Un,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:Un,monthsRegex:Vn,monthsShortRegex:Vn,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:Fn,longMonthsParse:Fn,shortMonthsParse:Fn,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02BChoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02BCh da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02BCzo",s:"un nebeud segondenno\xF9",ss:"%d eilenn",m:"ur vunutenn",mm:ti,h:"un eur",hh:"%d eur",d:"un devezh",dd:ti,M:"ur miz",MM:ti,y:"ur bloaz",yy:function(t){switch(function t(e){return 9<e?t(e%10):e}(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz";}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(t){return t+(1===t?"a\xF1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(t){return"g.m."===t},meridiem:function(t){return 12>t?"a.m.":"g.m."}}),Pe.defineLocale("bs",{months:["januar","februar","mart","april","maj","juni","juli","august","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj.","jun.","jul.","aug.","sep.","okt.","nov.","dec."],monthsParseExact:!0,weekdays:["nedjelja","ponedjeljak","utorak","srijeda","\u010Detvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sri.","\u010Det.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","\u010De","pe","su"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT";}},lastDay:"[ju\u010Der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT";}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:ai,m:ai,mm:ai,h:ai,hh:ai,d:"dan",dd:ai,M:"mjesec",MM:ai,y:"godinu",yy:ai},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),Pe.defineLocale("ca",{months:{standalone:["gener","febrer","mar\xE7","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],format:["de gener","de febrer","de mar\xE7","d'abril","de maig","de juny","de juliol","d'agost","de setembre","d'octubre","de novembre","de desembre"],isFormat:/D[oD]?(\s)+MMMM/},monthsShort:["gen.","febr.","mar\xE7","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."],monthsParseExact:!0,weekdays:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],weekdaysShort:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],weekdaysMin:["dg","dl","dt","dc","dj","dv","ds"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1===this.hours()?"la":"les")+"] LT"},nextDay:function(){return"[dem\xE0 a "+(1===this.hours()?"la":"les")+"] LT"},nextWeek:function(){return"dddd [a "+(1===this.hours()?"la":"les")+"] LT"},lastDay:function(){return"[ahir a "+(1===this.hours()?"la":"les")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1===this.hours()?"la":"les")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xED %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(t,e){return t+("w"!==e&&"W"!==e?1===t?"r":2===t?"n":3===t?"r":4===t?"t":"\xE8":"a")},week:{dow:1,doy:4}});var Gn=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],Jn=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;Pe.defineLocale("cs",{months:["leden","\xFAnor","b\u0159ezen","duben","kv\u011Bten","\u010Derven","\u010Dervenec","srpen","z\xE1\u0159\xED","\u0159\xEDjen","listopad","prosinec"],monthsShort:["led","\xFAno","b\u0159e","dub","kv\u011B","\u010Dvn","\u010Dvc","srp","z\xE1\u0159","\u0159\xEDj","lis","pro"],monthsRegex:Jn,monthsShortRegex:Jn,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:Gn,longMonthsParse:Gn,shortMonthsParse:Gn,weekdays:["ned\u011Ble","pond\u011Bl\xED","\xFAter\xFD","st\u0159eda","\u010Dtvrtek","p\xE1tek","sobota"],weekdaysShort:["ne","po","\xFAt","st","\u010Dt","p\xE1","so"],weekdaysMin:["ne","po","\xFAt","st","\u010Dt","p\xE1","so"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xEDtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011Bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010Dtvrtek v] LT";case 5:return"[v p\xE1tek v] LT";case 6:return"[v sobotu v] LT";}},lastDay:"[v\u010Dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011Bli v] LT";case 1:case 2:return"[minul\xE9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xFD] dddd [v] LT";case 6:return"[minulou sobotu v] LT";}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:ni,ss:ni,m:ni,mm:ni,h:ni,hh:ni,d:ni,dd:ni,M:ni,MM:ni,y:ni,yy:ni},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Pe.defineLocale("cv",{months:["\u043A\u04D1\u0440\u043B\u0430\u0447","\u043D\u0430\u0440\u04D1\u0441","\u043F\u0443\u0448","\u0430\u043A\u0430","\u043C\u0430\u0439","\u04AB\u04D7\u0440\u0442\u043C\u0435","\u0443\u0442\u04D1","\u04AB\u0443\u0440\u043B\u0430","\u0430\u0432\u04D1\u043D","\u044E\u043F\u0430","\u0447\u04F3\u043A","\u0440\u0430\u0448\u0442\u0430\u0432"],monthsShort:["\u043A\u04D1\u0440","\u043D\u0430\u0440","\u043F\u0443\u0448","\u0430\u043A\u0430","\u043C\u0430\u0439","\u04AB\u04D7\u0440","\u0443\u0442\u04D1","\u04AB\u0443\u0440","\u0430\u0432\u043D","\u044E\u043F\u0430","\u0447\u04F3\u043A","\u0440\u0430\u0448"],weekdays:["\u0432\u044B\u0440\u0441\u0430\u0440\u043D\u0438\u043A\u0443\u043D","\u0442\u0443\u043D\u0442\u0438\u043A\u0443\u043D","\u044B\u0442\u043B\u0430\u0440\u0438\u043A\u0443\u043D","\u044E\u043D\u043A\u0443\u043D","\u043A\u04D7\u04AB\u043D\u0435\u0440\u043D\u0438\u043A\u0443\u043D","\u044D\u0440\u043D\u0435\u043A\u0443\u043D","\u0448\u04D1\u043C\u0430\u0442\u043A\u0443\u043D"],weekdaysShort:["\u0432\u044B\u0440","\u0442\u0443\u043D","\u044B\u0442\u043B","\u044E\u043D","\u043A\u04D7\u04AB","\u044D\u0440\u043D","\u0448\u04D1\u043C"],weekdaysMin:["\u0432\u0440","\u0442\u043D","\u044B\u0442","\u044E\u043D","\u043A\u04AB","\u044D\u0440","\u0448\u043C"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04AB\u0443\u043B\u0445\u0438] MMMM [\u0443\u0439\u04D1\u0445\u04D7\u043D] D[-\u043C\u04D7\u0448\u04D7]",LLL:"YYYY [\u04AB\u0443\u043B\u0445\u0438] MMMM [\u0443\u0439\u04D1\u0445\u04D7\u043D] D[-\u043C\u04D7\u0448\u04D7], HH:mm",LLLL:"dddd, YYYY [\u04AB\u0443\u043B\u0445\u0438] MMMM [\u0443\u0439\u04D1\u0445\u04D7\u043D] D[-\u043C\u04D7\u0448\u04D7], HH:mm"},calendar:{sameDay:"[\u041F\u0430\u044F\u043D] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042B\u0440\u0430\u043D] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04D6\u043D\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04AA\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043D\u04D7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(t){return t+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(t)?"\u0440\u0435\u043D":/\u04ab\u0443\u043b$/i.exec(t)?"\u0442\u0430\u043D":"\u0440\u0430\u043D")},past:"%s \u043A\u0430\u044F\u043B\u043B\u0430",s:"\u043F\u04D7\u0440-\u0438\u043A \u04AB\u0435\u043A\u043A\u0443\u043D\u0442",ss:"%d \u04AB\u0435\u043A\u043A\u0443\u043D\u0442",m:"\u043F\u04D7\u0440 \u043C\u0438\u043D\u0443\u0442",mm:"%d \u043C\u0438\u043D\u0443\u0442",h:"\u043F\u04D7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043F\u04D7\u0440 \u043A\u0443\u043D",dd:"%d \u043A\u0443\u043D",M:"\u043F\u04D7\u0440 \u0443\u0439\u04D1\u0445",MM:"%d \u0443\u0439\u04D1\u0445",y:"\u043F\u04D7\u0440 \u04AB\u0443\u043B",yy:"%d \u04AB\u0443\u043B"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043C\u04D7\u0448",week:{dow:1,doy:7}}),Pe.defineLocale("cy",{months:["Ionawr","Chwefror","Mawrth","Ebrill","Mai","Mehefin","Gorffennaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr"],monthsShort:["Ion","Chwe","Maw","Ebr","Mai","Meh","Gor","Aws","Med","Hyd","Tach","Rhag"],weekdays:["Dydd Sul","Dydd Llun","Dydd Mawrth","Dydd Mercher","Dydd Iau","Dydd Gwener","Dydd Sadwrn"],weekdaysShort:["Sul","Llun","Maw","Mer","Iau","Gwe","Sad"],weekdaysMin:["Su","Ll","Ma","Me","Ia","Gw","Sa"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xF4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e="";return 20<t?e=40===t||50===t||60===t||80===t||100===t?"fed":"ain":0<t&&(e=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),t+e},week:{dow:1,doy:4}}),Pe.defineLocale("da",{months:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"],monthsShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],weekdays:["s\xF8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xF8rdag"],weekdaysShort:["s\xF8n","man","tir","ons","tor","fre","l\xF8r"],weekdaysMin:["s\xF8","ma","ti","on","to","fr","l\xF8"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xE5 dddd [kl.] LT",lastDay:"[i g\xE5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xE5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xE5ned",MM:"%d m\xE5neder",y:"et \xE5r",yy:"%d \xE5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Pe.defineLocale("de-at",{months:["J\xE4nner","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["J\xE4n.","Feb.","M\xE4rz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],monthsParseExact:!0,weekdays:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],weekdaysShort:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],weekdaysMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:si,mm:"%d Minuten",h:si,hh:"%d Stunden",d:si,dd:si,w:si,ww:"%d Wochen",M:si,MM:si,y:si,yy:si},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Pe.defineLocale("de-ch",{months:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan.","Feb.","M\xE4rz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],monthsParseExact:!0,weekdays:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],weekdaysShort:["So","Mo","Di","Mi","Do","Fr","Sa"],weekdaysMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:oi,mm:"%d Minuten",h:oi,hh:"%d Stunden",d:oi,dd:oi,w:oi,ww:"%d Wochen",M:oi,MM:oi,y:oi,yy:oi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Pe.defineLocale("de",{months:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan.","Feb.","M\xE4rz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],monthsParseExact:!0,weekdays:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],weekdaysShort:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],weekdaysMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:di,mm:"%d Minuten",h:di,hh:"%d Stunden",d:di,dd:di,w:di,ww:"%d Wochen",M:di,MM:di,y:di,yy:di},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Kn=["\u0796\u07AC\u0782\u07AA\u0787\u07A6\u0783\u07A9","\u078A\u07AC\u0784\u07B0\u0783\u07AA\u0787\u07A6\u0783\u07A9","\u0789\u07A7\u0783\u07A8\u0797\u07AA","\u0787\u07AD\u0795\u07B0\u0783\u07A9\u078D\u07AA","\u0789\u07AD","\u0796\u07AB\u0782\u07B0","\u0796\u07AA\u078D\u07A6\u0787\u07A8","\u0787\u07AF\u078E\u07A6\u0790\u07B0\u0793\u07AA","\u0790\u07AC\u0795\u07B0\u0793\u07AC\u0789\u07B0\u0784\u07A6\u0783\u07AA","\u0787\u07AE\u0786\u07B0\u0793\u07AF\u0784\u07A6\u0783\u07AA","\u0782\u07AE\u0788\u07AC\u0789\u07B0\u0784\u07A6\u0783\u07AA","\u0791\u07A8\u0790\u07AC\u0789\u07B0\u0784\u07A6\u0783\u07AA"],es=["\u0787\u07A7\u078B\u07A8\u0787\u07B0\u078C\u07A6","\u0780\u07AF\u0789\u07A6","\u0787\u07A6\u0782\u07B0\u078E\u07A7\u0783\u07A6","\u0784\u07AA\u078B\u07A6","\u0784\u07AA\u0783\u07A7\u0790\u07B0\u078A\u07A6\u078C\u07A8","\u0780\u07AA\u0786\u07AA\u0783\u07AA","\u0780\u07AE\u0782\u07A8\u0780\u07A8\u0783\u07AA"];Pe.defineLocale("dv",{months:Kn,monthsShort:Kn,weekdays:es,weekdaysShort:es,weekdaysMin:["\u0787\u07A7\u078B\u07A8","\u0780\u07AF\u0789\u07A6","\u0787\u07A6\u0782\u07B0","\u0784\u07AA\u078B\u07A6","\u0784\u07AA\u0783\u07A7","\u0780\u07AA\u0786\u07AA","\u0780\u07AE\u0782\u07A8"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(t){return"\u0789\u078A"===t},meridiem:function(t){return 12>t?"\u0789\u0786":"\u0789\u078A"},calendar:{sameDay:"[\u0789\u07A8\u0787\u07A6\u078B\u07AA] LT",nextDay:"[\u0789\u07A7\u078B\u07A6\u0789\u07A7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07A8\u0787\u07B0\u0794\u07AC] LT",lastWeek:"[\u078A\u07A7\u0787\u07A8\u078C\u07AA\u0788\u07A8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078C\u07AC\u0783\u07AD\u078E\u07A6\u0787\u07A8 %s",past:"\u0786\u07AA\u0783\u07A8\u0782\u07B0 %s",s:"\u0790\u07A8\u0786\u07AA\u0782\u07B0\u078C\u07AA\u0786\u07AE\u0785\u07AC\u0787\u07B0",ss:"d% \u0790\u07A8\u0786\u07AA\u0782\u07B0\u078C\u07AA",m:"\u0789\u07A8\u0782\u07A8\u0793\u07AC\u0787\u07B0",mm:"\u0789\u07A8\u0782\u07A8\u0793\u07AA %d",h:"\u078E\u07A6\u0791\u07A8\u0787\u07A8\u0783\u07AC\u0787\u07B0",hh:"\u078E\u07A6\u0791\u07A8\u0787\u07A8\u0783\u07AA %d",d:"\u078B\u07AA\u0788\u07A6\u0780\u07AC\u0787\u07B0",dd:"\u078B\u07AA\u0788\u07A6\u0790\u07B0 %d",M:"\u0789\u07A6\u0780\u07AC\u0787\u07B0",MM:"\u0789\u07A6\u0790\u07B0 %d",y:"\u0787\u07A6\u0780\u07A6\u0783\u07AC\u0787\u07B0",yy:"\u0787\u07A6\u0780\u07A6\u0783\u07AA %d"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060C")},week:{dow:7,doy:12}}),Pe.defineLocale("el",{monthsNominativeEl:["\u0399\u03B1\u03BD\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u03A6\u03B5\u03B2\u03C1\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u039C\u03AC\u03C1\u03C4\u03B9\u03BF\u03C2","\u0391\u03C0\u03C1\u03AF\u03BB\u03B9\u03BF\u03C2","\u039C\u03AC\u03B9\u03BF\u03C2","\u0399\u03BF\u03CD\u03BD\u03B9\u03BF\u03C2","\u0399\u03BF\u03CD\u03BB\u03B9\u03BF\u03C2","\u0391\u03CD\u03B3\u03BF\u03C5\u03C3\u03C4\u03BF\u03C2","\u03A3\u03B5\u03C0\u03C4\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u039F\u03BA\u03C4\u03CE\u03B2\u03C1\u03B9\u03BF\u03C2","\u039D\u03BF\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u0394\u03B5\u03BA\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2"],monthsGenitiveEl:["\u0399\u03B1\u03BD\u03BF\u03C5\u03B1\u03C1\u03AF\u03BF\u03C5","\u03A6\u03B5\u03B2\u03C1\u03BF\u03C5\u03B1\u03C1\u03AF\u03BF\u03C5","\u039C\u03B1\u03C1\u03C4\u03AF\u03BF\u03C5","\u0391\u03C0\u03C1\u03B9\u03BB\u03AF\u03BF\u03C5","\u039C\u03B1\u0390\u03BF\u03C5","\u0399\u03BF\u03C5\u03BD\u03AF\u03BF\u03C5","\u0399\u03BF\u03C5\u03BB\u03AF\u03BF\u03C5","\u0391\u03C5\u03B3\u03BF\u03CD\u03C3\u03C4\u03BF\u03C5","\u03A3\u03B5\u03C0\u03C4\u03B5\u03BC\u03B2\u03C1\u03AF\u03BF\u03C5","\u039F\u03BA\u03C4\u03C9\u03B2\u03C1\u03AF\u03BF\u03C5","\u039D\u03BF\u03B5\u03BC\u03B2\u03C1\u03AF\u03BF\u03C5","\u0394\u03B5\u03BA\u03B5\u03BC\u03B2\u03C1\u03AF\u03BF\u03C5"],months:function(t,e){return t?"string"==typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:["\u0399\u03B1\u03BD","\u03A6\u03B5\u03B2","\u039C\u03B1\u03C1","\u0391\u03C0\u03C1","\u039C\u03B1\u03CA","\u0399\u03BF\u03C5\u03BD","\u0399\u03BF\u03C5\u03BB","\u0391\u03C5\u03B3","\u03A3\u03B5\u03C0","\u039F\u03BA\u03C4","\u039D\u03BF\u03B5","\u0394\u03B5\u03BA"],weekdays:["\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE","\u0394\u03B5\u03C5\u03C4\u03AD\u03C1\u03B1","\u03A4\u03C1\u03AF\u03C4\u03B7","\u03A4\u03B5\u03C4\u03AC\u03C1\u03C4\u03B7","\u03A0\u03AD\u03BC\u03C0\u03C4\u03B7","\u03A0\u03B1\u03C1\u03B1\u03C3\u03BA\u03B5\u03C5\u03AE","\u03A3\u03AC\u03B2\u03B2\u03B1\u03C4\u03BF"],weekdaysShort:["\u039A\u03C5\u03C1","\u0394\u03B5\u03C5","\u03A4\u03C1\u03B9","\u03A4\u03B5\u03C4","\u03A0\u03B5\u03BC","\u03A0\u03B1\u03C1","\u03A3\u03B1\u03B2"],weekdaysMin:["\u039A\u03C5","\u0394\u03B5","\u03A4\u03C1","\u03A4\u03B5","\u03A0\u03B5","\u03A0\u03B1","\u03A3\u03B1"],meridiem:function(i,e,a){return 11<i?a?"\u03BC\u03BC":"\u039C\u039C":a?"\u03C0\u03BC":"\u03A0\u039C"},isPM:function(t){return"\u03BC"===(t+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03A3\u03AE\u03BC\u03B5\u03C1\u03B1 {}] LT",nextDay:"[\u0391\u03CD\u03C1\u03B9\u03BF {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03A7\u03B8\u03B5\u03C2 {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[\u03C4\u03BF \u03C0\u03C1\u03BF\u03B7\u03B3\u03BF\u03CD\u03BC\u03B5\u03BD\u03BF] dddd [{}] LT";default:return"[\u03C4\u03B7\u03BD \u03C0\u03C1\u03BF\u03B7\u03B3\u03BF\u03CD\u03BC\u03B5\u03BD\u03B7] dddd [{}] LT";}},sameElse:"L"},calendar:function(i,e){var a=this._calendarEl[i],o=e&&e.hours(),n;return n=a,("undefined"!=typeof Function&&n instanceof Function||"[object Function]"===Object.prototype.toString.call(n))&&(a=a.apply(e)),a.replace("{}",1==o%12?"\u03C3\u03C4\u03B7":"\u03C3\u03C4\u03B9\u03C2")},relativeTime:{future:"\u03C3\u03B5 %s",past:"%s \u03C0\u03C1\u03B9\u03BD",s:"\u03BB\u03AF\u03B3\u03B1 \u03B4\u03B5\u03C5\u03C4\u03B5\u03C1\u03CC\u03BB\u03B5\u03C0\u03C4\u03B1",ss:"%d \u03B4\u03B5\u03C5\u03C4\u03B5\u03C1\u03CC\u03BB\u03B5\u03C0\u03C4\u03B1",m:"\u03AD\u03BD\u03B1 \u03BB\u03B5\u03C0\u03C4\u03CC",mm:"%d \u03BB\u03B5\u03C0\u03C4\u03AC",h:"\u03BC\u03AF\u03B1 \u03CE\u03C1\u03B1",hh:"%d \u03CE\u03C1\u03B5\u03C2",d:"\u03BC\u03AF\u03B1 \u03BC\u03AD\u03C1\u03B1",dd:"%d \u03BC\u03AD\u03C1\u03B5\u03C2",M:"\u03AD\u03BD\u03B1\u03C2 \u03BC\u03AE\u03BD\u03B1\u03C2",MM:"%d \u03BC\u03AE\u03BD\u03B5\u03C2",y:"\u03AD\u03BD\u03B1\u03C2 \u03C7\u03C1\u03CC\u03BD\u03BF\u03C2",yy:"%d \u03C7\u03C1\u03CC\u03BD\u03B9\u03B1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03B7",week:{dow:1,doy:4}}),Pe.defineLocale("en-au",{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:0,doy:4}}),Pe.defineLocale("en-ca",{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),Pe.defineLocale("en-gb",{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),Pe.defineLocale("en-ie",{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),Pe.defineLocale("en-il",{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),Pe.defineLocale("en-in",{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:0,doy:6}}),Pe.defineLocale("en-nz",{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),Pe.defineLocale("en-sg",{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),Pe.defineLocale("eo",{months:["januaro","februaro","marto","aprilo","majo","junio","julio","a\u016Dgusto","septembro","oktobro","novembro","decembro"],monthsShort:["jan","feb","mart","apr","maj","jun","jul","a\u016Dg","sept","okt","nov","dec"],weekdays:["diman\u0109o","lundo","mardo","merkredo","\u0135a\u016Ddo","vendredo","sabato"],weekdaysShort:["dim","lun","mard","merk","\u0135a\u016D","ven","sab"],weekdaysMin:["di","lu","ma","me","\u0135a","ve","sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(i,e,a){return 11<i?a?"p.t.m.":"P.T.M.":a?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016D je] LT",nextDay:"[Morga\u016D je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016D je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016D %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});var ts=["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],as=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],is=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],ns=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;Pe.defineLocale("es-do",{months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthsShort:function(t,e){return t?/-MMM-/.test(e)?as[t.month()]:ts[t.month()]:ts},monthsRegex:ns,monthsShortRegex:ns,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:is,longMonthsParse:is,shortMonthsParse:is,weekdays:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],weekdaysShort:["dom.","lun.","mar.","mi\xE9.","jue.","vie.","s\xE1b."],weekdaysMin:["do","lu","ma","mi","ju","vi","s\xE1"],weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1===this.hours()?"":"s")+"] LT"},nextDay:function(){return"[ma\xF1ana a la"+(1===this.hours()?"":"s")+"] LT"},nextWeek:function(){return"dddd [a la"+(1===this.hours()?"":"s")+"] LT"},lastDay:function(){return"[ayer a la"+(1===this.hours()?"":"s")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1===this.hours()?"":"s")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:1,doy:4}});var ss=["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],os=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],ds=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],rs=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;Pe.defineLocale("es-mx",{months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthsShort:function(t,e){return t?/-MMM-/.test(e)?os[t.month()]:ss[t.month()]:ss},monthsRegex:rs,monthsShortRegex:rs,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:ds,longMonthsParse:ds,shortMonthsParse:ds,weekdays:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],weekdaysShort:["dom.","lun.","mar.","mi\xE9.","jue.","vie.","s\xE1b."],weekdaysMin:["do","lu","ma","mi","ju","vi","s\xE1"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1===this.hours()?"":"s")+"] LT"},nextDay:function(){return"[ma\xF1ana a la"+(1===this.hours()?"":"s")+"] LT"},nextWeek:function(){return"dddd [a la"+(1===this.hours()?"":"s")+"] LT"},lastDay:function(){return"[ayer a la"+(1===this.hours()?"":"s")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1===this.hours()?"":"s")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:0,doy:4},invalidDate:"Fecha inv\xE1lida"});var cs=["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],ls=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],ps=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],ms=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;Pe.defineLocale("es-us",{months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthsShort:function(t,e){return t?/-MMM-/.test(e)?ls[t.month()]:cs[t.month()]:cs},monthsRegex:ms,monthsShortRegex:ms,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:ps,longMonthsParse:ps,shortMonthsParse:ps,weekdays:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],weekdaysShort:["dom.","lun.","mar.","mi\xE9.","jue.","vie.","s\xE1b."],weekdaysMin:["do","lu","ma","mi","ju","vi","s\xE1"],weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1===this.hours()?"":"s")+"] LT"},nextDay:function(){return"[ma\xF1ana a la"+(1===this.hours()?"":"s")+"] LT"},nextWeek:function(){return"dddd [a la"+(1===this.hours()?"":"s")+"] LT"},lastDay:function(){return"[ayer a la"+(1===this.hours()?"":"s")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1===this.hours()?"":"s")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:0,doy:6}});var us=["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],gs=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],en=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],an=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;Pe.defineLocale("es",{months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthsShort:function(t,e){return t?/-MMM-/.test(e)?gs[t.month()]:us[t.month()]:us},monthsRegex:an,monthsShortRegex:an,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:en,longMonthsParse:en,shortMonthsParse:en,weekdays:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],weekdaysShort:["dom.","lun.","mar.","mi\xE9.","jue.","vie.","s\xE1b."],weekdaysMin:["do","lu","ma","mi","ju","vi","s\xE1"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1===this.hours()?"":"s")+"] LT"},nextDay:function(){return"[ma\xF1ana a la"+(1===this.hours()?"":"s")+"] LT"},nextWeek:function(){return"dddd [a la"+(1===this.hours()?"":"s")+"] LT"},lastDay:function(){return"[ayer a la"+(1===this.hours()?"":"s")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1===this.hours()?"":"s")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:1,doy:4},invalidDate:"Fecha inv\xE1lida"}),Pe.defineLocale("et",{months:["jaanuar","veebruar","m\xE4rts","aprill","mai","juuni","juuli","august","september","oktoober","november","detsember"],monthsShort:["jaan","veebr","m\xE4rts","apr","mai","juuni","juuli","aug","sept","okt","nov","dets"],weekdays:["p\xFChap\xE4ev","esmasp\xE4ev","teisip\xE4ev","kolmap\xE4ev","neljap\xE4ev","reede","laup\xE4ev"],weekdaysShort:["P","E","T","K","N","R","L"],weekdaysMin:["P","E","T","K","N","R","L"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xE4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xE4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xE4rast",past:"%s tagasi",s:ri,ss:ri,m:ri,mm:ri,h:ri,hh:ri,d:ri,dd:"%d p\xE4eva",M:ri,MM:ri,y:ri,yy:ri},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Pe.defineLocale("eu",{months:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua"],monthsShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe."],monthsParseExact:!0,weekdays:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],weekdaysShort:["ig.","al.","ar.","az.","og.","ol.","lr."],weekdaysMin:["ig","al","ar","az","og","ol","lr"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var tn={1:"\u06F1",2:"\u06F2",3:"\u06F3",4:"\u06F4",5:"\u06F5",6:"\u06F6",7:"\u06F7",8:"\u06F8",9:"\u06F9",0:"\u06F0"},nn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};Pe.defineLocale("fa",{months:["\u0698\u0627\u0646\u0648\u06CC\u0647","\u0641\u0648\u0631\u06CC\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06CC\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06CC\u0647","\u0627\u0648\u062A","\u0633\u067E\u062A\u0627\u0645\u0628\u0631","\u0627\u06A9\u062A\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062F\u0633\u0627\u0645\u0628\u0631"],monthsShort:["\u0698\u0627\u0646\u0648\u06CC\u0647","\u0641\u0648\u0631\u06CC\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06CC\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06CC\u0647","\u0627\u0648\u062A","\u0633\u067E\u062A\u0627\u0645\u0628\u0631","\u0627\u06A9\u062A\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062F\u0633\u0627\u0645\u0628\u0631"],weekdays:["\u06CC\u06A9\u200C\u0634\u0646\u0628\u0647","\u062F\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200C\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067E\u0646\u062C\u200C\u0634\u0646\u0628\u0647","\u062C\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],weekdaysShort:["\u06CC\u06A9\u200C\u0634\u0646\u0628\u0647","\u062F\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200C\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067E\u0646\u062C\u200C\u0634\u0646\u0628\u0647","\u062C\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],weekdaysMin:["\u06CC","\u062F","\u0633","\u0686","\u067E","\u062C","\u0634"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(t){return /\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(t)},meridiem:function(t){return 12>t?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062F \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062A] LT",nextDay:"[\u0641\u0631\u062F\u0627 \u0633\u0627\u0639\u062A] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062A] LT",lastDay:"[\u062F\u06CC\u0631\u0648\u0632 \u0633\u0627\u0639\u062A] LT",lastWeek:"dddd [\u067E\u06CC\u0634] [\u0633\u0627\u0639\u062A] LT",sameElse:"L"},relativeTime:{future:"\u062F\u0631 %s",past:"%s \u067E\u06CC\u0634",s:"\u0686\u0646\u062F \u062B\u0627\u0646\u06CC\u0647",ss:"%d \u062B\u0627\u0646\u06CC\u0647",m:"\u06CC\u06A9 \u062F\u0642\u06CC\u0642\u0647",mm:"%d \u062F\u0642\u06CC\u0642\u0647",h:"\u06CC\u06A9 \u0633\u0627\u0639\u062A",hh:"%d \u0633\u0627\u0639\u062A",d:"\u06CC\u06A9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06CC\u06A9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06CC\u06A9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(t){return t.replace(/[\u06f0-\u06f9]/g,function(t){return nn[t]}).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return tn[t]}).replace(/,/g,"\u060C")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}});var rn=["nolla","yksi","kaksi","kolme","nelj\xE4","viisi","kuusi","seitsem\xE4n","kahdeksan","yhdeks\xE4n"],dn=["nolla","yhden","kahden","kolmen","nelj\xE4n","viiden","kuuden",rn[7],rn[8],rn[9]];Pe.defineLocale("fi",{months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kes\xE4kuu","hein\xE4kuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],monthsShort:["tammi","helmi","maalis","huhti","touko","kes\xE4","hein\xE4","elo","syys","loka","marras","joulu"],weekdays:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],weekdaysShort:["su","ma","ti","ke","to","pe","la"],weekdaysMin:["su","ma","ti","ke","to","pe","la"],longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xE4n\xE4\xE4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xE4\xE4st\xE4",past:"%s sitten",s:ci,ss:ci,m:ci,mm:ci,h:ci,hh:ci,d:ci,dd:ci,M:ci,MM:ci,y:ci,yy:ci},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Pe.defineLocale("fil",{months:["Enero","Pebrero","Marso","Abril","Mayo","Hunyo","Hulyo","Agosto","Setyembre","Oktubre","Nobyembre","Disyembre"],monthsShort:["Ene","Peb","Mar","Abr","May","Hun","Hul","Ago","Set","Okt","Nob","Dis"],weekdays:["Linggo","Lunes","Martes","Miyerkules","Huwebes","Biyernes","Sabado"],weekdaysShort:["Lin","Lun","Mar","Miy","Huw","Biy","Sab"],weekdaysMin:["Li","Lu","Ma","Mi","Hu","Bi","Sab"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}}),Pe.defineLocale("fo",{months:["januar","februar","mars","apr\xEDl","mai","juni","juli","august","september","oktober","november","desember"],monthsShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],weekdays:["sunnudagur","m\xE1nadagur","t\xFDsdagur","mikudagur","h\xF3sdagur","fr\xEDggjadagur","leygardagur"],weekdaysShort:["sun","m\xE1n","t\xFDs","mik","h\xF3s","fr\xED","ley"],weekdaysMin:["su","m\xE1","t\xFD","mi","h\xF3","fr","le"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xCD dag kl.] LT",nextDay:"[\xCD morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xCD gj\xE1r kl.] LT",lastWeek:"[s\xED\xF0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xED\xF0ani",s:"f\xE1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xEDmi",hh:"%d t\xEDmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xE1na\xF0ur",MM:"%d m\xE1na\xF0ir",y:"eitt \xE1r",yy:"%d \xE1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Pe.defineLocale("fr-ca",{months:["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"],monthsShort:["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],monthsParseExact:!0,weekdays:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],weekdaysShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],weekdaysMin:["di","lu","ma","me","je","ve","sa"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xE0] LT",nextDay:"[Demain \xE0] LT",nextWeek:"dddd [\xE0] LT",lastDay:"[Hier \xE0] LT",lastWeek:"dddd [dernier \xE0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e");}}}),Pe.defineLocale("fr-ch",{months:["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"],monthsShort:["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],monthsParseExact:!0,weekdays:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],weekdaysShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],weekdaysMin:["di","lu","ma","me","je","ve","sa"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xE0] LT",nextDay:"[Demain \xE0] LT",nextWeek:"dddd [\xE0] LT",lastDay:"[Hier \xE0] LT",lastWeek:"dddd [dernier \xE0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e");}},week:{dow:1,doy:4}});var _n=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,mn=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];Pe.defineLocale("fr",{months:["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"],monthsShort:["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],monthsRegex:_n,monthsShortRegex:_n,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:mn,longMonthsParse:mn,shortMonthsParse:mn,weekdays:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],weekdaysShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],weekdaysMin:["di","lu","ma","me","je","ve","sa"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xE0] LT",nextDay:"[Demain \xE0] LT",nextWeek:"dddd [\xE0] LT",lastDay:"[Hier \xE0] LT",lastWeek:"dddd [dernier \xE0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e");}},week:{dow:1,doy:4}});var un=["jan.","feb.","mrt.","apr.","mai","jun.","jul.","aug.","sep.","okt.","nov.","des."],ln=["jan","feb","mrt","apr","mai","jun","jul","aug","sep","okt","nov","des"];Pe.defineLocale("fy",{months:["jannewaris","febrewaris","maart","april","maaie","juny","july","augustus","septimber","oktober","novimber","desimber"],monthsShort:function(t,e){return t?/-MMM-/.test(e)?ln[t.month()]:un[t.month()]:un},monthsParseExact:!0,weekdays:["snein","moandei","tiisdei","woansdei","tongersdei","freed","sneon"],weekdaysShort:["si.","mo.","ti.","wo.","to.","fr.","so."],weekdaysMin:["Si","Mo","Ti","Wo","To","Fr","So"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xF4fr\xFBne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xFAt",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}}),Pe.defineLocale("ga",{months:["Ean\xE1ir","Feabhra","M\xE1rta","Aibre\xE1n","Bealtaine","Meitheamh","I\xFAil","L\xFAnasa","Me\xE1n F\xF3mhair","Deireadh F\xF3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xE1rt","Aib","Beal","Meith","I\xFAil","L\xFAn","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xE9 Domhnaigh","D\xE9 Luain","D\xE9 M\xE1irt","D\xE9 C\xE9adaoin","D\xE9ardaoin","D\xE9 hAoine","D\xE9 Sathairn"],weekdaysShort:["Domh","Luan","M\xE1irt","C\xE9ad","D\xE9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xE1","C\xE9","D\xE9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xE1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xE9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xF3 shin",s:"c\xFApla soicind",ss:"%d soicind",m:"n\xF3im\xE9ad",mm:"%d n\xF3im\xE9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xE1",dd:"%d l\xE1",M:"m\xED",MM:"%d m\xEDonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":2==t%10?"na":"mh")},week:{dow:1,doy:4}}),Pe.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xE0rt","An Giblean","An C\xE8itean","An t-\xD2gmhios","An t-Iuchar","An L\xF9nastal","An t-Sultain","An D\xE0mhair","An t-Samhain","An D\xF9bhlachd"],monthsShort:["Faoi","Gear","M\xE0rt","Gibl","C\xE8it","\xD2gmh","Iuch","L\xF9n","Sult","D\xE0mh","Samh","D\xF9bh"],monthsParseExact:!0,weekdays:["Did\xF2mhnaich","Diluain","Dim\xE0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xF2","Lu","M\xE0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xE0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xE8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xECos",MM:"%d m\xECosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":2==t%10?"na":"mh")},week:{dow:1,doy:4}}),Pe.defineLocale("gl",{months:["xaneiro","febreiro","marzo","abril","maio","xu\xF1o","xullo","agosto","setembro","outubro","novembro","decembro"],monthsShort:["xan.","feb.","mar.","abr.","mai.","xu\xF1.","xul.","ago.","set.","out.","nov.","dec."],monthsParseExact:!0,weekdays:["domingo","luns","martes","m\xE9rcores","xoves","venres","s\xE1bado"],weekdaysShort:["dom.","lun.","mar.","m\xE9r.","xov.","ven.","s\xE1b."],weekdaysMin:["do","lu","ma","m\xE9","xo","ve","s\xE1"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1===this.hours()?"\xE1":"\xE1s")+"] LT"},nextDay:function(){return"[ma\xF1\xE1 "+(1===this.hours()?"\xE1":"\xE1s")+"] LT"},nextWeek:function(){return"dddd ["+(1===this.hours()?"a":"\xE1s")+"] LT"},lastDay:function(){return"[onte "+(1===this.hours()?"a":"\xE1")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1===this.hours()?"a":"\xE1s")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:1,doy:4}}),Pe.defineLocale("gom-deva",{months:{standalone:["\u091C\u093E\u0928\u0947\u0935\u093E\u0930\u0940","\u092B\u0947\u092C\u094D\u0930\u0941\u0935\u093E\u0930\u0940","\u092E\u093E\u0930\u094D\u091A","\u090F\u092A\u094D\u0930\u0940\u0932","\u092E\u0947","\u091C\u0942\u0928","\u091C\u0941\u0932\u092F","\u0911\u0917\u0938\u094D\u091F","\u0938\u092A\u094D\u091F\u0947\u0902\u092C\u0930","\u0911\u0915\u094D\u091F\u094B\u092C\u0930","\u0928\u094B\u0935\u094D\u0939\u0947\u0902\u092C\u0930","\u0921\u093F\u0938\u0947\u0902\u092C\u0930"],format:["\u091C\u093E\u0928\u0947\u0935\u093E\u0930\u0940\u091A\u094D\u092F\u093E","\u092B\u0947\u092C\u094D\u0930\u0941\u0935\u093E\u0930\u0940\u091A\u094D\u092F\u093E","\u092E\u093E\u0930\u094D\u091A\u093E\u091A\u094D\u092F\u093E","\u090F\u092A\u094D\u0930\u0940\u0932\u093E\u091A\u094D\u092F\u093E","\u092E\u0947\u092F\u093E\u091A\u094D\u092F\u093E","\u091C\u0942\u0928\u093E\u091A\u094D\u092F\u093E","\u091C\u0941\u0932\u092F\u093E\u091A\u094D\u092F\u093E","\u0911\u0917\u0938\u094D\u091F\u093E\u091A\u094D\u092F\u093E","\u0938\u092A\u094D\u091F\u0947\u0902\u092C\u0930\u093E\u091A\u094D\u092F\u093E","\u0911\u0915\u094D\u091F\u094B\u092C\u0930\u093E\u091A\u094D\u092F\u093E","\u0928\u094B\u0935\u094D\u0939\u0947\u0902\u092C\u0930\u093E\u091A\u094D\u092F\u093E","\u0921\u093F\u0938\u0947\u0902\u092C\u0930\u093E\u091A\u094D\u092F\u093E"],isFormat:/MMMM(\s)+D[oD]?/},monthsShort:["\u091C\u093E\u0928\u0947.","\u092B\u0947\u092C\u094D\u0930\u0941.","\u092E\u093E\u0930\u094D\u091A","\u090F\u092A\u094D\u0930\u0940.","\u092E\u0947","\u091C\u0942\u0928","\u091C\u0941\u0932.","\u0911\u0917.","\u0938\u092A\u094D\u091F\u0947\u0902.","\u0911\u0915\u094D\u091F\u094B.","\u0928\u094B\u0935\u094D\u0939\u0947\u0902.","\u0921\u093F\u0938\u0947\u0902."],monthsParseExact:!0,weekdays:["\u0906\u092F\u0924\u093E\u0930","\u0938\u094B\u092E\u093E\u0930","\u092E\u0902\u0917\u0933\u093E\u0930","\u092C\u0941\u0927\u0935\u093E\u0930","\u092C\u093F\u0930\u0947\u0938\u094D\u0924\u093E\u0930","\u0938\u0941\u0915\u094D\u0930\u093E\u0930","\u0936\u0947\u0928\u0935\u093E\u0930"],weekdaysShort:["\u0906\u092F\u0924.","\u0938\u094B\u092E.","\u092E\u0902\u0917\u0933.","\u092C\u0941\u0927.","\u092C\u094D\u0930\u0947\u0938\u094D\u0924.","\u0938\u0941\u0915\u094D\u0930.","\u0936\u0947\u0928."],weekdaysMin:["\u0906","\u0938\u094B","\u092E\u0902","\u092C\u0941","\u092C\u094D\u0930\u0947","\u0938\u0941","\u0936\u0947"],weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093E\u091C\u0924\u093E\u0902]",LTS:"A h:mm:ss [\u0935\u093E\u091C\u0924\u093E\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093E\u091C\u0924\u093E\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093E\u091C\u0924\u093E\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093E\u091C\u0924\u093E\u0902]"},calendar:{sameDay:"[\u0906\u092F\u091C] LT",nextDay:"[\u092B\u093E\u0932\u094D\u092F\u093E\u0902] LT",nextWeek:"[\u092B\u0941\u0921\u0932\u094B] dddd[,] LT",lastDay:"[\u0915\u093E\u0932] LT",lastWeek:"[\u092B\u093E\u091F\u0932\u094B] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:li,ss:li,m:li,mm:li,h:li,hh:li,d:li,dd:li,M:li,MM:li,y:li,yy:li},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(t,e){switch(e){case"D":return t+"\u0935\u0947\u0930";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t;}},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(t,i){return 12===t&&(t=0),"\u0930\u093E\u0924\u0940"===i?4>t?t:t+12:"\u0938\u0915\u093E\u0933\u0940\u0902"===i?t:"\u0926\u0928\u092A\u093E\u0930\u093E\u0902"===i?12<t?t:t+12:"\u0938\u093E\u0902\u091C\u0947"===i?t+12:void 0},meridiem:function(t){return 4>t?"\u0930\u093E\u0924\u0940":12>t?"\u0938\u0915\u093E\u0933\u0940\u0902":16>t?"\u0926\u0928\u092A\u093E\u0930\u093E\u0902":20>t?"\u0938\u093E\u0902\u091C\u0947":"\u0930\u093E\u0924\u0940"}}),Pe.defineLocale("gom-latn",{months:{standalone:["Janer","Febrer","Mars","Abril","Mai","Jun","Julai","Agost","Setembr","Otubr","Novembr","Dezembr"],format:["Janerachea","Febrerachea","Marsachea","Abrilachea","Maiachea","Junachea","Julaiachea","Agostachea","Setembrachea","Otubrachea","Novembrachea","Dezembrachea"],isFormat:/MMMM(\s)+D[oD]?/},monthsShort:["Jan.","Feb.","Mars","Abr.","Mai","Jun","Jul.","Ago.","Set.","Otu.","Nov.","Dez."],monthsParseExact:!0,weekdays:["Aitar","Somar","Mongllar","Budhvar","Birestar","Sukrar","Son'var"],weekdaysShort:["Ait.","Som.","Mon.","Bud.","Bre.","Suk.","Son."],weekdaysMin:["Ai","Sm","Mo","Bu","Br","Su","Sn"],weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:pi,ss:pi,m:pi,mm:pi,h:pi,hh:pi,d:pi,dd:pi,M:pi,MM:pi,y:pi,yy:pi},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){switch(e){case"D":return t+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t;}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(t,i){return 12===t&&(t=0),"rati"===i?4>t?t:t+12:"sokallim"===i?t:"donparam"===i?12<t?t:t+12:"sanje"===i?t+12:void 0},meridiem:function(t){return 4>t?"rati":12>t?"sokallim":16>t?"donparam":20>t?"sanje":"rati"}});var Mn={1:"\u0AE7",2:"\u0AE8",3:"\u0AE9",4:"\u0AEA",5:"\u0AEB",6:"\u0AEC",7:"\u0AED",8:"\u0AEE",9:"\u0AEF",0:"\u0AE6"},Ln={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};Pe.defineLocale("gu",{months:["\u0A9C\u0ABE\u0AA8\u0ACD\u0AAF\u0AC1\u0A86\u0AB0\u0AC0","\u0AAB\u0AC7\u0AAC\u0ACD\u0AB0\u0AC1\u0A86\u0AB0\u0AC0","\u0AAE\u0ABE\u0AB0\u0ACD\u0A9A","\u0A8F\u0AAA\u0ACD\u0AB0\u0ABF\u0AB2","\u0AAE\u0AC7","\u0A9C\u0AC2\u0AA8","\u0A9C\u0AC1\u0AB2\u0ABE\u0A88","\u0A91\u0A97\u0AB8\u0ACD\u0A9F","\u0AB8\u0AAA\u0ACD\u0A9F\u0AC7\u0AAE\u0ACD\u0AAC\u0AB0","\u0A91\u0A95\u0ACD\u0A9F\u0ACD\u0AAC\u0AB0","\u0AA8\u0AB5\u0AC7\u0AAE\u0ACD\u0AAC\u0AB0","\u0AA1\u0ABF\u0AB8\u0AC7\u0AAE\u0ACD\u0AAC\u0AB0"],monthsShort:["\u0A9C\u0ABE\u0AA8\u0ACD\u0AAF\u0AC1.","\u0AAB\u0AC7\u0AAC\u0ACD\u0AB0\u0AC1.","\u0AAE\u0ABE\u0AB0\u0ACD\u0A9A","\u0A8F\u0AAA\u0ACD\u0AB0\u0ABF.","\u0AAE\u0AC7","\u0A9C\u0AC2\u0AA8","\u0A9C\u0AC1\u0AB2\u0ABE.","\u0A91\u0A97.","\u0AB8\u0AAA\u0ACD\u0A9F\u0AC7.","\u0A91\u0A95\u0ACD\u0A9F\u0ACD.","\u0AA8\u0AB5\u0AC7.","\u0AA1\u0ABF\u0AB8\u0AC7."],monthsParseExact:!0,weekdays:["\u0AB0\u0AB5\u0ABF\u0AB5\u0ABE\u0AB0","\u0AB8\u0ACB\u0AAE\u0AB5\u0ABE\u0AB0","\u0AAE\u0A82\u0A97\u0AB3\u0AB5\u0ABE\u0AB0","\u0AAC\u0AC1\u0AA7\u0ACD\u0AB5\u0ABE\u0AB0","\u0A97\u0AC1\u0AB0\u0AC1\u0AB5\u0ABE\u0AB0","\u0AB6\u0AC1\u0A95\u0ACD\u0AB0\u0AB5\u0ABE\u0AB0","\u0AB6\u0AA8\u0ABF\u0AB5\u0ABE\u0AB0"],weekdaysShort:["\u0AB0\u0AB5\u0ABF","\u0AB8\u0ACB\u0AAE","\u0AAE\u0A82\u0A97\u0AB3","\u0AAC\u0AC1\u0AA7\u0ACD","\u0A97\u0AC1\u0AB0\u0AC1","\u0AB6\u0AC1\u0A95\u0ACD\u0AB0","\u0AB6\u0AA8\u0ABF"],weekdaysMin:["\u0AB0","\u0AB8\u0ACB","\u0AAE\u0A82","\u0AAC\u0AC1","\u0A97\u0AC1","\u0AB6\u0AC1","\u0AB6"],longDateFormat:{LT:"A h:mm \u0AB5\u0ABE\u0A97\u0ACD\u0AAF\u0AC7",LTS:"A h:mm:ss \u0AB5\u0ABE\u0A97\u0ACD\u0AAF\u0AC7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0AB5\u0ABE\u0A97\u0ACD\u0AAF\u0AC7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0AB5\u0ABE\u0A97\u0ACD\u0AAF\u0AC7"},calendar:{sameDay:"[\u0A86\u0A9C] LT",nextDay:"[\u0A95\u0ABE\u0AB2\u0AC7] LT",nextWeek:"dddd, LT",lastDay:"[\u0A97\u0A87\u0A95\u0ABE\u0AB2\u0AC7] LT",lastWeek:"[\u0AAA\u0ABE\u0A9B\u0AB2\u0ABE] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0AAE\u0ABE",past:"%s \u0AAA\u0AB9\u0AC7\u0AB2\u0ABE",s:"\u0A85\u0AAE\u0AC1\u0A95 \u0AAA\u0AB3\u0ACB",ss:"%d \u0AB8\u0AC7\u0A95\u0A82\u0AA1",m:"\u0A8F\u0A95 \u0AAE\u0ABF\u0AA8\u0ABF\u0A9F",mm:"%d \u0AAE\u0ABF\u0AA8\u0ABF\u0A9F",h:"\u0A8F\u0A95 \u0A95\u0AB2\u0ABE\u0A95",hh:"%d \u0A95\u0AB2\u0ABE\u0A95",d:"\u0A8F\u0A95 \u0AA6\u0ABF\u0AB5\u0AB8",dd:"%d \u0AA6\u0ABF\u0AB5\u0AB8",M:"\u0A8F\u0A95 \u0AAE\u0AB9\u0ABF\u0AA8\u0ACB",MM:"%d \u0AAE\u0AB9\u0ABF\u0AA8\u0ACB",y:"\u0A8F\u0A95 \u0AB5\u0AB0\u0ACD\u0AB7",yy:"%d \u0AB5\u0AB0\u0ACD\u0AB7"},preparse:function(t){return t.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(t){return Ln[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Mn[t]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(t,i){return 12===t&&(t=0),"\u0AB0\u0ABE\u0AA4"===i?4>t?t:t+12:"\u0AB8\u0AB5\u0ABE\u0AB0"===i?t:"\u0AAC\u0AAA\u0ACB\u0AB0"===i?10<=t?t:t+12:"\u0AB8\u0ABE\u0A82\u0A9C"===i?t+12:void 0},meridiem:function(t){return 4>t?"\u0AB0\u0ABE\u0AA4":10>t?"\u0AB8\u0AB5\u0ABE\u0AB0":17>t?"\u0AAC\u0AAA\u0ACB\u0AB0":20>t?"\u0AB8\u0ABE\u0A82\u0A9C":"\u0AB0\u0ABE\u0AA4"},week:{dow:0,doy:6}}),Pe.defineLocale("he",{months:["\u05D9\u05E0\u05D5\u05D0\u05E8","\u05E4\u05D1\u05E8\u05D5\u05D0\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8\u05D9\u05DC","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0\u05D9","\u05D9\u05D5\u05DC\u05D9","\u05D0\u05D5\u05D2\u05D5\u05E1\u05D8","\u05E1\u05E4\u05D8\u05DE\u05D1\u05E8","\u05D0\u05D5\u05E7\u05D8\u05D5\u05D1\u05E8","\u05E0\u05D5\u05D1\u05DE\u05D1\u05E8","\u05D3\u05E6\u05DE\u05D1\u05E8"],monthsShort:["\u05D9\u05E0\u05D5\u05F3","\u05E4\u05D1\u05E8\u05F3","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8\u05F3","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0\u05D9","\u05D9\u05D5\u05DC\u05D9","\u05D0\u05D5\u05D2\u05F3","\u05E1\u05E4\u05D8\u05F3","\u05D0\u05D5\u05E7\u05F3","\u05E0\u05D5\u05D1\u05F3","\u05D3\u05E6\u05DE\u05F3"],weekdays:["\u05E8\u05D0\u05E9\u05D5\u05DF","\u05E9\u05E0\u05D9","\u05E9\u05DC\u05D9\u05E9\u05D9","\u05E8\u05D1\u05D9\u05E2\u05D9","\u05D7\u05DE\u05D9\u05E9\u05D9","\u05E9\u05D9\u05E9\u05D9","\u05E9\u05D1\u05EA"],weekdaysShort:["\u05D0\u05F3","\u05D1\u05F3","\u05D2\u05F3","\u05D3\u05F3","\u05D4\u05F3","\u05D5\u05F3","\u05E9\u05F3"],weekdaysMin:["\u05D0","\u05D1","\u05D2","\u05D3","\u05D4","\u05D5","\u05E9"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05D1]MMMM YYYY",LLL:"D [\u05D1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05D1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05D4\u05D9\u05D5\u05DD \u05D1\u05BE]LT",nextDay:"[\u05DE\u05D7\u05E8 \u05D1\u05BE]LT",nextWeek:"dddd [\u05D1\u05E9\u05E2\u05D4] LT",lastDay:"[\u05D0\u05EA\u05DE\u05D5\u05DC \u05D1\u05BE]LT",lastWeek:"[\u05D1\u05D9\u05D5\u05DD] dddd [\u05D4\u05D0\u05D7\u05E8\u05D5\u05DF \u05D1\u05E9\u05E2\u05D4] LT",sameElse:"L"},relativeTime:{future:"\u05D1\u05E2\u05D5\u05D3 %s",past:"\u05DC\u05E4\u05E0\u05D9 %s",s:"\u05DE\u05E1\u05E4\u05E8 \u05E9\u05E0\u05D9\u05D5\u05EA",ss:"%d \u05E9\u05E0\u05D9\u05D5\u05EA",m:"\u05D3\u05E7\u05D4",mm:"%d \u05D3\u05E7\u05D5\u05EA",h:"\u05E9\u05E2\u05D4",hh:function(t){return 2===t?"\u05E9\u05E2\u05EA\u05D9\u05D9\u05DD":t+" \u05E9\u05E2\u05D5\u05EA"},d:"\u05D9\u05D5\u05DD",dd:function(t){return 2===t?"\u05D9\u05D5\u05DE\u05D9\u05D9\u05DD":t+" \u05D9\u05DE\u05D9\u05DD"},M:"\u05D7\u05D5\u05D3\u05E9",MM:function(t){return 2===t?"\u05D7\u05D5\u05D3\u05E9\u05D9\u05D9\u05DD":t+" \u05D7\u05D5\u05D3\u05E9\u05D9\u05DD"},y:"\u05E9\u05E0\u05D4",yy:function(t){return 2===t?"\u05E9\u05E0\u05EA\u05D9\u05D9\u05DD":0==t%10&&10!==t?t+" \u05E9\u05E0\u05D4":t+" \u05E9\u05E0\u05D9\u05DD"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(t){return /^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(t)},meridiem:function(i,e,a){return 5>i?"\u05DC\u05E4\u05E0\u05D5\u05EA \u05D1\u05D5\u05E7\u05E8":10>i?"\u05D1\u05D1\u05D5\u05E7\u05E8":12>i?a?"\u05DC\u05E4\u05E0\u05D4\"\u05E6":"\u05DC\u05E4\u05E0\u05D9 \u05D4\u05E6\u05D4\u05E8\u05D9\u05D9\u05DD":18>i?a?"\u05D0\u05D7\u05D4\"\u05E6":"\u05D0\u05D7\u05E8\u05D9 \u05D4\u05E6\u05D4\u05E8\u05D9\u05D9\u05DD":"\u05D1\u05E2\u05E8\u05D1"}});var Yn={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096A",5:"\u096B",6:"\u096C",7:"\u096D",8:"\u096E",9:"\u096F",0:"\u0966"},yn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},fn=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];Pe.defineLocale("hi",{months:{format:["\u091C\u0928\u0935\u0930\u0940","\u092B\u093C\u0930\u0935\u0930\u0940","\u092E\u093E\u0930\u094D\u091A","\u0905\u092A\u094D\u0930\u0948\u0932","\u092E\u0908","\u091C\u0942\u0928","\u091C\u0941\u0932\u093E\u0908","\u0905\u0917\u0938\u094D\u0924","\u0938\u093F\u0924\u092E\u094D\u092C\u0930","\u0905\u0915\u094D\u091F\u0942\u092C\u0930","\u0928\u0935\u092E\u094D\u092C\u0930","\u0926\u093F\u0938\u092E\u094D\u092C\u0930"],standalone:["\u091C\u0928\u0935\u0930\u0940","\u092B\u0930\u0935\u0930\u0940","\u092E\u093E\u0930\u094D\u091A","\u0905\u092A\u094D\u0930\u0948\u0932","\u092E\u0908","\u091C\u0942\u0928","\u091C\u0941\u0932\u093E\u0908","\u0905\u0917\u0938\u094D\u0924","\u0938\u093F\u0924\u0902\u092C\u0930","\u0905\u0915\u094D\u091F\u0942\u092C\u0930","\u0928\u0935\u0902\u092C\u0930","\u0926\u093F\u0938\u0902\u092C\u0930"]},monthsShort:["\u091C\u0928.","\u092B\u093C\u0930.","\u092E\u093E\u0930\u094D\u091A","\u0905\u092A\u094D\u0930\u0948.","\u092E\u0908","\u091C\u0942\u0928","\u091C\u0941\u0932.","\u0905\u0917.","\u0938\u093F\u0924.","\u0905\u0915\u094D\u091F\u0942.","\u0928\u0935.","\u0926\u093F\u0938."],weekdays:["\u0930\u0935\u093F\u0935\u093E\u0930","\u0938\u094B\u092E\u0935\u093E\u0930","\u092E\u0902\u0917\u0932\u0935\u093E\u0930","\u092C\u0941\u0927\u0935\u093E\u0930","\u0917\u0941\u0930\u0942\u0935\u093E\u0930","\u0936\u0941\u0915\u094D\u0930\u0935\u093E\u0930","\u0936\u0928\u093F\u0935\u093E\u0930"],weekdaysShort:["\u0930\u0935\u093F","\u0938\u094B\u092E","\u092E\u0902\u0917\u0932","\u092C\u0941\u0927","\u0917\u0941\u0930\u0942","\u0936\u0941\u0915\u094D\u0930","\u0936\u0928\u093F"],weekdaysMin:["\u0930","\u0938\u094B","\u092E\u0902","\u092C\u0941","\u0917\u0941","\u0936\u0941","\u0936"],longDateFormat:{LT:"A h:mm \u092C\u091C\u0947",LTS:"A h:mm:ss \u092C\u091C\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092C\u091C\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092C\u091C\u0947"},monthsParse:fn,longMonthsParse:fn,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091C] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092A\u093F\u091B\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092E\u0947\u0902",past:"%s \u092A\u0939\u0932\u0947",s:"\u0915\u0941\u091B \u0939\u0940 \u0915\u094D\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090F\u0915 \u092E\u093F\u0928\u091F",mm:"%d \u092E\u093F\u0928\u091F",h:"\u090F\u0915 \u0918\u0902\u091F\u093E",hh:"%d \u0918\u0902\u091F\u0947",d:"\u090F\u0915 \u0926\u093F\u0928",dd:"%d \u0926\u093F\u0928",M:"\u090F\u0915 \u092E\u0939\u0940\u0928\u0947",MM:"%d \u092E\u0939\u0940\u0928\u0947",y:"\u090F\u0915 \u0935\u0930\u094D\u0937",yy:"%d \u0935\u0930\u094D\u0937"},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(t){return yn[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Yn[t]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(t,i){return 12===t&&(t=0),"\u0930\u093E\u0924"===i?4>t?t:t+12:"\u0938\u0941\u092C\u0939"===i?t:"\u0926\u094B\u092A\u0939\u0930"===i?10<=t?t:t+12:"\u0936\u093E\u092E"===i?t+12:void 0},meridiem:function(t){return 4>t?"\u0930\u093E\u0924":10>t?"\u0938\u0941\u092C\u0939":17>t?"\u0926\u094B\u092A\u0939\u0930":20>t?"\u0936\u093E\u092E":"\u0930\u093E\u0924"},week:{dow:0,doy:6}}),Pe.defineLocale("hr",{months:{format:["sije\u010Dnja","velja\u010De","o\u017Eujka","travnja","svibnja","lipnja","srpnja","kolovoza","rujna","listopada","studenoga","prosinca"],standalone:["sije\u010Danj","velja\u010Da","o\u017Eujak","travanj","svibanj","lipanj","srpanj","kolovoz","rujan","listopad","studeni","prosinac"]},monthsShort:["sij.","velj.","o\u017Eu.","tra.","svi.","lip.","srp.","kol.","ruj.","lis.","stu.","pro."],monthsParseExact:!0,weekdays:["nedjelja","ponedjeljak","utorak","srijeda","\u010Detvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sri.","\u010Det.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","\u010De","pe","su"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT";}},lastDay:"[ju\u010Der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT";}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:mi,m:mi,mm:mi,h:mi,hh:mi,d:"dan",dd:mi,M:"mjesec",MM:mi,y:"godinu",yy:mi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var pn=["vas\xE1rnap","h\xE9tf\u0151n","kedden","szerd\xE1n","cs\xFCt\xF6rt\xF6k\xF6n","p\xE9nteken","szombaton"];Pe.defineLocale("hu",{months:["janu\xE1r","febru\xE1r","m\xE1rcius","\xE1prilis","m\xE1jus","j\xFAnius","j\xFAlius","augusztus","szeptember","okt\xF3ber","november","december"],monthsShort:["jan.","feb.","m\xE1rc.","\xE1pr.","m\xE1j.","j\xFAn.","j\xFAl.","aug.","szept.","okt.","nov.","dec."],monthsParseExact:!0,weekdays:["vas\xE1rnap","h\xE9tf\u0151","kedd","szerda","cs\xFCt\xF6rt\xF6k","p\xE9ntek","szombat"],weekdaysShort:["vas","h\xE9t","kedd","sze","cs\xFCt","p\xE9n","szo"],weekdaysMin:["v","h","k","sze","cs","p","szo"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(i,e,a){return 12>i?!0===a?"de":"DE":!0===a?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return gi.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return gi.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xFAlva",past:"%s",s:ui,ss:ui,m:ui,mm:ui,h:ui,hh:ui,d:ui,dd:ui,M:ui,MM:ui,y:ui,yy:ui},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Pe.defineLocale("hy-am",{months:{format:["\u0570\u0578\u0582\u0576\u057E\u0561\u0580\u056B","\u0583\u0565\u057F\u0580\u057E\u0561\u0580\u056B","\u0574\u0561\u0580\u057F\u056B","\u0561\u057A\u0580\u056B\u056C\u056B","\u0574\u0561\u0575\u056B\u057D\u056B","\u0570\u0578\u0582\u0576\u056B\u057D\u056B","\u0570\u0578\u0582\u056C\u056B\u057D\u056B","\u0585\u0563\u0578\u057D\u057F\u0578\u057D\u056B","\u057D\u0565\u057A\u057F\u0565\u0574\u0562\u0565\u0580\u056B","\u0570\u0578\u056F\u057F\u0565\u0574\u0562\u0565\u0580\u056B","\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056B","\u0564\u0565\u056F\u057F\u0565\u0574\u0562\u0565\u0580\u056B"],standalone:["\u0570\u0578\u0582\u0576\u057E\u0561\u0580","\u0583\u0565\u057F\u0580\u057E\u0561\u0580","\u0574\u0561\u0580\u057F","\u0561\u057A\u0580\u056B\u056C","\u0574\u0561\u0575\u056B\u057D","\u0570\u0578\u0582\u0576\u056B\u057D","\u0570\u0578\u0582\u056C\u056B\u057D","\u0585\u0563\u0578\u057D\u057F\u0578\u057D","\u057D\u0565\u057A\u057F\u0565\u0574\u0562\u0565\u0580","\u0570\u0578\u056F\u057F\u0565\u0574\u0562\u0565\u0580","\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580","\u0564\u0565\u056F\u057F\u0565\u0574\u0562\u0565\u0580"]},monthsShort:["\u0570\u0576\u057E","\u0583\u057F\u0580","\u0574\u0580\u057F","\u0561\u057A\u0580","\u0574\u0575\u057D","\u0570\u0576\u057D","\u0570\u056C\u057D","\u0585\u0563\u057D","\u057D\u057A\u057F","\u0570\u056F\u057F","\u0576\u0574\u0562","\u0564\u056F\u057F"],weekdays:["\u056F\u056B\u0580\u0561\u056F\u056B","\u0565\u0580\u056F\u0578\u0582\u0577\u0561\u0562\u0569\u056B","\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056B","\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056B","\u0570\u056B\u0576\u0563\u0577\u0561\u0562\u0569\u056B","\u0578\u0582\u0580\u0562\u0561\u0569","\u0577\u0561\u0562\u0561\u0569"],weekdaysShort:["\u056F\u0580\u056F","\u0565\u0580\u056F","\u0565\u0580\u0584","\u0579\u0580\u0584","\u0570\u0576\u0563","\u0578\u0582\u0580\u0562","\u0577\u0562\u0569"],weekdaysMin:["\u056F\u0580\u056F","\u0565\u0580\u056F","\u0565\u0580\u0584","\u0579\u0580\u0584","\u0570\u0576\u0563","\u0578\u0582\u0580\u0562","\u0577\u0562\u0569"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057D\u0585\u0580] LT",nextDay:"[\u057E\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056F] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056A\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056E] dddd [\u0585\u0580\u0568 \u056A\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057F\u0578",past:"%s \u0561\u057C\u0561\u057B",s:"\u0574\u056B \u0584\u0561\u0576\u056B \u057E\u0561\u0575\u0580\u056F\u0575\u0561\u0576",ss:"%d \u057E\u0561\u0575\u0580\u056F\u0575\u0561\u0576",m:"\u0580\u0578\u057A\u0565",mm:"%d \u0580\u0578\u057A\u0565",h:"\u056A\u0561\u0574",hh:"%d \u056A\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056B\u057D",MM:"%d \u0561\u0574\u056B\u057D",y:"\u057F\u0561\u0580\u056B",yy:"%d \u057F\u0561\u0580\u056B"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(t){return /^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(t)},meridiem:function(t){return 4>t?"\u0563\u056B\u0577\u0565\u0580\u057E\u0561":12>t?"\u0561\u057C\u0561\u057E\u0578\u057F\u057E\u0561":17>t?"\u0581\u0565\u0580\u0565\u056F\u057E\u0561":"\u0565\u0580\u0565\u056F\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(t,e){return"DDD"===e||"w"===e||"W"===e||"DDDo"===e?1===t?t+"-\u056B\u0576":t+"-\u0580\u0564":t},week:{dow:1,doy:7}}),Pe.defineLocale("id",{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],weekdays:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],weekdaysShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],weekdaysMin:["Mg","Sn","Sl","Rb","Km","Jm","Sb"],longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,i){return 12===t&&(t=0),"pagi"===i?t:"siang"===i?11<=t?t:t+12:"sore"===i||"malam"===i?t+12:void 0},meridiem:function(t){return 11>t?"pagi":15>t?"siang":19>t?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}}),Pe.defineLocale("is",{months:["jan\xFAar","febr\xFAar","mars","apr\xEDl","ma\xED","j\xFAn\xED","j\xFAl\xED","\xE1g\xFAst","september","okt\xF3ber","n\xF3vember","desember"],monthsShort:["jan","feb","mar","apr","ma\xED","j\xFAn","j\xFAl","\xE1g\xFA","sep","okt","n\xF3v","des"],weekdays:["sunnudagur","m\xE1nudagur","\xFEri\xF0judagur","mi\xF0vikudagur","fimmtudagur","f\xF6studagur","laugardagur"],weekdaysShort:["sun","m\xE1n","\xFEri","mi\xF0","fim","f\xF6s","lau"],weekdaysMin:["Su","M\xE1","\xDEr","Mi","Fi","F\xF6","La"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xED dag kl.] LT",nextDay:"[\xE1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xED g\xE6r kl.] LT",lastWeek:"[s\xED\xF0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xED\xF0an",s:_i,ss:_i,m:_i,mm:_i,h:"klukkustund",hh:_i,d:_i,dd:_i,M:_i,MM:_i,y:_i,yy:_i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Pe.defineLocale("it-ch",{months:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],monthsShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],weekdays:["domenica","luned\xEC","marted\xEC","mercoled\xEC","gioved\xEC","venerd\xEC","sabato"],weekdaysShort:["dom","lun","mar","mer","gio","ven","sab"],weekdaysMin:["do","lu","ma","me","gi","ve","sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT";}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:1,doy:4}}),Pe.defineLocale("it",{months:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],monthsShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],weekdays:["domenica","luned\xEC","marted\xEC","mercoled\xEC","gioved\xEC","venerd\xEC","sabato"],weekdaysShort:["dom","lun","mar","mer","gio","ven","sab"],weekdaysMin:["do","lu","ma","me","gi","ve","sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT";}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:1,doy:4}}),Pe.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4EE4\u548C",narrow:"\u32FF",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5E73\u6210",narrow:"\u337B",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662D\u548C",narrow:"\u337C",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6B63",narrow:"\u337D",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660E\u6CBB",narrow:"\u337E",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897F\u66A6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7D00\u5143\u524D",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(t,e){return"\u5143"===e[1]?1:parseInt(e[1]||t,10)},months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],monthsShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],weekdays:["\u65E5\u66DC\u65E5","\u6708\u66DC\u65E5","\u706B\u66DC\u65E5","\u6C34\u66DC\u65E5","\u6728\u66DC\u65E5","\u91D1\u66DC\u65E5","\u571F\u66DC\u65E5"],weekdaysShort:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"],weekdaysMin:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5 HH:mm",LLLL:"YYYY\u5E74M\u6708D\u65E5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(t){return"\u5348\u5F8C"===t},meridiem:function(t){return 12>t?"\u5348\u524D":"\u5348\u5F8C"},calendar:{sameDay:"[\u4ECA\u65E5] LT",nextDay:"[\u660E\u65E5] LT",nextWeek:function(t){return t.week()===this.week()?"dddd LT":"[\u6765\u9031]dddd LT"},lastDay:"[\u6628\u65E5] LT",lastWeek:function(t){return this.week()===t.week()?"dddd LT":"[\u5148\u9031]dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(t,e){return"y"===e?1===t?"\u5143\u5E74":t+"\u5E74":"d"===e||"D"===e||"DDD"===e?t+"\u65E5":t},relativeTime:{future:"%s\u5F8C",past:"%s\u524D",s:"\u6570\u79D2",ss:"%d\u79D2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65E5",dd:"%d\u65E5",M:"1\u30F6\u6708",MM:"%d\u30F6\u6708",y:"1\u5E74",yy:"%d\u5E74"}}),Pe.defineLocale("jv",{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Nopember","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nop","Des"],weekdays:["Minggu","Senen","Seloso","Rebu","Kemis","Jemuwah","Septu"],weekdaysShort:["Min","Sen","Sel","Reb","Kem","Jem","Sep"],weekdaysMin:["Mg","Sn","Sl","Rb","Km","Jm","Sp"],longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,i){return 12===t&&(t=0),"enjing"===i?t:"siyang"===i?11<=t?t:t+12:"sonten"===i||"ndalu"===i?t+12:void 0},meridiem:function(t){return 11>t?"enjing":15>t?"siyang":19>t?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),Pe.defineLocale("ka",{months:["\u10D8\u10D0\u10DC\u10D5\u10D0\u10E0\u10D8","\u10D7\u10D4\u10D1\u10D4\u10E0\u10D5\u10D0\u10DA\u10D8","\u10DB\u10D0\u10E0\u10E2\u10D8","\u10D0\u10DE\u10E0\u10D8\u10DA\u10D8","\u10DB\u10D0\u10D8\u10E1\u10D8","\u10D8\u10D5\u10DC\u10D8\u10E1\u10D8","\u10D8\u10D5\u10DA\u10D8\u10E1\u10D8","\u10D0\u10D2\u10D5\u10D8\u10E1\u10E2\u10DD","\u10E1\u10D4\u10E5\u10E2\u10D4\u10DB\u10D1\u10D4\u10E0\u10D8","\u10DD\u10E5\u10E2\u10DD\u10DB\u10D1\u10D4\u10E0\u10D8","\u10DC\u10DD\u10D4\u10DB\u10D1\u10D4\u10E0\u10D8","\u10D3\u10D4\u10D9\u10D4\u10DB\u10D1\u10D4\u10E0\u10D8"],monthsShort:["\u10D8\u10D0\u10DC","\u10D7\u10D4\u10D1","\u10DB\u10D0\u10E0","\u10D0\u10DE\u10E0","\u10DB\u10D0\u10D8","\u10D8\u10D5\u10DC","\u10D8\u10D5\u10DA","\u10D0\u10D2\u10D5","\u10E1\u10D4\u10E5","\u10DD\u10E5\u10E2","\u10DC\u10DD\u10D4","\u10D3\u10D4\u10D9"],weekdays:{standalone:["\u10D9\u10D5\u10D8\u10E0\u10D0","\u10DD\u10E0\u10E8\u10D0\u10D1\u10D0\u10D7\u10D8","\u10E1\u10D0\u10DB\u10E8\u10D0\u10D1\u10D0\u10D7\u10D8","\u10DD\u10D7\u10EE\u10E8\u10D0\u10D1\u10D0\u10D7\u10D8","\u10EE\u10E3\u10D7\u10E8\u10D0\u10D1\u10D0\u10D7\u10D8","\u10DE\u10D0\u10E0\u10D0\u10E1\u10D9\u10D4\u10D5\u10D8","\u10E8\u10D0\u10D1\u10D0\u10D7\u10D8"],format:["\u10D9\u10D5\u10D8\u10E0\u10D0\u10E1","\u10DD\u10E0\u10E8\u10D0\u10D1\u10D0\u10D7\u10E1","\u10E1\u10D0\u10DB\u10E8\u10D0\u10D1\u10D0\u10D7\u10E1","\u10DD\u10D7\u10EE\u10E8\u10D0\u10D1\u10D0\u10D7\u10E1","\u10EE\u10E3\u10D7\u10E8\u10D0\u10D1\u10D0\u10D7\u10E1","\u10DE\u10D0\u10E0\u10D0\u10E1\u10D9\u10D4\u10D5\u10E1","\u10E8\u10D0\u10D1\u10D0\u10D7\u10E1"],isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:["\u10D9\u10D5\u10D8","\u10DD\u10E0\u10E8","\u10E1\u10D0\u10DB","\u10DD\u10D7\u10EE","\u10EE\u10E3\u10D7","\u10DE\u10D0\u10E0","\u10E8\u10D0\u10D1"],weekdaysMin:["\u10D9\u10D5","\u10DD\u10E0","\u10E1\u10D0","\u10DD\u10D7","\u10EE\u10E3","\u10DE\u10D0","\u10E8\u10D0"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10D3\u10E6\u10D4\u10E1] LT[-\u10D6\u10D4]",nextDay:"[\u10EE\u10D5\u10D0\u10DA] LT[-\u10D6\u10D4]",lastDay:"[\u10D2\u10E3\u10E8\u10D8\u10DC] LT[-\u10D6\u10D4]",nextWeek:"[\u10E8\u10D4\u10DB\u10D3\u10D4\u10D2] dddd LT[-\u10D6\u10D4]",lastWeek:"[\u10EC\u10D8\u10DC\u10D0] dddd LT-\u10D6\u10D4",sameElse:"L"},relativeTime:{future:function(t){return t.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(i,e,a){return"\u10D8"===a?e+"\u10E8\u10D8":e+a+"\u10E8\u10D8"})},past:function(t){return /(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(t)?t.replace(/(\u10d8|\u10d4)$/,"\u10D8\u10E1 \u10EC\u10D8\u10DC"):/\u10ec\u10d4\u10da\u10d8/.test(t)?t.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10EC\u10DA\u10D8\u10E1 \u10EC\u10D8\u10DC"):t},s:"\u10E0\u10D0\u10DB\u10D3\u10D4\u10DC\u10D8\u10DB\u10D4 \u10EC\u10D0\u10DB\u10D8",ss:"%d \u10EC\u10D0\u10DB\u10D8",m:"\u10EC\u10E3\u10D7\u10D8",mm:"%d \u10EC\u10E3\u10D7\u10D8",h:"\u10E1\u10D0\u10D0\u10D7\u10D8",hh:"%d \u10E1\u10D0\u10D0\u10D7\u10D8",d:"\u10D3\u10E6\u10D4",dd:"%d \u10D3\u10E6\u10D4",M:"\u10D7\u10D5\u10D4",MM:"%d \u10D7\u10D5\u10D4",y:"\u10EC\u10D4\u10DA\u10D8",yy:"%d \u10EC\u10D4\u10DA\u10D8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(t){return 0===t?t:1===t?t+"-\u10DA\u10D8":20>t||100>=t&&0==t%20||0==t%100?"\u10DB\u10D4-"+t:t+"-\u10D4"},week:{dow:1,doy:7}});var Dn={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044B",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044B",10:"-\u0448\u044B",20:"-\u0448\u044B",30:"-\u0448\u044B",40:"-\u0448\u044B",50:"-\u0448\u0456",60:"-\u0448\u044B",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044B",100:"-\u0448\u0456"};Pe.defineLocale("kk",{months:["\u049B\u0430\u04A3\u0442\u0430\u0440","\u0430\u049B\u043F\u0430\u043D","\u043D\u0430\u0443\u0440\u044B\u0437","\u0441\u04D9\u0443\u0456\u0440","\u043C\u0430\u043C\u044B\u0440","\u043C\u0430\u0443\u0441\u044B\u043C","\u0448\u0456\u043B\u0434\u0435","\u0442\u0430\u043C\u044B\u0437","\u049B\u044B\u0440\u043A\u04AF\u0439\u0435\u043A","\u049B\u0430\u0437\u0430\u043D","\u049B\u0430\u0440\u0430\u0448\u0430","\u0436\u0435\u043B\u0442\u043E\u049B\u0441\u0430\u043D"],monthsShort:["\u049B\u0430\u04A3","\u0430\u049B\u043F","\u043D\u0430\u0443","\u0441\u04D9\u0443","\u043C\u0430\u043C","\u043C\u0430\u0443","\u0448\u0456\u043B","\u0442\u0430\u043C","\u049B\u044B\u0440","\u049B\u0430\u0437","\u049B\u0430\u0440","\u0436\u0435\u043B"],weekdays:["\u0436\u0435\u043A\u0441\u0435\u043D\u0431\u0456","\u0434\u04AF\u0439\u0441\u0435\u043D\u0431\u0456","\u0441\u0435\u0439\u0441\u0435\u043D\u0431\u0456","\u0441\u04D9\u0440\u0441\u0435\u043D\u0431\u0456","\u0431\u0435\u0439\u0441\u0435\u043D\u0431\u0456","\u0436\u04B1\u043C\u0430","\u0441\u0435\u043D\u0431\u0456"],weekdaysShort:["\u0436\u0435\u043A","\u0434\u04AF\u0439","\u0441\u0435\u0439","\u0441\u04D9\u0440","\u0431\u0435\u0439","\u0436\u04B1\u043C","\u0441\u0435\u043D"],weekdaysMin:["\u0436\u043A","\u0434\u0439","\u0441\u0439","\u0441\u0440","\u0431\u0439","\u0436\u043C","\u0441\u043D"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04AF\u0433\u0456\u043D \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04A3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041A\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04E8\u0442\u043A\u0435\u043D \u0430\u043F\u0442\u0430\u043D\u044B\u04A3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043D\u0434\u0435",past:"%s \u0431\u04B1\u0440\u044B\u043D",s:"\u0431\u0456\u0440\u043D\u0435\u0448\u0435 \u0441\u0435\u043A\u0443\u043D\u0434",ss:"%d \u0441\u0435\u043A\u0443\u043D\u0434",m:"\u0431\u0456\u0440 \u043C\u0438\u043D\u0443\u0442",mm:"%d \u043C\u0438\u043D\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043A\u04AF\u043D",dd:"%d \u043A\u04AF\u043D",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044B\u043B",yy:"%d \u0436\u044B\u043B"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(t){return t+(Dn[t]||Dn[t%10]||Dn[100<=t?100:null])},week:{dow:1,doy:7}});var bn={1:"\u17E1",2:"\u17E2",3:"\u17E3",4:"\u17E4",5:"\u17E5",6:"\u17E6",7:"\u17E7",8:"\u17E8",9:"\u17E9",0:"\u17E0"},Sn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};Pe.defineLocale("km",{months:["\u1798\u1780\u179A\u17B6","\u1780\u17BB\u1798\u17D2\u1797\u17C8","\u1798\u17B8\u1793\u17B6","\u1798\u17C1\u179F\u17B6","\u17A7\u179F\u1797\u17B6","\u1798\u17B7\u1790\u17BB\u1793\u17B6","\u1780\u1780\u17D2\u1780\u178A\u17B6","\u179F\u17B8\u17A0\u17B6","\u1780\u1789\u17D2\u1789\u17B6","\u178F\u17BB\u179B\u17B6","\u179C\u17B7\u1785\u17D2\u1786\u17B7\u1780\u17B6","\u1792\u17D2\u1793\u17BC"],monthsShort:["\u1798\u1780\u179A\u17B6","\u1780\u17BB\u1798\u17D2\u1797\u17C8","\u1798\u17B8\u1793\u17B6","\u1798\u17C1\u179F\u17B6","\u17A7\u179F\u1797\u17B6","\u1798\u17B7\u1790\u17BB\u1793\u17B6","\u1780\u1780\u17D2\u1780\u178A\u17B6","\u179F\u17B8\u17A0\u17B6","\u1780\u1789\u17D2\u1789\u17B6","\u178F\u17BB\u179B\u17B6","\u179C\u17B7\u1785\u17D2\u1786\u17B7\u1780\u17B6","\u1792\u17D2\u1793\u17BC"],weekdays:["\u17A2\u17B6\u1791\u17B7\u178F\u17D2\u1799","\u1785\u17D0\u1793\u17D2\u1791","\u17A2\u1784\u17D2\u1782\u17B6\u179A","\u1796\u17BB\u1792","\u1796\u17D2\u179A\u17A0\u179F\u17D2\u1794\u178F\u17B7\u17CD","\u179F\u17BB\u1780\u17D2\u179A","\u179F\u17C5\u179A\u17CD"],weekdaysShort:["\u17A2\u17B6","\u1785","\u17A2","\u1796","\u1796\u17D2\u179A","\u179F\u17BB","\u179F"],weekdaysMin:["\u17A2\u17B6","\u1785","\u17A2","\u1796","\u1796\u17D2\u179A","\u179F\u17BB","\u179F"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(t){return"\u179B\u17D2\u1784\u17B6\u1785"===t},meridiem:function(t){return 12>t?"\u1796\u17D2\u179A\u17B9\u1780":"\u179B\u17D2\u1784\u17B6\u1785"},calendar:{sameDay:"[\u1790\u17D2\u1784\u17C3\u1793\u17C1\u17C7 \u1798\u17C9\u17C4\u1784] LT",nextDay:"[\u179F\u17D2\u17A2\u17C2\u1780 \u1798\u17C9\u17C4\u1784] LT",nextWeek:"dddd [\u1798\u17C9\u17C4\u1784] LT",lastDay:"[\u1798\u17D2\u179F\u17B7\u179B\u1798\u17B7\u1789 \u1798\u17C9\u17C4\u1784] LT",lastWeek:"dddd [\u179F\u1794\u17D2\u178F\u17B6\u17A0\u17CD\u1798\u17BB\u1793] [\u1798\u17C9\u17C4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17C0\u178F",past:"%s\u1798\u17BB\u1793",s:"\u1794\u17C9\u17BB\u1793\u17D2\u1798\u17B6\u1793\u179C\u17B7\u1793\u17B6\u1791\u17B8",ss:"%d \u179C\u17B7\u1793\u17B6\u1791\u17B8",m:"\u1798\u17BD\u1799\u1793\u17B6\u1791\u17B8",mm:"%d \u1793\u17B6\u1791\u17B8",h:"\u1798\u17BD\u1799\u1798\u17C9\u17C4\u1784",hh:"%d \u1798\u17C9\u17C4\u1784",d:"\u1798\u17BD\u1799\u1790\u17D2\u1784\u17C3",dd:"%d \u1790\u17D2\u1784\u17C3",M:"\u1798\u17BD\u1799\u1781\u17C2",MM:"%d \u1781\u17C2",y:"\u1798\u17BD\u1799\u1786\u17D2\u1793\u17B6\u17C6",yy:"%d \u1786\u17D2\u1793\u17B6\u17C6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17B8%d",preparse:function(t){return t.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(t){return Sn[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return bn[t]})},week:{dow:1,doy:4}});var Hn={1:"\u0CE7",2:"\u0CE8",3:"\u0CE9",4:"\u0CEA",5:"\u0CEB",6:"\u0CEC",7:"\u0CED",8:"\u0CEE",9:"\u0CEF",0:"\u0CE6"},jn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};Pe.defineLocale("kn",{months:["\u0C9C\u0CA8\u0CB5\u0CB0\u0CBF","\u0CAB\u0CC6\u0CAC\u0CCD\u0CB0\u0CB5\u0CB0\u0CBF","\u0CAE\u0CBE\u0CB0\u0CCD\u0C9A\u0CCD","\u0C8F\u0CAA\u0CCD\u0CB0\u0CBF\u0CB2\u0CCD","\u0CAE\u0CC6\u0CD5","\u0C9C\u0CC2\u0CA8\u0CCD","\u0C9C\u0CC1\u0CB2\u0CC6\u0CD6","\u0C86\u0C97\u0CB8\u0CCD\u0C9F\u0CCD","\u0CB8\u0CC6\u0CAA\u0CCD\u0C9F\u0CC6\u0C82\u0CAC\u0CB0\u0CCD","\u0C85\u0C95\u0CCD\u0C9F\u0CC6\u0CC2\u0CD5\u0CAC\u0CB0\u0CCD","\u0CA8\u0CB5\u0CC6\u0C82\u0CAC\u0CB0\u0CCD","\u0CA1\u0CBF\u0CB8\u0CC6\u0C82\u0CAC\u0CB0\u0CCD"],monthsShort:["\u0C9C\u0CA8","\u0CAB\u0CC6\u0CAC\u0CCD\u0CB0","\u0CAE\u0CBE\u0CB0\u0CCD\u0C9A\u0CCD","\u0C8F\u0CAA\u0CCD\u0CB0\u0CBF\u0CB2\u0CCD","\u0CAE\u0CC6\u0CD5","\u0C9C\u0CC2\u0CA8\u0CCD","\u0C9C\u0CC1\u0CB2\u0CC6\u0CD6","\u0C86\u0C97\u0CB8\u0CCD\u0C9F\u0CCD","\u0CB8\u0CC6\u0CAA\u0CCD\u0C9F\u0CC6\u0C82","\u0C85\u0C95\u0CCD\u0C9F\u0CC6\u0CC2\u0CD5","\u0CA8\u0CB5\u0CC6\u0C82","\u0CA1\u0CBF\u0CB8\u0CC6\u0C82"],monthsParseExact:!0,weekdays:["\u0CAD\u0CBE\u0CA8\u0CC1\u0CB5\u0CBE\u0CB0","\u0CB8\u0CC6\u0CC2\u0CD5\u0CAE\u0CB5\u0CBE\u0CB0","\u0CAE\u0C82\u0C97\u0CB3\u0CB5\u0CBE\u0CB0","\u0CAC\u0CC1\u0CA7\u0CB5\u0CBE\u0CB0","\u0C97\u0CC1\u0CB0\u0CC1\u0CB5\u0CBE\u0CB0","\u0CB6\u0CC1\u0C95\u0CCD\u0CB0\u0CB5\u0CBE\u0CB0","\u0CB6\u0CA8\u0CBF\u0CB5\u0CBE\u0CB0"],weekdaysShort:["\u0CAD\u0CBE\u0CA8\u0CC1","\u0CB8\u0CC6\u0CC2\u0CD5\u0CAE","\u0CAE\u0C82\u0C97\u0CB3","\u0CAC\u0CC1\u0CA7","\u0C97\u0CC1\u0CB0\u0CC1","\u0CB6\u0CC1\u0C95\u0CCD\u0CB0","\u0CB6\u0CA8\u0CBF"],weekdaysMin:["\u0CAD\u0CBE","\u0CB8\u0CC6\u0CC2\u0CD5","\u0CAE\u0C82","\u0CAC\u0CC1","\u0C97\u0CC1","\u0CB6\u0CC1","\u0CB6"],longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0C87\u0C82\u0CA6\u0CC1] LT",nextDay:"[\u0CA8\u0CBE\u0CB3\u0CC6] LT",nextWeek:"dddd, LT",lastDay:"[\u0CA8\u0CBF\u0CA8\u0CCD\u0CA8\u0CC6] LT",lastWeek:"[\u0C95\u0CC6\u0CC2\u0CA8\u0CC6\u0CAF] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0CA8\u0C82\u0CA4\u0CB0",past:"%s \u0CB9\u0CBF\u0C82\u0CA6\u0CC6",s:"\u0C95\u0CC6\u0CB2\u0CB5\u0CC1 \u0C95\u0CCD\u0CB7\u0CA3\u0C97\u0CB3\u0CC1",ss:"%d \u0CB8\u0CC6\u0C95\u0CC6\u0C82\u0CA1\u0CC1\u0C97\u0CB3\u0CC1",m:"\u0C92\u0C82\u0CA6\u0CC1 \u0CA8\u0CBF\u0CAE\u0CBF\u0CB7",mm:"%d \u0CA8\u0CBF\u0CAE\u0CBF\u0CB7",h:"\u0C92\u0C82\u0CA6\u0CC1 \u0C97\u0C82\u0C9F\u0CC6",hh:"%d \u0C97\u0C82\u0C9F\u0CC6",d:"\u0C92\u0C82\u0CA6\u0CC1 \u0CA6\u0CBF\u0CA8",dd:"%d \u0CA6\u0CBF\u0CA8",M:"\u0C92\u0C82\u0CA6\u0CC1 \u0CA4\u0CBF\u0C82\u0C97\u0CB3\u0CC1",MM:"%d \u0CA4\u0CBF\u0C82\u0C97\u0CB3\u0CC1",y:"\u0C92\u0C82\u0CA6\u0CC1 \u0CB5\u0CB0\u0CCD\u0CB7",yy:"%d \u0CB5\u0CB0\u0CCD\u0CB7"},preparse:function(t){return t.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(t){return jn[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Hn[t]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(t,i){return 12===t&&(t=0),"\u0CB0\u0CBE\u0CA4\u0CCD\u0CB0\u0CBF"===i?4>t?t:t+12:"\u0CAC\u0CC6\u0CB3\u0CBF\u0C97\u0CCD\u0C97\u0CC6"===i?t:"\u0CAE\u0CA7\u0CCD\u0CAF\u0CBE\u0CB9\u0CCD\u0CA8"===i?10<=t?t:t+12:"\u0CB8\u0C82\u0C9C\u0CC6"===i?t+12:void 0},meridiem:function(t){return 4>t?"\u0CB0\u0CBE\u0CA4\u0CCD\u0CB0\u0CBF":10>t?"\u0CAC\u0CC6\u0CB3\u0CBF\u0C97\u0CCD\u0C97\u0CC6":17>t?"\u0CAE\u0CA7\u0CCD\u0CAF\u0CBE\u0CB9\u0CCD\u0CA8":20>t?"\u0CB8\u0C82\u0C9C\u0CC6":"\u0CB0\u0CBE\u0CA4\u0CCD\u0CB0\u0CBF"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(t){return t+"\u0CA8\u0CC6\u0CD5"},week:{dow:0,doy:6}}),Pe.defineLocale("ko",{months:["1\uC6D4","2\uC6D4","3\uC6D4","4\uC6D4","5\uC6D4","6\uC6D4","7\uC6D4","8\uC6D4","9\uC6D4","10\uC6D4","11\uC6D4","12\uC6D4"],monthsShort:["1\uC6D4","2\uC6D4","3\uC6D4","4\uC6D4","5\uC6D4","6\uC6D4","7\uC6D4","8\uC6D4","9\uC6D4","10\uC6D4","11\uC6D4","12\uC6D4"],weekdays:["\uC77C\uC694\uC77C","\uC6D4\uC694\uC77C","\uD654\uC694\uC77C","\uC218\uC694\uC77C","\uBAA9\uC694\uC77C","\uAE08\uC694\uC77C","\uD1A0\uC694\uC77C"],weekdaysShort:["\uC77C","\uC6D4","\uD654","\uC218","\uBAA9","\uAE08","\uD1A0"],weekdaysMin:["\uC77C","\uC6D4","\uD654","\uC218","\uBAA9","\uAE08","\uD1A0"],longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\uB144 MMMM D\uC77C",LLL:"YYYY\uB144 MMMM D\uC77C A h:mm",LLLL:"YYYY\uB144 MMMM D\uC77C dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\uB144 MMMM D\uC77C",lll:"YYYY\uB144 MMMM D\uC77C A h:mm",llll:"YYYY\uB144 MMMM D\uC77C dddd A h:mm"},calendar:{sameDay:"\uC624\uB298 LT",nextDay:"\uB0B4\uC77C LT",nextWeek:"dddd LT",lastDay:"\uC5B4\uC81C LT",lastWeek:"\uC9C0\uB09C\uC8FC dddd LT",sameElse:"L"},relativeTime:{future:"%s \uD6C4",past:"%s \uC804",s:"\uBA87 \uCD08",ss:"%d\uCD08",m:"1\uBD84",mm:"%d\uBD84",h:"\uD55C \uC2DC\uAC04",hh:"%d\uC2DC\uAC04",d:"\uD558\uB8E8",dd:"%d\uC77C",M:"\uD55C \uB2EC",MM:"%d\uB2EC",y:"\uC77C \uB144",yy:"%d\uB144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(t,e){return"d"===e||"D"===e||"DDD"===e?t+"\uC77C":"M"===e?t+"\uC6D4":"w"===e||"W"===e?t+"\uC8FC":t},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(t){return"\uC624\uD6C4"===t},meridiem:function(t){return 12>t?"\uC624\uC804":"\uC624\uD6C4"}});var xn={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},Pn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},On=["\u06A9\u0627\u0646\u0648\u0646\u06CC \u062F\u0648\u0648\u06D5\u0645","\u0634\u0648\u0628\u0627\u062A","\u0626\u0627\u0632\u0627\u0631","\u0646\u06CC\u0633\u0627\u0646","\u0626\u0627\u06CC\u0627\u0631","\u062D\u0648\u0632\u06D5\u06CC\u0631\u0627\u0646","\u062A\u06D5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06D5\u06CC\u0644\u0648\u0648\u0644","\u062A\u0634\u0631\u06CC\u0646\u06CC \u06CC\u06D5\u0643\u06D5\u0645","\u062A\u0634\u0631\u06CC\u0646\u06CC \u062F\u0648\u0648\u06D5\u0645","\u0643\u0627\u0646\u0648\u0646\u06CC \u06CC\u06D5\u06A9\u06D5\u0645"];Pe.defineLocale("ku",{months:On,monthsShort:On,weekdays:["\u06CC\u0647\u200C\u0643\u0634\u0647\u200C\u0645\u0645\u0647\u200C","\u062F\u0648\u0648\u0634\u0647\u200C\u0645\u0645\u0647\u200C","\u0633\u06CE\u0634\u0647\u200C\u0645\u0645\u0647\u200C","\u0686\u0648\u0627\u0631\u0634\u0647\u200C\u0645\u0645\u0647\u200C","\u067E\u06CE\u0646\u062C\u0634\u0647\u200C\u0645\u0645\u0647\u200C","\u0647\u0647\u200C\u06CC\u0646\u06CC","\u0634\u0647\u200C\u0645\u0645\u0647\u200C"],weekdaysShort:["\u06CC\u0647\u200C\u0643\u0634\u0647\u200C\u0645","\u062F\u0648\u0648\u0634\u0647\u200C\u0645","\u0633\u06CE\u0634\u0647\u200C\u0645","\u0686\u0648\u0627\u0631\u0634\u0647\u200C\u0645","\u067E\u06CE\u0646\u062C\u0634\u0647\u200C\u0645","\u0647\u0647\u200C\u06CC\u0646\u06CC","\u0634\u0647\u200C\u0645\u0645\u0647\u200C"],weekdaysMin:["\u06CC","\u062F","\u0633","\u0686","\u067E","\u0647","\u0634"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(t){return /\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(t)},meridiem:function(t){return 12>t?"\u0628\u0647\u200C\u06CC\u0627\u0646\u06CC":"\u0626\u06CE\u0648\u0627\u0631\u0647\u200C"},calendar:{sameDay:"[\u0626\u0647\u200C\u0645\u0631\u06C6 \u0643\u0627\u062A\u0698\u0645\u06CE\u0631] LT",nextDay:"[\u0628\u0647\u200C\u06CC\u0627\u0646\u06CC \u0643\u0627\u062A\u0698\u0645\u06CE\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062A\u0698\u0645\u06CE\u0631] LT",lastDay:"[\u062F\u0648\u06CE\u0646\u06CE \u0643\u0627\u062A\u0698\u0645\u06CE\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062A\u0698\u0645\u06CE\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200C %s",past:"%s",s:"\u0686\u0647\u200C\u0646\u062F \u0686\u0631\u0643\u0647\u200C\u06CC\u0647\u200C\u0643",ss:"\u0686\u0631\u0643\u0647\u200C %d",m:"\u06CC\u0647\u200C\u0643 \u062E\u0648\u0644\u0647\u200C\u0643",mm:"%d \u062E\u0648\u0644\u0647\u200C\u0643",h:"\u06CC\u0647\u200C\u0643 \u0643\u0627\u062A\u0698\u0645\u06CE\u0631",hh:"%d \u0643\u0627\u062A\u0698\u0645\u06CE\u0631",d:"\u06CC\u0647\u200C\u0643 \u0695\u06C6\u0698",dd:"%d \u0695\u06C6\u0698",M:"\u06CC\u0647\u200C\u0643 \u0645\u0627\u0646\u06AF",MM:"%d \u0645\u0627\u0646\u06AF",y:"\u06CC\u0647\u200C\u0643 \u0633\u0627\u06B5",yy:"%d \u0633\u0627\u06B5"},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(t){return Pn[t]}).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return xn[t]}).replace(/,/g,"\u060C")},week:{dow:6,doy:12}});var Wn={0:"-\u0447\u04AF",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04AF",4:"-\u0447\u04AF",5:"-\u0447\u0438",6:"-\u0447\u044B",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044B",30:"-\u0447\u0443",40:"-\u0447\u044B",50:"-\u0447\u04AF",60:"-\u0447\u044B",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04AF"};Pe.defineLocale("ky",{months:["\u044F\u043D\u0432\u0430\u0440\u044C","\u0444\u0435\u0432\u0440\u0430\u043B\u044C","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0435\u043B\u044C","\u043C\u0430\u0439","\u0438\u044E\u043D\u044C","\u0438\u044E\u043B\u044C","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u043E\u043A\u0442\u044F\u0431\u0440\u044C","\u043D\u043E\u044F\u0431\u0440\u044C","\u0434\u0435\u043A\u0430\u0431\u0440\u044C"],monthsShort:["\u044F\u043D\u0432","\u0444\u0435\u0432","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440","\u043C\u0430\u0439","\u0438\u044E\u043D\u044C","\u0438\u044E\u043B\u044C","\u0430\u0432\u0433","\u0441\u0435\u043D","\u043E\u043A\u0442","\u043D\u043E\u044F","\u0434\u0435\u043A"],weekdays:["\u0416\u0435\u043A\u0448\u0435\u043C\u0431\u0438","\u0414\u04AF\u0439\u0448\u04E9\u043C\u0431\u04AF","\u0428\u0435\u0439\u0448\u0435\u043C\u0431\u0438","\u0428\u0430\u0440\u0448\u0435\u043C\u0431\u0438","\u0411\u0435\u0439\u0448\u0435\u043C\u0431\u0438","\u0416\u0443\u043C\u0430","\u0418\u0448\u0435\u043C\u0431\u0438"],weekdaysShort:["\u0416\u0435\u043A","\u0414\u04AF\u0439","\u0428\u0435\u0439","\u0428\u0430\u0440","\u0411\u0435\u0439","\u0416\u0443\u043C","\u0418\u0448\u0435"],weekdaysMin:["\u0416\u043A","\u0414\u0439","\u0428\u0439","\u0428\u0440","\u0411\u0439","\u0416\u043C","\u0418\u0448"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04AF\u0433\u04AF\u043D \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042D\u0440\u0442\u0435\u04A3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041A\u0435\u0447\u044D\u044D \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04E8\u0442\u043A\u04E9\u043D \u0430\u043F\u0442\u0430\u043D\u044B\u043D] dddd [\u043A\u04AF\u043D\u04AF] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043D\u0434\u0435",past:"%s \u043C\u0443\u0440\u0443\u043D",s:"\u0431\u0438\u0440\u043D\u0435\u0447\u0435 \u0441\u0435\u043A\u0443\u043D\u0434",ss:"%d \u0441\u0435\u043A\u0443\u043D\u0434",m:"\u0431\u0438\u0440 \u043C\u04AF\u043D\u04E9\u0442",mm:"%d \u043C\u04AF\u043D\u04E9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043A\u04AF\u043D",dd:"%d \u043A\u04AF\u043D",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044B\u043B",yy:"%d \u0436\u044B\u043B"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(t){return t+(Wn[t]||Wn[t%10]||Wn[100<=t?100:null])},week:{dow:1,doy:7}}),Pe.defineLocale("lb",{months:["Januar","Februar","M\xE4erz","Abr\xEBll","Mee","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan.","Febr.","Mrz.","Abr.","Mee","Jun.","Jul.","Aug.","Sept.","Okt.","Nov.","Dez."],monthsParseExact:!0,weekdays:["Sonndeg","M\xE9indeg","D\xEBnschdeg","M\xEBttwoch","Donneschdeg","Freideg","Samschdeg"],weekdaysShort:["So.","M\xE9.","D\xEB.","M\xEB.","Do.","Fr.","Sa."],weekdaysMin:["So","M\xE9","D\xEB","M\xEB","Do","Fr","Sa"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xEBschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT";}}},relativeTime:{future:function(t){return fi(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t},past:function(t){return fi(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t},s:"e puer Sekonnen",ss:"%d Sekonnen",m:vi,mm:"%d Minutten",h:vi,hh:"%d Stonnen",d:vi,dd:"%d Deeg",M:vi,MM:"%d M\xE9int",y:vi,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Pe.defineLocale("lo",{months:["\u0EA1\u0EB1\u0E87\u0E81\u0EAD\u0E99","\u0E81\u0EB8\u0EA1\u0E9E\u0EB2","\u0EA1\u0EB5\u0E99\u0EB2","\u0EC0\u0EA1\u0EAA\u0EB2","\u0E9E\u0EB6\u0E94\u0EAA\u0EB0\u0E9E\u0EB2","\u0EA1\u0EB4\u0E96\u0EB8\u0E99\u0EB2","\u0E81\u0ECD\u0EA5\u0EB0\u0E81\u0EBB\u0E94","\u0EAA\u0EB4\u0E87\u0EAB\u0EB2","\u0E81\u0EB1\u0E99\u0E8D\u0EB2","\u0E95\u0EB8\u0EA5\u0EB2","\u0E9E\u0EB0\u0E88\u0EB4\u0E81","\u0E97\u0EB1\u0E99\u0EA7\u0EB2"],monthsShort:["\u0EA1\u0EB1\u0E87\u0E81\u0EAD\u0E99","\u0E81\u0EB8\u0EA1\u0E9E\u0EB2","\u0EA1\u0EB5\u0E99\u0EB2","\u0EC0\u0EA1\u0EAA\u0EB2","\u0E9E\u0EB6\u0E94\u0EAA\u0EB0\u0E9E\u0EB2","\u0EA1\u0EB4\u0E96\u0EB8\u0E99\u0EB2","\u0E81\u0ECD\u0EA5\u0EB0\u0E81\u0EBB\u0E94","\u0EAA\u0EB4\u0E87\u0EAB\u0EB2","\u0E81\u0EB1\u0E99\u0E8D\u0EB2","\u0E95\u0EB8\u0EA5\u0EB2","\u0E9E\u0EB0\u0E88\u0EB4\u0E81","\u0E97\u0EB1\u0E99\u0EA7\u0EB2"],weekdays:["\u0EAD\u0EB2\u0E97\u0EB4\u0E94","\u0E88\u0EB1\u0E99","\u0EAD\u0EB1\u0E87\u0E84\u0EB2\u0E99","\u0E9E\u0EB8\u0E94","\u0E9E\u0EB0\u0EAB\u0EB1\u0E94","\u0EAA\u0EB8\u0E81","\u0EC0\u0EAA\u0EBB\u0EB2"],weekdaysShort:["\u0E97\u0EB4\u0E94","\u0E88\u0EB1\u0E99","\u0EAD\u0EB1\u0E87\u0E84\u0EB2\u0E99","\u0E9E\u0EB8\u0E94","\u0E9E\u0EB0\u0EAB\u0EB1\u0E94","\u0EAA\u0EB8\u0E81","\u0EC0\u0EAA\u0EBB\u0EB2"],weekdaysMin:["\u0E97","\u0E88","\u0EAD\u0E84","\u0E9E","\u0E9E\u0EAB","\u0EAA\u0E81","\u0EAA"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0EA7\u0EB1\u0E99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(t){return"\u0E95\u0EAD\u0E99\u0EC1\u0EA5\u0E87"===t},meridiem:function(t){return 12>t?"\u0E95\u0EAD\u0E99\u0EC0\u0E8A\u0EBB\u0EC9\u0EB2":"\u0E95\u0EAD\u0E99\u0EC1\u0EA5\u0E87"},calendar:{sameDay:"[\u0EA1\u0EB7\u0EC9\u0E99\u0EB5\u0EC9\u0EC0\u0EA7\u0EA5\u0EB2] LT",nextDay:"[\u0EA1\u0EB7\u0EC9\u0EAD\u0EB7\u0EC8\u0E99\u0EC0\u0EA7\u0EA5\u0EB2] LT",nextWeek:"[\u0EA7\u0EB1\u0E99]dddd[\u0EDC\u0EC9\u0EB2\u0EC0\u0EA7\u0EA5\u0EB2] LT",lastDay:"[\u0EA1\u0EB7\u0EC9\u0EA7\u0EB2\u0E99\u0E99\u0EB5\u0EC9\u0EC0\u0EA7\u0EA5\u0EB2] LT",lastWeek:"[\u0EA7\u0EB1\u0E99]dddd[\u0EC1\u0EA5\u0EC9\u0EA7\u0E99\u0EB5\u0EC9\u0EC0\u0EA7\u0EA5\u0EB2] LT",sameElse:"L"},relativeTime:{future:"\u0EAD\u0EB5\u0E81 %s",past:"%s\u0E9C\u0EC8\u0EB2\u0E99\u0EA1\u0EB2",s:"\u0E9A\u0ECD\u0EC8\u0EC0\u0E97\u0EBB\u0EC8\u0EB2\u0EC3\u0E94\u0EA7\u0EB4\u0E99\u0EB2\u0E97\u0EB5",ss:"%d \u0EA7\u0EB4\u0E99\u0EB2\u0E97\u0EB5",m:"1 \u0E99\u0EB2\u0E97\u0EB5",mm:"%d \u0E99\u0EB2\u0E97\u0EB5",h:"1 \u0E8A\u0EBB\u0EC8\u0EA7\u0EC2\u0EA1\u0E87",hh:"%d \u0E8A\u0EBB\u0EC8\u0EA7\u0EC2\u0EA1\u0E87",d:"1 \u0EA1\u0EB7\u0EC9",dd:"%d \u0EA1\u0EB7\u0EC9",M:"1 \u0EC0\u0E94\u0EB7\u0EAD\u0E99",MM:"%d \u0EC0\u0E94\u0EB7\u0EAD\u0E99",y:"1 \u0E9B\u0EB5",yy:"%d \u0E9B\u0EB5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(t){return"\u0E97\u0EB5\u0EC8"+t}});var An={ss:"sekund\u0117_sekund\u017Ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010Di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012F",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};Pe.defineLocale("lt",{months:{format:["sausio","vasario","kovo","baland\u017Eio","gegu\u017E\u0117s","bir\u017Eelio","liepos","rugpj\u016B\u010Dio","rugs\u0117jo","spalio","lapkri\u010Dio","gruod\u017Eio"],standalone:["sausis","vasaris","kovas","balandis","gegu\u017E\u0117","bir\u017Eelis","liepa","rugpj\u016Btis","rugs\u0117jis","spalis","lapkritis","gruodis"],isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:["sau","vas","kov","bal","geg","bir","lie","rgp","rgs","spa","lap","grd"],weekdays:{format:["sekmadien\u012F","pirmadien\u012F","antradien\u012F","tre\u010Diadien\u012F","ketvirtadien\u012F","penktadien\u012F","\u0161e\u0161tadien\u012F"],standalone:["sekmadienis","pirmadienis","antradienis","tre\u010Diadienis","ketvirtadienis","penktadienis","\u0161e\u0161tadienis"],isFormat:/dddd HH:mm/},weekdaysShort:["Sek","Pir","Ant","Tre","Ket","Pen","\u0160e\u0161"],weekdaysMin:["S","P","A","T","K","Pn","\u0160"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012F] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function(i,e,a,t){return e?"kelios sekund\u0117s":t?"keli\u0173 sekund\u017Ei\u0173":"kelias sekundes"},ss:xi,m:bi,mm:xi,h:bi,hh:xi,d:bi,dd:xi,M:bi,MM:xi,y:bi,yy:xi},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}});var zn={ss:["sekundes","sekund\u0113m","sekunde","sekundes"],m:["min\u016Btes","min\u016Bt\u0113m","min\u016Bte","min\u016Btes"],mm:["min\u016Btes","min\u016Bt\u0113m","min\u016Bte","min\u016Btes"],h:["stundas","stund\u0101m","stunda","stundas"],hh:["stundas","stund\u0101m","stunda","stundas"],d:["dienas","dien\u0101m","diena","dienas"],dd:["dienas","dien\u0101m","diena","dienas"],M:["m\u0113ne\u0161a","m\u0113ne\u0161iem","m\u0113nesis","m\u0113ne\u0161i"],MM:["m\u0113ne\u0161a","m\u0113ne\u0161iem","m\u0113nesis","m\u0113ne\u0161i"],y:["gada","gadiem","gads","gadi"],yy:["gada","gadiem","gads","gadi"]};Pe.defineLocale("lv",{months:["janv\u0101ris","febru\u0101ris","marts","apr\u012Blis","maijs","j\u016Bnijs","j\u016Blijs","augusts","septembris","oktobris","novembris","decembris"],monthsShort:["jan","feb","mar","apr","mai","j\u016Bn","j\u016Bl","aug","sep","okt","nov","dec"],weekdays:["sv\u0113tdiena","pirmdiena","otrdiena","tre\u0161diena","ceturtdiena","piektdiena","sestdiena"],weekdaysShort:["Sv","P","O","T","C","Pk","S"],weekdaysMin:["Sv","P","O","T","C","Pk","S"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012Bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function(t,e){return e?"da\u017Eas sekundes":"da\u017E\u0101m sekund\u0113m"},ss:ki,m:Si,mm:ki,h:Si,hh:ki,d:Si,dd:ki,M:Si,MM:ki,y:Si,yy:ki},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var In={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:2<=t&&4>=t?e[1]:e[2]},translate:function(i,e,a){var t=In.words[a];return 1===a.length?e?t[0]:t[1]:i+" "+In.correctGrammaticalCase(i,t)}};Pe.defineLocale("me",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],monthsParseExact:!0,weekdays:["nedjelja","ponedjeljak","utorak","srijeda","\u010Detvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sri.","\u010Det.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","\u010De","pe","su"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT";}},lastDay:"[ju\u010De u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010Detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:In.translate,m:In.translate,mm:In.translate,h:In.translate,hh:In.translate,d:"dan",dd:In.translate,M:"mjesec",MM:In.translate,y:"godinu",yy:In.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),Pe.defineLocale("mi",{months:["Kohi-t\u0101te","Hui-tanguru","Pout\u016B-te-rangi","Paenga-wh\u0101wh\u0101","Haratua","Pipiri","H\u014Dngoingoi","Here-turi-k\u014Dk\u0101","Mahuru","Whiringa-\u0101-nuku","Whiringa-\u0101-rangi","Hakihea"],monthsShort:["Kohi","Hui","Pou","Pae","Hara","Pipi","H\u014Dngoi","Here","Mahu","Whi-nu","Whi-ra","Haki"],monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:["R\u0101tapu","Mane","T\u016Brei","Wenerei","T\u0101ite","Paraire","H\u0101tarei"],weekdaysShort:["Ta","Ma","T\u016B","We","T\u0101i","Pa","H\u0101"],weekdaysMin:["Ta","Ma","T\u016B","We","T\u0101i","Pa","H\u0101"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:1,doy:4}}),Pe.defineLocale("mk",{months:["\u0458\u0430\u043D\u0443\u0430\u0440\u0438","\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0438\u043B","\u043C\u0430\u0458","\u0458\u0443\u043D\u0438","\u0458\u0443\u043B\u0438","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043F\u0442\u0435\u043C\u0432\u0440\u0438","\u043E\u043A\u0442\u043E\u043C\u0432\u0440\u0438","\u043D\u043E\u0435\u043C\u0432\u0440\u0438","\u0434\u0435\u043A\u0435\u043C\u0432\u0440\u0438"],monthsShort:["\u0458\u0430\u043D","\u0444\u0435\u0432","\u043C\u0430\u0440","\u0430\u043F\u0440","\u043C\u0430\u0458","\u0458\u0443\u043D","\u0458\u0443\u043B","\u0430\u0432\u0433","\u0441\u0435\u043F","\u043E\u043A\u0442","\u043D\u043E\u0435","\u0434\u0435\u043A"],weekdays:["\u043D\u0435\u0434\u0435\u043B\u0430","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0440\u0442\u043E\u043A","\u043F\u0435\u0442\u043E\u043A","\u0441\u0430\u0431\u043E\u0442\u0430"],weekdaysShort:["\u043D\u0435\u0434","\u043F\u043E\u043D","\u0432\u0442\u043E","\u0441\u0440\u0435","\u0447\u0435\u0442","\u043F\u0435\u0442","\u0441\u0430\u0431"],weekdaysMin:["\u043De","\u043Fo","\u0432\u0442","\u0441\u0440","\u0447\u0435","\u043F\u0435","\u0441a"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043D\u0435\u0441 \u0432\u043E] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043E] LT",nextWeek:"[\u0412\u043E] dddd [\u0432\u043E] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043E] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043C\u0438\u043D\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043E] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043C\u0438\u043D\u0430\u0442\u0438\u043E\u0442] dddd [\u0432\u043E] LT";}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043F\u0440\u0435\u0434 %s",s:"\u043D\u0435\u043A\u043E\u043B\u043A\u0443 \u0441\u0435\u043A\u0443\u043D\u0434\u0438",ss:"%d \u0441\u0435\u043A\u0443\u043D\u0434\u0438",m:"\u0435\u0434\u043D\u0430 \u043C\u0438\u043D\u0443\u0442\u0430",mm:"%d \u043C\u0438\u043D\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043D \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043D \u0434\u0435\u043D",dd:"%d \u0434\u0435\u043D\u0430",M:"\u0435\u0434\u0435\u043D \u043C\u0435\u0441\u0435\u0446",MM:"%d \u043C\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043D\u0430 \u0433\u043E\u0434\u0438\u043D\u0430",yy:"%d \u0433\u043E\u0434\u0438\u043D\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(i){var e=i%10,a=i%100;return 0===i?i+"-\u0435\u0432":0==a?i+"-\u0435\u043D":10<a&&20>a?i+"-\u0442\u0438":1==e?i+"-\u0432\u0438":2==e?i+"-\u0440\u0438":7==e||8==e?i+"-\u043C\u0438":i+"-\u0442\u0438"},week:{dow:1,doy:7}}),Pe.defineLocale("ml",{months:["\u0D1C\u0D28\u0D41\u0D35\u0D30\u0D3F","\u0D2B\u0D46\u0D2C\u0D4D\u0D30\u0D41\u0D35\u0D30\u0D3F","\u0D2E\u0D3E\u0D7C\u0D1A\u0D4D\u0D1A\u0D4D","\u0D0F\u0D2A\u0D4D\u0D30\u0D3F\u0D7D","\u0D2E\u0D47\u0D2F\u0D4D","\u0D1C\u0D42\u0D7A","\u0D1C\u0D42\u0D32\u0D48","\u0D13\u0D17\u0D38\u0D4D\u0D31\u0D4D\u0D31\u0D4D","\u0D38\u0D46\u0D2A\u0D4D\u0D31\u0D4D\u0D31\u0D02\u0D2C\u0D7C","\u0D12\u0D15\u0D4D\u0D1F\u0D4B\u0D2C\u0D7C","\u0D28\u0D35\u0D02\u0D2C\u0D7C","\u0D21\u0D3F\u0D38\u0D02\u0D2C\u0D7C"],monthsShort:["\u0D1C\u0D28\u0D41.","\u0D2B\u0D46\u0D2C\u0D4D\u0D30\u0D41.","\u0D2E\u0D3E\u0D7C.","\u0D0F\u0D2A\u0D4D\u0D30\u0D3F.","\u0D2E\u0D47\u0D2F\u0D4D","\u0D1C\u0D42\u0D7A","\u0D1C\u0D42\u0D32\u0D48.","\u0D13\u0D17.","\u0D38\u0D46\u0D2A\u0D4D\u0D31\u0D4D\u0D31.","\u0D12\u0D15\u0D4D\u0D1F\u0D4B.","\u0D28\u0D35\u0D02.","\u0D21\u0D3F\u0D38\u0D02."],monthsParseExact:!0,weekdays:["\u0D1E\u0D3E\u0D2F\u0D31\u0D3E\u0D34\u0D4D\u0D1A","\u0D24\u0D3F\u0D19\u0D4D\u0D15\u0D33\u0D3E\u0D34\u0D4D\u0D1A","\u0D1A\u0D4A\u0D35\u0D4D\u0D35\u0D3E\u0D34\u0D4D\u0D1A","\u0D2C\u0D41\u0D27\u0D28\u0D3E\u0D34\u0D4D\u0D1A","\u0D35\u0D4D\u0D2F\u0D3E\u0D34\u0D3E\u0D34\u0D4D\u0D1A","\u0D35\u0D46\u0D33\u0D4D\u0D33\u0D3F\u0D2F\u0D3E\u0D34\u0D4D\u0D1A","\u0D36\u0D28\u0D3F\u0D2F\u0D3E\u0D34\u0D4D\u0D1A"],weekdaysShort:["\u0D1E\u0D3E\u0D2F\u0D7C","\u0D24\u0D3F\u0D19\u0D4D\u0D15\u0D7E","\u0D1A\u0D4A\u0D35\u0D4D\u0D35","\u0D2C\u0D41\u0D27\u0D7B","\u0D35\u0D4D\u0D2F\u0D3E\u0D34\u0D02","\u0D35\u0D46\u0D33\u0D4D\u0D33\u0D3F","\u0D36\u0D28\u0D3F"],weekdaysMin:["\u0D1E\u0D3E","\u0D24\u0D3F","\u0D1A\u0D4A","\u0D2C\u0D41","\u0D35\u0D4D\u0D2F\u0D3E","\u0D35\u0D46","\u0D36"],longDateFormat:{LT:"A h:mm -\u0D28\u0D41",LTS:"A h:mm:ss -\u0D28\u0D41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0D28\u0D41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0D28\u0D41"},calendar:{sameDay:"[\u0D07\u0D28\u0D4D\u0D28\u0D4D] LT",nextDay:"[\u0D28\u0D3E\u0D33\u0D46] LT",nextWeek:"dddd, LT",lastDay:"[\u0D07\u0D28\u0D4D\u0D28\u0D32\u0D46] LT",lastWeek:"[\u0D15\u0D34\u0D3F\u0D1E\u0D4D\u0D1E] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0D15\u0D34\u0D3F\u0D1E\u0D4D\u0D1E\u0D4D",past:"%s \u0D2E\u0D41\u0D7B\u0D2A\u0D4D",s:"\u0D05\u0D7D\u0D2A \u0D28\u0D3F\u0D2E\u0D3F\u0D37\u0D19\u0D4D\u0D19\u0D7E",ss:"%d \u0D38\u0D46\u0D15\u0D4D\u0D15\u0D7B\u0D21\u0D4D",m:"\u0D12\u0D30\u0D41 \u0D2E\u0D3F\u0D28\u0D3F\u0D31\u0D4D\u0D31\u0D4D",mm:"%d \u0D2E\u0D3F\u0D28\u0D3F\u0D31\u0D4D\u0D31\u0D4D",h:"\u0D12\u0D30\u0D41 \u0D2E\u0D23\u0D3F\u0D15\u0D4D\u0D15\u0D42\u0D7C",hh:"%d \u0D2E\u0D23\u0D3F\u0D15\u0D4D\u0D15\u0D42\u0D7C",d:"\u0D12\u0D30\u0D41 \u0D26\u0D3F\u0D35\u0D38\u0D02",dd:"%d \u0D26\u0D3F\u0D35\u0D38\u0D02",M:"\u0D12\u0D30\u0D41 \u0D2E\u0D3E\u0D38\u0D02",MM:"%d \u0D2E\u0D3E\u0D38\u0D02",y:"\u0D12\u0D30\u0D41 \u0D35\u0D7C\u0D37\u0D02",yy:"%d \u0D35\u0D7C\u0D37\u0D02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(t,i){return 12===t&&(t=0),"\u0D30\u0D3E\u0D24\u0D4D\u0D30\u0D3F"===i&&4<=t||"\u0D09\u0D1A\u0D4D\u0D1A \u0D15\u0D34\u0D3F\u0D1E\u0D4D\u0D1E\u0D4D"===i||"\u0D35\u0D48\u0D15\u0D41\u0D28\u0D4D\u0D28\u0D47\u0D30\u0D02"===i?t+12:t},meridiem:function(t){return 4>t?"\u0D30\u0D3E\u0D24\u0D4D\u0D30\u0D3F":12>t?"\u0D30\u0D3E\u0D35\u0D3F\u0D32\u0D46":17>t?"\u0D09\u0D1A\u0D4D\u0D1A \u0D15\u0D34\u0D3F\u0D1E\u0D4D\u0D1E\u0D4D":20>t?"\u0D35\u0D48\u0D15\u0D41\u0D28\u0D4D\u0D28\u0D47\u0D30\u0D02":"\u0D30\u0D3E\u0D24\u0D4D\u0D30\u0D3F"}}),Pe.defineLocale("mn",{months:["\u041D\u044D\u0433\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440","\u0425\u043E\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440","\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440","\u0414\u04E9\u0440\u04E9\u0432\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440","\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440","\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440","\u0414\u043E\u043B\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440","\u041D\u0430\u0439\u043C\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440","\u0415\u0441\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440","\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440","\u0410\u0440\u0432\u0430\u043D \u043D\u044D\u0433\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440","\u0410\u0440\u0432\u0430\u043D \u0445\u043E\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440"],monthsShort:["1 \u0441\u0430\u0440","2 \u0441\u0430\u0440","3 \u0441\u0430\u0440","4 \u0441\u0430\u0440","5 \u0441\u0430\u0440","6 \u0441\u0430\u0440","7 \u0441\u0430\u0440","8 \u0441\u0430\u0440","9 \u0441\u0430\u0440","10 \u0441\u0430\u0440","11 \u0441\u0430\u0440","12 \u0441\u0430\u0440"],monthsParseExact:!0,weekdays:["\u041D\u044F\u043C","\u0414\u0430\u0432\u0430\u0430","\u041C\u044F\u0433\u043C\u0430\u0440","\u041B\u0445\u0430\u0433\u0432\u0430","\u041F\u04AF\u0440\u044D\u0432","\u0411\u0430\u0430\u0441\u0430\u043D","\u0411\u044F\u043C\u0431\u0430"],weekdaysShort:["\u041D\u044F\u043C","\u0414\u0430\u0432","\u041C\u044F\u0433","\u041B\u0445\u0430","\u041F\u04AF\u0440","\u0411\u0430\u0430","\u0411\u044F\u043C"],weekdaysMin:["\u041D\u044F","\u0414\u0430","\u041C\u044F","\u041B\u0445","\u041F\u04AF","\u0411\u0430","\u0411\u044F"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043E\u043D\u044B MMMM\u044B\u043D D",LLL:"YYYY \u043E\u043D\u044B MMMM\u044B\u043D D HH:mm",LLLL:"dddd, YYYY \u043E\u043D\u044B MMMM\u044B\u043D D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(t){return"\u04AE\u0425"===t},meridiem:function(t){return 12>t?"\u04AE\u04E8":"\u04AE\u0425"},calendar:{sameDay:"[\u04E8\u043D\u04E9\u04E9\u0434\u04E9\u0440] LT",nextDay:"[\u041C\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044D\u0445] dddd LT",lastDay:"[\u04E8\u0447\u0438\u0433\u0434\u04E9\u0440] LT",lastWeek:"[\u04E8\u043D\u0433\u04E9\u0440\u0441\u04E9\u043D] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04E9\u043C\u043D\u04E9",s:Ci,ss:Ci,m:Ci,mm:Ci,h:Ci,hh:Ci,d:Ci,dd:Ci,M:Ci,MM:Ci,y:Ci,yy:Ci},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(t,e){return"d"===e||"D"===e||"DDD"===e?t+" \u04E9\u0434\u04E9\u0440":t}});var Bn={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096A",5:"\u096B",6:"\u096C",7:"\u096D",8:"\u096E",9:"\u096F",0:"\u0966"},qn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};Pe.defineLocale("mr",{months:["\u091C\u093E\u0928\u0947\u0935\u093E\u0930\u0940","\u092B\u0947\u092C\u094D\u0930\u0941\u0935\u093E\u0930\u0940","\u092E\u093E\u0930\u094D\u091A","\u090F\u092A\u094D\u0930\u093F\u0932","\u092E\u0947","\u091C\u0942\u0928","\u091C\u0941\u0932\u0948","\u0911\u0917\u0938\u094D\u091F","\u0938\u092A\u094D\u091F\u0947\u0902\u092C\u0930","\u0911\u0915\u094D\u091F\u094B\u092C\u0930","\u0928\u094B\u0935\u094D\u0939\u0947\u0902\u092C\u0930","\u0921\u093F\u0938\u0947\u0902\u092C\u0930"],monthsShort:["\u091C\u093E\u0928\u0947.","\u092B\u0947\u092C\u094D\u0930\u0941.","\u092E\u093E\u0930\u094D\u091A.","\u090F\u092A\u094D\u0930\u093F.","\u092E\u0947.","\u091C\u0942\u0928.","\u091C\u0941\u0932\u0948.","\u0911\u0917.","\u0938\u092A\u094D\u091F\u0947\u0902.","\u0911\u0915\u094D\u091F\u094B.","\u0928\u094B\u0935\u094D\u0939\u0947\u0902.","\u0921\u093F\u0938\u0947\u0902."],monthsParseExact:!0,weekdays:["\u0930\u0935\u093F\u0935\u093E\u0930","\u0938\u094B\u092E\u0935\u093E\u0930","\u092E\u0902\u0917\u0933\u0935\u093E\u0930","\u092C\u0941\u0927\u0935\u093E\u0930","\u0917\u0941\u0930\u0942\u0935\u093E\u0930","\u0936\u0941\u0915\u094D\u0930\u0935\u093E\u0930","\u0936\u0928\u093F\u0935\u093E\u0930"],weekdaysShort:["\u0930\u0935\u093F","\u0938\u094B\u092E","\u092E\u0902\u0917\u0933","\u092C\u0941\u0927","\u0917\u0941\u0930\u0942","\u0936\u0941\u0915\u094D\u0930","\u0936\u0928\u093F"],weekdaysMin:["\u0930","\u0938\u094B","\u092E\u0902","\u092C\u0941","\u0917\u0941","\u0936\u0941","\u0936"],longDateFormat:{LT:"A h:mm \u0935\u093E\u091C\u0924\u093E",LTS:"A h:mm:ss \u0935\u093E\u091C\u0924\u093E",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093E\u091C\u0924\u093E",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093E\u091C\u0924\u093E"},calendar:{sameDay:"[\u0906\u091C] LT",nextDay:"[\u0909\u0926\u094D\u092F\u093E] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093E\u0932] LT",lastWeek:"[\u092E\u093E\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092E\u0927\u094D\u092F\u0947",past:"%s\u092A\u0942\u0930\u094D\u0935\u0940",s:Mi,ss:Mi,m:Mi,mm:Mi,h:Mi,hh:Mi,d:Mi,dd:Mi,M:Mi,MM:Mi,y:Mi,yy:Mi},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(t){return qn[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Bn[t]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(t,i){return 12===t&&(t=0),"\u092A\u0939\u093E\u091F\u0947"===i||"\u0938\u0915\u093E\u0933\u0940"===i?t:"\u0926\u0941\u092A\u093E\u0930\u0940"===i||"\u0938\u093E\u092F\u0902\u0915\u093E\u0933\u0940"===i||"\u0930\u093E\u0924\u094D\u0930\u0940"===i?12<=t?t:t+12:void 0},meridiem:function(t){return 0<=t&&6>t?"\u092A\u0939\u093E\u091F\u0947":12>t?"\u0938\u0915\u093E\u0933\u0940":17>t?"\u0926\u0941\u092A\u093E\u0930\u0940":20>t?"\u0938\u093E\u092F\u0902\u0915\u093E\u0933\u0940":"\u0930\u093E\u0924\u094D\u0930\u0940"},week:{dow:0,doy:6}}),Pe.defineLocale("ms-my",{months:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"],monthsShort:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogs","Sep","Okt","Nov","Dis"],weekdays:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],weekdaysShort:["Ahd","Isn","Sel","Rab","Kha","Jum","Sab"],weekdaysMin:["Ah","Is","Sl","Rb","Km","Jm","Sb"],longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,i){return 12===t&&(t=0),"pagi"===i?t:"tengahari"===i?11<=t?t:t+12:"petang"===i||"malam"===i?t+12:void 0},meridiem:function(t){return 11>t?"pagi":15>t?"tengahari":19>t?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),Pe.defineLocale("ms",{months:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"],monthsShort:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogs","Sep","Okt","Nov","Dis"],weekdays:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],weekdaysShort:["Ahd","Isn","Sel","Rab","Kha","Jum","Sab"],weekdaysMin:["Ah","Is","Sl","Rb","Km","Jm","Sb"],longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,i){return 12===t&&(t=0),"pagi"===i?t:"tengahari"===i?11<=t?t:t+12:"petang"===i||"malam"===i?t+12:void 0},meridiem:function(t){return 11>t?"pagi":15>t?"tengahari":19>t?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),Pe.defineLocale("mt",{months:["Jannar","Frar","Marzu","April","Mejju","\u0120unju","Lulju","Awwissu","Settembru","Ottubru","Novembru","Di\u010Bembru"],monthsShort:["Jan","Fra","Mar","Apr","Mej","\u0120un","Lul","Aww","Set","Ott","Nov","Di\u010B"],weekdays:["Il-\u0126add","It-Tnejn","It-Tlieta","L-Erbg\u0127a","Il-\u0126amis","Il-\u0120img\u0127a","Is-Sibt"],weekdaysShort:["\u0126ad","Tne","Tli","Erb","\u0126am","\u0120im","Sib"],weekdaysMin:["\u0126a","Tn","Tl","Er","\u0126a","\u0120i","Si"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:1,doy:4}});var Zn={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},Qn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};Pe.defineLocale("my",{months:["\u1007\u1014\u103A\u1014\u101D\u102B\u101B\u102E","\u1016\u1031\u1016\u1031\u102C\u103A\u101D\u102B\u101B\u102E","\u1019\u1010\u103A","\u1027\u1015\u103C\u102E","\u1019\u1031","\u1007\u103D\u1014\u103A","\u1007\u1030\u101C\u102D\u102F\u1004\u103A","\u101E\u103C\u1002\u102F\u1010\u103A","\u1005\u1000\u103A\u1010\u1004\u103A\u1018\u102C","\u1021\u1031\u102C\u1000\u103A\u1010\u102D\u102F\u1018\u102C","\u1014\u102D\u102F\u101D\u1004\u103A\u1018\u102C","\u1012\u102E\u1007\u1004\u103A\u1018\u102C"],monthsShort:["\u1007\u1014\u103A","\u1016\u1031","\u1019\u1010\u103A","\u1015\u103C\u102E","\u1019\u1031","\u1007\u103D\u1014\u103A","\u101C\u102D\u102F\u1004\u103A","\u101E\u103C","\u1005\u1000\u103A","\u1021\u1031\u102C\u1000\u103A","\u1014\u102D\u102F","\u1012\u102E"],weekdays:["\u1010\u1014\u1004\u103A\u1039\u1002\u1014\u103D\u1031","\u1010\u1014\u1004\u103A\u1039\u101C\u102C","\u1021\u1004\u103A\u1039\u1002\u102B","\u1017\u102F\u1012\u1039\u1013\u101F\u1030\u1038","\u1000\u103C\u102C\u101E\u1015\u1010\u1031\u1038","\u101E\u1031\u102C\u1000\u103C\u102C","\u1005\u1014\u1031"],weekdaysShort:["\u1014\u103D\u1031","\u101C\u102C","\u1002\u102B","\u101F\u1030\u1038","\u1000\u103C\u102C","\u101E\u1031\u102C","\u1014\u1031"],weekdaysMin:["\u1014\u103D\u1031","\u101C\u102C","\u1002\u102B","\u101F\u1030\u1038","\u1000\u103C\u102C","\u101E\u1031\u102C","\u1014\u1031"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101A\u1014\u1031.] LT [\u1019\u103E\u102C]",nextDay:"[\u1019\u1014\u1000\u103A\u1016\u103C\u1014\u103A] LT [\u1019\u103E\u102C]",nextWeek:"dddd LT [\u1019\u103E\u102C]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103E\u102C]",lastWeek:"[\u1015\u103C\u102E\u1038\u1001\u1032\u1037\u101E\u1031\u102C] dddd LT [\u1019\u103E\u102C]",sameElse:"L"},relativeTime:{future:"\u101C\u102C\u1019\u100A\u103A\u1037 %s \u1019\u103E\u102C",past:"\u101C\u103D\u1014\u103A\u1001\u1032\u1037\u101E\u1031\u102C %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103A.\u1021\u1014\u100A\u103A\u1038\u1004\u101A\u103A",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103A",m:"\u1010\u1005\u103A\u1019\u102D\u1014\u1005\u103A",mm:"%d \u1019\u102D\u1014\u1005\u103A",h:"\u1010\u1005\u103A\u1014\u102C\u101B\u102E",hh:"%d \u1014\u102C\u101B\u102E",d:"\u1010\u1005\u103A\u101B\u1000\u103A",dd:"%d \u101B\u1000\u103A",M:"\u1010\u1005\u103A\u101C",MM:"%d \u101C",y:"\u1010\u1005\u103A\u1014\u103E\u1005\u103A",yy:"%d \u1014\u103E\u1005\u103A"},preparse:function(t){return t.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(t){return Qn[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Zn[t]})},week:{dow:1,doy:4}}),Pe.defineLocale("nb",{months:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],monthsShort:["jan.","feb.","mars","apr.","mai","juni","juli","aug.","sep.","okt.","nov.","des."],monthsParseExact:!0,weekdays:["s\xF8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xF8rdag"],weekdaysShort:["s\xF8.","ma.","ti.","on.","to.","fr.","l\xF8."],weekdaysMin:["s\xF8","ma","ti","on","to","fr","l\xF8"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xE5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en m\xE5ned",MM:"%d m\xE5neder",y:"ett \xE5r",yy:"%d \xE5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Xn={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096A",5:"\u096B",6:"\u096C",7:"\u096D",8:"\u096E",9:"\u096F",0:"\u0966"},hs={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};Pe.defineLocale("ne",{months:["\u091C\u0928\u0935\u0930\u0940","\u092B\u0947\u092C\u094D\u0930\u0941\u0935\u0930\u0940","\u092E\u093E\u0930\u094D\u091A","\u0905\u092A\u094D\u0930\u093F\u0932","\u092E\u0908","\u091C\u0941\u0928","\u091C\u0941\u0932\u093E\u0908","\u0905\u0917\u0937\u094D\u091F","\u0938\u0947\u092A\u094D\u091F\u0947\u092E\u094D\u092C\u0930","\u0905\u0915\u094D\u091F\u094B\u092C\u0930","\u0928\u094B\u092D\u0947\u092E\u094D\u092C\u0930","\u0921\u093F\u0938\u0947\u092E\u094D\u092C\u0930"],monthsShort:["\u091C\u0928.","\u092B\u0947\u092C\u094D\u0930\u0941.","\u092E\u093E\u0930\u094D\u091A","\u0905\u092A\u094D\u0930\u093F.","\u092E\u0908","\u091C\u0941\u0928","\u091C\u0941\u0932\u093E\u0908.","\u0905\u0917.","\u0938\u0947\u092A\u094D\u091F.","\u0905\u0915\u094D\u091F\u094B.","\u0928\u094B\u092D\u0947.","\u0921\u093F\u0938\u0947."],monthsParseExact:!0,weekdays:["\u0906\u0907\u0924\u092C\u093E\u0930","\u0938\u094B\u092E\u092C\u093E\u0930","\u092E\u0919\u094D\u0917\u0932\u092C\u093E\u0930","\u092C\u0941\u0927\u092C\u093E\u0930","\u092C\u093F\u0939\u093F\u092C\u093E\u0930","\u0936\u0941\u0915\u094D\u0930\u092C\u093E\u0930","\u0936\u0928\u093F\u092C\u093E\u0930"],weekdaysShort:["\u0906\u0907\u0924.","\u0938\u094B\u092E.","\u092E\u0919\u094D\u0917\u0932.","\u092C\u0941\u0927.","\u092C\u093F\u0939\u093F.","\u0936\u0941\u0915\u094D\u0930.","\u0936\u0928\u093F."],weekdaysMin:["\u0906.","\u0938\u094B.","\u092E\u0902.","\u092C\u0941.","\u092C\u093F.","\u0936\u0941.","\u0936."],weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094B h:mm \u092C\u091C\u0947",LTS:"A\u0915\u094B h:mm:ss \u092C\u091C\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094B h:mm \u092C\u091C\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094B h:mm \u092C\u091C\u0947"},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(t){return hs[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Xn[t]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(t,i){return 12===t&&(t=0),"\u0930\u093E\u0924\u093F"===i?4>t?t:t+12:"\u092C\u093F\u0939\u093E\u0928"===i?t:"\u0926\u093F\u0909\u0901\u0938\u094B"===i?10<=t?t:t+12:"\u0938\u093E\u0901\u091D"===i?t+12:void 0},meridiem:function(t){return 3>t?"\u0930\u093E\u0924\u093F":12>t?"\u092C\u093F\u0939\u093E\u0928":16>t?"\u0926\u093F\u0909\u0901\u0938\u094B":20>t?"\u0938\u093E\u0901\u091D":"\u0930\u093E\u0924\u093F"},calendar:{sameDay:"[\u0906\u091C] LT",nextDay:"[\u092D\u094B\u0932\u093F] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094B] dddd[,] LT",lastDay:"[\u0939\u093F\u091C\u094B] LT",lastWeek:"[\u0917\u090F\u0915\u094B] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092E\u093E",past:"%s \u0905\u0917\u093E\u0921\u093F",s:"\u0915\u0947\u0939\u0940 \u0915\u094D\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094D\u0921",m:"\u090F\u0915 \u092E\u093F\u0928\u0947\u091F",mm:"%d \u092E\u093F\u0928\u0947\u091F",h:"\u090F\u0915 \u0918\u0923\u094D\u091F\u093E",hh:"%d \u0918\u0923\u094D\u091F\u093E",d:"\u090F\u0915 \u0926\u093F\u0928",dd:"%d \u0926\u093F\u0928",M:"\u090F\u0915 \u092E\u0939\u093F\u0928\u093E",MM:"%d \u092E\u0939\u093F\u0928\u093E",y:"\u090F\u0915 \u092C\u0930\u094D\u0937",yy:"%d \u092C\u0930\u094D\u0937"},week:{dow:0,doy:6}});var _s=["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],vs=["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],fs=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],bs=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;Pe.defineLocale("nl-be",{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsShort:function(t,e){return t?/-MMM-/.test(e)?vs[t.month()]:_s[t.month()]:_s},monthsRegex:bs,monthsShortRegex:bs,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:fs,longMonthsParse:fs,shortMonthsParse:fs,weekdays:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],weekdaysShort:["zo.","ma.","di.","wo.","do.","vr.","za."],weekdaysMin:["zo","ma","di","wo","do","vr","za"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xE9\xE9n minuut",mm:"%d minuten",h:"\xE9\xE9n uur",hh:"%d uur",d:"\xE9\xE9n dag",dd:"%d dagen",M:"\xE9\xE9n maand",MM:"%d maanden",y:"\xE9\xE9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}});var ys=["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],As=["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],xs=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],ws=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;Pe.defineLocale("nl",{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsShort:function(t,e){return t?/-MMM-/.test(e)?As[t.month()]:ys[t.month()]:ys},monthsRegex:ws,monthsShortRegex:ws,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:xs,longMonthsParse:xs,shortMonthsParse:xs,weekdays:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],weekdaysShort:["zo.","ma.","di.","wo.","do.","vr.","za."],weekdaysMin:["zo","ma","di","wo","do","vr","za"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xE9\xE9n minuut",mm:"%d minuten",h:"\xE9\xE9n uur",hh:"%d uur",d:"\xE9\xE9n dag",dd:"%d dagen",w:"\xE9\xE9n week",ww:"%d weken",M:"\xE9\xE9n maand",MM:"%d maanden",y:"\xE9\xE9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}}),Pe.defineLocale("nn",{months:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],monthsShort:["jan.","feb.","mars","apr.","mai","juni","juli","aug.","sep.","okt.","nov.","des."],monthsParseExact:!0,weekdays:["sundag","m\xE5ndag","tysdag","onsdag","torsdag","fredag","laurdag"],weekdaysShort:["su.","m\xE5.","ty.","on.","to.","fr.","lau."],weekdaysMin:["su","m\xE5","ty","on","to","fr","la"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xE5r klokka] LT",lastWeek:"[F\xF8reg\xE5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xE5nad",MM:"%d m\xE5nader",y:"eit \xE5r",yy:"%d \xE5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Pe.defineLocale("oc-lnc",{months:{standalone:["geni\xE8r","febri\xE8r","mar\xE7","abril","mai","junh","julhet","agost","setembre","oct\xF2bre","novembre","decembre"],format:["de geni\xE8r","de febri\xE8r","de mar\xE7","d'abril","de mai","de junh","de julhet","d'agost","de setembre","d'oct\xF2bre","de novembre","de decembre"],isFormat:/D[oD]?(\s)+MMMM/},monthsShort:["gen.","febr.","mar\xE7","abr.","mai","junh","julh.","ago.","set.","oct.","nov.","dec."],monthsParseExact:!0,weekdays:["dimenge","diluns","dimars","dim\xE8cres","dij\xF2us","divendres","dissabte"],weekdaysShort:["dg.","dl.","dm.","dc.","dj.","dv.","ds."],weekdaysMin:["dg","dl","dm","dc","dj","dv","ds"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xE8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xE8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xED %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(t,e){return t+("w"!==e&&"W"!==e?1===t?"r":2===t?"n":3===t?"r":4===t?"t":"\xE8":"a")},week:{dow:1,doy:4}});var ks={1:"\u0A67",2:"\u0A68",3:"\u0A69",4:"\u0A6A",5:"\u0A6B",6:"\u0A6C",7:"\u0A6D",8:"\u0A6E",9:"\u0A6F",0:"\u0A66"},Ss={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};Pe.defineLocale("pa-in",{months:["\u0A1C\u0A28\u0A35\u0A30\u0A40","\u0A2B\u0A3C\u0A30\u0A35\u0A30\u0A40","\u0A2E\u0A3E\u0A30\u0A1A","\u0A05\u0A2A\u0A4D\u0A30\u0A48\u0A32","\u0A2E\u0A08","\u0A1C\u0A42\u0A28","\u0A1C\u0A41\u0A32\u0A3E\u0A08","\u0A05\u0A17\u0A38\u0A24","\u0A38\u0A24\u0A70\u0A2C\u0A30","\u0A05\u0A15\u0A24\u0A42\u0A2C\u0A30","\u0A28\u0A35\u0A70\u0A2C\u0A30","\u0A26\u0A38\u0A70\u0A2C\u0A30"],monthsShort:["\u0A1C\u0A28\u0A35\u0A30\u0A40","\u0A2B\u0A3C\u0A30\u0A35\u0A30\u0A40","\u0A2E\u0A3E\u0A30\u0A1A","\u0A05\u0A2A\u0A4D\u0A30\u0A48\u0A32","\u0A2E\u0A08","\u0A1C\u0A42\u0A28","\u0A1C\u0A41\u0A32\u0A3E\u0A08","\u0A05\u0A17\u0A38\u0A24","\u0A38\u0A24\u0A70\u0A2C\u0A30","\u0A05\u0A15\u0A24\u0A42\u0A2C\u0A30","\u0A28\u0A35\u0A70\u0A2C\u0A30","\u0A26\u0A38\u0A70\u0A2C\u0A30"],weekdays:["\u0A10\u0A24\u0A35\u0A3E\u0A30","\u0A38\u0A4B\u0A2E\u0A35\u0A3E\u0A30","\u0A2E\u0A70\u0A17\u0A32\u0A35\u0A3E\u0A30","\u0A2C\u0A41\u0A27\u0A35\u0A3E\u0A30","\u0A35\u0A40\u0A30\u0A35\u0A3E\u0A30","\u0A38\u0A3C\u0A41\u0A71\u0A15\u0A30\u0A35\u0A3E\u0A30","\u0A38\u0A3C\u0A28\u0A40\u0A1A\u0A30\u0A35\u0A3E\u0A30"],weekdaysShort:["\u0A10\u0A24","\u0A38\u0A4B\u0A2E","\u0A2E\u0A70\u0A17\u0A32","\u0A2C\u0A41\u0A27","\u0A35\u0A40\u0A30","\u0A38\u0A3C\u0A41\u0A15\u0A30","\u0A38\u0A3C\u0A28\u0A40"],weekdaysMin:["\u0A10\u0A24","\u0A38\u0A4B\u0A2E","\u0A2E\u0A70\u0A17\u0A32","\u0A2C\u0A41\u0A27","\u0A35\u0A40\u0A30","\u0A38\u0A3C\u0A41\u0A15\u0A30","\u0A38\u0A3C\u0A28\u0A40"],longDateFormat:{LT:"A h:mm \u0A35\u0A1C\u0A47",LTS:"A h:mm:ss \u0A35\u0A1C\u0A47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0A35\u0A1C\u0A47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0A35\u0A1C\u0A47"},calendar:{sameDay:"[\u0A05\u0A1C] LT",nextDay:"[\u0A15\u0A32] LT",nextWeek:"[\u0A05\u0A17\u0A32\u0A3E] dddd, LT",lastDay:"[\u0A15\u0A32] LT",lastWeek:"[\u0A2A\u0A3F\u0A1B\u0A32\u0A47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0A35\u0A3F\u0A71\u0A1A",past:"%s \u0A2A\u0A3F\u0A1B\u0A32\u0A47",s:"\u0A15\u0A41\u0A1D \u0A38\u0A15\u0A3F\u0A70\u0A1F",ss:"%d \u0A38\u0A15\u0A3F\u0A70\u0A1F",m:"\u0A07\u0A15 \u0A2E\u0A3F\u0A70\u0A1F",mm:"%d \u0A2E\u0A3F\u0A70\u0A1F",h:"\u0A07\u0A71\u0A15 \u0A18\u0A70\u0A1F\u0A3E",hh:"%d \u0A18\u0A70\u0A1F\u0A47",d:"\u0A07\u0A71\u0A15 \u0A26\u0A3F\u0A28",dd:"%d \u0A26\u0A3F\u0A28",M:"\u0A07\u0A71\u0A15 \u0A2E\u0A39\u0A40\u0A28\u0A3E",MM:"%d \u0A2E\u0A39\u0A40\u0A28\u0A47",y:"\u0A07\u0A71\u0A15 \u0A38\u0A3E\u0A32",yy:"%d \u0A38\u0A3E\u0A32"},preparse:function(t){return t.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(t){return Ss[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return ks[t]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(t,i){return 12===t&&(t=0),"\u0A30\u0A3E\u0A24"===i?4>t?t:t+12:"\u0A38\u0A35\u0A47\u0A30"===i?t:"\u0A26\u0A41\u0A2A\u0A39\u0A3F\u0A30"===i?10<=t?t:t+12:"\u0A38\u0A3C\u0A3E\u0A2E"===i?t+12:void 0},meridiem:function(t){return 4>t?"\u0A30\u0A3E\u0A24":10>t?"\u0A38\u0A35\u0A47\u0A30":17>t?"\u0A26\u0A41\u0A2A\u0A39\u0A3F\u0A30":20>t?"\u0A38\u0A3C\u0A3E\u0A2E":"\u0A30\u0A3E\u0A24"},week:{dow:0,doy:6}});var Cs=["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017Adziernik","listopad","grudzie\u0144"],Ms=["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrze\u015Bnia","pa\u017Adziernika","listopada","grudnia"],Ls=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];Pe.defineLocale("pl",{months:function(t,e){return t?/D MMMM/.test(e)?Ms[t.month()]:Cs[t.month()]:Cs},monthsShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa\u017A","lis","gru"],monthsParse:Ls,longMonthsParse:Ls,shortMonthsParse:Ls,weekdays:["niedziela","poniedzia\u0142ek","wtorek","\u015Broda","czwartek","pi\u0105tek","sobota"],weekdaysShort:["ndz","pon","wt","\u015Br","czw","pt","sob"],weekdaysMin:["Nd","Pn","Wt","\u015Ar","Cz","Pt","So"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015B o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015Brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT";}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015Brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT";}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:Ti,m:Ti,mm:Ti,h:Ti,hh:Ti,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:Ti,M:"miesi\u0105c",MM:Ti,y:"rok",yy:Ti},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Pe.defineLocale("pt-br",{months:["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],monthsShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],weekdays:["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],weekdaysShort:["dom","seg","ter","qua","qui","sex","s\xE1b"],weekdaysMin:["do","2\xAA","3\xAA","4\xAA","5\xAA","6\xAA","s\xE1"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xE0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xE0s] HH:mm"},calendar:{sameDay:"[Hoje \xE0s] LT",nextDay:"[Amanh\xE3 \xE0s] LT",nextWeek:"dddd [\xE0s] LT",lastDay:"[Ontem \xE0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xDAltimo] dddd [\xE0s] LT":"[\xDAltima] dddd [\xE0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xE1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xEAs",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",invalidDate:"Data inv\xE1lida"}),Pe.defineLocale("pt",{months:["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],monthsShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],weekdays:["Domingo","Segunda-feira","Ter\xE7a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S\xE1bado"],weekdaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","S\xE1b"],weekdaysMin:["Do","2\xAA","3\xAA","4\xAA","5\xAA","6\xAA","S\xE1"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xE0s] LT",nextDay:"[Amanh\xE3 \xE0s] LT",nextWeek:"dddd [\xE0s] LT",lastDay:"[Ontem \xE0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xDAltimo] dddd [\xE0s] LT":"[\xDAltima] dddd [\xE0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xE1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xEAs",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:1,doy:4}}),Pe.defineLocale("ro",{months:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],monthsShort:["ian.","feb.","mart.","apr.","mai","iun.","iul.","aug.","sept.","oct.","nov.","dec."],monthsParseExact:!0,weekdays:["duminic\u0103","luni","mar\u021Bi","miercuri","joi","vineri","s\xE2mb\u0103t\u0103"],weekdaysShort:["Dum","Lun","Mar","Mie","Joi","Vin","S\xE2m"],weekdaysMin:["Du","Lu","Ma","Mi","Jo","Vi","S\xE2"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xE2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xEEn urm\u0103",s:"c\xE2teva secunde",ss:Ei,m:"un minut",mm:Ei,h:"o or\u0103",hh:Ei,d:"o zi",dd:Ei,w:"o s\u0103pt\u0103m\xE2n\u0103",ww:Ei,M:"o lun\u0103",MM:Ei,y:"un an",yy:Ei},week:{dow:1,doy:7}});var Ts=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];Pe.defineLocale("ru",{months:{format:["\u044F\u043D\u0432\u0430\u0440\u044F","\u0444\u0435\u0432\u0440\u0430\u043B\u044F","\u043C\u0430\u0440\u0442\u0430","\u0430\u043F\u0440\u0435\u043B\u044F","\u043C\u0430\u044F","\u0438\u044E\u043D\u044F","\u0438\u044E\u043B\u044F","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F","\u043E\u043A\u0442\u044F\u0431\u0440\u044F","\u043D\u043E\u044F\u0431\u0440\u044F","\u0434\u0435\u043A\u0430\u0431\u0440\u044F"],standalone:["\u044F\u043D\u0432\u0430\u0440\u044C","\u0444\u0435\u0432\u0440\u0430\u043B\u044C","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0435\u043B\u044C","\u043C\u0430\u0439","\u0438\u044E\u043D\u044C","\u0438\u044E\u043B\u044C","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u043E\u043A\u0442\u044F\u0431\u0440\u044C","\u043D\u043E\u044F\u0431\u0440\u044C","\u0434\u0435\u043A\u0430\u0431\u0440\u044C"]},monthsShort:{format:["\u044F\u043D\u0432.","\u0444\u0435\u0432\u0440.","\u043C\u0430\u0440.","\u0430\u043F\u0440.","\u043C\u0430\u044F","\u0438\u044E\u043D\u044F","\u0438\u044E\u043B\u044F","\u0430\u0432\u0433.","\u0441\u0435\u043D\u0442.","\u043E\u043A\u0442.","\u043D\u043E\u044F\u0431.","\u0434\u0435\u043A."],standalone:["\u044F\u043D\u0432.","\u0444\u0435\u0432\u0440.","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440.","\u043C\u0430\u0439","\u0438\u044E\u043D\u044C","\u0438\u044E\u043B\u044C","\u0430\u0432\u0433.","\u0441\u0435\u043D\u0442.","\u043E\u043A\u0442.","\u043D\u043E\u044F\u0431.","\u0434\u0435\u043A."]},weekdays:{standalone:["\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043F\u044F\u0442\u043D\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043E\u0442\u0430"],format:["\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u0435\u0434\u0443","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043F\u044F\u0442\u043D\u0438\u0446\u0443","\u0441\u0443\u0431\u0431\u043E\u0442\u0443"],isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:["\u0432\u0441","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],weekdaysMin:["\u0432\u0441","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],monthsParse:Ts,longMonthsParse:Ts,shortMonthsParse:Ts,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043E\u0434\u043D\u044F, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[\u0412\u043E] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E] dddd, [\u0432] LT";}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[\u0412\u043E] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043F\u0440\u043E\u0448\u043B\u043E\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043F\u0440\u043E\u0448\u043B\u044B\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043F\u0440\u043E\u0448\u043B\u0443\u044E] dddd, [\u0432] LT";}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043D\u0430\u0437\u0430\u0434",s:"\u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0441\u0435\u043A\u0443\u043D\u0434",ss:Di,m:Di,mm:Di,h:"\u0447\u0430\u0441",hh:Di,d:"\u0434\u0435\u043D\u044C",dd:Di,w:"\u043D\u0435\u0434\u0435\u043B\u044F",ww:Di,M:"\u043C\u0435\u0441\u044F\u0446",MM:Di,y:"\u0433\u043E\u0434",yy:Di},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(t){return /^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(t)},meridiem:function(t){return 4>t?"\u043D\u043E\u0447\u0438":12>t?"\u0443\u0442\u0440\u0430":17>t?"\u0434\u043D\u044F":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(t,e){return"M"===e||"d"===e||"DDD"===e?t+"-\u0439":"D"===e?t+"-\u0433\u043E":"w"===e||"W"===e?t+"-\u044F":t},week:{dow:1,doy:4}});var Es=["\u062C\u0646\u0648\u0631\u064A","\u0641\u064A\u0628\u0631\u0648\u0631\u064A","\u0645\u0627\u0631\u0686","\u0627\u067E\u0631\u064A\u0644","\u0645\u0626\u064A","\u062C\u0648\u0646","\u062C\u0648\u0644\u0627\u0621\u0650","\u0622\u06AF\u0633\u067D","\u0633\u064A\u067E\u067D\u0645\u0628\u0631","\u0622\u06AA\u067D\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068A\u0633\u0645\u0628\u0631"],Ds=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06B1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639","\u0687\u0646\u0687\u0631"];Pe.defineLocale("sd",{months:Es,monthsShort:Es,weekdays:Ds,weekdaysShort:Ds,weekdaysMin:Ds,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060C D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(t){return"\u0634\u0627\u0645"===t},meridiem:function(t){return 12>t?"\u0635\u0628\u062D":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06BB\u064A] LT",nextWeek:"dddd [\u0627\u06B3\u064A\u0646 \u0647\u0641\u062A\u064A \u062A\u064A] LT",lastDay:"[\u06AA\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06AF\u0632\u0631\u064A\u0644 \u0647\u0641\u062A\u064A] dddd [\u062A\u064A] LT",sameElse:"L"},relativeTime:{future:"%s \u067E\u0648\u0621",past:"%s \u0627\u06B3",s:"\u0686\u0646\u062F \u0633\u064A\u06AA\u0646\u068A",ss:"%d \u0633\u064A\u06AA\u0646\u068A",m:"\u0647\u06AA \u0645\u0646\u067D",mm:"%d \u0645\u0646\u067D",h:"\u0647\u06AA \u06AA\u0644\u0627\u06AA",hh:"%d \u06AA\u0644\u0627\u06AA",d:"\u0647\u06AA \u068F\u064A\u0646\u0647\u0646",dd:"%d \u068F\u064A\u0646\u0647\u0646",M:"\u0647\u06AA \u0645\u0647\u064A\u0646\u0648",MM:"%d \u0645\u0647\u064A\u0646\u0627",y:"\u0647\u06AA \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060C")},week:{dow:1,doy:4}}),Pe.defineLocale("se",{months:["o\u0111\u0111ajagem\xE1nnu","guovvam\xE1nnu","njuk\u010Dam\xE1nnu","cuo\u014Bom\xE1nnu","miessem\xE1nnu","geassem\xE1nnu","suoidnem\xE1nnu","borgem\xE1nnu","\u010Dak\u010Dam\xE1nnu","golggotm\xE1nnu","sk\xE1bmam\xE1nnu","juovlam\xE1nnu"],monthsShort:["o\u0111\u0111j","guov","njuk","cuo","mies","geas","suoi","borg","\u010Dak\u010D","golg","sk\xE1b","juov"],weekdays:["sotnabeaivi","vuoss\xE1rga","ma\u014B\u014Beb\xE1rga","gaskavahkku","duorastat","bearjadat","l\xE1vvardat"],weekdaysShort:["sotn","vuos","ma\u014B","gask","duor","bear","l\xE1v"],weekdaysMin:["s","v","m","g","d","b","L"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017Ees",past:"ma\u014Bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xE1nnu",MM:"%d m\xE1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Pe.defineLocale("si",{months:["\u0DA2\u0DB1\u0DC0\u0DCF\u0DBB\u0DD2","\u0DB4\u0DD9\u0DB6\u0DBB\u0DC0\u0DCF\u0DBB\u0DD2","\u0DB8\u0DCF\u0DBB\u0DCA\u0DAD\u0DD4","\u0D85\u0DB4\u0DCA\u200D\u0DBB\u0DDA\u0DBD\u0DCA","\u0DB8\u0DD0\u0DBA\u0DD2","\u0DA2\u0DD6\u0DB1\u0DD2","\u0DA2\u0DD6\u0DBD\u0DD2","\u0D85\u0D9C\u0DDD\u0DC3\u0DCA\u0DAD\u0DD4","\u0DC3\u0DD0\u0DB4\u0DCA\u0DAD\u0DD0\u0DB8\u0DCA\u0DB6\u0DBB\u0DCA","\u0D94\u0D9A\u0DCA\u0DAD\u0DDD\u0DB6\u0DBB\u0DCA","\u0DB1\u0DDC\u0DC0\u0DD0\u0DB8\u0DCA\u0DB6\u0DBB\u0DCA","\u0DAF\u0DD9\u0DC3\u0DD0\u0DB8\u0DCA\u0DB6\u0DBB\u0DCA"],monthsShort:["\u0DA2\u0DB1","\u0DB4\u0DD9\u0DB6","\u0DB8\u0DCF\u0DBB\u0DCA","\u0D85\u0DB4\u0DCA","\u0DB8\u0DD0\u0DBA\u0DD2","\u0DA2\u0DD6\u0DB1\u0DD2","\u0DA2\u0DD6\u0DBD\u0DD2","\u0D85\u0D9C\u0DDD","\u0DC3\u0DD0\u0DB4\u0DCA","\u0D94\u0D9A\u0DCA","\u0DB1\u0DDC\u0DC0\u0DD0","\u0DAF\u0DD9\u0DC3\u0DD0"],weekdays:["\u0D89\u0DBB\u0DD2\u0DAF\u0DCF","\u0DC3\u0DB3\u0DD4\u0DAF\u0DCF","\u0D85\u0D9F\u0DC4\u0DBB\u0DD4\u0DC0\u0DCF\u0DAF\u0DCF","\u0DB6\u0DAF\u0DCF\u0DAF\u0DCF","\u0DB6\u0DCA\u200D\u0DBB\u0DC4\u0DC3\u0DCA\u0DB4\u0DAD\u0DD2\u0DB1\u0DCA\u0DAF\u0DCF","\u0DC3\u0DD2\u0D9A\u0DD4\u0DBB\u0DCF\u0DAF\u0DCF","\u0DC3\u0DD9\u0DB1\u0DC3\u0DD4\u0DBB\u0DCF\u0DAF\u0DCF"],weekdaysShort:["\u0D89\u0DBB\u0DD2","\u0DC3\u0DB3\u0DD4","\u0D85\u0D9F","\u0DB6\u0DAF\u0DCF","\u0DB6\u0DCA\u200D\u0DBB\u0DC4","\u0DC3\u0DD2\u0D9A\u0DD4","\u0DC3\u0DD9\u0DB1"],weekdaysMin:["\u0D89","\u0DC3","\u0D85","\u0DB6","\u0DB6\u0DCA\u200D\u0DBB","\u0DC3\u0DD2","\u0DC3\u0DD9"],weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0DC0\u0DD0\u0DB1\u0DD2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0D85\u0DAF] LT[\u0DA7]",nextDay:"[\u0DC4\u0DD9\u0DA7] LT[\u0DA7]",nextWeek:"dddd LT[\u0DA7]",lastDay:"[\u0D8A\u0DBA\u0DDA] LT[\u0DA7]",lastWeek:"[\u0DB4\u0DC3\u0DD4\u0D9C\u0DD2\u0DBA] dddd LT[\u0DA7]",sameElse:"L"},relativeTime:{future:"%s\u0D9A\u0DD2\u0DB1\u0DCA",past:"%s\u0D9A\u0DA7 \u0DB4\u0DD9\u0DBB",s:"\u0DAD\u0DAD\u0DCA\u0DB4\u0DBB \u0D9A\u0DD2\u0DC4\u0DD2\u0DB4\u0DBA",ss:"\u0DAD\u0DAD\u0DCA\u0DB4\u0DBB %d",m:"\u0DB8\u0DD2\u0DB1\u0DD2\u0DAD\u0DCA\u0DAD\u0DD4\u0DC0",mm:"\u0DB8\u0DD2\u0DB1\u0DD2\u0DAD\u0DCA\u0DAD\u0DD4 %d",h:"\u0DB4\u0DD0\u0DBA",hh:"\u0DB4\u0DD0\u0DBA %d",d:"\u0DAF\u0DD2\u0DB1\u0DBA",dd:"\u0DAF\u0DD2\u0DB1 %d",M:"\u0DB8\u0DCF\u0DC3\u0DBA",MM:"\u0DB8\u0DCF\u0DC3 %d",y:"\u0DC0\u0DC3\u0DBB",yy:"\u0DC0\u0DC3\u0DBB %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(t){return t+" \u0DC0\u0DD0\u0DB1\u0DD2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(t){return"\u0DB4.\u0DC0."===t||"\u0DB4\u0DC3\u0DCA \u0DC0\u0DBB\u0DD4"===t},meridiem:function(i,e,a){return 11<i?a?"\u0DB4.\u0DC0.":"\u0DB4\u0DC3\u0DCA \u0DC0\u0DBB\u0DD4":a?"\u0DB4\u0DD9.\u0DC0.":"\u0DB4\u0DD9\u0DBB \u0DC0\u0DBB\u0DD4"}});Pe.defineLocale("sk",{months:["janu\xE1r","febru\xE1r","marec","apr\xEDl","m\xE1j","j\xFAn","j\xFAl","august","september","okt\xF3ber","november","december"],monthsShort:["jan","feb","mar","apr","m\xE1j","j\xFAn","j\xFAl","aug","sep","okt","nov","dec"],weekdays:["nede\u013Ea","pondelok","utorok","streda","\u0161tvrtok","piatok","sobota"],weekdaysShort:["ne","po","ut","st","\u0161t","pi","so"],weekdaysMin:["ne","po","ut","st","\u0161t","pi","so"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013Eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT";}},lastDay:"[v\u010Dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xFA nede\u013Eu o] LT";case 1:case 2:return"[minul\xFD] dddd [o] LT";case 3:return"[minul\xFA stredu o] LT";case 4:case 5:return"[minul\xFD] dddd [o] LT";case 6:return"[minul\xFA sobotu o] LT";}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:Yi,ss:Yi,m:Yi,mm:Yi,h:Yi,hh:Yi,d:Yi,dd:Yi,M:Yi,MM:Yi,y:Yi,yy:Yi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Pe.defineLocale("sl",{months:["januar","februar","marec","april","maj","junij","julij","avgust","september","oktober","november","december"],monthsShort:["jan.","feb.","mar.","apr.","maj.","jun.","jul.","avg.","sep.","okt.","nov.","dec."],monthsParseExact:!0,weekdays:["nedelja","ponedeljek","torek","sreda","\u010Detrtek","petek","sobota"],weekdaysShort:["ned.","pon.","tor.","sre.","\u010Det.","pet.","sob."],weekdaysMin:["ne","po","to","sr","\u010De","pe","so"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT";}},lastDay:"[v\u010Deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT";}},sameElse:"L"},relativeTime:{future:"\u010Dez %s",past:"pred %s",s:Ni,ss:Ni,m:Ni,mm:Ni,h:Ni,hh:Ni,d:Ni,dd:Ni,M:Ni,MM:Ni,y:Ni,yy:Ni},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),Pe.defineLocale("sq",{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","N\xEBntor","Dhjetor"],monthsShort:["Jan","Shk","Mar","Pri","Maj","Qer","Kor","Gus","Sht","Tet","N\xEBn","Dhj"],weekdays:["E Diel","E H\xEBn\xEB","E Mart\xEB","E M\xEBrkur\xEB","E Enjte","E Premte","E Shtun\xEB"],weekdaysShort:["Die","H\xEBn","Mar","M\xEBr","Enj","Pre","Sht"],weekdaysMin:["D","H","Ma","M\xEB","E","P","Sh"],weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t){return 12>t?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xEB] LT",nextDay:"[Nes\xEBr n\xEB] LT",nextWeek:"dddd [n\xEB] LT",lastDay:"[Dje n\xEB] LT",lastWeek:"dddd [e kaluar n\xEB] LT",sameElse:"L"},relativeTime:{future:"n\xEB %s",past:"%s m\xEB par\xEB",s:"disa sekonda",ss:"%d sekonda",m:"nj\xEB minut\xEB",mm:"%d minuta",h:"nj\xEB or\xEB",hh:"%d or\xEB",d:"nj\xEB dit\xEB",dd:"%d dit\xEB",M:"nj\xEB muaj",MM:"%d muaj",y:"nj\xEB vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Is={words:{ss:["\u0441\u0435\u043A\u0443\u043D\u0434\u0430","\u0441\u0435\u043A\u0443\u043D\u0434\u0435","\u0441\u0435\u043A\u0443\u043D\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043D \u043C\u0438\u043D\u0443\u0442","\u0458\u0435\u0434\u043D\u0435 \u043C\u0438\u043D\u0443\u0442\u0435"],mm:["\u043C\u0438\u043D\u0443\u0442","\u043C\u0438\u043D\u0443\u0442\u0435","\u043C\u0438\u043D\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043D \u0441\u0430\u0442","\u0458\u0435\u0434\u043D\u043E\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],dd:["\u0434\u0430\u043D","\u0434\u0430\u043D\u0430","\u0434\u0430\u043D\u0430"],MM:["\u043C\u0435\u0441\u0435\u0446","\u043C\u0435\u0441\u0435\u0446\u0430","\u043C\u0435\u0441\u0435\u0446\u0438"],yy:["\u0433\u043E\u0434\u0438\u043D\u0430","\u0433\u043E\u0434\u0438\u043D\u0435","\u0433\u043E\u0434\u0438\u043D\u0430"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:2<=t&&4>=t?e[1]:e[2]},translate:function(i,e,a){var t=Is.words[a];return 1===a.length?e?t[0]:t[1]:i+" "+Is.correctGrammaticalCase(i,t)}};Pe.defineLocale("sr-cyrl",{months:["\u0458\u0430\u043D\u0443\u0430\u0440","\u0444\u0435\u0431\u0440\u0443\u0430\u0440","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0438\u043B","\u043C\u0430\u0458","\u0458\u0443\u043D","\u0458\u0443\u043B","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043F\u0442\u0435\u043C\u0431\u0430\u0440","\u043E\u043A\u0442\u043E\u0431\u0430\u0440","\u043D\u043E\u0432\u0435\u043C\u0431\u0430\u0440","\u0434\u0435\u0446\u0435\u043C\u0431\u0430\u0440"],monthsShort:["\u0458\u0430\u043D.","\u0444\u0435\u0431.","\u043C\u0430\u0440.","\u0430\u043F\u0440.","\u043C\u0430\u0458","\u0458\u0443\u043D","\u0458\u0443\u043B","\u0430\u0432\u0433.","\u0441\u0435\u043F.","\u043E\u043A\u0442.","\u043D\u043E\u0432.","\u0434\u0435\u0446."],monthsParseExact:!0,weekdays:["\u043D\u0435\u0434\u0435\u0459\u0430","\u043F\u043E\u043D\u0435\u0434\u0435\u0459\u0430\u043A","\u0443\u0442\u043E\u0440\u0430\u043A","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043A","\u043F\u0435\u0442\u0430\u043A","\u0441\u0443\u0431\u043E\u0442\u0430"],weekdaysShort:["\u043D\u0435\u0434.","\u043F\u043E\u043D.","\u0443\u0442\u043E.","\u0441\u0440\u0435.","\u0447\u0435\u0442.","\u043F\u0435\u0442.","\u0441\u0443\u0431."],weekdaysMin:["\u043D\u0435","\u043F\u043E","\u0443\u0442","\u0441\u0440","\u0447\u0435","\u043F\u0435","\u0441\u0443"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043D\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043D\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043E\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT";}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043F\u0440\u043E\u0448\u043B\u0435] [\u043D\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043F\u0440\u043E\u0448\u043B\u043E\u0433] [\u043F\u043E\u043D\u0435\u0434\u0435\u0459\u043A\u0430] [\u0443] LT","[\u043F\u0440\u043E\u0448\u043B\u043E\u0433] [\u0443\u0442\u043E\u0440\u043A\u0430] [\u0443] LT","[\u043F\u0440\u043E\u0448\u043B\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043F\u0440\u043E\u0448\u043B\u043E\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043A\u0430] [\u0443] LT","[\u043F\u0440\u043E\u0448\u043B\u043E\u0433] [\u043F\u0435\u0442\u043A\u0430] [\u0443] LT","[\u043F\u0440\u043E\u0448\u043B\u0435] [\u0441\u0443\u0431\u043E\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043F\u0440\u0435 %s",s:"\u043D\u0435\u043A\u043E\u043B\u0438\u043A\u043E \u0441\u0435\u043A\u0443\u043D\u0434\u0438",ss:Is.translate,m:Is.translate,mm:Is.translate,h:Is.translate,hh:Is.translate,d:"\u0434\u0430\u043D",dd:Is.translate,M:"\u043C\u0435\u0441\u0435\u0446",MM:Is.translate,y:"\u0433\u043E\u0434\u0438\u043D\u0443",yy:Is.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Ys={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:2<=t&&4>=t?e[1]:e[2]},translate:function(i,e,a){var t=Ys.words[a];return 1===a.length?e?t[0]:t[1]:i+" "+Ys.correctGrammaticalCase(i,t)}};Pe.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],monthsParseExact:!0,weekdays:["nedelja","ponedeljak","utorak","sreda","\u010Detvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","\u010Det.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","\u010De","pe","su"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT";}},lastDay:"[ju\u010De u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010Detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:Ys.translate,m:Ys.translate,mm:Ys.translate,h:Ys.translate,hh:Ys.translate,d:"dan",dd:Ys.translate,M:"mesec",MM:Ys.translate,y:"godinu",yy:Ys.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),Pe.defineLocale("ss",{months:["Bhimbidvwane","Indlovana","Indlov'lenkhulu","Mabasa","Inkhwekhweti","Inhlaba","Kholwane","Ingci","Inyoni","Imphala","Lweti","Ingongoni"],monthsShort:["Bhi","Ina","Inu","Mab","Ink","Inh","Kho","Igc","Iny","Imp","Lwe","Igo"],weekdays:["Lisontfo","Umsombuluko","Lesibili","Lesitsatfu","Lesine","Lesihlanu","Umgcibelo"],weekdaysShort:["Lis","Umb","Lsb","Les","Lsi","Lsh","Umg"],weekdaysMin:["Li","Us","Lb","Lt","Ls","Lh","Ug"],weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t){return 11>t?"ekuseni":15>t?"emini":19>t?"entsambama":"ebusuku"},meridiemHour:function(t,i){return 12===t&&(t=0),"ekuseni"===i?t:"emini"===i?11<=t?t:t+12:"entsambama"===i||"ebusuku"===i?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),Pe.defineLocale("sv",{months:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],monthsShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],weekdays:["s\xF6ndag","m\xE5ndag","tisdag","onsdag","torsdag","fredag","l\xF6rdag"],weekdaysShort:["s\xF6n","m\xE5n","tis","ons","tor","fre","l\xF6r"],weekdaysMin:["s\xF6","m\xE5","ti","on","to","fr","l\xF6"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xE5r] LT",nextWeek:"[P\xE5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xF6r %s sedan",s:"n\xE5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xE5nad",MM:"%d m\xE5nader",y:"ett \xE5r",yy:"%d \xE5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(t){var e=t%10;return t+(1!=~~(t%100/10)&&(1==e||2==e)?":a":":e")},week:{dow:1,doy:4}}),Pe.defineLocale("sw",{months:["Januari","Februari","Machi","Aprili","Mei","Juni","Julai","Agosti","Septemba","Oktoba","Novemba","Desemba"],monthsShort:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ago","Sep","Okt","Nov","Des"],weekdays:["Jumapili","Jumatatu","Jumanne","Jumatano","Alhamisi","Ijumaa","Jumamosi"],weekdaysShort:["Jpl","Jtat","Jnne","Jtan","Alh","Ijm","Jmos"],weekdaysMin:["J2","J3","J4","J5","Al","Ij","J1"],weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});var Ns={1:"\u0BE7",2:"\u0BE8",3:"\u0BE9",4:"\u0BEA",5:"\u0BEB",6:"\u0BEC",7:"\u0BED",8:"\u0BEE",9:"\u0BEF",0:"\u0BE6"},js={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};Pe.defineLocale("ta",{months:["\u0B9C\u0BA9\u0BB5\u0BB0\u0BBF","\u0BAA\u0BBF\u0BAA\u0BCD\u0BB0\u0BB5\u0BB0\u0BBF","\u0BAE\u0BBE\u0BB0\u0BCD\u0B9A\u0BCD","\u0B8F\u0BAA\u0BCD\u0BB0\u0BB2\u0BCD","\u0BAE\u0BC7","\u0B9C\u0BC2\u0BA9\u0BCD","\u0B9C\u0BC2\u0BB2\u0BC8","\u0B86\u0B95\u0BB8\u0BCD\u0B9F\u0BCD","\u0B9A\u0BC6\u0BAA\u0BCD\u0B9F\u0BC6\u0BAE\u0BCD\u0BAA\u0BB0\u0BCD","\u0B85\u0B95\u0BCD\u0B9F\u0BC7\u0BBE\u0BAA\u0BB0\u0BCD","\u0BA8\u0BB5\u0BAE\u0BCD\u0BAA\u0BB0\u0BCD","\u0B9F\u0BBF\u0B9A\u0BAE\u0BCD\u0BAA\u0BB0\u0BCD"],monthsShort:["\u0B9C\u0BA9\u0BB5\u0BB0\u0BBF","\u0BAA\u0BBF\u0BAA\u0BCD\u0BB0\u0BB5\u0BB0\u0BBF","\u0BAE\u0BBE\u0BB0\u0BCD\u0B9A\u0BCD","\u0B8F\u0BAA\u0BCD\u0BB0\u0BB2\u0BCD","\u0BAE\u0BC7","\u0B9C\u0BC2\u0BA9\u0BCD","\u0B9C\u0BC2\u0BB2\u0BC8","\u0B86\u0B95\u0BB8\u0BCD\u0B9F\u0BCD","\u0B9A\u0BC6\u0BAA\u0BCD\u0B9F\u0BC6\u0BAE\u0BCD\u0BAA\u0BB0\u0BCD","\u0B85\u0B95\u0BCD\u0B9F\u0BC7\u0BBE\u0BAA\u0BB0\u0BCD","\u0BA8\u0BB5\u0BAE\u0BCD\u0BAA\u0BB0\u0BCD","\u0B9F\u0BBF\u0B9A\u0BAE\u0BCD\u0BAA\u0BB0\u0BCD"],weekdays:["\u0B9E\u0BBE\u0BAF\u0BBF\u0BB1\u0BCD\u0BB1\u0BC1\u0B95\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8","\u0BA4\u0BBF\u0B99\u0BCD\u0B95\u0B9F\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8","\u0B9A\u0BC6\u0BB5\u0BCD\u0BB5\u0BBE\u0BAF\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8","\u0BAA\u0BC1\u0BA4\u0BA9\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8","\u0BB5\u0BBF\u0BAF\u0BBE\u0BB4\u0B95\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8","\u0BB5\u0BC6\u0BB3\u0BCD\u0BB3\u0BBF\u0B95\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8","\u0B9A\u0BA9\u0BBF\u0B95\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8"],weekdaysShort:["\u0B9E\u0BBE\u0BAF\u0BBF\u0BB1\u0BC1","\u0BA4\u0BBF\u0B99\u0BCD\u0B95\u0BB3\u0BCD","\u0B9A\u0BC6\u0BB5\u0BCD\u0BB5\u0BBE\u0BAF\u0BCD","\u0BAA\u0BC1\u0BA4\u0BA9\u0BCD","\u0BB5\u0BBF\u0BAF\u0BBE\u0BB4\u0BA9\u0BCD","\u0BB5\u0BC6\u0BB3\u0BCD\u0BB3\u0BBF","\u0B9A\u0BA9\u0BBF"],weekdaysMin:["\u0B9E\u0BBE","\u0BA4\u0BBF","\u0B9A\u0BC6","\u0BAA\u0BC1","\u0BB5\u0BBF","\u0BB5\u0BC6","\u0B9A"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0B87\u0BA9\u0BCD\u0BB1\u0BC1] LT",nextDay:"[\u0BA8\u0BBE\u0BB3\u0BC8] LT",nextWeek:"dddd, LT",lastDay:"[\u0BA8\u0BC7\u0BB1\u0BCD\u0BB1\u0BC1] LT",lastWeek:"[\u0B95\u0B9F\u0BA8\u0BCD\u0BA4 \u0BB5\u0BBE\u0BB0\u0BAE\u0BCD] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0B87\u0BB2\u0BCD",past:"%s \u0BAE\u0BC1\u0BA9\u0BCD",s:"\u0B92\u0BB0\u0BC1 \u0B9A\u0BBF\u0BB2 \u0BB5\u0BBF\u0BA8\u0BBE\u0B9F\u0BBF\u0B95\u0BB3\u0BCD",ss:"%d \u0BB5\u0BBF\u0BA8\u0BBE\u0B9F\u0BBF\u0B95\u0BB3\u0BCD",m:"\u0B92\u0BB0\u0BC1 \u0BA8\u0BBF\u0BAE\u0BBF\u0B9F\u0BAE\u0BCD",mm:"%d \u0BA8\u0BBF\u0BAE\u0BBF\u0B9F\u0B99\u0BCD\u0B95\u0BB3\u0BCD",h:"\u0B92\u0BB0\u0BC1 \u0BAE\u0BA3\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",hh:"%d \u0BAE\u0BA3\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",d:"\u0B92\u0BB0\u0BC1 \u0BA8\u0BBE\u0BB3\u0BCD",dd:"%d \u0BA8\u0BBE\u0B9F\u0BCD\u0B95\u0BB3\u0BCD",M:"\u0B92\u0BB0\u0BC1 \u0BAE\u0BBE\u0BA4\u0BAE\u0BCD",MM:"%d \u0BAE\u0BBE\u0BA4\u0B99\u0BCD\u0B95\u0BB3\u0BCD",y:"\u0B92\u0BB0\u0BC1 \u0BB5\u0BB0\u0BC1\u0B9F\u0BAE\u0BCD",yy:"%d \u0B86\u0BA3\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(t){return t+"\u0BB5\u0BA4\u0BC1"},preparse:function(t){return t.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(t){return js[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Ns[t]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(t){return 2>t?" \u0BAF\u0BBE\u0BAE\u0BAE\u0BCD":6>t?" \u0BB5\u0BC8\u0B95\u0BB1\u0BC8":10>t?" \u0B95\u0BBE\u0BB2\u0BC8":14>t?" \u0BA8\u0BA3\u0BCD\u0BAA\u0B95\u0BB2\u0BCD":18>t?" \u0B8E\u0BB1\u0BCD\u0BAA\u0BBE\u0B9F\u0BC1":22>t?" \u0BAE\u0BBE\u0BB2\u0BC8":" \u0BAF\u0BBE\u0BAE\u0BAE\u0BCD"},meridiemHour:function(t,i){return 12===t&&(t=0),"\u0BAF\u0BBE\u0BAE\u0BAE\u0BCD"===i?2>t?t:t+12:"\u0BB5\u0BC8\u0B95\u0BB1\u0BC8"===i||"\u0B95\u0BBE\u0BB2\u0BC8"===i||"\u0BA8\u0BA3\u0BCD\u0BAA\u0B95\u0BB2\u0BCD"===i&&10<=t?t:t+12},week:{dow:0,doy:6}}),Pe.defineLocale("te",{months:["\u0C1C\u0C28\u0C35\u0C30\u0C3F","\u0C2B\u0C3F\u0C2C\u0C4D\u0C30\u0C35\u0C30\u0C3F","\u0C2E\u0C3E\u0C30\u0C4D\u0C1A\u0C3F","\u0C0F\u0C2A\u0C4D\u0C30\u0C3F\u0C32\u0C4D","\u0C2E\u0C47","\u0C1C\u0C42\u0C28\u0C4D","\u0C1C\u0C41\u0C32\u0C48","\u0C06\u0C17\u0C38\u0C4D\u0C1F\u0C41","\u0C38\u0C46\u0C2A\u0C4D\u0C1F\u0C46\u0C02\u0C2C\u0C30\u0C4D","\u0C05\u0C15\u0C4D\u0C1F\u0C4B\u0C2C\u0C30\u0C4D","\u0C28\u0C35\u0C02\u0C2C\u0C30\u0C4D","\u0C21\u0C3F\u0C38\u0C46\u0C02\u0C2C\u0C30\u0C4D"],monthsShort:["\u0C1C\u0C28.","\u0C2B\u0C3F\u0C2C\u0C4D\u0C30.","\u0C2E\u0C3E\u0C30\u0C4D\u0C1A\u0C3F","\u0C0F\u0C2A\u0C4D\u0C30\u0C3F.","\u0C2E\u0C47","\u0C1C\u0C42\u0C28\u0C4D","\u0C1C\u0C41\u0C32\u0C48","\u0C06\u0C17.","\u0C38\u0C46\u0C2A\u0C4D.","\u0C05\u0C15\u0C4D\u0C1F\u0C4B.","\u0C28\u0C35.","\u0C21\u0C3F\u0C38\u0C46."],monthsParseExact:!0,weekdays:["\u0C06\u0C26\u0C3F\u0C35\u0C3E\u0C30\u0C02","\u0C38\u0C4B\u0C2E\u0C35\u0C3E\u0C30\u0C02","\u0C2E\u0C02\u0C17\u0C33\u0C35\u0C3E\u0C30\u0C02","\u0C2C\u0C41\u0C27\u0C35\u0C3E\u0C30\u0C02","\u0C17\u0C41\u0C30\u0C41\u0C35\u0C3E\u0C30\u0C02","\u0C36\u0C41\u0C15\u0C4D\u0C30\u0C35\u0C3E\u0C30\u0C02","\u0C36\u0C28\u0C3F\u0C35\u0C3E\u0C30\u0C02"],weekdaysShort:["\u0C06\u0C26\u0C3F","\u0C38\u0C4B\u0C2E","\u0C2E\u0C02\u0C17\u0C33","\u0C2C\u0C41\u0C27","\u0C17\u0C41\u0C30\u0C41","\u0C36\u0C41\u0C15\u0C4D\u0C30","\u0C36\u0C28\u0C3F"],weekdaysMin:["\u0C06","\u0C38\u0C4B","\u0C2E\u0C02","\u0C2C\u0C41","\u0C17\u0C41","\u0C36\u0C41","\u0C36"],longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0C28\u0C47\u0C21\u0C41] LT",nextDay:"[\u0C30\u0C47\u0C2A\u0C41] LT",nextWeek:"dddd, LT",lastDay:"[\u0C28\u0C3F\u0C28\u0C4D\u0C28] LT",lastWeek:"[\u0C17\u0C24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0C32\u0C4B",past:"%s \u0C15\u0C4D\u0C30\u0C3F\u0C24\u0C02",s:"\u0C15\u0C4A\u0C28\u0C4D\u0C28\u0C3F \u0C15\u0C4D\u0C37\u0C23\u0C3E\u0C32\u0C41",ss:"%d \u0C38\u0C46\u0C15\u0C28\u0C4D\u0C32\u0C41",m:"\u0C12\u0C15 \u0C28\u0C3F\u0C2E\u0C3F\u0C37\u0C02",mm:"%d \u0C28\u0C3F\u0C2E\u0C3F\u0C37\u0C3E\u0C32\u0C41",h:"\u0C12\u0C15 \u0C17\u0C02\u0C1F",hh:"%d \u0C17\u0C02\u0C1F\u0C32\u0C41",d:"\u0C12\u0C15 \u0C30\u0C4B\u0C1C\u0C41",dd:"%d \u0C30\u0C4B\u0C1C\u0C41\u0C32\u0C41",M:"\u0C12\u0C15 \u0C28\u0C46\u0C32",MM:"%d \u0C28\u0C46\u0C32\u0C32\u0C41",y:"\u0C12\u0C15 \u0C38\u0C02\u0C35\u0C24\u0C4D\u0C38\u0C30\u0C02",yy:"%d \u0C38\u0C02\u0C35\u0C24\u0C4D\u0C38\u0C30\u0C3E\u0C32\u0C41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0C35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(t,i){return 12===t&&(t=0),"\u0C30\u0C3E\u0C24\u0C4D\u0C30\u0C3F"===i?4>t?t:t+12:"\u0C09\u0C26\u0C2F\u0C02"===i?t:"\u0C2E\u0C27\u0C4D\u0C2F\u0C3E\u0C39\u0C4D\u0C28\u0C02"===i?10<=t?t:t+12:"\u0C38\u0C3E\u0C2F\u0C02\u0C24\u0C4D\u0C30\u0C02"===i?t+12:void 0},meridiem:function(t){return 4>t?"\u0C30\u0C3E\u0C24\u0C4D\u0C30\u0C3F":10>t?"\u0C09\u0C26\u0C2F\u0C02":17>t?"\u0C2E\u0C27\u0C4D\u0C2F\u0C3E\u0C39\u0C4D\u0C28\u0C02":20>t?"\u0C38\u0C3E\u0C2F\u0C02\u0C24\u0C4D\u0C30\u0C02":"\u0C30\u0C3E\u0C24\u0C4D\u0C30\u0C3F"},week:{dow:0,doy:6}}),Pe.defineLocale("tet",{months:["Janeiru","Fevereiru","Marsu","Abril","Maiu","Ju\xF1u","Jullu","Agustu","Setembru","Outubru","Novembru","Dezembru"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],weekdays:["Domingu","Segunda","Tersa","Kuarta","Kinta","Sesta","Sabadu"],weekdaysShort:["Dom","Seg","Ters","Kua","Kint","Sest","Sab"],weekdaysMin:["Do","Seg","Te","Ku","Ki","Ses","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}});var $s={0:"-\u0443\u043C",1:"-\u0443\u043C",2:"-\u044E\u043C",3:"-\u044E\u043C",4:"-\u0443\u043C",5:"-\u0443\u043C",6:"-\u0443\u043C",7:"-\u0443\u043C",8:"-\u0443\u043C",9:"-\u0443\u043C",10:"-\u0443\u043C",12:"-\u0443\u043C",13:"-\u0443\u043C",20:"-\u0443\u043C",30:"-\u044E\u043C",40:"-\u0443\u043C",50:"-\u0443\u043C",60:"-\u0443\u043C",70:"-\u0443\u043C",80:"-\u0443\u043C",90:"-\u0443\u043C",100:"-\u0443\u043C"};Pe.defineLocale("tg",{months:{format:["\u044F\u043D\u0432\u0430\u0440\u0438","\u0444\u0435\u0432\u0440\u0430\u043B\u0438","\u043C\u0430\u0440\u0442\u0438","\u0430\u043F\u0440\u0435\u043B\u0438","\u043C\u0430\u0439\u0438","\u0438\u044E\u043D\u0438","\u0438\u044E\u043B\u0438","\u0430\u0432\u0433\u0443\u0441\u0442\u0438","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u0438","\u043E\u043A\u0442\u044F\u0431\u0440\u0438","\u043D\u043E\u044F\u0431\u0440\u0438","\u0434\u0435\u043A\u0430\u0431\u0440\u0438"],standalone:["\u044F\u043D\u0432\u0430\u0440","\u0444\u0435\u0432\u0440\u0430\u043B","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0435\u043B","\u043C\u0430\u0439","\u0438\u044E\u043D","\u0438\u044E\u043B","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043D\u0442\u044F\u0431\u0440","\u043E\u043A\u0442\u044F\u0431\u0440","\u043D\u043E\u044F\u0431\u0440","\u0434\u0435\u043A\u0430\u0431\u0440"]},monthsShort:["\u044F\u043D\u0432","\u0444\u0435\u0432","\u043C\u0430\u0440","\u0430\u043F\u0440","\u043C\u0430\u0439","\u0438\u044E\u043D","\u0438\u044E\u043B","\u0430\u0432\u0433","\u0441\u0435\u043D","\u043E\u043A\u0442","\u043D\u043E\u044F","\u0434\u0435\u043A"],weekdays:["\u044F\u043A\u0448\u0430\u043D\u0431\u0435","\u0434\u0443\u0448\u0430\u043D\u0431\u0435","\u0441\u0435\u0448\u0430\u043D\u0431\u0435","\u0447\u043E\u0440\u0448\u0430\u043D\u0431\u0435","\u043F\u0430\u043D\u04B7\u0448\u0430\u043D\u0431\u0435","\u04B7\u0443\u043C\u044A\u0430","\u0448\u0430\u043D\u0431\u0435"],weekdaysShort:["\u044F\u0448\u0431","\u0434\u0448\u0431","\u0441\u0448\u0431","\u0447\u0448\u0431","\u043F\u0448\u0431","\u04B7\u0443\u043C","\u0448\u043D\u0431"],weekdaysMin:["\u044F\u0448","\u0434\u0448","\u0441\u0448","\u0447\u0448","\u043F\u0448","\u04B7\u043C","\u0448\u0431"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043C\u0440\u04EF\u0437 \u0441\u043E\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043E \u0441\u043E\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04EF\u0437 \u0441\u043E\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04B3\u0430\u0444\u0442\u0430\u0438 \u043E\u044F\u043D\u0434\u0430 \u0441\u043E\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04B3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043E\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044A\u0434\u0438 %s",past:"%s \u043F\u0435\u0448",s:"\u044F\u043A\u0447\u0430\u043D\u0434 \u0441\u043E\u043D\u0438\u044F",m:"\u044F\u043A \u0434\u0430\u049B\u0438\u049B\u0430",mm:"%d \u0434\u0430\u049B\u0438\u049B\u0430",h:"\u044F\u043A \u0441\u043E\u0430\u0442",hh:"%d \u0441\u043E\u0430\u0442",d:"\u044F\u043A \u0440\u04EF\u0437",dd:"%d \u0440\u04EF\u0437",M:"\u044F\u043A \u043C\u043E\u04B3",MM:"%d \u043C\u043E\u04B3",y:"\u044F\u043A \u0441\u043E\u043B",yy:"%d \u0441\u043E\u043B"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(t,i){return 12===t&&(t=0),"\u0448\u0430\u0431"===i?4>t?t:t+12:"\u0441\u0443\u0431\u04B3"===i?t:"\u0440\u04EF\u0437"===i?11<=t?t:t+12:"\u0431\u0435\u0433\u043E\u04B3"===i?t+12:void 0},meridiem:function(t){return 4>t?"\u0448\u0430\u0431":11>t?"\u0441\u0443\u0431\u04B3":16>t?"\u0440\u04EF\u0437":19>t?"\u0431\u0435\u0433\u043E\u04B3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(t){return t+($s[t]||$s[t%10]||$s[100<=t?100:null])},week:{dow:1,doy:7}}),Pe.defineLocale("th",{months:["\u0E21\u0E01\u0E23\u0E32\u0E04\u0E21","\u0E01\u0E38\u0E21\u0E20\u0E32\u0E1E\u0E31\u0E19\u0E18\u0E4C","\u0E21\u0E35\u0E19\u0E32\u0E04\u0E21","\u0E40\u0E21\u0E29\u0E32\u0E22\u0E19","\u0E1E\u0E24\u0E29\u0E20\u0E32\u0E04\u0E21","\u0E21\u0E34\u0E16\u0E38\u0E19\u0E32\u0E22\u0E19","\u0E01\u0E23\u0E01\u0E0E\u0E32\u0E04\u0E21","\u0E2A\u0E34\u0E07\u0E2B\u0E32\u0E04\u0E21","\u0E01\u0E31\u0E19\u0E22\u0E32\u0E22\u0E19","\u0E15\u0E38\u0E25\u0E32\u0E04\u0E21","\u0E1E\u0E24\u0E28\u0E08\u0E34\u0E01\u0E32\u0E22\u0E19","\u0E18\u0E31\u0E19\u0E27\u0E32\u0E04\u0E21"],monthsShort:["\u0E21.\u0E04.","\u0E01.\u0E1E.","\u0E21\u0E35.\u0E04.","\u0E40\u0E21.\u0E22.","\u0E1E.\u0E04.","\u0E21\u0E34.\u0E22.","\u0E01.\u0E04.","\u0E2A.\u0E04.","\u0E01.\u0E22.","\u0E15.\u0E04.","\u0E1E.\u0E22.","\u0E18.\u0E04."],monthsParseExact:!0,weekdays:["\u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C","\u0E08\u0E31\u0E19\u0E17\u0E23\u0E4C","\u0E2D\u0E31\u0E07\u0E04\u0E32\u0E23","\u0E1E\u0E38\u0E18","\u0E1E\u0E24\u0E2B\u0E31\u0E2A\u0E1A\u0E14\u0E35","\u0E28\u0E38\u0E01\u0E23\u0E4C","\u0E40\u0E2A\u0E32\u0E23\u0E4C"],weekdaysShort:["\u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C","\u0E08\u0E31\u0E19\u0E17\u0E23\u0E4C","\u0E2D\u0E31\u0E07\u0E04\u0E32\u0E23","\u0E1E\u0E38\u0E18","\u0E1E\u0E24\u0E2B\u0E31\u0E2A","\u0E28\u0E38\u0E01\u0E23\u0E4C","\u0E40\u0E2A\u0E32\u0E23\u0E4C"],weekdaysMin:["\u0E2D\u0E32.","\u0E08.","\u0E2D.","\u0E1E.","\u0E1E\u0E24.","\u0E28.","\u0E2A."],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0E40\u0E27\u0E25\u0E32 H:mm",LLLL:"\u0E27\u0E31\u0E19dddd\u0E17\u0E35\u0E48 D MMMM YYYY \u0E40\u0E27\u0E25\u0E32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(t){return"\u0E2B\u0E25\u0E31\u0E07\u0E40\u0E17\u0E35\u0E48\u0E22\u0E07"===t},meridiem:function(t){return 12>t?"\u0E01\u0E48\u0E2D\u0E19\u0E40\u0E17\u0E35\u0E48\u0E22\u0E07":"\u0E2B\u0E25\u0E31\u0E07\u0E40\u0E17\u0E35\u0E48\u0E22\u0E07"},calendar:{sameDay:"[\u0E27\u0E31\u0E19\u0E19\u0E35\u0E49 \u0E40\u0E27\u0E25\u0E32] LT",nextDay:"[\u0E1E\u0E23\u0E38\u0E48\u0E07\u0E19\u0E35\u0E49 \u0E40\u0E27\u0E25\u0E32] LT",nextWeek:"dddd[\u0E2B\u0E19\u0E49\u0E32 \u0E40\u0E27\u0E25\u0E32] LT",lastDay:"[\u0E40\u0E21\u0E37\u0E48\u0E2D\u0E27\u0E32\u0E19\u0E19\u0E35\u0E49 \u0E40\u0E27\u0E25\u0E32] LT",lastWeek:"[\u0E27\u0E31\u0E19]dddd[\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27 \u0E40\u0E27\u0E25\u0E32] LT",sameElse:"L"},relativeTime:{future:"\u0E2D\u0E35\u0E01 %s",past:"%s\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27",s:"\u0E44\u0E21\u0E48\u0E01\u0E35\u0E48\u0E27\u0E34\u0E19\u0E32\u0E17\u0E35",ss:"%d \u0E27\u0E34\u0E19\u0E32\u0E17\u0E35",m:"1 \u0E19\u0E32\u0E17\u0E35",mm:"%d \u0E19\u0E32\u0E17\u0E35",h:"1 \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07",hh:"%d \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07",d:"1 \u0E27\u0E31\u0E19",dd:"%d \u0E27\u0E31\u0E19",w:"1 \u0E2A\u0E31\u0E1B\u0E14\u0E32\u0E2B\u0E4C",ww:"%d \u0E2A\u0E31\u0E1B\u0E14\u0E32\u0E2B\u0E4C",M:"1 \u0E40\u0E14\u0E37\u0E2D\u0E19",MM:"%d \u0E40\u0E14\u0E37\u0E2D\u0E19",y:"1 \u0E1B\u0E35",yy:"%d \u0E1B\u0E35"}});var Rs={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xFCnji",4:"'\xFCnji",100:"'\xFCnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};Pe.defineLocale("tk",{months:["\xDDanwar","Fewral","Mart","Aprel","Ma\xFD","I\xFDun","I\xFDul","Awgust","Sent\xFDabr","Okt\xFDabr","No\xFDabr","Dekabr"],monthsShort:["\xDDan","Few","Mar","Apr","Ma\xFD","I\xFDn","I\xFDl","Awg","Sen","Okt","No\xFD","Dek"],weekdays:["\xDDek\u015Fenbe","Du\u015Fenbe","Si\u015Fenbe","\xC7ar\u015Fenbe","Pen\u015Fenbe","Anna","\u015Eenbe"],weekdaysShort:["\xDDek","Du\u015F","Si\u015F","\xC7ar","Pen","Ann","\u015Een"],weekdaysMin:["\xDDk","D\u015F","S\u015F","\xC7r","Pn","An","\u015En"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xFCn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xFC\xFDn] LT",lastWeek:"[ge\xE7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xF6\u0148",s:"birn\xE4\xE7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xFCn",dd:"%d g\xFCn",M:"bir a\xFD",MM:"%d a\xFD",y:"bir \xFDyl",yy:"%d \xFDyl"},ordinal:function(i,e){switch(e){case"d":case"D":case"Do":case"DD":return i;default:if(0===i)return i+"'unjy";var a=i%10;return i+(Rs[a]||Rs[i%100-a]||Rs[100<=i?100:null]);}},week:{dow:1,doy:7}}),Pe.defineLocale("tl-ph",{months:["Enero","Pebrero","Marso","Abril","Mayo","Hunyo","Hulyo","Agosto","Setyembre","Oktubre","Nobyembre","Disyembre"],monthsShort:["Ene","Peb","Mar","Abr","May","Hun","Hul","Ago","Set","Okt","Nob","Dis"],weekdays:["Linggo","Lunes","Martes","Miyerkules","Huwebes","Biyernes","Sabado"],weekdaysShort:["Lin","Lun","Mar","Miy","Huw","Biy","Sab"],weekdaysMin:["Li","Lu","Ma","Mi","Hu","Bi","Sab"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}});var Os=["pagh","wa\u2019","cha\u2019","wej","loS","vagh","jav","Soch","chorgh","Hut"];Pe.defineLocale("tlh",{months:["tera\u2019 jar wa\u2019","tera\u2019 jar cha\u2019","tera\u2019 jar wej","tera\u2019 jar loS","tera\u2019 jar vagh","tera\u2019 jar jav","tera\u2019 jar Soch","tera\u2019 jar chorgh","tera\u2019 jar Hut","tera\u2019 jar wa\u2019maH","tera\u2019 jar wa\u2019maH wa\u2019","tera\u2019 jar wa\u2019maH cha\u2019"],monthsShort:["jar wa\u2019","jar cha\u2019","jar wej","jar loS","jar vagh","jar jav","jar Soch","jar chorgh","jar Hut","jar wa\u2019maH","jar wa\u2019maH wa\u2019","jar wa\u2019maH cha\u2019"],monthsParseExact:!0,weekdays:["lojmItjaj","DaSjaj","povjaj","ghItlhjaj","loghjaj","buqjaj","ghInjaj"],weekdaysShort:["lojmItjaj","DaSjaj","povjaj","ghItlhjaj","loghjaj","buqjaj","ghInjaj"],weekdaysMin:["lojmItjaj","DaSjaj","povjaj","ghItlhjaj","loghjaj","buqjaj","ghInjaj"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(t){var e=t;return e=-1===t.indexOf("jaj")?-1===t.indexOf("jar")?-1===t.indexOf("DIS")?e+" pIq":e.slice(0,-3)+"nem":e.slice(0,-3)+"waQ":e.slice(0,-3)+"leS"},past:function(t){var e=t;return e=-1===t.indexOf("jaj")?-1===t.indexOf("jar")?-1===t.indexOf("DIS")?e+" ret":e.slice(0,-3)+"ben":e.slice(0,-3)+"wen":e.slice(0,-3)+"Hu\u2019"},s:"puS lup",ss:ji,m:"wa\u2019 tup",mm:ji,h:"wa\u2019 rep",hh:ji,d:"wa\u2019 jaj",dd:ji,M:"wa\u2019 jar",MM:ji,y:"wa\u2019 DIS",yy:ji},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Ps={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xFCnc\xFC",4:"'\xFCnc\xFC",100:"'\xFCnc\xFC",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};Pe.defineLocale("tr",{months:["Ocak","\u015Eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011Fustos","Eyl\xFCl","Ekim","Kas\u0131m","Aral\u0131k"],monthsShort:["Oca","\u015Eub","Mar","Nis","May","Haz","Tem","A\u011Fu","Eyl","Eki","Kas","Ara"],weekdays:["Pazar","Pazartesi","Sal\u0131","\xC7ar\u015Famba","Per\u015Fembe","Cuma","Cumartesi"],weekdaysShort:["Paz","Pts","Sal","\xC7ar","Per","Cum","Cts"],weekdaysMin:["Pz","Pt","Sa","\xC7a","Pe","Cu","Ct"],meridiem:function(i,e,a){return 12>i?a?"\xF6\xF6":"\xD6\xD6":a?"\xF6s":"\xD6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(t){return"\xF6s"===t||"\xD6S"===t},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xFCn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xFCn] LT",lastWeek:"[ge\xE7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xF6nce",s:"birka\xE7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xFCn",dd:"%d g\xFCn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(i,e){switch(e){case"d":case"D":case"Do":case"DD":return i;default:if(0===i)return i+"'\u0131nc\u0131";var a=i%10;return i+(Ps[a]||Ps[i%100-a]||Ps[100<=i?100:null]);}},week:{dow:1,doy:7}}),Pe.defineLocale("tzl",{months:["Januar","Fevraglh","Mar\xE7","Avr\xEFu","Mai","G\xFCn","Julia","Guscht","Setemvar","Listop\xE4ts","Noemvar","Zecemvar"],monthsShort:["Jan","Fev","Mar","Avr","Mai","G\xFCn","Jul","Gus","Set","Lis","Noe","Zec"],weekdays:["S\xFAladi","L\xFAne\xE7i","Maitzi","M\xE1rcuri","Xh\xFAadi","Vi\xE9ner\xE7i","S\xE1turi"],weekdaysShort:["S\xFAl","L\xFAn","Mai","M\xE1r","Xh\xFA","Vi\xE9","S\xE1t"],weekdaysMin:["S\xFA","L\xFA","Ma","M\xE1","Xh","Vi","S\xE1"],longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(i,e,a){return 11<i?a?"d'o":"D'O":a?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xE0] LT",nextDay:"[dem\xE0 \xE0] LT",nextWeek:"dddd [\xE0] LT",lastDay:"[ieiri \xE0] LT",lastWeek:"[s\xFCr el] dddd [lasteu \xE0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:$i,ss:$i,m:$i,mm:$i,h:$i,hh:$i,d:$i,dd:$i,M:$i,MM:$i,y:$i,yy:$i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),Pe.defineLocale("tzm-latn",{months:["innayr","br\u02E4ayr\u02E4","mar\u02E4s\u02E4","ibrir","mayyw","ywnyw","ywlywz","\u0263w\u0161t","\u0161wtanbir","kt\u02E4wbr\u02E4","nwwanbir","dwjnbir"],monthsShort:["innayr","br\u02E4ayr\u02E4","mar\u02E4s\u02E4","ibrir","mayyw","ywnyw","ywlywz","\u0263w\u0161t","\u0161wtanbir","kt\u02E4wbr\u02E4","nwwanbir","dwjnbir"],weekdays:["asamas","aynas","asinas","akras","akwas","asimwas","asi\u1E0Dyas"],weekdaysShort:["asamas","aynas","asinas","akras","akwas","asimwas","asi\u1E0Dyas"],weekdaysMin:["asamas","aynas","asinas","akras","akwas","asimwas","asi\u1E0Dyas"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1E0D",mm:"%d minu\u1E0D",h:"sa\u025Ba",hh:"%d tassa\u025Bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),Pe.defineLocale("tzm",{months:["\u2D49\u2D4F\u2D4F\u2D30\u2D62\u2D54","\u2D31\u2D55\u2D30\u2D62\u2D55","\u2D4E\u2D30\u2D55\u2D5A","\u2D49\u2D31\u2D54\u2D49\u2D54","\u2D4E\u2D30\u2D62\u2D62\u2D53","\u2D62\u2D53\u2D4F\u2D62\u2D53","\u2D62\u2D53\u2D4D\u2D62\u2D53\u2D63","\u2D56\u2D53\u2D5B\u2D5C","\u2D5B\u2D53\u2D5C\u2D30\u2D4F\u2D31\u2D49\u2D54","\u2D3D\u2D5F\u2D53\u2D31\u2D55","\u2D4F\u2D53\u2D61\u2D30\u2D4F\u2D31\u2D49\u2D54","\u2D37\u2D53\u2D4A\u2D4F\u2D31\u2D49\u2D54"],monthsShort:["\u2D49\u2D4F\u2D4F\u2D30\u2D62\u2D54","\u2D31\u2D55\u2D30\u2D62\u2D55","\u2D4E\u2D30\u2D55\u2D5A","\u2D49\u2D31\u2D54\u2D49\u2D54","\u2D4E\u2D30\u2D62\u2D62\u2D53","\u2D62\u2D53\u2D4F\u2D62\u2D53","\u2D62\u2D53\u2D4D\u2D62\u2D53\u2D63","\u2D56\u2D53\u2D5B\u2D5C","\u2D5B\u2D53\u2D5C\u2D30\u2D4F\u2D31\u2D49\u2D54","\u2D3D\u2D5F\u2D53\u2D31\u2D55","\u2D4F\u2D53\u2D61\u2D30\u2D4F\u2D31\u2D49\u2D54","\u2D37\u2D53\u2D4A\u2D4F\u2D31\u2D49\u2D54"],weekdays:["\u2D30\u2D59\u2D30\u2D4E\u2D30\u2D59","\u2D30\u2D62\u2D4F\u2D30\u2D59","\u2D30\u2D59\u2D49\u2D4F\u2D30\u2D59","\u2D30\u2D3D\u2D54\u2D30\u2D59","\u2D30\u2D3D\u2D61\u2D30\u2D59","\u2D30\u2D59\u2D49\u2D4E\u2D61\u2D30\u2D59","\u2D30\u2D59\u2D49\u2D39\u2D62\u2D30\u2D59"],weekdaysShort:["\u2D30\u2D59\u2D30\u2D4E\u2D30\u2D59","\u2D30\u2D62\u2D4F\u2D30\u2D59","\u2D30\u2D59\u2D49\u2D4F\u2D30\u2D59","\u2D30\u2D3D\u2D54\u2D30\u2D59","\u2D30\u2D3D\u2D61\u2D30\u2D59","\u2D30\u2D59\u2D49\u2D4E\u2D61\u2D30\u2D59","\u2D30\u2D59\u2D49\u2D39\u2D62\u2D30\u2D59"],weekdaysMin:["\u2D30\u2D59\u2D30\u2D4E\u2D30\u2D59","\u2D30\u2D62\u2D4F\u2D30\u2D59","\u2D30\u2D59\u2D49\u2D4F\u2D30\u2D59","\u2D30\u2D3D\u2D54\u2D30\u2D59","\u2D30\u2D3D\u2D61\u2D30\u2D59","\u2D30\u2D59\u2D49\u2D4E\u2D61\u2D30\u2D59","\u2D30\u2D59\u2D49\u2D39\u2D62\u2D30\u2D59"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2D30\u2D59\u2D37\u2D45 \u2D34] LT",nextDay:"[\u2D30\u2D59\u2D3D\u2D30 \u2D34] LT",nextWeek:"dddd [\u2D34] LT",lastDay:"[\u2D30\u2D5A\u2D30\u2D4F\u2D5C \u2D34] LT",lastWeek:"dddd [\u2D34] LT",sameElse:"L"},relativeTime:{future:"\u2D37\u2D30\u2D37\u2D45 \u2D59 \u2D62\u2D30\u2D4F %s",past:"\u2D62\u2D30\u2D4F %s",s:"\u2D49\u2D4E\u2D49\u2D3D",ss:"%d \u2D49\u2D4E\u2D49\u2D3D",m:"\u2D4E\u2D49\u2D4F\u2D53\u2D3A",mm:"%d \u2D4E\u2D49\u2D4F\u2D53\u2D3A",h:"\u2D59\u2D30\u2D44\u2D30",hh:"%d \u2D5C\u2D30\u2D59\u2D59\u2D30\u2D44\u2D49\u2D4F",d:"\u2D30\u2D59\u2D59",dd:"%d o\u2D59\u2D59\u2D30\u2D4F",M:"\u2D30\u2D62o\u2D53\u2D54",MM:"%d \u2D49\u2D62\u2D62\u2D49\u2D54\u2D4F",y:"\u2D30\u2D59\u2D33\u2D30\u2D59",yy:"%d \u2D49\u2D59\u2D33\u2D30\u2D59\u2D4F"},week:{dow:6,doy:12}}),Pe.defineLocale("ug-cn",{months:["\u064A\u0627\u0646\u06CB\u0627\u0631","\u0641\u06D0\u06CB\u0631\u0627\u0644","\u0645\u0627\u0631\u062A","\u0626\u0627\u067E\u0631\u06D0\u0644","\u0645\u0627\u064A","\u0626\u0649\u064A\u06C7\u0646","\u0626\u0649\u064A\u06C7\u0644","\u0626\u0627\u06CB\u063A\u06C7\u0633\u062A","\u0633\u06D0\u0646\u062A\u06D5\u0628\u0649\u0631","\u0626\u06C6\u0643\u062A\u06D5\u0628\u0649\u0631","\u0646\u0648\u064A\u0627\u0628\u0649\u0631","\u062F\u06D0\u0643\u0627\u0628\u0649\u0631"],monthsShort:["\u064A\u0627\u0646\u06CB\u0627\u0631","\u0641\u06D0\u06CB\u0631\u0627\u0644","\u0645\u0627\u0631\u062A","\u0626\u0627\u067E\u0631\u06D0\u0644","\u0645\u0627\u064A","\u0626\u0649\u064A\u06C7\u0646","\u0626\u0649\u064A\u06C7\u0644","\u0626\u0627\u06CB\u063A\u06C7\u0633\u062A","\u0633\u06D0\u0646\u062A\u06D5\u0628\u0649\u0631","\u0626\u06C6\u0643\u062A\u06D5\u0628\u0649\u0631","\u0646\u0648\u064A\u0627\u0628\u0649\u0631","\u062F\u06D0\u0643\u0627\u0628\u0649\u0631"],weekdays:["\u064A\u06D5\u0643\u0634\u06D5\u0646\u0628\u06D5","\u062F\u06C8\u0634\u06D5\u0646\u0628\u06D5","\u0633\u06D5\u064A\u0634\u06D5\u0646\u0628\u06D5","\u0686\u0627\u0631\u0634\u06D5\u0646\u0628\u06D5","\u067E\u06D5\u064A\u0634\u06D5\u0646\u0628\u06D5","\u062C\u06C8\u0645\u06D5","\u0634\u06D5\u0646\u0628\u06D5"],weekdaysShort:["\u064A\u06D5","\u062F\u06C8","\u0633\u06D5","\u0686\u0627","\u067E\u06D5","\u062C\u06C8","\u0634\u06D5"],weekdaysMin:["\u064A\u06D5","\u062F\u06C8","\u0633\u06D5","\u0686\u0627","\u067E\u06D5","\u062C\u06C8","\u0634\u06D5"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064A\u0649\u0644\u0649M-\u0626\u0627\u064A\u0646\u0649\u06ADD-\u0643\u06C8\u0646\u0649",LLL:"YYYY-\u064A\u0649\u0644\u0649M-\u0626\u0627\u064A\u0646\u0649\u06ADD-\u0643\u06C8\u0646\u0649\u060C HH:mm",LLLL:"dddd\u060C YYYY-\u064A\u0649\u0644\u0649M-\u0626\u0627\u064A\u0646\u0649\u06ADD-\u0643\u06C8\u0646\u0649\u060C HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(t,i){return 12===t&&(t=0),"\u064A\u06D0\u0631\u0649\u0645 \u0643\u06D0\u0686\u06D5"===i||"\u0633\u06D5\u06BE\u06D5\u0631"===i||"\u0686\u06C8\u0634\u062A\u0649\u0646 \u0628\u06C7\u0631\u06C7\u0646"===i||"\u0686\u06C8\u0634\u062A\u0649\u0646 \u0643\u06D0\u064A\u0649\u0646"!==i&&"\u0643\u06D5\u0686"!==i&&11<=t?t:t+12},meridiem:function(t,e){var a=100*t+e;return 600>a?"\u064A\u06D0\u0631\u0649\u0645 \u0643\u06D0\u0686\u06D5":900>a?"\u0633\u06D5\u06BE\u06D5\u0631":1130>a?"\u0686\u06C8\u0634\u062A\u0649\u0646 \u0628\u06C7\u0631\u06C7\u0646":1230>a?"\u0686\u06C8\u0634":1800>a?"\u0686\u06C8\u0634\u062A\u0649\u0646 \u0643\u06D0\u064A\u0649\u0646":"\u0643\u06D5\u0686"},calendar:{sameDay:"[\u0628\u06C8\u06AF\u06C8\u0646 \u0633\u0627\u0626\u06D5\u062A] LT",nextDay:"[\u0626\u06D5\u062A\u06D5 \u0633\u0627\u0626\u06D5\u062A] LT",nextWeek:"[\u0643\u06D0\u0644\u06D5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06D5\u062A] LT",lastDay:"[\u062A\u06C6\u0646\u06C8\u06AF\u06C8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062F\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06D5\u062A] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06D0\u064A\u0649\u0646",past:"%s \u0628\u06C7\u0631\u06C7\u0646",s:"\u0646\u06D5\u0686\u0686\u06D5 \u0633\u06D0\u0643\u0648\u0646\u062A",ss:"%d \u0633\u06D0\u0643\u0648\u0646\u062A",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06C7\u062A",mm:"%d \u0645\u0649\u0646\u06C7\u062A",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06D5\u062A",hh:"%d \u0633\u0627\u0626\u06D5\u062A",d:"\u0628\u0649\u0631 \u0643\u06C8\u0646",dd:"%d \u0643\u06C8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064A",MM:"%d \u0626\u0627\u064A",y:"\u0628\u0649\u0631 \u064A\u0649\u0644",yy:"%d \u064A\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(t,e){return"d"===e||"D"===e||"DDD"===e?t+"-\u0643\u06C8\u0646\u0649":"w"===e||"W"===e?t+"-\u06BE\u06D5\u067E\u062A\u06D5":t},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060C")},week:{dow:1,doy:7}}),Pe.defineLocale("uk",{months:{format:["\u0441\u0456\u0447\u043D\u044F","\u043B\u044E\u0442\u043E\u0433\u043E","\u0431\u0435\u0440\u0435\u0437\u043D\u044F","\u043A\u0432\u0456\u0442\u043D\u044F","\u0442\u0440\u0430\u0432\u043D\u044F","\u0447\u0435\u0440\u0432\u043D\u044F","\u043B\u0438\u043F\u043D\u044F","\u0441\u0435\u0440\u043F\u043D\u044F","\u0432\u0435\u0440\u0435\u0441\u043D\u044F","\u0436\u043E\u0432\u0442\u043D\u044F","\u043B\u0438\u0441\u0442\u043E\u043F\u0430\u0434\u0430","\u0433\u0440\u0443\u0434\u043D\u044F"],standalone:["\u0441\u0456\u0447\u0435\u043D\u044C","\u043B\u044E\u0442\u0438\u0439","\u0431\u0435\u0440\u0435\u0437\u0435\u043D\u044C","\u043A\u0432\u0456\u0442\u0435\u043D\u044C","\u0442\u0440\u0430\u0432\u0435\u043D\u044C","\u0447\u0435\u0440\u0432\u0435\u043D\u044C","\u043B\u0438\u043F\u0435\u043D\u044C","\u0441\u0435\u0440\u043F\u0435\u043D\u044C","\u0432\u0435\u0440\u0435\u0441\u0435\u043D\u044C","\u0436\u043E\u0432\u0442\u0435\u043D\u044C","\u043B\u0438\u0441\u0442\u043E\u043F\u0430\u0434","\u0433\u0440\u0443\u0434\u0435\u043D\u044C"]},monthsShort:["\u0441\u0456\u0447","\u043B\u044E\u0442","\u0431\u0435\u0440","\u043A\u0432\u0456\u0442","\u0442\u0440\u0430\u0432","\u0447\u0435\u0440\u0432","\u043B\u0438\u043F","\u0441\u0435\u0440\u043F","\u0432\u0435\u0440","\u0436\u043E\u0432\u0442","\u043B\u0438\u0441\u0442","\u0433\u0440\u0443\u0434"],weekdays:function(i,e){var a={nominative:["\u043D\u0435\u0434\u0456\u043B\u044F","\u043F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A","\u0432\u0456\u0432\u0442\u043E\u0440\u043E\u043A","\u0441\u0435\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440","\u043F\u2019\u044F\u0442\u043D\u0438\u0446\u044F","\u0441\u0443\u0431\u043E\u0442\u0430"],accusative:["\u043D\u0435\u0434\u0456\u043B\u044E","\u043F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A","\u0432\u0456\u0432\u0442\u043E\u0440\u043E\u043A","\u0441\u0435\u0440\u0435\u0434\u0443","\u0447\u0435\u0442\u0432\u0435\u0440","\u043F\u2019\u044F\u0442\u043D\u0438\u0446\u044E","\u0441\u0443\u0431\u043E\u0442\u0443"],genitive:["\u043D\u0435\u0434\u0456\u043B\u0456","\u043F\u043E\u043D\u0435\u0434\u0456\u043B\u043A\u0430","\u0432\u0456\u0432\u0442\u043E\u0440\u043A\u0430","\u0441\u0435\u0440\u0435\u0434\u0438","\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430","\u043F\u2019\u044F\u0442\u043D\u0438\u0446\u0456","\u0441\u0443\u0431\u043E\u0442\u0438"]};return!0===i?a.nominative.slice(1,7).concat(a.nominative.slice(0,1)):i?a[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(e)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(e)?"genitive":"nominative"][i.day()]:a.nominative},weekdaysShort:["\u043D\u0434","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],weekdaysMin:["\u043D\u0434","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:Oi("[\u0421\u044C\u043E\u0433\u043E\u0434\u043D\u0456 "),nextDay:Oi("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:Oi("[\u0412\u0447\u043E\u0440\u0430 "),nextWeek:Oi("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return Oi("[\u041C\u0438\u043D\u0443\u043B\u043E\u0457] dddd [").call(this);case 1:case 2:case 4:return Oi("[\u041C\u0438\u043D\u0443\u043B\u043E\u0433\u043E] dddd [").call(this);}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043E\u043C\u0443",s:"\u0434\u0435\u043A\u0456\u043B\u044C\u043A\u0430 \u0441\u0435\u043A\u0443\u043D\u0434",ss:Ri,m:Ri,mm:Ri,h:"\u0433\u043E\u0434\u0438\u043D\u0443",hh:Ri,d:"\u0434\u0435\u043D\u044C",dd:Ri,M:"\u043C\u0456\u0441\u044F\u0446\u044C",MM:Ri,y:"\u0440\u0456\u043A",yy:Ri},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(t){return /^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(t)},meridiem:function(t){return 4>t?"\u043D\u043E\u0447\u0456":12>t?"\u0440\u0430\u043D\u043A\u0443":17>t?"\u0434\u043D\u044F":"\u0432\u0435\u0447\u043E\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(t,e){return"M"===e||"d"===e||"DDD"===e||"w"===e||"W"===e?t+"-\u0439":"D"===e?t+"-\u0433\u043E":t},week:{dow:1,doy:7}});var Hs=["\u062C\u0646\u0648\u0631\u06CC","\u0641\u0631\u0648\u0631\u06CC","\u0645\u0627\u0631\u0686","\u0627\u067E\u0631\u06CC\u0644","\u0645\u0626\u06CC","\u062C\u0648\u0646","\u062C\u0648\u0644\u0627\u0626\u06CC","\u0627\u06AF\u0633\u062A","\u0633\u062A\u0645\u0628\u0631","\u0627\u06A9\u062A\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062F\u0633\u0645\u0628\u0631"],Bs=["\u0627\u062A\u0648\u0627\u0631","\u067E\u06CC\u0631","\u0645\u0646\u06AF\u0644","\u0628\u062F\u06BE","\u062C\u0645\u0639\u0631\u0627\u062A","\u062C\u0645\u0639\u06C1","\u06C1\u0641\u062A\u06C1"];return Pe.defineLocale("ur",{months:Hs,monthsShort:Hs,weekdays:Bs,weekdaysShort:Bs,weekdaysMin:Bs,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060C D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(t){return"\u0634\u0627\u0645"===t},meridiem:function(t){return 12>t?"\u0635\u0628\u062D":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062C \u0628\u0648\u0642\u062A] LT",nextDay:"[\u06A9\u0644 \u0628\u0648\u0642\u062A] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062A] LT",lastDay:"[\u06AF\u0630\u0634\u062A\u06C1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062A] LT",lastWeek:"[\u06AF\u0630\u0634\u062A\u06C1] dddd [\u0628\u0648\u0642\u062A] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062F",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062F \u0633\u06CC\u06A9\u0646\u0688",ss:"%d \u0633\u06CC\u06A9\u0646\u0688",m:"\u0627\u06CC\u06A9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06CC\u06A9 \u06AF\u06BE\u0646\u0679\u06C1",hh:"%d \u06AF\u06BE\u0646\u0679\u06D2",d:"\u0627\u06CC\u06A9 \u062F\u0646",dd:"%d \u062F\u0646",M:"\u0627\u06CC\u06A9 \u0645\u0627\u06C1",MM:"%d \u0645\u0627\u06C1",y:"\u0627\u06CC\u06A9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060C")},week:{dow:1,doy:4}}),Pe.defineLocale("uz-latn",{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust","Sentabr","Oktabr","Noyabr","Dekabr"],monthsShort:["Yan","Fev","Mar","Apr","May","Iyun","Iyul","Avg","Sen","Okt","Noy","Dek"],weekdays:["Yakshanba","Dushanba","Seshanba","Chorshanba","Payshanba","Juma","Shanba"],weekdaysShort:["Yak","Dush","Sesh","Chor","Pay","Jum","Shan"],weekdaysMin:["Ya","Du","Se","Cho","Pa","Ju","Sha"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}}),Pe.defineLocale("uz",{months:["\u044F\u043D\u0432\u0430\u0440","\u0444\u0435\u0432\u0440\u0430\u043B","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0435\u043B","\u043C\u0430\u0439","\u0438\u044E\u043D","\u0438\u044E\u043B","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043D\u0442\u044F\u0431\u0440","\u043E\u043A\u0442\u044F\u0431\u0440","\u043D\u043E\u044F\u0431\u0440","\u0434\u0435\u043A\u0430\u0431\u0440"],monthsShort:["\u044F\u043D\u0432","\u0444\u0435\u0432","\u043C\u0430\u0440","\u0430\u043F\u0440","\u043C\u0430\u0439","\u0438\u044E\u043D","\u0438\u044E\u043B","\u0430\u0432\u0433","\u0441\u0435\u043D","\u043E\u043A\u0442","\u043D\u043E\u044F","\u0434\u0435\u043A"],weekdays:["\u042F\u043A\u0448\u0430\u043D\u0431\u0430","\u0414\u0443\u0448\u0430\u043D\u0431\u0430","\u0421\u0435\u0448\u0430\u043D\u0431\u0430","\u0427\u043E\u0440\u0448\u0430\u043D\u0431\u0430","\u041F\u0430\u0439\u0448\u0430\u043D\u0431\u0430","\u0416\u0443\u043C\u0430","\u0428\u0430\u043D\u0431\u0430"],weekdaysShort:["\u042F\u043A\u0448","\u0414\u0443\u0448","\u0421\u0435\u0448","\u0427\u043E\u0440","\u041F\u0430\u0439","\u0416\u0443\u043C","\u0428\u0430\u043D"],weekdaysMin:["\u042F\u043A","\u0414\u0443","\u0421\u0435","\u0427\u043E","\u041F\u0430","\u0416\u0443","\u0428\u0430"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043D \u0441\u043E\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042D\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043A\u0443\u043D\u0438 \u0441\u043E\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041A\u0435\u0447\u0430 \u0441\u043E\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043D] dddd [\u043A\u0443\u043D\u0438 \u0441\u043E\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042F\u043A\u0438\u043D %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043D\u0435\u0447\u0430 %s \u043E\u043B\u0434\u0438\u043D",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043A\u0438\u043A\u0430",mm:"%d \u0434\u0430\u043A\u0438\u043A\u0430",h:"\u0431\u0438\u0440 \u0441\u043E\u0430\u0442",hh:"%d \u0441\u043E\u0430\u0442",d:"\u0431\u0438\u0440 \u043A\u0443\u043D",dd:"%d \u043A\u0443\u043D",M:"\u0431\u0438\u0440 \u043E\u0439",MM:"%d \u043E\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043B",yy:"%d \u0439\u0438\u043B"},week:{dow:1,doy:7}}),Pe.defineLocale("vi",{months:["th\xE1ng 1","th\xE1ng 2","th\xE1ng 3","th\xE1ng 4","th\xE1ng 5","th\xE1ng 6","th\xE1ng 7","th\xE1ng 8","th\xE1ng 9","th\xE1ng 10","th\xE1ng 11","th\xE1ng 12"],monthsShort:["Thg 01","Thg 02","Thg 03","Thg 04","Thg 05","Thg 06","Thg 07","Thg 08","Thg 09","Thg 10","Thg 11","Thg 12"],monthsParseExact:!0,weekdays:["ch\u1EE7 nh\u1EADt","th\u1EE9 hai","th\u1EE9 ba","th\u1EE9 t\u01B0","th\u1EE9 n\u0103m","th\u1EE9 s\xE1u","th\u1EE9 b\u1EA3y"],weekdaysShort:["CN","T2","T3","T4","T5","T6","T7"],weekdaysMin:["CN","T2","T3","T4","T5","T6","T7"],weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return /^ch$/i.test(t)},meridiem:function(i,e,a){return 12>i?a?"sa":"SA":a?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xF4m nay l\xFAc] LT",nextDay:"[Ng\xE0y mai l\xFAc] LT",nextWeek:"dddd [tu\u1EA7n t\u1EDBi l\xFAc] LT",lastDay:"[H\xF4m qua l\xFAc] LT",lastWeek:"dddd [tu\u1EA7n tr\u01B0\u1EDBc l\xFAc] LT",sameElse:"L"},relativeTime:{future:"%s t\u1EDBi",past:"%s tr\u01B0\u1EDBc",s:"v\xE0i gi\xE2y",ss:"%d gi\xE2y",m:"m\u1ED9t ph\xFAt",mm:"%d ph\xFAt",h:"m\u1ED9t gi\u1EDD",hh:"%d gi\u1EDD",d:"m\u1ED9t ng\xE0y",dd:"%d ng\xE0y",w:"m\u1ED9t tu\u1EA7n",ww:"%d tu\u1EA7n",M:"m\u1ED9t th\xE1ng",MM:"%d th\xE1ng",y:"m\u1ED9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}}),Pe.defineLocale("x-pseudo",{months:["J~\xE1\xF1\xFA\xE1~r\xFD","F~\xE9br\xFA~\xE1r\xFD","~M\xE1rc~h","\xC1p~r\xEDl","~M\xE1\xFD","~J\xFA\xF1\xE9~","J\xFAl~\xFD","\xC1\xFA~g\xFAst~","S\xE9p~t\xE9mb~\xE9r","\xD3~ct\xF3b~\xE9r","\xD1~\xF3v\xE9m~b\xE9r","~D\xE9c\xE9~mb\xE9r"],monthsShort:["J~\xE1\xF1","~F\xE9b","~M\xE1r","~\xC1pr","~M\xE1\xFD","~J\xFA\xF1","~J\xFAl","~\xC1\xFAg","~S\xE9p","~\xD3ct","~\xD1\xF3v","~D\xE9c"],monthsParseExact:!0,weekdays:["S~\xFA\xF1d\xE1~\xFD","M\xF3~\xF1d\xE1\xFD~","T\xFA\xE9~sd\xE1\xFD~","W\xE9d~\xF1\xE9sd~\xE1\xFD","T~h\xFArs~d\xE1\xFD","~Fr\xEDd~\xE1\xFD","S~\xE1t\xFAr~d\xE1\xFD"],weekdaysShort:["S~\xFA\xF1","~M\xF3\xF1","~T\xFA\xE9","~W\xE9d","~Th\xFA","~Fr\xED","~S\xE1t"],weekdaysMin:["S~\xFA","M\xF3~","T\xFA","~W\xE9","T~h","Fr~","S\xE1"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xF3d\xE1~\xFD \xE1t] LT",nextDay:"[T~\xF3m\xF3~rr\xF3~w \xE1t] LT",nextWeek:"dddd [\xE1t] LT",lastDay:"[\xDD~\xE9st~\xE9rd\xE1~\xFD \xE1t] LT",lastWeek:"[L~\xE1st] dddd [\xE1t] LT",sameElse:"L"},relativeTime:{future:"\xED~\xF1 %s",past:"%s \xE1~g\xF3",s:"\xE1 ~f\xE9w ~s\xE9c\xF3~\xF1ds",ss:"%d s~\xE9c\xF3\xF1~ds",m:"\xE1 ~m\xED\xF1~\xFAt\xE9",mm:"%d m~\xED\xF1\xFA~t\xE9s",h:"\xE1~\xF1 h\xF3~\xFAr",hh:"%d h~\xF3\xFArs",d:"\xE1 ~d\xE1\xFD",dd:"%d d~\xE1\xFDs",M:"\xE1 ~m\xF3\xF1~th",MM:"%d m~\xF3\xF1t~hs",y:"\xE1 ~\xFD\xE9\xE1r",yy:"%d \xFD~\xE9\xE1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),Pe.defineLocale("yo",{months:["S\u1EB9\u0301r\u1EB9\u0301","E\u0300re\u0300le\u0300","\u1EB8r\u1EB9\u0300na\u0300","I\u0300gbe\u0301","E\u0300bibi","O\u0300ku\u0300du","Ag\u1EB9mo","O\u0300gu\u0301n","Owewe","\u1ECC\u0300wa\u0300ra\u0300","Be\u0301lu\u0301","\u1ECC\u0300p\u1EB9\u0300\u0300"],monthsShort:["S\u1EB9\u0301r","E\u0300rl","\u1EB8rn","I\u0300gb","E\u0300bi","O\u0300ku\u0300","Ag\u1EB9","O\u0300gu\u0301","Owe","\u1ECC\u0300wa\u0300","Be\u0301l","\u1ECC\u0300p\u1EB9\u0300\u0300"],weekdays:["A\u0300i\u0300ku\u0301","Aje\u0301","I\u0300s\u1EB9\u0301gun","\u1ECCj\u1ECD\u0301ru\u0301","\u1ECCj\u1ECD\u0301b\u1ECD","\u1EB8ti\u0300","A\u0300ba\u0301m\u1EB9\u0301ta"],weekdaysShort:["A\u0300i\u0300k","Aje\u0301","I\u0300s\u1EB9\u0301","\u1ECCjr","\u1ECCjb","\u1EB8ti\u0300","A\u0300ba\u0301"],weekdaysMin:["A\u0300i\u0300","Aj","I\u0300s","\u1ECCr","\u1ECCb","\u1EB8t","A\u0300b"],longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ECC\u0300la ni] LT",nextWeek:"dddd [\u1ECCs\u1EB9\u0300 to\u0301n'b\u1ECD] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1ECCs\u1EB9\u0300 to\u0301l\u1ECD\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ECDja\u0301",s:"i\u0300s\u1EB9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1EB9ju\u0301 kan",mm:"i\u0300s\u1EB9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ECDj\u1ECD\u0301 kan",dd:"\u1ECDj\u1ECD\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ECDdu\u0301n kan",yy:"\u1ECDdu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ECDj\u1ECD\u0301 %d",week:{dow:1,doy:4}}),Pe.defineLocale("zh-cn",{months:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthsShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],weekdays:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],weekdaysShort:["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],weekdaysMin:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5Ah\u70B9mm\u5206",LLLL:"YYYY\u5E74M\u6708D\u65E5ddddAh\u70B9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,i){return 12===t&&(t=0),"\u51CC\u6668"===i||"\u65E9\u4E0A"===i||"\u4E0A\u5348"===i||"\u4E0B\u5348"!==i&&"\u665A\u4E0A"!==i&&11<=t?t:t+12},meridiem:function(t,e){var a=100*t+e;return 600>a?"\u51CC\u6668":900>a?"\u65E9\u4E0A":1130>a?"\u4E0A\u5348":1230>a?"\u4E2D\u5348":1800>a?"\u4E0B\u5348":"\u665A\u4E0A"},calendar:{sameDay:"[\u4ECA\u5929]LT",nextDay:"[\u660E\u5929]LT",nextWeek:function(t){return t.week()===this.week()?"[\u672C]dddLT":"[\u4E0B]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(t){return this.week()===t.week()?"[\u672C]dddLT":"[\u4E0A]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(t,e){return"d"===e||"D"===e||"DDD"===e?t+"\u65E5":"M"===e?t+"\u6708":"w"===e||"W"===e?t+"\u5468":t},relativeTime:{future:"%s\u540E",past:"%s\u524D",s:"\u51E0\u79D2",ss:"%d \u79D2",m:"1 \u5206\u949F",mm:"%d \u5206\u949F",h:"1 \u5C0F\u65F6",hh:"%d \u5C0F\u65F6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4E2A\u6708",MM:"%d \u4E2A\u6708",y:"1 \u5E74",yy:"%d \u5E74"},week:{dow:1,doy:4}}),Pe.defineLocale("zh-hk",{months:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthsShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],weekdays:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],weekdaysShort:["\u9031\u65E5","\u9031\u4E00","\u9031\u4E8C","\u9031\u4E09","\u9031\u56DB","\u9031\u4E94","\u9031\u516D"],weekdaysMin:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5 HH:mm",LLLL:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,i){return 12===t&&(t=0),"\u51CC\u6668"===i||"\u65E9\u4E0A"===i||"\u4E0A\u5348"===i?t:"\u4E2D\u5348"===i?11<=t?t:t+12:"\u4E0B\u5348"===i||"\u665A\u4E0A"===i?t+12:void 0},meridiem:function(t,e){var a=100*t+e;return 600>a?"\u51CC\u6668":900>a?"\u65E9\u4E0A":1200>a?"\u4E0A\u5348":1200===a?"\u4E2D\u5348":1800>a?"\u4E0B\u5348":"\u665A\u4E0A"},calendar:{sameDay:"[\u4ECA\u5929]LT",nextDay:"[\u660E\u5929]LT",nextWeek:"[\u4E0B]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4E0A]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){return"d"===e||"D"===e||"DDD"===e?t+"\u65E5":"M"===e?t+"\u6708":"w"===e||"W"===e?t+"\u9031":t},relativeTime:{future:"%s\u5F8C",past:"%s\u524D",s:"\u5E7E\u79D2",ss:"%d \u79D2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5C0F\u6642",hh:"%d \u5C0F\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500B\u6708",MM:"%d \u500B\u6708",y:"1 \u5E74",yy:"%d \u5E74"}}),Pe.defineLocale("zh-mo",{months:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthsShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],weekdays:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],weekdaysShort:["\u9031\u65E5","\u9031\u4E00","\u9031\u4E8C","\u9031\u4E09","\u9031\u56DB","\u9031\u4E94","\u9031\u516D"],weekdaysMin:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5 HH:mm",LLLL:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,i){return 12===t&&(t=0),"\u51CC\u6668"===i||"\u65E9\u4E0A"===i||"\u4E0A\u5348"===i?t:"\u4E2D\u5348"===i?11<=t?t:t+12:"\u4E0B\u5348"===i||"\u665A\u4E0A"===i?t+12:void 0},meridiem:function(t,e){var a=100*t+e;return 600>a?"\u51CC\u6668":900>a?"\u65E9\u4E0A":1130>a?"\u4E0A\u5348":1230>a?"\u4E2D\u5348":1800>a?"\u4E0B\u5348":"\u665A\u4E0A"},calendar:{sameDay:"[\u4ECA\u5929] LT",nextDay:"[\u660E\u5929] LT",nextWeek:"[\u4E0B]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4E0A]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){return"d"===e||"D"===e||"DDD"===e?t+"\u65E5":"M"===e?t+"\u6708":"w"===e||"W"===e?t+"\u9031":t},relativeTime:{future:"%s\u5167",past:"%s\u524D",s:"\u5E7E\u79D2",ss:"%d \u79D2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5C0F\u6642",hh:"%d \u5C0F\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500B\u6708",MM:"%d \u500B\u6708",y:"1 \u5E74",yy:"%d \u5E74"}}),Pe.defineLocale("zh-tw",{months:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthsShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],weekdays:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],weekdaysShort:["\u9031\u65E5","\u9031\u4E00","\u9031\u4E8C","\u9031\u4E09","\u9031\u56DB","\u9031\u4E94","\u9031\u516D"],weekdaysMin:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5 HH:mm",LLLL:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,i){return 12===t&&(t=0),"\u51CC\u6668"===i||"\u65E9\u4E0A"===i||"\u4E0A\u5348"===i?t:"\u4E2D\u5348"===i?11<=t?t:t+12:"\u4E0B\u5348"===i||"\u665A\u4E0A"===i?t+12:void 0},meridiem:function(t,e){var a=100*t+e;return 600>a?"\u51CC\u6668":900>a?"\u65E9\u4E0A":1130>a?"\u4E0A\u5348":1230>a?"\u4E2D\u5348":1800>a?"\u4E0B\u5348":"\u665A\u4E0A"},calendar:{sameDay:"[\u4ECA\u5929] LT",nextDay:"[\u660E\u5929] LT",nextWeek:"[\u4E0B]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4E0A]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){return"d"===e||"D"===e||"DDD"===e?t+"\u65E5":"M"===e?t+"\u6708":"w"===e||"W"===e?t+"\u9031":t},relativeTime:{future:"%s\u5F8C",past:"%s\u524D",s:"\u5E7E\u79D2",ss:"%d \u79D2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5C0F\u6642",hh:"%d \u5C0F\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500B\u6708",MM:"%d \u500B\u6708",y:"1 \u5E74",yy:"%d \u5E74"}}),Pe.locale("en"),Pe}),function(e,t){"function"==typeof define&&define.amd?define("wavesurfer",[],function(){return e.WaveSurfer=t()}):"object"==typeof exports?module.exports=t():e.WaveSurfer=t()}(this,function(){var t=Math.round,a=Math.ceil,n=Math.floor,s=Math.min,o=Math.max,d={defaultParams:{audioContext:null,audioRate:1,autoCenter:!0,backend:"WebAudio",container:null,cursorColor:"#333",cursorWidth:1,dragSelection:!0,fillParent:!0,forceDecode:!1,height:128,hideScrollbar:!1,interact:!0,loopSelection:!0,mediaContainer:null,mediaControls:!1,mediaType:"audio",minPxPerSec:20,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,progressColor:"#555",normalize:!1,renderer:"MultiCanvas",scrollParent:!1,skipLength:2,splitChannels:!1,waveColor:"#999"},init:function(e){if(this.params=d.util.extend({},this.defaultParams,e),this.container="string"==typeof e.container?document.querySelector(this.params.container):this.params.container,!this.container)throw new Error("Container element not found");if(this.mediaContainer=null==this.params.mediaContainer?this.container:"string"==typeof this.params.mediaContainer?document.querySelector(this.params.mediaContainer):this.params.mediaContainer,!this.mediaContainer)throw new Error("Media Container element not found");this.savedVolume=0,this.isMuted=!1,this.tmpEvents=[],this.currentAjax=null,this.createDrawer(),this.createBackend(),this.createPeakCache(),this.isDestroyed=!1},createDrawer:function(){var t=this;this.drawer=Object.create(d.Drawer[this.params.renderer]),this.drawer.init(this.container,this.params),this.drawer.on("redraw",function(){t.drawBuffer(),t.drawer.progress(t.backend.getPlayedPercents())}),this.drawer.on("click",function(a,e){setTimeout(function(){t.seekTo(e)},0)}),this.drawer.on("scroll",function(a){t.params.partialRender&&t.drawBuffer(),t.fireEvent("scroll",a)})},createBackend:function(){var e=this;this.backend&&this.backend.destroy(),"AudioElement"==this.params.backend&&(this.params.backend="MediaElement"),"WebAudio"!=this.params.backend||d.WebAudio.supportsWebAudio()||(this.params.backend="MediaElement"),this.backend=Object.create(d[this.params.backend]),this.backend.init(this.params),this.backend.on("finish",function(){e.fireEvent("finish")}),this.backend.on("play",function(){e.fireEvent("play")}),this.backend.on("pause",function(){e.fireEvent("pause")}),this.backend.on("audioprocess",function(t){e.drawer.progress(e.backend.getPlayedPercents()),e.fireEvent("audioprocess",t)})},createPeakCache:function(){this.params.partialRender&&(this.peakCache=Object.create(d.PeakCache),this.peakCache.init())},getDuration:function(){return this.backend.getDuration()},getCurrentTime:function(){return this.backend.getCurrentTime()},play:function(e,t){this.fireEvent("interaction",this.play.bind(this,e,t)),this.backend.play(e,t)},pause:function(){this.backend.isPaused()||this.backend.pause()},playPause:function(){this.backend.isPaused()?this.play():this.pause()},isPlaying:function(){return!this.backend.isPaused()},skipBackward:function(e){this.skip(-e||-this.params.skipLength)},skipForward:function(e){this.skip(e||this.params.skipLength)},skip:function(e){var t=this.getCurrentTime()||0,a=this.getDuration()||1;t=o(0,s(a,t+(e||0))),this.seekAndCenter(t/a)},seekAndCenter:function(e){this.seekTo(e),this.drawer.recenter(e)},seekTo:function(e){this.fireEvent("interaction",this.seekTo.bind(this,e));var t=this.backend.isPaused();t||this.backend.pause();var a=this.params.scrollParent;this.params.scrollParent=!1,this.backend.seekTo(e*this.getDuration()),this.drawer.progress(this.backend.getPlayedPercents()),t||this.backend.play(),this.params.scrollParent=a,this.fireEvent("seek",e)},stop:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)},setVolume:function(e){this.backend.setVolume(e)},getVolume:function(){return this.backend.getVolume()},setPlaybackRate:function(e){this.backend.setPlaybackRate(e)},getPlaybackRate:function(){return this.backend.getPlaybackRate()},toggleMute:function(){this.setMute(!this.isMuted)},setMute:function(e){e===this.isMuted||(e?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0):(this.backend.setVolume(this.savedVolume),this.isMuted=!1))},getMute:function(){return this.isMuted},getFilters:function(){return this.backend.filters||[]},toggleScroll:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()},toggleInteraction:function(){this.params.interact=!this.params.interact},drawBuffer:function(){var e=t(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),a=this.drawer.getWidth(),n=e,o=this.drawer.getScrollX(),d=s(o+a,n);if(this.params.fillParent&&(!this.params.scrollParent||e<a)&&(n=a,o=0,d=n),this.params.partialRender)for(var r=this.peakCache.addRangeToPeakCache(n,o,d),c=0,l;c<r.length;c++)l=this.backend.getPeaks(n,r[c][0],r[c][1]),this.drawer.drawPeaks(l,n,r[c][0],r[c][1]);else{o=0,d=n;var l=this.backend.getPeaks(n,o,d);this.drawer.drawPeaks(l,n,o,d)}this.fireEvent("redraw",l,n)},zoom:function(e){this.params.minPxPerSec=e,this.params.scrollParent=!0,this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",e)},loadArrayBuffer:function(e){this.decodeArrayBuffer(e,function(e){this.isDestroyed||this.loadDecodedBuffer(e)}.bind(this))},loadDecodedBuffer:function(e){this.backend.load(e),this.drawBuffer(),this.fireEvent("ready")},loadBlob:function(e){var t=this,a=new FileReader;a.addEventListener("progress",function(a){t.onProgress(a)}),a.addEventListener("load",function(a){t.loadArrayBuffer(a.target.result)}),a.addEventListener("error",function(){t.fireEvent("error","Error reading file")}),a.readAsArrayBuffer(e),this.empty()},load:function(e,t,a){switch(this.empty(),this.params.backend){case"WebAudio":return this.loadBuffer(e,t);case"MediaElement":return this.loadMediaElement(e,t,a);}},loadBuffer:function(e,t){var a=function(t){return t&&this.tmpEvents.push(this.once("ready",t)),this.getArrayBuffer(e,this.loadArrayBuffer.bind(this))}.bind(this);return t?void(this.backend.setPeaks(t),this.drawBuffer(),this.tmpEvents.push(this.once("interaction",a))):a()},loadMediaElement:function(e,t,a){var i=e;if("string"==typeof e)this.backend.load(i,this.mediaContainer,t,a);else{var n=e;this.backend.loadElt(n,t),i=n.src}this.tmpEvents.push(this.backend.once("canplay",function(){this.drawBuffer(),this.fireEvent("ready")}.bind(this)),this.backend.once("error",function(e){this.fireEvent("error",e)}.bind(this))),t&&this.backend.setPeaks(t),(!t||this.params.forceDecode)&&this.backend.supportsWebAudio()&&this.getArrayBuffer(i,function(e){this.decodeArrayBuffer(e,function(e){this.backend.buffer=e,this.backend.setPeaks(null),this.drawBuffer(),this.fireEvent("waveform-ready")}.bind(this))}.bind(this))},decodeArrayBuffer:function(e,t){this.arraybuffer=e,this.backend.decodeArrayBuffer(e,function(a){this.isDestroyed||this.arraybuffer!=e||(t(a),this.arraybuffer=null)}.bind(this),this.fireEvent.bind(this,"error","Error decoding audiobuffer"))},getArrayBuffer:function(e,t){var a=this,i=d.util.ajax({url:e,responseType:"arraybuffer"});return this.currentAjax=i,this.tmpEvents.push(i.on("progress",function(t){a.onProgress(t)}),i.on("success",function(e){t(e),a.currentAjax=null}),i.on("error",function(t){a.fireEvent("error","XHR error: "+t.target.statusText),a.currentAjax=null})),i},onProgress:function(a){if(a.lengthComputable)var e=a.loaded/a.total;else e=a.loaded/(a.loaded+1e6);this.fireEvent("loading",t(100*e),a.target)},exportPCM:function(e,a,i){e=e||1024,a=a||1e4,i=i||!1;var n=this.backend.getPeaks(e,a),s=[].map.call(n,function(e){return t(e*a)/a}),o=JSON.stringify(s);return i||window.open("data:application/json;charset=utf-8,"+encodeURIComponent(o)),o},exportImage:function(e,t){return e||(e="image/png"),t||(t=1),this.drawer.getImage(e,t)},cancelAjax:function(){this.currentAjax&&(this.currentAjax.xhr.abort(),this.currentAjax=null)},clearTmpEvents:function(){this.tmpEvents.forEach(function(t){t.un()})},empty:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)},destroy:function(){this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),this.backend.destroy(),this.drawer.destroy(),this.isDestroyed=!0}};return d.create=function(e){var t=Object.create(d);return t.init(e),t},d.util={extend:function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){Object.keys(t).forEach(function(a){e[a]=t[a]})}),e},debounce:function(e,t,a){var i=function(){o=null,a||e.apply(s,n)},n,s,o;return function(){s=this,n=arguments;var d=a&&!o;clearTimeout(o),o=setTimeout(i,t),o||(o=setTimeout(i,t)),d&&e.apply(s,n)}},min:function(e){var t=+Infinity;for(var a in e)e[a]<t&&(t=e[a]);return t},max:function(e){var t=-Infinity;for(var a in e)e[a]>t&&(t=e[a]);return t},getId:function(){return"wavesurfer_"+Math.random().toString(32).substring(2)},ajax:function(e){var t=Object.create(d.Observer),a=new XMLHttpRequest,i=!1;return a.open(e.method||"GET",e.url,!0),a.responseType=e.responseType||"json",a.addEventListener("progress",function(a){t.fireEvent("progress",a),a.lengthComputable&&a.loaded==a.total&&(i=!0)}),a.addEventListener("load",function(n){i||t.fireEvent("progress",n),t.fireEvent("load",n),200==a.status||206==a.status?t.fireEvent("success",a.response,n):t.fireEvent("error",n)}),a.addEventListener("error",function(a){t.fireEvent("error",a)}),a.send(),t.xhr=a,t}},d.Observer={on:function(e,t){this.handlers||(this.handlers={});var a=this.handlers[e];return a||(a=this.handlers[e]=[]),a.push(t),{name:e,callback:t,un:this.un.bind(this,e,t)}},un:function(e,t){if(this.handlers){var a=this.handlers[e];if(a)if(t)for(var n=a.length-1;0<=n;n--)a[n]==t&&a.splice(n,1);else a.length=0}},unAll:function(){this.handlers=null},once:function(e,t){var a=this,i=function(){t.apply(this,arguments),setTimeout(function(){a.un(e,i)},0)};return this.on(e,i)},fireEvent:function(e){if(this.handlers){var t=this.handlers[e],a=Array.prototype.slice.call(arguments,1);t&&t.forEach(function(e){e.apply(null,a)})}}},d.util.extend(d,d.Observer),d.WebAudio={scriptBufferSize:256,PLAYING_STATE:0,PAUSED_STATE:1,FINISHED_STATE:2,supportsWebAudio:function(){return!!(window.AudioContext||window.webkitAudioContext)},getAudioContext:function(){return this.ac||(this.ac=new(window.AudioContext||window.webkitAudioContext)),this.ac},getOfflineAudioContext:function(e){return d.WebAudio.offlineAudioContext||(d.WebAudio.offlineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,e)),d.WebAudio.offlineAudioContext},init:function(e){this.params=e,this.ac=e.audioContext||this.getAudioContext(),this.lastPlay=this.ac.currentTime,this.startPosition=0,this.scheduledPause=null,this.states=[Object.create(d.WebAudio.state.playing),Object.create(d.WebAudio.state.paused),Object.create(d.WebAudio.state.finished)],this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(this.PAUSED_STATE),this.setPlaybackRate(this.params.audioRate),this.setLength(0)},disconnectFilters:function(){this.filters&&(this.filters.forEach(function(e){e&&e.disconnect()}),this.filters=null,this.analyser.connect(this.gainNode))},setState:function(e){this.state!==this.states[e]&&(this.state=this.states[e],this.state.init.call(this))},setFilter:function(){this.setFilters([].slice.call(arguments))},setFilters:function(e){this.disconnectFilters(),e&&e.length&&(this.filters=e,this.analyser.disconnect(),e.reduce(function(e,t){return e.connect(t),t},this.analyser).connect(this.gainNode))},createScriptNode:function(){this.scriptNode=this.ac.createScriptProcessor?this.ac.createScriptProcessor(this.scriptBufferSize):this.ac.createJavaScriptNode(this.scriptBufferSize),this.scriptNode.connect(this.ac.destination)},addOnAudioProcess:function(){var e=this;this.scriptNode.onaudioprocess=function(){var t=e.getCurrentTime();t>=e.getDuration()?(e.setState(e.FINISHED_STATE),e.fireEvent("pause")):t>=e.scheduledPause?e.pause():e.state===e.states[e.PLAYING_STATE]&&e.fireEvent("audioprocess",t)}},removeOnAudioProcess:function(){this.scriptNode.onaudioprocess=null},createAnalyserNode:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)},createVolumeNode:function(){this.gainNode=this.ac.createGain?this.ac.createGain():this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)},setVolume:function(e){this.gainNode.gain.value=e},getVolume:function(){return this.gainNode.gain.value},decodeArrayBuffer:function(e,t,a){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac?this.ac.sampleRate:44100)),this.offlineAc.decodeAudioData(e,function(e){t(e)}.bind(this),a)},setPeaks:function(e){this.peaks=e},setLength:function(e){if(!(this.mergedPeaks&&e==2*this.mergedPeaks.length-1+2)){this.splitPeaks=[],this.mergedPeaks=[];for(var t=this.buffer?this.buffer.numberOfChannels:1,a=0;a<t;a++)this.splitPeaks[a]=[],this.splitPeaks[a][2*(e-1)]=0,this.splitPeaks[a][2*(e-1)+1]=0;this.mergedPeaks[2*(e-1)]=0,this.mergedPeaks[2*(e-1)+1]=0}},getPeaks:function(e,t,a){if(this.peaks)return this.peaks;this.setLength(e);for(var n=this.buffer.length/e,s=this.buffer.numberOfChannels,o=0;o<s;o++)for(var d=this.splitPeaks[o],r=this.buffer.getChannelData(o),l=t;l<=a;l++){for(var p=~~(l*n),m=0,u=0,g=p,h;g<~~(p+n);g+=~~(n/10)||1)h=r[g],h>u&&(u=h),h<m&&(m=h);d[2*l]=u,d[2*l+1]=m,(0==o||u>this.mergedPeaks[2*l])&&(this.mergedPeaks[2*l]=u),(0==o||m<this.mergedPeaks[2*l+1])&&(this.mergedPeaks[2*l+1]=m)}return this.params.splitChannels?this.splitPeaks:this.mergedPeaks},getPlayedPercents:function(){return this.state.getPlayedPercents.call(this)},disconnectSource:function(){this.source&&this.source.disconnect()},destroy:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.audioContext||"function"!=typeof this.ac.close||this.ac.close()},load:function(e){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=e,this.createSource()},createSource:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.source.playbackRate.value=this.playbackRate,this.source.buffer=this.buffer,this.source.connect(this.analyser)},isPaused:function(){return this.state!==this.states[this.PLAYING_STATE]},getDuration:function(){return this.buffer?this.buffer.duration:0},seekTo:function(e,t){if(this.buffer)return this.scheduledPause=null,null==e&&(e=this.getCurrentTime(),e>=this.getDuration()&&(e=0)),null==t&&(t=this.getDuration()),this.startPosition=e,this.lastPlay=this.ac.currentTime,this.state===this.states[this.FINISHED_STATE]&&this.setState(this.PAUSED_STATE),{start:e,end:t}},getPlayedTime:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate},play:function(e,t){if(this.buffer){this.createSource();var a=this.seekTo(e,t);e=a.start,t=a.end,this.scheduledPause=t,this.source.start(0,e,t-e),"suspended"==this.ac.state&&this.ac.resume&&this.ac.resume(),this.setState(this.PLAYING_STATE),this.fireEvent("play")}},pause:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime(),this.source&&this.source.stop(0),this.setState(this.PAUSED_STATE),this.fireEvent("pause")},getCurrentTime:function(){return this.state.getCurrentTime.call(this)},getPlaybackRate:function(){return this.playbackRate},setPlaybackRate:function(e){e=e||1,this.isPaused()?this.playbackRate=e:(this.pause(),this.playbackRate=e,this.play())}},d.WebAudio.state={},d.WebAudio.state.playing={init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}},d.WebAudio.state.paused={init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition}},d.WebAudio.state.finished={init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}},d.util.extend(d.WebAudio,d.Observer),d.MediaElement=Object.create(d.WebAudio),d.util.extend(d.MediaElement,{init:function(e){this.params=e,this.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){}},this.mediaType=e.mediaType.toLowerCase(),this.elementPosition=e.elementPosition,this.setPlaybackRate(this.params.audioRate),this.createTimer()},createTimer:function(){var e=this,t=function(){if(!e.isPaused()){e.fireEvent("audioprocess",e.getCurrentTime());var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame;a(t)}};this.on("play",t)},load:function(e,t,a,i){var n=this,s=document.createElement(this.mediaType);s.controls=this.params.mediaControls,s.autoplay=this.params.autoplay||!1,s.preload=null==i?"auto":i,s.src=e,s.style.width="100%";var o=t.querySelector(this.mediaType);o&&t.removeChild(o),t.appendChild(s),this._load(s,a)},loadElt:function(e,t){var a=this,i=e;i.controls=this.params.mediaControls,i.autoplay=this.params.autoplay||!1,this._load(i,t)},_load:function(e,t){var a=this;"function"==typeof e.load&&e.load(),e.addEventListener("error",function(){a.fireEvent("error","Error loading media element")}),e.addEventListener("canplay",function(){a.fireEvent("canplay")}),e.addEventListener("ended",function(){a.fireEvent("finish")}),this.media=e,this.peaks=t,this.onPlayEnd=null,this.buffer=null,this.setPlaybackRate(this.playbackRate)},isPaused:function(){return!this.media||this.media.paused},getDuration:function(){var e=(this.buffer||this.media).duration;return e>=1/0&&(e=this.media.seekable.end(0)),e},getCurrentTime:function(){return this.media&&this.media.currentTime},getPlayedPercents:function(){return this.getCurrentTime()/this.getDuration()||0},setPlaybackRate:function(e){this.playbackRate=e||1,this.media.playbackRate=this.playbackRate},seekTo:function(e){null!=e&&(this.media.currentTime=e),this.clearPlayEnd()},play:function(e,t){this.seekTo(e),this.media.play(),t&&this.setPlayEnd(t),this.fireEvent("play")},pause:function(){this.media&&this.media.pause(),this.clearPlayEnd(),this.fireEvent("pause")},setPlayEnd:function(e){var t=this;this.onPlayEnd=function(a){a>=e&&(t.pause(),t.seekTo(e))},this.on("audioprocess",this.onPlayEnd)},clearPlayEnd:function(){this.onPlayEnd&&(this.un("audioprocess",this.onPlayEnd),this.onPlayEnd=null)},getPeaks:function(e,t,a){return this.buffer?d.WebAudio.getPeaks.call(this,e,t,a):this.peaks||[]},getVolume:function(){return this.media.volume},setVolume:function(e){this.media.volume=e},destroy:function(){this.pause(),this.unAll(),this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}),d.AudioElement=d.MediaElement,d.Drawer={init:function(e,t){this.container=e,this.params=t,this.width=0,this.height=t.height*this.params.pixelRatio,this.lastPos=0,this.initDrawer(t),this.createWrapper(),this.createElements()},createWrapper:function(){this.wrapper=this.container.appendChild(document.createElement("wave")),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()},handleEvent:function(t,e){e||t.preventDefault();var a=t.targetTouches?t.targetTouches[0].clientX:t.clientX,i=this.wrapper.getBoundingClientRect(),n=this.width,s=this.getWidth(),o;return!this.params.fillParent&&n<s?(o=(a-i.left)*this.params.pixelRatio/n||0,1<o&&(o=1)):o=(a-i.left+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,o},setupWrapperEvents:function(){var t=this;this.wrapper.addEventListener("click",function(a){var e=t.wrapper.offsetHeight-t.wrapper.clientHeight;if(0!=e){var i=t.wrapper.getBoundingClientRect();if(a.clientY>=i.bottom-e)return}t.params.interact&&t.fireEvent("click",a,t.handleEvent(a))}),this.wrapper.addEventListener("scroll",function(a){t.fireEvent("scroll",a)})},drawPeaks:function(e,t,a,i){this.setWidth(t),this.params.barWidth?this.drawBars(e,0,a,i):this.drawWave(e,0,a,i)},style:function(e,t){return Object.keys(t).forEach(function(a){e.style[a]!==t[a]&&(e.style[a]=t[a])}),e},resetScroll:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)},recenter:function(e){var t=this.wrapper.scrollWidth*e;this.recenterOnPosition(t,!0)},recenterOnPosition:function(e,t){var a=this.wrapper.scrollLeft,i=~~(this.wrapper.clientWidth/2),n=e-i,d=n-a,r=this.wrapper.scrollWidth-this.wrapper.clientWidth;if(0!=r){if(!t&&-i<=d&&d<i){d=o(-5,s(5,d)),n=a+d}n=o(0,s(r,n)),n!=a&&(this.wrapper.scrollLeft=n)}},getScrollX:function(){return t(this.wrapper.scrollLeft*this.params.pixelRatio)},getWidth:function(){return t(this.container.clientWidth*this.params.pixelRatio)},setWidth:function(e){this.width==e||(this.width=e,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:""}):this.style(this.wrapper,{width:~~(this.width/this.params.pixelRatio)+"px"}),this.updateSize())},setHeight:function(e){e==this.height||(this.height=e,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize())},progress:function(e){var a=1/this.params.pixelRatio,i=t(e*this.width)*a;if(i<this.lastPos||i-this.lastPos>=a){if(this.lastPos=i,this.params.scrollParent&&this.params.autoCenter){var n=~~(this.wrapper.scrollWidth*e);this.recenterOnPosition(n)}this.updateProgress(i)}},destroy:function(){this.unAll(),this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=null)},initDrawer:function(){},createElements:function(){},updateSize:function(){},drawWave:function(){},clearWave:function(){},updateProgress:function(){}},d.util.extend(d.Drawer,d.Observer),d.Drawer.Canvas=Object.create(d.Drawer),d.util.extend(d.Drawer.Canvas,{createElements:function(){var e=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:1,left:0,top:0,bottom:0}));if(this.waveCc=e.getContext("2d"),this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:2,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})),this.params.waveColor!=this.params.progressColor){var t=this.progressWave.appendChild(document.createElement("canvas"));this.progressCc=t.getContext("2d")}},updateSize:function(){var e=t(this.width/this.params.pixelRatio);this.waveCc.canvas.width=this.width,this.waveCc.canvas.height=this.height,this.style(this.waveCc.canvas,{width:e+"px"}),this.style(this.progressWave,{display:"block"}),this.progressCc&&(this.progressCc.canvas.width=this.width,this.progressCc.canvas.height=this.height,this.style(this.progressCc.canvas,{width:e+"px"})),this.clearWave()},clearWave:function(){this.waveCc.clearRect(0,0,this.width,this.height),this.progressCc&&this.progressCc.clearRect(0,0,this.width,this.height)},drawBars:function(e,a,s,r){var c=this;if(e[0]instanceof Array){var i=e;if(this.params.splitChannels)return this.setHeight(i.length*this.params.height*this.params.pixelRatio),void i.forEach(function(e,t){c.drawBars(e,t,s,r)});e=i[0]}var l=[].some.call(e,function(e){return 0>e}),p=1;l&&(p=2);var m=.5/this.params.pixelRatio,u=this.width,g=this.params.height*this.params.pixelRatio,v=g/2,f=e.length/p,b=this.params.barWidth*this.params.pixelRatio,A=o(this.params.pixelRatio,~~(b/2)),x=1;if(this.params.normalize){var w=d.util.max(e),k=d.util.min(e);x=-k>w?-k:w}var S=f/u;this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(o){if(o)for(var d=s/S;d<r/S;d+=b+A){var c=e[n(d*S*p)]||0,l=t(c/x*v);o.fillRect(d+m,v-l+(g*a||0),b+m,2*l)}},this)},drawWave:function(e,a,n,s){var o=this;if(e[0]instanceof Array){var r=e;if(this.params.splitChannels)return this.setHeight(r.length*this.params.height*this.params.pixelRatio),void r.forEach(function(e,t){o.drawWave(e,t,n,s)});e=r[0]}var c=[].some.call(e,function(e){return 0>e});if(!c){for(var l=[],p=0,m=e.length;p<m;p++)l[2*p]=e[p],l[2*p+1]=-e[p];e=l}var u=.5/this.params.pixelRatio,g=this.params.height*this.params.pixelRatio,v=g*a||0,f=g/2,b=~~(e.length/2),A=1;this.params.fillParent&&this.width!=b&&(A=this.width/b);var x=1;if(this.params.normalize){var w=d.util.max(e),k=d.util.min(e);x=-k>w?-k:w}this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(a){if(a){a.beginPath(),a.moveTo(n*A+u,f+v);for(var o=n,d;o<s;o++)d=t(e[2*o]/x*f),a.lineTo(o*A+u,f-d+v);for(var o=s-1,d;o>=n;o--)d=t(e[2*o+1]/x*f),a.lineTo(o*A+u,f-d+v);a.closePath(),a.fill(),a.fillRect(0,f+v-u,this.width,u)}},this)},updateProgress:function(e){this.style(this.progressWave,{width:e+"px"})},getImage:function(e,t){return this.waveCc.canvas.toDataURL(e,t)}}),d.Drawer.MultiCanvas=Object.create(d.Drawer),d.util.extend(d.Drawer.MultiCanvas,{initDrawer:function(e){if(this.maxCanvasWidth=null==e.maxCanvasWidth?4e3:e.maxCanvasWidth,this.maxCanvasElementWidth=t(this.maxCanvasWidth/this.params.pixelRatio),1>=this.maxCanvasWidth)throw"maxCanvasWidth must be greater than 1.";else if(1==this.maxCanvasWidth%2)throw"maxCanvasWidth must be an even number.";this.hasProgressCanvas=this.params.waveColor!=this.params.progressColor,this.halfPixel=.5/this.params.pixelRatio,this.canvases=[]},createElements:function(){this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:2,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})),this.addCanvas()},updateSize:function(){for(var e=t(this.width/this.params.pixelRatio),n=a(e/this.maxCanvasElementWidth);this.canvases.length<n;)this.addCanvas();for(;this.canvases.length>n;)this.removeCanvas();for(var s in this.canvases){var i=this.maxCanvasWidth+2*a(this.params.pixelRatio/2);s==this.canvases.length-1&&(i=this.width-this.maxCanvasWidth*(this.canvases.length-1)),this.updateDimensions(this.canvases[s],i,this.height),this.clearWaveForEntry(this.canvases[s])}},addCanvas:function(){var e={},t=this.maxCanvasElementWidth*this.canvases.length;e.wave=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:1,left:t+"px",top:0,bottom:0})),e.waveCtx=e.wave.getContext("2d"),this.hasProgressCanvas&&(e.progress=this.progressWave.appendChild(this.style(document.createElement("canvas"),{position:"absolute",left:t+"px",top:0,bottom:0})),e.progressCtx=e.progress.getContext("2d")),this.canvases.push(e)},removeCanvas:function(){var e=this.canvases.pop();e.wave.parentElement.removeChild(e.wave),this.hasProgressCanvas&&e.progress.parentElement.removeChild(e.progress)},updateDimensions:function(e,a,i){var n=t(a/this.params.pixelRatio),s=t(this.width/this.params.pixelRatio);e.start=e.waveCtx.canvas.offsetLeft/s||0,e.end=e.start+n/s,e.waveCtx.canvas.width=a,e.waveCtx.canvas.height=i,this.style(e.waveCtx.canvas,{width:n+"px"}),this.style(this.progressWave,{display:"block"}),this.hasProgressCanvas&&(e.progressCtx.canvas.width=a,e.progressCtx.canvas.height=i,this.style(e.progressCtx.canvas,{width:n+"px"}))},clearWave:function(){for(var e in this.canvases)this.clearWaveForEntry(this.canvases[e])},clearWaveForEntry:function(e){e.waveCtx.clearRect(0,0,e.waveCtx.canvas.width,e.waveCtx.canvas.height),this.hasProgressCanvas&&e.progressCtx.clearRect(0,0,e.progressCtx.canvas.width,e.progressCtx.canvas.height)},drawBars:function(e,a,s,r){var c=this;if(e[0]instanceof Array){var l=e;if(this.params.splitChannels)return this.setHeight(l.length*this.params.height*this.params.pixelRatio),void l.forEach(function(e,t){c.drawBars(e,t,s,r)});e=l[0]}var p=[].some.call(e,function(e){return 0>e}),m=1;p&&(m=2);var u=this.width,g=this.params.height*this.params.pixelRatio,v=g/2,f=e.length/m,b=this.params.barWidth*this.params.pixelRatio,A=o(this.params.pixelRatio,~~(b/2)),x=1;if(this.params.normalize){var w=d.util.max(e),k=d.util.min(e);x=-k>w?-k:w}for(var S=f/u,C=s/S;C<r/S;C+=b+A){var M=e[n(C*S*m)]||0,L=t(M/x*v);this.fillRect(C+this.halfPixel,v-L+(g*a||0),b+this.halfPixel,2*L)}},drawWave:function(e,t,a,n){var s=this;if(e[0]instanceof Array){var o=e;if(this.params.splitChannels)return this.setHeight(o.length*this.params.height*this.params.pixelRatio),void o.forEach(function(e,t){s.drawWave(e,t,a,n)});e=o[0]}var r=[].some.call(e,function(e){return 0>e});if(!r){for(var c=[],l=0,p=e.length;l<p;l++)c[2*l]=e[l],c[2*l+1]=-e[l];e=c}var m=this.params.height*this.params.pixelRatio,u=m*t||0,g=m/2,h=1;if(this.params.normalize){var v=d.util.max(e),f=d.util.min(e);h=-f>v?-f:v}this.drawLine(e,h,g,u,a,n),this.fillRect(0,g+u-this.halfPixel,this.width,this.halfPixel)},drawLine:function(e,t,a,i,n,s){for(var o in this.canvases){var d=this.canvases[o];this.setFillStyles(d),this.drawLineToContext(d,d.waveCtx,e,t,a,i,n,s),this.drawLineToContext(d,d.progressCtx,e,t,a,i,n,s)}},drawLineToContext:function(e,a,n,d,r,c,l,p){if(a){var m=n.length/2,u=1;this.params.fillParent&&this.width!=m&&(u=this.width/m);var g=t(m*e.start),v=t(m*e.end);if(!(g>p||v<l)){var f=o(g,l),b=s(v,p);a.beginPath(),a.moveTo((f-g)*u+this.halfPixel,r+c);for(var A=f;A<b;A++){var x=n[2*A]||0,w=t(x/d*r);a.lineTo((A-g)*u+this.halfPixel,r-w+c)}for(var A=b-1;A>=f;A--){var x=n[2*A+1]||0,w=t(x/d*r);a.lineTo((A-g)*u+this.halfPixel,r-w+c)}a.closePath(),a.fill()}}},fillRect:function(e,t,d,r){for(var c=n(e/this.maxCanvasWidth),l=s(a((e+d)/this.maxCanvasWidth)+1,this.canvases.length),p=c;p<l;p++){var m=this.canvases[p],u=p*this.maxCanvasWidth,g={x1:o(e,p*this.maxCanvasWidth),y1:t,x2:s(e+d,p*this.maxCanvasWidth+m.waveCtx.canvas.width),y2:t+r};g.x1<g.x2&&(this.setFillStyles(m),this.fillRectToContext(m.waveCtx,g.x1-u,g.y1,g.x2-g.x1,g.y2-g.y1),this.fillRectToContext(m.progressCtx,g.x1-u,g.y1,g.x2-g.x1,g.y2-g.y1))}},fillRectToContext:function(e,t,a,i,n){e&&e.fillRect(t,a,i,n)},setFillStyles:function(e){e.waveCtx.fillStyle=this.params.waveColor,this.hasProgressCanvas&&(e.progressCtx.fillStyle=this.params.progressColor)},updateProgress:function(e){this.style(this.progressWave,{width:e+"px"})}}),d.PeakCache={init:function(){this.clearPeakCache()},clearPeakCache:function(){this.peakCacheRanges=[],this.peakCacheLength=-1},addRangeToPeakCache:function(e,t,a){e!=this.peakCacheLength&&(this.clearPeakCache(),this.peakCacheLength=e);for(var n=[],s=0;s<this.peakCacheRanges.length&&this.peakCacheRanges[s]<t;)s++;for(0==s%2&&n.push(t);s<this.peakCacheRanges.length&&this.peakCacheRanges[s]<=a;)n.push(this.peakCacheRanges[s]),s++;0==s%2&&n.push(a),n=n.filter(function(e,t,a){return 0==t?e!=a[t+1]:t==a.length-1?e!=a[t-1]:e!=a[t-1]&&e!=a[t+1]}),this.peakCacheRanges=this.peakCacheRanges.concat(n),this.peakCacheRanges=this.peakCacheRanges.sort(function(e,t){return e-t}).filter(function(e,t,a){return 0==t?e!=a[t+1]:t==a.length-1?e!=a[t-1]:e!=a[t-1]&&e!=a[t+1]});var o=[];for(s=0;s<n.length;s+=2)o.push([n[s],n[s+1]]);return o},getCacheRanges:function(){for(var e=[],t=0;t<this.peakCacheRanges.length;t+=2)e.push([this.peakCacheRanges[t],this.peakCacheRanges[t+1]]);return e}},function(){var e=function(){var e=document.querySelectorAll("wavesurfer");Array.prototype.forEach.call(e,function(e){var t=d.util.extend({container:e,backend:"MediaElement",mediaControls:!0},e.dataset);e.style.display="block";var a=d.create(t);if(e.dataset.peaks)var i=JSON.parse(e.dataset.peaks);a.load(e.dataset.url,i)})};"complete"===document.readyState?e():window.addEventListener("load",e)}(),d}),function(e){function t(e,t){const a=e.charCodeAt(t);if(isNaN(a))throw new RangeError("Index "+t+" out of range for string \""+e+"\"; please open an issue at https://github.com/Trott/slug/issues/new");if(55296>a||57343<a)return[e.charAt(t),t];if(55296<=a&&56319>=a){if(e.length<=t+1)return[" ",t];const a=e.charCodeAt(t+1);return 56320>a||57343<a?[" ",t]:[e.charAt(t)+e.charAt(t+1),t+1]}if(0===t)return[" ",t];const i=e.charCodeAt(t-1);if(55296>i||56319<i)return[" ",t];throw new Error("String \""+e+"\" reaches code believed to be unreachable; please open an issue at https://github.com/Trott/slug/issues/new")}function a(e,a){let s=i(e,a);if(""===s){let o="";for(let a=0;a<e.length;a++){const i=t(e,a);a=i[1],o+=i[0]}s=i(n(o),a)}return s}function i(e,t){if("string"!=typeof e)throw new Error("slug() requires a string argument, received "+typeof e);"string"==typeof t&&(t={replacement:t}),t=t?Object.assign({},t):{},t.mode=t.mode||a.defaults.mode;const n=a.defaults.modes[t.mode],o=["replacement","multicharmap","charmap","remove","lower"];for(let a=0,i=o.length,s;a<i;a++)s=o[a],t[s]=s in t?t[s]:n[s];const d=s[t.locale]||{};let r=[];for(let a in t.multicharmap){if(!Object.prototype.hasOwnProperty.call(t.multicharmap,a))continue;const e=a.length;-1===r.indexOf(e)&&r.push(e)}r=r.sort(function(e,t){return t-e});const c="rfc3986"===t.mode?/[^\w\s\-.~]/:/[^A-Za-z0-9\s]/;let l="";for(let a=0,i=e.length,n;a<i;a++){n=e[a];let i=!1;for(let s=0;s<r.length;s++){const o=r[s],d=e.substr(a,o);if(t.multicharmap[d]){a+=o-1,n=t.multicharmap[d],i=!0;break}}i||(d[n]?n=d[n]:t.charmap[n]?n=t.charmap[n]:n.includes(t.replacement)?n=n.replace(t.replacement," "):n=n.replace(c,"")),l+=n}return t.remove&&(l=l.replace(t.remove,"")),l=l.trim(),l=l.replace(/\s+/g,t.replacement),t.lower&&(l=l.toLowerCase()),l}let n;n="undefined"==typeof window?function(e){return Buffer.from(e).toString("base64")}:window.btoa?function(e){return btoa(unescape(encodeURIComponent(e)))}:function(e){const t=unescape(encodeURIComponent(e+""));let a="";for(let i=0,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s,o;t.charAt(0|i)||(n="=",i%1);a+=n.charAt(63&s>>8-8*(i%1))){if(o=t.charCodeAt(i+=3/4),255<o)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");s=s<<8|o}return a},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){'use strict';if(null===e||e===void 0)throw new TypeError("Cannot convert undefined or null to object");const t=Object(e);for(let i=1;i<arguments.length;i++){const e=arguments[i];if(null!==e&&e!==void 0)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},writable:!0,configurable:!0});const s={bg:{:"Y",:"y",X:"H",x:"h",:"Ts",:"ts",:"Sht",:"sht",:"A",:"a",:"Y",:"y"},de:{:"AE",:"ae",:"OE",:"oe",:"UE",:"ue"},sr:{:"dj",:"DJ"},uk:{:"Y",:"y",:"Y",:"y",:"Ts",:"ts",:"Kh",:"kh",:"Shch",:"shch",:"H",:"h"}},o={:"Fi",:"Ghi",:"Khi",:"Qi",:"ugDha",:"ugDhha",:"Yi",:"Za",:"i",:"e",:"e",:"e",:"a",:"a",:"o",:"o",:"u",:"u",:"b",:"k",:"k",:"p",:"sh",:"s",:"e",:"e",:"a",:"o",:"i"},d={:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"C",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"U",:"Y",:"TH",:"ss",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"OE",:"oe",:"u",:"u",:"u",:"u",:"u",:"y",:"th",:"y",:"SS",:"a",:"b",:"g",:"d",:"e",:"z",:"h",:"8",:"i",:"k",:"l",:"m",:"n",:"3",:"o",:"p",:"r",:"s",:"t",:"y",:"f",:"x",:"ps",:"w",:"a",:"e",:"i",:"o",:"y",:"h",:"w",:"s",:"i",:"y",:"y",:"i",:"A",:"B",:"G",:"D",:"E",:"Z",:"H",:"8",:"I",:"K",:"L",:"M",:"N",:"3",:"O",:"P",:"R",:"S",:"T",:"Y",:"F",:"X",:"PS",:"W",:"A",:"E",:"I",:"O",:"Y",:"H",:"W",:"I",:"Y",:"s",:"S",:"i",:"I",:"g",:"G",:"a",:"b",:"v",:"g",:"d",:"e",:"yo",:"zh",:"z",:"i",:"j",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"h",:"c",:"ch",:"sh",:"sh",:"u",:"y",:"",:"e",:"yu",:"ya",:"A",:"B",:"V",:"G",:"D",:"E",:"Yo",:"Zh",:"Z",:"I",:"J",:"K",:"L",:"M",:"N",:"O",:"P",:"R",:"S",:"T",:"U",:"F",:"H",:"C",:"Ch",:"Sh",:"Sh",:"U",:"Y",:"",:"E",:"Yu",:"Ya",:"Ye",:"I",:"Yi",:"G",:"ye",:"i",:"yi",:"g",:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z",:"l",:"l",:"r",:"L",:"L",:"R",:"a",:"c",:"e",:"l",:"n",:"s",:"z",:"z",:"A",:"C",:"E",:"L",:"N",:"S",:"Z",:"Z",:"a",:"e",:"g",:"i",:"k",:"l",:"n",:"u",:"A",:"E",:"G",:"I",:"K",:"L",:"N",:"U",:"a",:"i",:"b",:"t",:"th",:"g",:"h",:"kh",:"d",:"th",:"r",:"z",:"s",:"sh",:"s",:"d",:"t",:"th",:"aa",:"gh",:"f",:"k",:"k",:"l",:"m",:"n",:"h",:"o",:"y",:"aa",:"a",:"a",:"a",:"p",:"zh",:"g",:"ch",:"k",:"i",:"e",:"i",:"u",:"E",:"I",:"U",:"t",:"T",:"t",:"T",:"s",:"S",:"a",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"Y",:"Y",:"Y",:"Y",:"D",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"y",:"y",:"y",:"y",:"d",:"AE",:"ae",:"GH",:"gh",:"KH",:"kh",:"NG",:"ng",:"UE",:"ue",:"U",:"u",:"H",:"h",:"OE",:"oe",:"dj",:"j",:"lj",:"nj",:"c",:"dz",:"Dj",:"j",:"Lj",:"Nj",:"C",:"Dz",:"nj",:"lj",:"NJ",:"LJ",:"a",:"aa",:"e",:"ii",:"ei",:"ae",:"ai",:"i",:"o",:"oi",:"oii",:"uu",:"ou",:"u",:"B",:"Bha",:"Ca",:"Chha",:"Da",:"Dha",:"Fa",:"Ga",:"Gha",:"Ghi",:"Ha",:"Ja",:"Jha",:"Ka",:"Kha",:"Khi",:"L",:"Li",:"Li",:"Lii",:"Lii",:"Ma",:"Na",:"Na",:"Nia",:"Nae",:"Ni",:"oms",:"Pa",:"Qi",:"Ra",:"Ri",:"Ri",:"Ri",:"Sa",:"Sha",:"Shha",:"Ta",:"Ta",:"Tha",:"Tha",:"Tha",:"Thha",:"ugDha",:"ugDhha",:"Va",:"Ya",:"Yi",:"Za",:"e",:"E",:"a",:"b",:"g",:"d",:"e",:"v",:"z",:"t",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"zh",:"r",:"s",:"t",:"u",:"p",:"k",:"gh",:"q",:"sh",:"ch",:"ts",:"dz",:"ts",:"ch",:"kh",:"j",:"h",:"v",:"g",:"g",:"d",:"d",:"h",:"v",:"z",:"h",:"t",:"y",:"kh",:"kh",:"l",:"m",:"m",:"n",:"n",:"s",:"f",:"f",:"ts",:"ts",:"k",:"r",:"t",:"t"};a.charmap=Object.assign({},d),a.multicharmap=Object.assign({},o),a.defaults={charmap:a.charmap,mode:"pretty",modes:{rfc3986:{replacement:"-",remove:null,lower:!0,charmap:a.charmap,multicharmap:a.multicharmap},pretty:{replacement:"-",remove:null,lower:!0,charmap:a.charmap,multicharmap:a.multicharmap}},multicharmap:a.multicharmap},a.reset=function(){a.defaults.modes.rfc3986.charmap=a.defaults.modes.pretty.charmap=a.charmap=a.defaults.charmap=Object.assign({},d),a.defaults.modes.rfc3986.multicharmap=a.defaults.modes.pretty.multicharmap=a.multicharmap=a.defaults.multicharmap=Object.assign({},o)},a.extend=function(e){const t=Object.keys(e),n={},s={};for(let a=0;a<t.length;a++)1<t[a].length?n[t[a]]=e[t[a]]:s[t[a]]=e[t[a]];Object.assign(a.charmap,s),Object.assign(a.multicharmap,n)},"undefined"!=typeof define&&define.amd?define("slug",[],function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:e.slug=a}(this),function(){'use strict';function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,a){var n=typeof e,s;if("string"==n){var o=[],d=e.length,r=0,c;for(s=0;s<d;++s)c=e.charCodeAt(s),128>c?o[r++]=c:2048>c?(o[r++]=192|c>>6,o[r++]=128|63&c):55296>c||57344<=c?(o[r++]=224|c>>12,o[r++]=128|63&c>>6,o[r++]=128|63&c):(c=65536+((1023&c)<<10|1023&e.charCodeAt(++s)),o[r++]=240|c>>18,o[r++]=128|63&c>>12,o[r++]=128|63&c>>6,o[r++]=128|63&c);e=o}else if("object"!==n)throw new Error("input is invalid type");else if(null===e)throw new Error("input is invalid type");else if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error("input is invalid type");64<e.length&&(e=new Sha256(t,!0).update(e).array());var l=[],p=[];for(s=0;64>s;++s){var m=e[s]||0;l[s]=92^m,p[s]=54^m}Sha256.call(this,t,a),this.update(p),this.oKeyPad=l,this.inner=!0,this.sharedMemory=a}var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(a){return new Sha256(t,!0).update(a)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var a=0,n;a<OUTPUT_TYPES.length;++a)n=OUTPUT_TYPES[a],t[n]=createOutputMethod(n,e);return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null===e||void 0===e)throw new Error("input is invalid type");else e.constructor===ArrayBuffer&&(e=new Uint8Array(e));return Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(a,i){return new HmacSha256(a,t,!0).update(i)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,a){return t.create(e).update(a)};for(var a=0,n;a<OUTPUT_TYPES.length;++a)n=OUTPUT_TYPES[a],t[n]=createHmacOutputMethod(n,e);return t};Sha256.prototype.update=function(e){if(!this.finalized){var t=typeof e,a;if("string"!=t){if("object"!==t)throw new Error("input is invalid type");else if(null===e)throw new Error("input is invalid type");else if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error("input is invalid type");a=!0}for(var n=0,s=e.length,o=this.blocks,d,r;n<s;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),a)for(r=this.start;n<s&&64>r;++n)o[r>>2]|=e[n]<<SHIFT[3&r++];else for(r=this.start;n<s&&64>r;++n)d=e.charCodeAt(n),128>d?o[r>>2]|=d<<SHIFT[3&r++]:2048>d?(o[r>>2]|=(192|d>>6)<<SHIFT[3&r++],o[r>>2]|=(128|63&d)<<SHIFT[3&r++]):55296>d||57344<=d?(o[r>>2]|=(224|d>>12)<<SHIFT[3&r++],o[r>>2]|=(128|63&d>>6)<<SHIFT[3&r++],o[r>>2]|=(128|63&d)<<SHIFT[3&r++]):(d=65536+((1023&d)<<10|1023&e.charCodeAt(++n)),o[r>>2]|=(240|d>>18)<<SHIFT[3&r++],o[r>>2]|=(128|63&d>>12)<<SHIFT[3&r++],o[r>>2]|=(128|63&d>>6)<<SHIFT[3&r++],o[r>>2]|=(128|63&d)<<SHIFT[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,64<=r?(this.block=o[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return 4294967295<this.bytes&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes%=4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],56<=t&&(!this.hashed&&this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t=this.h0,i=this.h1,n=this.h2,s=this.h3,o=this.h4,r=this.h5,l=this.h6,p=this.h7,m=this.blocks,u,v,A,x,w,k,S,C,M,L,T;for(u=16;64>u;++u)w=m[u-15],v=(w>>>7|w<<25)^(w>>>18|w<<14)^w>>>3,w=m[u-2],A=(w>>>17|w<<15)^(w>>>19|w<<13)^w>>>10,m[u]=m[u-16]+v+m[u-7]+A<<0;for(T=i&n,u=0;64>u;u+=4)this.first?(this.is224?(C=300032,w=m[0]-1413257819,p=w-150054599<<0,s=w+24177077<<0):(C=704751109,w=m[0]-210244248,p=w-1521486534<<0,s=w+143694565<<0),this.first=!1):(v=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),A=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),C=t&i,x=C^t&n^T,S=o&r^~o&l,w=p+A+S+K[u]+m[u],k=v+x,p=s+w<<0,s=w+k<<0),v=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),A=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),M=s&t,x=M^s&i^C,S=p&o^~p&r,w=l+A+S+K[u+1]+m[u+1],k=v+x,l=n+w<<0,n=w+k<<0,v=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),A=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),L=n&s,x=L^n&t^M,S=l&p^~l&o,w=r+A+S+K[u+2]+m[u+2],k=v+x,r=i+w<<0,i=w+k<<0,v=(i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10),A=(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7),T=i&n,x=T^i&s^L,S=r&l^~r&p,w=o+A+S+K[u+3]+m[u+3],k=v+x,o=t+w<<0,t=w+k<<0;this.h0=this.h0+t<<0,this.h1=this.h1+i<<0,this.h2=this.h2+n<<0,this.h3=this.h3+s<<0,this.h4=this.h4+o<<0,this.h5=this.h5+r<<0,this.h6=this.h6+l<<0,this.h7=this.h7+p<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,a=this.h2,i=this.h3,n=this.h4,s=this.h5,o=this.h6,d=this.h7,r=HEX_CHARS[15&e>>28]+HEX_CHARS[15&e>>24]+HEX_CHARS[15&e>>20]+HEX_CHARS[15&e>>16]+HEX_CHARS[15&e>>12]+HEX_CHARS[15&e>>8]+HEX_CHARS[15&e>>4]+HEX_CHARS[15&e]+HEX_CHARS[15&t>>28]+HEX_CHARS[15&t>>24]+HEX_CHARS[15&t>>20]+HEX_CHARS[15&t>>16]+HEX_CHARS[15&t>>12]+HEX_CHARS[15&t>>8]+HEX_CHARS[15&t>>4]+HEX_CHARS[15&t]+HEX_CHARS[15&a>>28]+HEX_CHARS[15&a>>24]+HEX_CHARS[15&a>>20]+HEX_CHARS[15&a>>16]+HEX_CHARS[15&a>>12]+HEX_CHARS[15&a>>8]+HEX_CHARS[15&a>>4]+HEX_CHARS[15&a]+HEX_CHARS[15&i>>28]+HEX_CHARS[15&i>>24]+HEX_CHARS[15&i>>20]+HEX_CHARS[15&i>>16]+HEX_CHARS[15&i>>12]+HEX_CHARS[15&i>>8]+HEX_CHARS[15&i>>4]+HEX_CHARS[15&i]+HEX_CHARS[15&n>>28]+HEX_CHARS[15&n>>24]+HEX_CHARS[15&n>>20]+HEX_CHARS[15&n>>16]+HEX_CHARS[15&n>>12]+HEX_CHARS[15&n>>8]+HEX_CHARS[15&n>>4]+HEX_CHARS[15&n]+HEX_CHARS[15&s>>28]+HEX_CHARS[15&s>>24]+HEX_CHARS[15&s>>20]+HEX_CHARS[15&s>>16]+HEX_CHARS[15&s>>12]+HEX_CHARS[15&s>>8]+HEX_CHARS[15&s>>4]+HEX_CHARS[15&s]+HEX_CHARS[15&o>>28]+HEX_CHARS[15&o>>24]+HEX_CHARS[15&o>>20]+HEX_CHARS[15&o>>16]+HEX_CHARS[15&o>>12]+HEX_CHARS[15&o>>8]+HEX_CHARS[15&o>>4]+HEX_CHARS[15&o];return this.is224||(r+=HEX_CHARS[15&d>>28]+HEX_CHARS[15&d>>24]+HEX_CHARS[15&d>>20]+HEX_CHARS[15&d>>16]+HEX_CHARS[15&d>>12]+HEX_CHARS[15&d>>8]+HEX_CHARS[15&d>>4]+HEX_CHARS[15&d]),r},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,a=this.h2,i=this.h3,n=this.h4,s=this.h5,o=this.h6,d=this.h7,r=[255&e>>24,255&e>>16,255&e>>8,255&e,255&t>>24,255&t>>16,255&t>>8,255&t,255&a>>24,255&a>>16,255&a>>8,255&a,255&i>>24,255&i>>16,255&i>>8,255&i,255&n>>24,255&n>>16,255&n>>8,255&n,255&s>>24,255&s>>16,255&s>>8,255&s,255&o>>24,255&o>>16,255&o>>8,255&o];return this.is224||r.push(255&d>>24,255&d>>16,255&d>>8,255&d),r},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&define("sha256",[],function(){return exports}))}();(function(e){"function"==typeof define&&define.amd?define("magnific-popup",["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery||window.Zepto)})(function(t){var e=Math.min,a=function(){},i=!!window.jQuery,o=t(window),d=function(e,t){u.ev.on("mfp"+e+".mfp",t)},r=function(e,a,i,n){var s=document.createElement("div");return s.className="mfp-"+e,i&&(s.innerHTML=i),n?a&&a.appendChild(s):(s=t(s),a&&s.appendTo(a)),s},c=function(a,i){u.ev.triggerHandler("mfp"+a,i),u.st.callbacks&&(a=a.charAt(0).toLowerCase()+a.slice(1),u.st.callbacks[a]&&u.st.callbacks[a].apply(u,t.isArray(i)?i:[i]))},l=function(e){return e===b&&u.currTemplate.closeBtn||(u.currTemplate.closeBtn=t(u.st.closeMarkup.replace("%title%",u.st.tClose)),b=e),u.currTemplate.closeBtn},p=function(){t.magnificPopup.instance||(u=new a,u.init(),t.magnificPopup.instance=u)},m=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1},u,g,h,v,f,b;a.prototype={constructor:a,init:function(){var e=navigator.appVersion;u.isLowIE=u.isIE8=document.all&&!document.addEventListener,u.isAndroid=/android/gi.test(e),u.isIOS=/iphone|ipad|ipod/gi.test(e),u.supportsTransition=m(),u.probablyMobile=u.isAndroid||u.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),h=t(document),u.popupsCache={}},open:function(e){var a;if(!1===e.isObj){u.items=e.items.toArray(),u.index=0;var p=e.items,m;for(a=0;a<p.length;a++)if(m=p[a],m.parsed&&(m=m.el[0]),m===e.el[0]){u.index=a;break}}else u.items=t.isArray(e.items)?e.items:[e.items],u.index=e.index||0;if(u.isOpen)return void u.updateItemHTML();u.types=[],f="",u.ev=e.mainEl&&e.mainEl.length?e.mainEl.eq(0):h,e.key?(!u.popupsCache[e.key]&&(u.popupsCache[e.key]={}),u.currTemplate=u.popupsCache[e.key]):u.currTemplate={},u.st=t.extend(!0,{},t.magnificPopup.defaults,e),u.fixedContentPos="auto"===u.st.fixedContentPos?!u.probablyMobile:u.st.fixedContentPos,u.st.modal&&(u.st.closeOnContentClick=!1,u.st.closeOnBgClick=!1,u.st.showCloseBtn=!1,u.st.enableEscapeKey=!1),u.bgOverlay||(u.bgOverlay=r("bg").on("click.mfp",function(){u.close()}),u.wrap=r("wrap").attr("tabindex",-1).on("click.mfp",function(t){u._checkIfClose(t.target)&&u.close()}),u.container=r("container",u.wrap)),u.contentContainer=r("content"),u.st.preloader&&(u.preloader=r("preloader",u.container,u.st.tLoading));var g=t.magnificPopup.modules;for(a=0;a<g.length;a++){var v=g[a];v=v.charAt(0).toUpperCase()+v.slice(1),u["init"+v].call(u)}c("BeforeOpen"),u.st.showCloseBtn&&(u.st.closeBtnInside?(d("MarkupParse",function(t,e,a,i){a.close_replaceWith=l(i.type)}),f+=" mfp-close-btn-in"):u.wrap.append(l())),u.st.alignTop&&(f+=" mfp-align-top"),u.fixedContentPos?u.wrap.css({overflow:u.st.overflowY,overflowX:"hidden",overflowY:u.st.overflowY}):u.wrap.css({top:o.scrollTop(),position:"absolute"}),!1!==u.st.fixedBgPos&&("auto"!==u.st.fixedBgPos||u.fixedContentPos)||u.bgOverlay.css({height:h.height(),position:"absolute"}),u.st.enableEscapeKey&&h.on("keyup.mfp",function(t){27===t.keyCode&&u.close()}),o.on("resize.mfp",function(){u.updateSize()}),u.st.closeOnContentClick||(f+=" mfp-auto-cursor"),f&&u.wrap.addClass(f);var b=u.wH=o.height(),A={};if(u.fixedContentPos&&u._hasScrollBar(b)){var x=u._getScrollbarSize();x&&(A.marginRight=x)}u.fixedContentPos&&(u.isIE7?t("body, html").css("overflow","hidden"):A.overflow="hidden");var s=u.st.mainClass;return u.isIE7&&(s+=" mfp-ie7"),s&&u._addClassToMFP(s),u.updateItemHTML(),c("BuildControls"),t("html").css(A),u.bgOverlay.add(u.wrap).prependTo(u.st.prependTo||t(document.body)),u._lastFocusedEl=document.activeElement,setTimeout(function(){u.content?(u._addClassToMFP("mfp-ready"),u._setFocus()):u.bgOverlay.addClass("mfp-ready"),h.on("focusin.mfp",u._onFocusIn)},16),u.isOpen=!0,u.updateSize(b),c("Open"),e},close:function(){u.isOpen&&(c("BeforeClose"),u.isOpen=!1,u.st.removalDelay&&!u.isLowIE&&u.supportsTransition?(u._addClassToMFP("mfp-removing"),setTimeout(function(){u._close()},u.st.removalDelay)):u._close())},_close:function(){c("Close");var e="mfp-removing mfp-ready ";if(u.bgOverlay.detach(),u.wrap.detach(),u.container.empty(),u.st.mainClass&&(e+=u.st.mainClass+" "),u._removeClassFromMFP(e),u.fixedContentPos){var a={marginRight:""};u.isIE7?t("body, html").css("overflow",""):a.overflow="",t("html").css(a)}h.off("keyup.mfp focusin.mfp"),u.ev.off(".mfp"),u.wrap.attr("class","mfp-wrap").removeAttr("style"),u.bgOverlay.attr("class","mfp-bg"),u.container.attr("class","mfp-container"),u.st.showCloseBtn&&(!u.st.closeBtnInside||!0===u.currTemplate[u.currItem.type])&&u.currTemplate.closeBtn&&u.currTemplate.closeBtn.detach(),u.st.autoFocusLast&&u._lastFocusedEl&&t(u._lastFocusedEl).focus(),u.currItem=null,u.content=null,u.currTemplate=null,u.prevHeight=0,c("AfterClose")},updateSize:function(e){if(u.isIOS){var t=document.documentElement.clientWidth/window.innerWidth,a=window.innerHeight*t;u.wrap.css("height",a),u.wH=a}else u.wH=e||o.height();u.fixedContentPos||u.wrap.css("height",u.wH),c("Resize")},updateItemHTML:function(){var e=u.items[u.index];u.contentContainer.detach(),u.content&&u.content.detach(),e.parsed||(e=u.parseEl(u.index));var a=e.type;if(c("BeforeChange",[u.currItem?u.currItem.type:"",a]),u.currItem=e,!u.currTemplate[a]){var i=!!u.st[a]&&u.st[a].markup;c("FirstMarkupParse",i),u.currTemplate[a]=!i||t(i)}v&&v!==e.type&&u.container.removeClass("mfp-"+v+"-holder");var n=u["get"+a.charAt(0).toUpperCase()+a.slice(1)](e,u.currTemplate[a]);u.appendContent(n,a),e.preloaded=!0,c("Change",e),v=e.type,u.container.prepend(u.contentContainer),c("AfterChange")},appendContent:function(e,t){u.content=e,e?u.st.showCloseBtn&&u.st.closeBtnInside&&!0===u.currTemplate[t]?!u.content.find(".mfp-close").length&&u.content.append(l()):u.content=e:u.content="",c("BeforeAppend"),u.container.addClass("mfp-"+t+"-holder"),u.contentContainer.append(u.content)},parseEl:function(e){var a=u.items[e],n;if(a.tagName?a={el:t(a)}:(n=a.type,a={data:a,src:a.src}),a.el){for(var s=u.types,o=0;o<s.length;o++)if(a.el.hasClass("mfp-"+s[o])){n=s[o];break}a.src=a.el.attr("data-mfp-src"),a.src||(a.src=a.el.attr("href"))}return a.type=n||u.st.type||"inline",a.index=e,a.parsed=!0,u.items[e]=a,c("ElementParse",a),u.items[e]},addGroup:function(t,a){var i=function(i){i.mfpEl=this,u._openClick(i,t,a)};a||(a={});a.mainEl=t,a.items?(a.isObj=!0,t.off("click.magnificPopup").on("click.magnificPopup",i)):(a.isObj=!1,a.delegate?t.off("click.magnificPopup").on("click.magnificPopup",a.delegate,i):(a.items=t,t.off("click.magnificPopup").on("click.magnificPopup",i)))},_openClick:function(a,e,i){var n=i.midClick===void 0?t.magnificPopup.defaults.midClick:i.midClick;if(!(!n&&(2===a.which||a.ctrlKey||a.metaKey||a.altKey||a.shiftKey))){var s=void 0===i.disableOn?t.magnificPopup.defaults.disableOn:i.disableOn;if(s)if(t.isFunction(s)){if(!s.call(u))return!0;}else if(o.width()<s)return!0;a.type&&(a.preventDefault(),u.isOpen&&a.stopPropagation()),i.el=t(a.mfpEl),i.delegate&&(i.items=e.find(i.delegate)),u.open(i)}},updateStatus:function(e,t){if(u.preloader){g!==e&&u.container.removeClass("mfp-s-"+g),t||"loading"!==e||(t=u.st.tLoading);var a={status:e,text:t};c("UpdateStatus",a),e=a.status,t=a.text,u.preloader.html(t),u.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),u.container.addClass("mfp-s-"+e),g=e}},_checkIfClose:function(e){if(!t(e).hasClass("mfp-prevent-close")){var a=u.st.closeOnContentClick,i=u.st.closeOnBgClick;if(a&&i)return!0;if(!u.content||t(e).hasClass("mfp-close")||u.preloader&&e===u.preloader[0])return!0;if(e!==u.content[0]&&!t.contains(u.content[0],e)){if(i&&t.contains(document,e))return!0;}else if(a)return!0;return!1}},_addClassToMFP:function(e){u.bgOverlay.addClass(e),u.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),u.wrap.removeClass(e)},_hasScrollBar:function(e){return(u.isIE7?h.height():document.body.scrollHeight)>(e||o.height())},_setFocus:function(){(u.st.focus?u.content.find(u.st.focus).eq(0):u.wrap).focus()},_onFocusIn:function(a){if(a.target!==u.wrap[0]&&!t.contains(u.wrap[0],a.target))return u._setFocus(),!1},_parseMarkup:function(e,a,i){var n;i.data&&(a=t.extend(i.data,a)),c("MarkupParse",[e,a,i]),t.each(a,function(a,i){if(void 0===i||!1===i)return!0;if(n=a.split("_"),1<n.length){var s=e.find(".mfp-"+n[0]);if(0<s.length){var o=n[1];"replaceWith"===o?s[0]!==i[0]&&s.replaceWith(i):"img"===o?s.is("img")?s.attr("src",i):s.replaceWith(t("<img>").attr("src",i).attr("class",s.attr("class"))):s.attr(n[1],i)}}else e.find(".mfp-"+a).html(i)})},_getScrollbarSize:function(){if(u.scrollbarSize===void 0){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),u.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return u.scrollbarSize}},t.magnificPopup={instance:null,proto:a.prototype,modules:[],open:function(e,a){return p(),e=e?t.extend(!0,{},e):{},e.isObj=!0,e.index=a||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,a){a.options&&(t.magnificPopup.defaults[e]=a.options),t.extend(this.proto,a.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:"<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>",tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},t.fn.magnificPopup=function(e){p();var a=t(this);if(!("string"==typeof e))e=t.extend(!0,{},e),i?a.data("magnificPopup",e):a[0].magnificPopup=e,u.addGroup(a,e);else if("open"===e){var n=i?a.data("magnificPopup"):a[0].magnificPopup,s=parseInt(arguments[1],10)||0,o;n.items?o=n.items[s]:(o=a,n.delegate&&(o=o.find(n.delegate)),o=o.eq(s)),u._openClick({mfpEl:o},a,n)}else u.isOpen&&u[e].apply(u,Array.prototype.slice.call(arguments,1));return a};var A=function(){k&&(w.after(k.addClass(x)).detach(),k=null)},x,w,k;t.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){u.types.push("inline"),d("Close.inline",function(){A()})},getInline:function(e,a){if(A(),e.src){var i=u.st.inline,n=t(e.src);if(n.length){var s=n[0].parentNode;s&&s.tagName&&(!w&&(x=i.hiddenClass,w=r(x),x="mfp-"+x),k=n.after(w).detach().removeClass(x)),u.updateStatus("ready")}else u.updateStatus("error",i.tNotFound),n=t("<div>");return e.inlineElement=n,n}return u.updateStatus("ready"),u._parseMarkup(a,{},e),a}}});var S=function(){M&&t(document.body).removeClass(M)},C=function(){S(),u.req&&u.req.abort()},M;t.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:"<a href=\"%url%\">The content</a> could not be loaded."},proto:{initAjax:function(){u.types.push("ajax"),M=u.st.ajax.cursor,d("Close.ajax",C),d("BeforeChange.ajax",C)},getAjax:function(e){M&&t(document.body).addClass(M),u.updateStatus("loading");var a=t.extend({url:e.src,success:function(a,i,n){var s={data:a,xhr:n};c("ParseAjax",s),u.appendContent(t(s.data),"ajax"),e.finished=!0,S(),u._setFocus(),setTimeout(function(){u.wrap.addClass("mfp-ready")},16),u.updateStatus("ready"),c("AjaxContentAdded")},error:function(){S(),e.finished=e.loadError=!0,u.updateStatus("error",u.st.ajax.tError.replace("%url%",e.src))}},u.st.ajax.settings);return u.req=t.ajax(a),""}}});var L=function(e){if(e.data&&e.data.title!==void 0)return e.data.title;var a=u.st.image.titleSrc;if(a){if(t.isFunction(a))return a.call(u,e);if(e.el)return e.el.attr(a)||""}return""},T;t.magnificPopup.registerModule("image",{options:{markup:"<div class=\"mfp-figure\"><div class=\"mfp-close\"></div><figure><div class=\"mfp-img\"></div><figcaption><div class=\"mfp-bottom-bar\"><div class=\"mfp-title\"></div><div class=\"mfp-counter\"></div></div></figcaption></figure></div>",cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:"<a href=\"%url%\">The image</a> could not be loaded."},proto:{initImage:function(){var e=u.st.image;u.types.push("image"),d("Open.image",function(){"image"===u.currItem.type&&e.cursor&&t(document.body).addClass(e.cursor)}),d("Close.image",function(){e.cursor&&t(document.body).removeClass(e.cursor),o.off("resize.mfp")}),d("Resize.image",u.resizeImage),u.isLowIE&&d("AfterChange",u.resizeImage)},resizeImage:function(){var e=u.currItem;if(e&&e.img&&u.st.image.verticalFit){var t=0;u.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",u.wH-t)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,T&&clearInterval(T),e.isCheckingImgSize=!1,c("ImageHasSize",e),e.imgHidden&&(u.content&&u.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var t=0,a=e.img[0],i=function(n){T&&clearInterval(T),T=setInterval(function(){return 0<a.naturalWidth?void u._onImageHasSize(e):void(200<t&&clearInterval(T),t++,3===t?i(10):40===t?i(50):100==t&&i(500))},n)};i(1)},getImage:function(e,a){var i=0,n=function(){e&&(e.img[0].complete?(e.img.off(".mfploader"),e===u.currItem&&(u._onImageHasSize(e),u.updateStatus("ready")),e.hasSize=!0,e.loaded=!0,c("ImageLoadComplete")):(i++,200>i?setTimeout(n,100):s()))},s=function(){e&&(e.img.off(".mfploader"),e===u.currItem&&(u._onImageHasSize(e),u.updateStatus("error",o.tError.replace("%url%",e.src))),e.hasSize=!0,e.loaded=!0,e.loadError=!0)},o=u.st.image,d=a.find(".mfp-img");if(d.length){var r=document.createElement("img");r.className="mfp-img",e.el&&e.el.find("img").length&&(r.alt=e.el.find("img").attr("alt")),e.img=t(r).on("load.mfploader",n).on("error.mfploader",s),r.src=e.src,d.is("img")&&(e.img=e.img.clone()),r=e.img[0],0<r.naturalWidth?e.hasSize=!0:!r.width&&(e.hasSize=!1)}return(u._parseMarkup(a,{title:L(e),img_replaceWith:e.img},e),u.resizeImage(),e.hasSize)?(T&&clearInterval(T),e.loadError?(a.addClass("mfp-loading"),u.updateStatus("error",o.tError.replace("%url%",e.src))):(a.removeClass("mfp-loading"),u.updateStatus("ready")),a):(u.updateStatus("loading"),e.loading=!0,e.hasSize||(e.imgHidden=!0,a.addClass("mfp-loading"),u.findImageSize(e)),a)}}});var E=function(){return void 0===D&&(D=void 0!==document.createElement("p").style.MozTransform),D},D;t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e=u.st.zoom,t;if(e.enabled&&u.supportsTransition){var a=e.duration,i=function(t){var a=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+e.duration/1e3+"s "+e.easing,n={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"};return n["-webkit-transition"]=n["-moz-transition"]=n["-o-transition"]=n.transition=i,a.css(n),a},n=function(){u.content.css("visibility","visible")},s,o;d("BuildControls.zoom",function(){if(u._allowZoom()){if(clearTimeout(s),u.content.css("visibility","hidden"),t=u._getItemToZoom(),!t)return void n();o=i(t),o.css(u._getOffset()),u.wrap.append(o),s=setTimeout(function(){o.css(u._getOffset(!0)),s=setTimeout(function(){n(),setTimeout(function(){o.remove(),t=o=null,c("ZoomAnimationEnded")},16)},a)},16)}}),d("BeforeClose.zoom",function(){if(u._allowZoom()){if(clearTimeout(s),u.st.removalDelay=a,!t){if(t=u._getItemToZoom(),!t)return;o=i(t)}o.css(u._getOffset(!0)),u.wrap.append(o),u.content.css("visibility","hidden"),setTimeout(function(){o.css(u._getOffset())},16)}}),d("Close.zoom",function(){u._allowZoom()&&(n(),o&&o.remove(),t=null)})}},_allowZoom:function(){return"image"===u.currItem.type},_getItemToZoom:function(){return!!u.currItem.hasSize&&u.currItem.img},_getOffset:function(e){var a=e?u.currItem.img:u.st.zoom.opener(u.currItem.el||u.currItem);var n=a.offset(),s=parseInt(a.css("padding-top"),10),o=parseInt(a.css("padding-bottom"),10);n.top-=t(window).scrollTop()-s;var d={width:a.width(),height:(i?a.innerHeight():a[0].offsetHeight)-o-s};return E()?d["-moz-transform"]=d.transform="translate("+n.left+"px,"+n.top+"px)":(d.left=n.left,d.top=n.top),d}}});var I=function(e){if(u.currTemplate.iframe){var t=u.currTemplate.iframe.find("iframe");t.length&&(!e&&(t[0].src="//about:blank"),u.isIE8&&t.css("display",e?"block":"none"))}};t.magnificPopup.registerModule("iframe",{options:{markup:"<div class=\"mfp-iframe-scaler\"><div class=\"mfp-close\"></div><iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe></div>",srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){u.types.push("iframe"),d("BeforeChange",function(t,e,a){e!==a&&(e==="iframe"?I():a==="iframe"&&I(!0))}),d("Close.iframe",function(){I()})},getIframe:function(e,a){var i=e.src,n=u.st.iframe;t.each(n.patterns,function(){if(-1<i.indexOf(this.index))return this.id&&("string"==typeof this.id?i=i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):i=this.id.call(this,i)),i=this.src.replace("%id%",i),!1});var s={};return n.srcAction&&(s[n.srcAction]=i),u._parseMarkup(a,s,e),u.updateStatus("ready"),a}}});var Y=function(e){var t=u.items.length;if(e>t-1)return e-t;return 0>e?t+e:e},N=function(e,t,a){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,a)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:"<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>",preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var a=u.st.gallery;return u.direction=!0,!!(a&&a.enabled)&&void(f+=" mfp-gallery",d("Open.mfp-gallery",function(){a.navigateByImgClick&&u.wrap.on("click.mfp-gallery",".mfp-img",function(){if(1<u.items.length)return u.next(),!1}),h.on("keydown.mfp-gallery",function(t){37===t.keyCode?u.prev():39===t.keyCode&&u.next()})}),d("UpdateStatus.mfp-gallery",function(t,e){e.text&&(e.text=N(e.text,u.currItem.index,u.items.length))}),d("MarkupParse.mfp-gallery",function(t,e,i,n){var s=u.items.length;i.counter=1<s?N(a.tCounter,n.index,s):""}),d("BuildControls.mfp-gallery",function(){if(1<u.items.length&&a.arrows&&!u.arrowLeft){var e=a.arrowMarkup,i=u.arrowLeft=t(e.replace(/%title%/gi,a.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),n=u.arrowRight=t(e.replace(/%title%/gi,a.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close");i.click(function(){u.prev()}),n.click(function(){u.next()}),u.container.append(i.add(n))}}),d("Change.mfp-gallery",function(){u._preloadTimeout&&clearTimeout(u._preloadTimeout),u._preloadTimeout=setTimeout(function(){u.preloadNearbyImages(),u._preloadTimeout=null},16)}),d("Close.mfp-gallery",function(){h.off(".mfp-gallery"),u.wrap.off("click.mfp-gallery"),u.arrowRight=u.arrowLeft=null}))},next:function(){u.direction=!0,u.index=Y(u.index+1),u.updateItemHTML()},prev:function(){u.direction=!1,u.index=Y(u.index-1),u.updateItemHTML()},goTo:function(e){u.direction=e>=u.index,u.index=e,u.updateItemHTML()},preloadNearbyImages:function(){var t=u.st.gallery.preload,a=e(t[0],u.items.length),n=e(t[1],u.items.length),s;for(s=1;s<=(u.direction?n:a);s++)u._preloadItem(u.index+s);for(s=1;s<=(u.direction?a:n);s++)u._preloadItem(u.index-s)},_preloadItem:function(e){if(e=Y(e),!u.items[e].preloaded){var a=u.items[e];a.parsed||(a=u.parseEl(e)),c("LazyLoad",a),"image"===a.type&&(a.img=t("<img class=\"mfp-img\" />").on("load.mfploader",function(){a.hasSize=!0}).on("error.mfploader",function(){a.hasSize=!0,a.loadError=!0,c("LazyLoadError",a)}).attr("src",a.src)),a.preloaded=!0}}}});t.magnificPopup.registerModule("retina",{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var t=u.st.retina,a=t.ratio;a=isNaN(a)?a():a,1<a&&(d("ImageHasSize.retina",function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/a,width:"100%"})}),d("ElementParse.retina",function(i,e){e.src=t.replaceSrc(e,a)}))}}}}),p()}),!function(a,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define("i18next",i):(a="undefined"==typeof globalThis?a||self:globalThis).i18next=i()}(this,function(){"use strict";function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function D(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function I(t){for(var e=1;e<arguments.length;e++){var a=null==arguments[e]?{}:Object(arguments[e]),i=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),i.forEach(function(e){D(t,e,a[e])})}return t}function Y(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function i(a,e){for(var t=0,s;t<e.length;t++)s=e[t],s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}function n(a,e,t){return e&&i(a.prototype,e),t&&i(a,t),a}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(e,t){return t&&("object"===M(t)||"function"==typeof t)?t:H(e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(a,e){return(o=Object.setPrototypeOf||function(a,e){return a.__proto__=e,a})(a,e)}function r(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),e&&o(a,e)}function B(){var a=new Promise(function(e,t){s=e,o=t}),s,o;return a.resolve=s,a.reject=o,a}function h(t){return null==t?"":""+t}function d(s,d,t){function n(t){return t&&-1<t.indexOf("###")?t.replace(/###/g,"."):t}function i(){return!s||"string"==typeof s}for(var o="string"==typeof d?d.split("."):[].concat(d);1<o.length;){if(i())return{};var r=n(o.shift());!s[r]&&t&&(s[r]=new t),s=Object.prototype.hasOwnProperty.call(s,r)?s[r]:{}}return i()?{}:{obj:s,k:n(o.shift())}}function c(a,e,t){var n=d(a,e,Object);n.obj[n.k]=t}function v(a,e){var t=d(a,e),n=t.obj,i=t.k;if(n)return n[i]}function m(a,e,t){var n=v(a,t);return void 0===n?v(e,t):n}function b(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function k(a){return"string"==typeof a?a.replace(/[&<>"'\/]/g,function(a){return t[a]}):a}function w(t){return t.charAt(0).toUpperCase()+t.slice(1)}function N(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&(t.whitelist&&0>t.whitelist.indexOf("cimode")&&(t.whitelist=t.whitelist.concat(["cimode"])),t.supportedLngs=t.whitelist),t.nonExplicitWhitelist&&(t.nonExplicitSupportedLngs=t.nonExplicitWhitelist),t.supportedLngs&&0>t.supportedLngs.indexOf("cimode")&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function A(){}var U={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(a,e){console&&console[a]&&console[a].apply(console,e)}},p=new(function(){function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Y(this,a),this.init(e,t)}return n(a,[{key:"init",value:function(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=a||U,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var a=arguments.length,e=Array(a),t=0;t<a;t++)e[t]=arguments[t];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var a=arguments.length,e=Array(a),t=0;t<a;t++)e[t]=arguments[t];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var a=arguments.length,e=Array(a),t=0;t<a;t++)e[t]=arguments[t];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var a=arguments.length,e=Array(a),t=0;t<a;t++)e[t]=arguments[t];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(a,e,t,n){return n&&!this.debug?null:("string"==typeof a[0]&&(a[0]="".concat(t).concat(this.prefix," ").concat(a[0])),this.logger[e](a))}},{key:"create",value:function(e){return new a(this.logger,I({},{prefix:"".concat(this.prefix,":").concat(e,":")},this.options))}}]),a}()),g=function(){function t(){Y(this,t),this.observers={}}return n(t,[{key:"on",value:function(a,i){var t=this;return a.split(" ").forEach(function(a){t.observers[a]=t.observers[a]||[],t.observers[a].push(i)}),this}},{key:"off",value:function(a,i){this.observers[a]&&(i?this.observers[a]=this.observers[a].filter(function(t){return t!==i}):delete this.observers[a])}},{key:"emit",value:function(a){for(var e=arguments.length,s=Array(1<e?e-1:0),t=1;t<e;t++)s[t-1]=arguments[t];this.observers[a]&&[].concat(this.observers[a]).forEach(function(t){t.apply(void 0,s)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(e){e.apply(e,[a].concat(s))})}}]),t}(),t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},f="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&-1<window.navigator.userAgent.indexOf("MSIE"),x=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"},o;return Y(this,i),o=a(this,s(i).call(this)),f&&g.call(H(o)),o.data=t||{},o.options=e,void 0===o.options.keySeparator&&(o.options.keySeparator="."),o}return r(i,g),n(i,[{key:"addNamespaces",value:function(t){0>this.options.ns.indexOf(t)&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(a){var e=this.options.ns.indexOf(a);-1<e&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(a,e,t){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=void 0===n.keySeparator?this.options.keySeparator:n.keySeparator,s=[a,e];return t&&"string"!=typeof t&&(s=s.concat(t)),t&&"string"==typeof t&&(s=s.concat(i?t.split(i):t)),-1<a.indexOf(".")&&(s=a.split(".")),v(this.data,s)}},{key:"addResource",value:function(s,e,d,n){var l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var p=[s,e];d&&(p=p.concat(o?d.split(o):d)),-1<s.indexOf(".")&&(n=e,e=(p=s.split("."))[1]),this.addNamespaces(e),c(this.data,p,n),l.silent||this.emit("added",s,e,d,n)}},{key:"addResources",value:function(a,e,t){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in t)"string"!=typeof t[i]&&"[object Array]"!==Object.prototype.toString.apply(t[i])||this.addResource(a,e,i,t[i],{silent:!0});n.silent||this.emit("added",a,e,t)}},{key:"addResourceBundle",value:function(n,e,d,l,p){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[n,e];-1<n.indexOf(".")&&(l=d,d=e,e=(a=n.split("."))[1]),this.addNamespaces(e);var m=v(this.data,a)||{};l?function a(e,t,n){for(var i in t)"__proto__"!=i&&"constructor"!==i&&(i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof t[i]||t[i]instanceof String?n&&(e[i]=t[i]):a(e[i],t[i],n):e[i]=t[i]);return e}(m,d,p):m=I({},m,d),c(this.data,a,m),r.silent||this.emit("added",n,e,d)}},{key:"removeResourceBundle",value:function(a,e){this.hasResourceBundle(a,e)&&delete this.data[a][e],this.removeNamespaces(e),this.emit("removed",a,e)}},{key:"hasResourceBundle",value:function(a,e){return void 0!==this.getResource(a,e)}},{key:"getResourceBundle",value:function(a,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?I({},{},this.getResource(a,e)):this.getResource(a,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"toJSON",value:function(){return this.data}}]),i}(),S={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(a,s,d,n,i){var o=this;return a.forEach(function(t){o.processors[t]&&(s=o.processors[t].process(s,d,n,i))}),s}},L={},R=function(){function m(i){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o,d,c,u;return Y(this,m),o=a(this,s(m).call(this)),f&&g.call(H(o)),d=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],c=i,u=H(o),d.forEach(function(t){c[t]&&(u[t]=c[t])}),o.options=e,void 0===o.options.keySeparator&&(o.options.keySeparator="."),o.logger=p.create("translator"),o}return r(m,g),n(m,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},t=this.resolve(a,e);return t&&void 0!==t.res}},{key:"extractFromKey",value:function(s,d){var t=void 0===d.nsSeparator?this.options.nsSeparator:d.nsSeparator;void 0===t&&(t=":");var c=void 0===d.keySeparator?this.options.keySeparator:d.keySeparator,i=d.ns||this.options.defaultNS;if(t&&-1<s.indexOf(t)){var l=s.match(this.interpolator.nestingRegexp);if(l&&0<l.length)return{key:s,namespaces:i};var r=s.split(t);(t!==c||t===c&&-1<this.options.ns.indexOf(r[0]))&&(i=r.shift()),s=r.join(c)}return"string"==typeof i&&(i=[i]),{key:s,namespaces:i}}},{key:"translate",value:function(e,o,n){var r=this;if("object"!==M(o)&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),o||(o={}),null==e)return"";Array.isArray(e)||(e=[e+""]);var a=void 0===o.keySeparator?this.options.keySeparator:o.keySeparator,s=this.extractFromKey(e[e.length-1],o),u=s.key,l=s.namespaces,c=l[l.length-1],p=o.lng||this.language,g=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&"cimode"===p.toLowerCase()){if(g){var f=o.nsSeparator||this.options.nsSeparator;return c+f+u}return u}var h=this.resolve(e,o),d=h&&h.res,Y=h&&h.usedKey||u,H=h&&h.exactUsedKey||u,B=Object.prototype.toString.apply(d),b=void 0===o.joinArrays?this.options.joinArrays:o.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject;if(k&&d&&"string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(B)&&("string"!=typeof b||"[object Array]"!==B)){if(!o.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(Y,d,o):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");if(a){var x="[object Array]"===B,w=x?[]:{},S=x?H:Y;for(var L in d)if(Object.prototype.hasOwnProperty.call(d,L)){var O="".concat(S).concat(a).concat(L);w[L]=this.translate(O,I({},o,{joinArrays:!1,ns:l})),w[L]===O&&(w[L]=d[L])}d=w}}else if(k&&"string"==typeof b&&"[object Array]"===B)(d=d.join(b))&&(d=this.extendTranslation(d,e,o,n));else{var R=!1,q=!1,z=void 0!==o.count&&"string"!=typeof o.count,j=m.hasDefaultValue(o),E=z?this.pluralResolver.getSuffix(p,o.count):"",P=o["defaultValue".concat(E)]||o.defaultValue;!this.isValidLookup(d)&&j&&(R=!0,d=P),this.isValidLookup(d)||(q=!0,d=u);var F=j&&P!==d&&this.options.updateMissing;if(q||R||F){if(this.logger.log(F?"updateKey":"missingKey",p,c,u,F?P:d),a){var V=this.resolve(u,I({},o,{keySeparator:!1}));V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var T=[],W=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if("fallback"===this.options.saveMissingTo&&W&&W[0])for(var U=0;U<W.length;U++)T.push(W[U]);else"all"===this.options.saveMissingTo?T=this.languageUtils.toResolveHierarchy(o.lng||this.language):T.push(o.lng||this.language);var G=function(a,e,t){r.options.missingKeyHandler?r.options.missingKeyHandler(a,c,e,F?t:d,F,o):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(a,c,e,F?t:d,F,o),r.emit("missingKey",a,c,e,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&z?T.forEach(function(a){r.pluralResolver.getSuffixes(a).forEach(function(e){G([a],u+e,o["defaultValue".concat(e)]||P)})}):G(T,u,P))}d=this.extendTranslation(d,e,o,h,n),q&&d===u&&this.options.appendNamespaceToMissingKey&&(d="".concat(c,":").concat(u)),q&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(d))}return d}},{key:"extendTranslation",value:function(n,d,t,i,m){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)n=this.i18nFormat.parse(n,t,i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!t.skipInterpolation){t.interpolation&&this.interpolator.init(I({},t,{interpolation:I({},this.options.interpolation,t.interpolation)}));var a=t.interpolation&&t.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,o;if(a){var u=n.match(this.interpolator.nestingRegexp);o=u&&u.length}var l=t.replace&&"string"!=typeof t.replace?t.replace:t;if(this.options.interpolation.defaultVariables&&(l=I({},this.options.interpolation.defaultVariables,l)),n=this.interpolator.interpolate(n,l,t.lng||this.language,t),a){var h=n.match(this.interpolator.nestingRegexp);o<(h&&h.length)&&(t.nest=!1)}!1!==t.nest&&(n=this.interpolator.nest(n,function(){for(var a=arguments.length,e=Array(a),i=0;i<a;i++)e[i]=arguments[i];return m&&m[0]===e[0]&&!t.context?(r.logger.warn("It seems you are nesting recursively key: ".concat(e[0]," in key: ").concat(d[0])),null):r.translate.apply(r,e.concat([d]))},t)),t.interpolation&&this.interpolator.reset()}var p=t.postProcess||this.options.postProcess,g="string"==typeof p?[p]:p;return null!=n&&g&&g.length&&!1!==t.applyPostProcessor&&(n=S.handle(g,n,d,this.options&&this.options.postProcessPassResolved?I({i18nResolved:i},t):t,this)),n}},{key:"resolve",value:function(d){var m=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s,h,v,b,c;return"string"==typeof d&&(d=[d]),d.forEach(function(t){if(!m.isValidLookup(s)){var e=m.extractFromKey(t,a),i=e.key;h=i;var n=e.namespaces;m.options.fallbackNS&&(n=n.concat(m.options.fallbackNS));var o=void 0!==a.count&&"string"!=typeof a.count,d=void 0!==a.context&&"string"==typeof a.context&&""!==a.context,r=a.lngs?a.lngs:m.languageUtils.toResolveHierarchy(a.lng||m.language,a.fallbackLng);n.forEach(function(t){m.isValidLookup(s)||(c=t,!L["".concat(r[0],"-").concat(t)]&&m.utils&&m.utils.hasLoadedNamespace&&!m.utils.hasLoadedNamespace(c)&&(L["".concat(r[0],"-").concat(t)]=!0,m.logger.warn("key \"".concat(h,"\" for languages \"").concat(r.join(", "),"\" won't get resolved as namespace \"").concat(c,"\" was not yet loaded"),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),r.forEach(function(e){if(!m.isValidLookup(s)){b=e;var n=i,l=[n],p,g;for(m.i18nFormat&&m.i18nFormat.addLookupKeys?m.i18nFormat.addLookupKeys(l,i,e,t,a):(o&&(p=m.pluralResolver.getSuffix(e,a.count)),o&&d&&l.push(n+p),d&&l.push(n+="".concat(m.options.contextSeparator).concat(a.context)),o&&l.push(n+=p));g=l.pop();)m.isValidLookup(s)||(v=g,s=m.getResource(e,t,g,a))}}))})}}),{res:s,usedKey:h,exactUsedKey:v,usedLng:b,usedNS:c}}},{key:"isValidLookup",value:function(t){return void 0!==t&&(this.options.returnNull||null!==t)&&(this.options.returnEmptyString||""!==t)}},{key:"getResource",value:function(a,e,t){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(a,e,t,n):this.resourceStore.getResource(a,e,t,n)}}],[{key:"hasDefaultValue",value:function(a){for(var e in a)if(Object.prototype.hasOwnProperty.call(a,e)&&"defaultValue"===e.substring(0,12)&&void 0!==a[e])return!0;return!1}}]),m}(),C=function(){function a(e){Y(this,a),this.options=e,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=p.create("languageUtils")}return n(a,[{key:"getScriptPartFromCode",value:function(a){if(!a||0>a.indexOf("-"))return null;var e=a.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(a){if(!a||0>a.indexOf("-"))return a;var e=a.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(a){if("string"==typeof a&&-1<a.indexOf("-")){var e=["hans","hant","latn","cyrl","cans","mong","arab"],t=a.split("-");return this.options.lowerCaseLng?t=t.map(function(t){return t.toLowerCase()}):2===t.length?(t[0]=t[0].toLowerCase(),t[1]=t[1].toUpperCase(),-1<e.indexOf(t[1].toLowerCase())&&(t[1]=w(t[1].toLowerCase()))):3===t.length&&(t[0]=t[0].toLowerCase(),2===t[1].length&&(t[1]=t[1].toUpperCase()),"sgn"!==t[0]&&2===t[2].length&&(t[2]=t[2].toUpperCase()),-1<e.indexOf(t[1].toLowerCase())&&(t[1]=w(t[1].toLowerCase())),-1<e.indexOf(t[2].toLowerCase())&&(t[2]=w(t[2].toLowerCase()))),t.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?a.toLowerCase():a}},{key:"isWhitelisted",value:function(t){return this.logger.deprecate("languageUtils.isWhitelisted","function \"isWhitelisted\" will be renamed to \"isSupportedCode\" in the next major - please make sure to rename it's usage asap."),this.isSupportedCode(t)}},{key:"isSupportedCode",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||-1<this.supportedLngs.indexOf(t)}},{key:"getBestMatchFromCodes",value:function(a){var s=this,n;return a?(a.forEach(function(t){if(!n){var e=s.formatLanguageCode(t);s.options.supportedLngs&&!s.isSupportedCode(e)||(n=e)}}),!n&&this.options.supportedLngs&&a.forEach(function(t){if(!n){var a=s.getLanguagePartFromCode(t);if(s.isSupportedCode(a))return n=a;n=s.options.supportedLngs.find(function(t){if(0===t.indexOf(a))return t})}}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n):null}},{key:"getFallbackCodes",value:function(a,i){if(!a)return[];if("function"==typeof a&&(a=a(i)),"string"==typeof a&&(a=[a]),"[object Array]"===Object.prototype.toString.apply(a))return a;if(!i)return a.default||[];var t=a[i];return t||(t=a[this.getScriptPartFromCode(i)]),t||(t=a[this.formatLanguageCode(i)]),t||(t=a[this.getLanguagePartFromCode(i)]),t||(t=a.default),t||[]}},{key:"toResolveHierarchy",value:function(a,e){var t=this,n=this.getFallbackCodes(e||this.options.fallbackLng||[],a),i=[],s=function(a){a&&(t.isSupportedCode(a)?i.push(a):t.logger.warn("rejecting language code not found in supportedLngs: ".concat(a)))};return"string"==typeof a&&-1<a.indexOf("-")?("languageOnly"!==this.options.load&&s(this.formatLanguageCode(a)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&s(this.getScriptPartFromCode(a)),"currentOnly"!==this.options.load&&s(this.getLanguagePartFromCode(a))):"string"==typeof a&&s(this.formatLanguageCode(a)),n.forEach(function(a){0>i.indexOf(a)&&s(t.formatLanguageCode(a))}),i}}]),a}(),j=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],E={1:function(t){return+(1<t)},2:function(t){return+(1!=t)},3:function(){return 0},4:function(t){return+(1==t%10&&11!=t%100?0:2<=t%10&&4>=t%10&&(10>t%100||20<=t%100)?1:2)},5:function(t){return+(0==t?0:1==t?1:2==t?2:3<=t%100&&10>=t%100?3:11<=t%100?4:5)},6:function(t){return+(1==t?0:2<=t&&4>=t?1:2)},7:function(t){return+(1==t?0:2<=t%10&&4>=t%10&&(10>t%100||20<=t%100)?1:2)},8:function(t){return+(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return+(2<=t)},10:function(t){return+(1==t?0:2==t?1:7>t?2:11>t?3:4)},11:function(t){return+(1==t||11==t?0:2==t||12==t?1:2<t&&20>t?2:3)},12:function(t){return+(1!=t%10||11==t%100)},13:function(t){return+(0!==t)},14:function(t){return+(1==t?0:2==t?1:3==t?2:3)},15:function(t){return+(1==t%10&&11!=t%100?0:2<=t%10&&(10>t%100||20<=t%100)?1:2)},16:function(t){return+(1==t%10&&11!=t%100?0:0===t?2:1)},17:function(t){return+(1==t||1==t%10&&11!=t%100?0:1)},18:function(t){return+(0==t?0:1==t?1:2)},19:function(t){return+(1==t?0:0==t||1<t%100&&11>t%100?1:10<t%100&&20>t%100?2:3)},20:function(t){return+(1==t?0:0==t||0<t%100&&20>t%100?1:2)},21:function(t){return+(1==t%100?1:2==t%100?2:3==t%100||4==t%100?3:0)},22:function(t){return+(1==t?0:2==t?1:(0>t||10<t)&&0==t%10?2:3)}},O=function(){function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i;Y(this,a),this.languageUtils=e,this.options=t,this.logger=p.create("pluralResolver"),this.rules=(i={},j.forEach(function(a){a.lngs.forEach(function(e){i[e]={numbers:a.nr,plurals:E[a.fc]}})}),i)}return n(a,[{key:"addRule",value:function(a,e){this.rules[a]=e}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(a){var e=this.getRule(a);return e&&1<e.numbers.length}},{key:"getPluralFormsOfKey",value:function(a,i){return this.getSuffixes(a).map(function(t){return i+t})}},{key:"getSuffixes",value:function(a){var e=this,t=this.getRule(a);return t?t.numbers.map(function(t){return e.getSuffix(a,t)}):[]}},{key:"getSuffix",value:function(s,e){var t=this,n=this.getRule(s);if(n){var i=n.noAbs?n.plurals(e):n.plurals(Math.abs(e)),o=n.numbers[i];this.options.simplifyPluralSuffix&&2===n.numbers.length&&1===n.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var d=function(){return t.options.prepend&&o.toString()?t.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):d():"v2"===this.options.compatibilityJSON?d():this.options.simplifyPluralSuffix&&2===n.numbers.length&&1===n.numbers[0]?d():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: ".concat(s)),""}}]),a}(),P=function(){function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Y(this,a),this.logger=p.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return n(a,[{key:"init",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a.interpolation||(a.interpolation={escapeValue:!0});var e=a.interpolation;this.escape=void 0===e.escape?k:e.escape,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?b(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?b(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?b(e.nestingPrefix):e.nestingPrefixEscaped||b("$t("),this.nestingSuffix=e.nestingSuffix?b(e.nestingSuffix):e.nestingSuffixEscaped||b(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var a="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(a,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var t="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(t,"g")}},{key:"interpolate",value:function(d,v,t,f){function i(t){return t.replace(/\$/g,"$$$$")}var b=this,n=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},s=function(i){if(0>i.indexOf(b.formatSeparator)){var e=m(v,n,i);return b.alwaysFormat?b.format(e,void 0,t):e}var s=i.split(b.formatSeparator),o=s.shift().trim(),a=s.join(b.formatSeparator).trim();return b.format(m(v,n,o),a,t,f)},c,l,u;this.resetRegExp();var A=f&&f.missingInterpolationHandler||this.options.missingInterpolationHandler,p=f&&f.interpolation&&f.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(t){return i(t)}},{regex:this.regexp,safeValue:function(t){return b.escapeValue?i(b.escape(t)):i(t)}}].forEach(function(e){for(u=0;c=e.regex.exec(d);){if(!(void 0===(l=s(c[1].trim()))))"string"==typeof l||b.useRawValueToEscape||(l=h(l));else if("function"==typeof A){var t=A(d,c,f);l="string"==typeof t?t:""}else{if(p){l=c[0];continue}b.logger.warn("missed to pass in variable ".concat(c[1]," for interpolating ").concat(d)),l=""}if(d=d.replace(c[0],e.safeValue(l)),e.regex.lastIndex=0,++u>=b.maxReplaces)break}}),d}},{key:"nest",value:function(n,d){function t(n,s){var d=this.nestingOptionsSeparator;if(0>n.indexOf(d))return n;var t=n.split(new RegExp("".concat(d,"[ ]*{"))),i="{".concat(t[1]);n=t[0],i=(i=this.interpolate(i,a)).replace(/'/g,"\"");try{a=JSON.parse(i),s&&(a=I({},s,a))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(n),e),"".concat(n).concat(d).concat(i)}return delete a.defaultValue,n}var m=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=I({},r),u,g;for(a.applyPostProcessor=!1,delete a.defaultValue;u=this.nestingRegexp.exec(n);){var v=[],f=!1;if(u[0].includes(this.formatSeparator)&&!/{.*}/.test(u[1])){var b=u[1].split(this.formatSeparator).map(function(t){return t.trim()});u[1]=b.shift(),v=b,f=!0}if((g=d(t.call(this,u[1].trim(),a),a))&&u[0]===n&&"string"!=typeof g)return g;"string"!=typeof g&&(g=h(g)),g||(this.logger.warn("missed to resolve ".concat(u[1]," for nesting ").concat(n)),g=""),f&&(g=v.reduce(function(a,e){return m.format(a,e,r.lng,r)},g.trim())),n=n.replace(u[0],g),this.regexp.lastIndex=0}return n}}]),a}(),F=function(){function i(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},d;return Y(this,i),d=a(this,s(i).call(this)),f&&g.call(H(d)),d.backend=t,d.store=e,d.services=n,d.languageUtils=n.languageUtils,d.options=o,d.logger=p.create("backendConnector"),d.state={},d.queue=[],d.backend&&d.backend.init&&d.backend.init(n,o.backend,o),d}return r(i,g),n(i,[{key:"queueLoad",value:function(d,c,l,e){var i=this,n=[],o=[],t=[],a=[];return d.forEach(function(d){var e=!0;c.forEach(function(r){var t="".concat(d,"|").concat(r);!l.reload&&i.store.hasResourceBundle(d,r)?i.state[t]=2:0>i.state[t]||(1===i.state[t]?0>o.indexOf(t)&&o.push(t):(i.state[t]=1,e=!1,0>o.indexOf(t)&&o.push(t),0>n.indexOf(t)&&n.push(t),0>a.indexOf(r)&&a.push(r)))}),e||t.push(d)}),(n.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:e}),{toLoad:n,pending:o,toLoadLanguages:t,toLoadNamespaces:a}}},{key:"loaded",value:function(m,e,t){var n=m.split("|"),g=n[0],o=n[1];e&&this.emit("failedLoading",g,o,e),t&&this.store.addResourceBundle(g,o,t),this.state[m]=e?-1:2;var i={};this.queue.forEach(function(t){var a,n,r,u,h,v;a=t.loaded,n=o,u=d(a,[g],Object),h=u.obj,v=u.k,h[v]=h[v]||[],r&&(h[v]=h[v].concat(n)),r||h[v].push(n),function(a,e){for(var t=a.indexOf(e);-1!==t;)a.splice(t,1),t=a.indexOf(e)}(t.pending,m),e&&t.errors.push(e),0!==t.pending.length||t.done||(Object.keys(t.loaded).forEach(function(a){i[a]||(i[a]=[]),t.loaded[a].length&&t.loaded[a].forEach(function(e){0>i[a].indexOf(e)&&i[a].push(e)})}),t.done=!0,t.errors.length?t.callback(t.errors):t.callback())}),this.emit("loaded",i),this.queue=this.queue.filter(function(t){return!t.done})}},{key:"read",value:function(s,e,t){var n=this,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:350,d=5<arguments.length?arguments[5]:void 0;return s.length?this.backend[t](s,e,function(a,r){a&&r&&5>i?setTimeout(function(){n.read.call(n,s,e,t,i+1,2*o,d)},o):d(a,r)}):d(null,{})}},{key:"prepareLoading",value:function(a,s){var d=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=3<arguments.length?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof a&&(a=this.languageUtils.toResolveHierarchy(a)),"string"==typeof s&&(s=[s]);var o=this.queueLoad(a,s,n,i);return o.toLoad.length?void o.toLoad.forEach(function(t){d.loadOne(t)}):(o.pending.length||i(),null)}},{key:"load",value:function(a,e,t){this.prepareLoading(a,e,{},t)}},{key:"reload",value:function(a,e,t){this.prepareLoading(a,e,{reload:!0},t)}},{key:"loadOne",value:function(s){var e=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",a=s.split("|"),n=a[0],o=a[1];this.read(n,o,"read",void 0,void 0,function(d,i){d&&e.logger.warn("".concat(t,"loading namespace ").concat(o," for language ").concat(n," failed"),d),!d&&i&&e.logger.log("".concat(t,"loaded namespace ").concat(o," for language ").concat(n),i),e.loaded(s,d,i)})}},{key:"saveMissing",value:function(n,e,t,i,s){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn("did not save key \"".concat(t,"\" as the namespace \"").concat(e,"\" was not yet loaded"),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=t&&""!==t&&(this.backend&&this.backend.create&&this.backend.create(n,e,t,i,null,I({},o,{isUpdate:s})),n&&n[0]&&this.store.addResource(n[0],e,t,i))}}]),i}();return new(function(){function d(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n;if(Y(this,d),n=a(this,s(d).call(this)),f&&g.call(H(n)),n.options=N(i),n.services={},n.logger=p,n.modules={external:[]},t&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,t),a(n,H(n));setTimeout(function(){n.init(i,t)},0)}return n}return r(d,g),n(d,[{key:"init",value:function(){function e(t){return t?"function"==typeof t?new t:t:null}var d=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0;if("function"==typeof t&&(r=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist","option \"whitelist\" will be renamed to \"supportedLngs\" in the next major - please make sure to rename this option asap."),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist","options \"nonExplicitWhitelist\" will be renamed to \"nonExplicitSupportedLngs\" in the next major - please make sure to rename this option asap."),this.options=I({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===M(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===M(e[2])||"object"===M(e[3])){var a=e[3]||e[2];Object.keys(a).forEach(function(i){t[i]=a[i]})}return t},interpolation:{escapeValue:!0,format:function(t){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}},this.options,N(t)),this.format=this.options.interpolation.format,r||(r=A),!this.options.isClone){this.modules.logger?p.init(e(this.modules.logger),this.options):p.init(null,this.options);var n=new C(this.options);this.store=new x(this.options.resources,this.options);var a=this.services;a.logger=p,a.resourceStore=this.store,a.languageUtils=n,a.pluralResolver=new O(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),a.interpolator=new P(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new F(e(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(t){for(var e=arguments.length,a=Array(1<e?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];d.emit.apply(d,[t].concat(a))}),this.modules.languageDetector&&(a.languageDetector=e(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=e(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new R(this.services,this.options),this.translator.on("*",function(t){for(var e=arguments.length,a=Array(1<e?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];d.emit.apply(d,[t].concat(a))}),this.modules.external.forEach(function(t){t.init&&t.init(d)})}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);0<s.length&&"dev"!==s[0]&&(this.options.lng=s[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(t){d[t]=function(){var e;return(e=d.store)[t].apply(e,arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(function(t){d[t]=function(){var e;return(e=d.store)[t].apply(e,arguments),d}});var m=B(),l=function(){var t=function(t,e){d.isInitialized&&d.logger.warn("init: i18next is already initialized. You should call init just once!"),d.isInitialized=!0,d.options.isClone||d.logger.log("initialized",d.options),d.emit("initialized",d.options),m.resolve(e),r(t,e)};return d.languages&&"v1"!==d.options.compatibilityAPI&&!d.isInitialized?t(null,d.t.bind(d)):void d.changeLanguage(d.options.lng,t)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),m}},{key:"loadResources",value:function(a){var s=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:A,t="string"==typeof a?a:this.language;if("function"==typeof a&&(e=a),!this.options.resources||this.options.partialBundledLanguages){if(t&&"cimode"===t.toLowerCase())return e();var i=[],o=function(t){t&&s.services.languageUtils.toResolveHierarchy(t).forEach(function(t){0>i.indexOf(t)&&i.push(t)})};t?o(t):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(t){return o(t)}),this.options.preload&&this.options.preload.forEach(function(t){return o(t)}),this.services.backendConnector.load(i,this.options.ns,e)}else e(null)}},{key:"reloadResources",value:function(a,s,o){var d=B();return a||(a=this.languages),s||(s=this.options.ns),o||(o=A),this.services.backendConnector.reload(a,s,function(t){d.resolve(),o(t)}),d}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&S.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"changeLanguage",value:function(a,s){var t=this;this.isLanguageChangingTo=a;var n=B();this.emit("languageChanging",a);var e=function(a){var i="string"==typeof a?a:t.services.languageUtils.getBestMatchFromCodes(a);i&&(t.language||(t.language=i,t.languages=t.services.languageUtils.toResolveHierarchy(i)),t.translator.language||t.translator.changeLanguage(i),t.services.languageDetector&&t.services.languageDetector.cacheUserLanguage(i)),t.loadResources(i,function(a){!function(a,e){e?(t.language=e,t.languages=t.services.languageUtils.toResolveHierarchy(e),t.translator.changeLanguage(e),t.isLanguageChangingTo=void 0,t.emit("languageChanged",e),t.logger.log("languageChanged",e)):t.isLanguageChangingTo=void 0,n.resolve(function(){return t.t.apply(t,arguments)}),s&&s(a,function(){return t.t.apply(t,arguments)})}(a,i)})};return a||!this.services.languageDetector||this.services.languageDetector.async?!a&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(e):e(a):e(this.services.languageDetector.detect()),n}},{key:"getFixedT",value:function(e,t){var n=this,a=function e(t,i){var o;if("object"!==M(i)){for(var d=arguments.length,s=Array(2<d?d-2:0),r=2;r<d;r++)s[r-2]=arguments[r];o=n.options.overloadTranslationOptionHandler([t,i].concat(s))}else o=I({},i);return o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns,n.t(t,o)};return"string"==typeof e?a.lng=e:a.lngs=e,a.ns=t,a}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(d){var c=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var t=this.languages[0],i=!!this.options&&this.options.fallbackLng,n=this.languages[this.languages.length-1];if("cimode"===t.toLowerCase())return!0;var o=function(t,e){var a=c.services.backendConnector.state["".concat(t,"|").concat(e)];return-1===a||2===a};if(e.precheck){var a=e.precheck(this,o);if(void 0!==a)return a}return!!this.hasResourceBundle(t,d)||!this.services.backendConnector.backend||o(t,d)&&(!i||o(n,d))}},{key:"loadNamespaces",value:function(a,s){var t=this,n=B();return this.options.ns?("string"==typeof a&&(a=[a]),a.forEach(function(a){0>t.options.ns.indexOf(a)&&t.options.ns.push(a)}),this.loadResources(function(t){n.resolve(),s&&s(t)}),n):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(a,s){var t=B();"string"==typeof a&&(a=[a]);var n=this.options.preload||[],i=a.filter(function(t){return 0>n.indexOf(t)});return i.length?(this.options.preload=n.concat(i),this.loadResources(function(a){t.resolve(),s&&s(a)}),t):(s&&s(),Promise.resolve())}},{key:"dir",value:function(t){return(t||(t=this.languages&&0<this.languages.length?this.languages[0]:this.language),!t)?"rtl":0<=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))?"rtl":"ltr"}},{key:"createInstance",value:function(){return new d(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},1<arguments.length?arguments[1]:void 0)}},{key:"cloneInstance",value:function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:A,i=I({},this.options,e,{isClone:!0}),s=new d(i);return["store","services","language"].forEach(function(e){s[e]=n[e]}),s.services=I({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s.translator=new R(s.services,s.options),s.translator.on("*",function(a){for(var e=arguments.length,t=Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];s.emit.apply(s,[a].concat(t))}),s.init(i,t),s.translator.options=s.options,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}}]),d}())}),!function(a,e){define("i18next-post",[],e)}(this,function(){"use strict";function d(){var e=arguments[0],t=d.cache;return t[e]&&t.hasOwnProperty(e)||(t[e]=d.parse(e)),d.format.call(null,t[e],arguments)}function e(e,t,a){return a=(t||[]).slice(0),a.splice(0,0,e),d.apply(null,a)}function m(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function r(a,e){return Array(e+1).join(a)}var t={typeof:"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}},v={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};d.format=function(e,t){var n=1,s=e.length,o="",A=[],h=!0,w="",k,S,C,M,L,T,E;for(S=0;s>S;S++)if(o=m(e[S]),"string"===o)A[A.length]=e[S];else if("array"===o){if(M=e[S],M[2])for(k=t[n],C=0;C<M[2].length;C++){if(!k.hasOwnProperty(M[2][C]))throw new Error(d("[sprintf] property '%s' does not exist",M[2][C]));k=k[M[2][C]]}else k=M[1]?t[M[1]]:t[n++];if("function"==m(k)&&(k=k()),v.not_string.test(M[8])&&v.not_json.test(M[8])&&"number"!=m(k)&&isNaN(k))throw new TypeError(d("[sprintf] expecting number but found %s",m(k)));switch(v.number.test(M[8])&&(h=0<=k),M[8]){case"b":k=k.toString(2);break;case"c":k=String.fromCharCode(k);break;case"d":case"i":k=parseInt(k,10);break;case"j":k=JSON.stringify(k,null,M[6]?parseInt(M[6]):0);break;case"e":k=M[7]?k.toExponential(M[7]):k.toExponential();break;case"f":k=M[7]?parseFloat(k).toFixed(M[7]):parseFloat(k);break;case"g":k=M[7]?parseFloat(k).toPrecision(M[7]):parseFloat(k);break;case"o":k=k.toString(8);break;case"s":k=(k=k+"")&&M[7]?k.substring(0,M[7]):k;break;case"u":k>>>=0;break;case"x":k=k.toString(16);break;case"X":k=k.toString(16).toUpperCase();}v.json.test(M[8])?A[A.length]=k:(v.number.test(M[8])&&(!h||M[3])?(w=h?"+":"-",k=k.toString().replace(v.sign,"")):w="",T=M[4]?"0"===M[4]?"0":M[4].charAt(1):" ",E=M[6]-(w+k).length,L=M[6]&&0<E?r(T,E):"",A[A.length]=M[5]?w+k+L:"0"===T?w+L+k:L+w+k)}return A.join("")},d.cache={},d.parse=function(s){for(var e=s,d=[],c=[],n=0;e;){if(null!==(d=v.text.exec(e)))c[c.length]=d[0];else if(null!==(d=v.modulo.exec(e)))c[c.length]="%";else{if(null===(d=v.placeholder.exec(e)))throw new SyntaxError("[sprintf] unexpected placeholder");if(d[2]){n|=1;var p=[],i=d[2],m=[];if(null===(m=v.key.exec(i)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(p[p.length]=m[1];""!==(i=i.substring(m[0].length));)if(null!==(m=v.key_access.exec(i)))p[p.length]=m[1];else{if(null===(m=v.index_access.exec(i)))throw new SyntaxError("[sprintf] failed to parse named argument key");p[p.length]=m[1]}d[2]=p}else n|=2;if(3===n)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");c[c.length]=d}e=e.substring(d[0].length)}return c};return{name:"sprintf",type:"postProcessor",process:function(a,i,n){return n.sprintf?"[object Array]"===Object.prototype.toString.apply(n.sprintf)?e(a,n.sprintf):"object"===t["typeof"](n.sprintf)?d(a,n.sprintf):a:a},overloadTranslationOptionHandler:function(a){for(var e=[],t=1;t<a.length;t++)e.push(a[t]);return{postProcess:"sprintf",sprintf:e}}}}),function(e,t){if("function"==typeof define&&define.amd)define("strophe",[],t);else{var a=t();e.Strophe=a.Strophe,e.$build=a.$build,e.$iq=a.$iq,e.$msg=a.$msg,e.$pres=a.$pres,e.SHA1=a.SHA1,e.MD5=a.MD5,e.b64_hmac_sha1=a.b64_hmac_sha1,e.b64_sha1=a.b64_sha1,e.str_hmac_sha1=a.str_hmac_sha1,e.str_sha1=a.str_sha1}}(this,function(){var e=Math.abs,t=String.fromCharCode,a=Math.ceil,n=Math.floor,s=Math.pow,o=Math.min,d,r,c;return function(e){function t(e,t){return b.call(e,t)}function a(e,t){var a=t&&t.split("/"),n=v.map,s=n&&n["*"]||{},o,d,r,c,l,p,m,u,g,h,f,b;if(e){for(e=e.split("/"),l=e.length-1,v.nodeIdCompat&&x.test(e[l])&&(e[l]=e[l].replace(x,"")),"."===e[0].charAt(0)&&a&&(b=a.slice(0,a.length-1),e=b.concat(e)),g=0;g<e.length;g++)if(f=e[g],"."===f)e.splice(g,1),g-=1;else if(".."===f)if(0===g||1===g&&".."===e[2]||".."===e[g-1])continue;else 0<g&&(e.splice(g-1,2),g-=2);e=e.join("/")}if((a||s)&&n){for(o=e.split("/"),g=o.length;0<g;g-=1){if(d=o.slice(0,g).join("/"),a)for(h=a.length;0<h;h-=1)if(r=n[a.slice(0,h).join("/")],r&&(r=r[d],r)){c=r,p=g;break}if(c)break;!m&&s&&s[d]&&(m=s[d],u=g)}!c&&m&&(c=m,p=u),c&&(o.splice(0,p,c),e=o.join("/"))}return e}function n(t,a){return function(){var i=A.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),k.apply(e,i.concat([t,a]))}}function s(e){return function(t){return a(t,e)}}function o(e){return function(t){g[e]=t}}function l(a){if(t(h,a)){var i=h[a];delete h[a],f[a]=!0,w.apply(e,i)}if(!t(g,a)&&!t(f,a))throw new Error("No "+a);return g[a]}function p(e){var t=e?e.indexOf("!"):-1,a;return-1<t&&(a=e.substring(0,t),e=e.substring(t+1,e.length)),[a,e]}function m(e){return e?p(e):[]}function u(e){return function(){return v&&v.config&&v.config[e]||{}}}var g={},h={},v={},f={},b=Object.prototype.hasOwnProperty,A=[].slice,x=/\.js$/,w,k,S,C;S=function(e,t){var i=p(e),n=i[0],o=t[1],d;return e=i[1],n&&(n=a(n,o),d=l(n)),n?d&&d.normalize?e=d.normalize(e,s(o)):e=a(e,o):(e=a(e,o),i=p(e),n=i[0],e=i[1],n&&(d=l(n))),{f:n?n+"!"+e:e,n:e,pr:n,p:d}},C={require:function(e){return n(e)},exports:function(t){var a=g[t];return"undefined"==typeof a?g[t]={}:a},module:function(e){return{id:e,uri:"",exports:g[e],config:u(e)}}},w=function(a,s,d,r){var c=[],p=typeof d,u,v,b,A,x,w,k;if(r=r||a,w=m(r),"undefined"==p||"function"===p){for(s=!s.length&&d.length?["require","exports","module"]:s,x=0;x<s.length;x+=1)if(A=S(s[x],w),v=A.f,"require"===v)c[x]=C.require(a);else if("exports"===v)c[x]=C.exports(a),k=!0;else if("module"===v)u=c[x]=C.module(a);else if(t(g,v)||t(h,v)||t(f,v))c[x]=l(v);else if(A.p)A.p.load(A.n,n(r,!0),o(v),{}),c[x]=g[v];else throw new Error(a+" missing "+v);b=d?d.apply(g[a],c):void 0,a&&(u&&u.exports!==e&&u.exports!==g[a]?g[a]=u.exports:(b!==e||!k)&&(g[a]=b))}else a&&(g[a]=d)},d=r=k=function(t,a,i,n,s){if("string"==typeof t)return C[t]?C[t](a):l(S(t,m(a)).f);if(!t.splice){if(v=t,v.deps&&k(v.deps,v.callback),!a)return;a.splice?(t=a,a=i,i=null):t=e}return a=a||function(){},"function"==typeof i&&(i=n,n=s),n?w(e,t,a,i):setTimeout(function(){w(e,t,a,i)},4),k},k.config=function(e){return k(e)},d._defined=g,c=function(e,a,i){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");a.splice||(i=a,a=[]),t(g,e)||t(h,e)||(h[e]=[e,a,i])},c.amd={jQuery:!0}}(),c("node_modules/almond/almond.js",function(){}),function(e,t){return"function"==typeof c&&c.amd?void c("strophe-polyfill",[],function(){return t(e)}):t(e)}(this,function(e){Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,a=Array.prototype.slice,i=Array.prototype.concat,n=a.call(arguments,1);return function(){return t.apply(e?e:this,i.call(n,a.call(arguments,0)))}}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=+arguments[1]||0;for(i=0>i?a(i):n(i),0>i&&(i+=t);i<t;i++)if(i in this&&this[i]===e)return i;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var a,i;if(null===this)throw new TypeError(" this is null or not defined");var n=Object(this),s=n.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(a=t),i=0;i<s;){var o;i in n&&(o=n[i],e.call(a,o,i,n)),i++}});e.btoa||(e.btoa=function(e){var t="",a=0,n,s,o,d,r,c,l;do n=e.charCodeAt(a++),s=e.charCodeAt(a++),o=e.charCodeAt(a++),d=n>>2,r=(3&n)<<4|s>>4,c=(15&s)<<2|o>>6,l=63&o,isNaN(s)?(r=(3&n)<<4,c=l=64):isNaN(o)&&(l=64),t=t+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l);while(a<e.length);return t}),e.atob||(e.atob=function(e){var a="",n=0,s,o,d,r,c,l,p;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++)),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++)),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++)),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++)),s=r<<2|c>>4,o=(15&c)<<4|l>>2,d=(3&l)<<6|p,a+=t(s),64!==l&&(a+=t(o)),64!==p&&(a+=t(d));while(n<e.length);return a})}),function(e,t){"function"==typeof c&&c.amd?c("strophe-sha1",[],function(){return t()}):"object"==typeof exports?module.exports=t():e.SHA1=t()}(this,function(){function e(o,p){o[p>>5]|=128<<24-p%32,o[(p+64>>9<<4)+15]=p;var m=Array(80),u=1732584193,g=-271733879,h=-1732584194,v=271733878,f=-1009589776,A,x,w,k,S,C,M,L;for(A=0;A<o.length;A+=16){for(k=u,S=g,C=h,M=v,L=f,x=0;80>x;x++)m[x]=16>x?o[A+x]:l(m[x-3]^m[x-8]^m[x-14]^m[x-16],1),w=r(r(l(u,5),n(x,g,h,v)),r(r(f,m[x]),s(x))),f=v,v=h,h=l(g,30),g=u,u=w;u=r(u,k),g=r(g,S),h=r(h,C),v=r(v,M),f=r(f,L)}return[u,g,h,v,f]}function n(e,t,a,i){return 20>e?t&a|~t&i:40>e?t^a^i:60>e?t&a|t&i|a&i:t^a^i}function s(e){return 20>e?1518500249:40>e?1859775393:60>e?-1894007588:-899497514}function o(t,a){var n=p(t);16<n.length&&(n=e(n,8*t.length));for(var s=Array(16),o=Array(16),d=0;16>d;d++)s[d]=909522486^n[d],o[d]=1549556828^n[d];var r=e(s.concat(p(a)),512+8*a.length);return e(o.concat(r),672)}function r(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function l(e,t){return e<<t|e>>>32-t}function p(e){for(var t=[],a=0;a<8*e.length;a+=8)t[a>>5]|=(e.charCodeAt(a/8)&255)<<24-a%32;return t}function m(e){for(var a="",n=0;n<32*e.length;n+=8)a+=t(e[n>>5]>>>24-n%32&255);return a}function u(e){for(var t="",a=0,n,s;a<4*e.length;a+=3)for(n=(255&e[a>>2]>>8*(3-a%4))<<16|(255&e[a+1>>2]>>8*(3-(a+1)%4))<<8|255&e[a+2>>2]>>8*(3-(a+2)%4),s=0;4>s;s++)t+=8*a+6*s>32*e.length?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&n>>6*(3-s));return t}return{b64_hmac_sha1:function(e,t){return u(o(e,t))},b64_sha1:function(t){return u(e(p(t),8*t.length))},binb2str:m,core_hmac_sha1:o,str_hmac_sha1:function(e,t){return m(o(e,t))},str_sha1:function(t){return m(e(p(t),8*t.length))}}}),function(e,t){"function"==typeof c&&c.amd?c("strophe-md5",[],function(){return t()}):"object"==typeof exports?module.exports=t():e.MD5=t()}(this,function(){var e=function(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a},i=function(e,t){return e<<t|e>>>32-t},n=function(e){for(var t=[],a=0;a<8*e.length;a+=8)t[a>>5]|=(255&e.charCodeAt(a/8))<<a%32;return t},o=function(e){for(var a="",n=0;n<32*e.length;n+=8)a+=t(255&e[n>>5]>>>n%32);return a},d=function(e){for(var t="0123456789abcdef",a="",n=0;n<4*e.length;n++)a+=t.charAt(15&e[n>>2]>>8*(n%4)+4)+t.charAt(15&e[n>>2]>>8*(n%4));return a},r=function(n,o,a,d,r,s){return e(i(e(e(o,n),e(d,s)),r),a)},l=function(e,a,i,n,o,d,s){return r(a&i|~a&n,e,a,o,d,s)},p=function(e,a,i,n,o,d,s){return r(a&n|i&~n,e,a,o,d,s)},m=function(e,a,i,n,o,d,s){return r(a^i^n,e,a,o,d,s)},u=function(e,a,i,n,o,d,s){return r(i^(a|~n),e,a,o,d,s)},g=function(t,n){t[n>>5]|=128<<n%32,t[(n+64>>>9<<4)+14]=n;for(var s=1732584193,o=-271733879,r=-1732584194,g=271733878,h=0,v,f,A,x;h<t.length;h+=16)v=s,f=o,A=r,x=g,s=l(s,o,r,g,t[h+0],7,-680876936),g=l(g,s,o,r,t[h+1],12,-389564586),r=l(r,g,s,o,t[h+2],17,606105819),o=l(o,r,g,s,t[h+3],22,-1044525330),s=l(s,o,r,g,t[h+4],7,-176418897),g=l(g,s,o,r,t[h+5],12,1200080426),r=l(r,g,s,o,t[h+6],17,-1473231341),o=l(o,r,g,s,t[h+7],22,-45705983),s=l(s,o,r,g,t[h+8],7,1770035416),g=l(g,s,o,r,t[h+9],12,-1958414417),r=l(r,g,s,o,t[h+10],17,-42063),o=l(o,r,g,s,t[h+11],22,-1990404162),s=l(s,o,r,g,t[h+12],7,1804603682),g=l(g,s,o,r,t[h+13],12,-40341101),r=l(r,g,s,o,t[h+14],17,-1502002290),o=l(o,r,g,s,t[h+15],22,1236535329),s=p(s,o,r,g,t[h+1],5,-165796510),g=p(g,s,o,r,t[h+6],9,-1069501632),r=p(r,g,s,o,t[h+11],14,643717713),o=p(o,r,g,s,t[h+0],20,-373897302),s=p(s,o,r,g,t[h+5],5,-701558691),g=p(g,s,o,r,t[h+10],9,38016083),r=p(r,g,s,o,t[h+15],14,-660478335),o=p(o,r,g,s,t[h+4],20,-405537848),s=p(s,o,r,g,t[h+9],5,568446438),g=p(g,s,o,r,t[h+14],9,-1019803690),r=p(r,g,s,o,t[h+3],14,-187363961),o=p(o,r,g,s,t[h+8],20,1163531501),s=p(s,o,r,g,t[h+13],5,-1444681467),g=p(g,s,o,r,t[h+2],9,-51403784),r=p(r,g,s,o,t[h+7],14,1735328473),o=p(o,r,g,s,t[h+12],20,-1926607734),s=m(s,o,r,g,t[h+5],4,-378558),g=m(g,s,o,r,t[h+8],11,-2022574463),r=m(r,g,s,o,t[h+11],16,1839030562),o=m(o,r,g,s,t[h+14],23,-35309556),s=m(s,o,r,g,t[h+1],4,-1530992060),g=m(g,s,o,r,t[h+4],11,1272893353),r=m(r,g,s,o,t[h+7],16,-155497632),o=m(o,r,g,s,t[h+10],23,-1094730640),s=m(s,o,r,g,t[h+13],4,681279174),g=m(g,s,o,r,t[h+0],11,-358537222),r=m(r,g,s,o,t[h+3],16,-722521979),o=m(o,r,g,s,t[h+6],23,76029189),s=m(s,o,r,g,t[h+9],4,-640364487),g=m(g,s,o,r,t[h+12],11,-421815835),r=m(r,g,s,o,t[h+15],16,530742520),o=m(o,r,g,s,t[h+2],23,-995338651),s=u(s,o,r,g,t[h+0],6,-198630844),g=u(g,s,o,r,t[h+7],10,1126891415),r=u(r,g,s,o,t[h+14],15,-1416354905),o=u(o,r,g,s,t[h+5],21,-57434055),s=u(s,o,r,g,t[h+12],6,1700485571),g=u(g,s,o,r,t[h+3],10,-1894986606),r=u(r,g,s,o,t[h+10],15,-1051523),o=u(o,r,g,s,t[h+1],21,-2054922799),s=u(s,o,r,g,t[h+8],6,1873313359),g=u(g,s,o,r,t[h+15],10,-30611744),r=u(r,g,s,o,t[h+6],15,-1560198380),o=u(o,r,g,s,t[h+13],21,1309151649),s=u(s,o,r,g,t[h+4],6,-145523070),g=u(g,s,o,r,t[h+11],10,-1120210379),r=u(r,g,s,o,t[h+2],15,718787259),o=u(o,r,g,s,t[h+9],21,-343485551),s=e(s,v),o=e(o,f),r=e(r,A),g=e(g,x);return[s,o,r,g]};return{hexdigest:function(e){return d(g(n(e),8*e.length))},hash:function(e){return o(g(n(e),8*e.length))}}}),function(e,t){"function"==typeof c&&c.amd?c("strophe-utils",[],function(){return t()}):"object"==typeof exports?module.exports=t():e.stropheUtils=t()}(this,function(){return{utf16to8:function(e){var a="",n=e.length,s,o;for(s=0;s<n;s++)o=e.charCodeAt(s),0<=o&&127>=o?a+=e.charAt(s):2047<o?(a+=t(224|15&o>>12),a+=t(128|63&o>>6),a+=t(128|63&o>>0)):(a+=t(192|31&o>>6),a+=t(128|63&o>>0));return a},addCookies:function(e){var t,a,i,n,s,o,d;for(t in e||{})s="",o="",d="",a=e[t],i="object"==typeof a,n=escape(unescape(i?a.value:a)),i&&(s=a.expires?";expires="+a.expires:"",o=a.domain?";domain="+a.domain:"",d=a.path?";path="+a.path:""),document.cookie=t+"="+n+s+o+d}}}),function(e,t){if("function"==typeof c&&c.amd)c("strophe-core",["strophe-sha1","strophe-md5","strophe-utils"],function(){return t.apply(this,arguments)});else if("object"==typeof exports)module.exports=t(r("./sha1"),r("./md5"),r("./utils"));else{var a=t(e.SHA1,e.MD5,e.stropheUtils);e.Strophe=a.Strophe,e.$build=a.$build,e.$iq=a.$iq,e.$msg=a.$msg,e.$pres=a.$pres,e.SHA1=a.SHA1,e.MD5=a.MD5,e.b64_hmac_sha1=a.SHA1.b64_hmac_sha1,e.b64_sha1=a.SHA1.b64_sha1,e.str_hmac_sha1=a.SHA1.str_hmac_sha1,e.str_sha1=a.SHA1.str_sha1}}(this,function(e,t,a){function n(e,t){return new r.Builder(e,t)}function s(e){return new r.Builder("message",e)}function o(e){return new r.Builder("iq",e)}function d(e){return new r.Builder("presence",e)}var r;return r={VERSION:"1.2.16",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},XHTML:{tags:["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul","body"],attributes:{a:["href"],blockquote:["style"],br:[],cite:["style"],em:[],img:["src","alt","style","height","width"],li:["style"],ol:["style"],p:["style"],span:["style"],strong:[],ul:["style"],body:[]},css:["background-color","color","font-family","font-size","font-style","font-weight","margin-left","margin-right","text-align","text-decoration"],validTag:function(e){for(var t=0;t<r.XHTML.tags.length;t++)if(e===r.XHTML.tags[t])return!0;return!1},validAttribute:function(e,t){if("undefined"!=typeof r.XHTML.attributes[e]&&0<r.XHTML.attributes[e].length)for(var a=0;a<r.XHTML.attributes[e].length;a++)if(t===r.XHTML.attributes[e][a])return!0;return!1},validCSS:function(e){for(var t=0;t<r.XHTML.css.length;t++)if(e===r.XHTML.css[t])return!0;return!1}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9,CONNTIMEOUT:10},ErrorCondition:{BAD_FORMAT:"bad-format",CONFLICT:"conflict",MISSING_JID_NODE:"x-strophe-bad-non-anon-jid",NO_AUTH_MECH:"no-auth-mech",UNKNOWN_REASON:"unknown"},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,addNamespace:function(e,t){r.NS[e]=t},forEachChild:function(e,t,a){var n,s;for(n=0;n<e.childNodes.length;n++)s=e.childNodes[n],s.nodeType===r.ElementType.NORMAL&&(!t||this.isTagEqual(s,t))&&a(s)},isTagEqual:function(e,t){return e.tagName===t},_xmlGenerator:null,_makeGenerator:function(){var e;return void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&10>document.documentMode?(e=this._getIEXmlDom(),e.appendChild(e.createElement("strophe"))):e=document.implementation.createDocument("jabber:client","strophe",null),e},xmlGenerator:function(){return r._xmlGenerator||(r._xmlGenerator=r._makeGenerator()),r._xmlGenerator},_getIEXmlDom:function(){for(var t=null,a=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"],i=0;i<a.length&&null===t;i++)try{t=new ActiveXObject(a[i])}catch(a){t=null}return t},xmlElement:function(e){if(!e)return null;var t=r.xmlGenerator().createElement(e),n,s,o;for(n=1;n<arguments.length;n++){var d=arguments[n];if(d)if("string"==typeof d||"number"==typeof d)t.appendChild(r.xmlTextNode(d));else if("object"==typeof d&&"function"==typeof d.sort)for(s=0;s<d.length;s++){var c=d[s];"object"==typeof c&&"function"==typeof c.sort&&void 0!==c[1]&&null!==c[1]&&t.setAttribute(c[0],c[1])}else if("object"==typeof d)for(o in d)d.hasOwnProperty(o)&&void 0!==d[o]&&null!==d[o]&&t.setAttribute(o,d[o])}return t},xmlescape:function(e){return e=e.replace(/\&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/'/g,"&apos;"),e=e.replace(/"/g,"&quot;"),e},xmlunescape:function(e){return e=e.replace(/\&amp;/g,"&"),e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&apos;/g,"'"),e=e.replace(/&quot;/g,"\""),e},xmlTextNode:function(e){return r.xmlGenerator().createTextNode(e)},xmlHtmlNode:function(e){var t;if(DOMParser){var a=new DOMParser;t=a.parseFromString(e,"text/xml")}else t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t},getText:function(e){if(!e)return null;var t="";0===e.childNodes.length&&e.nodeType===r.ElementType.TEXT&&(t+=e.nodeValue);for(var a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===r.ElementType.TEXT&&(t+=e.childNodes[a].nodeValue);return r.xmlescape(t)},copyElement:function(e){var t,a;if(e.nodeType===r.ElementType.NORMAL){for(a=r.xmlElement(e.tagName),t=0;t<e.attributes.length;t++)a.setAttribute(e.attributes[t].nodeName,e.attributes[t].value);for(t=0;t<e.childNodes.length;t++)a.appendChild(r.copyElement(e.childNodes[t]))}else e.nodeType===r.ElementType.TEXT&&(a=r.xmlGenerator().createTextNode(e.nodeValue));return a},createHtml:function(e){var t,a,n,s,o,d,c,l,p,m,u;if(e.nodeType===r.ElementType.NORMAL){if(s=e.nodeName.toLowerCase(),r.XHTML.validTag(s))try{for(a=r.xmlElement(s),t=0;t<r.XHTML.attributes[s].length;t++)if(o=r.XHTML.attributes[s][t],d=e.getAttribute(o),"undefined"!=typeof d&&null!==d&&""!==d&&!1!==d&&0!==d)if("style"===o&&"object"==typeof d&&"undefined"!=typeof d.cssText&&(d=d.cssText),"style"===o){for(c=[],l=d.split(";"),n=0;n<l.length;n++)p=l[n].split(":"),m=p[0].replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase(),r.XHTML.validCSS(m)&&(u=p[1].replace(/^\s*/,"").replace(/\s*$/,""),c.push(m+": "+u));0<c.length&&(d=c.join("; "),a.setAttribute(o,d))}else a.setAttribute(o,d);for(t=0;t<e.childNodes.length;t++)a.appendChild(r.createHtml(e.childNodes[t]))}catch(t){a=r.xmlTextNode("")}else for(a=r.xmlGenerator().createDocumentFragment(),t=0;t<e.childNodes.length;t++)a.appendChild(r.createHtml(e.childNodes[t]));}else if(e.nodeType===r.ElementType.FRAGMENT)for(a=r.xmlGenerator().createDocumentFragment(),t=0;t<e.childNodes.length;t++)a.appendChild(r.createHtml(e.childNodes[t]));else e.nodeType===r.ElementType.TEXT&&(a=r.xmlTextNode(e.nodeValue));return a},escapeNode:function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40"):e},unescapeNode:function(e){return"string"==typeof e?e.replace(/\\20/g," ").replace(/\\22/g,"\"").replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\"):e},getNodeFromJid:function(e){return 0>e.indexOf("@")?null:e.split("@")[0]},getDomainFromJid:function(e){var t=r.getBareJidFromJid(e);if(0>t.indexOf("@"))return t;var a=t.split("@");return a.splice(0,1),a.join("@")},getResourceFromJid:function(e){var t=e.split("/");return 2>t.length?null:(t.splice(0,1),t.join("/"))},getBareJidFromJid:function(e){return e?e.split("/")[0]:null},_handleError:function(t){"undefined"!=typeof t.stack&&r.fatal(t.stack),t.sourceURL?r.fatal("error: "+this.handler+" "+t.sourceURL+":"+t.line+" - "+t.name+": "+t.message):t.fileName?r.fatal("error: "+this.handler+" "+t.fileName+":"+t.lineNumber+" - "+t.name+": "+t.message):r.fatal("error: "+t.message)},log:function(e,t){e===this.LogLevel.FATAL&&"object"==typeof window.console&&"function"==typeof window.console.error&&window.console.error(t)},debug:function(e){this.log(this.LogLevel.DEBUG,e)},info:function(e){this.log(this.LogLevel.INFO,e)},warn:function(e){this.log(this.LogLevel.WARN,e)},error:function(e){this.log(this.LogLevel.ERROR,e)},fatal:function(e){this.log(this.LogLevel.FATAL,e)},serialize:function(e){var t;if(!e)return null;"function"==typeof e.tree&&(e=e.tree());var a=e.nodeName,n,s;for(e.getAttribute("_realname")&&(a=e.getAttribute("_realname")),t="<"+a,n=0;n<e.attributes.length;n++)"_realname"!==e.attributes[n].nodeName&&(t+=" "+e.attributes[n].nodeName+"='"+r.xmlescape(e.attributes[n].value)+"'");if(0<e.childNodes.length){for(t+=">",n=0;n<e.childNodes.length;n++)switch(s=e.childNodes[n],s.nodeType){case r.ElementType.NORMAL:t+=r.serialize(s);break;case r.ElementType.TEXT:t+=r.xmlescape(s.nodeValue);break;case r.ElementType.CDATA:t+="<![CDATA["+s.nodeValue+"]]>";}t+="</"+a+">"}else t+="/>";return t},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(e,t){r._connectionPlugins[e]=t}},r.Builder=function(e,t){("presence"===e||"message"===e||"iq"===e)&&(t&&!t.xmlns?t.xmlns=r.NS.CLIENT:!t&&(t={xmlns:r.NS.CLIENT})),this.nodeTree=r.xmlElement(e,t),this.node=this.nodeTree},r.Builder.prototype={tree:function(){return this.nodeTree},toString:function(){return r.serialize(this.nodeTree)},up:function(){return this.node=this.node.parentNode,this},root:function(){return this.node=this.nodeTree,this},attrs:function(e){for(var t in e)e.hasOwnProperty(t)&&(void 0===e[t]?this.node.removeAttribute(t):this.node.setAttribute(t,e[t]));return this},c:function(e,t,a){var i=r.xmlElement(e,t,a);return this.node.appendChild(i),"string"!=typeof a&&"number"!=typeof a&&(this.node=i),this},cnode:function(e){var t=r.xmlGenerator(),a;try{a=void 0!==t.importNode}catch(t){a=!1}var i=a?t.importNode(e,!0):r.copyElement(e);return this.node.appendChild(i),this.node=i,this},t:function(e){var t=r.xmlTextNode(e);return this.node.appendChild(t),this},h:function(e){var t=document.createElement("body");t.innerHTML=e;for(var a=r.createHtml(t);0<a.childNodes.length;)this.node.appendChild(a.childNodes[0]);return this}},r.Handler=function(e,t,a,i,n,s,o){this.handler=e,this.ns=t,this.name=a,this.type=i,this.id=n,this.options=o||{matchBareFromJid:!1,ignoreNamespaceFragment:!1},this.options.matchBare&&(r.warn("The \"matchBare\" option is deprecated, use \"matchBareFromJid\" instead."),this.options.matchBareFromJid=this.options.matchBare,delete this.options.matchBare),this.from=this.options.matchBareFromJid?s?r.getBareJidFromJid(s):null:s,this.user=!0},r.Handler.prototype={getNamespace:function(e){var t=e.getAttribute("xmlns");return t&&this.options.ignoreNamespaceFragment&&(t=t.split("#")[0]),t},namespaceMatch:function(e){var t=!1;if(!this.ns)return!0;var a=this;return r.forEachChild(e,null,function(e){a.getNamespace(e)===a.ns&&(t=!0)}),t=t||this.getNamespace(e)===this.ns,t},isMatch:function(e){var t=e.getAttribute("from");this.options.matchBareFromJid&&(t=r.getBareJidFromJid(t));var a=e.getAttribute("type");return!(!this.namespaceMatch(e)||this.name&&!r.isTagEqual(e,this.name)||this.type&&(Array.isArray(this.type)?-1===this.type.indexOf(a):a!==this.type)||this.id&&e.getAttribute("id")!==this.id||this.from&&t!==this.from)},run:function(e){var t=null;try{t=this.handler(e)}catch(t){throw r._handleError(t),t}return t},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}},r.TimedHandler=function(e,t){this.period=e,this.handler=t,this.lastCalled=new Date().getTime(),this.user=!0},r.TimedHandler.prototype={run:function(){return this.lastCalled=new Date().getTime(),this.handler()},reset:function(){this.lastCalled=new Date().getTime()},toString:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}},r.Connection=function(e,t){this.service=e,this.options=t||{};var i=this.options.protocol||"";for(var n in this._proto=0===e.indexOf("ws:")||0===e.indexOf("wss:")||0===i.indexOf("ws")?new r.Websocket(this):new r.Bosh(this),this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.protocolErrorHandlers={HTTP:{},websocket:{}},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout(function(){this._onIdle()}.bind(this),100),a.addCookies(this.options.cookies),this.registerSASLMechanisms(this.options.mechanisms),r._connectionPlugins)if(r._connectionPlugins.hasOwnProperty(n)){var s=r._connectionPlugins[n],o=function(){};o.prototype=s,this[n]=new o,this[n].init(this)}},r.Connection.prototype={reset:function(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0},pause:function(){this.paused=!0},resume:function(){this.paused=!1},getUniqueId:function(e){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),a="x"===e?t:8|3&t;return a.toString(16)});return"string"==typeof e||"number"==typeof e?t+":"+e:t+""},addProtocolErrorHandler:function(e,t,a){this.protocolErrorHandlers[e][t]=a},connect:function(e,t,a,i,n,s,o){this.jid=e,this.authzid=r.getBareJidFromJid(this.jid),this.authcid=o||r.getNodeFromJid(this.jid),this.pass=t,this.servtype="xmpp",this.connect_callback=a,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.domain=r.getDomainFromJid(this.jid),this._changeConnectStatus(r.Status.CONNECTING,null),this._proto._connect(i,n,s)},attach:function(e,t,a,i,n,s,o){if(this._proto instanceof r.Bosh)this._proto._attach(e,t,a,i,n,s,o);else throw{name:"StropheSessionError",message:"The \"attach\" method can only be used with a BOSH connection."}},restore:function(e,t,a,i,n){if(this._sessionCachingSupported())this._proto._restore(e,t,a,i,n);else throw{name:"StropheSessionError",message:"The \"restore\" method can only be used with a BOSH connection."}},_sessionCachingSupported:function(){if(this._proto instanceof r.Bosh){if(!JSON)return!1;try{sessionStorage.setItem("_strophe_","_strophe_"),sessionStorage.removeItem("_strophe_")}catch(t){return!1}return!0}return!1},xmlInput:function(){},xmlOutput:function(){},rawInput:function(){},rawOutput:function(){},nextValidRid:function(){},send:function(e){if(null!==e){if("function"==typeof e.sort)for(var t=0;t<e.length;t++)this._queueData(e[t]);else"function"==typeof e.tree?this._queueData(e.tree()):this._queueData(e);this._proto._send()}},flush:function(){clearTimeout(this._idleTimeout),this._onIdle()},sendPresence:function(e,t,a,i){var n=null,s=this;"function"==typeof e.tree&&(e=e.tree());var o=e.getAttribute("id");if(o||(o=this.getUniqueId("sendPresence"),e.setAttribute("id",o)),"function"==typeof t||"function"==typeof a){var d=this.addHandler(function(e){n&&s.deleteTimedHandler(n);var i=e.getAttribute("type");"error"===i?a&&a(e):t&&t(e)},null,"presence",null,o);i&&(n=this.addTimedHandler(i,function(){return s.deleteHandler(d),a&&a(null),!1}))}return this.send(e),o},sendIQ:function(e,t,a,i){var n=null,s=this;"function"==typeof e.tree&&(e=e.tree());var o=e.getAttribute("id");if(o||(o=this.getUniqueId("sendIQ"),e.setAttribute("id",o)),"function"==typeof t||"function"==typeof a){var d=this.addHandler(function(e){n&&s.deleteTimedHandler(n);var i=e.getAttribute("type");if("result"===i)t&&t(e);else if("error"===i)a&&a(e);else throw{name:"StropheError",message:"Got bad IQ type of "+i}},null,"iq",["error","result"],o);i&&(n=this.addTimedHandler(i,function(){return s.deleteHandler(d),a&&a(null),!1}))}return this.send(e),o},_queueData:function(e){if(null===e||!e.tagName||!e.childNodes)throw{name:"StropheError",message:"Cannot queue non-DOMElement."};this._data.push(e)},_sendRestart:function(){this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout(function(){this._onIdle()}.bind(this),100)},addTimedHandler:function(e,t){var a=new r.TimedHandler(e,t);return this.addTimeds.push(a),a},deleteTimedHandler:function(e){this.removeTimeds.push(e)},addHandler:function(e,t,a,i,n,s,o){var d=new r.Handler(e,t,a,i,n,s,o);return this.addHandlers.push(d),d},deleteHandler:function(e){this.removeHandlers.push(e);var t=this.addHandlers.indexOf(e);0<=t&&this.addHandlers.splice(t,1)},registerSASLMechanisms:function(e){this.mechanisms={},e=e||[r.SASLAnonymous,r.SASLExternal,r.SASLMD5,r.SASLOAuthBearer,r.SASLXOAuth2,r.SASLPlain,r.SASLSHA1],e.forEach(this.registerSASLMechanism.bind(this))},registerSASLMechanism:function(e){this.mechanisms[e.prototype.name]=e},disconnect:function(e){if(this._changeConnectStatus(r.Status.DISCONNECTING,e),r.info("Disconnect was called because: "+e),this.connected){var t=!1;this.disconnecting=!0,this.authenticated&&(t=d({xmlns:r.NS.CLIENT,type:"unavailable"})),this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(t)}else r.info("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests(),this._doDisconnect()},_changeConnectStatus:function(e,t,a){for(var i in r._connectionPlugins)if(r._connectionPlugins.hasOwnProperty(i)){var n=this[i];if(n.statusChanged)try{n.statusChanged(e,t)}catch(e){r.error(""+i+" plugin caused an exception changing status: "+e)}}if(this.connect_callback)try{this.connect_callback(e,t,a)}catch(t){r._handleError(t),r.error("User connection callback caused an exception: "+t)}},_doDisconnect:function(e){"number"==typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),r.info("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(r.Status.DISCONNECTED,e),this.connected=!1},_dataRecv:function(e,t){r.info("_dataRecv called");var a=this._proto._reqToData(e);if(null!==a){this.xmlInput!==r.Connection.prototype.xmlInput&&(a.nodeName===this._proto.strip&&a.childNodes.length?this.xmlInput(a.childNodes[0]):this.xmlInput(a)),this.rawInput!==r.Connection.prototype.rawInput&&(t?this.rawInput(t):this.rawInput(r.serialize(a)));for(var n,s;0<this.removeHandlers.length;)s=this.removeHandlers.pop(),n=this.handlers.indexOf(s),0<=n&&this.handlers.splice(n,1);for(;0<this.addHandlers.length;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())return void this._doDisconnect();var o=a.getAttribute("type"),d,c;if(null!==o&&"terminate"===o)return this.disconnecting?void 0:(d=a.getAttribute("condition"),c=a.getElementsByTagName("conflict"),null===d?this._changeConnectStatus(r.Status.CONNFAIL,r.ErrorCondition.UNKOWN_REASON):("remote-stream-error"===d&&0<c.length&&(d="conflict"),this._changeConnectStatus(r.Status.CONNFAIL,d)),void this._doDisconnect(d));var l=this;r.forEachChild(a,null,function(e){var t,a;for(a=l.handlers,l.handlers=[],t=0;t<a.length;t++){var n=a[t];try{n.isMatch(e)&&(l.authenticated||!n.user)?n.run(e)&&l.handlers.push(n):l.handlers.push(n)}catch(t){r.warn("Removing Strophe handlers due to uncaught exception: "+t.message)}}})}},mechanisms:{},_connect_cb:function(e,t,a){r.info("_connect_cb was called"),this.connected=!0;var n;try{n=this._proto._reqToData(e)}catch(t){if("badformat"!==t)throw t;this._changeConnectStatus(r.Status.CONNFAIL,r.ErrorCondition.BAD_FORMAT),this._doDisconnect(r.ErrorCondition.BAD_FORMAT)}if(n){this.xmlInput!==r.Connection.prototype.xmlInput&&(n.nodeName===this._proto.strip&&n.childNodes.length?this.xmlInput(n.childNodes[0]):this.xmlInput(n)),this.rawInput!==r.Connection.prototype.rawInput&&(a?this.rawInput(a):this.rawInput(r.serialize(n)));var s=this._proto._connect_cb(n);if(s!==r.Status.CONNFAIL){var o;if(o=n.getElementsByTagNameNS?0<n.getElementsByTagNameNS(r.NS.STREAM,"features").length:0<n.getElementsByTagName("stream:features").length||0<n.getElementsByTagName("features").length,!o)return void this._proto._no_auth_received(t);var d=[],c=n.getElementsByTagName("mechanism"),l,p;if(0<c.length)for(l=0;l<c.length;l++)p=r.getText(c[l]),this.mechanisms[p]&&d.push(this.mechanisms[p]);return 0===d.length&&0===n.getElementsByTagName("auth").length?void this._proto._no_auth_received(t):void(!1!==this.do_authentication&&this.authenticate(d))}}},sortMechanismsByPriority:function(e){var t,a,n,s;for(t=0;t<e.length-1;++t){for(n=t,a=t+1;a<e.length;++a)e[a].prototype.priority>e[n].prototype.priority&&(n=a);n!==t&&(s=e[t],e[t]=e[n],e[n]=s)}return e},_attemptSASLAuth:function(e){e=this.sortMechanismsByPriority(e||[]);var t=0,a=!1;for(t=0;t<e.length;++t)if(e[t].prototype.test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=new e[t],this._sasl_mechanism.onStart(this);var s=n("auth",{xmlns:r.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){var o=this._sasl_mechanism.onChallenge(this,null);s.t(btoa(o))}this.send(s.tree()),a=!0;break}return a},_attemptLegacyAuth:function(){null===r.getNodeFromJid(this.jid)?(this._changeConnectStatus(r.Status.CONNFAIL,r.ErrorCondition.MISSING_JID_NODE),this.disconnect(r.ErrorCondition.MISSING_JID_NODE)):(this._changeConnectStatus(r.Status.AUTHENTICATING,null),this._addSysHandler(this._auth1_cb.bind(this),null,null,null,"_auth_1"),this.send(o({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:r.NS.AUTH}).c("username",{}).t(r.getNodeFromJid(this.jid)).tree()))},authenticate:function(e){this._attemptSASLAuth(e)||this._attemptLegacyAuth()},_sasl_challenge_cb:function(e){var t=atob(r.getText(e)),a=this._sasl_mechanism.onChallenge(this,t),i=n("response",{xmlns:r.NS.SASL});return""!==a&&i.t(btoa(a)),this.send(i.tree()),!0},_auth1_cb:function(){var e=o({type:"set",id:"_auth_2"}).c("query",{xmlns:r.NS.AUTH}).c("username",{}).t(r.getNodeFromJid(this.jid)).up().c("password").t(this.pass);return r.getResourceFromJid(this.jid)||(this.jid=r.getBareJidFromJid(this.jid)+"/strophe"),e.up().c("resource",{}).t(r.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(e.tree()),!1},_sasl_success_cb:function(e){if(this._sasl_data["server-signature"]){var t=atob(r.getText(e)),a=t.match(/([a-z]+)=([^,]+)(,|$)/),i;if("v"===a[1]&&(i=a[2]),i!==this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}r.info("SASL authentication succeeded."),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var n=[],s=function(e,t){for(;e.length;)this.deleteHandler(e.pop());return this._sasl_auth1_cb.bind(this)(t),!1};return n.push(this._addSysHandler(function(e){s.bind(this)(n,e)}.bind(this),null,"stream:features",null,null)),n.push(this._addSysHandler(function(e){s.bind(this)(n,e)}.bind(this),r.NS.STREAM,"features",null,null)),this._sendRestart(),!1},_sasl_auth1_cb:function(e){this.features=e;var t,a;for(t=0;t<e.childNodes.length;t++)a=e.childNodes[t],"bind"===a.nodeName&&(this.do_bind=!0),"session"===a.nodeName&&(this.do_session=!0);if(!this.do_bind)return this._changeConnectStatus(r.Status.AUTHFAIL,null),!1;this._addSysHandler(this._sasl_bind_cb.bind(this),null,null,null,"_bind_auth_2");var n=r.getResourceFromJid(this.jid);return n?this.send(o({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:r.NS.BIND}).c("resource",{}).t(n).tree()):this.send(o({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:r.NS.BIND}).tree()),!1},_sasl_bind_cb:function(e){if("error"===e.getAttribute("type")){r.info("SASL binding failed.");var t=e.getElementsByTagName("conflict"),a;return 0<t.length&&(a=r.ErrorCondition.CONFLICT),this._changeConnectStatus(r.Status.AUTHFAIL,a,e),!1}var i=e.getElementsByTagName("bind"),n;return 0<i.length?void(n=i[0].getElementsByTagName("jid"),0<n.length&&(this.jid=r.getText(n[0]),this.do_session?(this._addSysHandler(this._sasl_session_cb.bind(this),null,null,null,"_session_auth_2"),this.send(o({type:"set",id:"_session_auth_2"}).c("session",{xmlns:r.NS.SESSION}).tree())):(this.authenticated=!0,this._changeConnectStatus(r.Status.CONNECTED,null)))):(r.info("SASL binding failed."),this._changeConnectStatus(r.Status.AUTHFAIL,null,e),!1)},_sasl_session_cb:function(e){if("result"===e.getAttribute("type"))this.authenticated=!0,this._changeConnectStatus(r.Status.CONNECTED,null);else if("error"===e.getAttribute("type"))return r.info("Session creation failed."),this._changeConnectStatus(r.Status.AUTHFAIL,null,e),!1;return!1},_sasl_failure_cb:function(e){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(r.Status.AUTHFAIL,null,e),!1},_auth2_cb:function(e){return"result"===e.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(r.Status.CONNECTED,null)):"error"===e.getAttribute("type")&&(this._changeConnectStatus(r.Status.AUTHFAIL,null,e),this.disconnect("authentication failed")),!1},_addSysTimedHandler:function(e,t){var a=new r.TimedHandler(e,t);return a.user=!1,this.addTimeds.push(a),a},_addSysHandler:function(e,t,a,i,n){var s=new r.Handler(e,t,a,i,n);return s.user=!1,this.addHandlers.push(s),s},_onDisconnectTimeout:function(){return r.info("_onDisconnectTimeout was called"),this._changeConnectStatus(r.Status.CONNTIMEOUT,null),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1},_onIdle:function(){for(var e,t,a,n;0<this.addTimeds.length;)this.timedHandlers.push(this.addTimeds.pop());for(;0<this.removeTimeds.length;)t=this.removeTimeds.pop(),e=this.timedHandlers.indexOf(t),0<=e&&this.timedHandlers.splice(e,1);var s=new Date().getTime();for(n=[],e=0;e<this.timedHandlers.length;e++)t=this.timedHandlers[e],(this.authenticated||!t.user)&&(a=t.lastCalled+t.period,0>=a-s?t.run()&&n.push(t):n.push(t));this.timedHandlers=n,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout(function(){this._onIdle()}.bind(this),100))}},r.SASLMechanism=function(e,t,a){this.name=e,this.isClientFirst=t,this.priority=a},r.SASLMechanism.prototype={test:function(){return!0},onStart:function(e){this._connection=e},onChallenge:function(){throw new Error("You should implement challenge handling!")},onFailure:function(){this._connection=null},onSuccess:function(){this._connection=null}},r.SASLAnonymous=function(){},r.SASLAnonymous.prototype=new r.SASLMechanism("ANONYMOUS",!1,20),r.SASLAnonymous.prototype.test=function(e){return null===e.authcid},r.SASLPlain=function(){},r.SASLPlain.prototype=new r.SASLMechanism("PLAIN",!0,50),r.SASLPlain.prototype.test=function(e){return null!==e.authcid},r.SASLPlain.prototype.onChallenge=function(e){var t=e.authzid;return t+="\0",t+=e.authcid,t+="\0",t+=e.pass,a.utf16to8(t)},r.SASLSHA1=function(){},r.SASLSHA1.prototype=new r.SASLMechanism("SCRAM-SHA-1",!0,70),r.SASLSHA1.prototype.test=function(e){return null!==e.authcid},r.SASLSHA1.prototype.onChallenge=function(i,n,s){var o=s||t.hexdigest(1234567890*Math.random()),d="n="+a.utf16to8(i.authcid);return d+=",r=",d+=o,i._sasl_data.cnonce=o,i._sasl_data["client-first-message-bare"]=d,d="n,,"+d,this.onChallenge=function(t,n){for(var s="c=biws,",o=t._sasl_data["client-first-message-bare"]+","+n+",",d=t._sasl_data.cnonce,r=/([a-z]+)=([^,]+)(,|$)/,c,l,p,m,u,g,h,v,f,b,A,x,w;n.match(r);)switch(w=n.match(r),n=n.replace(w[0],""),w[1]){case"r":c=w[2];break;case"s":l=w[2];break;case"i":p=w[2];}if(c.substr(0,d.length)!==d)return t._sasl_data={},t._sasl_failure_cb();for(s+="r="+c,o+=s,l=atob(l),l+="\0\0\0\x01",f=a.utf16to8(t.pass),m=g=e.core_hmac_sha1(f,l),h=1;h<p;h++){for(u=e.core_hmac_sha1(f,e.binb2str(g)),v=0;5>v;v++)m[v]^=u[v];g=u}for(m=e.binb2str(m),b=e.core_hmac_sha1(m,"Client Key"),A=e.str_hmac_sha1(m,"Server Key"),x=e.core_hmac_sha1(e.str_sha1(e.binb2str(b)),o),t._sasl_data["server-signature"]=e.b64_hmac_sha1(A,o),v=0;5>v;v++)b[v]^=x[v];return s+=",p="+btoa(e.binb2str(b)),s}.bind(this),d},r.SASLMD5=function(){},r.SASLMD5.prototype=new r.SASLMechanism("DIGEST-MD5",!1,60),r.SASLMD5.prototype.test=function(e){return null!==e.authcid},r.SASLMD5.prototype._quote=function(e){return"\""+e.replace(/\\/g,"\\\\").replace(/"/g,"\\\"")+"\""},r.SASLMD5.prototype.onChallenge=function(e,i,n){for(var s=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,o=n||t.hexdigest(""+1234567890*Math.random()),d="",r=null,c="",l;i.match(s);)switch(l=i.match(s),i=i.replace(l[0],""),l[2]=l[2].replace(/^"(.+)"$/,"$1"),l[1]){case"realm":d=l[2];break;case"nonce":c=l[2];break;case"qop":l[2];break;case"host":r=l[2];}var p=e.servtype+"/"+e.domain;null!==r&&(p=p+"/"+r);var m=a.utf16to8(e.authcid+":"+d+":"+this._connection.pass),u=t.hash(m)+":"+c+":"+o,g="AUTHENTICATE:"+p,h="";return h+="charset=utf-8,",h+="username="+this._quote(a.utf16to8(e.authcid))+",",h+="realm="+this._quote(d)+",",h+="nonce="+this._quote(c)+",",h+="nc=00000001,",h+="cnonce="+this._quote(o)+",",h+="digest-uri="+this._quote(p)+",",h+="response="+t.hexdigest(t.hexdigest(u)+":"+c+":00000001:"+o+":auth:"+t.hexdigest(g))+",",h+="qop=auth",this.onChallenge=function(){return""},h},r.SASLOAuthBearer=function(){},r.SASLOAuthBearer.prototype=new r.SASLMechanism("OAUTHBEARER",!0,40),r.SASLOAuthBearer.prototype.test=function(e){return null!==e.pass},r.SASLOAuthBearer.prototype.onChallenge=function(e){var t="n,";return null!==e.authcid&&(t=t+"a="+e.authzid),t+=",",t+="\x01",t+="auth=Bearer ",t+=e.pass,t+="\x01",t+="\x01",a.utf16to8(t)},r.SASLExternal=function(){},r.SASLExternal.prototype=new r.SASLMechanism("EXTERNAL",!0,10),r.SASLExternal.prototype.onChallenge=function(e){return e.authcid===e.authzid?"":e.authzid},r.SASLXOAuth2=function(){},r.SASLXOAuth2.prototype=new r.SASLMechanism("X-OAUTH2",!0,30),r.SASLXOAuth2.prototype.test=function(e){return null!==e.pass},r.SASLXOAuth2.prototype.onChallenge=function(e){var t="\0";return null!==e.authcid&&(t+=e.authzid),t+="\0",t+=e.pass,a.utf16to8(t)},{Strophe:r,$build:n,$iq:o,$msg:s,$pres:d,SHA1:e,MD5:t,b64_hmac_sha1:e.b64_hmac_sha1,b64_sha1:e.b64_sha1,str_hmac_sha1:e.str_hmac_sha1,str_sha1:e.str_sha1}}),function(e,t){if("function"==typeof c&&c.amd)c("strophe-bosh",["strophe-core"],function(e){return t(e.Strophe,e.$build)});else if("object"==typeof exports){var a=r("./core");module.exports=t(a.Strophe,a.$build)}else return t(Strophe,$build)}(this,function(t,a){return t.Request=function(e,a,i,n){this.id=++t._requestId,this.xmlData=e,this.data=t.serialize(e),this.origFunc=a,this.func=a,this.rid=i,this.date=NaN,this.sends=n||0,this.abort=!1,this.dead=null,this.age=function(){if(!this.date)return 0;var e=new Date;return(e-this.date)/1e3},this.timeDead=function(){if(!this.dead)return 0;var e=new Date;return(e-this.dead)/1e3},this.xhr=this._newXHR()},t.Request.prototype={getResponse:function(){var e=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if(e=this.xhr.responseXML.documentElement,"parsererror"===e.tagName)throw t.error("invalid response received"),t.error("responseText: "+this.xhr.responseText),t.error("responseXML: "+t.serialize(this.xhr.responseXML)),"parsererror";}else if(this.xhr.responseText)if(t.debug("Got responseText but no responseXML; attempting to parse it with DOMParser..."),e=new DOMParser().parseFromString(this.xhr.responseText,"application/xml").documentElement,!e)throw new Error("Parsing produced null node");else if(e.querySelector("parsererror"))throw t.error("invalid response received: "+e.querySelector("parsererror").textContent),t.error("responseText: "+this.xhr.responseText),"badformat";return e},_newXHR:function(){var e=null;return window.XMLHttpRequest?(e=new XMLHttpRequest,e.overrideMimeType&&e.overrideMimeType("text/xml; charset=utf-8")):window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e.onreadystatechange=this.func.bind(null,this),e}},t.Bosh=function(e){this._conn=e,this.rid=n(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this.inactivity=null,this.lastResponseHeaders=null,this._requests=[]},t.Bosh.prototype={strip:null,_buildBody:function(){var e=a("body",{rid:this.rid++,xmlns:t.NS.HTTPBIND});return null!==this.sid&&e.attrs({sid:this.sid}),this._conn.options.keepalive&&this._conn._sessionCachingSupported()&&this._cacheSession(),e},_reset:function(){this.rid=n(4294967295*Math.random()),this.sid=null,this.errors=0,this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_connect:function(e,a,i){this.wait=e||this.wait,this.hold=a||this.hold,this.errors=0;var n=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":t.NS.BOSH});i&&n.attrs({route:i});var s=this._conn._connect_cb;this._requests.push(new t.Request(n.tree(),this._onRequestStateChange.bind(this,s.bind(this._conn)),n.tree().getAttribute("rid"))),this._throttledRequestHandler()},_attach:function(e,a,i,n,s,o,d){this._conn.jid=e,this.sid=a,this.rid=i,this._conn.connect_callback=n,this._conn.domain=t.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=s||this.wait,this.hold=o||this.hold,this.window=d||this.window,this._conn._changeConnectStatus(t.Status.ATTACHED,null)},_restore:function(e,a,i,n,s){var o=JSON.parse(window.sessionStorage.getItem("strophe-bosh-session"));if("undefined"!=typeof o&&null!==o&&o.rid&&o.sid&&o.jid&&("undefined"==typeof e||null===e||t.getBareJidFromJid(o.jid)===t.getBareJidFromJid(e)||null===t.getNodeFromJid(e)&&t.getDomainFromJid(o.jid)===e))this._conn.restored=!0,this._attach(o.jid,o.sid,o.rid,a,i,n,s);else throw{name:"StropheSessionError",message:"_restore: no restoreable session."}},_cacheSession:function(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem("strophe-bosh-session",JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem("strophe-bosh-session")},_connect_cb:function(e){var a=e.getAttribute("type"),i,n;if(null!==a&&"terminate"===a)return i=e.getAttribute("condition"),t.error("BOSH-Connection failed: "+i),n=e.getElementsByTagName("conflict"),null===i?this._conn._changeConnectStatus(t.Status.CONNFAIL,"unknown"):("remote-stream-error"===i&&0<n.length&&(i="conflict"),this._conn._changeConnectStatus(t.Status.CONNFAIL,i)),this._conn._doDisconnect(i),t.Status.CONNFAIL;this.sid||(this.sid=e.getAttribute("sid"));var s=e.getAttribute("requests");s&&(this.window=parseInt(s,10));var o=e.getAttribute("hold");o&&(this.hold=parseInt(o,10));var d=e.getAttribute("wait");d&&(this.wait=parseInt(d,10));var r=e.getAttribute("inactivity");r&&(this.inactivity=parseInt(r,10))},_disconnect:function(e){this._sendTerminate(e)},_doDisconnect:function(){this.sid=null,this.rid=n(4294967295*Math.random()),this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_emptyQueue:function(){return 0===this._requests.length},_callProtocolErrorHandlers:function(e){var t=this._getRequestStatus(e),a;a=this._conn.protocolErrorHandlers.HTTP[t],a&&a.call(this,t)},_hitError:function(e){this.errors++,t.warn("request errored, status: "+e+", number of errors: "+this.errors),4<this.errors&&this._conn._onDisconnectTimeout()},_no_auth_received:function(e){t.warn("Server did not yet offer a supported authentication mechanism. Sending a blank poll request."),e=e?e.bind(this._conn):this._conn._connect_cb.bind(this._conn);var a=this._buildBody();this._requests.push(new t.Request(a.tree(),this._onRequestStateChange.bind(this,e),a.tree().getAttribute("rid"))),this._throttledRequestHandler()},_onDisconnectTimeout:function(){this._abortAllRequests()},_abortAllRequests:function(){for(var e;0<this._requests.length;)e=this._requests.pop(),e.abort=!0,e.xhr.abort(),e.xhr.onreadystatechange=function(){}},_onIdle:function(){var e=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===e.length&&!this._conn.disconnecting&&(t.info("no requests during idle cycle, sending blank request"),e.push(null)),!this._conn.paused){if(2>this._requests.length&&0<e.length){for(var a=this._buildBody(),s=0;s<e.length;s++)null!==e[s]&&("restart"===e[s]?a.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":t.NS.BOSH}):a.cnode(e[s]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new t.Request(a.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),a.tree().getAttribute("rid"))),this._throttledRequestHandler()}if(0<this._requests.length){var o=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>n(t.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),o>n(t.TIMEOUT*this.wait)&&(t.warn("Request "+this._requests[0].id+" timed out, over "+n(t.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler())}}},_getRequestStatus:function(e,a){var i;if(4===e.xhr.readyState)try{i=e.xhr.status}catch(a){t.error("Caught an error while retrieving a request's status, reqStatus: "+i)}return"undefined"==typeof i&&(i="number"==typeof a?a:0),i},_onRequestStateChange:function(e,a){if(t.debug("request id "+a.id+"."+a.sends+" state changed to "+a.xhr.readyState),a.abort)return void(a.abort=!1);if(4===a.xhr.readyState){var i=this._getRequestStatus(a);if(this.lastResponseHeaders=a.xhr.getAllResponseHeaders(),this.disconnecting&&400<=i)return this._hitError(i),void this._callProtocolErrorHandlers(a);var s=0<i&&500>i,o=a.sends>this._conn.maxRetries;if((s||o)&&(this._removeRequest(a),t.debug("request id "+a.id+" should now be removed")),200===i){var d=this._requests[0]===a,r=this._requests[1]===a;(r||d&&0<this._requests.length&&this._requests[0].age()>n(t.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(+a.rid+1),t.debug("request id "+a.id+"."+a.sends+" got 200"),e(a),this.errors=0}else 0===i||400<=i&&600>i||12e3<=i?(t.error("request id "+a.id+"."+a.sends+" error "+i+" happened"),this._hitError(i),this._callProtocolErrorHandlers(a),400<=i&&500>i&&(this._conn._changeConnectStatus(t.Status.DISCONNECTING,null),this._conn._doDisconnect())):t.error("request id "+a.id+"."+a.sends+" error "+i+" happened");s||o?o&&!this._conn.connected&&this._conn._changeConnectStatus(t.Status.CONNFAIL,"giving-up"):this._throttledRequestHandler()}},_processRequest:function(e){var a=this,i=this._requests[e],d=this._getRequestStatus(i,-1);if(i.sends>this._conn.maxRetries)return void this._conn._onDisconnectTimeout();var r=i.age(),c=!isNaN(r)&&r>n(t.TIMEOUT*this.wait),l=null!==i.dead&&i.timeDead()>n(t.SECONDARY_TIMEOUT*this.wait),p=4===i.xhr.readyState&&(1>d||500<=d);if((c||l||p)&&(l&&t.error("Request "+this._requests[e].id+" timed out (secondary), restarting"),i.abort=!0,i.xhr.abort(),i.xhr.onreadystatechange=function(){},this._requests[e]=new t.Request(i.xmlData,i.origFunc,i.rid,i.sends),i=this._requests[e]),0===i.xhr.readyState){t.debug("request id "+i.id+"."+i.sends+" posting");try{var m=this._conn.options.contentType||"text/xml; charset=utf-8";i.xhr.open("POST",this._conn.service,!this._conn.options.sync),"undefined"!=typeof i.xhr.setRequestHeader&&i.xhr.setRequestHeader("Content-Type",m),this._conn.options.withCredentials&&(i.xhr.withCredentials=!0)}catch(e){return t.error("XHR open failed: "+e.toString()),this._conn.connected||this._conn._changeConnectStatus(t.Status.CONNFAIL,"bad-service"),void this._conn.disconnect()}var u=function(){if(i.date=new Date,a._conn.options.customHeaders){var e=a._conn.options.customHeaders;for(var t in e)e.hasOwnProperty(t)&&i.xhr.setRequestHeader(t,e[t])}i.xhr.send(i.data)};if(1<i.sends){var g=1e3*o(n(t.TIMEOUT*this.wait),s(i.sends,3));setTimeout(function(){u()},g)}else u();i.sends++,this._conn.xmlOutput!==t.Connection.prototype.xmlOutput&&(i.xmlData.nodeName===this.strip&&i.xmlData.childNodes.length?this._conn.xmlOutput(i.xmlData.childNodes[0]):this._conn.xmlOutput(i.xmlData)),this._conn.rawOutput!==t.Connection.prototype.rawOutput&&this._conn.rawOutput(i.data)}else t.debug("_processRequest: "+(0===e?"first":"second")+" request has readyState of "+i.xhr.readyState)},_removeRequest:function(e){t.debug("removing request");var a;for(a=this._requests.length-1;0<=a;a--)e===this._requests[a]&&this._requests.splice(a,1);e.xhr.onreadystatechange=function(){},this._throttledRequestHandler()},_restartRequest:function(e){var t=this._requests[e];null===t.dead&&(t.dead=new Date),this._processRequest(e)},_reqToData:function(e){try{return e.getResponse()}catch(t){if("parsererror"!==t)throw t;this._conn.disconnect("strophe-parsererror")}},_sendTerminate:function(e){t.info("_sendTerminate was called");var a=this._buildBody().attrs({type:"terminate"});e&&a.cnode(e.tree());var i=new t.Request(a.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),a.tree().getAttribute("rid"));this._requests.push(i),this._throttledRequestHandler()},_send:function(){clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout(function(){this._onIdle()}.bind(this._conn),100)},_sendRestart:function(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)},_throttledRequestHandler:function(){this._requests?t.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):t.debug("_throttledRequestHandler called with undefined requests"),this._requests&&0!==this._requests.length&&(0<this._requests.length&&this._processRequest(0),1<this._requests.length&&e(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}},t}),function(e,t){if("function"==typeof c&&c.amd)c("strophe-websocket",["strophe-core"],function(e){return t(e.Strophe,e.$build)});else if("object"==typeof exports){var a=r("./core");module.exports=t(a.Strophe,a.$build)}else return t(Strophe,$build)}(this,function(t,a){return t.Websocket=function(e){this._conn=e,this.strip="wrapper";var t=e.service;if(0!==t.indexOf("ws:")&&0!==t.indexOf("wss:")){var a="";a+="ws"===e.options.protocol&&"https:"!==window.location.protocol?"ws":"wss",a+="://"+window.location.host,a+=0===t.indexOf("/")?t:window.location.pathname+t,e.service=a}},t.Websocket.prototype={_buildStream:function(){return a("open",{xmlns:t.NS.FRAMING,to:this._conn.domain,version:"1.0"})},_check_streamerror:function(a,n){var s;if(s=a.getElementsByTagNameNS?a.getElementsByTagNameNS(t.NS.STREAM,"error"):a.getElementsByTagName("stream:error"),0===s.length)return!1;for(var o=s[0],d="",r="",c=0,l;c<o.childNodes.length&&(l=o.childNodes[c],l.getAttribute("xmlns")==="urn:ietf:params:xml:ns:xmpp-streams");c++)"text"===l.nodeName?r=l.textContent:d=l.nodeName;var p="WebSocket stream error: ";return p+=d?d:"unknown",r&&(p+=" - "+r),t.error(p),this._conn._changeConnectStatus(n,d),this._conn._doDisconnect(),!0},_reset:function(){},_connect:function(){this._closeSocket(),this.socket=new WebSocket(this._conn.service,"xmpp"),this.socket.onopen=this._onOpen.bind(this),this.socket.onerror=this._onError.bind(this),this.socket.onclose=this._onClose.bind(this),this.socket.onmessage=this._connect_cb_wrapper.bind(this)},_connect_cb:function(e){var a=this._check_streamerror(e,t.Status.CONNFAIL);if(a)return t.Status.CONNFAIL},_handleStreamStart:function(e){var a=!1,i=e.getAttribute("xmlns");"string"==typeof i?i!==t.NS.FRAMING&&(a="Wrong xmlns in <open />: "+i):a="Missing xmlns in <open />";var n=e.getAttribute("version");return"string"==typeof n?"1.0"!=n&&(a="Wrong version in <open />: "+n):a="Missing version in <open />",!a||(this._conn._changeConnectStatus(t.Status.CONNFAIL,a),this._conn._doDisconnect(),!1)},_connect_cb_wrapper:function(e){if(0===e.data.indexOf("<open ")||0===e.data.indexOf("<?xml")){var a=e.data.replace(/^(<\?.*?\?>\s*)*/,"");if(""===a)return;var i=new DOMParser().parseFromString(a,"text/xml").documentElement;this._conn.xmlInput(i),this._conn.rawInput(e.data),this._handleStreamStart(i)&&this._connect_cb(i)}else if(0===e.data.indexOf("<close ")){var n=new DOMParser().parseFromString(e.data,"text/xml").documentElement;this._conn.xmlInput(n),this._conn.rawInput(e.data);var s=n.getAttribute("see-other-uri");if(s){var o=this._conn.service,d=0<=o.indexOf("wss:")&&0<=s.indexOf("wss:")||0<=o.indexOf("ws:");d&&(this._conn._changeConnectStatus(t.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=s,this._connect())}else this._conn._changeConnectStatus(t.Status.CONNFAIL,"Received closing stream"),this._conn._doDisconnect()}else{var r=this._streamWrap(e.data),c=new DOMParser().parseFromString(r,"text/xml").documentElement;this.socket.onmessage=this._onMessage.bind(this),this._conn._connect_cb(c,null,e.data)}},_disconnect:function(e){if(this.socket&&this.socket.readyState!==WebSocket.CLOSED){e&&this._conn.send(e);var i=a("close",{xmlns:t.NS.FRAMING});this._conn.xmlOutput(i.tree());var n=t.serialize(i);this._conn.rawOutput(n);try{this.socket.send(n)}catch(a){t.info("Couldn't send <close /> tag.")}}this._conn._doDisconnect()},_doDisconnect:function(){t.info("WebSockets _doDisconnect was called"),this._closeSocket()},_streamWrap:function(e){return"<wrapper>"+e+"</wrapper>"},_closeSocket:function(){if(this.socket)try{this.socket.onerror=null,this.socket.close()}catch(t){}this.socket=null},_emptyQueue:function(){return!0},_onClose:function(a){this._conn.connected&&!this._conn.disconnecting?(t.error("Websocket closed unexpectedly"),this._conn._doDisconnect()):a&&1006===a.code&&!this._conn.connected&&this.socket?(t.error("Websocket closed unexcectedly"),this._conn._changeConnectStatus(t.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._conn._doDisconnect()):t.info("Websocket closed")},_no_auth_received:function(e){t.error("Server did not offer a supported authentication mechanism"),this._changeConnectStatus(t.Status.CONNFAIL,t.ErrorCondition.NO_AUTH_MECH),e&&e.call(this._conn),this._conn._doDisconnect()},_onDisconnectTimeout:function(){},_abortAllRequests:function(){},_onError:function(e){t.error("Websocket error "+e),this._conn._changeConnectStatus(t.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._disconnect()},_onIdle:function(){var e=this._conn._data;if(0<e.length&&!this._conn.paused){for(var a=0;a<e.length;a++)if(null!==e[a]){var n,s;n="restart"===e[a]?this._buildStream().tree():e[a],s=t.serialize(n),this._conn.xmlOutput(n),this._conn.rawOutput(s),this.socket.send(s)}this._conn._data=[]}},_onMessage:function(e){var a="<close xmlns=\"urn:ietf:params:xml:ns:xmpp-framing\" />",i,n;if(e.data===a)return this._conn.rawInput(a),this._conn.xmlInput(e),void(this._conn.disconnecting||this._conn._doDisconnect());if(0!==e.data.search("<open "))n=this._streamWrap(e.data),i=new DOMParser().parseFromString(n,"text/xml").documentElement;else if(i=new DOMParser().parseFromString(e.data,"text/xml").documentElement,!this._handleStreamStart(i))return;return this._check_streamerror(i,t.Status.ERROR)?void 0:this._conn.disconnecting&&"presence"===i.firstChild.nodeName&&"unavailable"===i.firstChild.getAttribute("type")?(this._conn.xmlInput(i),void this._conn.rawInput(t.serialize(i))):void this._conn._dataRecv(i,e.data)},_onOpen:function(){t.info("Websocket open");var e=this._buildStream();this._conn.xmlOutput(e.tree());var a=t.serialize(e);this._conn.rawOutput(a),this.socket.send(a)},_reqToData:function(e){return e},_send:function(){this._conn.flush()},_sendRestart:function(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}},t}),function(){if("function"==typeof c&&c.amd)c("strophe",["strophe-core","strophe-bosh","strophe-websocket"],function(e){return e});else if("object"==typeof exports){var e=r("./core");r("./bosh"),r("./websocket"),module.exports=e}}(this),r(["strophe-polyfill"]),r("strophe")});(function(e,t){"function"==typeof define&&define.amd?define("strophe.disco",["strophe"],function(e){return t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres),e}):t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres)})(this,function(e,t,a){e.addConnectionPlugin("disco",{_connection:null,_identities:[],_features:[],_items:[],init:function(t){this._connection=t,this._identities=[],this._features=[],this._items=[],t.addHandler(this._onDiscoInfo.bind(this),e.NS.DISCO_INFO,"iq","get",null,null),t.addHandler(this._onDiscoItems.bind(this),e.NS.DISCO_ITEMS,"iq","get",null,null)},addIdentity:function(e,t,a,n){for(var s=0;s<this._identities.length;s++)if(this._identities[s].category==e&&this._identities[s].type==t&&this._identities[s].name==a&&this._identities[s].lang==n)return!1;return this._identities.push({category:e,type:t,name:a,lang:n}),!0},addFeature:function(e){for(var t=0;t<this._features.length;t++)if(this._features[t]==e)return!1;return this._features.push(e),!0},removeFeature:function(e){for(var t=0;t<this._features.length;t++)if(this._features[t]===e)return this._features.splice(t,1),!0;return!1},addItem:function(e,t,a,i){return(!a||i)&&(this._items.push({jid:e,name:t,node:a,call_back:i}),!0)},info:function(t,i,n,s,o){var d={xmlns:e.NS.DISCO_INFO};i&&(d.node=i);var r=a({from:this._connection.jid,to:t,type:"get"}).c("query",d);this._connection.sendIQ(r,n,s,o)},items:function(t,i,n,s,o){var d={xmlns:e.NS.DISCO_ITEMS};i&&(d.node=i);var r=a({from:this._connection.jid,to:t,type:"get"}).c("query",d);this._connection.sendIQ(r,n,s,o)},_buildIQResult:function(e,t){var i=e.getAttribute("id"),n=e.getAttribute("from"),s=a({type:"result",id:i});return null!==n&&s.attrs({to:n}),s.c("query",t)},_onDiscoInfo:function(t){var a=t.getElementsByTagName("query")[0].getAttribute("node"),n={xmlns:e.NS.DISCO_INFO},s;a&&(n.node=a);var o=this._buildIQResult(t,n);for(s=0;s<this._identities.length;s++)n={category:this._identities[s].category,type:this._identities[s].type},this._identities[s].name&&(n.name=this._identities[s].name),this._identities[s].lang&&(n["xml:lang"]=this._identities[s].lang),o.c("identity",n).up();for(s=0;s<this._features.length;s++)o.c("feature",{var:this._features[s]}).up();return this._connection.send(o.tree()),!0},_onDiscoItems:function(t){var a={xmlns:e.NS.DISCO_ITEMS},n=t.getElementsByTagName("query")[0].getAttribute("node"),s,o;if(n){for(a.node=n,s=[],o=0;o<this._items.length;o++)if(this._items[o].node==n){s=this._items[o].call_back(t);break}}else s=this._items;var d=this._buildIQResult(t,a);for(o=0;o<s.length;o++){var r={jid:s[o].jid};s[o].name&&(r.name=s[o].name),s[o].node&&(r.node=s[o].node),d.c("item",r).up()}return this._connection.send(d.tree()),!0}})}),function(e,t){"function"==typeof define&&define.amd?define("strophe.ping",["strophe"],function(e){return t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres),e}):t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres)}(this,function(e,t,a){e.addConnectionPlugin("ping",{_c:null,init:function(t){this._c=t,e.addNamespace("PING","urn:xmpp:ping")},ping:function(t,i,n,s){var o=this._c.getUniqueId("ping"),d=a({type:"get",to:t,id:o}).c("ping",{xmlns:e.NS.PING});this._c.sendIQ(d,i,n,s)},pong:function(e){var t=e.getAttribute("from"),i=e.getAttribute("id"),n=a({type:"result",to:t,id:i});this._c.sendIQ(n)},addPingHandler:function(t){return this._c.addHandler(t,e.NS.PING,"iq","get")}})}),function(e,t){"function"==typeof define&&define.amd?define("strophe.rsm",["strophe"],function(e){return t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres),e}):t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres)}(this,function(e,t){e.addNamespace("RSM","http://jabber.org/protocol/rsm"),e.RSM=function(e){if(this.attribs=["max","first","last","after","before","index","count"],"undefined"!=typeof e.xml)this.fromXMLElement(e.xml);else for(var t=0,a;t<this.attribs.length;t++)a=this.attribs[t],this[a]=e[a]},e.RSM.prototype={toXML:function(){for(var a=t("set",{xmlns:e.NS.RSM}),i=0,n;i<this.attribs.length;i++)n=this.attribs[i],"undefined"!=typeof this[n]&&(a=a.c(n).t(this[n].toString()).up());return a.tree()},next:function(t){var a=new e.RSM({max:t,after:this.last});return a},previous:function(t){var a=new e.RSM({max:t,before:this.first});return a},fromXMLElement:function(t){for(var a=0;a<this.attribs.length;a++){var i=this.attribs[a],n=t.getElementsByTagName(i)[0];"undefined"!=typeof n&&null!==n&&(this[i]=e.getText(n),"first"==i&&(this.index=n.getAttribute("index")))}}}}),function(e,t){define("strophe.caps",["strophe","strophe.disco"],function(e){t(e.Strophe,e.SHA1,e.$build,e.$iq,e.$msg,e.$pres)})}(this,function(e,t,a,i,n,s){var o=t.b64_sha1;e.addConnectionPlugin("caps",function(){var t,i,n,d,r,c,l;return this._connection=null,d=function(t){if(this._connection=t,e.addNamespace("CAPS","http://jabber.org/protocol/caps"),void 0===this._connection.disco)throw new Error("disco plugin required!");if(void 0===o)throw new Error("SHA-1 library required!");this._connection.disco.addFeature(e.NS.CAPS),this._connection.disco.addFeature(e.NS.DISCO_INFO)},t=function(e){return this._connection.disco.addFeature(e)},c=function(e){return this._connection.disco.removeFeature(e)},getPres=function(){return s().cnode(i())},l=function(){return this._connection.send(s().cnode(i().tree()))},i=function(t){t||(t={});var i=t.node;return i||(0<this._connection.disco._identities.length?i=this._connection.disco._identities[0].name||"":i="strophejs"),a("c",{xmlns:e.NS.CAPS,hash:"sha-1",node:i,ver:n.call(this)})},r=function(e,t){return e.sort(function(e,a){return e[t]>a[t]?-1:1})},n=function(){var e,t,a,n,s,d,c,l,p,m,u,g,h,v,f,b;for(s=[],f=this._connection.disco._identities,(p=0,g=f.length);p<g;p++)a=f[p],s.push(a);for(t=[],b=this._connection.disco._features,(m=0,h=b.length);m<h;m++)d=b[m],t.push(d);for(c in e="",r(s,"category"),r(s,"type"),r(s,"lang"),s)n=s[c],e+=""+n.category+"/"+n.type+"/"+n.lang+"/"+n.name+"<";for(t.sort(),u=0,v=t.length;u<v;u++)l=t[u],e+=""+l+"<";return o(e)},{init:d,removeFeature:c,addFeature:t,sendPres:l,generateVerificationString:n,createCapsNode:i}}())}),function(e,t){define("strophe.pubsub",["strophe","strophe.disco"],function(e){t(e.Strophe,e.$build,e.$iq)})}(this,function(e,t,a){e.Builder.prototype.form=function(t,a){var n=this.node.appendChild(e.xmlElement("x",{xmlns:"jabber:x:data",type:"submit"}));for(var s in n.appendChild(e.xmlElement("field",{var:"FORM_TYPE",type:"hidden"})).appendChild(e.xmlElement("value")).appendChild(e.xmlTextNode(t)),a)n.appendChild(e.xmlElement("field",{var:s})).appendChild(e.xmlElement("value")).appendChild(e.xmlTextNode(a[s]));return this},e.Builder.prototype.list=function(t,a){for(var n=0;n<a.length;++n)this.c(t,a[n].attrs),this.node.appendChild(a[n].data.cloneNode?a[n].data.cloneNode(!0):e.xmlTextNode(a[n].data)),this.up();return this},e.Builder.prototype.children=function(e){var t,a;for(t in e)e.hasOwnProperty(t)&&(a=e[t],Array.isArray(a)?this.list(t,a):"string"==typeof a?this.c(t,{},a):"number"==typeof a?this.c(t,{},""+a):"object"==typeof a?this.c(t).children(a).up():this.c(t).up());return this},e.addConnectionPlugin("pubsub",{_connection:null,_autoService:!0,service:null,jid:null,handler:{},init:function(t){this._connection=t,e.addNamespace("PUBSUB","http://jabber.org/protocol/pubsub"),e.addNamespace("PUBSUB_SUBSCRIBE_OPTIONS",e.NS.PUBSUB+"#subscribe_options"),e.addNamespace("PUBSUB_ERRORS",e.NS.PUBSUB+"#errors"),e.addNamespace("PUBSUB_EVENT",e.NS.PUBSUB+"#event"),e.addNamespace("PUBSUB_OWNER",e.NS.PUBSUB+"#owner"),e.addNamespace("PUBSUB_AUTO_CREATE",e.NS.PUBSUB+"#auto-create"),e.addNamespace("PUBSUB_PUBLISH_OPTIONS",e.NS.PUBSUB+"#publish-options"),e.addNamespace("PUBSUB_NODE_CONFIG",e.NS.PUBSUB+"#node_config"),e.addNamespace("PUBSUB_CREATE_AND_CONFIGURE",e.NS.PUBSUB+"#create-and-configure"),e.addNamespace("PUBSUB_SUBSCRIBE_AUTHORIZATION",e.NS.PUBSUB+"#subscribe_authorization"),e.addNamespace("PUBSUB_GET_PENDING",e.NS.PUBSUB+"#get-pending"),e.addNamespace("PUBSUB_MANAGE_SUBSCRIPTIONS",e.NS.PUBSUB+"#manage-subscriptions"),e.addNamespace("PUBSUB_META_DATA",e.NS.PUBSUB+"#meta-data"),e.addNamespace("ATOM","http://www.w3.org/2005/Atom"),t.disco&&t.disco.addFeature(e.NS.PUBSUB)},statusChanged:function(t){var a=this._connection;this._autoService&&t===e.Status.CONNECTED&&(this.service="pubsub."+e.getDomainFromJid(a.jid),this.jid=a.jid)},connect:function(e,t){var a=this._connection;t===void 0&&(t=e,e=void 0),this.jid=e||a.jid,this.service=t||null,this._autoService=!1},storeHandler:function(e,t){this.handler[e]||(this.handler[e]=[]),this.handler[e].push(t)},removeHandler:function(e){var t=this.handler[e];if(this.handler[e]=[],t&&0<t.length)for(var a=0,n=t.length;a<n;a++)this._connection.deleteHandler(t[a])},createNode:function(t,i,n){var s=this._connection,o=s.getUniqueId("pubsubcreatenode"),d=a({from:this.jid,to:this.service,type:"set",id:o}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("create",{node:t});return i&&d.up().c("configure").form(e.NS.PUBSUB_NODE_CONFIG,i),s.addHandler(n,null,"iq",null,o,null),s.send(d.tree()),o},deleteNode:function(t,i){var n=this._connection,s=n.getUniqueId("pubsubdeletenode"),o=a({from:this.jid,to:this.service,type:"set",id:s}).c("pubsub",{xmlns:e.NS.PUBSUB_OWNER}).c("delete",{node:t});return n.addHandler(i,null,"iq",null,s,null),n.send(o.tree()),s},discoverNodes:function(t,i,n){var s=a({from:this.jid,to:this.service,type:"get"}).c("query",{xmlns:e.NS.DISCO_ITEMS});return this._connection.sendIQ(s.tree(),t,i,n)},getConfig:function(t,i){var n=this._connection,s=n.getUniqueId("pubsubconfigurenode"),o=a({from:this.jid,to:this.service,type:"get",id:s}).c("pubsub",{xmlns:e.NS.PUBSUB_OWNER}).c("configure",{node:t});return n.addHandler(i,null,"iq",null,s,null),n.send(o.tree()),s},getDefaultNodeConfig:function(t){var i=this._connection,n=i.getUniqueId("pubsubdefaultnodeconfig"),s=a({from:this.jid,to:this.service,type:"get",id:n}).c("pubsub",{xmlns:e.NS.PUBSUB_OWNER}).c("default");return i.addHandler(t,null,"iq",null,n,null),i.send(s.tree()),n},subscribe:function(t,i,n,s,o,d){var r=this._connection,c=r.getUniqueId("subscribenode"),l=this.jid;d&&(l=e.getBareJidFromJid(l));var p=a({from:this.jid,to:this.service,type:"set",id:c}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("subscribe",{node:t,jid:l});i&&p.up().c("options").form(e.NS.PUBSUB_SUBSCRIBE_OPTIONS,i);var m=r.addHandler(n,null,"message",null,null,null);return this.storeHandler(t,m),r.sendIQ(p.tree(),s,o),c},unsubscribe:function(t,i,n,s,o){var d=this._connection,r=d.getUniqueId("pubsubunsubscribenode"),c=a({from:this.jid,to:this.service,type:"set",id:r}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("unsubscribe",{node:t,jid:i});return n&&c.attrs({subid:n}),d.sendIQ(c.tree(),s,o),this.removeHandler(t),r},publish:function(t,i,n){var s=this._connection,o=s.getUniqueId("pubsubpublishnode"),d=a({from:this.jid,to:this.service,type:"set",id:o}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("publish",{node:t,jid:this.jid}).list("item",i);return s.addHandler(n,null,"iq",null,o,null),s.send(d.tree()),o},items:function(t,i,n,s){var o=a({from:this.jid,to:this.service,type:"get"}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("items",{node:t});return this._connection.sendIQ(o.tree(),i,n,s)},getSubscriptions:function(t){var i=this._connection,n=i.getUniqueId("pubsubsubscriptions"),s=a({from:this.jid,to:this.service,type:"get",id:n}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("subscriptions");return i.addHandler(t,null,"iq",null,n,null),i.send(s.tree()),n},getNodeSubscriptions:function(t,i){var n=this._connection,s=n.getUniqueId("pubsubsubscriptions"),o=a({from:this.jid,to:this.service,type:"get",id:s}).c("pubsub",{xmlns:e.NS.PUBSUB_OWNER}).c("subscriptions",{node:t});return n.addHandler(i,null,"iq",null,s,null),n.send(o.tree()),s},getSubOptions:function(t,i,n){var s=this._connection,o=s.getUniqueId("pubsubsuboptions"),d=a({from:this.jid,to:this.service,type:"get",id:o}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("options",{node:t,jid:this.jid});return i&&d.attrs({subid:i}),s.addHandler(n,null,"iq",null,o,null),s.send(d.tree()),o},getAffiliations:function(t,i){var n=this._connection,s=n.getUniqueId("pubsubaffiliations");"function"==typeof t&&(i=t,t=void 0);var o={},d={xmlns:e.NS.PUBSUB};t&&(o.node=t,d={xmlns:e.NS.PUBSUB_OWNER});var r=a({from:this.jid,to:this.service,type:"get",id:s}).c("pubsub",d).c("affiliations",o);return n.addHandler(i,null,"iq",null,s,null),n.send(r.tree()),s},setAffiliation:function(t,i,n,s){var o=this._connection,d=o.getUniqueId("pubsubaffiliations"),r=a({from:this.jid,to:this.service,type:"set",id:d}).c("pubsub",{xmlns:e.NS.PUBSUB_OWNER}).c("affiliations",{node:t}).c("affiliation",{jid:i,affiliation:n});return o.addHandler(s,null,"iq",null,d,null),o.send(r.tree()),d},publishAtom:function(a,n,s){Array.isArray(n)||(n=[n]);var o=[],d,r;for(d=0;d<n.length;d++)r=n[d],r.updated=r.updated||new Date().toISOString(),r.published&&r.published.toISOString&&(r.published=r.published.toISOString()),o.push({data:t("entry",{xmlns:e.NS.ATOM}).children(r).tree(),attrs:r.id?{id:r.id}:{}});return this.publish(a,o,s)}})}),function(e,t){define("omemo",["strophe","strophe.disco","strophe.pubsub"],function(e){t(e.Strophe,e.$build,e.$iq)})}(this,function(e,t,a){e.addConnectionPlugin("omemo",function(){let t;this._connection=null,t=function(t){this._connection=t,this.devices={},e.addNamespace("OMEMO","urn:xmpp:omemo:2"),e.addNamespace("PUBSUB_NODE_CONFIG","http://jabber.org/protocol/pubsub#node_config"),this._connection.disco.addFeature(e.NS.OMEMO),this._connection.disco.addFeature(e.NS.OMEMO+"+notify"),this._connection.disco.addFeature(e.NS.OMEMO+":devices+notify"),this._connection.disco.addFeature(e.NS.OMEMO+":bundles+notify")};var i=function(t){n.call(this,e.NS.OMEMO+":devices",{"pubsub#access_model":"open"},t)},n=function(t,i,n){let s=a({from:this._connection.jid,type:"set"}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("create",{node:t});i&&s.up().c("configure").form(e.NS.PUBSUB_NODE_CONFIG,i),this._connection.sendIQ(s,n)};return{init:t,parseUserDevices:function(t){let a={};return t.find(`devices[xmlns="${e.NS.OMEMO}"] device`).each(function(e,t){let i=$(t),n=i.attr("id"),s=i.attr("label");n&&(a[n]={id:n,label:s})}.bind(this)),a},getDevicesNode:function(t,n,s){let o={from:this._connection.jid,type:"get"};t&&(o.to=t);let d=a(o).c("pubsub",{xmlns:e.NS.PUBSUB}).c("items",{node:e.NS.OMEMO+":devices"});this._connection.sendIQ(d,n,function(e){404!=$(e).find("error").attr("code")||t?s&&s():i.call(this,n)}.bind(this))},configNode:function(t){let i=a({from:this._connection.jid,type:"set"}).c("pubsub",{xmlns:e.NS.PUBSUB+"#owner"}).c("configure",{node:`${e.NS.OMEMO}:bundles`}).form(e.NS.PUBSUB_NODE_CONFIG,{"pubsub#max_items":32});this._connection.sendIQ(i,t,t)},publishDevice:function(t,n,s,o){this.devices||(this.devices={}),t&&(this.devices[t]={id:t,label:n});let d=a({from:this._connection.jid,type:"set"}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("publish",{node:e.NS.OMEMO+":devices"}).c("item",{id:"current"}).c("devices",{xmlns:e.NS.OMEMO});for(var r in this.devices){let e=this.devices[r];if(!e.id)continue;let t={id:e.id};e.label&&(t.label=e.label),d.c("device",t).up()}this._connection.sendIQ(d,s,o)},createBundleNode:function(t){n.call(this,`${e.NS.OMEMO}:bundles`,{"pubsub#access_model":"open","pubsub#max_items":10},t)},createDeviceNode:i,publishBundle:function(t,n,s){let o=t.pks,d=t.spk,r=a({from:this._connection.jid,type:"set"}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("publish",{node:`${e.NS.OMEMO}:bundles`}).c("item",{id:t.device_id}).c("bundle",{xmlns:e.NS.OMEMO}).c("spk",{id:d.id}).t(d.key).up().c("spks").t(t.spks).up().c("ik").t(t.ik).up().c("prekeys");for(var c in o){let e=o[c];r.c("pk",{id:e.id}).t(e.key).up()}this._connection.sendIQ(r,n,s)},removeItemFromNode:function(t,i,n){let s=a({from:this._connection.jid,type:"set"}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("retract",{node:t}).c("item",{id:i});this._connection.sendIQ(s,n)},getBundleInfo:function(t,i,n){let s=a({type:"get",from:this._connection.jid,to:t.jid}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("items",{node:`${e.NS.OMEMO}:bundles`});t.id&&s.c("item",{id:t.id}),this._connection.sendIQ(s,i,n)}}}())}),function(e,t){define("backbone.localsync",["backbone","underscore"],function(e,a){return t(e,a)})}(this,function(t,a){try{localStorage.setItem("test",1),localStorage.removeItem("test"),t.useLocalStorage=!0}catch(a){Storage.prototype._getItem=Storage.prototype.getItem,Storage.prototype._setItem=Storage.prototype.setItem,Storage.prototype._removeItem=Storage.prototype.removeItem,Storage.prototype.getItem=function(){},Storage.prototype.setItem=function(){},Storage.prototype.removeItem=function(){},t.useLocalStorage=!1}var e=function(e){this.name=e;var t=localStorage.getItem(this.name);this.records=this.from_string(t,[])},i=function(e,t){this.version=e.version||1,this.name=e.name;var a=indexedDB.open(this.name,this.version);a.onupgradeneeded=function(){let e=a.result;this.createStore(e)}.bind(this),a.onsuccess=function(){this.db=a.result,t&&t(),e.model.trigger("database_opened")}.bind(this),this.createStore=function(t){t.createObjectStore(e.objStoreName,{keyPath:e.primKey})}};a.extend(i.prototype,{put:function(e,t,a){if(!this.db)return void(a&&a(!1));let i=this.db.transaction([e],"readwrite").objectStore(e),n=i.put(t);n.onsuccess=function(){a&&a(!0)}.bind(this),n.onerror=function(){a&&a(!1)}.bind(this)},get_all:function(e,t,i){if(!this.db)return void(i&&i(null));let n=this.db.transaction([e],"readonly").objectStore(e),s;s=a.isNull(t)?n.getAll():n.getAll(t),s.onsuccess=function(e){var t=e.target.result;t===void 0?i&&i(null):i&&i(t)}.bind(this)},get:function(e,t,a){if(!this.db)return void(a&&a(null));let i=this.db.transaction([e],"readonly").objectStore(e),n=i.get(t);n.onsuccess=function(e){var t=e.target.result;t===void 0?a&&a(null):a&&a(t)}.bind(this)},remove:function(e,t,a){if(!this.db)return void(a&&a(!1));let i=this.db.transaction([e],"readwrite").objectStore(e);var n=i.delete(t);n.onsuccess=function(){a&&a(!0)}.bind(this),n.onerror=function(){a&&a(!1)}.bind(this)},clear_database:function(e,t){if(!this.db)return void(t&&t(!1));let a=this.db.transaction([e],"readwrite").objectStore(e);var i=a.clear();i.onsuccess=function(){t&&t(!0)}.bind(this),i.onerror=function(){t&&t(!1)}.bind(this)}}),a.extend(e.prototype,{from_string:function(e,t){if(!e)return t;try{return JSON.parse(e)}catch(a){return t||{}}},to_string:function(e){try{return JSON.stringify(e)}catch(t){return""}},save:function(){this.records.length?localStorage.setItem(this.name,this.to_string(this.records)):localStorage.removeItem(this.name)},clear:function(){a.each(this.records,function(e){localStorage.removeItem(this._itemName(e))}.bind(this)),localStorage.removeItem(this.name)},create:function(e){localStorage.setItem(this._itemName(e.id),this.to_string(e)),this.records.push(e.id),this.save()},update:function(e){localStorage.setItem(this._itemName(e.id),this.to_string(e)),a.contains(this.records,e.id)||(this.records.push(e.id),this.save())},find:function(e){var t=localStorage.getItem(this._itemName(e.id));return this.from_string(t,{})},findAll:function(){return a.reduce(this.records,function(e,t){var a=localStorage.getItem(this._itemName(t));return a&&e.push(this.from_string(a,{})),e}.bind(this),[])},destroy:function(e){localStorage.removeItem(this._itemName(e.id));var t=this.records.indexOf(e.id);0<=t&&(this.records.splice(t,1),this.save())},_itemName:function(e){return this.name+"-"+e}}),t.sync=function(e,t,a){var i=t.storage||t.collection&&t.collection.storage;if(!i)return!1;var n;"read"===e?n=t.id?i.find(t):i.findAll():"create"===e?n=i.create(t):"update"===e?n=i.update(t):"delete"===e?n=i.destroy(t):void 0;n?a.success(n):a.error("Record not found")},t.ModelWithStorage=t.Model.extend({initialize:function(t,a){this.storage=new e(a.storage_name),"before"===a.fetch&&this.fetch(),this._initialize&&this._initialize(t,a),"after"===a.fetch&&this.fetch()},clearStorage:function(){this.storage.clear()}}),t.ModelWithDataBase=t.Model.extend({initialize:function(e,t){t=t||{},this.database=new i(a.extend(t,{model:this})),this._initialize&&this._initialize(e,t),this.on("quit",this.onQuit,this)},clearDataBase:function(e){this.database.clear_database(e)},onQuit:function(){this.clearDataBase()}}),t.CollectionWithStorage=t.Collection.extend({initialize:function(t,a){this.storage=new e(a.storage_name),this._initialize&&this._initialize(t,a)},clearStorage:function(){this.storage.clear()}})}),!function(){"use strict";function t(e){e?(f[0]=f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0,this.blocks=f):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}var h="object"==typeof window?window:{},s=!h.JS_SHA1_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;s&&(h=global);var i=!h.JS_SHA1_NO_COMMON_JS&&"object"==typeof module&&module.exports,e="function"==typeof define&&define.amd,r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],o=[-2147483648,8388608,32768,128],n=[24,16,8,0],a=["hex","array","digest","arrayBuffer"],f=[],u=function(e){return function(a){return new t(!0).update(a)[e]()}},c=function(){var n=u("hex");s&&(n=p(n)),n.create=function(){return new t},n.update=function(e){return n.create().update(e)};for(var o=0,d;o<a.length;++o)d=a[o],n[d]=u(d);return n},p=function(t){var h=eval("require('crypto')"),s=eval("require('buffer').Buffer"),i=function(e){if("string"==typeof e)return h.createHash("sha1").update(e,"utf8").digest("hex");if(e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(void 0===e.length)return t(e);return h.createHash("sha1").update(new s(e)).digest("hex")};return i};t.prototype.update=function(d){if(!this.finalized){var c="string"!=typeof d;c&&d.constructor===h.ArrayBuffer&&(d=new Uint8Array(d));for(var s=0,l=d.length||0,o=this.blocks,a,p;s<l;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),c)for(p=this.start;s<l&&64>p;++s)o[p>>2]|=d[s]<<n[3&p++];else for(p=this.start;s<l&&64>p;++s)128>(a=d.charCodeAt(s))?o[p>>2]|=a<<n[3&p++]:2048>a?(o[p>>2]|=(192|a>>6)<<n[3&p++],o[p>>2]|=(128|63&a)<<n[3&p++]):55296>a||57344<=a?(o[p>>2]|=(224|a>>12)<<n[3&p++],o[p>>2]|=(128|63&a>>6)<<n[3&p++],o[p>>2]|=(128|63&a)<<n[3&p++]):(a=65536+((1023&a)<<10|1023&d.charCodeAt(++s)),o[p>>2]|=(240|a>>18)<<n[3&p++],o[p>>2]|=(128|63&a>>12)<<n[3&p++],o[p>>2]|=(128|63&a>>6)<<n[3&p++],o[p>>2]|=(128|63&a)<<n[3&p++]);this.lastByteIndex=p,this.bytes+=p-this.start,64<=p?(this.block=o[16],this.start=p-64,this.hash(),this.hashed=!0):this.start=p}return 4294967295<this.bytes&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes%=4294967296),this}},t.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=o[3&t],this.block=e[16],56<=t&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},t.prototype.hash=function(){var a=this.h0,d=this.h1,c=this.h2,l=this.h3,p=this.h4,m=this.blocks,n,u;for(n=16;80>n;++n)u=m[n-3]^m[n-8]^m[n-14]^m[n-16],m[n]=u<<1|u>>>31;for(n=0;20>n;n+=5)a=(u=(d=(u=(c=(u=(l=(u=(p=(u=a<<5|a>>>27)+(d&c|~d&l)+p+1518500249+m[n]<<0)<<5|p>>>27)+(a&(d=d<<30|d>>>2)|~a&c)+l+1518500249+m[n+1]<<0)<<5|l>>>27)+(p&(a=a<<30|a>>>2)|~p&d)+c+1518500249+m[n+2]<<0)<<5|c>>>27)+(l&(p=p<<30|p>>>2)|~l&a)+d+1518500249+m[n+3]<<0)<<5|d>>>27)+(c&(l=l<<30|l>>>2)|~c&p)+a+1518500249+m[n+4]<<0,c=c<<30|c>>>2;for(;40>n;n+=5)a=(u=(d=(u=(c=(u=(l=(u=(p=(u=a<<5|a>>>27)+(d^c^l)+p+1859775393+m[n]<<0)<<5|p>>>27)+(a^(d=d<<30|d>>>2)^c)+l+1859775393+m[n+1]<<0)<<5|l>>>27)+(p^(a=a<<30|a>>>2)^d)+c+1859775393+m[n+2]<<0)<<5|c>>>27)+(l^(p=p<<30|p>>>2)^a)+d+1859775393+m[n+3]<<0)<<5|d>>>27)+(c^(l=l<<30|l>>>2)^p)+a+1859775393+m[n+4]<<0,c=c<<30|c>>>2;for(;60>n;n+=5)a=(u=(d=(u=(c=(u=(l=(u=(p=(u=a<<5|a>>>27)+(d&c|d&l|c&l)+p-1894007588+m[n]<<0)<<5|p>>>27)+(a&(d=d<<30|d>>>2)|a&c|d&c)+l-1894007588+m[n+1]<<0)<<5|l>>>27)+(p&(a=a<<30|a>>>2)|p&d|a&d)+c-1894007588+m[n+2]<<0)<<5|c>>>27)+(l&(p=p<<30|p>>>2)|l&a|p&a)+d-1894007588+m[n+3]<<0)<<5|d>>>27)+(c&(l=l<<30|l>>>2)|c&p|l&p)+a-1894007588+m[n+4]<<0,c=c<<30|c>>>2;for(;80>n;n+=5)a=(u=(d=(u=(c=(u=(l=(u=(p=(u=a<<5|a>>>27)+(d^c^l)+p-899497514+m[n]<<0)<<5|p>>>27)+(a^(d=d<<30|d>>>2)^c)+l-899497514+m[n+1]<<0)<<5|l>>>27)+(p^(a=a<<30|a>>>2)^d)+c-899497514+m[n+2]<<0)<<5|c>>>27)+(l^(p=p<<30|p>>>2)^a)+d-899497514+m[n+3]<<0)<<5|d>>>27)+(c^(l=l<<30|l>>>2)^p)+a-899497514+m[n+4]<<0,c=c<<30|c>>>2;this.h0=this.h0+a<<0,this.h1=this.h1+d<<0,this.h2=this.h2+c<<0,this.h3=this.h3+l<<0,this.h4=this.h4+p<<0},t.prototype.hex=function(){this.finalize();var a=this.h0,t=this.h1,n=this.h2,s=this.h3,i=this.h4;return r[15&a>>28]+r[15&a>>24]+r[15&a>>20]+r[15&a>>16]+r[15&a>>12]+r[15&a>>8]+r[15&a>>4]+r[15&a]+r[15&t>>28]+r[15&t>>24]+r[15&t>>20]+r[15&t>>16]+r[15&t>>12]+r[15&t>>8]+r[15&t>>4]+r[15&t]+r[15&n>>28]+r[15&n>>24]+r[15&n>>20]+r[15&n>>16]+r[15&n>>12]+r[15&n>>8]+r[15&n>>4]+r[15&n]+r[15&s>>28]+r[15&s>>24]+r[15&s>>20]+r[15&s>>16]+r[15&s>>12]+r[15&s>>8]+r[15&s>>4]+r[15&s]+r[15&i>>28]+r[15&i>>24]+r[15&i>>20]+r[15&i>>16]+r[15&i>>12]+r[15&i>>8]+r[15&i>>4]+r[15&i]},t.prototype.toString=t.prototype.hex,t.prototype.digest=function(){this.finalize();var a=this.h0,t=this.h1,n=this.h2,s=this.h3,i=this.h4;return[255&a>>24,255&a>>16,255&a>>8,255&a,255&t>>24,255&t>>16,255&t>>8,255&t,255&n>>24,255&n>>16,255&n>>8,255&n,255&s>>24,255&s>>16,255&s>>8,255&s,255&i>>24,255&i>>16,255&i>>8,255&i]},t.prototype.array=t.prototype.digest,t.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),e};var y=c();i?module.exports=y:(h.sha1=y,e&&define("sha1_hasher",[],function(){return y}))}(),!function(M,L,a,Y){"use strict";var F=Math.abs;function J(e,t,a){return setTimeout(p(e,a),t)}function d(e,t,a){return!!Array.isArray(e)&&(l(e,a[t],a),!0)}function l(t,a,i){if(t)if(t.forEach)t.forEach(a,i);else if(t.length!==Y)for(n=0;n<t.length;)a.call(i,t[n],n,t),n++;else for(var n in t)t.hasOwnProperty(n)&&a.call(i,t[n],n,t)}function m(t,a,i){for(var n=Object.keys(a),e=0;e<n.length;)(!i||i&&t[n[e]]===Y)&&(t[n[e]]=a[n[e]]),e++;return t}function n(e,t){return m(e,t,!0)}function o(t,a,i){var n=a.prototype,s;s=t.prototype=Object.create(n),s.constructor=t,s._super=n,i&&m(s,i)}function p(e,t){return function(){return e.apply(t,arguments)}}function k(e,t){return typeof e==f?e.apply(t?t[0]||Y:Y,t):e}function r(e,t){return e===Y?t:e}function s(e,t,a){l(w(t),function(t){e.addEventListener(t,a,!1)})}function t(e,t,a){l(w(t),function(t){e.removeEventListener(t,a,!1)})}function u(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function v(e,t){return-1<e.indexOf(t)}function w(e){return e.trim().split(/\s+/g)}function x(e,t,a){if(e.indexOf&&!a)return e.indexOf(t);for(var i=0;i<e.length;){if(a&&e[i][a]==t||!a&&e[i]===t)return i;i++}return-1}function q(e){return Array.prototype.slice.call(e,0)}function z(t,i,a){for(var n=[],s=[],e=0,o;e<t.length;)o=i?t[e][i]:t[e],0>x(s,o)&&n.push(t[e]),s[e]=o,e++;return a&&(n=i?n.sort(function(e,t){return e[i]>t[i]}):n.sort()),n}function A(e,t){for(var a=t[0].toUpperCase()+t.slice(1),i=0,n,s;i<Ie.length;){if(n=Ie[i],s=n?n+a:t,s in e)return s;i++}return Y}function c(){return i++}function b(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function E(e,t){var a=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){k(e.options.enable,[e])&&a.handler(t)},this.init()}function D(e){var t=e.options.inputClass,a;return a=t?t:G?ce:H?me:j?ge:re,new a(e,B)}function B(t,a,i){var n=i.pointers.length,s=i.changedPointers.length,e=a&N&&0==n-s;i.isFirst=!!e,i.isFinal=!!(a&(P|Q)&&0==n-s),e&&(t.session={}),i.eventType=a,K(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function K(t,a){var n=t.session,s=a.pointers,o=s.length;n.firstInput||(n.firstInput=ee(a)),1<o&&!n.firstMultiple?n.firstMultiple=ee(a):1===o&&(n.firstMultiple=!1);var e=n.firstInput,d=n.firstMultiple,r=d?d.center:e.center,c=a.center=te(s);a.timeStamp=Ye(),a.deltaTime=a.timeStamp-e.timeStamp,a.angle=se(r,c),a.distance=ne(r,c),X(n,a),a.offsetDirection=ie(a.deltaX,a.deltaY),a.scale=d?de(d.pointers,s):1,a.rotation=d?oe(d.pointers,s):0,Z(n,a);var i=t.element;u(a.srcEvent.target,i)&&(i=a.srcEvent.target),a.target=i}function X(t,a){var i=a.center,n=t.offsetDelta||{},s=t.prevDelta||{},o=t.prevInput||{};(a.eventType===N||o.eventType===P)&&(s=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),a.deltaX=s.x+(i.x-n.x),a.deltaY=s.y+(i.y-n.y)}function Z(t,a){var i=t.lastInterval||a,n=a.timeStamp-i.timeStamp,e,s,o,d;if(a.eventType!=Q&&(n>I||i.velocity===Y)){var r=i.deltaX-a.deltaX,c=i.deltaY-a.deltaY,l=ae(n,r,c);s=l.x,o=l.y,e=h(l.x)>h(l.y)?l.x:l.y,d=ie(r,c),t.lastInterval=a}else e=i.velocity,s=i.velocityX,o=i.velocityY,d=i.direction;a.velocity=e,a.velocityX=s,a.velocityY=o,a.direction=d}function ee(e){for(var t=[],a=0;a<e.pointers.length;)t[a]={clientX:g(e.pointers[a].clientX),clientY:g(e.pointers[a].clientY)},a++;return{timeStamp:Ye(),pointers:t,center:te(t),deltaX:e.deltaX,deltaY:e.deltaY}}function te(t){var a=t.length;if(1===a)return{x:g(t[0].clientX),y:g(t[0].clientY)};for(var i=0,n=0,s=0;a>s;)i+=t[s].clientX,n+=t[s].clientY,s++;return{x:g(i/a),y:g(n/a)}}function ae(e,t,a){return{x:t/e||0,y:a/e||0}}function ie(e,t){return e===t?R:h(e)>=h(t)?0<e?S:T:0<t?U:V}function ne(t,a,i){i||(i=W);var n=a[i[0]]-t[i[0]],s=a[i[1]]-t[i[1]];return Math.sqrt(n*n+s*s)}function se(t,a,i){i||(i=W);var n=a[i[0]]-t[i[0]],s=a[i[1]]-t[i[1]];return 180*Math.atan2(s,n)/Math.PI}function oe(e,t){return se(t[1],t[0],Ne)-se(e[1],e[0],Ne)}function de(e,t){return ne(t[0],t[1],Ne)/ne(e[0],e[1],Ne)}function re(){this.evEl=$e,this.evWin=Re,this.allow=!0,this.pressed=!1,E.apply(this,arguments)}function ce(){this.evEl=He,this.evWin=Be,E.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function le(){this.evTarget=Ve,this.evWin=Ue,this.started=!1,E.apply(this,arguments)}function pe(e,t){var a=q(e.touches),i=q(e.changedTouches);return t&(P|Q)&&(a=z(a.concat(i),"identifier",!0)),[a,i]}function me(){this.evTarget=ze,this.targetIds={},E.apply(this,arguments)}function ue(t,a){var n=q(t.touches),s=this.targetIds;if(a&(N|O)&&1===n.length)return s[n[0].identifier]=!0,[n,n];var o=q(t.changedTouches),d=[],r=this.target,i,c;if(c=n.filter(function(e){return u(e.target,r)}),a===N)for(i=0;i<c.length;)s[c[i].identifier]=!0,i++;for(i=0;i<o.length;)s[o[i].identifier]&&d.push(o[i]),a&(P|Q)&&delete s[o[i].identifier],i++;return d.length?[z(c.concat(d),"identifier",!0),d]:void 0}function ge(){E.apply(this,arguments);var e=p(this.handler,this);this.touch=new me(this.manager,e),this.mouse=new re(this.manager,e)}function he(e,t){this.manager=e,this.set(t)}function _e(e){if(v(e,Ke))return Ke;var t=v(e,Xe),a=v(e,Ze);return t&&a?Xe+" "+Ze:t||a?t?Xe:Ze:v(e,Je)?Je:Qe}function ve(e){this.id=c(),this.manager=null,this.options=n(e||{},this.defaults),this.options.enable=r(this.options.enable,!0),this.state=et,this.simultaneous={},this.requireFail=[]}function fe(e){return e&nt?"cancel":e&it?"end":e&at?"move":e&tt?"start":""}function be(e){return e==V?"down":e==U?"up":e==S?"left":e==T?"right":""}function ye(e,t){var a=t.manager;return a?a.get(e):e}function Ae(){ve.apply(this,arguments)}function xe(){Ae.apply(this,arguments),this.pX=null,this.pY=null}function we(){Ae.apply(this,arguments)}function ke(){ve.apply(this,arguments),this._timer=null,this._input=null}function Se(){Ae.apply(this,arguments)}function Ce(){Ae.apply(this,arguments)}function Me(){ve.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Le(e,t){return t=t||{},t.recognizers=r(t.recognizers,Le.defaults.preset),new Te(e,t)}function Te(e,t){t=t||{},this.options=n(t,Le.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=D(this),this.touchAction=new he(this,this.options.touchAction),Ee(this,!0),l(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function Ee(e,t){var i=e.element;l(e.options.cssProps,function(e,a){i.style[A(i.style,a)]=t?e:""})}function De(e,t){var a=L.createEvent("Event");a.initEvent(e,!0,!0),a.gesture=t,t.target.dispatchEvent(a)}var Ie=["","webkit","moz","MS","ms","o"],e=L.createElement("div"),f="function",g=Math.round,h=F,Ye=Date.now,i=1,j=("ontouchstart"in M),G=A(M,"PointerEvent")!==Y,H=j&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),I=25,N=1,O=2,P=4,Q=8,R=1,S=2,T=4,U=8,V=16,W=["x","y"],Ne=["clientX","clientY"];E.prototype={handler:function(){},init:function(){this.evEl&&s(this.element,this.evEl,this.domHandler),this.evTarget&&s(this.target,this.evTarget,this.domHandler),this.evWin&&s(b(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&t(this.element,this.evEl,this.domHandler),this.evTarget&&t(this.target,this.evTarget,this.domHandler),this.evWin&&t(b(this.element),this.evWin,this.domHandler)}};var je={mousedown:1,mousemove:2,mouseup:4},$e="mousedown",Re="mousemove mouseup";o(re,E,{handler:function(e){var t=je[e.type];t&1&&0===e.button&&(this.pressed=!0),t&2&&1!==e.which&&(t=4),this.pressed&&this.allow&&(t&4&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var Oe={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Pe={2:"touch",3:"pen",4:"mouse",5:"kinect"},He="pointerdown",Be="pointermove pointerup pointercancel";M.MSPointerEvent&&(He="MSPointerDown",Be="MSPointerMove MSPointerUp MSPointerCancel"),o(ce,E,{handler:function(t){var a=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),s=Oe[n],e=Pe[t.pointerType]||t.pointerType,o=x(a,t.pointerId,"pointerId");s&1&&(0===t.button||e=="touch")?0>o&&(a.push(t),o=a.length-1):s&12&&(i=!0),0>o||(a[o]=t,this.callback(this.manager,s,{pointers:a,changedPointers:[t],pointerType:e,srcEvent:t}),i&&a.splice(o,1))}});var Fe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Ve="touchstart",Ue="touchstart touchmove touchend touchcancel";o(le,E,{handler:function(e){var t=Fe[e.type];if(t===1&&(this.started=!0),this.started){var a=pe.call(this,e,t);t&12&&0==a[0].length-a[1].length&&(this.started=!1),this.callback(this.manager,t,{pointers:a[0],changedPointers:a[1],pointerType:"touch",srcEvent:e})}}});var qe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ze="touchstart touchmove touchend touchcancel";o(me,E,{handler:function(e){var t=qe[e.type],a=ue.call(this,e,t);a&&this.callback(this.manager,t,{pointers:a[0],changedPointers:a[1],pointerType:"touch",srcEvent:e})}}),o(ge,E,{handler:function(t,a,i){var n=i.pointerType=="touch",s=i.pointerType=="mouse";if(n)this.mouse.allow=!1;else if(s&&!this.mouse.allow)return;a&12&&(this.mouse.allow=!0),this.callback(t,a,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var We=A(e.style,"touchAction"),Ge=We!==Y,Qe="auto",Je="manipulation",Ke="none",Xe="pan-x",Ze="pan-y";he.prototype={set:function(e){e=="compute"&&(e=this.compute()),Ge&&(this.manager.element.style[We]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return l(this.manager.recognizers,function(t){k(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),_e(e.join(" "))},preventDefaults:function(t){if(!Ge){var a=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return a.preventDefault(),void 0;var n=this.actions,s=v(n,"none"),e=v(n,"pan-y"),o=v(n,"pan-x");return s||e&&i&6||o&&i&24?this.preventSrc(a):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var et=1,tt=2,at=4,it=8,nt=16;ve.prototype={defaults:{},set:function(e){return m(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(d(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=ye(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return d(e,"dropRecognizeWith",this)?this:(e=ye(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(d(e,"requireFailure",this))return this;var t=this.requireFail;return e=ye(e,this),-1===x(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(d(e,"dropRequireFailure",this))return this;e=ye(e,this);var t=x(this.requireFail,e);return-1<t&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){a.manager.emit(a.options.event+(t?fe(i):""),e)}var a=this,i=this.state;8>i&&t(!0),t(),i>=8&&t(!0)},tryEmit:function(e){return this.canEmit()?this.emit(e):(this.state=32,void 0)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&33))return!1;e++}return!0},recognize:function(e){var t=m({},e);return k(this.options.enable,[this,t])?(this.state&56&&(this.state=1),this.state=this.process(t),this.state&30&&this.tryEmit(t),void 0):(this.reset(),this.state=32,void 0)},process:function(){},getTouchAction:function(){},reset:function(){}},o(Ae,ve,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(t){var a=this.state,i=t.eventType,n=a&6,s=this.attrTest(t);return n&&(i&8||!s)?a|16:n||s?i&4?a|8:a&2?a|4:2:32}}),o(xe,Ae,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return e&6&&t.push("pan-y"),e&24&&t.push("pan-x"),t},directionTest:function(t){var a=this.options,i=!0,n=t.distance,s=t.direction,o=t.deltaX,r=t.deltaY;return s&a.direction||(a.direction&6?(s=0===o?1:0>o?2:4,i=o!=this.pX,n=F(t.deltaX)):(s=0===r?1:0>r?8:16,i=r!=this.pY,n=F(t.deltaY))),t.direction=s,i&&n>a.threshold&&s&a.direction},attrTest:function(e){return Ae.prototype.attrTest.call(this,e)&&(this.state&2||!(this.state&2)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=be(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),o(we,Ae,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(F(e.scale-1)>this.options.threshold||this.state&2)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=1>e.scale?"in":"out";this.manager.emit(this.options.event+t,e)}}}),o(ke,ve,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return["auto"]},process:function(t){var a=this.options,i=t.pointers.length===a.pointers,n=t.distance<a.threshold,s=t.deltaTime>a.time;if(this._input=t,!n||!i||t.eventType&12&&!s)this.reset();else if(t.eventType&1)this.reset(),this._timer=J(function(){this.state=8,this.tryEmit()},a.time,this);else if(t.eventType&4)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===8&&(e&&e.eventType&4?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=Ye(),this.manager.emit(this.options.event,this._input)))}}),o(Se,Ae,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(F(e.rotation)>this.options.threshold||this.state&2)}}),o(Ce,Ae,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:30,pointers:1},getTouchAction:function(){return xe.prototype.getTouchAction.call(this)},attrTest:function(e){var t=this.options.direction,a;return t&30?a=e.velocity:t&6?a=e.velocityX:t&24&&(a=e.velocityY),this._super.attrTest.call(this,e)&&t&e.direction&&e.distance>this.options.threshold&&h(a)>this.options.velocity&&e.eventType&4},emit:function(e){var t=be(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),o(Me,ve,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var a=this.options,i=t.pointers.length===a.pointers,n=t.distance<a.threshold,s=t.deltaTime<a.time;if(this.reset(),t.eventType&1&&0===this.count)return this.failTimeout();if(n&&s&&i){if(4!=t.eventType)return this.failTimeout();var e=!this.pTime||t.timeStamp-this.pTime<a.interval,o=!this.pCenter||ne(this.pCenter,t.center)<a.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,o&&e?this.count+=1:this.count=1,this._input=t;var d=this.count%a.taps;if(0==d)return this.hasRequireFailures()?(this._timer=J(function(){this.state=8,this.tryEmit()},a.interval,this),2):8}return 32},failTimeout:function(){return this._timer=J(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==8&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Le.VERSION="2.0.4",Le.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Se,{enable:!1}],[we,{enable:!1},["rotate"]],[Ce,{direction:6}],[xe,{direction:6},["swipe"]],[Me],[Me,{event:"doubletap",taps:2},["tap"]],[ke]],cssProps:{userSelect:"default",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};Te.prototype={set:function(e){return m(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(t){var a=this.session;if(!a.stopped){this.touchAction.preventDefaults(t);var i=this.recognizers,n=a.curRecognizer,s;(!n||n&&n.state&8)&&(n=a.curRecognizer=null);for(var o=0;o<i.length;)s=i[o],a.stopped===2||n&&s!=n&&!s.canRecognizeWith(n)?s.reset():s.recognize(t),!n&&s.state&14&&(n=a.curRecognizer=s),o++}},get:function(e){if(e instanceof ve)return e;for(var t=this.recognizers,a=0;a<t.length;a++)if(t[a].options.event==e)return t[a];return null},add:function(e){if(d(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(d(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(x(t,e),1),this.touchAction.update(),this},on:function(e,t){var i=this.handlers;return l(w(e),function(e){i[e]=i[e]||[],i[e].push(t)}),this},off:function(e,t){var i=this.handlers;return l(w(e),function(e){t?i[e].splice(x(i[e],t),1):delete i[e]}),this},emit:function(e,t){this.options.domEvents&&De(e,t);var a=this.handlers[e]&&this.handlers[e].slice();if(a&&a.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<a.length;)a[i](t),i++}},destroy:function(){this.element&&Ee(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},m(Le,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Te,Input:E,TouchAction:he,TouchInput:me,MouseInput:re,PointerEventInput:ce,TouchMouseInput:ge,SingleTouchInput:le,Recognizer:ve,AttrRecognizer:Ae,Tap:Me,Pan:xe,Swipe:Ce,Pinch:we,Rotate:Se,Press:ke,on:s,off:t,each:l,merge:n,extend:m,inherit:o,bindFn:p,prefixed:A}),typeof define=="function"&&define.amd?define("hammerjs",[],function(){return Le}):"undefined"!=typeof module&&module.exports?module.exports=Le:M[a]=Le}(window,document,"Hammer"),define("materialize",["jquery","hammerjs"],function(h,v){var f=Math.exp,A=Math.asin,w=Math.sin,k=Math.sqrt,M=Math.round,L=Math.abs,T=Math.cos,E=Math.PI,D=String.fromCharCode,I=Math.floor,Y=Math.pow,R=Math.min,O=Math.max;window.$=window.jQuery=$=h,h.easing.jswing=h.easing.swing,h.extend(h.easing,{def:"easeOutQuad",swing:function(e,a,t,i,n){return h.easing[h.easing.def](e,a,t,i,n)},easeInQuad:function(e,a,i,n,s){return n*(a/=s)*a+i},easeOutQuad:function(e,a,i,n,s){return-n*(a/=s)*(a-2)+i},easeInOutQuad:function(e,a,i,n,s){return 1>(a/=s/2)?n/2*a*a+i:-n/2*(--a*(a-2)-1)+i},easeInCubic:function(e,a,i,n,s){return n*(a/=s)*a*a+i},easeOutCubic:function(e,a,i,n,s){return n*((a=a/s-1)*a*a+1)+i},easeInOutCubic:function(e,a,i,n,s){return 1>(a/=s/2)?n/2*a*a*a+i:n/2*((a-=2)*a*a+2)+i},easeInQuart:function(e,a,i,n,s){return n*(a/=s)*a*a*a+i},easeOutQuart:function(e,a,i,n,s){return-n*((a=a/s-1)*a*a*a-1)+i},easeInOutQuart:function(e,a,i,n,s){return 1>(a/=s/2)?n/2*a*a*a*a+i:-n/2*((a-=2)*a*a*a-2)+i},easeInQuint:function(e,a,i,n,s){return n*(a/=s)*a*a*a*a+i},easeOutQuint:function(e,a,i,n,s){return n*((a=a/s-1)*a*a*a*a+1)+i},easeInOutQuint:function(e,a,i,n,s){return 1>(a/=s/2)?n/2*a*a*a*a*a+i:n/2*((a-=2)*a*a*a*a+2)+i},easeInSine:function(e,a,t,i,n){return-i*T(a/n*(E/2))+i+t},easeOutSine:function(e,a,t,i,n){return i*w(a/n*(E/2))+t},easeInOutSine:function(e,a,t,i,n){return-i/2*(T(E*a/n)-1)+t},easeInExpo:function(e,a,t,i,n){return 0==a?t:i*Y(2,10*(a/n-1))+t},easeOutExpo:function(e,a,t,i,n){return a==n?t+i:i*(-Y(2,-10*a/n)+1)+t},easeInOutExpo:function(e,a,i,n,s){return 0==a?i:a==s?i+n:1>(a/=s/2)?n/2*Y(2,10*(a-1))+i:n/2*(-Y(2,-10*--a)+2)+i},easeInCirc:function(e,a,i,n,s){return-n*(k(1-(a/=s)*a)-1)+i},easeOutCirc:function(e,a,i,n,s){return n*k(1-(a=a/s-1)*a)+i},easeInOutCirc:function(e,a,i,n,s){return 1>(a/=s/2)?-n/2*(k(1-a*a)-1)+i:n/2*(k(1-(a-=2)*a)+1)+i},easeInElastic:function(e,i,n,o,r){var d=1.70158,c=0,l=o;if(0==i)return n;if(1==(i/=r))return n+o;if(c||(c=.3*r),l<L(o)){l=o;var d=c/4}else var d=c/(2*E)*A(o/l);return-(l*Y(2,10*(i-=1))*w((i*r-d)*(2*E)/c))+n},easeOutElastic:function(e,i,n,o,r){var d=1.70158,c=0,l=o;if(0==i)return n;if(1==(i/=r))return n+o;if(c||(c=.3*r),l<L(o)){l=o;var d=c/4}else var d=c/(2*E)*A(o/l);return l*Y(2,-10*i)*w((i*r-d)*(2*E)/c)+o+n},easeInOutElastic:function(e,i,n,o,r){var d=1.70158,c=0,l=o;if(0==i)return n;if(2==(i/=r/2))return n+o;if(c||(c=r*(.3*1.5)),l<L(o)){l=o;var d=c/4}else var d=c/(2*E)*A(o/l);return 1>i?-.5*(l*Y(2,10*(i-=1))*w((i*r-d)*(2*E)/c))+n:.5*(l*Y(2,-10*(i-=1))*w((i*r-d)*(2*E)/c))+o+n},easeInBack:function(e,a,i,n,o,d){return null==d&&(d=1.70158),n*(a/=o)*a*((d+1)*a-d)+i},easeOutBack:function(e,a,i,n,o,d){return null==d&&(d=1.70158),n*((a=a/o-1)*a*((d+1)*a+d)+1)+i},easeInOutBack:function(e,a,i,n,o,d){return null==d&&(d=1.70158),1>(a/=o/2)?n/2*(a*a*(((d*=1.525)+1)*a-d))+i:n/2*((a-=2)*a*(((d*=1.525)+1)*a+d)+2)+i},easeInBounce:function(e,a,t,i,n){return i-h.easing.easeOutBounce(e,n-a,0,i,n)+t},easeOutBounce:function(e,a,i,n,s){return(a/=s)<1/2.75?n*(7.5625*a*a)+i:a<2/2.75?n*(7.5625*(a-=1.5/2.75)*a+.75)+i:a<2.5/2.75?n*(7.5625*(a-=2.25/2.75)*a+.9375)+i:n*(7.5625*(a-=2.625/2.75)*a+.984375)+i},easeInOutBounce:function(e,a,t,i,n){return a<n/2?.5*h.easing.easeInBounce(e,2*a,0,i,n)+t:.5*h.easing.easeOutBounce(e,2*a-n,0,i,n)+.5*i+t}});h.extend(h.easing,{easeInOutMaterial:function(e,a,i,n,s){return 1>(a/=s/2)?n/2*a*a+i:n/4*((a-=2)*a*a+2)+i}});h.Velocity?console.log("Velocity is already loaded. You may be needlessly importing Velocity again; note that Materialize includes Velocity."):(!function(d){function c(i){var e=i.length,t=p.type(i);return!("function"===t||p.isWindow(i))&&(!!(1===i.nodeType&&e)||"array"===t||0===e||"number"==typeof e&&0<e&&e-1 in i)}if(!d.jQuery){var p=function(a,e){return new p.fn.init(a,e)};p.isWindow=function(t){return null!=t&&t==t.window},p.type=function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?t[n.call(a)]||"object":typeof a},p.isArray=Array.isArray||function(t){return"array"===p.type(t)},p.isPlainObject=function(i){if(!i||"object"!==p.type(i)||i.nodeType||p.isWindow(i))return!1;try{if(i.constructor&&!a.call(i,"constructor")&&!a.call(i.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(var e in i);return void 0===e||a.call(i,e)},p.each=function(t,e,d){var a=0,r=t.length,i=c(t),s;if(d){if(i)for(;r>a&&(s=e.apply(t[a],d),!1!==s);a++);else for(a in t)if(s=e.apply(t[a],d),!1===s)break;}else if(i)for(;r>a&&(s=e.call(t[a],a,t[a]),!1!==s);a++);else for(a in t)if(s=e.call(t[a],a,t[a]),!1===s)break;return t},p.data=function(a,e,t){if(void 0===t){var n=a[p.expando],s=n&&r[n];if(void 0===e)return s;if(s&&e in s)return s[e]}else if(void 0!==e){var n=a[p.expando]||(a[p.expando]=++p.uuid);return r[n]=r[n]||{},r[n][e]=t,t}},p.removeData=function(a,e){var t=a[p.expando],i=t&&r[t];i&&p.each(e,function(a,e){delete i[e]})},p.extend=function(){var d=arguments[0]||{},r=1,m=arguments.length,u=!1,g,h,v,f,b,A;for("boolean"==typeof d&&(u=d,d=arguments[r]||{},r++),"object"!=typeof d&&"function"!==p.type(d)&&(d={}),r===m&&(d=this,r--);m>r;r++)if(null!=(b=arguments[r]))for(f in b)g=d[f],v=b[f],d!==v&&(u&&v&&(p.isPlainObject(v)||(h=p.isArray(v)))?(h?(h=!1,A=g&&p.isArray(g)?g:[]):A=g&&p.isPlainObject(g)?g:{},d[f]=p.extend(u,A,v)):void 0!==v&&(d[f]=v));return d},p.queue=function(t,e,s){function n(t,e){var i=e||[];return null!=t&&(c(Object(t))?!function(i,e){for(var t=+e.length,s=0,o=i.length;t>s;)i[o++]=e[s++];if(t!=t)for(;void 0!==e[s];)i[o++]=e[s++];return i.length=o,i}(i,"string"==typeof t?[t]:t):[].push.call(i,t)),i}if(t){e=(e||"fx")+"queue";var o=p.data(t,e);return s?(!o||p.isArray(s)?o=p.data(t,e,n(s)):o.push(s),o):o||[]}},p.dequeue=function(a,i){p.each(a.nodeType?[a]:a,function(t,e){i=i||"fx";var a=p.queue(e,i),n=a.shift();"inprogress"===n&&(n=a.shift()),n&&("fx"===i&&a.unshift("inprogress"),n.call(e,function(){p.dequeue(e,i)}))})},p.fn=p.prototype={init:function(t){if(t.nodeType)return this[0]=t,this;throw new Error("Not a DOM node.")},offset:function(){var e=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:e.top+(d.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:e.left+(d.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function i(){for(var t=this.offsetParent||document;t&&"html"===!t.nodeType.toLowerCase&&"static"===t.style.position;)t=t.offsetParent;return t||document}var s=this[0],i=i.apply(s),t=this.offset(),a=/^(?:body|html)$/i.test(i.nodeName)?{top:0,left:0}:p(i).offset();return t.top-=parseFloat(s.style.marginTop)||0,t.left-=parseFloat(s.style.marginLeft)||0,i.style&&(a.top+=parseFloat(i.style.borderTopWidth)||0,a.left+=parseFloat(i.style.borderLeftWidth)||0),{top:t.top-a.top,left:t.left-a.left}}};var r={};p.expando="velocity"+new Date().getTime(),p.uuid=0;for(var t={},a=t.hasOwnProperty,n=t.toString,e=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],i=0;i<e.length;i++)t["[object "+e[i]+"]"]=e[i].toLowerCase();p.fn.init.prototype=p.fn,d.Velocity={Utilities:p}}}(window),function(t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&define.amd?t():t()}(function(){return function(A,k,C,U){function e(i){for(var e=-1,s=i?i.length:0,o=[],a;++e<s;)a=i[e],a&&o.push(a);return o}function a(t){return c.isWrapped(t)?t=[].slice.call(t):c.isNode(t)&&(t=[t]),t}function J(a){var e=X.data(a,"velocity");return null===e?U:e}function i(a){return function(e){return M(e*a)*(1/a)}}function n(A,M,E,r){function n(a,e){return 1-3*e+3*a}function o(a,e){return 3*e-6*a}function i(t){return 3*t}function D(a,e,t){return((n(e,t)*a+o(e,t))*a+i(e))*a}function I(a,e,t){return 3*n(e,t)*a*a+2*o(e,t)*a+i(e)}function u(e,t){for(var a=0,s;l>a;++a){if(s=I(t,A,E),0===s)return t;var d=D(t,A,E)-e;t-=d/s}return t}function t(){for(var e=0;h>e;++e)x[e]=D(e*v,A,E)}function c(e,t,a){var d=0,c,l;do l=t+(a-t)/2,c=D(l,A,E)-e,0<c?a=l:t=l;while(L(c)>m&&++d<g);return l}function s(e){for(var t=0,a=1;a!=h-1&&x[a]<=e;++a)t+=v;--a;var o=(e-x[a])/(x[a+1]-x[a]),i=t+o*v,s=I(i,A,E);return s>=p?u(e,i):0==s?i:c(e,t,t+v)}function d(){w=!0,(A!=M||E!=r)&&t()}var l=4,p=.001,m=1e-7,g=10,h=11,v=1/10,f=("Float32Array"in k);if(4!==arguments.length)return!1;for(var b=0;4>b;++b)if("number"!=typeof arguments[b]||isNaN(arguments[b])||!isFinite(arguments[b]))return!1;A=R(A,1),E=R(E,1),A=O(A,0),E=O(E,0);var x=f?new Float32Array(11):Array(11),w=!1,S=function(e){return w||d(),A===M&&E===r?e:0===e?0:1===e?1:D(s(e),M,r)};S.getControlPoints=function(){return[{x:A,y:M},{x:E,y:r}]};var C="generateBezier("+[A,M,E,r]+")";return S.toString=function(){return C},S}function D(a,e){var t=a;return c.isString(a)?Z.Easings[a]||(t=!1):t=c.isArray(a)&&1===a.length?i.apply(null,a):c.isArray(a)&&2===a.length?d.apply(null,a.concat([e])):!!(c.isArray(a)&&4===a.length)&&n.apply(null,a),!1===t&&(t=Z.Easings[Z.defaults.easing]?Z.defaults.easing:o),t}function K(a){if(a){var i=new Date().getTime(),t=Z.State.calls.length;1e4<t&&(Z.State.calls=e(Z.State.calls));for(var n=0;t>n;n++)if(Z.State.calls[n]){var f=Z.State.calls[n],s=f[0],l=f[2],u=f[3],b=!!u,g=null;u||(u=Z.State.calls[n][3]=i-16);for(var w=R((i-u)/l.duration,1),h=0,S=s.length;S>h;h++){var x=s[h],M=x.element;if(J(M)){var T=!1;if(l.display!==U&&null!==l.display&&"none"!==l.display){if("flex"===l.display){X.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],function(a,e){m.setPropertyValue(M,"display",e)})}m.setPropertyValue(M,"display",l.display)}for(var D in l.visibility!==U&&"hidden"!==l.visibility&&m.setPropertyValue(M,"visibility",l.visibility),x)if("element"!=D){var k=x[D],I=c.isString(k.easing)?Z.Easings[k.easing]:k.easing,Y;if(1===w)Y=k.endValue;else{var j=k.endValue-k.startValue;if(Y=k.startValue+j*I(w,l,j),!b&&Y===k.currentValue)continue}if(k.currentValue=Y,"tween"===D)g=Y;else{if(m.Hooks.registered[D]){var E=m.Hooks.getRoot(D),P=J(M).rootPropertyValueCache[E];P&&(k.rootPropertyValue=P)}var N=m.setPropertyValue(M,D,k.currentValue+(0===parseFloat(Y)?"":k.unitType),k.rootPropertyValue,k.scrollData);m.Hooks.registered[D]&&(J(M).rootPropertyValueCache[E]=m.Normalizations.registered[E]?m.Normalizations.registered[E]("extract",null,N[1]):N[1]),"transform"===N[0]&&(T=!0)}}l.mobileHA&&J(M).transformCache.translate3d===U&&(J(M).transformCache.translate3d="(0px, 0px, 0px)",T=!0),T&&m.flushTransformCache(M)}}l.display!==U&&"none"!==l.display&&(Z.State.calls[n][2].display=!1),l.visibility!==U&&"hidden"!==l.visibility&&(Z.State.calls[n][2].visibility=!1),l.progress&&l.progress.call(f[1],f[1],w,O(0,u+l.duration-i),u,g),1===w&&r(n)}}Z.State.isTicking&&p(K)}function r(a,e){if(!Z.State.calls[a])return!1;for(var t=Z.State.calls[a][0],i=Z.State.calls[a][1],n=Z.State.calls[a][2],o=Z.State.calls[a][4],s=!1,r=0,g=t.length,c;g>r;r++){if(c=t[r].element,e||n.loop||("none"===n.display&&m.setPropertyValue(c,"display",n.display),"hidden"===n.visibility&&m.setPropertyValue(c,"visibility",n.visibility)),!0!==n.loop&&(X.queue(c)[1]===U||!/\.velocityQueueEntryFlag/i.test(X.queue(c)[1]))&&J(c)){J(c).isAnimating=!1,J(c).rootPropertyValueCache={};var h=!1;X.each(m.Lists.transforms3D,function(a,e){var t=/^scale/.test(e)?1:0,i=J(c).transformCache[e];J(c).transformCache[e]!==U&&new RegExp("^\\("+t+"[^.]").test(i)&&(h=!0,delete J(c).transformCache[e])}),n.mobileHA&&(h=!0,delete J(c).transformCache.translate3d),h&&m.flushTransformCache(c),m.Values.removeClass(c,"velocity-animating")}if(!e&&n.complete&&!n.loop&&r===g-1)try{n.complete.call(i,i)}catch(e){setTimeout(function(){throw e},1)}o&&!0!==n.loop&&o(i),J(c)&&!0===n.loop&&!e&&(X.each(J(c).tweensContainer,function(a,e){/^rotate/.test(a)&&360===parseFloat(e.endValue)&&(e.endValue=0,e.startValue=360),/^backgroundPosition/.test(a)&&100===parseFloat(e.endValue)&&"%"===e.unitType&&(e.endValue=0,e.startValue=100)}),Z(c,"reverse",{loop:!0,delay:n.delay})),!1!==n.queue&&X.dequeue(c,n.queue)}Z.State.calls[a]=!1;for(var v=0,f=Z.State.calls.length;f>v;v++)if(!1!==Z.State.calls[v]){s=!0;break}!1==s&&(Z.State.isTicking=!1,delete Z.State.calls,Z.State.calls=[])}var I=function(){if(C.documentMode)return C.documentMode;for(var a=7,i;4<a;a--)if(i=C.createElement("div"),i.innerHTML="<!--[if IE "+a+"]><span></span><![endif]-->",i.getElementsByTagName("span").length)return i=null,a;return U}(),t=function(){var i=0;return k.webkitRequestAnimationFrame||k.mozRequestAnimationFrame||function(e){var t=new Date().getTime(),a;return a=O(0,16-(t-i)),i=t+a,setTimeout(function(){e(t+a)},a)}}(),c={isString:function(t){return"string"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNode:function(t){return t&&t.nodeType},isNodeList:function(t){return"object"==typeof t&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&t.length!==U&&(0===t.length||"object"==typeof t[0]&&0<t[0].nodeType)},isWrapped:function(t){return t&&(t.jquery||k.Zepto&&k.Zepto.zepto.isZ(t))},isSVG:function(t){return k.SVGElement&&t instanceof k.SVGElement},isEmptyObject:function(a){for(var e in a)return!1;return!0}},s=!1,X;if(A.fn&&A.fn.jquery?(X=A,s=!0):X=k.Velocity.Utilities,8>=I&&!s)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=I)return void(h.fn.velocity=h.fn.animate);var o="swing",Z={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:k.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:C.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:X,Redirects:{},Easings:{},Promise:k.Promise,defaults:{queue:"",duration:400,easing:"swing",begin:U,complete:U,progress:U,display:U,visibility:U,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(t){X.data(t,"velocity",{isSVG:c.isSVG(t),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};k.pageYOffset===U?(Z.State.scrollAnchor=C.documentElement||C.body.parentNode||C.body,Z.State.scrollPropertyLeft="scrollLeft",Z.State.scrollPropertyTop="scrollTop"):(Z.State.scrollAnchor=k,Z.State.scrollPropertyLeft="pageXOffset",Z.State.scrollPropertyTop="pageYOffset");var d=function(){function d(t){return-t.tension*t.x-t.friction*t.v}function e(e,t,i){var a={x:e.x+i.dx*t,v:e.v+i.dv*t,tension:e.tension,friction:e.friction};return{dx:a.v,dv:d(a)}}function m(t,r){var a={dx:t.v,dv:d(t)},n=e(t,.5*r,a),o=e(t,.5*r,n),i=e(t,r,o),s=1/6*(a.dx+2*(n.dx+o.dx)+i.dx),c=1/6*(a.dv+2*(n.dv+o.dv)+i.dv);return t.x+=s*r,t.v+=c*r,t}return function d(a,r,g){var h={x:-1,v:0,tension:null,friction:null},l=[0],u=0,v=1e-4,p=.016,f,b,A;for(a=parseFloat(a)||500,r=parseFloat(r)||20,g=g||null,h.tension=a,h.friction=r,f=null!==g,f?(u=d(a,r),b=u/g*p):b=p;A=m(A||h,b),l.push(1+A.x),u+=16,L(A.x)>v&&L(A.v)>v;);return f?function(t){return l[0|t*(l.length-1)]}:u}}();Z.Easings={linear:function(t){return t},swing:function(t){return .5-T(t*E)/2},spring:function(t){return 1-T(4.5*t*E)*f(6*-t)}},X.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(a,e){Z.Easings[e[0]]=n.apply(null,e[1])});var m=Z.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var d=0,c;d<m.Lists.colors.length;d++)c="color"===m.Lists.colors[d]?"0 0 0 1":"255 255 255 1",m.Hooks.templates[m.Lists.colors[d]]=["Red Green Blue Alpha",c];var l,p,u;if(I)for(l in m.Hooks.templates){p=m.Hooks.templates[l],u=p[0].split(" ");var g=p[1].match(m.RegEx.valueSplit);"Color"===u[0]&&(u.push(u.shift()),g.push(g.shift()),m.Hooks.templates[l]=[u.join(" "),g.join(" ")])}for(l in m.Hooks.templates)for(var d in p=m.Hooks.templates[l],u=p[0].split(" "),u){var o=l+u[d],i=d;m.Hooks.registered[o]=[l,i]}},getRoot:function(a){var e=m.Hooks.registered[a];return e?e[0]:a},cleanRootPropertyValue:function(a,e){return m.RegEx.valueUnwrap.test(e)&&(e=e.match(m.RegEx.valueUnwrap)[1]),m.Values.isCSSNullValue(e)&&(e=m.Hooks.templates[a][1]),e},extractValue:function(i,e){var s=m.Hooks.registered[i];if(s){var o=s[0],a=s[1];return e=m.Hooks.cleanRootPropertyValue(o,e),e.toString().match(m.RegEx.valueSplit)[a]}return e},injectValue:function(d,e,t){var c=m.Hooks.registered[d];if(c){var a=c[0],i=c[1],s,l;return t=m.Hooks.cleanRootPropertyValue(a,t),s=t.toString().match(m.RegEx.valueSplit),s[i]=e,l=s.join(" ")}return t}},Normalizations:{registered:{clip:function(i,e,t){switch(i){case"name":return"clip";case"extract":var n;return m.RegEx.wrappedValueAlreadyExtracted.test(t)?n=t:(n=t.toString().match(m.RegEx.valueUnwrap),n=n?n[1].replace(/,(\s+)?/g," "):t),n;case"inject":return"rect("+t+")";}},blur:function(i,e,t){switch(i){case"name":return Z.State.isFirefox?"filter":"-webkit-filter";case"extract":var s=parseFloat(t);if(!s&&0!==s){var o=t.toString().match(/blur\(([0-9]+[A-z]+)\)/i);s=o?o[1]:0}return s;case"inject":return parseFloat(t)?"blur("+t+")":"none";}},opacity:function(i,e,t){if(8>=I)switch(i){case"name":return"filter";case"extract":var n=t.toString().match(/alpha\(opacity=(.*)\)/i);return t=n?n[1]/100:1;case"inject":return e.style.zoom=1,1<=parseFloat(t)?"":"alpha(opacity="+parseInt(100*parseFloat(t),10)+")";}else switch(i){case"name":return"opacity";case"extract":return t;case"inject":return t;}}},register:function(){9>=I||Z.State.isGingerbread||(m.Lists.transformsBase=m.Lists.transformsBase.concat(m.Lists.transforms3D));for(var a=0;a<m.Lists.transformsBase.length;a++)!function(){var i=m.Lists.transformsBase[a];m.Normalizations.registered[i]=function(t,e,a){switch(t){case"name":return"transform";case"extract":return J(e)===U||J(e).transformCache[i]===U?/^scale/i.test(i)?1:0:J(e).transformCache[i].replace(/[()]/g,"");case"inject":var s=!1;switch(i.substr(0,i.length-1)){case"translate":s=!/(%|px|em|rem|vw|vh|\d)$/i.test(a);break;case"scal":case"scale":Z.State.isAndroid&&J(e).transformCache[i]===U&&1>a&&(a=1),s=!/(\d)$/i.test(a);break;case"skew":s=!/(deg|\d)$/i.test(a);break;case"rotate":s=!/(deg|\d)$/i.test(a);}return s||(J(e).transformCache[i]="("+a+")"),J(e).transformCache[i];}}}();for(var a=0;a<m.Lists.colors.length;a++)!function(){var d=m.Lists.colors[a];m.Normalizations.registered[d]=function(t,e,a){switch(t){case"name":return d;case"extract":var r;if(m.RegEx.wrappedValueAlreadyExtracted.test(a))r=a;else{var c={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"},s;/^[A-z]+$/i.test(a)?s=c[a]===U?c.black:c[a]:m.RegEx.isHex.test(a)?s="rgb("+m.Values.hexToRgb(a).join(" ")+")":/^rgba?\(/i.test(a)||(s=c.black),r=(s||a).toString().match(m.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=I||3!==r.split(" ").length||(r+=" 1"),r;case"inject":return 8>=I?4===a.split(" ").length&&(a=a.split(/\s+/).slice(0,3).join(" ")):3===a.split(" ").length&&(a+=" 1"),(8>=I?"rgb":"rgba")+"("+a.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")";}}}()}},Names:{camelCase:function(t){return t.replace(/-(\w)/g,function(a,e){return e.toUpperCase()})},SVGAttribute:function(a){var e="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(I||Z.State.isAndroid&&!Z.State.isChrome)&&(e+="|transform"),new RegExp("^("+e+")$","i").test(a)},prefixCheck:function(i){if(Z.State.prefixMatches[i])return[Z.State.prefixMatches[i],!0];for(var e=["","Webkit","Moz","ms","O"],t=0,s=e.length;s>t;t++){var a;if(a=0==t?i:e[t]+i.replace(/^\w/,function(t){return t.toUpperCase()}),c.isString(Z.State.prefixElement.style[a]))return Z.State.prefixMatches[i]=a,[a,!0]}return[i,!1]}},Values:{hexToRgb:function(a){var i;return a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(i,e,t,n){return e+e+t+t+n+n}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a),i?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:[0,0,0]},isCSSNullValue:function(t){return 0==t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(t)},getUnitType:function(t){return /^(rotate|skew)/i.test(t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(t)?"":"px"},getDisplayType:function(a){var e=a&&a.tagName.toString().toLowerCase();return /^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(e)?"inline":/^(li)$/i.test(e)?"list-item":/^(tr)$/i.test(e)?"table-row":/^(table)$/i.test(e)?"table":/^(tbody)$/i.test(e)?"table-row-group":"block"},addClass:function(a,e){a.classList?a.classList.add(e):a.className+=(a.className.length?" ":"")+e},removeClass:function(a,e){a.classList?a.classList.remove(e):a.className=a.className.toString().replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(t,e,a,i){function o(t,e){function a(){s&&m.setPropertyValue(t,"display","none")}var n=0;if(8>=I)n=X.css(t,e);else{var s=!1;if(/^(width|height)$/.test(e)&&0===m.getPropertyValue(t,"display")&&(s=!0,m.setPropertyValue(t,"display",m.Values.getDisplayType(t))),!i){if("height"===e&&"border-box"!==m.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var d=t.offsetHeight-(parseFloat(m.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(m.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(m.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(m.getPropertyValue(t,"paddingBottom"))||0);return a(),d}if("width"===e&&"border-box"!==m.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var c=t.offsetWidth-(parseFloat(m.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(m.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(m.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(m.getPropertyValue(t,"paddingRight"))||0);return a(),c}}var p;p=J(t)===U?k.getComputedStyle(t,null):J(t).computedStyle?J(t).computedStyle:J(t).computedStyle=k.getComputedStyle(t,null),"borderColor"===e&&(e="borderTopColor"),n=9===I&&"filter"===e?p.getPropertyValue(e):p[e],(""===n||null===n)&&(n=t.style[e]),a()}if("auto"===n&&/^(top|right|bottom|left)$/i.test(e)){var h=o(t,"position");("fixed"===h||"absolute"===h&&/top|left/i.test(e))&&(n=X(t).position()[e]+"px")}return n}var s;if(m.Hooks.registered[e]){var d=e,r=m.Hooks.getRoot(d);a===U&&(a=m.getPropertyValue(t,m.Names.prefixCheck(r)[0])),m.Normalizations.registered[r]&&(a=m.Normalizations.registered[r]("extract",t,a)),s=m.Hooks.extractValue(d,a)}else if(m.Normalizations.registered[e]){var c,u;c=m.Normalizations.registered[e]("name",t),"transform"!==c&&(u=o(t,m.Names.prefixCheck(c)[0]),m.Values.isCSSNullValue(u)&&m.Hooks.templates[e]&&(u=m.Hooks.templates[e][1])),s=m.Normalizations.registered[e]("extract",t,u)}if(!/^[\d-]/.test(s))if(!(J(t)&&J(t).isSVG&&m.Names.SVGAttribute(e)))s=o(t,m.Names.prefixCheck(e)[0]);else if(/^(height|width)$/i.test(e))try{s=t.getBBox()[e]}catch(e){s=0}else s=t.getAttribute(e);return m.Values.isCSSNullValue(s)&&(s=0),2<=Z.debug&&console.log("Get "+e+": "+s),s},setPropertyValue:function(t,e,i,d,c){var o=e;if("scroll"===e)c.container?c.container["scroll"+c.direction]=i:"Left"===c.direction?k.scrollTo(i,c.alternateValue):k.scrollTo(c.alternateValue,i);else if(m.Normalizations.registered[e]&&"transform"===m.Normalizations.registered[e]("name",t))m.Normalizations.registered[e]("inject",t,i),o="transform",i=J(t).transformCache[e];else{if(m.Hooks.registered[e]){var p=e,l=m.Hooks.getRoot(e);d=d||m.getPropertyValue(t,l),i=m.Hooks.injectValue(p,i,d),e=l}if(m.Normalizations.registered[e]&&(i=m.Normalizations.registered[e]("inject",t,i),e=m.Normalizations.registered[e]("name",t)),o=m.Names.prefixCheck(e)[0],8>=I)try{t.style[o]=i}catch(e){Z.debug&&console.log("Browser does not support ["+i+"] for ["+o+"]")}else J(t)&&J(t).isSVG&&m.Names.SVGAttribute(e)?t.setAttribute(e,i):t.style[o]=i;2<=Z.debug&&console.log("Set "+e+" ("+o+"): "+i)}return[o,i]},flushTransformCache:function(i){function e(e){return parseFloat(m.getPropertyValue(i,e))}var s="";if((I||Z.State.isAndroid&&!Z.State.isChrome)&&J(i).isSVG){var t={translate:[e("translateX"),e("translateY")],skewX:[e("skewX")],skewY:[e("skewY")],scale:1===e("scale")?[e("scaleX"),e("scaleY")]:[e("scale"),e("scale")],rotate:[e("rotateZ"),0,0]};X.each(J(i).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate"),t[a]&&(s+=a+"("+t[a].join(" ")+") ",delete t[a])})}else{var a,d;X.each(J(i).transformCache,function(e){return a=J(i).transformCache[e],"transformPerspective"===e?(d=a,!0):(9===I&&"rotateZ"==e&&(e="rotate"),void(s+=e+a+" "))}),d&&(s="perspective"+d+" "+s)}m.setPropertyValue(i,"transform",s)}};m.Hooks.register(),m.Normalizations.register(),Z.hook=function(i,d,t){var r=U;return i=a(i),X.each(i,function(a,e){if(J(e)===U&&Z.init(e),t===U)r===U&&(r=Z.CSS.getPropertyValue(e,d));else{var i=Z.CSS.setPropertyValue(e,d,t);"transform"===i[0]&&Z.CSS.flushTransformCache(e),r=i}}),r};var l=function(){function t(){return n?ee.promise||null:o}function i(){function a(){function a(a,e){var t=U,s=U,d=U;return c.isArray(a)?(t=a[0],!c.isArray(a[1])&&/^[\d-]/.test(a[1])||c.isFunction(a[1])||m.RegEx.isHex.test(a[1])?d=a[1]:(c.isString(a[1])&&!m.RegEx.isHex.test(a[1])||c.isArray(a[1]))&&(s=e?a[1]:D(a[1],o.duration),a[2]!==U&&(d=a[2]))):t=a,e||(s=s||o.easing),c.isFunction(t)&&(t=t.call(g,x,f)),c.isFunction(d)&&(d=d.call(g,x,f)),[t||0,s,d]}function i(i,e){var t,n;return n=(e||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(a){return t=a,""}),t||(t=m.Values.getUnitType(i)),[n,t]}function n(){var t={myParent:g.parentNode||C.body,position:m.getPropertyValue(g,"position"),fontSize:m.getPropertyValue(g,"fontSize")},e=t.position===N.lastPosition&&t.myParent===N.lastParent,a=t.fontSize===N.lastFontSize;N.lastParent=t.myParent,N.lastPosition=t.position,N.lastFontSize=t.fontSize;var i={};if(a&&e)i.emToPx=N.lastEmToPx,i.percentToPxWidth=N.lastPercentToPxWidth,i.percentToPxHeight=N.lastPercentToPxHeight;else{var n=J(g).isSVG?C.createElementNS("http://www.w3.org/2000/svg","rect"):C.createElement("div");Z.init(n),t.myParent.appendChild(n),X.each(["overflow","overflowX","overflowY"],function(a,e){Z.CSS.setPropertyValue(n,e,"hidden")}),Z.CSS.setPropertyValue(n,"position",t.position),Z.CSS.setPropertyValue(n,"fontSize",t.fontSize),Z.CSS.setPropertyValue(n,"boxSizing","content-box"),X.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(a,e){Z.CSS.setPropertyValue(n,e,"100%")}),Z.CSS.setPropertyValue(n,"paddingLeft","100em"),i.percentToPxWidth=N.lastPercentToPxWidth=(parseFloat(m.getPropertyValue(n,"width",null,!0))||1)/100,i.percentToPxHeight=N.lastPercentToPxHeight=(parseFloat(m.getPropertyValue(n,"height",null,!0))||1)/100,i.emToPx=N.lastEmToPx=(parseFloat(m.getPropertyValue(n,"paddingLeft"))||1)/100,t.myParent.removeChild(n)}return null===N.remToPx&&(N.remToPx=parseFloat(m.getPropertyValue(C.body,"fontSize"))||16),null===N.vwToPx&&(N.vwToPx=parseFloat(k.innerWidth)/100,N.vhToPx=parseFloat(k.innerHeight)/100),i.remToPx=N.remToPx,i.vwToPx=N.vwToPx,i.vhToPx=N.vhToPx,1<=Z.debug&&console.log("Unit ratios: "+JSON.stringify(i),g),i}if(o.begin&&0==x)try{o.begin.call(u,u)}catch(e){setTimeout(function(){throw e},1)}if("scroll"===te){var s=/^x$/i.test(o.axis)?"Left":"Top",d=parseFloat(o.offset)||0,r,l,p;o.container?c.isWrapped(o.container)||c.isNode(o.container)?(o.container=o.container[0]||o.container,r=o.container["scroll"+s],p=r+X(g).position()[s.toLowerCase()]+d):o.container=null:(r=Z.State.scrollAnchor[Z.State["scrollProperty"+s]],l=Z.State.scrollAnchor[Z.State["scrollProperty"+("Left"===s?"Top":"Left")]],p=X(g).offset()[s.toLowerCase()]+d),e={scroll:{rootPropertyValue:!1,startValue:r,currentValue:r,endValue:p,unitType:"",easing:o.easing,scrollData:{container:o.container,direction:s,alternateValue:l}},element:g},Z.debug&&console.log("tweensContainer (scroll): ",e.scroll,g)}else if("reverse"===te){if(!J(g).tweensContainer)return void X.dequeue(g,o.queue);"none"===J(g).opts.display&&(J(g).opts.display="auto"),"hidden"===J(g).opts.visibility&&(J(g).opts.visibility="visible"),J(g).opts.loop=!1,J(g).opts.begin=null,J(g).opts.complete=null,h.easing||delete o.easing,h.duration||delete o.duration,o=X.extend({},J(g).opts,o);var v=X.extend(!0,{},J(g).tweensContainer);for(var A in v)if("element"!=A){var w=v[A].startValue;v[A].startValue=v[A].currentValue=v[A].endValue,v[A].endValue=w,c.isEmptyObject(h)||(v[A].easing=o.easing),Z.debug&&console.log("reverse tweensContainer ("+A+"): "+JSON.stringify(v[A]),g)}e=v}else if("start"===te){var v;for(var S in J(g).tweensContainer&&!0===J(g).isAnimating&&(v=J(g).tweensContainer),X.each(b,function(d,e){if(RegExp("^"+m.Lists.colors.join("$|^")+"$").test(d)){var t=a(e,!0),r=t[0],n=t[1],o=t[2];if(m.RegEx.isHex.test(r)){for(var i=["Red","Green","Blue"],s=m.Values.hexToRgb(r),l=o?m.Values.hexToRgb(o):U,p=0,u;p<i.length;p++)u=[s[p]],n&&u.push(n),l!==U&&u.push(l[p]),b[d+i[p]]=u;delete b[d]}}}),b){var j=a(b[S]),R=j[0],O=j[1],H=j[2];S=m.Names.camelCase(S);var F=m.Hooks.getRoot(S),I=!1;if(J(g).isSVG||"tween"===F||!1!==m.Names.prefixCheck(F)[1]||m.Normalizations.registered[F]!==U){(o.display!==U&&null!==o.display&&"none"!==o.display||o.visibility!==U&&"hidden"!==o.visibility)&&/opacity|filter/.test(S)&&!H&&0!==R&&(H=0),o._cacheValues&&v&&v[S]?(H===U&&(H=v[S].endValue+v[S].unitType),I=J(g).rootPropertyValueCache[F]):m.Hooks.registered[S]?H===U?(I=m.getPropertyValue(g,F),H=m.getPropertyValue(g,S,I)):I=m.Hooks.templates[F][1]:H===U&&(H=m.getPropertyValue(g,S));var V=!1,ae,ie,ne;if(ae=i(S,H),H=ae[0],ne=ae[1],ae=i(S,R),R=ae[0].replace(/^([+-\/*])=/,function(a,e){return V=e,""}),ie=ae[1],H=parseFloat(H)||0,R=parseFloat(R)||0,"%"===ie&&(/^(fontSize|lineHeight)$/.test(S)?(R/=100,ie="em"):/^scale/.test(S)?(R/=100,ie=""):/(Red|Green|Blue)$/i.test(S)&&(R=255*(R/100),ie="")),/[\/*]/.test(V))ie=ne;else if(ne!==ie&&0!==H)if(0===R)ie=ne;else{t=t||n();var se=/margin|padding|left|right|width|text|word|letter/i.test(S)||/X$/.test(S)||"x"===S?"x":"y";switch(ne){case"%":H*="x"===se?t.percentToPxWidth:t.percentToPxHeight;break;case"px":break;default:H*=t[ne+"ToPx"];}switch(ie){case"%":H*=1/("x"===se?t.percentToPxWidth:t.percentToPxHeight);break;case"px":break;default:H*=1/t[ie+"ToPx"];}}"+"===V?R=H+R:"-"===V?R=H-R:"*"===V?R=H*R:"/"===V?R=H/R:void 0,e[S]={rootPropertyValue:I,startValue:H,currentValue:H,endValue:R,unitType:ie,easing:O},Z.debug&&console.log("tweensContainer ("+S+"): "+JSON.stringify(e[S]),g)}else Z.debug&&console.log("Skipping ["+F+"] due to a lack of browser support.")}e.element=g}e.element&&(m.Values.addClass(g,"velocity-animating"),L.push(e),""===o.queue&&(J(g).tweensContainer=e,J(g).opts=o),J(g).isAnimating=!0,x==f-1?(Z.State.calls.push([L,u,o,null,ee.resolver]),!1===Z.State.isTicking&&(Z.State.isTicking=!0,K())):x++)}var g=this,o=X.extend({},Z.defaults,h),e={},t;switch(J(g)===U&&Z.init(g),parseFloat(o.delay)&&!1!==o.queue&&X.queue(g,o.queue,function(t){Z.velocityQueueEntryFlag=!0,J(g).delayTimer={setTimeout:setTimeout(t,parseFloat(o.delay)),next:t}}),o.duration.toString().toLowerCase()){case"fast":o.duration=200;break;case"normal":o.duration=400;break;case"slow":o.duration=600;break;default:o.duration=parseFloat(o.duration)||1;}!1!==Z.mock&&(!0===Z.mock?o.duration=o.delay=1:(o.duration*=parseFloat(Z.mock)||1,o.delay*=parseFloat(Z.mock)||1)),o.easing=D(o.easing,o.duration),o.begin&&!c.isFunction(o.begin)&&(o.begin=null),o.progress&&!c.isFunction(o.progress)&&(o.progress=null),o.complete&&!c.isFunction(o.complete)&&(o.complete=null),o.display!==U&&null!==o.display&&(o.display=o.display.toString().toLowerCase(),"auto"===o.display&&(o.display=Z.CSS.Values.getDisplayType(g))),o.visibility!==U&&null!==o.visibility&&(o.visibility=o.visibility.toString().toLowerCase()),o.mobileHA=o.mobileHA&&Z.State.isMobile&&!Z.State.isGingerbread,!1===o.queue?o.delay?setTimeout(a,o.delay):a():X.queue(g,o.queue,function(e,t){return!0===t?(ee.promise&&ee.resolver(u),!0):(Z.velocityQueueEntryFlag=!0,void a(e))}),""!==o.queue&&"fx"!==o.queue||"inprogress"===X.queue(g)[0]||X.dequeue(g)}var e=arguments[0]&&(arguments[0].p||X.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||c.isString(arguments[0].properties)),n,o,p,u,b,h;if(c.isWrapped(this)?(n=!1,p=0,u=this,o=this):(n=!0,p=1,u=e?arguments[0].elements||arguments[0].e:arguments[0]),u=a(u)){e?(b=arguments[0].properties||arguments[0].p,h=arguments[0].options||arguments[0].o):(b=arguments[p],h=arguments[p+1]);var f=u.length,x=0;if(!/^(stop|finish)$/i.test(b)&&!X.isPlainObject(h)){var w=p+1;h={};for(var S=w;S<arguments.length;S++)!c.isArray(arguments[S])&&(/^(fast|normal|slow)$/i.test(arguments[S])||/^\d/.test(arguments[S]))?h.duration=arguments[S]:c.isString(arguments[S])||c.isArray(arguments[S])?h.easing=arguments[S]:c.isFunction(arguments[S])&&(h.complete=arguments[S])}var ee={promise:null,resolver:null,rejecter:null};n&&Z.Promise&&(ee.promise=new Z.Promise(function(a,e){ee.resolver=a,ee.rejecter=e}));var te;switch(b){case"scroll":te="scroll";break;case"reverse":te="reverse";break;case"finish":case"stop":X.each(u,function(a,e){J(e)&&J(e).delayTimer&&(clearTimeout(J(e).delayTimer.setTimeout),J(e).delayTimer.next&&J(e).delayTimer.next(),delete J(e).delayTimer)});var M=[];return X.each(Z.State.calls,function(i,e){e&&X.each(e[1],function(t,s){var n=h===U?"":h;return!0!==n&&e[2].queue!==n&&(h!==U||!1!==e[2].queue)||void X.each(u,function(t,o){o===s&&((!0===h||c.isString(h))&&(X.each(X.queue(o,c.isString(h)?h:""),function(a,e){c.isFunction(e)&&e(null,!0)}),X.queue(o,c.isString(h)?h:"",[])),"stop"===b?(J(o)&&J(o).tweensContainer&&!1!==n&&X.each(J(o).tweensContainer,function(a,e){e.endValue=e.currentValue}),M.push(i)):"finish"===b&&(e[2].duration=1))})})}),"stop"===b&&(X.each(M,function(a,e){r(e,!0)}),ee.promise&&ee.resolver(u)),t();default:if(!X.isPlainObject(b)||c.isEmptyObject(b)){if(c.isString(b)&&Z.Redirects[b]){var I=X.extend({},h),Y=I.duration,E=I.delay||0;return!0===I.backwards&&(u=X.extend(!0,[],u).reverse()),X.each(u,function(a,e){parseFloat(I.stagger)?I.delay=E+parseFloat(I.stagger)*a:c.isFunction(I.stagger)&&(I.delay=E+I.stagger.call(e,a,f)),I.drag&&(I.duration=parseFloat(Y)||(/^(callout|transition)/.test(b)?1e3:400),I.duration=O(I.duration*(I.backwards?1-a/f:(a+1)/f),.75*I.duration,200)),Z.Redirects[b].call(e,e,I||{},a,f,u,ee.promise?ee:U)}),t()}var P="Velocity: First argument ("+b+") was not a property map, a known action, or a registered redirect. Aborting.";return ee.promise?ee.rejecter(new Error(P)):console.log(P),t()}te="start";}var N={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},L=[];X.each(u,function(a,e){c.isNode(e)&&i.call(e)});var I=X.extend({},Z.defaults,h),R;if(I.loop=parseInt(I.loop),R=2*I.loop-1,I.loop)for(var H=0,B;R>H;H++)B={delay:I.delay,progress:I.progress},H==R-1&&(B.display=I.display,B.visibility=I.visibility,B.complete=I.complete),l(u,"reverse",B);return t()}};Z=X.extend(l,Z),Z.animate=l;var p=k.requestAnimationFrame||t;return Z.State.isMobile||C.hidden===U||C.addEventListener("visibilitychange",function(){C.hidden?(p=function(t){return setTimeout(function(){t(!0)},16)},K()):p=k.requestAnimationFrame||t}),A.Velocity=Z,A!==k&&(A.fn.velocity=l,A.fn.velocity.defaults=Z.defaults),X.each(["Down","Up"],function(a,m){Z.Redirects["slide"+m]=function(g,e,t,a,n,i){var s=X.extend({},e),o=s.begin,r=s.complete,c={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},l={};s.display===U&&(s.display="Down"===m?"inline"===Z.CSS.Values.getDisplayType(g)?"inline-block":"block":"none"),s.begin=function(){for(var e in o&&o.call(n,n),c){l[e]=g.style[e];var t=Z.CSS.getPropertyValue(g,e);c[e]="Down"===m?[t,0]:[0,t]}l.overflow=g.style.overflow,g.style.overflow="hidden"},s.complete=function(){for(var e in l)g.style[e]=l[e];r&&r.call(n,n),i&&i.resolver(n)},Z(g,c,s)}}),X.each(["In","Out"],function(a,d){Z.Redirects["fade"+d]=function(t,e,a,n,o,i){var s=X.extend({},e),r={opacity:"In"===d?1:0},l=s.complete;s.complete=a===n-1?function(){l&&l.call(o,o),i&&i.resolver(o)}:s.begin=null,s.display===U&&(s.display="In"===d?"auto":"none"),Z(this,r,s)}}),Z}(window.jQuery||window.Zepto||window,window,document)}));!function(Y,F,a,J){"use strict";function K(e,t,a){return setTimeout(p(e,a),t)}function d(e,t,a){return!!Array.isArray(e)&&(l(e,a[t],a),!0)}function l(t,a,i){if(t)if(t.forEach)t.forEach(a,i);else if(t.length!==J)for(n=0;n<t.length;)a.call(i,t[n],n,t),n++;else for(var n in t)t.hasOwnProperty(n)&&a.call(i,t[n],n,t)}function m(t,a,i){for(var n=Object.keys(a),e=0;e<n.length;)(!i||i&&t[n[e]]===J)&&(t[n[e]]=a[n[e]]),e++;return t}function n(e,t){return m(e,t,!0)}function o(t,a,i){var n=a.prototype,s;s=t.prototype=Object.create(n),s.constructor=t,s._super=n,i&&m(s,i)}function p(e,t){return function(){return e.apply(t,arguments)}}function q(e,t){return typeof e==f?e.apply(t?t[0]||J:J,t):e}function r(e,t){return e===J?t:e}function s(e,t,a){l(w(t),function(t){e.addEventListener(t,a,!1)})}function t(e,t,a){l(w(t),function(t){e.removeEventListener(t,a,!1)})}function u(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function v(e,t){return-1<e.indexOf(t)}function w(e){return e.trim().split(/\s+/g)}function x(e,t,a){if(e.indexOf&&!a)return e.indexOf(t);for(var i=0;i<e.length;){if(a&&e[i][a]==t||!a&&e[i]===t)return i;i++}return-1}function X(e){return Array.prototype.slice.call(e,0)}function z(t,i,a){for(var n=[],s=[],e=0,o;e<t.length;)o=i?t[e][i]:t[e],0>x(s,o)&&n.push(t[e]),s[e]=o,e++;return a&&(n=i?n.sort(function(e,t){return e[i]>t[i]}):n.sort()),n}function A(e,t){for(var a=t[0].toUpperCase()+t.slice(1),i=0,n,s;i<je.length;){if(n=je[i],s=n?n+a:t,s in e)return s;i++}return J}function c(){return i++}function b(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function D(e,t){var a=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){q(e.options.enable,[e])&&a.handler(t)},this.init()}function B(e){var t=e.options.inputClass,a;return a=t?t:G?me:H?he:j?ve:pe,new a(e,Z)}function Z(t,a,i){var n=i.pointers.length,s=i.changedPointers.length,e=a&N&&0==n-s;i.isFirst=!!e,i.isFinal=!!(a&(P|Q)&&0==n-s),e&&(t.session={}),i.eventType=a,ee(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function ee(t,a){var n=t.session,s=a.pointers,o=s.length;n.firstInput||(n.firstInput=ie(a)),1<o&&!n.firstMultiple?n.firstMultiple=ie(a):1===o&&(n.firstMultiple=!1);var e=n.firstInput,d=n.firstMultiple,r=d?d.center:e.center,c=a.center=ne(s);a.timeStamp=$e(),a.deltaTime=a.timeStamp-e.timeStamp,a.angle=re(r,c),a.distance=de(r,c),te(n,a),a.offsetDirection=oe(a.deltaX,a.deltaY),a.scale=d?le(d.pointers,s):1,a.rotation=d?ce(d.pointers,s):0,ae(n,a);var i=t.element;u(a.srcEvent.target,i)&&(i=a.srcEvent.target),a.target=i}function te(t,a){var i=a.center,n=t.offsetDelta||{},s=t.prevDelta||{},o=t.prevInput||{};(a.eventType===N||o.eventType===P)&&(s=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),a.deltaX=s.x+(i.x-n.x),a.deltaY=s.y+(i.y-n.y)}function ae(t,a){var i=t.lastInterval||a,n=a.timeStamp-i.timeStamp,e,s,o,d;if(a.eventType!=Q&&(n>I||i.velocity===J)){var r=i.deltaX-a.deltaX,c=i.deltaY-a.deltaY,l=se(n,r,c);s=l.x,o=l.y,e=h(l.x)>h(l.y)?l.x:l.y,d=oe(r,c),t.lastInterval=a}else e=i.velocity,s=i.velocityX,o=i.velocityY,d=i.direction;a.velocity=e,a.velocityX=s,a.velocityY=o,a.direction=d}function ie(e){for(var t=[],a=0;a<e.pointers.length;)t[a]={clientX:g(e.pointers[a].clientX),clientY:g(e.pointers[a].clientY)},a++;return{timeStamp:$e(),pointers:t,center:ne(t),deltaX:e.deltaX,deltaY:e.deltaY}}function ne(t){var a=t.length;if(1===a)return{x:g(t[0].clientX),y:g(t[0].clientY)};for(var i=0,n=0,s=0;a>s;)i+=t[s].clientX,n+=t[s].clientY,s++;return{x:g(i/a),y:g(n/a)}}function se(e,t,a){return{x:t/e||0,y:a/e||0}}function oe(e,t){return e===t?R:h(e)>=h(t)?0<e?S:T:0<t?U:V}function de(t,a,i){i||(i=W);var n=a[i[0]]-t[i[0]],s=a[i[1]]-t[i[1]];return k(n*n+s*s)}function re(t,a,i){i||(i=W);var n=a[i[0]]-t[i[0]],s=a[i[1]]-t[i[1]];return 180*Math.atan2(s,n)/E}function ce(e,t){return re(t[1],t[0],Re)-re(e[1],e[0],Re)}function le(e,t){return de(t[0],t[1],Re)/de(e[0],e[1],Re)}function pe(){this.evEl=Pe,this.evWin=He,this.allow=!0,this.pressed=!1,D.apply(this,arguments)}function me(){this.evEl=Ve,this.evWin=Ue,D.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function ue(){this.evTarget=ze,this.evWin=We,this.started=!1,D.apply(this,arguments)}function ge(e,t){var a=X(e.touches),i=X(e.changedTouches);return t&(P|Q)&&(a=z(a.concat(i),"identifier",!0)),[a,i]}function he(){this.evTarget=Qe,this.targetIds={},D.apply(this,arguments)}function _e(t,a){var n=X(t.touches),s=this.targetIds;if(a&(N|O)&&1===n.length)return s[n[0].identifier]=!0,[n,n];var o=X(t.changedTouches),d=[],r=this.target,i,c;if(c=n.filter(function(e){return u(e.target,r)}),a===N)for(i=0;i<c.length;)s[c[i].identifier]=!0,i++;for(i=0;i<o.length;)s[o[i].identifier]&&d.push(o[i]),a&(P|Q)&&delete s[o[i].identifier],i++;return d.length?[z(c.concat(d),"identifier",!0),d]:void 0}function ve(){D.apply(this,arguments);var e=p(this.handler,this);this.touch=new he(this.manager,e),this.mouse=new pe(this.manager,e)}function fe(e,t){this.manager=e,this.set(t)}function be(e){if(v(e,et))return et;var t=v(e,tt),a=v(e,at);return t&&a?tt+" "+at:t||a?t?tt:at:v(e,Ze)?Ze:Xe}function ye(e){this.id=c(),this.manager=null,this.options=n(e||{},this.defaults),this.options.enable=r(this.options.enable,!0),this.state=it,this.simultaneous={},this.requireFail=[]}function Ae(e){return e&dt?"cancel":e&ot?"end":e&st?"move":e&nt?"start":""}function xe(e){return e==V?"down":e==U?"up":e==S?"left":e==T?"right":""}function we(e,t){var a=t.manager;return a?a.get(e):e}function ke(){ye.apply(this,arguments)}function Se(){ke.apply(this,arguments),this.pX=null,this.pY=null}function Ce(){ke.apply(this,arguments)}function Me(){ye.apply(this,arguments),this._timer=null,this._input=null}function Le(){ke.apply(this,arguments)}function Te(){ke.apply(this,arguments)}function Ee(){ye.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function De(e,t){return t=t||{},t.recognizers=r(t.recognizers,De.defaults.preset),new Ie(e,t)}function Ie(e,t){t=t||{},this.options=n(t,De.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=B(this),this.touchAction=new fe(this,this.options.touchAction),Ye(this,!0),l(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function Ye(e,t){var i=e.element;l(e.options.cssProps,function(e,a){i.style[A(i.style,a)]=t?e:""})}function Ne(e,t){var a=F.createEvent("Event");a.initEvent(e,!0,!0),a.gesture=t,t.target.dispatchEvent(a)}var je=["","webkit","moz","MS","ms","o"],e=F.createElement("div"),f="function",g=M,h=L,$e=Date.now,i=1,j=("ontouchstart"in Y),G=A(Y,"PointerEvent")!==J,H=j&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),I=25,N=1,O=2,P=4,Q=8,R=1,S=2,T=4,U=8,V=16,W=["x","y"],Re=["clientX","clientY"];D.prototype={handler:function(){},init:function(){this.evEl&&s(this.element,this.evEl,this.domHandler),this.evTarget&&s(this.target,this.evTarget,this.domHandler),this.evWin&&s(b(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&t(this.element,this.evEl,this.domHandler),this.evTarget&&t(this.target,this.evTarget,this.domHandler),this.evWin&&t(b(this.element),this.evWin,this.domHandler)}};var Oe={mousedown:1,mousemove:2,mouseup:4},Pe="mousedown",He="mousemove mouseup";o(pe,D,{handler:function(e){var t=Oe[e.type];t&1&&0===e.button&&(this.pressed=!0),t&2&&1!==e.which&&(t=4),this.pressed&&this.allow&&(t&4&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var Be={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Fe={2:"touch",3:"pen",4:"mouse",5:"kinect"},Ve="pointerdown",Ue="pointermove pointerup pointercancel";Y.MSPointerEvent&&(Ve="MSPointerDown",Ue="MSPointerMove MSPointerUp MSPointerCancel"),o(me,D,{handler:function(t){var a=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),s=Be[n],e=Fe[t.pointerType]||t.pointerType,o=x(a,t.pointerId,"pointerId");s&1&&(0===t.button||e=="touch")?0>o&&(a.push(t),o=a.length-1):s&12&&(i=!0),0>o||(a[o]=t,this.callback(this.manager,s,{pointers:a,changedPointers:[t],pointerType:e,srcEvent:t}),i&&a.splice(o,1))}});var qe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ze="touchstart",We="touchstart touchmove touchend touchcancel";o(ue,D,{handler:function(e){var t=qe[e.type];if(t===1&&(this.started=!0),this.started){var a=ge.call(this,e,t);t&12&&0==a[0].length-a[1].length&&(this.started=!1),this.callback(this.manager,t,{pointers:a[0],changedPointers:a[1],pointerType:"touch",srcEvent:e})}}});var Ge={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Qe="touchstart touchmove touchend touchcancel";o(he,D,{handler:function(e){var t=Ge[e.type],a=_e.call(this,e,t);a&&this.callback(this.manager,t,{pointers:a[0],changedPointers:a[1],pointerType:"touch",srcEvent:e})}}),o(ve,D,{handler:function(t,a,i){var n=i.pointerType=="touch",s=i.pointerType=="mouse";if(n)this.mouse.allow=!1;else if(s&&!this.mouse.allow)return;a&12&&(this.mouse.allow=!0),this.callback(t,a,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Je=A(e.style,"touchAction"),Ke=Je!==J,Xe="auto",Ze="manipulation",et="none",tt="pan-x",at="pan-y";fe.prototype={set:function(e){e=="compute"&&(e=this.compute()),Ke&&(this.manager.element.style[Je]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return l(this.manager.recognizers,function(t){q(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),be(e.join(" "))},preventDefaults:function(t){if(!Ke){var a=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return a.preventDefault(),void 0;var n=this.actions,s=v(n,"none"),e=v(n,"pan-y"),o=v(n,"pan-x");return s||e&&i&6||o&&i&24?this.preventSrc(a):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var it=1,nt=2,st=4,ot=8,dt=16;ye.prototype={defaults:{},set:function(e){return m(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(d(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=we(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return d(e,"dropRecognizeWith",this)?this:(e=we(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(d(e,"requireFailure",this))return this;var t=this.requireFail;return e=we(e,this),-1===x(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(d(e,"dropRequireFailure",this))return this;e=we(e,this);var t=x(this.requireFail,e);return-1<t&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){a.manager.emit(a.options.event+(t?Ae(i):""),e)}var a=this,i=this.state;8>i&&t(!0),t(),i>=8&&t(!0)},tryEmit:function(e){return this.canEmit()?this.emit(e):(this.state=32,void 0)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&33))return!1;e++}return!0},recognize:function(e){var t=m({},e);return q(this.options.enable,[this,t])?(this.state&56&&(this.state=1),this.state=this.process(t),this.state&30&&this.tryEmit(t),void 0):(this.reset(),this.state=32,void 0)},process:function(){},getTouchAction:function(){},reset:function(){}},o(ke,ye,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(t){var a=this.state,i=t.eventType,n=a&6,s=this.attrTest(t);return n&&(i&8||!s)?a|16:n||s?i&4?a|8:a&2?a|4:2:32}}),o(Se,ke,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return e&6&&t.push("pan-y"),e&24&&t.push("pan-x"),t},directionTest:function(t){var a=this.options,i=!0,n=t.distance,s=t.direction,o=t.deltaX,r=t.deltaY;return s&a.direction||(a.direction&6?(s=0===o?1:0>o?2:4,i=o!=this.pX,n=L(t.deltaX)):(s=0===r?1:0>r?8:16,i=r!=this.pY,n=L(t.deltaY))),t.direction=s,i&&n>a.threshold&&s&a.direction},attrTest:function(e){return ke.prototype.attrTest.call(this,e)&&(this.state&2||!(this.state&2)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=xe(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),o(Ce,ke,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(L(e.scale-1)>this.options.threshold||this.state&2)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=1>e.scale?"in":"out";this.manager.emit(this.options.event+t,e)}}}),o(Me,ye,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return["auto"]},process:function(t){var a=this.options,i=t.pointers.length===a.pointers,n=t.distance<a.threshold,s=t.deltaTime>a.time;if(this._input=t,!n||!i||t.eventType&12&&!s)this.reset();else if(t.eventType&1)this.reset(),this._timer=K(function(){this.state=8,this.tryEmit()},a.time,this);else if(t.eventType&4)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===8&&(e&&e.eventType&4?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=$e(),this.manager.emit(this.options.event,this._input)))}}),o(Le,ke,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(L(e.rotation)>this.options.threshold||this.state&2)}}),o(Te,ke,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:30,pointers:1},getTouchAction:function(){return Se.prototype.getTouchAction.call(this)},attrTest:function(e){var t=this.options.direction,a;return t&30?a=e.velocity:t&6?a=e.velocityX:t&24&&(a=e.velocityY),this._super.attrTest.call(this,e)&&t&e.direction&&e.distance>this.options.threshold&&h(a)>this.options.velocity&&e.eventType&4},emit:function(e){var t=xe(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),o(Ee,ye,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var a=this.options,i=t.pointers.length===a.pointers,n=t.distance<a.threshold,s=t.deltaTime<a.time;if(this.reset(),t.eventType&1&&0===this.count)return this.failTimeout();if(n&&s&&i){if(4!=t.eventType)return this.failTimeout();var e=!this.pTime||t.timeStamp-this.pTime<a.interval,o=!this.pCenter||de(this.pCenter,t.center)<a.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,o&&e?this.count+=1:this.count=1,this._input=t;var d=this.count%a.taps;if(0==d)return this.hasRequireFailures()?(this._timer=K(function(){this.state=8,this.tryEmit()},a.interval,this),2):8}return 32},failTimeout:function(){return this._timer=K(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==8&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),De.VERSION="2.0.4",De.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Le,{enable:!1}],[Ce,{enable:!1},["rotate"]],[Te,{direction:6}],[Se,{direction:6},["swipe"]],[Ee],[Ee,{event:"doubletap",taps:2},["tap"]],[Me]],cssProps:{userSelect:"default",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};Ie.prototype={set:function(e){return m(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(t){var a=this.session;if(!a.stopped){this.touchAction.preventDefaults(t);var i=this.recognizers,n=a.curRecognizer,s;(!n||n&&n.state&8)&&(n=a.curRecognizer=null);for(var o=0;o<i.length;)s=i[o],a.stopped===2||n&&s!=n&&!s.canRecognizeWith(n)?s.reset():s.recognize(t),!n&&s.state&14&&(n=a.curRecognizer=s),o++}},get:function(e){if(e instanceof ye)return e;for(var t=this.recognizers,a=0;a<t.length;a++)if(t[a].options.event==e)return t[a];return null},add:function(e){if(d(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(d(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(x(t,e),1),this.touchAction.update(),this},on:function(e,t){var i=this.handlers;return l(w(e),function(e){i[e]=i[e]||[],i[e].push(t)}),this},off:function(e,t){var i=this.handlers;return l(w(e),function(e){t?i[e].splice(x(i[e],t),1):delete i[e]}),this},emit:function(e,t){this.options.domEvents&&Ne(e,t);var a=this.handlers[e]&&this.handlers[e].slice();if(a&&a.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<a.length;)a[i](t),i++}},destroy:function(){this.element&&Ye(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},m(De,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ie,Input:D,TouchAction:fe,TouchInput:he,MouseInput:pe,PointerEventInput:me,TouchMouseInput:ve,SingleTouchInput:ue,Recognizer:ye,AttrRecognizer:ke,Tap:Ee,Pan:Se,Swipe:Te,Pinch:Ce,Rotate:Le,Press:Me,on:s,off:t,each:l,merge:n,extend:m,inherit:o,bindFn:p,prefixed:A}),typeof define=="function"&&define.amd?define("materialize_anonymous_module_3",[],function(){return De}):"undefined"!=typeof module&&module.exports?module.exports=De:Y[a]=De}(window,document,"Hammer");(function(e){"function"==typeof define&&define.amd?define("materialize_anonymous_module_1",["jquery","hammerjs"],e):"object"==typeof exports?e(h,v):e(h,v)})(function(e,t){function a(a,i){var n=e(a);n.data("hammer")||n.data("hammer",new t(n[0],i))}e.fn.hammer=function(e){return this.each(function(){a(this,e)})},t.Manager.prototype.emit=function(t){return function(a,i){t.call(this,a,i),e(this.element).trigger({type:a,gesture:i})}}(t.Manager.prototype.emit)});(function(e){e.Package?Materialize={}:e.Materialize={}})(window),Materialize.guid=function(){function e(){return I(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}(),Materialize.elementOrParentIsFixed=function(e){var t=$(e),a=t.add(t.parents()),i=!1;return a.each(function(){if("fixed"===$(this).css("position"))return i=!0,!1}),i};var P=$?$.Velocity:h?h.Velocity:Velocity;(function(t){t.fn.collapsible=function(a){return a=t.extend({accordion:void 0},a),this.each(function(){function i(e){r=d.find("> li > .collapsible-header"),e.hasClass("active")?e.parent().addClass("active"):e.parent().removeClass("active"),e.parent().hasClass("active")?e.siblings(".collapsible-body").stop(!0,!1).slideDown({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}}):e.siblings(".collapsible-body").stop(!0,!1).slideUp({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}}),r.not(e).removeClass("active").parent().removeClass("active"),r.not(e).parent().children(".collapsible-body").stop(!0,!1).slideUp({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}})}function n(e){e.hasClass("active")?e.parent().addClass("active"):e.parent().removeClass("active"),e.parent().hasClass("active")?e.siblings(".collapsible-body").stop(!0,!1).slideDown({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}}):e.siblings(".collapsible-body").stop(!0,!1).slideUp({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}})}function s(e){var t=o(e);return 0<t.length}function o(e){return e.closest("li > .collapsible-header")}var d=t(this),r=t(this).find("> li > .collapsible-header"),c=d.data("collapsible");d.off("click.collapse","> li > .collapsible-header"),r.off("click.collapse"),d.on("click.collapse","> li > .collapsible-header",function(d){var e=t(this),r=t(d.target);s(r)&&(r=o(r)),r.toggleClass("active"),a.accordion||"accordion"===c||void 0===c?i(r):(n(r),e.hasClass("active")&&n(e))});var r=d.find("> li > .collapsible-header");a.accordion||"accordion"===c||void 0===c?i(r.filter(".active").first()):r.filter(".active").each(function(){n(t(this))})})},t(document).ready(function(){t(".collapsible").collapsible()})})(h);(function(t){t.fn.scrollTo=function(e){return t(this).scrollTop(t(this).scrollTop()-t(this).offset().top+t(e).offset().top),this},t.fn.dropdown=function(e){var a={inDuration:300,outDuration:225,constrain_width:!0,hover:!1,gutter:0,belowOrigin:!1,closeOnClick:!0,alignment:"left"};this.each(function(){function i(){void 0!==o.data("induration")&&(d.inDuration=o.data("inDuration")),void 0!==o.data("outduration")&&(d.outDuration=o.data("outDuration")),void 0!==o.data("constrainwidth")&&(d.constrain_width=o.data("constrainwidth")),void 0!==o.data("hover")&&(d.hover=o.data("hover")),void 0!==o.data("gutter")&&(d.gutter=o.data("gutter")),void 0!==o.data("beloworigin")&&(d.belowOrigin=o.data("beloworigin")),void 0!==o.data("closeOnClick")&&(d.closeOnClick=o.data("closeOnClick")),void 0!==o.data("alignment")&&(d.alignment=o.data("alignment"))}function n(e){"focus"===e&&(r=!0),i(),c.addClass("active"),o.addClass("active"),!0===d.constrain_width?c.css("width",o.outerWidth()):c.css("white-space","nowrap");var a=d.container?d.container.clientHeight:window.innerHeight,n=o.innerHeight(),s=o.offset().left,l=d.container?t(d.container).offset().top:t(window).scrollTop(),p=o.offset().top-l,m=d.alignment,u=0,g=0,h=0;!0===d.belowOrigin&&(h=n);var v=0,f=o.parent();if(!f.is("body")&&f[0].scrollHeight>f[0].clientHeight&&(v=f[0].scrollTop),s+c.innerWidth()>t(window).width()?m="right":0>s-c.innerWidth()+o.innerWidth()&&(m="left"),p+c.innerHeight()>a)if(0>p+n-c.innerHeight()){var b=a-p-h;c.css("max-height",b)}else h||(h+=n),h-=c.innerHeight();if("left"===m)u=d.gutter,g=o.position().left+u;else if("right"===m){var A=o.position().left+o.outerWidth()-c.outerWidth();u=-d.gutter,g=A+u}c.css({position:"absolute",top:o.position().top+h+v,left:g}),c.stop(!0,!0).css("opacity",0).slideDown({queue:!1,duration:d.inDuration,easing:"easeOutCubic",complete:function(){t(this).css("height",""),o.trigger("change_state",!0)}}).animate({opacity:1},{queue:!1,duration:d.inDuration,easing:"easeOutSine"})}function s(){r=!1,c.fadeOut(d.outDuration),c.removeClass("active"),o.removeClass("active"),setTimeout(function(){c.css("max-height",""),o.trigger("change_state",!1)},d.outDuration)}var o=t(this),d=t.extend({},a,e),r=!1,c=t("#"+o.attr("data-activates"));if(i(),o.after(c),d.hover){var l=!1;o.unbind("click."+o.attr("id")),o.on("mouseenter",function(){!1===l&&(n(),l=!0)}),o.on("mouseleave",function(a){var e=a.toElement||a.relatedTarget;t(e).closest(".dropdown-content").is(c)||(c.stop(!0,!0),s(),l=!1)}),c.on("mouseleave",function(a){var e=a.toElement||a.relatedTarget;t(e).closest(".dropdown-button").is(o)||(c.stop(!0,!0),s(),l=!1)})}else o.unbind("click."+o.attr("id")),o.bind("click."+o.attr("id"),function(a){r||(o[0]!=a.currentTarget||o.hasClass("active")||0!==t(a.target).closest(".dropdown-content").length?o.hasClass("active")&&(s(),t(document).unbind("click."+c.attr("id")+" touchstart."+c.attr("id"))):(a.preventDefault(),n("click")),c.hasClass("active")&&t(document).bind("click."+c.attr("id")+" touchstart."+c.attr("id"),function(a){c.is(a.target)||o.is(a.target)||o.find(a.target).length||(s(),t(document).unbind("click."+c.attr("id")+" touchstart."+c.attr("id")))}))});o.on("open",function(t,e){n(e)}),o.on("close",s)})},t(document).ready(function(){t(".dropdown-button").dropdown()})})(h);(function(t){var e=0,a=0,i=function(){return a++,"materialize-lean-overlay-"+a};Materialize.modalSettings={open:{},close:{}},t.fn.extend({openModal:function(a){var n=t("body"),s=n.innerWidth(),o=t.extend({opacity:.5,in_duration:350,out_duration:250,ready:void 0,complete:void 0,dismissible:!0,starting_top:"4%"},Materialize.modalSettings.open),d=t(this);d.hasClass("open")||(overlayID=i(),$overlay=t("<div class=\"lean-overlay\"></div>"),lStack=++e,$overlay.attr("id",overlayID).css("z-index",1e3+2*lStack),d.data("overlay-id",overlayID).css("z-index",1e3+2*lStack+1),d.addClass("open"),t("body").append($overlay),a=t.extend(o,a),a.dismissible&&($overlay.click(function(){d.closeModal(a)}),t(document).on("keyup.leanModal"+overlayID,function(t){27===t.keyCode&&(d.closeModal(a),t.preventDefault())})),d.find(".modal-close").on("click.close",function(){d.closeModal(a)}),$overlay.css({display:"block",opacity:0}),d.css({display:"block",opacity:0}),$overlay.velocity({opacity:a.opacity/lStack},{duration:a.in_duration,queue:!1,ease:"easeOutCubic"}),d.data("associated-overlay",$overlay[0]),d.hasClass("bottom-sheet")?d.velocity({bottom:"0",opacity:1},{duration:a.in_duration,queue:!1,ease:"easeOutCubic",complete:function(){"function"==typeof a.ready&&a.ready()}}):(t.Velocity.hook(d,"scaleX",.7),d.css({top:a.starting_top}),d.velocity({top:"10%",opacity:1,scaleX:"1"},{duration:a.in_duration,queue:!1,ease:"easeOutCubic",complete:function(){"function"==typeof a.ready&&a.ready()}})),d.find(".dialog-options-wrap input:visible").focus())}}),t.fn.extend({closeModal:function(a){var i=t.extend({out_duration:250,complete:void 0},Materialize.modalSettings.close),n=t(this),s=n.data("overlay-id"),o=t("#"+s);return n.hasClass("open")?void(n.removeClass("open"),a=t.extend(i,a),n.find(".modal-close").off("click.close"),t(document).off("keyup.leanModal"+s),o.velocity({opacity:0},{duration:a.out_duration,queue:!1,ease:"easeOutQuart"}),n.hasClass("bottom-sheet")?n.velocity({bottom:"-100%",opacity:0},{duration:a.out_duration,queue:!1,ease:"easeOutCubic",complete:function(){o.css({display:"none"}),e--,o.remove(),"function"==typeof a.complete&&a.complete()}}):n.velocity({top:a.starting_top,opacity:0,scaleX:.7},{duration:a.out_duration,complete:function(){t(this).css("display","none"),e--,o.remove(),"function"==typeof a.complete&&a.complete()}})):void("function"==typeof a.complete&&a.complete())}}),t.fn.extend({leanModal:function(e){return this.each(function(){var a=t.extend({starting_top:"4%"},e);t(this).click(function(i){a.starting_top=(t(this).offset().top-t(window).scrollTop())/1.15;var e=t(this).attr("href")||"#"+t(this).data("target");t(e).openModal(a),i.preventDefault()})})}})})(h);(function(e){e.fn.materialbox=function(){return this.each(function(){function t(){i=!1;var t=s.parent(".material-placeholder"),n=window.innerWidth,o=window.innerHeight,r=s.data("width"),c=s.data("height");s.velocity("stop",!0),e("#materialbox-overlay").velocity("stop",!0),e(".materialbox-caption").velocity("stop",!0),e("#materialbox-overlay").velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){a=!1,e(this).remove()}}),s.velocity({width:0,height:0,left:0,top:0},{duration:200,queue:!1,easing:"easeOutQuad"}),e(".materialbox-caption").velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){t.css({height:"",width:"",position:"",top:"",left:""}),s.css({height:"",top:"",left:"",width:"","max-width":"",position:"","z-index":""}),s.removeClass("active"),i=!0,e(this).remove(),d&&d.css("overflow","")}})}if(!e(this).hasClass("initialized")){e(this).addClass("initialized");var a=!1,i=!0,n=275,s=e(this),o=e("<div></div>").addClass("material-placeholder"),d,r;s.wrap(o),s.on("click",function(){var o=s.parent(".material-placeholder"),c=window.innerWidth,l=window.innerHeight,p=s.width(),m=s.height();if(!1===i)return t(),!1;if(a&&!0===i)return t(),!1;i=!1,s.addClass("active"),a=!0,o.css({width:o[0].getBoundingClientRect().width,height:o[0].getBoundingClientRect().height,position:"relative",top:0,left:0}),d=void 0,r=o[0].parentNode;for(var u;null!==r&&!e(r).is(document);)u=e(r),"visible"!==u.css("overflow")&&(u.css("overflow","visible"),d=void 0===d?u:d.add(u)),r=r.parentNode;s.css({position:"absolute","z-index":1e3}).data("width",p).data("height",m);var g=e("<div id=\"materialbox-overlay\"></div>").css({opacity:0}).click(function(){!0===i&&t()});if(s.before(g),g.velocity({opacity:1},{duration:n,queue:!1,easing:"easeOutQuad"}),""!==s.data("caption")){var h=e("<div class=\"materialbox-caption\"></div>");h.text(s.data("caption")),e("body").append(h),h.css({display:"inline"}),h.velocity({opacity:1},{duration:n,queue:!1,easing:"easeOutQuad"})}var v=0,f=0,b=0;p/c>m/l?(v=m/p,f=.9*c,b=.9*c*v):(v=p/m,f=.9*l*v,b=.9*l),s.hasClass("responsive-img")?s.velocity({"max-width":f,width:p},{duration:0,queue:!1,complete:function(){s.css({left:0,top:0}).velocity({height:b,width:f,left:e(document).scrollLeft()+c/2-s.parent(".material-placeholder").offset().left-f/2,top:e(document).scrollTop()+l/2-s.parent(".material-placeholder").offset().top-b/2},{duration:n,queue:!1,easing:"easeOutQuad",complete:function(){i=!0}})}}):s.css("left",0).css("top",0).velocity({height:b,width:f,left:e(document).scrollLeft()+c/2-s.parent(".material-placeholder").offset().left-f/2,top:e(document).scrollTop()+l/2-s.parent(".material-placeholder").offset().top-b/2},{duration:n,queue:!1,easing:"easeOutQuad",complete:function(){i=!0}})}),e(window).scroll(function(){a&&t()}),e(document).keyup(function(n){27===n.keyCode&&!0===i&&a&&t()})}})},e(document).ready(function(){e(".materialboxed").materialbox()})})(h);(function(e){e.fn.parallax=function(){var t=e(window).width();return this.each(function(){function a(a){var n=601>t?0<i.height()?i.height():i.children("img").height():0<i.height()?i.height():500;var s=i.children("img").first(),o=s.height(),d=o-n,r=i.offset().top+n,c=i.offset().top,l=e(window).scrollTop(),p=window.innerHeight,m=(l+p-c)/(n+p),u=M(d*m);a&&s.css("display","block"),r>l&&c<l+p&&s.css("transform","translate3D(-50%,"+u+"px, 0)")}var i=e(this);i.addClass("parallax"),i.children("img").one("load",function(){a(!0)}).each(function(){this.complete&&e(this).load()}),e(window).scroll(function(){t=e(window).width(),a(!1)}),e(window).resize(function(){t=e(window).width(),a(!1)})})}})(h);(function(t){var e={init:function(){return this.each(function(){var a=t(this),i=t(window).width();a.width("100%");var n=a.find("li.tab a"),s=a.width(),o=O(s,a[0].scrollWidth)/n.length,d=0,r,c;r=t(n.filter("[href=\""+location.hash+"\"]")),0===r.length&&(r=t(this).find("li.tab a.active").first()),0===r.length&&(r=t(this).find("li.tab a").first()),r.addClass("active"),d=n.index(r),0>d&&(d=0),r[0]!==void 0&&(c=t(r[0].hash)),a.append("<div class=\"indicator\"></div>");var l=a.find(".indicator");a.is(":visible")&&(l.css({right:s-(d+1)*o}),l.css({left:d*o})),t(window).resize(function(){s=a.width(),o=O(s,a[0].scrollWidth)/n.length,0>d&&(d=0),0!==o&&0!==s&&(l.css({right:s-(d+1)*o}),l.css({left:d*o}))}),n.not(r).each(function(){t(this.hash).hide()}),a.on("click","a",function(i){if(t(this).parent().hasClass("disabled"))return void i.preventDefault();s=a.width(),o=O(s,a[0].scrollWidth)/n.length,r.removeClass("active"),c!==void 0&&c.hide(),r=t(this),c=t(this.hash),n=a.find("li.tab a"),r.addClass("active");var e=d;d=n.index(t(this)),0>d&&(d=0),c!==void 0&&c.show(),0<=d-e?(l.velocity({right:s-(d+1)*o},{duration:300,queue:!1,easing:"easeOutQuad"}),l.velocity({left:d*o},{duration:300,queue:!1,easing:"easeOutQuad",delay:90})):(l.velocity({left:d*o},{duration:300,queue:!1,easing:"easeOutQuad"}),l.velocity({right:s-(d+1)*o},{duration:300,queue:!1,easing:"easeOutQuad",delay:90})),i.preventDefault()})})},select_tab:function(e){this.find("a[href=\"#"+e+"\"]").trigger("click")}};t.fn.tabs=function(a){if(e[a])return e[a].apply(this,Array.prototype.slice.call(arguments,1));return"object"!=typeof a&&a?void t.error("Method "+a+" does not exist on jQuery.tooltip"):e.init.apply(this,arguments)},t(document).ready(function(){t("ul.tabs").tabs()})})(h);(function(e){e.fn.tooltip=function(a){return"remove"===a?(this.each(function(){e("#"+e(this).attr("data-tooltip-id")).remove(),e(this).off("mouseenter.tooltip mouseleave.tooltip")}),!1):(a=e.extend({delay:350},a),this.each(function(){var i=Materialize.guid(),n=e(this);n.attr("data-tooltip-id",i);var s=e("<span></span>").text(n.attr("data-tooltip")),o=e("<div></div>");o.addClass("material-tooltip").append(s).appendTo(e("body")).attr("id",i);var d=e("<div></div>").addClass("backdrop");d.appendTo(o),d.css({top:0,left:0}),n.off("mouseenter.tooltip mouseleave.tooltip");var r=!1,c;n.on({"mouseenter.tooltip":function(){var e=n.attr("data-delay");e=void 0===e||""===e?a.delay:e,c=setTimeout(function(){r=!0,o.velocity("stop"),d.velocity("stop"),o.css({display:"block",left:"0px",top:"0px"}),o.children("span").text(n.attr("data-tooltip"));var e=n.outerWidth(),a=n.outerHeight(),i=n.attr("data-position"),s=o.outerHeight(),c=o.outerWidth(),l="0px",p="0px",m=8,u,g,h;"top"===i?(u=n.offset().top-s-5,g=n.offset().left+e/2-c/2,h=t(g,u,c,s),l="-10px",d.css({borderRadius:"14px 14px 0 0",transformOrigin:"50% 90%",marginTop:s,marginLeft:c/2-d.width()/2})):"left"===i?(u=n.offset().top+a/2-s/2,g=n.offset().left-c-5,h=t(g,u,c,s),p="-10px",d.css({width:"14px",height:"14px",borderRadius:"14px 0 0 14px",transformOrigin:"95% 50%",marginTop:s/2,marginLeft:c})):"right"===i?(u=n.offset().top+a/2-s/2,g=n.offset().left+e+5,h=t(g,u,c,s),p="+10px",d.css({width:"14px",height:"14px",borderRadius:"0 14px 14px 0",transformOrigin:"5% 50%",marginTop:s/2,marginLeft:"0px"})):(u=n.offset().top+n.outerHeight()+5,g=n.offset().left+e/2-c/2,h=t(g,u,c,s),l="+10px",d.css({marginLeft:c/2-d.width()/2})),o.css({top:h.y,left:h.x}),m=c/8,8>m&&(m=8),("right"===i||"left"===i)&&(m=c/10,6>m&&(m=6)),o.velocity({marginTop:l,marginLeft:p},{duration:350,queue:!1}).velocity({opacity:1},{duration:300,delay:50,queue:!1}),d.css({display:"block"}).velocity({opacity:1},{duration:55,delay:0,queue:!1}).velocity({scale:m},{duration:300,delay:0,queue:!1,easing:"easeInOutQuad"})},e)},"mouseleave.tooltip":function(){r=!1,clearTimeout(c),setTimeout(function(){!0!=r&&(o.velocity({opacity:0,marginTop:0,marginLeft:0},{duration:225,queue:!1}),d.velocity({opacity:0,scale:1},{duration:225,queue:!1,complete:function(){d.css("display","none"),o.css("display","none"),r=!1}}))},225)}})}))};var t=function(t,a,i,n){var s=t,o=a;return 0>s?s=4:s+i>window.innerWidth&&(s-=s+i-window.innerWidth),0>o?o=4:o+n>(options.container?options.container.clientHeight:window.innerHeight)+e(window).scrollTop&&(o-=o+n-(options.container?options.container.clientHeight:window.innerHeight)),{x:s,y:o}};e(document).ready(function(){e(".tooltipped").tooltip()})})(h);(function(t){'use strict';function a(e){return null!==e&&e===e.window}function i(e){return a(e)?e:9===e.nodeType&&e.defaultView}function n(e){var t={top:0,left:0},a=e&&e.ownerDocument,n,s;return n=a.documentElement,"undefined"!=typeof e.getBoundingClientRect&&(t=e.getBoundingClientRect()),s=i(a),{top:t.top+s.pageYOffset-n.clientTop,left:t.left+s.pageXOffset-n.clientLeft}}function s(e){var t="";for(var i in e)e.hasOwnProperty(i)&&(t+=i+":"+e[i]+";");return t}function o(t){if(!1===p.allowEvent(t))return null;for(var e=null,a=t.target||t.srcElement;null!==a.parentElement;){if(!(a instanceof SVGElement)&&-1!==a.className.indexOf("waves-effect")){e=a;break}else if(a.classList.contains("waves-effect")){e=a;break}a=a.parentElement}return e}function d(a){var e=o(a);null!==e&&(l.show(a,e),"ontouchstart"in t&&(e.addEventListener("touchend",l.hide,!1),e.addEventListener("touchcancel",l.hide,!1)),e.addEventListener("mouseup",l.hide,!1),e.addEventListener("mouseleave",l.hide,!1))}var r=r||{},c=document.querySelectorAll.bind(document),l={duration:750,show:function(t,e){if(2===t.button)return!1;var a=e||this,i=document.createElement("div");i.className="waves-ripple",a.appendChild(i);var o=n(a),d=t.pageY-o.top,r=t.pageX-o.left,c="scale("+10*(a.clientWidth/100)+")";"touches"in t&&(d=t.touches[0].pageY-o.top,r=t.touches[0].pageX-o.left),i.setAttribute("data-hold",Date.now()),i.setAttribute("data-scale",c),i.setAttribute("data-x",r),i.setAttribute("data-y",d);var p={top:d+"px",left:r+"px"};i.className+=" waves-notransition",i.setAttribute("style",s(p)),i.className=i.className.replace("waves-notransition",""),p["-webkit-transform"]=c,p["-moz-transform"]=c,p["-ms-transform"]=c,p["-o-transform"]=c,p.transform=c,p.opacity="1",p["-webkit-transition-duration"]=l.duration+"ms",p["-moz-transition-duration"]=l.duration+"ms",p["-o-transition-duration"]=l.duration+"ms",p["transition-duration"]=l.duration+"ms",p["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",p["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",p["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",p["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",i.setAttribute("style",s(p))},hide:function(t){p.touchup(t);var e=this,a=1.4*e.clientWidth,i=null,n=e.getElementsByClassName("waves-ripple");if(0<n.length)i=n[n.length-1];else return!1;var o=i.getAttribute("data-x"),d=i.getAttribute("data-y"),r=i.getAttribute("data-scale"),c=Date.now()-+i.getAttribute("data-hold"),m=350-c;0>m&&(m=0),setTimeout(function(){var t={top:d+"px",left:o+"px",opacity:"0","-webkit-transition-duration":l.duration+"ms","-moz-transition-duration":l.duration+"ms","-o-transition-duration":l.duration+"ms","transition-duration":l.duration+"ms","-webkit-transform":r,"-moz-transform":r,"-ms-transform":r,"-o-transform":r,transform:r};i.setAttribute("style",s(t)),setTimeout(function(){try{e.removeChild(i)}catch(t){return!1}},l.duration)},m)},wrapInput:function(e){for(var t=0,i;t<e.length;t++)if(i=e[t],"input"===i.tagName.toLowerCase()){var n=i.parentNode;if("i"===n.tagName.toLowerCase()&&-1!==n.className.indexOf("waves-effect"))continue;var s=document.createElement("i");s.className=i.className+" waves-input-wrapper";var o=i.getAttribute("style");o||(o=""),s.setAttribute("style",o),i.className="waves-button-input",i.removeAttribute("style"),n.replaceChild(s,i),s.appendChild(i)}}},p={touches:0,allowEvent:function(t){var e=!0;return"touchstart"===t.type?p.touches+=1:"touchend"===t.type||"touchcancel"===t.type?setTimeout(function(){0<p.touches&&(p.touches-=1)},500):"mousedown"===t.type&&0<p.touches&&(e=!1),e},touchup:function(t){p.allowEvent(t)}};r.displayEffect=function(e){e=e||{},"duration"in e&&(l.duration=e.duration),l.wrapInput(c(".waves-effect")),"ontouchstart"in t&&document.body.addEventListener("touchstart",d,!1),document.body.addEventListener("mousedown",d,!1)},r.attach=function(e){"input"===e.tagName.toLowerCase()&&(l.wrapInput([e]),e=e.parentElement),"ontouchstart"in t&&e.addEventListener("touchstart",d,!1),e.addEventListener("mousedown",d,!1)},t.Waves=r,document.addEventListener("DOMContentLoaded",function(){r.displayEffect()},!1)})(window);Materialize.toast=function(e,t,a,i){function n(e){var t=document.createElement("div");if(t.classList.add("toast"),a)for(var n=a.split(" "),s=0,o=n.length;s<o;s++)t.classList.add(n[s]);("object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)?t.appendChild(e):e instanceof h?t.appendChild(e[0]):t.innerHTML=e;var d=new v(t,{prevent_default:!1});return d.on("pan",function(a){var e=a.deltaX;t.classList.contains("panning")||t.classList.add("panning");var i=1-L(e/80);0>i&&(i=0),P(t,{left:e,opacity:i},{duration:50,queue:!1,easing:"easeOutQuad"})}),d.on("panend",function(a){var e=a.deltaX;L(e)>80?P(t,{marginTop:"-40px"},{duration:375,easing:"easeOutExpo",queue:!1,complete:function(){"function"==typeof i&&i(),t.parentNode.removeChild(t)}}):(t.classList.remove("panning"),P(t,{left:0,opacity:1},{duration:300,easing:"easeOutExpo",queue:!1}))}),t}a=a||"";var s=document.getElementById("toast-container");null===s&&(s=document.createElement("div"),s.id="toast-container",document.body.appendChild(s));var o=n(e);e&&s.appendChild(o),o.style.top="35px",o.style.opacity=0,P(o,{top:"0px",opacity:1},{duration:300,easing:"easeOutCubic",queue:!1});var d=t,r=setInterval(function(){null===o.parentNode&&window.clearInterval(r),o.classList.contains("panning")||(d-=20),0>=d&&(P(o,{opacity:0,marginTop:"-40px"},{duration:375,easing:"easeOutExpo",queue:!1,complete:function(){"function"==typeof i&&i(),this[0].parentNode.removeChild(this[0])}}),window.clearInterval(r))},20)};(function(t){var e={init:function(a){a=t.extend({menuWidth:240,edge:"left",closeOnClick:!1},a),t(this).each(function(){function e(e){o=!1,d=!1,t("#sidenav-overlay").velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){t(this).remove()}}),"left"===a.edge?(s.css({width:"",right:"",left:"0"}),n.velocity({translateX:"-100%"},{duration:200,queue:!1,easing:"easeOutCubic",complete:function(){!0===e&&(n.removeAttr("style"),n.css("width",a.menuWidth))}})):(s.css({width:"",right:"0",left:""}),n.velocity({translateX:"100%"},{duration:200,queue:!1,easing:"easeOutCubic",complete:function(){!0===e&&(n.removeAttr("style"),n.css("width",a.menuWidth))}}))}var i=t(this),n=t("#"+i.attr("data-activates"));240!=a.menuWidth&&n.css("width",a.menuWidth);var s=t("<div class=\"drag-target\"></div>");t("body").append(s),"left"==a.edge?(n.css("transform","translateX(-100%)"),s.css({left:0})):(n.addClass("right-aligned").css("transform","translateX(100%)"),s.css({right:0})),n.hasClass("fixed")&&992<window.innerWidth&&n.css("transform","translateX(0)"),n.hasClass("fixed")&&t(window).resize(function(){992<window.innerWidth?0!=t("#sidenav-overlay").length&&d?e(!0):n.css("transform","translateX(0%)"):!1===d&&("left"===a.edge?n.css("transform","translateX(-100%)"):n.css("transform","translateX(100%)"))}),!0===a.closeOnClick&&n.on("click.itemclick","a:not(.collapsible-header)",function(){e()});var o=!1,d=!1;s.on("click",function(){e()}),s.hammer({prevent_default:!1}).bind("pan",function(i){if("touch"==i.gesture.pointerType){var s=i.gesture.direction,o=i.gesture.center.x,r=i.gesture.center.y,c=i.gesture.velocityX,l=t("body"),p=l.innerWidth();if(0===t("#sidenav-overlay").length){var m=t("<div id=\"sidenav-overlay\"></div>");m.css("opacity",0).click(function(){e()}),t("body").append(m)}if("left"===a.edge&&(o>a.menuWidth?o=a.menuWidth:0>o&&(o=0)),"left"===a.edge)o<a.menuWidth/2?d=!1:o>=a.menuWidth/2&&(d=!0),n.css("transform","translateX("+(o-a.menuWidth)+"px)");else{o<window.innerWidth-a.menuWidth/2?d=!0:o>=window.innerWidth-a.menuWidth/2&&(d=!1);var u=o-a.menuWidth/2;0>u&&(u=0),n.css("transform","translateX("+u+"px)")}var g;"left"===a.edge?(g=o/a.menuWidth,t("#sidenav-overlay").velocity({opacity:g},{duration:10,queue:!1,easing:"easeOutQuad"})):(g=L((o-window.innerWidth)/a.menuWidth),t("#sidenav-overlay").velocity({opacity:g},{duration:10,queue:!1,easing:"easeOutQuad"}))}}).bind("panend",function(i){if("touch"==i.gesture.pointerType){var e=i.gesture.velocityX,r=i.gesture.center.x,c=r-a.menuWidth,l=r-a.menuWidth/2;0<c&&(c=0),0>l&&(l=0),o=!1,"left"===a.edge?d&&.3>=e||-.5>e?(0!=c&&n.velocity({translateX:[0,c]},{duration:300,queue:!1,easing:"easeOutQuad"}),t("#sidenav-overlay").velocity({opacity:1},{duration:50,queue:!1,easing:"easeOutQuad"}),s.css({width:"50%",right:0,left:""})):(!d||.3<e)&&(n.velocity({translateX:[-1*a.menuWidth-10,c]},{duration:200,queue:!1,easing:"easeOutQuad"}),t("#sidenav-overlay").velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){t(this).remove()}}),s.css({width:"10px",right:"",left:0})):d&&-.3<=e||.5<e?(n.velocity({translateX:[0,l]},{duration:300,queue:!1,easing:"easeOutQuad"}),t("#sidenav-overlay").velocity({opacity:1},{duration:50,queue:!1,easing:"easeOutQuad"}),s.css({width:"50%",right:"",left:0})):(!d||-.3>e)&&(n.velocity({translateX:[a.menuWidth+10,l]},{duration:200,queue:!1,easing:"easeOutQuad"}),t("#sidenav-overlay").velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){t(this).remove()}}),s.css({width:"10px",right:0,left:""}))}}),i.click(function(){if(!0===d)d=!1,o=!1,e();else{var i=t("body"),r=i.innerWidth();t("body").append(s),"left"===a.edge?(s.css({width:"50%",right:0,left:""}),n.velocity({translateX:[0,-1*a.menuWidth]},{duration:300,queue:!1,easing:"easeOutQuad"})):(s.css({width:"50%",right:"",left:0}),n.velocity({translateX:[0,a.menuWidth]},{duration:300,queue:!1,easing:"easeOutQuad"}));var c=t("<div id=\"sidenav-overlay\"></div>");c.css("opacity",0).click(function(){d=!1,o=!1,e(),c.velocity({opacity:0},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){t(this).remove()}})}),t("body").append(c),c.velocity({opacity:1},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){d=!0,o=!1}})}return!1})})},show:function(){this.trigger("click")},hide:function(){t("#sidenav-overlay").trigger("click")}};t.fn.sideNav=function(a){if(e[a])return e[a].apply(this,Array.prototype.slice.call(arguments,1));return"object"!=typeof a&&a?void t.error("Method "+a+" does not exist on jQuery.sideNav"):e.init.apply(this,arguments)}})(h);(function(t){function e(e,a,i,n){var s=t();return t.each(o,function(t,o){if(0<o.height()){var d=o.offset().top,r=o.offset().left,c=r+o.width(),l=d+o.height();!(r>a||c<n||d>i||l<e)&&s.push(o)}}),s}function a(){++c;var a=s.scrollTop(),i=s.scrollLeft(),n=i+s.width(),o=a+s.height(),r=e(a+l.top+200,n+l.right,o+l.bottom,i+l.left);t.each(r,function(e,t){var a=t.data("scrollSpy:ticks");"number"!=typeof a&&t.triggerHandler("scrollSpy:enter"),t.data("scrollSpy:ticks",c)}),t.each(d,function(e,t){var a=t.data("scrollSpy:ticks");"number"==typeof a&&a!==c&&(t.triggerHandler("scrollSpy:exit"),t.data("scrollSpy:ticks",null))}),d=r}function i(){s.trigger("scrollSpy:winSize")}/**
	 * Get time in ms
   * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
	 * @type {function}
	 * @return {number}
	 */ /**
	 * Returns a function, that, when invoked, will only be triggered at most once
	 * during a given window of time. Normally, the throttled function will run
	 * as much as it can, without ever going more than once per `wait` duration;
	 * but if you'd like to disable the execution on the leading edge, pass
	 * `{leading: false}`. To disable execution on the trailing edge, ditto.
	 * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
	 * @param {function} func
	 * @param {number} wait
	 * @param {Object=} options
	 * @returns {Function}
	 */function n(e,t,a){var i=null,n=0,s,o,d;a||(a={});var r=function(){n=!1===a.leading?0:p(),i=null,d=e.apply(s,o),s=o=null};return function(){var c=p();n||!1!==a.leading||(n=c);var l=t-(c-n);return s=this,o=arguments,0>=l?(clearTimeout(i),i=null,n=c,d=e.apply(s,o),s=o=null):!i&&!1!==a.trailing&&(i=setTimeout(r,l)),d}}var s=t(window),o=[],d=[],r=!1,c=0,l={top:0,right:0,bottom:0,left:0},p=Date.now||function(){return new Date().getTime()};t.scrollSpy=function(e,i){var d=[];e=t(e),e.each(function(e,a){o.push(t(a)),t(a).data("scrollSpy:id",e),t("a[href=\"#"+t(a).attr("id")+"\"]").click(function(a){a.preventDefault();var e=t(this.hash).offset().top+1;t("html, body").animate({scrollTop:e-200},{duration:400,queue:!1,easing:"easeOutCubic"})})}),i=i||{throttle:100},l.top=i.offsetTop||0,l.right=i.offsetRight||0,l.bottom=i.offsetBottom||0,l.left=i.offsetLeft||0;var c=n(a,i.throttle||100),p=function(){t(document).ready(c)};return r||(s.on("scroll",p),s.on("resize",p),r=!0),setTimeout(p,0),e.on("scrollSpy:enter",function(){d=t.grep(d,function(e){return 0!=e.height()});var e=t(this);d[0]?(t("a[href=\"#"+d[0].attr("id")+"\"]").removeClass("active"),e.data("scrollSpy:id")<d[0].data("scrollSpy:id")?d.unshift(t(this)):d.push(t(this))):d.push(t(this)),t("a[href=\"#"+d[0].attr("id")+"\"]").addClass("active")}),e.on("scrollSpy:exit",function(){if(d=t.grep(d,function(e){return 0!=e.height()}),d[0]){t("a[href=\"#"+d[0].attr("id")+"\"]").removeClass("active");var e=t(this);d=t.grep(d,function(t){return t.attr("id")!=e.attr("id")}),d[0]&&t("a[href=\"#"+d[0].attr("id")+"\"]").addClass("active")}}),e},t.winSizeSpy=function(e){return t.winSizeSpy=function(){return s},e=e||{throttle:100},s.on("resize",n(i,e.throttle||100))},t.fn.scrollSpy=function(e){return t.scrollSpy(t(this),e)}})(h);(function(t){t(document).ready(function(){function e(e){var i=e.css("font-family"),n=e.css("font-size");n&&a.css("font-size",n),i&&a.css("font-family",i),"off"===e.attr("wrap")&&a.css("overflow-wrap","normal").css("white-space","pre"),a.text(e.val()+"\n");var s=a.html().replace(/\n/g,"<br>");a.html(s),e.is(":visible")?a.css("width",e.width()):a.css("width",t(window).width()/2),e.css("height",a.height())}Materialize.updateTextFields=function(){t("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea").each(function(e,a){0<t(a).val().length||a.autofocus||t(this).attr("placeholder")!==void 0||!0===t(a)[0].validity.badInput?t(this).siblings("label, i").addClass("active"):t(this).siblings("label, i").removeClass("active")})};t(document).on("change","input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea",function(){(0!==t(this).val().length||t(this).attr("placeholder")!==void 0)&&t(this).siblings("label").addClass("active"),validate_field(t(this))}),t(document).ready(function(){Materialize.updateTextFields()}),t(document).on("reset",function(a){var e=t(a.target);e.is("form")&&(e.find("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea").removeClass("valid").removeClass("invalid"),e.find("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea").each(function(){""===t(this).attr("value")&&t(this).siblings("label, i").removeClass("active")}),e.find("select.initialized").each(function(){var t=e.find("option[selected]").text();e.siblings("input.select-dropdown").val(t)}))}),t(document).on("focus","input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea",function(){t(this).siblings("label, i").addClass("active")}),t(document).on("blur","input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea",function(){var e=t(this);0===e.val().length&&!0!==e[0].validity.badInput&&e.attr("placeholder")===void 0&&e.siblings("label, i").removeClass("active"),0===e.val().length&&!0!==e[0].validity.badInput&&e.attr("placeholder")!==void 0&&e.siblings("i").removeClass("active"),validate_field(e)}),window.validate_field=function(e){var t=e.attr("length")!==void 0,a=parseInt(e.attr("length")),i=e.val().length;0===e.val().length&&!1===e[0].validity.badInput?e.hasClass("validate")&&(e.removeClass("valid"),e.removeClass("invalid")):e.hasClass("validate")&&(e.is(":valid")&&t&&i<=a||e.is(":valid")&&!t?(e.removeClass("invalid"),e.addClass("valid")):(e.removeClass("valid"),e.addClass("invalid")))};t(document).on("keyup.radio","input[type=radio], input[type=checkbox]",function(a){if(9===a.which){t(this).addClass("tabbed");var e=t(this);return void e.one("blur",function(){t(this).removeClass("tabbed")})}});var a=t(".hiddendiv").first();a.length||(a=t("<div class=\"hiddendiv common\"></div>"),t("body").append(a));t(".materialize-textarea").each(function(){var a=t(this);a.val().length&&e(a)}),t("body").on("keyup keydown autoresize",".materialize-textarea",function(){e(t(this))}),t(document).on("change",".file-field input[type=\"file\"]",function(){for(var e=t(this).closest(".file-field"),a=e.find("input.file-path"),n=t(this)[0].files,s=[],o=0;o<n.length;o++)s.push(n[o].name);a.val(s.join(", ")),a.trigger("change")});var i=!1,n;t("input[type=range]").each(function(){var e=t("<span class=\"thumb\"><span class=\"value\"></span></span>");t(this).after(e)});t(document).on("change","input[type=range]",function(){var e=t(this).siblings(".thumb");e.find(".value").html(t(this).val())}),t(document).on("input mousedown touchstart","input[type=range]",function(a){var e=t(this).siblings(".thumb"),s=t(this).outerWidth();0>=e.length&&(e=t("<span class=\"thumb\"><span class=\"value\"></span></span>"),t(this).after(e)),e.find(".value").html(t(this).val()),i=!0,t(this).addClass("active"),e.hasClass("active")||e.velocity({height:"30px",width:"30px",top:"-32px",marginLeft:"-15px"},{duration:300,easing:"easeOutExpo"}),"input"!==a.type&&(n=void 0===a.pageX||null===a.pageX?a.originalEvent.touches[0].pageX-t(this).offset().left:a.pageX-t(this).offset().left,0>n?n=0:n>s&&(n=s),e.addClass("active").css("left",n)),e.find(".value").html(t(this).val())}),t(document).on("mouseup touchend",".range-field",function(){i=!1,t(this).removeClass("active")}),t(document).on("mousemove touchmove",".range-field",function(a){var e=t(this).children(".thumb"),n;if(i){e.hasClass("active")||e.velocity({height:"30px",width:"30px",top:"-32px",marginLeft:"-15px"},{duration:300,easing:"easeOutExpo"}),n=void 0===a.pageX||null===a.pageX?a.originalEvent.touches[0].pageX-t(this).offset().left:a.pageX-t(this).offset().left;var s=t(this).outerWidth();0>n?n=0:n>s&&(n=s),e.addClass("active").css("left",n),e.find(".value").html(e.siblings("input[type=range]").val())}}),t(document).on("mouseout touchleave",".range-field",function(){if(!i){var e=t(this).children(".thumb");e.hasClass("active")&&e.velocity({height:"0",width:"0",top:"10px",marginLeft:"-6px"},{duration:100}),e.removeClass("active")}})}),t.fn.material_select=function(e){function a(e,t,a){var n=e.indexOf(t),s=-1===n;return s?e.push(t):e.splice(n,1),a.siblings("ul.dropdown-content").find("li").eq(t).toggleClass("active"),a.find("option").eq(t).prop("selected",s),i(e,a),s}function i(e,t){for(var a="",n=0,s=e.length,o;n<s;n++)o=t.find("option").eq(e[n]).text(),a+=0==n?o:", "+o;""===a&&(a=t.find("option:disabled").eq(0).text()),t.siblings("input.select-dropdown").val(a)}t(this).each(function(){var n=t(this),s=n.siblings(".select-options"),o=s.length;if(!n.hasClass("browser-default")){var d=!!n.attr("multiple"),r=n.data("select-id");if(r&&(n.parent().find("span.caret").remove(),n.parent().find("input").remove(),n.unwrap(),t("ul#select-options-"+r).remove()),"destroy"===e)return void n.data("select-id",null).removeClass("initialized");var c=Materialize.guid();n.data("select-id",c);var l=t("<div class=\"select-wrapper\"></div>");l.addClass(n.attr("class"));var p=t("<ul id=\"select-options-"+c+"\" class=\"dropdown-content select-dropdown "+(d?"multiple-select-dropdown":"")+"\"></ul>"),m=n.children("option, optgroup"),u=[],g=!1,h=n.find("option:selected")||n.find("option:first"),v;v=h.html();var f=function(e,a,i){var n=a.is(":disabled")?"disabled ":"",d="optgroup-option"===i?"optgroup-option ":"",r;r=o?s.find("[data-value="+a.attr("value")+"]").html()||"<span>"+a.html()+"</span>":"<span>"+a.html()+"</span>";var c=a.data("icon"),l=a.attr("class");if(!!c){var m="";return!l||(m=" class=\""+l+"\""),"multiple"===i?p.append(t("<li class=\""+n+"\"><img src=\""+c+"\""+m+"><span><input type=\"checkbox\""+n+"/><label></label>"+r+"</span></li>")):p.append(t("<li class=\""+n+d+"\"><img src=\""+c+"\""+m+">"+r+"</li>")),!0}"multiple"===i?p.append(t("<li class=\""+n+"\"><span><input type=\"checkbox\""+n+"/><label></label>"+r+"</li>")):p.append(t("<li class=\""+n+d+"\">"+r+"</li>"))};m.length&&m.each(function(){if(t(this).is("option"))d?f(n,t(this),"multiple"):f(n,t(this));else if(t(this).is("optgroup")){var e=t(this).children("option");p.append(t("<li class=\"optgroup\"><span>"+t(this).attr("label")+"</span></li>")),e.each(function(){f(n,t(this),"optgroup-option")})}}),p.find("li:not(.optgroup)").each(function(s){t(this).click(function(i){if(!t(this).hasClass("disabled")&&!t(this).hasClass("optgroup")){var o=!0;d?(t("input[type=\"checkbox\"]",this).prop("checked",function(e,t){return!t}),o=a(u,t(this).index(),n),x.trigger("focus")):(p.find("li").removeClass("active"),t(this).toggleClass("active"),x.val(t(this).text().trim())),w(p,t(this)),n.find("option").eq(s).prop("selected",o),n.trigger("change"),"undefined"!=typeof e&&e()}i.stopPropagation()})}),n.wrap(l);var b=t("<span class=\"caret\">&#9660;</span>");n.is(":disabled")&&b.addClass("disabled");var A=o?v:v.replace(/"/g,"&quot;");var x=t("<input type=\"text\" class=\"select-dropdown\" readonly=\"true\" "+(n.is(":disabled")?"disabled":"")+" data-activates=\"select-options-"+c+"\" value=\""+A+"\"/>");n.before(x),x.before(b),x.after(p),n.is(":disabled")||x.dropdown({hover:!1,closeOnClick:!1}),n.attr("tabindex")&&t(x[0]).attr("tabindex",n.attr("tabindex")),n.addClass("initialized"),x.on({focus:function(){if(t("ul.select-dropdown").not(p[0]).is(":visible")&&t("input.select-dropdown").trigger("close"),!p.is(":visible")){t(this).trigger("open",["focus"]);var e=t(this).val(),a=p.find("li").filter(function(){return t(this).text().toLowerCase()===e.toLowerCase()})[0];w(p,a)}},click:function(t){t.stopPropagation()}}),x.on("blur",function(){d||t(this).trigger("close"),p.find("li.selected").removeClass("selected")}),p.hover(function(){g=!0},function(){g=!1}),t(window).on({click:function(){d&&(g||x.trigger("close"))}}),d&&n.find("option:selected:not(:disabled)").each(function(){var e=t(this).index();a(u,e,n),p.find("li").eq(e).find(":checkbox").prop("checked",!0)});var w=function(e,a){if(a){e.find("li.selected").removeClass("selected");var i=t(a);i.addClass("selected"),p.scrollTo(i)}},k=[],S=function(a){if(9==a.which)return void x.trigger("close");if(40==a.which&&!p.is(":visible"))return void x.trigger("open");if(13!=a.which||p.is(":visible")){a.preventDefault();var e=D(a.which).toLowerCase();if(e&&-1===[9,13,27,38,40].indexOf(a.which)){k.push(e);var i=k.join(""),n=p.find("li").filter(function(){return 0===t(this).text().toLowerCase().indexOf(i)})[0];n&&w(p,n)}if(13==a.which){var s=p.find("li.selected:not(.disabled)")[0];s&&(t(s).trigger("click"),!d&&x.trigger("close"))}40==a.which&&(n=p.find("li.selected").length?p.find("li.selected").next("li:not(.disabled)")[0]:p.find("li:not(.disabled)")[0],w(p,n)),27==a.which&&x.trigger("close"),38==a.which&&(n=p.find("li.selected").prev("li:not(.disabled)")[0],n&&w(p,n)),setTimeout(function(){k=[]},1e3)}};x.on("keydown",S)}})}})(h);(function(e){var t={init:function(t){return t=e.extend({indicators:!0,height:400,transition:500,interval:6e3},t),this.each(function(){function a(e,t){e.hasClass("center-align")?e.velocity({opacity:0,translateY:-100},{duration:t,queue:!1}):e.hasClass("right-align")?e.velocity({opacity:0,translateX:100},{duration:t,queue:!1}):e.hasClass("left-align")&&e.velocity({opacity:0,translateX:-100},{duration:t,queue:!1})}function i(e){e>=o.length?e=0:0>e&&(e=o.length-1),d=s.find(".active").index(),d!=e&&(r=o.eq(d),$caption=r.find(".caption"),r.removeClass("active"),r.velocity({opacity:0},{duration:t.transition,queue:!1,easing:"easeOutQuad",complete:function(){o.not(".active").velocity({opacity:0,translateX:0,translateY:0},{duration:0,queue:!1})}}),a($caption,t.transition),t.indicators&&c.eq(d).removeClass("active"),o.eq(e).velocity({opacity:1},{duration:t.transition,queue:!1,easing:"easeOutQuad"}),o.eq(e).find(".caption").velocity({opacity:1,translateX:0,translateY:0},{duration:t.transition,delay:t.transition,queue:!1,easing:"easeOutQuad"}),o.eq(e).addClass("active"),t.indicators&&c.eq(e).addClass("active"))}var n=e(this),s=n.find("ul.slides").first(),o=s.find("li"),d=s.find(".active").index(),r,c,l;-1!=d&&(r=o.eq(d)),n.hasClass("fullscreen")||(t.indicators?n.height(t.height+40):n.height(t.height),s.height(t.height)),o.find(".caption").each(function(){a(e(this),0)}),o.find("img").each(function(){"data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="!==e(this).attr("src")&&(e(this).css("background-image","url("+e(this).attr("src")+")"),e(this).attr("src","data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="))}),t.indicators&&(c=e("<ul class=\"indicators\"></ul>"),o.each(function(){var a=e("<li class=\"indicator-item\"></li>");a.click(function(){var a=s.parent(),n=a.find(e(this)).index();i(n),clearInterval(l),l=setInterval(function(){d=s.find(".active").index(),o.length==d+1?d=0:d+=1,i(d)},t.transition+t.interval)}),c.append(a)}),n.append(c),c=n.find("ul.indicators").find("li.indicator-item")),r?r.show():(o.first().addClass("active").velocity({opacity:1},{duration:t.transition,queue:!1,easing:"easeOutQuad"}),d=0,r=o.eq(d),t.indicators&&c.eq(d).addClass("active")),r.find("img").each(function(){r.find(".caption").velocity({opacity:1,translateX:0,translateY:0},{duration:t.transition,queue:!1,easing:"easeOutQuad"})}),l=setInterval(function(){d=s.find(".active").index(),i(d+1)},t.transition+t.interval);var p=!1,m=!1,u=!1;n.hammer({prevent_default:!1}).bind("pan",function(t){if("touch"===t.gesture.pointerType){clearInterval(l);var e=t.gesture.direction,a=t.gesture.deltaX,i=t.gesture.velocityX;$curr_slide=s.find(".active"),$curr_slide.velocity({translateX:a},{duration:50,queue:!1,easing:"easeOutQuad"}),4===e&&(a>n.innerWidth()/2||-.65>i)?u=!0:2===e&&(a<-1*n.innerWidth()/2||.65<i)&&(m=!0);var d;m&&(d=$curr_slide.next(),0===d.length&&(d=o.first()),d.velocity({opacity:1},{duration:300,queue:!1,easing:"easeOutQuad"})),u&&(d=$curr_slide.prev(),0===d.length&&(d=o.last()),d.velocity({opacity:1},{duration:300,queue:!1,easing:"easeOutQuad"}))}}).bind("panend",function(a){"touch"===a.gesture.pointerType&&($curr_slide=s.find(".active"),p=!1,curr_index=s.find(".active").index(),(u||m)&&!(1>=o.length)?m?(i(curr_index+1),$curr_slide.velocity({translateX:-1*n.innerWidth()},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){$curr_slide.velocity({opacity:0,translateX:0},{duration:0,queue:!1})}})):u&&(i(curr_index-1),$curr_slide.velocity({translateX:n.innerWidth()},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){$curr_slide.velocity({opacity:0,translateX:0},{duration:0,queue:!1})}})):$curr_slide.velocity({translateX:0},{duration:300,queue:!1,easing:"easeOutQuad"}),m=!1,u=!1,clearInterval(l),l=setInterval(function(){d=s.find(".active").index(),o.length==d+1?d=0:d+=1,i(d)},t.transition+t.interval))}),n.on("sliderPause",function(){clearInterval(l)}),n.on("sliderStart",function(){clearInterval(l),l=setInterval(function(){d=s.find(".active").index(),o.length==d+1?d=0:d+=1,i(d)},t.transition+t.interval)}),n.on("sliderNext",function(){d=s.find(".active").index(),i(d+1)}),n.on("sliderPrev",function(){d=s.find(".active").index(),i(d-1)})})},pause:function(){e(this).trigger("sliderPause")},start:function(){e(this).trigger("sliderStart")},next:function(){e(this).trigger("sliderNext")},prev:function(){e(this).trigger("sliderPrev")}};e.fn.slider=function(a){if(t[a])return t[a].apply(this,Array.prototype.slice.call(arguments,1));return"object"!=typeof a&&a?void e.error("Method "+a+" does not exist on jQuery.tooltip"):t.init.apply(this,arguments)}})(h);(function(t){t(document).ready(function(){t(document).on("click.card",".card",function(a){t(this).find("> .card-reveal").length&&(t(a.target).is(t(".card-reveal .card-title"))||t(a.target).is(t(".card-reveal .card-title i"))?t(this).find(".card-reveal").velocity({translateY:0},{duration:225,queue:!1,easing:"easeInOutQuad",complete:function(){t(this).css({display:"none"})}}):(t(a.target).is(t(".card .activator"))||t(a.target).is(t(".card .activator i")))&&(t(a.target).closest(".card").css("overflow","hidden"),t(this).find(".card-reveal").css({display:"block"}).velocity("stop",!1).velocity({translateY:"-100%"},{duration:300,queue:!1,easing:"easeInOutQuad"}))),t(".card-reveal").closest(".card").css("overflow","hidden")})})})(h);(function(e){e(document).ready(function(){e(document).on("click.chip",".chip .material-icons",function(){e(this).parent().remove()})})})(h);(function(e){e.fn.pushpin=function(t){return t=e.extend({top:0,bottom:1/0,offset:0},t),$index=0,this.each(function(){function a(e){e.removeClass("pin-top"),e.removeClass("pinned"),e.removeClass("pin-bottom")}function i(i,n){i.each(function(){t.top<=n&&t.bottom>=n&&!e(this).hasClass("pinned")&&(a(e(this)),e(this).css("top",t.offset),e(this).addClass("pinned")),n<t.top&&!e(this).hasClass("pin-top")&&(a(e(this)),e(this).css("top",0),e(this).addClass("pin-top")),n>t.bottom&&!e(this).hasClass("pin-bottom")&&(a(e(this)),e(this).addClass("pin-bottom"),e(this).css("top",t.bottom-o))})}var n=Materialize.guid(),s=e(this),o=e(this).offset().top;i(s,e(window).scrollTop()),e(window).on("scroll."+n,function(){var a=e(window).scrollTop()+t.offset;i(s,a)})})}})(h);(function(e){e(document).ready(function(){e.fn.reverse=[].reverse,e(document).on("mouseenter.fixedActionBtn",".fixed-action-btn:not(.click-to-toggle)",function(){var a=e(this);t(a)}),e(document).on("mouseleave.fixedActionBtn",".fixed-action-btn:not(.click-to-toggle)",function(){var t=e(this);a(t)}),e(document).on("click.fixedActionBtn",".fixed-action-btn.click-to-toggle > a",function(){var i=e(this),n=i.parent();n.hasClass("active")?a(n):t(n)})}),e.fn.extend({openFAB:function(){t(e(this))},closeFAB:function(){a(e(this))}});var t=function(t){if($this=t,!1===$this.hasClass("active")){var a=$this.hasClass("horizontal"),i,n;!0===a?n=40:i=40,$this.addClass("active"),$this.find("ul .btn-floating").velocity({scaleY:".4",scaleX:".4",translateY:i+"px",translateX:n+"px"},{duration:0});var s=0;$this.find("ul .btn-floating").reverse().each(function(){e(this).velocity({opacity:"1",scaleX:"1",scaleY:"1",translateY:"0",translateX:"0"},{duration:80,delay:s}),s+=40})}},a=function(e){$this=e;var t=$this.hasClass("horizontal"),a,i;!0===t?i=40:a=40,$this.removeClass("active");$this.find("ul .btn-floating").velocity("stop",!0),$this.find("ul .btn-floating").velocity({opacity:"0",scaleX:".4",scaleY:".4",translateY:a+"px",translateX:i+"px"},{duration:80})}})(h);(function(t){Materialize.fadeInImage=function(e){var a=t(e);a.css({opacity:0}),t(a).velocity({opacity:1},{duration:650,queue:!1,easing:"easeOutSine"}),t(a).velocity({opacity:1},{duration:1300,queue:!1,easing:"swing",step:function(e,a){a.start=100;var i=e/100,n=150-(100-e)/1.75;100>n&&(n=100),0<=e&&t(this).css({"-webkit-filter":"grayscale("+i+")brightness("+n+"%)",filter:"grayscale("+i+")brightness("+n+"%)"})}})},Materialize.showStaggeredList=function(e){var a=0;t(e).find("li").velocity({translateX:"-100px"},{duration:0}),t(e).find("li").each(function(){t(this).velocity({opacity:"1",translateX:"0"},{duration:800,delay:a,easing:[60,10]}),a+=120})},t(document).ready(function(){var a=!1,i=!1;t(".dismissable").each(function(){t(this).hammer({prevent_default:!1}).bind("pan",function(n){if("touch"===n.gesture.pointerType){var e=t(this),s=n.gesture.direction,o=n.gesture.deltaX,d=n.gesture.velocityX;e.velocity({translateX:o},{duration:50,queue:!1,easing:"easeOutQuad"}),4===s&&(o>e.innerWidth()/2||-.75>d)&&(a=!0),2===s&&(o<-1*e.innerWidth()/2||.75<d)&&(i=!0)}}).bind("panend",function(n){if(L(n.gesture.deltaX)<t(this).innerWidth()/2&&(i=!1,a=!1),"touch"===n.gesture.pointerType){var e=t(this);if(a||i){var s;s=a?e.innerWidth():-1*e.innerWidth(),e.velocity({translateX:s},{duration:100,queue:!1,easing:"easeOutQuad",complete:function(){e.css("border","none"),e.velocity({height:0,padding:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){e.remove()}})}})}else e.velocity({translateX:0},{duration:100,queue:!1,easing:"easeOutQuad"});a=!1,i=!1}})})})})(h);(function(){Materialize.scrollFire=function(e){var t=!1;window.addEventListener("scroll",function(){t=!0}),setInterval(function(){if(t){t=!1;for(var a=window.pageYOffset+window.innerHeight,n=0;n<e.length;n++){var s=e[n],o=s.selector,d=s.offset,r=s.callback,c=document.querySelector(o);if(null!==c){var l=c.getBoundingClientRect().top+window.pageYOffset;if(a>l+d&&!0!==s.done){if("function"==typeof r)r.call(this);else if("string"==typeof r){var p=new Function(r);p()}s.done=!0}}}}},100)}})(h);(function(e){Materialize.DefaultDatePicker=e(h)})(function(e){function t(s,d,l,p){function m(){return t._.node("div",t._.node("div",t._.node("div",t._.node("div",C.component.nodes(A.open),w.box),w.wrap),w.frame),w.holder)}function u(){k.data(d,C).addClass(w.input).attr("tabindex",-1).val(k.data("value")?C.get("select",x.format):s.value),x.editable||k.on("focus."+A.id+" click."+A.id,function(e){e.preventDefault(),C.$root.eq(0).focus()}).on("keydown."+A.id,v),n(s,{haspopup:!0,expanded:!1,readonly:!1,owns:s.id+"_root"})}function g(){C.$root.on({keydown:v,focusin:function(e){C.$root.removeClass(w.focused),e.stopPropagation()},"mousedown click":function(t){var a=t.target;a!=C.$root.children()[0]&&(t.stopPropagation(),"mousedown"==t.type&&!e(a).is("input, select, textarea, button, option")&&(t.preventDefault(),C.$root.eq(0).focus()))}}).on({focus:function(){k.addClass(w.target)},blur:function(){k.removeClass(w.target)}}).on("focus.toOpen",f).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var t=e(this),a=t.data(),i=t.hasClass(w.navDisabled)||t.hasClass(w.disabled),n=o();n=n&&(n.type||n.href),(i||n&&!e.contains(C.$root[0],n))&&C.$root.eq(0).focus(),!i&&a.nav?C.set("highlight",C.component.item.highlight,{nav:a.nav}):!i&&"pick"in a?C.set("select",a.pick):a.clear?C.clear().close(!0):a.close&&C.close(!0)}),n(C.$root[0],"hidden",!0)}function h(){var t;!0===x.hiddenName?(t=s.name,s.name=""):(t=["string"==typeof x.hiddenPrefix?x.hiddenPrefix:"","string"==typeof x.hiddenSuffix?x.hiddenSuffix:"_submit"],t=t[0]+s.name+t[1]),C._hidden=e("<input type=hidden name=\""+t+"\""+(k.data("value")||s.value?" value=\""+C.get("select",x.formatSubmit)+"\"":"")+">")[0],k.on("change."+A.id,function(){C._hidden.value=s.value?C.get("select",x.formatSubmit):""}),x.container?e(x.container).append(C._hidden):k.after(C._hidden)}function v(e){var t=e.keyCode,a=/^(8|46)$/.test(t);return 27==t?(C.close(),!1):void((32==t||a||!A.open&&C.component.key[t])&&(e.preventDefault(),e.stopPropagation(),a?C.clear().close():C.open()))}function f(e){e.stopPropagation(),"focus"==e.type&&C.$root.addClass(w.focused),C.open()}if(!s)return t;var b=!1,A={id:s.id||"P"+L(~~(Math.random()*new Date))},x=l?e.extend(!0,{},l.defaults,p):p||{},w=e.extend({},t.klasses(),x.klass),k=e(s),S=function(){return this.start()},C=S.prototype={constructor:S,$node:k,start:function(){return A&&A.start?C:(A.methods={},A.start=!0,A.open=!1,A.type=s.type,s.autofocus=s==o(),s.readOnly=!x.editable,s.id=s.id||A.id,"text"!=s.type&&(s.type="text"),C.component=new l(C,x),C.$root=e(t._.node("div",m(),w.picker,"id=\""+s.id+"_root\" tabindex=\"0\"")),g(),x.formatSubmit&&h(),u(),x.container?e(x.container).append(C.$root):k.after(C.$root),C.on({start:C.component.onStart,render:C.component.onRender,stop:C.component.onStop,open:C.component.onOpen,close:C.component.onClose,set:C.component.onSet}).on({start:x.onStart,render:x.onRender,stop:x.onStop,open:x.onOpen,close:x.onClose,set:x.onSet}),b=a(C.$root.children()[0]),s.autofocus&&C.open(),C.trigger("start").trigger("render"))},render:function(e){return e?C.$root.html(m()):C.$root.find("."+w.box).html(C.component.nodes(A.open)),C.trigger("render")},stop:function(){return A.start?(C.close(),C._hidden&&C._hidden.parentNode.removeChild(C._hidden),C.$root.remove(),k.removeClass(w.input).removeData(d),setTimeout(function(){k.off("."+A.id)},0),s.type=A.type,s.readOnly=!1,C.trigger("stop"),A.methods={},A.start=!1,C):C},open:function(a){return A.open?C:(k.addClass(w.active),n(s,"expanded",!0),setTimeout(function(){C.$root.addClass(w.opened),n(C.$root[0],"hidden",!1)},0),!1!==a&&(A.open=!0,b&&c.css("overflow","hidden").css("padding-right","+="+i()),C.$root.eq(0).focus(),r.on("click."+A.id+" focusin."+A.id,function(e){var t=e.target;t!=s&&t!=document&&3!=e.which&&C.close(t===C.$root.children()[0])}).on("keydown."+A.id,function(a){var i=a.keyCode,n=C.component.key[i],s=a.target;27==i?C.close(!0):s==C.$root[0]&&(n||13==i)?(a.preventDefault(),n?t._.trigger(C.component.key.go,C,[t._.trigger(n)]):!C.$root.find("."+w.highlighted).hasClass(w.disabled)&&C.set("select",C.component.item.highlight).close()):e.contains(C.$root[0],s)&&13==i&&(a.preventDefault(),s.click())})),C.trigger("open"))},close:function(e){return(e&&(C.$root.off("focus.toOpen").eq(0).focus(),setTimeout(function(){C.$root.on("focus.toOpen",f)},0)),k.removeClass(w.active),n(s,"expanded",!1),setTimeout(function(){C.$root.removeClass(w.opened+" "+w.focused),n(C.$root[0],"hidden",!0)},0),!A.open)?C:(A.open=!1,b&&c.css("overflow","").css("padding-right","-="+i()),r.off("."+A.id),C.trigger("close"))},clear:function(e){return C.set("clear",null,e)},set:function(t,a,i){var n=e.isPlainObject(t),s=n?t:{},o,d;if(i=n&&e.isPlainObject(a)?a:i||{},t){for(o in n||(s[t]=a),s)d=s[o],o in C.component.item&&(void 0===d&&(d=null),C.component.set(o,d,i)),("select"==o||"clear"==o)&&k.val("clear"==o?"":C.get(o,x.format)).trigger("change");C.render()}return i.muted?C:C.trigger("set",s)},get:function(e,a){if(e=e||"value",null!=A[e])return A[e];if("valueSubmit"==e){if(C._hidden)return C._hidden.value;e="value"}if("value"==e)return s.value;if(e in C.component.item){if("string"==typeof a){var i=C.component.get(e);return i?t._.trigger(C.component.formats.toString,C.component,[a,i]):""}return C.component.get(e)}},on:function(t,a,i){var n=e.isPlainObject(t),s=n?t:{},o,d;if(t)for(o in n||(s[t]=a),s)d=s[o],i&&(o="_"+o),A.methods[o]=A.methods[o]||[],A.methods[o].push(d);return C},off:function(){var e=arguments,t,a;for(t=0,namesCount=e.length;t<namesCount;t+=1)a=e[t],a in A.methods&&delete A.methods[a];return C},trigger:function(e,a){var i=function(e){var i=A.methods[e];i&&i.map(function(e){t._.trigger(e,C,[a])})};return i("_"+e),i(e),C}};return new S}function a(e){var t;return e.currentStyle?t=e.currentStyle.position:window.getComputedStyle&&(t=getComputedStyle(e).position),"fixed"==t}function i(){if(c.height()<=d.height())return 0;var t=e("<div style=\"visibility:hidden;width:100px\" />").appendTo("body"),a=t[0].offsetWidth;t.css("overflow","scroll");var i=e("<div style=\"width:100%\" />").appendTo(t),n=i[0].offsetWidth;return t.remove(),a-n}function n(t,a,i){if(e.isPlainObject(a))for(var n in a)s(t,n,a[n]);else s(t,a,i)}function s(e,t,a){e.setAttribute(("role"==t?"":"aria-")+t,a)}function o(){try{return document.activeElement}catch(e){}}var d=e(window),r=e(document),c=e(document.documentElement);return t.klasses=function(e){return e=e||"picker",{picker:e,opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},t._={group:function(e){for(var a="",i=t._.trigger(e.min,e),n;i<=t._.trigger(e.max,e,[i]);i+=e.i)n=t._.trigger(e.item,e,[i]),a+=t._.node(e.node,n[0],n[1],n[2]);return a},node:function(t,a,i,n){return a?(a=e.isArray(a)?a.join(""):a,i=i?" class=\""+i+"\"":"",n=n?" "+n:"","<"+t+i+n+">"+a+"</"+t+">"):""},lead:function(e){return(10>e?"0":"")+e},trigger:function(e,t,a){return"function"==typeof e?e.apply(t,a||[]):e},digits:function(e){return /\d/.test(e[1])?2:1},isDate:function(e){return-1<{}.toString.call(e).indexOf("Date")&&this.isInteger(e.getDate())},isInteger:function(e){return-1<{}.toString.call(e).indexOf("Number")&&0==e%1},ariaAttr:function(t,a){for(var i in e.isPlainObject(t)||(t={attribute:a}),a="",t){var n=("role"==i?"":"aria-")+i,s=t[i];a+=null==s?"":n+"=\""+t[i]+"\""}return a}},t.extend=function(a,i){e.fn[a]=function(n,s){var o=this.data(a);return"picker"==n?o:o&&"string"==typeof n?t._.trigger(o[n],o,[s]):this.each(function(){var s=e(this);s.data(a)||new t(this,a,i,n)})},e.fn[a].defaults=i.defaults},t});(function(e){e(Materialize.DefaultDatePicker,h)})(function(e,t){function a(e,t){var a=this,i=e.$node[0],n=i.value,s=e.$node.data("value"),o=s||n,d=s?t.formatSubmit:t.format,r=function(){return i.currentStyle?"rtl"==i.currentStyle.direction:"rtl"==getComputedStyle(e.$root[0]).direction};a.settings=t,a.$node=e.$node,a.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},a.item={},a.item.clear=null,a.item.disable=(t.disable||[]).slice(0),a.item.enable=-function(e){return!0===e[0]?e.shift():-1}(a.item.disable),a.set("min",t.min).set("max",t.max).set("now"),o?a.set("select",o,{format:d}):a.set("select",null).set("highlight",a.item.now),a.key={40:7,38:-7,39:function(){return r()?-1:1},37:function(){return r()?1:-1},go:function(e){var t=a.item.highlight,i=new Date(t.year,t.month,t.date+e);a.set("highlight",i,{interval:e}),this.render()}},e.on("render",function(){e.$root.find("."+t.klass.selectMonth).on("change",function(){var a=this.value;a&&(e.set("highlight",[e.get("view").year,a,e.get("highlight").date]),e.$root.find("."+t.klass.selectMonth).trigger("focus"))}),e.$root.find("."+t.klass.selectYear).on("change",function(){var a=this.value;a&&(e.set("highlight",[a,e.get("view").month,e.get("highlight").date]),e.$root.find("."+t.klass.selectYear).trigger("focus"))})},1).on("open",function(){var i="";a.disabled(a.get("now"))&&(i=":not(."+t.klass.buttonToday+")"),e.$root.find("button"+i+", select").attr("disabled",!1)},1).on("close",function(){e.$root.find("button, select").attr("disabled",!0)},1)}var i=e._;a.prototype.set=function(e,t,a){var i=this,n=i.item;return null===t?("clear"==e&&(e="select"),n[e]=t,i):(n["enable"==e?"disable":"flip"==e?"enable":e]=i.queue[e].split(" ").map(function(n){return t=i[n](e,t,a),t}).pop(),"select"==e?i.set("highlight",n.select,a):"highlight"==e?i.set("view",n.highlight,a):e.match(/^(flip|min|max|disable|enable)$/)&&(n.select&&i.disabled(n.select)&&i.set("select",n.select,a),n.highlight&&i.disabled(n.highlight)&&i.set("highlight",n.highlight,a)),i)},a.prototype.get=function(e){return this.item[e]},a.prototype.create=function(e,a,n){var s=this,o;return a=void 0===a?e:a,a==-Infinity||a==1/0?o=a:t.isPlainObject(a)&&i.isInteger(a.pick)?a=a.obj:t.isArray(a)?(a=new Date(a[0],a[1],a[2]),a=i.isDate(a)?a:s.create().obj):i.isInteger(a)||i.isDate(a)?a=s.normalize(new Date(a),n):a=s.now(e,a,n),{year:o||a.getFullYear(),month:o||a.getMonth(),date:o||a.getDate(),day:o||a.getDay(),obj:o||a,pick:o||a.getTime()}},a.prototype.createRange=function(e,a){var n=this,s=function(e){return!0===e||t.isArray(e)||i.isDate(e)?n.create(e):e};return i.isInteger(e)||(e=s(e)),i.isInteger(a)||(a=s(a)),i.isInteger(e)&&t.isPlainObject(a)?e=[a.year,a.month,a.date+e]:i.isInteger(a)&&t.isPlainObject(e)&&(a=[e.year,e.month,e.date+a]),{from:s(e),to:s(a)}},a.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},a.prototype.overlapRanges=function(e,t){var a=this;return e=a.createRange(e.from,e.to),t=a.createRange(t.from,t.to),a.withinRange(e,t.from)||a.withinRange(e,t.to)||a.withinRange(t,e.from)||a.withinRange(t,e.to)},a.prototype.now=function(e,t,a){return t=new Date,a&&a.rel&&t.setDate(t.getDate()+a.rel),this.normalize(t,a)},a.prototype.navigate=function(e,a,i){var n=t.isArray(a),s=t.isPlainObject(a),o=this.item.view,d,r,c,l;if(n||s){for(s?(r=a.year,c=a.month,l=a.date):(r=+a[0],c=+a[1],l=+a[2]),i&&i.nav&&o&&o.month!==c&&(r=o.year,c=o.month),d=new Date(r,c+(i&&i.nav?i.nav:0),1),r=d.getFullYear(),c=d.getMonth();new Date(r,c,l).getMonth()!==c;)l-=1;a=[r,c,l]}return a},a.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},a.prototype.measure=function(e,t){var a=this;return t?"string"==typeof t?t=a.parse(e,t):i.isInteger(t)&&(t=a.now(e,t,{rel:t})):t="min"==e?-Infinity:1/0,t},a.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},a.prototype.validate=function(e,a,n){var s=this,o=a,d=n&&n.interval?n.interval:1,r=-1===s.item.enable,c=s.item.min,l=s.item.max,p=r&&s.item.disable.filter(function(e){if(t.isArray(e)){var n=s.create(e).pick;n<a.pick?m=!0:n>a.pick&&(u=!0)}return i.isInteger(e)}).length,m,u,g,h;if((!n||!n.nav)&&(!r&&s.disabled(a)||r&&s.disabled(a)&&(p||m||u)||!r&&(a.pick<=c.pick||a.pick>=l.pick)))for(r&&!p&&(!u&&0<d||!m&&0>d)&&(d*=-1);s.disabled(a)&&(1<L(d)&&(a.month<o.month||a.month>o.month)&&(a=o,d=0<d?1:-1),a.pick<=c.pick?(g=!0,d=1,a=s.create([c.year,c.month,c.date+(a.pick===c.pick?0:-1)])):a.pick>=l.pick&&(h=!0,d=-1,a=s.create([l.year,l.month,l.date+(a.pick===l.pick?0:1)])),!(g&&h));)a=s.create([a.year,a.month,a.date+d]);return a},a.prototype.disabled=function(e){var a=this,n=a.item.disable.filter(function(n){return i.isInteger(n)?e.day===(a.settings.firstDay?n:n-1)%7:t.isArray(n)||i.isDate(n)?e.pick===a.create(n).pick:t.isPlainObject(n)?a.withinRange(n,e):void 0});return n=n.length&&!n.filter(function(e){return t.isArray(e)&&"inverted"==e[3]||t.isPlainObject(e)&&e.inverted}).length,-1===a.item.enable?!n:n||e.pick<a.item.min.pick||e.pick>a.item.max.pick},a.prototype.parse=function(e,t,a){var n=this,s={};return t&&"string"==typeof t?(a&&a.format||(a=a||{},a.format=n.settings.format),n.formats.toArray(a.format).map(function(e){var a=n.formats[e],o=a?i.trigger(a,n,[t,s]):e.replace(/^!/,"").length;a&&(s[e]=t.substr(0,o)),t=t.substr(o)}),[s.yyyy||s.yy,+(s.mm||s.m)-1,s.dd||s.d]):t},a.prototype.formats=function(){function e(e,t,a){var i=e.match(/\w+/)[0];return a.mm||a.m||(a.m=t.indexOf(i)+1),i.length}function t(e){return e.match(/\w+/)[0].length}return{d:function(e,t){return e?i.digits(e):t.date},dd:function(e,t){return e?2:i.lead(t.date)},ddd:function(e,a){return e?t(e):this.settings.weekdaysShort[a.day]},dddd:function(e,a){return e?t(e):this.settings.weekdaysFull[a.day]},m:function(e,t){return e?i.digits(e):t.month+1},mm:function(e,t){return e?2:i.lead(t.month+1)},mmm:function(t,a){var i=this.settings.monthsShort;return t?e(t,i,a):i[a.month]},mmmm:function(t,a){var i=this.settings.monthsFull;return t?e(t,i,a):i[a.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,t){var a=this;return a.formats.toArray(e).map(function(e){return i.trigger(a.formats[e],a,[0,t])||e.replace(/^!/,"")}).join("")}}}(),a.prototype.isDateExact=function(e,a){var n=this;return i.isInteger(e)&&i.isInteger(a)||"boolean"==typeof e&&"boolean"==typeof a?e===a:(i.isDate(e)||t.isArray(e))&&(i.isDate(a)||t.isArray(a))?n.create(e).pick===n.create(a).pick:!!(t.isPlainObject(e)&&t.isPlainObject(a))&&n.isDateExact(e.from,a.from)&&n.isDateExact(e.to,a.to)},a.prototype.isDateOverlap=function(e,a){var n=this,s=n.settings.firstDay?1:0;return i.isInteger(e)&&(i.isDate(a)||t.isArray(a))?(e=e%7+s,e===n.create(a).day+1):i.isInteger(a)&&(i.isDate(e)||t.isArray(e))?(a=a%7+s,a===n.create(e).day+1):!!(t.isPlainObject(e)&&t.isPlainObject(a))&&n.overlapRanges(e,a)},a.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},a.prototype.deactivate=function(e,a){var n=this,s=n.item.disable.slice(0);return"flip"==a?n.flipEnable():!1===a?(n.flipEnable(1),s=[]):!0===a?(n.flipEnable(-1),s=[]):a.map(function(e){for(var a=0,o;a<s.length;a+=1)if(n.isDateExact(e,s[a])){o=!0;break}!o&&(i.isInteger(e)||i.isDate(e)||t.isArray(e)||t.isPlainObject(e)&&e.from&&e.to)&&s.push(e)}),s},a.prototype.activate=function(e,a){var n=this,s=n.item.disable,o=s.length;return"flip"==a?n.flipEnable():!0===a?(n.flipEnable(1),s=[]):!1===a?(n.flipEnable(-1),s=[]):a.map(function(e){var a,d,r,c;for(r=0;r<o;r+=1)if(d=s[r],n.isDateExact(d,e)){a=s[r]=null,c=!0;break}else if(n.isDateOverlap(d,e)){t.isPlainObject(e)?(e.inverted=!0,a=e):t.isArray(e)?(a=e,!a[3]&&a.push("inverted")):i.isDate(e)&&(a=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}if(a)for(r=0;r<o;r+=1)if(n.isDateExact(s[r],e)){s[r]=null;break}if(c)for(r=0;r<o;r+=1)if(n.isDateOverlap(s[r],e)){s[r]=null;break}a&&s.push(a)}),s.filter(function(e){return null!=e})},a.prototype.nodes=function(e){var t=this,a=t.settings,n=t.item,s=n.now,o=n.select,d=n.highlight,r=n.view,c=n.disable,l=n.min,p=n.max,m=function(e,t){return a.firstDay&&(e.push(e.shift()),t.push(t.shift())),i.node("thead",i.node("tr",i.group({min:0,max:6,i:1,node:"th",item:function(i){return[e[i],a.klass.weekdays,"scope=col title=\""+t[i]+"\""]}})))}((a.showWeekdaysFull?a.weekdaysFull:a.weekdaysLetter).slice(0),a.weekdaysFull.slice(0)),u=function(e){return i.node("div"," ",a.klass["nav"+(e?"Next":"Prev")]+(e&&r.year>=p.year&&r.month>=p.month||!e&&r.year<=l.year&&r.month<=l.month?" "+a.klass.navDisabled:""),"data-nav="+(e||-1)+" "+i.ariaAttr({role:"button",controls:t.$node[0].id+"_table"})+" title=\""+(e?a.labelMonthNext:a.labelMonthPrev)+"\"")},g=function(n){var s=a.showMonthsShort?a.monthsShort:a.monthsFull;return"short_months"==n&&(s=a.monthsShort),a.selectMonths&&null==n?i.node("select",i.group({min:0,max:11,i:1,node:"option",item:function(e){return[s[e],0,"value="+e+(r.month==e?" selected":"")+(r.year==l.year&&e<l.month||r.year==p.year&&e>p.month?" disabled":"")]}}),a.klass.selectMonth+" browser-default",(e?"":"disabled")+" "+i.ariaAttr({controls:t.$node[0].id+"_table"})+" title=\""+a.labelMonthSelect+"\""):"short_months"==n?null==o?i.node("div",s[r.month]):i.node("div",s[o.month]):i.node("div",s[r.month],a.klass.month)},h=function(n){var s=r.year,o=!0===a.selectYears?5:~~(a.selectYears/2);if(o){var d=l.year,c=p.year,m=s-o,u=s+o;if(d>m&&(u+=d-m,m=d),c<u){var g=m-d,h=u-c;m-=g>h?h:g,u=c}if(a.selectYears&&null==n)return i.node("select",i.group({min:m,max:u,i:1,node:"option",item:function(e){return[e,0,"value="+e+(s==e?" selected":"")]}}),a.klass.selectYear+" browser-default",(e?"":"disabled")+" "+i.ariaAttr({controls:t.$node[0].id+"_table"})+" title=\""+a.labelYearSelect+"\"")}return"raw"==n?i.node("div",s):i.node("div",s,a.klass.year)};return createDayLabel=function(){return null==o?i.node("div",s.date):i.node("div",o.date)},createWeekdayLabel=function(){var e=null==o?s.day:o.day;var t=a.weekdaysFull[e];return t},i.node("div",i.node("div",createWeekdayLabel(),a.klass.weekday_display)+i.node("div",g("short_months"),a.klass.month_display)+i.node("div",createDayLabel(),a.klass.day_display)+i.node("div",h("raw"),a.klass.year_display),a.klass.date_display)+i.node("div",i.node("div",(a.selectYears?g()+h():g()+h())+u()+u(1),a.klass.header)+i.node("table",m+i.node("tbody",i.group({min:0,max:5,i:1,node:"tr",item:function(e){var n=a.firstDay&&0===t.create([r.year,r.month,1]).day?-7:0;return[i.group({min:7*e-r.day+n+1,max:function(){return this.min+7-1},i:1,node:"td",item:function(e){e=t.create([r.year,r.month,e+(a.firstDay?1:0)]);var n=o&&o.pick==e.pick,m=d&&d.pick==e.pick,u=c&&t.disabled(e)||e.pick<l.pick||e.pick>p.pick,g=i.trigger(t.formats.toString,t,[a.format,e]);return[i.node("div",e.date,function(t){return t.push(r.month==e.month?a.klass.infocus:a.klass.outfocus),s.pick==e.pick&&t.push(a.klass.now),n&&t.push(a.klass.selected),m&&t.push(a.klass.highlighted),u&&t.push(a.klass.disabled),t.join(" ")}([a.klass.day]),"data-pick="+e.pick+" "+i.ariaAttr({role:"gridcell",label:g,selected:!!(n&&t.$node.val()===g)||null,activedescendant:!!m||null,disabled:!!u||null})),"",i.ariaAttr({role:"presentation"})]}})]}})),a.klass.table,"id=\""+t.$node[0].id+"_table\" "+i.ariaAttr({role:"grid",controls:t.$node[0].id,readonly:!0})),a.klass.calendar_container)+i.node("div",i.node("button",a.today,a.klass.buttonToday,"type=button data-pick="+s.pick+(e&&!t.disabled(s)?"":" disabled")+" "+i.ariaAttr({controls:t.$node[0].id}))+i.node("button",a.clear,a.klass.buttonClear,"type=button data-clear=1"+(e?"":" disabled")+" "+i.ariaAttr({controls:t.$node[0].id}))+i.node("button",a.close,a.klass.buttonClose,"type=button data-close=true "+(e?"":" disabled")+" "+i.ariaAttr({controls:t.$node[0].id})),a.klass.footer)},a.defaults=function(e){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysLetter:["S","M","T","W","T","F","S"],today:"Today",clear:"Clear",close:"Close",format:"d mmmm, yyyy",klass:{table:e+"table",header:e+"header",date_display:e+"date-display",day_display:e+"day-display",month_display:e+"month-display",year_display:e+"year-display",calendar_container:e+"calendar-container",navPrev:e+"nav--prev",navNext:e+"nav--next",navDisabled:e+"nav--disabled",month:e+"month",year:e+"year",selectMonth:e+"select--month",selectYear:e+"select--year",weekdays:e+"weekday",day:e+"day",disabled:e+"day--disabled",selected:e+"day--selected",highlighted:e+"day--highlighted",now:e+"day--today",infocus:e+"day--infocus",outfocus:e+"day--outfocus",footer:e+"footer",buttonClear:e+"button--clear",buttonToday:e+"button--today",buttonClose:e+"button--close"}}}(e.klasses().picker+"__"),e.extend("pickadate",a)});(function(e){function t(){var t=+e(this).attr("length"),a=+e(this).val().length;e(this).parent().find("span[class=\"character-counter\"]").html(a+"/"+t),n(a<=t,e(this))}function a(t){var a=t.parent().find("span[class=\"character-counter\"]");a.length||(a=e("<span/>").addClass("character-counter").css("float","right").css("font-size","12px").css("height",1),t.parent().append(a))}function i(){e(this).parent().find("span[class=\"character-counter\"]").html("")}function n(e,t){var a=t.hasClass("invalid");e&&a?t.removeClass("invalid"):!e&&!a&&(t.removeClass("valid"),t.addClass("invalid"))}e.fn.characterCounter=function(){return this.each(function(){var n=e(this),s=n.parent().find("span[class=\"character-counter\"]");if(!s.length){var o=void 0!==n.attr("length");o&&(n.on("input",t),n.on("focus",t),n.on("blur",i),a(n))}})},e(document).ready(function(){e("input, textarea").characterCounter()})})(h);(function(t){var e={init:function(a){return a=t.extend({time_constant:200,dist:-100,shift:0,padding:0,full_width:!1},a),this.each(function(){function i(t){return t.targetTouches&&1<=t.targetTouches.length?t.targetTouches[0].clientX:t.clientX}function n(t){return t.targetTouches&&1<=t.targetTouches.length?t.targetTouches[0].clientY:t.clientY}function s(e){return e>=w?e%w:0>e?s(w+e%w):e}function o(e){var t,n,o,d,r,c,l;for(h="number"==typeof e?e:h,v=I((h+A/2)/A),o=h-v*A,d=0>o?1:-1,r=2*(-d*o)/A,a.full_width?l="translateX(0)":(l="translateX("+(u[0].clientWidth-item_width)/2+"px) ",l+="translateY("+(u[0].clientHeight-item_width)/2+"px)"),c=g[s(v)],c.style[D]=l+" translateX("+-o/2+"px) translateX("+d*a.shift*r*t+"px) translateZ("+a.dist*r+"px)",c.style.zIndex=0,tweenedOpacity=a.full_width?1:1-.2*r,c.style.opacity=tweenedOpacity,n=w>>1,t=1;t<=n;++t)a.full_width?(zTranslation=a.dist,tweenedOpacity=t===n&&0>o?1-r:1):(zTranslation=a.dist*(2*t+r*d),tweenedOpacity=1-.2*(2*t+r*d)),c=g[s(v+t)],c.style[D]=l+" translateX("+(a.shift+(A*t-o)/2)+"px) translateZ("+zTranslation+"px)",c.style.zIndex=-t,c.style.opacity=tweenedOpacity,a.full_width?(zTranslation=a.dist,tweenedOpacity=t===n&&0<o?1-r:1):(zTranslation=a.dist*(2*t-r*d),tweenedOpacity=1-.2*(2*t-r*d)),c=g[s(v-t)],c.style[D]=l+" translateX("+(-a.shift+(-A*t-o)/2)+"px) translateZ("+zTranslation+"px)",c.style.zIndex=-t,c.style.opacity=tweenedOpacity;c=g[s(v)],c.style[D]=l+" translateX("+-o/2+"px) translateX("+d*a.shift*r+"px) translateZ("+a.dist*r+"px)",c.style.zIndex=0,tweenedOpacity=a.full_width?1:1-.2*r,c.style.opacity=tweenedOpacity}function d(){var e,t,a,i;e=Date.now(),t=e-N,N=e,a=h-Y,Y=h,i=1e3*a/(1+t),E=.8*i+.2*E}function r(){var e,t;C&&(e=Date.now()-N,t=C*f(-e/a.time_constant),2<t||-2>t?(o(T-t),requestAnimationFrame(r)):o(T))}function c(i){if(R)return i.preventDefault(),i.stopPropagation(),!1;if(!a.full_width){var e=t(i.target).closest(".carousel-item").index(),n=v%w-e;0>n?L(n+w)<L(n)&&(n+=w):0<n&&L(n-w)<n&&(n-=w),0>n?t(this).trigger("carouselNext",[L(n)]):0<n&&t(this).trigger("carouselPrev",[n])}}function l(t){b=!0,R=!1,O=!1,k=i(t),S=n(t),E=C=0,Y=h,N=Date.now(),clearInterval(j),j=setInterval(d,100)}function p(t){var e,a,s;if(b)if(e=i(t),y=n(t),a=k-e,s=L(S-y),30>s&&!O)(2<a||-2>a)&&(R=!0,k=e,o(h+a));else{if(R)return t.preventDefault(),t.stopPropagation(),!1;O=!0}return R?(t.preventDefault(),t.stopPropagation(),!1):void 0}function m(t){return b=!1,clearInterval(j),T=h,(10<E||-10>E)&&(C=.9*E,T=h+C),T=M(T/A)*A,C=T-h,N=Date.now(),requestAnimationFrame(r),t.preventDefault(),t.stopPropagation(),!1}var u=t(this),g,h,v,b,A,w,k,S,C,T,E,D,Y,N,j,R,O;return!!u.hasClass("initialized")||void(a.full_width&&(a.dist=0,imageHeight=u.find(".carousel-item img").first().load(function(){u.css("height",t(this).height())})),u.addClass("initialized"),b=!1,h=T=0,g=[],item_width=u.find(".carousel-item").first().innerWidth(),A=2*item_width+a.padding,u.find(".carousel-item").each(function(){g.push(t(this)[0])}),w=g.length,D="transform",["webkit","Moz","O","ms"].every(function(t){var a=t+"Transform";return"undefined"==typeof document.body.style[a]||(D=a,!1)}),window.onresize=o,function(){"undefined"!=typeof window.ontouchstart&&(u[0].addEventListener("touchstart",l),u[0].addEventListener("touchmove",p),u[0].addEventListener("touchend",m)),u[0].addEventListener("mousedown",l),u[0].addEventListener("mousemove",p),u[0].addEventListener("mouseup",m),u[0].addEventListener("click",c)}(),o(h),t(this).on("carouselNext",function(t,e){void 0===e&&(e=1),T=h+A*e,h!==T&&(C=T-h,N=Date.now(),requestAnimationFrame(r))}),t(this).on("carouselPrev",function(t,e){void 0===e&&(e=1),T=h-A*e,h!==T&&(C=T-h,N=Date.now(),requestAnimationFrame(r))}))})},next:function(e){t(this).trigger("carouselNext",[e])},prev:function(e){t(this).trigger("carouselPrev",[e])}};t.fn.carousel=function(a){if(e[a])return e[a].apply(this,Array.prototype.slice.call(arguments,1));return"object"!=typeof a&&a?void t.error("Method "+a+" does not exist on jQuery.carousel"):e.init.apply(this,arguments)}})(h)});function VanillaQR(A){var x=this;A="object"==typeof A?A:{},x.revision=3,x.imageTypes={bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpg",png:"image/png","svg+xml":"image/svg+xml",tiff:"image/tiff",webp:"image/webp","x-icon":"image/x-icon"},x.toTable=A.toTable,x.domElement=x.toTable?document.createElement("div"):document.createElement("canvas"),x.url=A.url||"",x.size=A.size||280,x.qrc=!1,x.colorLight=A.colorLight||"#fff",x.colorDark=A.colorDark||"#000",x.ecclevel=A.ecclevel||1,x.noBorder=A.noBorder,x.borderSize=A.borderSize||4;var S=[],M=[],d=[],w=[],v=[],e=[],m=function(t,a){var i;t>a&&(i=t,t=a,a=i),i=a,i*=a,i+=a,i>>=1,i+=t,w[i]=1},u=function(t,a){var e;for(d[t+T*a]=1,e=-2;2>e;e++)d[t+e+T*(a-2)]=1,d[t-2+T*(a+e+1)]=1,d[t+2+T*(a+e)]=1,d[t+e+1+T*(a+2)]=1;for(e=0;2>e;e++)m(t-1,a+e),m(t+1,a-e),m(t-e,a-1),m(t+e,a+1)},g=function(e){for(;255<=e;)e-=255,e=(e>>8)+(255&e);return e},p=function(s,d,r,o){var a=VanillaQR.gexp,c=VanillaQR.glog,l,p,m;for(l=0;l<o;l++)S[r+l]=0;for(l=0;l<d;l++){if(m=c[S[s+l]^S[r]],255!=m)for(p=1;p<o;p++)S[r+p-1]=S[r+p]^a[g(m+e[o-p])];else for(p=r;p<r+o;p++)S[p]=S[p+1];S[r+o-1]=255==m?0:a[g(m+e[0])]}},h=function(t,a){var i;return t>a&&(i=t,t=a,a=i),i=a,i+=a*a,i>>=1,i+=t,w[i]},b=function(i){var n,s,r,c;switch(i){case 0:for(s=0;s<T;s++)for(n=0;n<T;n++)1&n+s||h(n,s)||(d[n+s*T]^=1);break;case 1:for(s=0;s<T;s++)for(n=0;n<T;n++)1&s||h(n,s)||(d[n+s*T]^=1);break;case 2:for(s=0;s<T;s++)for(r=0,n=0;n<T;n++,r++)3==r&&(r=0),r||h(n,s)||(d[n+s*T]^=1);break;case 3:for(c=0,s=0;s<T;s++,c++)for(3==c&&(c=0),r=c,n=0;n<T;n++,r++)3==r&&(r=0),r||h(n,s)||(d[n+s*T]^=1);break;case 4:for(s=0;s<T;s++)for(r=0,c=1&s>>1,n=0;n<T;n++,r++)3==r&&(r=0,c=!c),c||h(n,s)||(d[n+s*T]^=1);break;case 5:for(c=0,s=0;s<T;s++,c++)for(3==c&&(c=0),r=0,n=0;n<T;n++,r++)3==r&&(r=0),(1&(n&s))+!(!r|!c)||h(n,s)||(d[n+s*T]^=1);break;case 6:for(c=0,s=0;s<T;s++,c++)for(3==c&&(c=0),r=0,n=0;n<T;n++,r++)3==r&&(r=0),1&(1&(n&s))+(r&&r==c)||h(n,s)||(d[n+s*T]^=1);break;case 7:for(c=0,s=0;s<T;s++,c++)for(3==c&&(c=0),r=0,n=0;n<T;n++,r++)3==r&&(r=0),1&(r&&r==c)+(1&n+s)||h(n,s)||(d[n+s*T]^=1);}},C=function(t){var a=0,i;for(i=0;i<=t;i++)5<=v[i]&&(a+=VanillaQR.N1+v[i]-5);for(i=3;i<t-1;i+=2)v[i-2]==v[i+2]&&v[i+2]==v[i-1]&&v[i-1]==v[i+1]&&3*v[i-1]==v[i]&&(0==v[i-3]||i+3>t||3*v[i-3]>=4*v[i]||3*v[i+3]>=4*v[i])&&(a+=VanillaQR.N3);return a},L=function(){var n=0,s=0,p,m,u,g,h;for(m=0;m<T-1;m++)for(p=0;p<T-1;p++)(d[p+T*m]&&d[p+1+T*m]&&d[p+T*(m+1)]&&d[p+1+T*(m+1)]||!(d[p+T*m]||d[p+1+T*m]||d[p+T*(m+1)]||d[p+1+T*(m+1)]))&&(n+=VanillaQR.N2);for(m=0;m<T;m++){for(v[0]=0,u=g=p=0;p<T;p++)(h=d[p+T*m])==g?v[u]++:v[++u]=1,g=h,s+=g?1:-1;n+=C(u)}0>s&&(s=-s);var b=s,A=0;for(b+=b<<2,b<<=1;b>T*T;)b-=T*T,A++;for(n+=A*VanillaQR.N4,p=0;p<T;p++){for(v[0]=0,u=g=m=0;m<T;m++)(h=d[p+T*m])==g?v[u]++:v[++u]=1,g=h;n+=C(u)}return n},k,D,T,I,Y,j,R;x.genframe=function(t){var a=VanillaQR.eccblocks,i=VanillaQR.gexp,n=VanillaQR.glog,s,o,r,c,l,v,f,A;c=t.length,D=0;do if(D++,r=4*(k-1)+16*(D-1),I=a[r++],Y=a[r++],j=a[r++],R=a[r],r=j*(I+Y)+Y-3+(9>=D),c<=r)break;while(40>D);for(T=17+4*D,l=j+(j+R)*(I+Y)+Y,c=0;c<l;c++)M[c]=0;for(S=t.slice(0),c=0;c<T*T;c++)d[c]=0;for(c=0;c<(T*(T+1)+1)/2;c++)w[c]=0;for(c=0;3>c;c++){for(r=0,o=0,1==c&&(r=T-7),2==c&&(o=T-7),d[o+3+T*(r+3)]=1,s=0;6>s;s++)d[o+s+T*r]=1,d[o+T*(r+s+1)]=1,d[o+6+T*(r+s)]=1,d[o+s+1+T*(r+6)]=1;for(s=1;5>s;s++)m(o+s,r+1),m(o+1,r+s+1),m(o+5,r+s),m(o+s+1,r+5);for(s=2;4>s;s++)d[o+s+T*(r+2)]=1,d[o+2+T*(r+s+1)]=1,d[o+4+T*(r+s)]=1,d[o+s+1+T*(r+4)]=1}if(1<D)for(c=VanillaQR.adelta[D],o=T-7;;){for(s=T-7;s>c-3&&(u(s,o),!(s<c));)s-=c;if(o<=c+9)break;o-=c,u(6,o),u(o,6)}for(d[8+T*(T-8)]=1,o=0;7>o;o++)m(7,o),m(T-8,o),m(7,o+T-7);for(s=0;8>s;s++)m(s,7),m(s+T-8,7),m(s,T-8);for(s=0;9>s;s++)m(s,8);for(s=0;8>s;s++)m(s+T-8,8),m(8,s);for(o=0;7>o;o++)m(8,o+T-7);for(s=0;s<T-14;s++)1&s?(m(8+s,6),m(6,8+s)):(d[8+s+6*T]=1,d[6+T*(8+s)]=1);if(6<D)for(c=VanillaQR.vpat[D-7],r=17,s=0;6>s;s++)for(o=0;3>o;o++,r--)1&(11<r?D>>r-12:c>>r)?(d[5-s+T*(2-o+T-11)]=1,d[2-o+T-11+T*(5-s)]=1):(m(5-s,2-o+T-11),m(2-o+T-11,5-s));for(o=0;o<T;o++)for(s=0;s<=o;s++)d[s+T*o]&&m(s,o);for(l=S.length,v=0;v<l;v++)M[v]=S.charCodeAt(v);if(S=M.slice(0),s=j*(I+Y)+Y,l>=s-2&&(l=s-2,9<D&&l--),v=l,9<D){for(S[v+2]=0,S[v+3]=0;v--;)c=S[v],S[v+3]|=255&c<<4,S[v+2]=c>>4;S[2]|=255&l<<4,S[1]=l>>4,S[0]=64|l>>12}else{for(S[v+1]=0,S[v+2]=0;v--;)c=S[v],S[v+2]|=255&c<<4,S[v+1]=c>>4;S[1]|=255&l<<4,S[0]=64|l>>4}for(v=l+3-(10>D);v<s;)S[v++]=236,S[v++]=17;for(e[0]=1,v=0;v<R;v++){for(e[v+1]=1,f=v;0<f;f--)e[f]=e[f]?e[f-1]^i[g(n[e[f]]+v)]:e[f-1];e[0]=i[g(n[e[0]]+v)]}for(v=0;v<=R;v++)e[v]=n[e[v]];for(r=s,o=0,v=0;v<I;v++)p(o,j,r,R),o+=j,r+=R;for(v=0;v<Y;v++)p(o,j+1,r,R),o+=j+1,r+=R;for(o=0,v=0;v<j;v++){for(f=0;f<I;f++)M[o++]=S[v+f*j];for(f=0;f<Y;f++)M[o++]=S[I*j+v+f*(j+1)]}for(f=0;f<Y;f++)M[o++]=S[I*j+v+f*(j+1)];for(v=0;v<R;v++)for(f=0;f<I+Y;f++)M[o++]=S[s+v+f*R];for(S=M,s=o=T-1,r=l=1,A=(j+R)*(I+Y)+Y,v=0;v<A;v++)for(c=S[v],f=0;8>f;f++,c<<=1){128&c&&(d[s+T*o]=1);do l?s--:(s++,r?0==o?(s-=2,r=!r,6==s&&(s--,o=9)):o--:o==T-1?(s-=2,r=!r,6==s&&(s--,o-=8)):o++),l=!l;while(h(s,o))}for(S=d.slice(0),c=0,o=3e4,r=0;8>r&&(b(r),s=L(),s<o&&(o=s,c=r),7!=c);r++)d=S.slice(0);for(c!=r&&b(c),o=VanillaQR.fmtword[c+(k-1<<3)],r=0;8>r;r++,o>>=1)1&o&&(d[T-1-r+8*T]=1,6>r?d[8+T*r]=1:d[8+T*(r+1)]=1);for(r=0;7>r;r++,o>>=1)1&o&&(d[8+T*(T-7+r)]=1,r?d[6-r+8*T]=1:d[7+8*T]=1);return d},x.init=function(){k=x.ecclevel;var e=x.genframe(x.url);x.toTable?x.tableWrite(e,T):x.canvasWrite(e,T)},x.init()}VanillaQR.prototype={canvasWrite:function(s,d){var e=this;if(!e.qrc&&(e.qrc=e.getContext(e.domElement),!e.qrc))return e.toTable=!0,e.domElement=document.createElement("div"),void e.tableWrite(s,d);var o=e.size,a=e.qrc;a.lineWidth=1;var n=o;n/=d+10,n=Math.round(n-.5);var r=4;e.noBorder?(a.canvas.width=a.canvas.height=n*d,r=0):a.canvas.width=a.canvas.height=o,a.clearRect(0,0,o,o),a.fillStyle=e.colorLight,a.fillRect(0,0,n*(d+8),n*(d+8)),a.fillStyle=e.colorDark;for(var c=0;c<d;c++)for(var p=0;p<d;p++)s[p*d+c]&&a.fillRect(n*(r+c),n*(r+p),n,n)},tableWrite:function(a,r){var A=this,e=Math.round(this.size/r-3.5)+"px",o=r+(A.noBorder?0:2*A.borderSize),t=A.borderSize,i="width:"+e+";height:"+e+";",n=A.colorLight,l=A.colorDark,c=document.createElement("table");c.style.cssText="border:0;border-collapse:collapse;";for(var d=document.createElement("tr"),s=document.createElement("td"),v=function(){return s.cloneNode()},g=function(){var e=v();return e.style.cssText=i+"background:"+l,e},m=function(){var e=v();return e.style.cssText=i+"background:"+n,e},u=function(t){for(var s=t.firstChild,e=0;e<A.borderSize;e++){for(var r=d.cloneNode(),n=0,c;n<o;n++)c=m(),r.appendChild(c);t.appendChild(r),t.insertBefore(r.cloneNode(!0),s)}},h=function(a){for(var i=a.firstChild,e=0;e<t;e++)a.insertBefore(m(),i),a.appendChild(m())},p=0,f;p<r;p++){f=d.cloneNode(),c.appendChild(f);for(var x=0;x<r;x++)if(1===a[p*r+x]){var w=g();f.appendChild(w)}else{var S=m();f.appendChild(S)}A.noBorder||h(f)}A.noBorder||u(c),A.domElement.innerHTML="",A.domElement.appendChild(c)},getContext:function(e){return e.getContext&&e.getContext("2d")?e.getContext("2d"):(console.log("Browser does not have 2d Canvas support"),!1)},toImage:function(t){if(this.qrc){var a=this.imageTypes[t];if(!a)throw new Error(t+" is not a valid image type ");var e=new Image;return e.src=this.domElement.toDataURL(a),e}}},VanillaQR.adelta=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],VanillaQR.vpat=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],VanillaQR.fmtword=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],VanillaQR.eccblocks=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],VanillaQR.glog=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],VanillaQR.gexp=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],VanillaQR.N1=3,VanillaQR.N2=3,VanillaQR.N3=40,VanillaQR.N4=10,define("qrcode",function(){}),function d(c,e,t){function a(i,s){if(!e[i]){if(!c[i]){var o="function"==typeof require&&require;if(!s&&o)return o(i,!0);if(n)return n(i,!0);var r=new Error("Cannot find module '"+i+"'");throw r.code="MODULE_NOT_FOUND",r}var p=e[i]={exports:{}};c[i][0].call(p.exports,function(t){var e=c[i][1][t];return a(e?e:t)},p,p.exports,d,c,e,t)}return e[i].exports}for(var n="function"==typeof require&&require,i=0;i<t.length;i++)a(t[i]);return a}({1:[function(e,t){'use strict';function a(e){e.fn.perfectScrollbar=function(e){return this.each(function(){if("object"==typeof e||"undefined"==typeof e){n.get(this)||i.initialize(this,e)}else{var t=e;"update"===t?i.update(this):"destroy"===t&&i.destroy(this)}})}}var i=e("../main"),n=e("../plugin/instances");if("function"==typeof define&&define.amd)define("perfectScrollbarJQuery",["jquery"],a);else{var s=window.jQuery?window.jQuery:window.$;"undefined"!=typeof s&&a(s)}t.exports=a},{"../main":7,"../plugin/instances":18}],2:[function(e,t,a){'use strict';function i(e,t){var a=e.className.split(" ");0>a.indexOf(t)&&a.push(t),e.className=a.join(" ")}function n(e,t){var a=e.className.split(" "),i=a.indexOf(t);0<=i&&a.splice(i,1),e.className=a.join(" ")}a.add=function(e,t){e.classList?e.classList.add(t):i(e,t)},a.remove=function(e,t){e.classList?e.classList.remove(t):n(e,t)},a.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},{}],3:[function(e,t){'use strict';function a(e,t){return window.getComputedStyle(e)[t]}function i(e,t,a){return"number"==typeof a&&(a=a.toString()+"px"),e.style[t]=a,e}function n(e,t){for(var a in t){var i=t[a];"number"==typeof i&&(i=i.toString()+"px"),e.style[a]=i}return e}var s={};s.e=function(e,t){var a=document.createElement(e);return a.className=t,a},s.appendTo=function(e,t){return t.appendChild(e),e},s.css=function(e,t,s){return"object"==typeof t?n(e,t):"undefined"==typeof s?a(e,t):i(e,t,s)},s.matches=function(e,t){if("undefined"!=typeof e.matches)return e.matches(t);return"undefined"==typeof e.matchesSelector?"undefined"==typeof e.webkitMatchesSelector?"undefined"==typeof e.mozMatchesSelector?"undefined"==typeof e.msMatchesSelector?void 0:e.msMatchesSelector(t):e.mozMatchesSelector(t):e.webkitMatchesSelector(t):e.matchesSelector(t)},s.remove=function(e){"undefined"==typeof e.remove?e.parentNode&&e.parentNode.removeChild(e):e.remove()},s.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return s.matches(e,t)})},t.exports=s},{}],4:[function(e,t){'use strict';var a=function(e){this.element=e,this.events={}};a.prototype.bind=function(e,t){"undefined"==typeof this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},a.prototype.unbind=function(e,t){this.events[e]=this.events[e].filter(function(a){return!!("undefined"!=typeof t&&a!==t)||(this.element.removeEventListener(e,a,!1),!1)},this)},a.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var i=function(){this.eventElements=[]};i.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return"undefined"==typeof t&&(t=new a(e),this.eventElements.push(t)),t},i.prototype.bind=function(e,t,a){this.eventElement(e).bind(t,a)},i.prototype.unbind=function(e,t,a){this.eventElement(e).unbind(t,a)},i.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},i.prototype.once=function(e,t,a){var i=this.eventElement(e),n=function(s){i.unbind(t,n),a(s)};i.bind(t,n)},t.exports=i},{}],5:[function(e,t){'use strict';t.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},{}],6:[function(e,t,a){'use strict';var n=e("./class"),s=e("./dom"),o=a.toInt=function(e){return parseInt(e,10)||0},d=a.clone=function(e){if(!e)return null;if(e.constructor===Array)return e.map(d);if("object"==typeof e){var t={};for(var a in e)t[a]=d(e[a]);return t}return e};a.extend=function(e,t){var a=d(e);for(var i in t)a[i]=d(t[i]);return a},a.isEditable=function(e){return s.matches(e,"input,[contenteditable]")||s.matches(e,"select,[contenteditable]")||s.matches(e,"textarea,[contenteditable]")||s.matches(e,"button,[contenteditable]")},a.removePsClasses=function(e){for(var t=n.list(e),a=0,s;a<t.length;a++)s=t[a],0===s.indexOf("ps-")&&n.remove(e,s)},a.outerWidth=function(e){return o(s.css(e,"width"))+o(s.css(e,"paddingLeft"))+o(s.css(e,"paddingRight"))+o(s.css(e,"borderLeftWidth"))+o(s.css(e,"borderRightWidth"))},a.startScrolling=function(e,t){n.add(e,"ps-in-scrolling"),"undefined"==typeof t?(n.add(e,"ps-x"),n.add(e,"ps-y")):n.add(e,"ps-"+t)},a.stopScrolling=function(e,t){n.remove(e,"ps-in-scrolling"),"undefined"==typeof t?(n.remove(e,"ps-x"),n.remove(e,"ps-y")):n.remove(e,"ps-"+t)},a.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(e,t){'use strict';var a=e("./plugin/destroy"),i=e("./plugin/initialize"),n=e("./plugin/update");t.exports={initialize:i,update:n,destroy:a}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(e,t){'use strict';t.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(e,t){'use strict';var a=e("../lib/helper"),n=e("../lib/dom"),s=e("./instances");t.exports=function(e){var t=s.get(e);t&&(t.event.unbindAll(),n.remove(t.scrollbarX),n.remove(t.scrollbarY),n.remove(t.scrollbarXRail),n.remove(t.scrollbarYRail),a.removePsClasses(e),s.remove(e))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(e,t){'use strict';function a(t,a){function i(e){return e.getBoundingClientRect()}var n=function(t){t.stopPropagation()};a.event.bind(a.scrollbarY,"click",n),a.event.bind(a.scrollbarYRail,"click",function(n){var e=n.pageY-window.pageYOffset-i(a.scrollbarYRail).top,d=e>a.scrollbarYTop?1:-1;o(t,"top",t.scrollTop+d*a.containerHeight),s(t),n.stopPropagation()}),a.event.bind(a.scrollbarX,"click",n),a.event.bind(a.scrollbarXRail,"click",function(n){var e=n.pageX-window.pageXOffset-i(a.scrollbarXRail).left,d=e>a.scrollbarXLeft?1:-1;o(t,"left",t.scrollLeft+d*a.containerWidth),s(t),n.stopPropagation()})}var n=e("../instances"),s=e("../update-geometry"),o=e("../update-scroll");t.exports=function(e){var t=n.get(e);a(e,t)}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(e,t){'use strict';var a=Math.max;function n(t,n){function i(e){var i=s+e*n.railXRatio,d=a(0,n.scrollbarXRail.getBoundingClientRect().left)+n.railXRatio*(n.railXWidth-n.scrollbarXWidth);n.scrollbarXLeft=0>i?0:i>d?d:i;var r=o.toInt(n.scrollbarXLeft*(n.contentWidth-n.containerWidth)/(n.containerWidth-n.railXRatio*n.scrollbarXWidth))-n.negativeScrollAdjustment;l(t,"left",r)}var s=null,r=null,p=function(a){i(a.pageX-r),c(t),a.stopPropagation(),a.preventDefault()},m=function(){o.stopScrolling(t,"x"),n.event.unbind(n.ownerDocument,"mousemove",p)};n.event.bind(n.scrollbarX,"mousedown",function(a){r=a.pageX,s=o.toInt(d.css(n.scrollbarX,"left"))*n.railXRatio,o.startScrolling(t,"x"),n.event.bind(n.ownerDocument,"mousemove",p),n.event.once(n.ownerDocument,"mouseup",m),a.stopPropagation(),a.preventDefault()})}function s(t,n){function i(e){var i=s+e*n.railYRatio,d=a(0,n.scrollbarYRail.getBoundingClientRect().top)+n.railYRatio*(n.railYHeight-n.scrollbarYHeight);n.scrollbarYTop=0>i?0:i>d?d:i;var r=o.toInt(n.scrollbarYTop*(n.contentHeight-n.containerHeight)/(n.containerHeight-n.railYRatio*n.scrollbarYHeight));l(t,"top",r)}var s=null,r=null,p=function(a){i(a.pageY-r),c(t),a.stopPropagation(),a.preventDefault()},m=function(){o.stopScrolling(t,"y"),n.event.unbind(n.ownerDocument,"mousemove",p)};n.event.bind(n.scrollbarY,"mousedown",function(a){r=a.pageY,s=o.toInt(d.css(n.scrollbarY,"top"))*n.railYRatio,o.startScrolling(t,"y"),n.event.bind(n.ownerDocument,"mousemove",p),n.event.once(n.ownerDocument,"mouseup",m),a.stopPropagation(),a.preventDefault()})}var o=e("../../lib/helper"),d=e("../../lib/dom"),r=e("../instances"),c=e("../update-geometry"),l=e("../update-scroll");t.exports=function(e){var t=r.get(e);n(e,t),s(e,t)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(e,t){'use strict';function a(t,a){function s(e,i){var n=t.scrollTop;if(0===e){if(!a.scrollbarYActive)return!1;if(0===n&&0<i||n>=a.contentHeight-a.containerHeight&&0>i)return!a.settings.wheelPropagation}var s=t.scrollLeft;if(0===i){if(!a.scrollbarXActive)return!1;if(0===s&&0>e||s>=a.contentWidth-a.containerWidth&&0<e)return!a.settings.wheelPropagation}return!0}var r=!1;a.event.bind(t,"mouseenter",function(){r=!0}),a.event.bind(t,"mouseleave",function(){r=!1});var c=!1;a.event.bind(a.ownerDocument,"keydown",function(l){if(!(l.isDefaultPrevented&&l.isDefaultPrevented()||l.defaultPrevented)){var e=n.matches(a.scrollbarX,":focus")||n.matches(a.scrollbarY,":focus");if(r||e){var p=document.activeElement?document.activeElement:a.ownerDocument.activeElement;if(p){if("IFRAME"===p.tagName)p=p.contentDocument.activeElement;else for(;p.shadowRoot;)p=p.shadowRoot.activeElement;if(i.isEditable(p))return}var m=0,u=0;switch(l.which){case 37:m=l.metaKey?-a.contentWidth:l.altKey?-a.containerWidth:-30;break;case 38:u=l.metaKey?a.contentHeight:l.altKey?a.containerHeight:30;break;case 39:m=l.metaKey?a.contentWidth:l.altKey?a.containerWidth:30;break;case 40:u=l.metaKey?-a.contentHeight:l.altKey?-a.containerHeight:-30;break;case 33:u=90;break;case 32:u=l.shiftKey?90:-90;break;case 34:u=-90;break;case 35:u=l.ctrlKey?-a.contentHeight:-a.containerHeight;break;case 36:u=l.ctrlKey?t.scrollTop:a.containerHeight;break;default:return;}d(t,"top",t.scrollTop-u),d(t,"left",t.scrollLeft+m),o(t),c=s(m,u),c&&l.preventDefault()}}})}var i=e("../../lib/helper"),n=e("../../lib/dom"),s=e("../instances"),o=e("../update-geometry"),d=e("../update-scroll");t.exports=function(e){var t=s.get(e);a(e,t)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(e,t){'use strict';function a(t,a){function i(e,i){var n=t.scrollTop;if(0===e){if(!a.scrollbarYActive)return!1;if(0===n&&0<i||n>=a.contentHeight-a.containerHeight&&0>i)return!a.settings.wheelPropagation}var s=t.scrollLeft;if(0===i){if(!a.scrollbarXActive)return!1;if(0===s&&0>e||s>=a.contentWidth-a.containerWidth&&0<e)return!a.settings.wheelPropagation}return!0}function n(t){var e=t.deltaX,a=-1*t.deltaY;return("undefined"==typeof e||"undefined"==typeof a)&&(e=-1*t.wheelDeltaX/6,a=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,a*=10),e!==e&&a!==a&&(e=0,a=t.wheelDelta),t.shiftKey?[-a,-e]:[e,a]}function d(e,a){var i=t.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(i){if(!window.getComputedStyle(i).overflow.match(/(scroll|auto)/))return!1;var n=i.scrollHeight-i.clientHeight;if(0<n&&!(0===i.scrollTop&&0<a)&&!(i.scrollTop===n&&0>a))return!0;var s=i.scrollLeft-i.clientWidth;if(0<s&&!(0===i.scrollLeft&&0>e)&&!(i.scrollLeft===s&&0<e))return!0}return!1}function r(r){var e=n(r),l=e[0],p=e[1];d(l,p)||(c=!1,a.settings.useBothWheelAxes?a.scrollbarYActive&&!a.scrollbarXActive?(p?o(t,"top",t.scrollTop-p*a.settings.wheelSpeed):o(t,"top",t.scrollTop+l*a.settings.wheelSpeed),c=!0):a.scrollbarXActive&&!a.scrollbarYActive&&(l?o(t,"left",t.scrollLeft+l*a.settings.wheelSpeed):o(t,"left",t.scrollLeft-p*a.settings.wheelSpeed),c=!0):(o(t,"top",t.scrollTop-p*a.settings.wheelSpeed),o(t,"left",t.scrollLeft+l*a.settings.wheelSpeed)),s(t),c=c||i(l,p),c&&(r.stopPropagation(),r.preventDefault()))}var c=!1;"undefined"==typeof window.onwheel?"undefined"!=typeof window.onmousewheel&&a.event.bind(t,"mousewheel",r):a.event.bind(t,"wheel",r)}var n=e("../instances"),s=e("../update-geometry"),o=e("../update-scroll");t.exports=function(e){var t=n.get(e);a(e,t)}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(e,t){'use strict';function a(e,t){t.event.bind(e,"scroll",function(){s(e)})}var n=e("../instances"),s=e("../update-geometry");t.exports=function(e){var t=n.get(e);a(e,t)}},{"../instances":18,"../update-geometry":19}],15:[function(e,t){'use strict';function a(t,a){function e(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}function d(){c||(c=setInterval(function(){return n.get(t)?void(o(t,"top",t.scrollTop+l.top),o(t,"left",t.scrollLeft+l.left),s(t)):void clearInterval(c)},50))}function r(){c&&(clearInterval(c),c=null),i.stopScrolling(t)}var c=null,l={top:0,left:0},p=!1;a.event.bind(a.ownerDocument,"selectionchange",function(){t.contains(e())?p=!0:(p=!1,r())}),a.event.bind(window,"mouseup",function(){p&&(p=!1,r())}),a.event.bind(window,"keyup",function(){p&&(p=!1,r())}),a.event.bind(window,"mousemove",function(a){if(p){var e={x:a.pageX,y:a.pageY},n={left:t.offsetLeft,right:t.offsetLeft+t.offsetWidth,top:t.offsetTop,bottom:t.offsetTop+t.offsetHeight};e.x<n.left+3?(l.left=-5,i.startScrolling(t,"x")):e.x>n.right-3?(l.left=5,i.startScrolling(t,"x")):l.left=0,e.y<n.top+3?(l.top=5>n.top+3-e.y?-5:-20,i.startScrolling(t,"y")):e.y>n.bottom-3?(l.top=5>e.y-n.bottom+3?5:20,i.startScrolling(t,"y")):l.top=0,0===l.top&&0===l.left?r():d()}})}var i=e("../../lib/helper"),n=e("../instances"),s=e("../update-geometry"),o=e("../update-scroll");t.exports=function(e){var t=n.get(e);a(e,t)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(e,t){'use strict';var a=Math.abs;function n(e,t,i,n){function s(i,n){var s=e.scrollTop,o=e.scrollLeft,d=a(i),r=a(n);if(r>d){if(0>n&&s===t.contentHeight-t.containerHeight||0<n&&0===s)return!t.settings.swipePropagation;}else if(d>r&&(0>i&&o===t.contentWidth-t.containerWidth||0<i&&0===o))return!t.settings.swipePropagation;return!0}function c(t,a){r(e,"top",e.scrollTop-a),r(e,"left",e.scrollLeft-t),d(e)}function l(){w=!0}function p(){w=!1}function m(t){return t.targetTouches?t.targetTouches[0]:t}function u(t){return!!(t.targetTouches&&1===t.targetTouches.length)||!!(t.pointerType&&"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE)}function g(t){if(u(t)){k=!0;var e=m(t);f.pageX=e.pageX,f.pageY=e.pageY,b=new Date().getTime(),null!==x&&clearInterval(x),t.stopPropagation()}}function h(a){if(!k&&t.settings.swipePropagation&&g(a),!w&&k&&u(a)){var e=m(a),i={pageX:e.pageX,pageY:e.pageY},n=i.pageX-f.pageX,o=i.pageY-f.pageY;c(n,o),f=i;var d=new Date().getTime(),r=d-b;0<r&&(A.x=n/r,A.y=o/r,b=d),s(n,o)&&(a.stopPropagation(),a.preventDefault())}}function v(){!w&&k&&(k=!1,clearInterval(x),x=setInterval(function(){return o.get(e)?A.x||A.y?.01>a(A.x)&&.01>a(A.y)?void clearInterval(x):void(c(30*A.x,30*A.y),A.x*=.8,A.y*=.8):void clearInterval(x):void clearInterval(x)},10))}var f={},b=0,A={},x=null,w=!1,k=!1;i?(t.event.bind(window,"touchstart",l),t.event.bind(window,"touchend",p),t.event.bind(e,"touchstart",g),t.event.bind(e,"touchmove",h),t.event.bind(e,"touchend",v)):n&&(window.PointerEvent?(t.event.bind(window,"pointerdown",l),t.event.bind(window,"pointerup",p),t.event.bind(e,"pointerdown",g),t.event.bind(e,"pointermove",h),t.event.bind(e,"pointerup",v)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",l),t.event.bind(window,"MSPointerUp",p),t.event.bind(e,"MSPointerDown",g),t.event.bind(e,"MSPointerMove",h),t.event.bind(e,"MSPointerUp",v)))}var s=e("../../lib/helper"),o=e("../instances"),d=e("../update-geometry"),r=e("../update-scroll");t.exports=function(e){if(s.env.supportsTouch||s.env.supportsIePointer){var t=o.get(e);n(e,t,s.env.supportsTouch,s.env.supportsIePointer)}}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(e,t){'use strict';var a=e("../lib/helper"),n=e("../lib/class"),s=e("./instances"),o=e("./update-geometry"),d={"click-rail":e("./handler/click-rail"),"drag-scrollbar":e("./handler/drag-scrollbar"),keyboard:e("./handler/keyboard"),wheel:e("./handler/mouse-wheel"),touch:e("./handler/touch"),selection:e("./handler/selection")},r=e("./handler/native-scroll");t.exports=function(e,t){t="object"==typeof t?t:{},n.add(e,"ps-container");var c=s.add(e);c.settings=a.extend(c.settings,t),n.add(e,"ps-theme-"+c.settings.theme),c.settings.handlers.forEach(function(t){d[t](e)}),r(e),o(e)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(e,t,a){'use strict';function i(e){function t(){r.add(e,"ps-focus")}function a(){r.remove(e,"ps-focus")}var n=this;n.settings=d.clone(c),n.containerWidth=null,n.containerHeight=null,n.contentWidth=null,n.contentHeight=null,n.isRtl="rtl"===l.css(e,"direction"),n.isNegativeScroll=function(){var t=e.scrollLeft,a=null;return e.scrollLeft=-1,a=0>e.scrollLeft,e.scrollLeft=t,a}(),n.negativeScrollAdjustment=n.isNegativeScroll?e.scrollWidth-e.clientWidth:0,n.event=new p,n.ownerDocument=e.ownerDocument||document,n.scrollbarXRail=l.appendTo(l.e("div","ps-scrollbar-x-rail"),e),n.scrollbarX=l.appendTo(l.e("div","ps-scrollbar-x"),n.scrollbarXRail),n.scrollbarX.setAttribute("tabindex",0),n.event.bind(n.scrollbarX,"focus",t),n.event.bind(n.scrollbarX,"blur",a),n.scrollbarXActive=null,n.scrollbarXWidth=null,n.scrollbarXLeft=null,n.scrollbarXBottom=d.toInt(l.css(n.scrollbarXRail,"bottom")),n.isScrollbarXUsingBottom=n.scrollbarXBottom===n.scrollbarXBottom,n.scrollbarXTop=n.isScrollbarXUsingBottom?null:d.toInt(l.css(n.scrollbarXRail,"top")),n.railBorderXWidth=d.toInt(l.css(n.scrollbarXRail,"borderLeftWidth"))+d.toInt(l.css(n.scrollbarXRail,"borderRightWidth")),l.css(n.scrollbarXRail,"display","block"),n.railXMarginWidth=d.toInt(l.css(n.scrollbarXRail,"marginLeft"))+d.toInt(l.css(n.scrollbarXRail,"marginRight")),l.css(n.scrollbarXRail,"display",""),n.railXWidth=null,n.railXRatio=null,n.scrollbarYRail=l.appendTo(l.e("div","ps-scrollbar-y-rail"),e),n.scrollbarY=l.appendTo(l.e("div","ps-scrollbar-y"),n.scrollbarYRail),n.scrollbarY.setAttribute("tabindex",0),n.event.bind(n.scrollbarY,"focus",t),n.event.bind(n.scrollbarY,"blur",a),n.scrollbarYActive=null,n.scrollbarYHeight=null,n.scrollbarYTop=null,n.scrollbarYRight=d.toInt(l.css(n.scrollbarYRail,"right")),n.isScrollbarYUsingRight=n.scrollbarYRight===n.scrollbarYRight,n.scrollbarYLeft=n.isScrollbarYUsingRight?null:d.toInt(l.css(n.scrollbarYRail,"left")),n.scrollbarYOuterWidth=n.isRtl?d.outerWidth(n.scrollbarY):null,n.railBorderYWidth=d.toInt(l.css(n.scrollbarYRail,"borderTopWidth"))+d.toInt(l.css(n.scrollbarYRail,"borderBottomWidth")),l.css(n.scrollbarYRail,"display","block"),n.railYMarginHeight=d.toInt(l.css(n.scrollbarYRail,"marginTop"))+d.toInt(l.css(n.scrollbarYRail,"marginBottom")),l.css(n.scrollbarYRail,"display",""),n.railYHeight=null,n.railYRatio=null}function n(e){return e.getAttribute("data-ps-id")}function s(e,t){e.setAttribute("data-ps-id",t)}function o(e){e.removeAttribute("data-ps-id")}var d=e("../lib/helper"),r=e("../lib/class"),c=e("./default-setting"),l=e("../lib/dom"),p=e("../lib/event-manager"),m=e("../lib/guid"),u={};a.add=function(e){var t=m();return s(e,t),u[t]=new i(e),u[t]},a.remove=function(e){delete u[n(e)],o(e)},a.get=function(e){return u[n(e)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(e,t){'use strict';var a=Math.min,n=Math.max;function s(e,t){return e.settings.minScrollbarLength&&(t=n(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=a(t,e.settings.maxScrollbarLength)),t}function o(e,t){var a={width:t.railXWidth};a.left=t.isRtl?t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:e.scrollLeft,t.isScrollbarXUsingBottom?a.bottom=t.scrollbarXBottom-e.scrollTop:a.top=t.scrollbarXTop+e.scrollTop,c.css(t.scrollbarXRail,a);var i={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?i.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:i.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:i.left=t.scrollbarYLeft+e.scrollLeft,c.css(t.scrollbarYRail,i),c.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),c.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}var d=e("../lib/helper"),r=e("../lib/class"),c=e("../lib/dom"),l=e("./instances"),p=e("./update-scroll");t.exports=function(e){var t=l.get(e);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight;var a;e.contains(t.scrollbarXRail)||(a=c.queryChildren(e,".ps-scrollbar-x-rail"),0<a.length&&a.forEach(function(e){c.remove(e)}),c.appendTo(t.scrollbarXRail,e)),e.contains(t.scrollbarYRail)||(a=c.queryChildren(e,".ps-scrollbar-y-rail"),0<a.length&&a.forEach(function(e){c.remove(e)}),c.appendTo(t.scrollbarYRail,e)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=s(t,d.toInt(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=d.toInt((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=s(t,d.toInt(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=d.toInt(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),o(e,t),t.scrollbarXActive?r.add(e,"ps-active-x"):(r.remove(e,"ps-active-x"),t.scrollbarXWidth=0,t.scrollbarXLeft=0,p(e,"left",0)),t.scrollbarYActive?r.add(e,"ps-active-y"):(r.remove(e,"ps-active-y"),t.scrollbarYHeight=0,t.scrollbarYTop=0,p(e,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(e,t){'use strict';var a=e("./instances"),n=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t},s,o;t.exports=function(e,t,d){if("undefined"==typeof e)throw"You must provide an element to the update-scroll function";if("undefined"==typeof t)throw"You must provide an axis to the update-scroll function";if("undefined"==typeof d)throw"You must provide a value to the update-scroll function";"top"===t&&0>=d&&(e.scrollTop=d=0,e.dispatchEvent(n("ps-y-reach-start"))),"left"===t&&0>=d&&(e.scrollLeft=d=0,e.dispatchEvent(n("ps-x-reach-start")));var r=a.get(e);"top"===t&&d>=r.contentHeight-r.containerHeight&&(d=r.contentHeight-r.containerHeight,1>=d-e.scrollTop?d=e.scrollTop:e.scrollTop=d,e.dispatchEvent(n("ps-y-reach-end"))),"left"===t&&d>=r.contentWidth-r.containerWidth&&(d=r.contentWidth-r.containerWidth,1>=d-e.scrollLeft?d=e.scrollLeft:e.scrollLeft=d,e.dispatchEvent(n("ps-x-reach-end"))),s||(s=e.scrollTop),o||(o=e.scrollLeft),"top"===t&&d<s&&e.dispatchEvent(n("ps-scroll-up")),"top"===t&&d>s&&e.dispatchEvent(n("ps-scroll-down")),"left"===t&&d<o&&e.dispatchEvent(n("ps-scroll-left")),"left"===t&&d>o&&e.dispatchEvent(n("ps-scroll-right")),"top"===t&&(e.scrollTop=s=d,e.dispatchEvent(n("ps-scroll-y"))),"left"===t&&(e.scrollLeft=o=d,e.dispatchEvent(n("ps-scroll-x")))}},{"./instances":18}],21:[function(e,t){'use strict';var a=e("../lib/helper"),n=e("../lib/dom"),s=e("./instances"),o=e("./update-geometry"),d=e("./update-scroll");t.exports=function(e){var t=s.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,n.css(t.scrollbarXRail,"display","block"),n.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=a.toInt(n.css(t.scrollbarXRail,"marginLeft"))+a.toInt(n.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=a.toInt(n.css(t.scrollbarYRail,"marginTop"))+a.toInt(n.css(t.scrollbarYRail,"marginBottom")),n.css(t.scrollbarXRail,"display","none"),n.css(t.scrollbarYRail,"display","none"),o(e),d(e,"top",e.scrollTop),d(e,"left",e.scrollLeft),n.css(t.scrollbarXRail,"display",""),n.css(t.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]),define("xabber-dependencies",["backbone","underscore","jquery","moment","wavesurfer","slug","sha256","magnific-popup","i18next","i18next-post","strophe","strophe.disco","strophe.ping","strophe.rsm","strophe.caps","strophe.pubsub","omemo","backbone.localsync","sha1_hasher","materialize","qrcode","perfectScrollbarJQuery"],function(e,t,a,i,n,s,o,d,r,c,l){return t.extend({$:a,_:t,moment:i,WaveSurfer:n,slug:s,xabber_i18next:r,xabber_i18next_sprintf:c,sha256:o,magnificPopup:d,Strophe:l},l)});var constants={STORAGE_NAME:"xabber-storage",STORAGE_VERSION:"v8",FAVICON_DEFAULT:"images/favicon.png",FAVICON_MESSAGE:"images/favicon-message.png",BACKGROUND_IMAGE:"images/background.png",WIDTH_MEDIUM:1650,WIDTH_NARROW:1280,WIDTH_TINY:1152,LOG_LEVEL_NONE:-1,LOG_LEVEL_ERROR:1,LOG_LEVEL_WARN:2,LOG_LEVEL_INFO:3,LOG_LEVEL_DEBUG:4,LOG_LEVEL:"ERROR",KEY_BACKSPACE:8,KEY_TAB:9,KEY_ENTER:13,KEY_SHIFT:16,KEY_CTRL:17,KEY_ESCAPE:27,KEY_SPACE:32,KEY_ARROW_LEFT:37,KEY_ARROW_UP:38,KEY_ARROW_RIGHT:39,KEY_ARROW_DOWN:40,KEY_DELETE:46,KEY_FORWARD_SLASH:47,KEY_AT:50,VOICE_MSG_TIME:120,PASSWORD_DOT:String.fromCharCode(8226),CONNECTION_URL:null,CONN_STATUSES:{0:"ERROR",1:"CONNECTING",2:"CONNFAIL",3:"AUTHENTICATING",4:"AUTHFAIL",5:"CONNECTED",6:"DISCONNECTED",7:"DISCONNECTING",8:"ATTACHED",9:"REDIRECT",10:"CONNTIMEOUT"},PREKEYS_COUNT:100,MIN_PREKEYS_COUNT:80,AES_KEY_LENGTH:128,AES_TAG_LENGTH:128,AES_EXTRACTABLE:!0,BAD_CONN_STATUSES:[0,2,4,6,10],RECONNECTION_TIMEOUTS:[5e3,1e4,15e3],STATUS_WEIGHTS:{chat:1,online:2,away:3,xa:4,dnd:5,offline:6,unavailable:7},PRESENT_INTERVAL:3e4,CHATSTATE_INTERVAL_COMPOSING_AUDIO:5e3,CHATSTATE_TIMEOUT_PAUSED:15e3,CHATSTATE_TIMEOUT_STOPPED:5e3,CHATSTATE_TIMEOUT_PAUSED_AUDIO:1e4,JINGLE_WAITING_TIME:60,SYNCHRONIZATION_RSM_MAX:25,REGISTRATION_DOMAINS:[],LOGIN_DOMAINS:[],TRUSTED_DOMAINS:[],RECOMMENDED_DOMAIN:"",REGISTRATION_BUTTON:!0,REGISTRATION_CUSTOM_DOMAIN:!0,LOGIN_CUSTOM_DOMAIN:!0,TURN_SERVERS_LIST:[{url:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"},{urls:"turn:turn.editcompany.org:5439",username:"test",credential:"1111"},{urls:"turn:192.158.29.39:3478?transport=udp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"},{urls:"turn:192.158.29.39:3478?transport=tcp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"}],JINGLE_MSG_PROPOSE:0,JINGLE_MSG_REJECT:1,JINGLE_MSG_ACCEPT:2,MSG_BLOCKED:-2,MSG_ERROR:-1,MSG_PENDING:0,MSG_SENT:1,MSG_DELIVERED:2,MSG_DISPLAYED:3,MSG_ARCHIVED:4,MSG_SAVED:5,RSM_ATTRIBUTES:["max","first","last","after","before","index","count"],MAM_ATTRIBUTES:["with","start","end"],GENERAL_GROUP_ID:1,NON_ROSTER_GROUP_ID:2,MATERIAL_COLORS:["red","green","blue","deep-purple","orange","lime","pink","purple","indigo","light-blue","cyan","teal","light-green","amber","deep-orange","brown","blue-grey"],MAX_AVATAR_FILE_SIZE:64e3,AVATAR_PRIORITIES:{VCARD_AVATAR:0,PUBSUB_AVATAR:1},EMAIL_FOR_JOIN_TRANSLATION:"info@xabber.com",AVATAR_SIZES:{TOOLBAR_ACCOUNT_ITEM:32,SETTINGS_ACCOUNT_ITEM:32,XABBER_ACCOUNT:32,SYNCHRONIZE_ACCOUNT_ITEM:36,MENTION_ITEM:36,ACCOUNT_SETTINGS_LEFT:96,ACCOUNT_VCARD_EDIT:80,ROSTER_RIGHT_ACCOUNT_ITEM:38,ROSTER_LEFT_ACCOUNT_ITEM:40,PARTICIPANT_DETAILS_ITEM:48,CONTACT_RIGHT_ITEM:32,GROUPCHAT_MEMBER_ITEM:32,CONTACT_LEFT_ITEM:32,CONTACT_BLOCKED_ITEM:32,CONTACT_DETAILS:192,GROUP_SETTINGS:96,CHAT_ITEM:40,CHAT_HEAD:40,CHAT_MESSAGE:32,CHAT_BOTTOM:48,XABBER_VOICE_CALL_VIEW:128,OMEMO_ENABLE_SETTING:182},SOUNDS:{beep_up:"sounds/beep_up.ogg",tiny_noize:"sounds/tiny_noize.ogg",retro_game:"sounds/retro_game.ogg",pixel_beep:"sounds/pixel_beep.ogg",beep_positive:"sounds/beep_positive.ogg",good_chime:"sounds/good_chime.ogg",cellular_click:"sounds/cellular_click.ogg",bleep:"sounds/bleep.ogg",mono_u:"sounds/mono_u.ogg",plop:"sounds/plop.ogg",ether:"sounds/ether.ogg",pop:"sounds/pop.ogg",computer_chime:"sounds/computer_chime.ogg",beep_a:"sounds/beep_a.ogg",call:"sounds/marching-band-dave-girtsman.mp3",connecting:"sounds/alien-bomb-timer.wav",busy:"sounds/phone_busy.wav",attention:"sounds/attention.wav"},SYNC_WAY_DATA:{no:{tip:"xabber_account__sync__settings_already_synced",icon:"mdi-cloud-check"},from_server:{tip:"xabber_account__sync__settings_will_be_downloaded",icon:"mdi-cloud-download"},to_server:{tip:"xabber_account__sync__settings_will_be_uploaded",icon:"mdi-cloud-upload"},delete:{tip:"xabber_account__sync__acc_will_be_deleted",icon:"mdi-delete"},off_local:{tip:"xabber_account__sync__local_acc",icon:"mdi-cloud-outline-off"},off_remote:{tip:"xabber_account__sync__remote_acc",icon:"mdi-cloud-outline-off"}},SYNCED_STATUS_DATA:{off:{tip:"xabber_account__sync_status__disabled",icon:"mdi-cloud-outline-off"},yes:{tip:"xabber_account__sync_status__synced",icon:"mdi-cloud-check"},no:{tip:"xabber_account__sync_status__not_synced",icon:"mdi-cloud"}},EMOJI_LIST_NAME:function(e){return{smiles_and_people:"emoji_list__catelory_name__smiles_and_people",body_and_clothes:"emoji_list__catelory_name__body_and_clothes",animals_and_nature:"emoji_list__catelory_name__animals_and_nature",food_and_drinks:"emoji_list__catelory_name__food_and_drinks",travel_and_places:"emoji_list__catelory_name__travel_and_places",events:"emoji_list__catelory_name__events",objects:"emoji_list__catelory_name__objects",signs:"emoji_list__catelory_name__signs"}[e]},QUOTE_MARKER:"&gt;",MARKUP_TAGS:["bold","underline","italic","strike","link","quote"],BLANK_VIDEO:{OGG:"data:video/ogg;base64, T2dnUwACAAAAAAAAAAAjaKehAAAAAEAjsCsBKoB0aGVvcmEDAgEACwAJAACwAACQAAAAAAAZAAAAAQAAAQAAAQADDUAA2E9nZ1MAAgAAAAAAAAAAlksvwgAAAABKGTdzAR4Bdm9yYmlzAAAAAAKAuwAAAAAAAIC1AQAAAAAAuAFPZ2dTAAAAAAAAAAAAACNop6EBAAAAPZIZjg41////////////////kIF0aGVvcmENAAAATGF2ZjU1LjMzLjEwMAEAAAAVAAAAZW5jb2Rlcj1MYXZmNTUuMzMuMTAwgnRoZW9yYb7NKPe5zWsYtalJShBznOYxjFKUpCEIMYxiEIQhCEAAAAAAAAAAAAARba5TZ5LI/FYS/Hg5W2zmKvVoq1QoEykkWhD+eTmbjWZTCXiyVSmTiSSCGQh8PB2OBqNBgLxWKhQJBGIhCHw8HAyGAsFAiDgVFtrlNnksj8VhL8eDlbbOYq9WirVCgTKSRaEP55OZuNZlMJeLJVKZOJJIIZCHw8HY4Go0GAvFYqFAkEYiEIfDwcDIYCwUCIOBQLDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8MDA8SFBQVDQ0OERIVFRQODg8SFBUVFQ4QERMUFRUVEBEUFRUVFRUSExQVFRUVFRQVFRUVFRUVFRUVFRUVFRUQDAsQFBkbHA0NDhIVHBwbDg0QFBkcHBwOEBMWGx0dHBETGRwcHh4dFBgbHB0eHh0bHB0dHh4eHh0dHR0eHh4dEAsKEBgoMz0MDA4TGjo8Nw4NEBgoOUU4DhEWHTNXUD4SFiU6RG1nTRgjN0BRaHFcMUBOV2d5eGVIXF9icGRnYxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMSEhUZGhoaGhIUFhoaGhoaFRYZGhoaGhoZGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaERIWHyQkJCQSFBgiJCQkJBYYISQkJCQkHyIkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJBESGC9jY2NjEhUaQmNjY2MYGjhjY2NjYy9CY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2MVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVEhISFRcYGRsSEhUXGBkbHBIVFxgZGxwdFRcYGRscHR0XGBkbHB0dHRgZGxwdHR0eGRscHR0dHh4bHB0dHR4eHhERERQXGhwgEREUFxocICIRFBcaHCAiJRQXGhwgIiUlFxocICIlJSUaHCAiJSUlKRwgIiUlJSkqICIlJSUpKioQEBAUGBwgKBAQFBgcICgwEBQYHCAoMEAUGBwgKDBAQBgcICgwQEBAHCAoMEBAQGAgKDBAQEBggCgwQEBAYICAB8Xlx0fV7c7D8vrrAaZid8hRvB1RN7csxFuo43wH7lEkS9wbGS+tVSNMyuxdiECcjB7R1Ml85htasNjKpSvPt3D8k7iGmZXYuxBC+RR4arUGxkvH5y7mJXR7R5Jwn3VUhBiuap91VIrsaCM5TSg9o867khwMrWY2+cP4rwvBLzt/wnHaYe0edSRMYC6tZmU1BrvhktIUf2gXoU8bHMuyNA7lB7R51ym213sFcFKowIviT/i0Wscg+4RDubX+4haRsMxZWgN05K5FD3bzqS9VSVCPM4TpWs2C43ihFdgaSByeKHu3Xf/2TG8tgpB7PAtOs7jixWYw+Ayo5GjUTSybX/1KW52RxYfB8nBNLJtHgt4DPq6BZWBFpjyZX/1KW5Ca0evOwG1EX/A9j5fQm5hOz6W2CtcCaWTXTFAeZO71VIgCTX69y9TiaXag3Os2ES1DcLKw0/xR5HfnCqkpQF0Z1kxKNfhZWLycml2keduHMQh3HubB/pbUUoCK5wxetZRZWPJF/bdyE21H2YjMOhP/pkthqKUCOEWVm68+1J5n7ahES5sOhaZPdOC5j4kc91FVIsrF8ofe+A2on/16Z4RiKQZcMU3NouO9N4YAvrWaiA6h4bfLqhTitbnnJ2iPSVRNJH+aZGE+YXzq7Ah/OncW2K59AKamlocOUYTSvaJPNcjDfMGrmG9pOV2MbgI9v3B3ECZ7RLJ51UpzMn0C1huA87Ngom9lkiaw3t5yvFZmDl1HpkuP+PiqlawgD69jAT5Nxr2i6cwiytcwHhK2KJvZI9C1m/4VUil8RvO/ydxmgsFdzdgGpMbUeyyRNOi1k5hMb6hVSMuTrOE/xuDhGExQ219l07sV2kG5fOEnkWHwgqUkbvC0P2KTytY4nHLqJDc3DMGlDbX2aXK/4UuJxizaIkZITS7a3HN5374PrVlYKIcP9xl1BUKqQ7aAml2k1o5uGcN8A+tPz1HF1YVnmE7cyx4FIiUA2ml1k0hX9HB7l4tMO+R9YrMWcf5Anub1BZXUp3Ce4jBM21l0kyhcF/vg6FGeHa345MYv4BVSciTJhj5AbuD2K0dfIXc4jKAbazaS53rv1lYqpIVr2fcgcPox4u/WVnRfJ25GGING2s2cqjKIVUtwGbRtrljLd9CQOHhewUTfiKxWk7Olr2dHyIKlLgejEbasmmdGF/dhuhVrU9xGi6Hksgm/+5Bw813T3mJyRNqIYGdYspVZFzQ6dhNLJ7H+fYWh8Q+cMbzLc/O0evM4srXGjpECaXaT2jApqM4LRavgPnH7ecDRQSErabX3zC4EcXfOVZZUpYs3UIfMsKVR+6hgFzHhvWWWl4EqZtrJpHnyeO0T2icPrqVRyyDRKmbayexv7wdolGfh1hwtsK4G5jDOIHz/lTULUM47PaBmNJm2ssmTq+ssXeHBjgij3G5P+u5QVFIGQ21TNM5aGOHbqKssQ/HiM9kvcWjdCtF6gZNMzbXFhNP2gV2FNQi+OpOR+S+3RvOBVSOr+E5hjyPrQho7/QDNEG2qRNLpHl6WVl3m4p3POFvwEWUN0ByvCQTSttdM48H7tjQWVk73qoUvhiSDbVK0mzyohbuHXofmEaK/xXYJ+Vq7tBUN6lMAdrouC3p96IS8kMzbVK0myY4f+HKdRGsrG9SlDwEfQkXsGLIbapmmcv/sA5TrqC36t4sRdjylU4JC9KwG2plM0zxuT2iFFzAPXyj9ZWRu+tx5UpFv0jn0gQrKyMF5MyaZsDbXG7/qIdp0tHG4jOQumLzBliaZttaLfZFUBSOu7FaUn/+IXETfwUj2E0o6gJ2HB/l8N7jFnzWWBESErabWPvy9bUKqS4y78CME0rbXSTNFRf8H7r1wwxQbltish5nFVIRkhKaTNtc6L3LHAh8+B2yi/tHvXG4nusVwAKMb/0/MCmoWrvASDM0mbay5YRI+7CtC96OPtxudDEyTGmbbWVRgkvR8qaiA8+rLCft7cW8H8UI3E8nzmJVSQIT3+0srHfUbgKA21ZNM8WEy+W7wbj9OuBpm21MKGWN80kaA5PZfoSqkRPLa1h31wIEjiUhcnX/e5VSWVkQnPhtqoYXrjLFpn7M8tjB17xSqfWgoA21StJpM48eSG+5A/dsGUQn8sV7impA4dQjxPyrsBfHd8tUGBIJWkxtrnljE3eu/xTUO/nVsA9I4uVlZ5uQvy9IwYjbWUmaZ5XE9HAWVkXUKmoI3y4vDKZpnKNtccJHK2iA83ej+fvgI3KR9P6qpG/kBCUdxHFisLkq8aZttTCZlj/b0G8XoLX/3fHhZWCVcMsWmZtqmYXz0cpOiBHCqpKUZu76iICRxYVuSULpmF/421MsWmfyhbP4ew1FVKAjFlY437JXImUTm2r/4ZYtMy61hf16RPJIRA8tU1BDc5/JzAkEzTM21lyx7sK9wojRX/OHXoOv05IDbUymaZyscL7qlMA8c/CiK3csceqzuOEU1EPpbz4QEahIShpm21MJmWN924f98WKyf51EEYBli0zNtUzC+6X9P9ysrU1CHyA3RJFFr1w67HpyULT+YMsWmZtquYXz97oKil44sI1bpL8hRSDeMkhiIBwOgxwZ5Fs6+5M+NdH+3Kjv0sreSqqRvGSQxEA4HQY4M8i2dfcmfGuj/blR36WVvJVVI3jJIYiAcDoMcGeRbOvuTPjXR/tyo79LK3kqqkVUnCfqAES8EzTM21lykY4Q+LKxby+9F3ZHR/uC2OGpS9cv6BZXAebhckMGIymaZm2st8/B38i6A/n58pVLKwfURet4UBwSF6UaZttSZljhd2jW9BZWcrX0/hG4Sdt/SBCdH6UMJmWK80zba3URKaik8iB9PR2459CuyOAbi0/GWLTMmYXm2t0vUkNQhRPVldKpAN5HgHyZfdOtGuj/YxwZ5S8u3CjqMgQoyQJRdawvJlE530/+sVg21c8GWLTPf3yJVSVUoCMWVjjfslciZRObav/hli0zLrWF/XpE8khT2dnUwAAAAAAAAAAAACWSy/CAQAAAB7oAsQRNv///////////////////wcDdm9yYmlzDQAAAExhdmY1NS4zMy4xMDABAAAAFQAAAGVuY29kZXI9TGF2ZjU1LjMzLjEwMAEFdm9yYmlzJUJDVgEAQAAAJHMYKkalcxaEEBpCUBnjHELOa+wZQkwRghwyTFvLJXOQIaSgQohbKIHQkFUAAEAAAIdBeBSEikEIIYQlPViSgyc9CCGEiDl4FIRpQQghhBBCCCGEEEIIIYRFOWiSgydBCB2E4zA4DIPlOPgchEU5WBCDJ0HoIIQPQriag6w5CCGEJDVIUIMGOegchMIsKIqCxDC4FoQENSiMguQwyNSDC0KImoNJNfgahGdBeBaEaUEIIYQkQUiQgwZByBiERkFYkoMGObgUhMtBqBqEKjkIH4QgNGQVAJAAAKCiKIqiKAoQGrIKAMgAABBAURTHcRzJkRzJsRwLCA1ZBQAAAQAIAACgSIqkSI7kSJIkWZIlWZIlWZLmiaosy7Isy7IsyzIQGrIKAEgAAFBRDEVxFAcIDVkFAGQAAAigOIqlWIqlaIrniI4IhIasAgCAAAAEAAAQNENTPEeURM9UVde2bdu2bdu2bdu2bdu2bVuWZRkIDVkFAEAAABDSaWapBogwAxkGQkNWAQAIAACAEYowxIDQkFUAAEAAAIAYSg6iCa0535zjoFkOmkqxOR2cSLV5kpuKuTnnnHPOyeacMc4555yinFkMmgmtOeecxKBZCpoJrTnnnCexedCaKq0555xxzulgnBHGOeecJq15kJqNtTnnnAWtaY6aS7E555xIuXlSm0u1Oeecc84555xzzjnnnOrF6RycE84555yovbmWm9DFOeecT8bp3pwQzjnnnHPOOeecc84555wgNGQVAAAEAEAQho1h3CkI0udoIEYRYhoy6UH36DAJGoOcQurR6GiklDoIJZVxUkonCA1ZBQAAAgBACCGFFFJIIYUUUkghhRRiiCGGGHLKKaeggkoqqaiijDLLLLPMMssss8w67KyzDjsMMcQQQyutxFJTbTXWWGvuOeeag7RWWmuttVJKKaWUUgpCQ1YBACAAAARCBhlkkFFIIYUUYogpp5xyCiqogNCQVQAAIACAAAAAAE/yHNERHdERHdERHdERHdHxHM8RJVESJVESLdMyNdNTRVV1ZdeWdVm3fVvYhV33fd33fd34dWFYlmVZlmVZlmVZlmVZlmVZliA0ZBUAAAIAACCEEEJIIYUUUkgpxhhzzDnoJJQQCA1ZBQAAAgAIAAAAcBRHcRzJkRxJsiRL0iTN0ixP8zRPEz1RFEXTNFXRFV1RN21RNmXTNV1TNl1VVm1Xlm1btnXbl2Xb933f933f933f933f931dB0JDVgEAEgAAOpIjKZIiKZLjOI4kSUBoyCoAQAYAQAAAiuIojuM4kiRJkiVpkmd5lqiZmumZniqqQGjIKgAAEABAAAAAAAAAiqZ4iql4iqh4juiIkmiZlqipmivKpuy6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6rguEhqwCACQAAHQkR3IkR1IkRVIkR3KA0JBVAIAMAIAAABzDMSRFcizL0jRP8zRPEz3REz3TU0VXdIHQkFUAACAAgAAAAAAAAAzJsBTL0RxNEiXVUi1VUy3VUkXVU1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU3TNE0TCA1ZCQCQAQCQEFMtLcaaCYskYtJqq6BjDFLspbFIKme1t8oxhRi1XhqHlFEQe6kkY4pBzC2k0CkmrdZUQoUUpJhjKhVSDlIgNGSFABCaAeBwHECyLECyLAAAAAAAAACQNA3QPA+wNA8AAAAAAAAAJE0DLE8DNM8DAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEDSNEDzPEDzPAAAAAAAAADQPA/wPBHwRBEAAAAAAAAALM8DNNEDPFEEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEDSNEDzPEDzPAAAAAAAAACwPA/wRBHQPBEAAAAAAAAALM8DPFEEPNEDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAQ4AAAEGAhFBqyIgCIEwBwSBIkCZIEzQNIlgVNg6bBNAGSZUHToGkwTQAAAAAAAAAAAAAkTYOmQdMgigBJ06Bp0DSIIgAAAAAAAAAAAACSpkHToGkQRYCkadA0aBpEEQAAAAAAAAAAAADPNCGKEEWYJsAzTYgiRBGmCQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQasiIAiBMAcDiKZQEAgOM4lgUAAI7jWBYAAFiWJYoAAGBZmigCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAABhwAAAIMKEMFBqyEgCIAgBwKIplAcexLOA4lgUkybIAlgXQPICmAUQRAAgAAChwAAAIsEFTYnGAQkNWAgBRAAAGxbEsTRNFkqRpmieKJEnTPE8UaZrneZ5pwvM8zzQhiqJomhBFUTRNmKZpqiowTVUVAABQ4AAAEGCDpsTiAIWGrAQAQgIAHIpiWZrmeZ4niqapmiRJ0zxPFEXRNE1TVUmSpnmeKIqiaZqmqrIsTfM8URRF01RVVYWmeZ4oiqJpqqrqwvM8TxRF0TRV1XXheZ4niqJomqrquhBFUTRN01RNVXVdIIqmaZqqqqquC0RPFE1TVV3XdYHniaJpqqqrui4QTdNUVVV1XVkGmKZpqqrryjJAVVXVdV1XlgGqqqqu67qyDFBV13VdWZZlAK7rurIsywIAAA4cAAACjKCTjCqLsNGECw9AoSErAoAoAADAGKYUU8owJiGkEBrGJIQUQiYlpdJSqiCkUlIpFYRUSiolo5RSailVEFIpqZQKQiollVIAANiBAwDYgYVQaMhKACAPAIAwRinGGHNOIqQUY845JxFSijHnnJNKMeacc85JKRlzzDnnpJTOOeecc1JK5pxzzjkppXPOOeeclFJK55xzTkopJYTOQSellNI555wTAABU4AAAEGCjyOYEI0GFhqwEAFIBAAyOY1ma5nmiaJqWJGma53meKJqmJkma5nmeJ4qqyfM8TxRF0TRVled5niiKommqKtcVRdM0TVVVXbIsiqZpmqrqujBN01RV13VdmKZpqqrrui5sW1VV1XVlGbatqqrqurIMXNd1ZdmWgSy7ruzasgAA8AQHAKACG1ZHOCkaCyw0ZCUAkAEAQBiDkEIIIWUQQgohhJRSCAkAABhwAAAIMKEMFBqyEgBIBQAAjLHWWmuttdZAZ6211lprrYDMWmuttdZaa6211lprrbXWUmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaay2llFJKKaWUUkoppZRSSimllFJKBQD6VTgA+D/YsDrCSdFYYKEhKwGAcAAAwBilGHMMQimlVAgx5px0VFqLsUKIMeckpNRabMVzzkEoIZXWYiyecw5CKSnFVmNRKYRSUkottliLSqGjklJKrdVYjDGppNZai63GYoxJKbTUWosxFiNsTam12GqrsRhjayottBhjjMUIX2RsLabaag3GCCNbLC3VWmswxhjdW4ultpqLMT742lIsMdZcAAB3gwMARIKNM6wknRWOBhcashIACAkAIBBSijHGGHPOOeekUow55pxzDkIIoVSKMcaccw5CCCGUjDHmnHMQQgghhFJKxpxzEEIIIYSQUuqccxBCCCGEEEopnXMOQgghhBBCKaWDEEIIIYQQSiilpBRCCCGEEEIIqaSUQgghhFJCKCGVlFIIIYQQQiklpJRSCiGEUkIIoYSUUkophRBCCKWUklJKKaUSSgklhBJSKSmlFEoIIZRSSkoppVRKCaGEEkopJaWUUkohhBBKKQUAABw4AAAEGEEnGVUWYaMJFx6AQkNWAgBkAACQopRSKS1FgiKlGKQYS0YVc1BaiqhyDFLNqVLOIOYklogxhJSTVDLmFEIMQuocdUwpBi2VGELGGKTYckuhcw4AAABBAICAkAAAAwQFMwDA4ADhcxB0AgRHGwCAIERmiETDQnB4UAkQEVMBQGKCQi4AVFhcpF1cQJcBLujirgMhBCEIQSwOoIAEHJxwwxNveMINTtApKnUgAAAAAAAMAPAAAJBcABER0cxhZGhscHR4fICEiIyQCAAAAAAAFwB8AAAkJUBERDRzGBkaGxwdHh8gISIjJAEAgAACAAAAACCAAAQEBAAAAAAAAgAAAAQET2dnUwAAQAAAAAAAAAAjaKehAgAAAEhTii0BRjLV6A+997733vvfe+997733vvfG+8fePvH3j7x94+8fePvH3j7x94+8fePvH3j7x94+8fePvH3gAAAAAAAAAAXm5PqUgABPZ2dTAABLAAAAAAAAACNop6EDAAAAIOuvQAsAAAAAAAAAAAAAAE9nZ1MAAEADAAAAAAAAI2inoQQAAAB/G0m4ATg/8A+997733vvfe+997733vvfK+8B94D7wAB94AAAAD8Kl94D7wH3gAD7wAAAAH4VABem0+pSAAE9nZ1MAAEsDAAAAAAAAI2inoQUAAABc3zKaCwAAAAAAAAAAAAAAT2dnUwAEQAYAAAAAAAAjaKehBgAAAOytEQUBOD/wD733vvfe+997733vvfe+98r7wH3gPvAAH3gAAAAPwqX3gPvAfeAAPvAAAAAfhUAF6bT6lIAAT2dnUwAAQL4AAAAAAACWSy/CAgAAAHsqKaIxAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAKDg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg5PZ2dTAAQAxAAAAAAAAJZLL8IDAAAABLWpWwIBAQ4O",MP4:"data:video/mp4;base64, AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw",WEBM:"data:video/webm;base64, GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK"},MIME_TYPES:{image:["image/gif","image/jpeg","image/pjpeg","image/png","image/svg+xml","image/tiff","image/vnd.microsoft.icon","image/vnd.wap.wbmp","image/webp"],audio:["audio/basic","audio/L24","audio/mp4","audio/aac","audio/mpeg","audio/ogg","audio/ogg; codecs=opus","audio/vorbis","audio/x-ms-wma","audio/x-ms-wax","audio/vnd.rn-realaudio","audio/vnd.wave","audio/webm","audio/x-wav"],video:["video/mpeg","video/mp4","video/ogg","video/quicktime","video/webm","video/x-ms-wmv","video/x-flv","video/3gpp","video/3gpp2"],document:["text/cmd","text/css","text/csv","text/html","text/javascript (Obsolete)","text/plain","text/php","text/xml","text/markdown","text/cache-manifestapplication/json","application/xml","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.graphics","application/msword"],pdf:["application/pdf"],table:["application/vnd.oasis.opendocument.spreadsheet","application/vnd.ms-excel"],archive:["application/zip","application/gzip","application/x-rar-compressed","application/x-tar","application/x-7z-compressed"],presentation:["application/vnd.ms-powerpoint","application/vnd.oasis.opendocument.presentation"]},languages:{en:"English","":"Montenegrin (Latin)","ar-SA":"\u0627\u0644\u0639\u0631\u0628\u064A\u0629","az-AZ":"Az\u0259rbaycanca","be-BY":"\u0411\u0435\u043B\u0430\u0440\u0443\u0441\u043A\u0430\u044F","bg-BG":"\u0411\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438","bs-BA":"Bosanski","ca-ES":"Catal\xE0","cs-CZ":"\u010Ce\u0161tina","cy-GB":"Cymraeg","da-DK":"Dansk","de-DE":"Deutsch","el-GR":"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",es419:"Spanish Latin America","es-ES":"Espa\xF1ol","et-EE":"Eesti","fa-IR":"\u0641\u0627\u0631\u0633\u06CC","fi-FI":"Suomi","fil-PH":"Pilipino","fr-FR":"Fran\xE7ais","ga-IE":"Gaeilge",he:"\u05E2\u05D1\u05E8\u05D9\u05EA","hi-IN":"\u0939\u093F\u0928\u094D\u0926\u0940","hr-HR":"Hrvatski","hu-HU":"Magyar","hy-AM":"\u0540\u0561\u0575\u0565\u0580\u0565\u0576","in-ID":"Bahasa Indonesia","is-IS":"\xCDslenska","it-IT":"Italiano","ja-JP":"\u65E5\u672C\u8A9E","ka-GE":"\u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8","kmr-TR":"Kurmanc\xEE (Kurd\xEE)","ko-KR":"\uD55C\uAD6D\uC5B4","ku-TR":"Kurd\xEE","ky-KG":"\u041A\u044B\u0440\u0433\u044B\u0437\u0447\u0430","la-LA":"Latina","lb-LU":"Luxembourgish","lt-LT":"Lietuvi\u0173","mk-MK":"\u041C\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438","mn-MN":"\u041C\u043E\u043D\u0433\u043E\u043B","mr-IN":"\u092E\u0930\u093E\u0920\u0940","ms-MY":"Bahasa Melayu","nb-NO":"Norsk (bokm\xE5l)","ne-NP":"Nep\u0101l\u012B","nl-NL":"Nederlands","no-NO":"Norsk (nynorsk)","oc-FR":"Occitan","pa-IN":"\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40 (\u0A17\u0A41\u0A30\u0A2E\u0A41\u0A16\u0A40)","pl-PL":"Polski","pt-BR":"Portugu\xEAs, brasileiro","pt-PT":"Portugu\xEAs","qya-AA":"quenya","ro-RO":"Rom\xE2n\u0103","ru-RU":"\u0420\u0443\u0441\u0441\u043A\u0438\u0439","sco-GB":"Scots","si-LK":"\u0DC3\u0DD2\u0D82\u0DC4\u0DBD","sk-SK":"Sloven\u010Dina","sl-SI":"Sloven\u0161\u010Dina","sq-AL":"Shqip","sr-Cyrl-ME":"Montenegrin (Cyrillic)","sr-SP":"\u0421\u0440\u043F\u0441\u043A\u0438 / Srpski","sv-SE":"Svenska","sw-KE":"Kiswahili","ta-IN":"\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD","te-IN":"\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41","tg-TJ":"\u0422\u043E\u04B7\u0438\u043A\u04E3","tk-TM":"T\xFCrkmen\xE7e","tlh-AA":"Klingon","tr-TR":"T\xFCrk\xE7e","uk-UA":"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430","uz-UZ":"O\u02BBzbekcha / \u040E\u0437\u0431\u0435\u043A\u0447\u0430","vi-VN":"Ti\u1EBFng Vi\u1EC7t","yo-NG":"Yor\xF9b\xE1","zh-CN":"\u7B80\u4F53\u4E2D\u6587","zh-TW":"\u4E2D\u570B\u50B3\u7D71\u7684","zu-ZA":"isiZulu"},languages_another_locales:{es419:"es-latin","in-ID":"id"},PERSONAL_AREA_URL:{},XABBER_ACCOUNT_URL:"https://www.xabber.com/account",API_SERVICE_URL:"https://api.xabber.com/api/v2",USE_SOCIAL_AUTH:!0,REGISTER_XMPP_ACCOUNT:!0,REGISTER_XMPP_ACCOUNT_URL:"https://www.xabber.com/account/auth/signup/",CHECK_VERSION:!0,DEFAULT_LOGIN_SCREEN:"xmpp",GCM_SENDER_ID:"868637702480",GCM_API_KEY:"AIzaSyC1JCBB3LLf_4DG_vRWMEEe0I4X5msEU-M",MESSAGE_ARCHIVE_DB_NAME:"MessageArchive",STANZA_MAX_SIZE:Math.pow(2,16),BLUR_VALUE:25,VIGNETTING_VALUE:128,TRANSPARENCY_VALUE:50,MAIN_COLOR:"red",CLIENT_NAME:"Xabber for Web",SHORT_CLIENT_NAME:"Xabber",SHORT_CLIENT_DESCRIPTION:"World\u2019s best XMPP experience",CLIENT_LOGO:"images/xabber-logo-96.png",TOOLBAR_LOGO:"images/xabber-logo.png",ENABLE_XABBER_ACCOUNT:!1,SCREEN_ABOUT:!0,CLIENT_URL:"https://www.xabber.com",DEVELOPER_URL:"https://redsolution.com",CLIENT_GITHUB_URL:"https://github.com/redsolution/xabber-web",PROJECT_CROWDIN_URL:"https://crowdin.com/project/xabber",CLIENT_LICENSE_GITHUB_URL:"https://github.com/redsolution/xabber-web/blob/master/LICENSE"};constants.JINGLE_MSG_STATE={},constants.JINGLE_MSG_STATE[constants.JINGLE_MSG_REJECT]="reject",constants.JINGLE_MSG_STATE[constants.JINGLE_MSG_PROPOSE]="propose",constants.JINGLE_MSG_STATE[constants.JINGLE_MSG_ACCEPT]="accept",constants.MSG_STATE={},constants.MSG_STATE[constants.MSG_ERROR]="error",constants.MSG_STATE[constants.MSG_PENDING]="pending",constants.MSG_STATE[constants.MSG_SENT]="sent",constants.MSG_STATE[constants.MSG_DELIVERED]="delivered",constants.MSG_STATE[constants.MSG_DISPLAYED]="displayed",constants.MSG_STATE[constants.MSG_ARCHIVED]="archived",constants.MSG_STATE[constants.MSG_BLOCKED]="not-allowed",constants.MSG_STATE[constants.MSG_SAVED]="saved",constants.MSG_VERBOSE_STATE={},constants.MSG_VERBOSE_STATE[constants.MSG_ERROR]="message__delivering_state__error",constants.MSG_VERBOSE_STATE[constants.MSG_PENDING]="message__delivering_state__pending",constants.MSG_VERBOSE_STATE[constants.MSG_SENT]="message__delivering_state__sent",constants.MSG_VERBOSE_STATE[constants.MSG_DELIVERED]="message__delivering_state__delivered",constants.MSG_VERBOSE_STATE[constants.MSG_DISPLAYED]="message__delivering_state__displayed",constants.MSG_VERBOSE_STATE[constants.MSG_ARCHIVED]="message__delivering_state__archived",constants.MSG_VERBOSE_STATE[constants.MSG_BLOCKED]="message__delivering_state__error",constants.MSG_VERBOSE_STATE[constants.MSG_SAVED]="message__delivering_state__saved","function"==typeof define&&define("xabber-constants",[],function(){return constants});define("text",["module"],function(e){'use strict';function t(e,t){return void 0===e||""===e?t:e}function a(e,a,i,n){if(a===n)return!0;if(e===i){if("http"===e)return t(a,"80")===t(n,"80");if("https"===e)return t(a,"443")===t(n,"443")}return!1}var n=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s="undefined"!=typeof location&&location.href,o=s&&location.protocol&&location.protocol.replace(/\:/,""),d=s&&location.hostname,r=s&&(location.port||void 0),c={},l=e.config&&e.config()||{},p,m,i,u,g;return p={version:"2.0.16",strip:function(e){if(e){e=e.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var t=e.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:l.createXhr||function(){var e,t,a;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){a=n[t];try{e=new ActiveXObject(a)}catch(t){}if(e){n=[a];break}}return e},parseName:function(e){var t=!1,a=e.lastIndexOf("."),i=0===e.indexOf("./")||0===e.indexOf("../"),n,s,o;return-1!==a&&(!i||1<a)?(n=e.substring(0,a),s=e.substring(a+1)):n=e,o=s||n,a=o.indexOf("!"),-1!==a&&(t="strip"===o.substring(a+1),o=o.substring(0,a),s?s=o:n=o),{moduleName:n,ext:s,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,i,n){var s=p.xdRegExp.exec(e),o,d,r;return!s||(o=s[2],d=s[3],d=d.split(":"),r=d[1],d=d[0],(!o||o===t)&&(!d||d.toLowerCase()===i.toLowerCase())&&(!r&&!d||a(o,r,t,n)))},finishLoad:function(e,t,a,i){a=t?p.strip(a):a,l.isBuild&&(c[e]=a),i(a)},load:function(e,t,a,i){if(i&&i.isBuild&&!i.inlineText)return void a();l.isBuild=i&&i.isBuild;var n=p.parseName(e),c=n.moduleName+(n.ext?"."+n.ext:""),m=t.toUrl(c),u=l.useXhr||p.useXhr;return 0===m.indexOf("empty:")?void a():void(!s||u(m,o,d,r)?p.get(m,function(t){p.finishLoad(e,n.strip,t,a)},function(e){a.error&&a.error(e)}):t([c],function(e){p.finishLoad(n.moduleName+"."+n.ext,n.strip,e,a)},function(e){a.error&&a.error(e)}))},write:function(e,t,a){if(c.hasOwnProperty(t)){var i=p.jsEscape(c[t]);a.asModule(e+"!"+t,"define(function () { return '"+i+"';});\n")}},writeFile:function(e,t,a,i,n){var s=p.parseName(t),o=s.ext?"."+s.ext:"",d=s.moduleName+o,r=a.toUrl(s.moduleName+o)+".js";p.load(d,a,function(){var t=function(e){return i(r,e)};t.asModule=function(e,t){return i.asModule(e,r,t)},p.write(e,d,t,n)},n)}},"node"!==l.env&&(l.env||"undefined"==typeof process||!process.versions||!process.versions.node||process.versions["node-webkit"]||process.versions["atom-shell"])?"xhr"===l.env||!l.env&&p.createXhr()?p.get=function(e,t,a,i){var n=p.createXhr(),s;if(n.open("GET",e,!0),i)for(s in i)i.hasOwnProperty(s)&&n.setRequestHeader(s.toLowerCase(),i[s]);l.onXhr&&l.onXhr(n,e),n.onreadystatechange=function(){var i,s;4===n.readyState&&(i=n.status||0,399<i&&600>i?(s=new Error(e+" HTTP status: "+i),s.xhr=n,a&&a(s)):t(n.responseText),l.onXhrComplete&&l.onXhrComplete(n,e))},n.send(null)}:"rhino"!==l.env&&(l.env||"undefined"==typeof Packages||"undefined"==typeof java)?("xpconnect"===l.env||!l.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,u=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),g="@mozilla.org/windows-registry-key;1"in i,p.get=function(e,t){var a={},n,s,o;g&&(e=e.replace(/\//g,"\\")),o=new FileUtils.File(e);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(u.nsIFileInputStream),n.init(o,1,0,!1),s=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(u.nsIConverterInputStream),s.init(n,"utf-8",n.available(),u.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(n.available(),a),s.close(),n.close(),t(a.value)}catch(t){throw new Error((o&&o.path||"")+": "+t)}}):p.get=function(e,t){var a=new java.io.File(e),i=java.lang.System.getProperty("line.separator"),n=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(a),"utf-8")),s="",o,d;try{for(o=new java.lang.StringBuffer,d=n.readLine(),d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1)),null!==d&&o.append(d);null!==(d=n.readLine());)o.append(i),o.append(d);s=o.toString()+""}finally{n.close()}t(s)}:(m=require.nodeRequire("fs"),p.get=function(e,t,a){try{var i=m.readFileSync(e,"utf8");"\uFEFF"===i[0]&&(i=i.substring(1)),t(i)}catch(t){a&&a(t)}}),p}),define("text!templates/base/dialog.html",[],function(){return"<div class=\"modal dialog-modal\">\n    <div class=\"modal-header\">\n        <div class=\"panel-header black-text\">{{header}}</div>\n    </div>\n    <div class=\"modal-content\">\n        <div class=\"dialog-text\">{{text}}</div>\n        <div class=\"dialog-options-wrap\">\n        {[ for (var idx in dialog_options) { var option = dialog_options[idx]; ]}\n            <div class=\"dialog-option\" data-name=\"{{option.name}}\">\n                <input type=\"checkbox\" class=\"filled-in\" id=\"dialog_option_{{option.name}}\" {[ if (option.checked) { ]}checked=\"checked\"{[ } ]}/>\n                <label for=\"dialog_option_{{option.name}}\">{{option.text}}</label>\n            </div>\n        {[ } ]}\n        </div>\n        <div class=\"container-for-img hidden\"><img class=\"img-from-clipboard\"></div>\n    </div>\n    <div class=\"modal-footer {{flag}}\">\n        {[ for (var idx in optional_buttons) { var button = optional_buttons[idx]; ]}\n        <button class=\"optional-button btn-flat btn-main\" data-option=\"{{button.value}}\">{{button.name}}</button>\n        {[ } ]}\n        {[ if (ok_button) { ]}\n        <button class=\"ok-button btn-flat btn-main\" data-option=true>{{ok_button.text}}</button>\n        {[ } ]}\n        {[ if (cancel_button) { ]}\n        <button class=\"cancel-button btn-flat btn-main btn-dark btn-cancel\" data-option=false>{{cancel_button.text}}</button>\n        {[ } ]}\n    </div>\n</div>\n"}),define("text!templates/base/fingerprints.html",[],function(){return"<div class=\"modal-header fingerprints-header\">\n    <div class=\"header\"></div>\n    <div class=\"additional-info\"></div>\n</div>\n<div class=\"fingerprints-content\">\n</div>\n<div class=\"fingerprints-bottom\">\n    <div class=\"this-device-wrap\">\n        <div class=\"this-device-header-wrap\">\n            <div class=\"divider\"></div>\n            <div class=\"this-device-header\">{[print(xabber.getString(\"omemo__dialog_fingerprints__text_this_device\"))]}</div>\n        </div>\n        <div class=\"this-device-content\">\n        </div>\n    </div>\n    <div class=\"fingerprints-description-wrap\">\n        <div class=\"fingerprints-description\">{[print(xabber.getString(\"omemo__dialog_fingerprints__text_description\"))]}</div>\n        <div class=\"link-about-encryption\"><a href=\"{[print(xabber.getString('omemo__dialog_fingerprints__link_learn_more'))]}\" target=\"_blank\">{[print(xabber.getString(\"omemo__dialog_fingerprints__text_learn_more\"))]}</a></div>\n    </div>\n</div>"}),define("text!templates/base/fingerprint_item.html",[],function(){return"<div class=\"row\">\n    <div title=\"{[print(xabber.getString('omemo__dialog_fingerprints__textfield_device_id_tooltip', [id, (label ? label : 'none')]))]}\" class=\"device-wrap\">\n        {[if (edit_setting) {]}\n        <input class=\"hidden set-label one-line\" {[if (label) {]}value=\"{{label}}\"{[}]}>{[}]}\n        {[if (label) {]}<div class=\"one-line label\">{{label}}</div>{[}]}\n        <div class=\"device-id one-line\">{{id}}</div>\n        {[if (!label) {]}<div class=\"device-id-label\">{[print(xabber.getString(\"omemo__dialog_fingerprints__label_device_id\"))]}</div>{[}]}\n        {[if (edit_setting) {]}<div class=\"set-label-label hidden\">{[print(xabber.getString(\"omemo__dialog_fingerprints__label_set_label\"))]}</div>{[}]}\n    </div>\n    <div class=\"fingerprint-wrap\">\n        <div title=\"Device fingerprint\" class=\"fingerprint\">{{fingerprint}}</div>\n        {[if (error) {]}\n        <div class=\"fingerprint-error\">{{error}}</div>\n        {[}]}\n        {[if (old_fingerprint){]}<div title=\"Old device fingerprint\" class=\"old-fingerprint\">{{old_fingerprint}}</div>{[}]}\n    </div>\n    <div data-trust=\"{{trust}}\" class=\"buttons\">\n        {[if (trust !== null && !error) {]}\n        <div class=\"dropdown-button\" data-activates=\"select-status-{{id}}\">\n            <div class=\"trust-item-wrap btn-main btn-flat\">\n                <div data-value=\"{{trust}}\">{[print(xabber.getString(`omemo__dialog_fingerprints__button_${trust}`))]}</div>\n            </div>\n        </div>\n        <div id=\"select-status-{{id}}\" class=\"dropdown-content noselect fingerprint-dropdown\">\n            <div data-value=\"ignore\" class=\"btn-main text-color-grey-500 btn-ignore btn-flat\">{[print(xabber.getString(\"omemo__dialog_fingerprints__button_ignore\"))]}</div>\n            <div data-value=\"trust\" class=\"btn-main btn-flat btn-trust text-color-green-500\">{[print(xabber.getString(\"omemo__dialog_fingerprints__button_trust\"))]}</div>\n            {[if (delete_button){]}\n            <div class=\"btn-main btn-flat btn-delete text-color-red-500\">{[print(xabber.getString(\"omemo__dialog_fingerprints__button_delete\"))]}</div>\n            {[}]}\n        </div>\n        {[}]}\n    </div>\n</div>"}),define("text!templates/base/jingle_message_calling.html",[],function(){return"<i class=\"mdi mdi-phone btn-collapse\"></i>\n<div class=\"call-header\">\n    {[print(xabber.getString(\"dialog_jingle_message__header\", [SHORT_CLIENT_NAME]))]}\n    <div class=\"calling-status\"/>\n</div>\n<div class=\"blur-background\"></div>\n<div class=\"contact-info\">\n    <div class=\"name one-line\"/>\n    <div class=\"calling-status\"/>\n</div>\n<div class=\"video-wrap\">\n    <video autoplay loop class=\"blank-video hidden\">\n        <source src=\"{{BLANK_VIDEO.MP4}}\">\n        <source src=\"{{BLANK_VIDEO.OGG}}\" type=\"video/ogg\">\n        <source src=\"{{BLANK_VIDEO.WEBM}}\" type=\"video/webm\">\n    </video>\n    <audio autoplay class=\"webrtc-remote-audio hidden\"/>\n    <video autoplay muted class=\"webrtc-local-video collapsed hidden\"/>\n    <div class=\"default-screen\">\n        <div class=\"circle-avatar\"/>\n        <div class=\"name one-line\"/>\n    </div>\n</div>\n<div class=\"buttons-panel\">\n    <div class=\"buttons-wrap\">\n        <div class=\"btn-wrap\" title=\"Collapse window\"><svg class=\"btn-collapse mdi-24px\" viewBox=\"0 0 24 24\">\n            <path d=\"M19.5,3.09L15,7.59V4H13V11H20V9H16.41L20.91,4.5L19.5,3.09M4,13V15H7.59L3.09,19.5L4.5,20.91L9,16.41V20H11V13H4Z\"/>\n        </svg></div>\n        <div class=\"btn-wrap\" title=\"Fullscreen mode\"><svg class=\"btn-full-screen mdi-24px\" viewBox=\"0 0 24 24\">\n            <path d=\"M11,21H3V13H5V17.59L17.59,5H13V3H21V11H19V6.41L6.41,19H11V21Z\" />\n        </svg></div>\n        <i title='{[print(xabber.getString(\"dialog_jingle_message__button_mute_microphone__tooltip\"))]}' class=\"btn-microphone mdi mdi-24px mdi-microphone\"/>\n        <i title='{[print(xabber.getString(\"dialog_jingle_message__button_switch_video__tooltip\"))]}' class=\"btn-video mdi mdi-24px mdi-video\"/>\n        <i title='{[print(xabber.getString(\"dialog_jingle_message__button_mute__tooltip\"))]}' class=\"btn-volume mdi mdi-24px mdi-volume-high\"/>\n        <i title='{[print(xabber.getString(\"dialog_jingle_message__button_share_screen__tooltip\"))]}' class=\"btn-share-screen mdi mdi-24px mdi-monitor\"/>\n        <i title='{[print(xabber.getString(\"dialog_jingle_message__button_accept_call__tooltip\"))]}' class=\"btn-accept mdi mdi-24px mdi-phone\"/>\n        <i title='{[print(xabber.getString(\"dialog_jingle_message__button_decline_call__tooltip\"))]}' class=\"btn-cancel mdi mdi-24px mdi-phone-hangup\"/>\n    </div>\n</div>"}),define("text!templates/base/input_widget.html",[],function(){return"<div class=\"input-widget-wrap {{field_name}}-wrap\">\n    <div class=\"{{field_name}} field-text one-line\"></div>\n    <div class=\"btn-rename\">\n        <span>{[print(xabber.getString(\"input_widget__button_rename\"))]}</span>\n    </div>\n    <div class=\"{{field_name}}-input-wrap\">\n        <input class=\"{{field_name}}-input field-input hidden\" type=\"{{field_type}}\" placeholder=\"{{placeholder}}\">\n    </div>\n</div>\n"}),define("text!templates/base/toolbar.html",[],function(){return"<div class=\"toolbar-item all-chats active\" title='{[print(xabber.getString(\"toolbar__menu_item__all_chats\"))]}'>\n    <div class=\"border\"></div>\n    <img class=\"logo\" src=\"{{TOOLBAR_LOGO}}\">\n    <span class=\"all-msg-indicator\"></span>\n</div>\n\n<div class=\"toolbar-item chats\" title='{[print(xabber.getString(\"toolbar__menu_item__chats\"))]}'>\n    <div class=\"border\"></div>\n    <i class=\"toolbar-icon mdi mdi-24px mdi-message-text\"></i>\n    <span class=\"msg-indicator\"></span>\n</div>\n\n<div class=\"toolbar-item group-chats\" title='{[print(xabber.getString(\"toolbar__menu_item__groups\"))]}'>\n    <div class=\"border\"></div>\n    <svg class=\"toolbar-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"message-group\"></svg>\n    <span class=\"group-msg-indicator\"></span>\n</div>\n\n<div class=\"toolbar-item mentions\" title='{[print(xabber.getString(\"toolbar__menu_item__mentions\"))]}'>\n    <div class=\"border\"></div>\n    <svg class=\"toolbar-icon mdi mdi-24px mdi-svg-template\" viewBox=\"0 0 24 24\" data-svgname=\"ic-at\"></svg>\n    <span class=\"mentions-indicator\"></span>\n</div>\n\n<div class=\"toolbar-item archive-chats\" title='{[print(xabber.getString(\"toolbar__menu_item__archive_chats\"))]}'>\n    <div class=\"border\"></div>\n    <i class=\"toolbar-icon mdi mdi-24px mdi-archive\"></i>\n    <span class=\"archive-msg-indicator hidden\"></span>\n</div>\n\n<div class=\"toolbar-item contacts\" title='{[print(xabber.getString(\"category_title_contacts\"))]}'>\n    <div class=\"border\"></div>\n    <i class=\"toolbar-icon mdi mdi-24px mdi-account-multiple\"></i>\n</div>\n\n<div class=\"toolbar-item search hidden\" title='{[print(xabber.getString(\"search\"))]}'>\n    <div class=\"border\"></div>\n    <svg class=\"toolbar-icon mdi mdi-24px mdi-svg-template\" viewBox=\"0 0 24 24\" data-svgname=\"ic-searching\"></svg>\n</div>\n\n<div class=\"add-something-wrap\">\n    <div class=\"toolbar-item dropdown-button add-something\" data-activates=\"{{view.cid}}-add\" title='{[print(xabber.getString(\"toolbar__button_add_tooltip\"))]}'>\n        <i class=\"toolbar-icon mdi mdi-24px mdi-plus\"></i>\n    </div>\n\n    <div id=\"{{view.cid}}-add\" class=\"add-variants dropdown-content noselect\">\n        <div class=\"add-variant contact\">\n            <i class=\"mdi mdi-20px mdi-account-plus\"></i>\n            <span class=\"text one-line\">{[print(xabber.getString(\"add_contact\"))]}</span>\n        </div>\n        <div class=\"add-variant public-groupchat\">\n            <i class=\"mdi mdi-20px mdi-account-multiple-plus\"></i>\n            <span class=\"text one-line\">{[print(xabber.getString(\"create_group\"))]}</span>\n        </div>\n        <div class=\"add-variant incognito-groupchat\">\n            <svg class=\"mdi mdi-20px\" viewBox=\"0 0 24 24\">\n                <path d=\"M13 11A3 3 0 1 0 10 8A3 3 0 0 0 13 11M13 7A1 1 0 1 1 12 8A1 1 0 0 1 13 7M17.11 10.86A5 5 0 0 0 17.11 5.14A2.91 2.91 0 0 1 18 5A3 3 0 0 1 18 11A2.91 2.91 0 0 1 17.11 10.86M13 13C7 13 7 17 7 17V19H19V17S19 13 13 13M9 17C9 16.71 9.32 15 13 15C16.5 15 16.94 16.56 17 17M24 17V19H21V17A5.6 5.6 0 0 0 19.2 13.06C24 13.55 24 17 24 17M8 12H5V15H3V12H0V10H3V7H5V10H8Z\" />\n            </svg>\n            <span class=\"text one-line\">{[print(xabber.getString(\"create_incognito_group\"))]}</span>\n        </div>\n        <div class=\"add-variant account\">\n            <i class=\"mdi mdi-20px mdi-account-circle\"></i>\n            <span class=\"text one-line\">{[print(xabber.getString(\"dialog_add__label_add_account\"))]}</span>\n        </div>\n    </div>\n</div>\n\n<div class=\"divider noselect\"></div>\n\n<div class=\"accounts-wrap\">\n    <div class=\"accounts\">\n    </div>\n</div>\n\n<div class=\"toolbar-bottom\">\n    {[if (SCREEN_ABOUT) {]}\n    <div class=\"toolbar-item about\" title='{[print(xabber.getString(\"about\"))]}'>\n        <div class=\"border\"></div>\n        <i class=\"toolbar-icon mdi mdi-24px mdi-information\"></i>\n    </div>\n    {[}]}\n    <div class=\"toolbar-item settings\" title='{[print(xabber.getString(\"settings\"))]}'>\n        <div class=\"border\"></div>\n        <i class=\"toolbar-icon mdi mdi-24px mdi-settings\"></i>\n    </div>\n</div>\n"}),define("text!templates/base/settings.html",[],function(){return"    <div class=\"left-column noselect\">\n        <div class=\"main-info-wrap xabber-info-wrap\">\n            <div class=\"picture-wrap\">\n                <img class=\"logo\" src=\"{{CLIENT_LOGO}}\"/>\n            </div>\n            <div class=\"name\">{{CLIENT_NAME}}</div>\n            <div class=\"version\"></div>\n        </div>\n        <div class=\"settings-tabs-wrap\">\n            {[if (ENABLE_XABBER_ACCOUNT) {]}\n            <div class=\"settings-tab xabber-account-tab offline\" data-block-name=\"xabber-account\">\n                <svg class=\"mdi mdi-24px mdi-svg-template xabber-offline-icon\" data-svgname=\"xabber-offline\"></svg>\n                <svg class=\"mdi mdi-24px mdi-svg-template xabber-online-icon\" data-svgname=\"xabber-online\"></svg>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"settings__menu_item__xabber_account\"))]}</div>\n            </div>\n            {[}]}\n            <div class=\"settings-tab active\" data-block-name=\"xmpp-accounts\">\n                <i class=\"mdi mdi-24px mdi-lightbulb\"/>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"settings__menu_item__xmpp_account\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"background\">\n                <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"palette\"></svg>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"category_interface\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"notifications\">\n                <i class=\"mdi mdi-24px mdi-bell\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"settings__menu_item__notifications\"))]}</div>\n            </div>\n            <!--<div class=\"settings-tab\" data-block-name=\"storage\">-->\n                <!--<i class=\"mdi mdi-24px mdi-database\"></i>-->\n                <!--<div class=\"settings-block-name one-line line-through\">{[print(xabber.getString(\"settings__menu_item__data_and_storage\"))]}</div>-->\n            <!--</div>-->\n            <div class=\"settings-tab\" data-block-name=\"privacy\">\n                <i class=\"mdi mdi-24px mdi-incognito\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"settings__menu_item__privacy\"))]}</div>\n            </div>\n            <!--<div class=\"settings-tab\" data-block-name=\"connection\">-->\n                <!--<i class=\"mdi mdi-24px mdi-wan\"></i>-->\n                <!--<div class=\"settings-block-name one-line line-through\">{[print(xabber.getString(\"settings__menu_item__connection_settings\"))]}</div>-->\n            <!--</div>-->\n            <!--<div class=\"settings-tab\" data-block-name=\"developer\">-->\n                <!--<i class=\"mdi mdi-24px mdi-bug\"></i>-->\n                <!--<div class=\"settings-block-name one-line line-through\">{[print(xabber.getString(\"settings__menu_item__developer\"))]}</div>-->\n            <!--</div>-->\n            <div class=\"settings-tab\" data-block-name=\"interface_language\">\n                <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"translate\"></svg>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"settings__menu_item__interface_language\"))]}</div>\n            </div>\n            {[if (PERSONAL_AREA_URL && Object.keys(PERSONAL_AREA_URL).length) {]}\n            <a href=\"{{PERSONAL_AREA_URL.url}}\" target=\"_blank\"><div class=\"link-button settings-tab\" data-block-name=\"{{PERSONAL_AREA_URL.label}}\">\n                <i class=\"mdi mdi-24px mdi-{{PERSONAL_AREA_URL.icon_name}}\"></i>\n                <div class=\"settings-block-name one-line\">{{PERSONAL_AREA_URL.label}}</div>\n            </div>\n            </a>\n            {[}]}\n        </div>\n        <div class=\"settings-tabs-bottom-wrap settings-tabs-wrap\">\n            <!--<div class=\"settings-tab\" data-block-name=\"security\">-->\n                <!--<i class=\"mdi mdi-24px mdi-security\"></i>-->\n                <!--<div class=\"settings-block-name one-line line-through\">{[print(xabber.getString(\"settings__menu_item__security\"))]}</div>-->\n            <!--</div>-->\n            <!--<div class=\"settings-tab\" data-block-name=\"about\">-->\n                <!--<i class=\"mdi mdi-24px mdi-information\"></i>-->\n                <!--<div class=\"settings-block-name one-line line-through\">{[print(xabber.getString(\"settings__menu_item__about\"))]}</div>-->\n            <!--</div>-->\n            <div class=\"settings-tab delete-all-accounts\">\n                <i class=\"mdi mdi-24px mdi-logout-variant\"></i>\n                <div class=\"settings-block-name\">{[print(xabber.getString(\"button_quit\"))]}</div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"right-column noselect\">\n        <div class=\"settings-panel-head\">\n            <span>{[print(xabber.getString(\"preference_editor\"))]}</span>\n            <button class=\"btn-add-account btn-flat btn-main text-color-500 ground-color-grey-100 hover-ground-color-grey-300\">{[print(xabber.getString(\"dialog_add__label_add_account\"))]}</button>\n        </div>\n\n        <div class=\"panel-content-wrap\">\n            <div class=\"panel-content\">\n                {[if (ENABLE_XABBER_ACCOUNT) {]}\n                <div data-block-name=\"\" class=\"settings-block-wrap xabber-account\">\n                    <div class=\"block-header\">\n                        <span class=\"block-name\">{[print(xabber.getString(\"settings__menu_item__xabber_account\"))]}</span>\n                    </div>\n                </div>\n                {[}]}\n                <div data-header='{[print(xabber.getString(\"settings__menu_item__xmpp_account\"))]}' class=\"settings-block-wrap xmpp-accounts\">\n                    <div class=\"setting xmpp-account-list\">\n                        <div class=\"accounts-head-wrap\">\n                            <div class=\"accounts-head xmppid-head\">{[print(xabber.getString(\"settings__section_xmpp_accounts__table_header_xmpp_id\"))]}</div>\n                            <div class=\"accounts-head sync-head\">{[print(xabber.getString(\"settings__section_xmpp_accounts__table_header_sync\"))]}</div>\n                            <div class=\"accounts-head enabled-head\">{[print(xabber.getString(\"settings__section_xmpp_accounts__table_header_enabled\"))]}</div>\n                        </div>\n                        <span class=\"no-accounts-tip\">{[print(xabber.getString(\"settings__section_xmpp_accounts__text_no_accounts\"))]}</span>\n                        <div class=\"move-account-to-bottom droppable\"></div>\n                    </div>\n                </div>\n\n                <div data-header='{[print(xabber.getString(\"category_interface\"))]}' class=\"settings-block-wrap background hidden\">\n                    <div class=\"settings-subblock-wrap\">\n                        <div class=\"block-header\">\n                            <span class=\"block-name\">{[print(xabber.getString(\"settings__menu_item__appearance\"))]}</span>\n                        </div>\n                        <div class=\"block-subheader\">\n                            <span class=\"block-name\">{[print(xabber.getString(\"settings__section_appearance__palette\"))]}</span>\n                        </div>\n                        <div class=\"toolbar-main-color-setting-wrap\">\n                            <div class=\"setting-name\">{[print(xabber.getString(\"settings__section_appearance__header_main_color\"))]}</div>\n                            <div class=\"setting toolbar-main-color-setting field-wrap\">\n                                <div class=\"current-main-color-wrap\">\n                                    <div class=\"current-main-color ground-color-500\"></div>\n                                    <div class=\"color-name\"></div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"toolbar-color-setting-wrap\">\n                            <div class=\"setting-name\">{[print(xabber.getString(\"settings__section_appearance__header_toolbar_icons_color\"))]}</div>\n                            <div class=\"setting toolbar-color-setting field-wrap\">\n                                <div class=\"selected-color-wrap\">\n                                    <div class=\"selected-color-item\"></div>\n                                    <div class=\"selected-color-info\">\n                                        <div class=\"selected-color-name\"></div>\n                                        <div class=\"selected-color-hex\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"block-subheader\">\n                            <span class=\"block-name\">{[print(xabber.getString(\"account_settings_background\"))]}</span>\n                        </div>\n                        <div class=\"background-setting-wrap\">\n                            <div class=\"setting-name\">{[print(xabber.getString(\"settings__section_appearance__header_background\"))]}</div>\n                            <div class=\"setting background radio-button field-wrap\">\n                                <div class=\"field radio-field clickable-field\">\n                                    <form action=\"#\">\n                                        <p>\n                                            <input class=\"with-gap\" name=\"background\" value=\"default\" type=\"radio\" id=\"{{view.cid}}-default-background\" />\n                                            <label for=\"{{view.cid}}-default-background\">{[print(xabber.getString(\"settings__section_appearance__background__label_default\"))]}</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"background\" value=\"repeating-pattern\" type=\"radio\" id=\"{{view.cid}}-repeating-pattern-background\" />\n                                            <label for=\"{{view.cid}}-repeating-pattern-background\">{[print(xabber.getString(\"settings__section_appearance__background__label_pattern\"))]}</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"background\" value=\"image\" type=\"radio\" id=\"{{view.cid}}-image-background\" />\n                                            <label for=\"{{view.cid}}-image-background\">{[print(xabber.getString(\"settings__section_appearance__background__label_image\"))]}</label>\n                                        </p>\n                                    </form>\n                                </div>\n                                <div class=\"current-background-wrap\">\n                                    <div class=\"dark-placeholder\">{[print(xabber.getString(\"settings__section_appearance__background__button_update\"))]}</div>\n                                    <div class=\"current-background\"></div>\n                                </div>\n                            </div>\n                            <div class=\"blur-setting-wrap\">\n                                <div class=\"setting blur-setting field-wrap\">\n                                    <div class=\"input-field checkbox-field\">\n                                        <input type=\"checkbox\" class=\"filled-in\" id=\"blur_switch\"/>\n                                        <label for=\"blur_switch\">{[print(xabber.getString(\"settings__section_appearance__background__checkbox_blur\"))]}</label>\n                                    </div>\n                                    <form action=\"#\">\n                                        <div class=\"disabled hidden\"></div>\n                                        <p class=\"range-field\">\n                                            <input type=\"range\" id=\"blur\" min=\"0\" max=\"100\" />\n                                        </p>\n                                    </form>\n                                </div>\n                            </div>\n                            <div class=\"vignetting-setting-wrap\">\n                                <div class=\"setting vignetting-setting field-wrap\">\n                                    <div class=\"input-field checkbox-field\">\n                                        <input type=\"checkbox\" class=\"filled-in\" id=\"vignetting_switch\"/>\n                                        <label for=\"vignetting_switch\">{[print(xabber.getString(\"settings__section_appearance__background__checkbox_vignette\"))]}</label>\n                                    </div>\n                                    <form action=\"#\">\n                                        <div class=\"disabled hidden\"></div>\n                                        <p class=\"range-field\">\n                                            <input type=\"range\" id=\"vignetting\" min=\"0\" max=\"200\" />\n                                        </p>\n                                    </form>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"side-panel-setting-wrap\">\n                            <div class=\"setting-name\">{[print(xabber.getString(\"settings__section_appearance__header_side_panel\"))]}</div>\n                            <div class=\"setting side-panel-setting radio-button field-wrap\">\n                                <div class=\"field radio-field clickable-field\">\n                                    <form action=\"#\">\n                                        <p>\n                                            <input class=\"with-gap\" name=\"side-panel\" value=\"dark\" type=\"radio\" id=\"{{view.cid}}-dark-side-panel\" />\n                                            <label for=\"{{view.cid}}-dark-side-panel\">{[print(xabber.getString(\"settings__section_appearance__side_panel__label_dark\"))]}</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"side-panel\" value=\"light\" type=\"radio\" id=\"{{view.cid}}-light-side-panel\" />\n                                            <label for=\"{{view.cid}}-light-side-panel\">{[print(xabber.getString(\"settings__section_appearance__side_panel__label_light\"))]}</label>\n                                        </p>\n                                    </form>\n                                </div>\n                            </div>\n                            <div class=\"setting side-panel-setting field-wrap\">\n                                <div class=\"input-field checkbox-field\">\n                                    <input type=\"checkbox\" class=\"filled-in\" id=\"side_panel_blur_switch\"/>\n                                    <label for=\"side_panel_blur_switch\">{[print(xabber.getString(\"settings__section_appearance__background__checkbox_blur\"))]}</label>\n                                </div>\n                                <div class=\"transparency-setting\">\n                                    <div class=\"input-field checkbox-field\">\n                                        <input type=\"checkbox\" class=\"filled-in\" id=\"transparency_switch\"/>\n                                        <label for=\"transparency_switch\">{[print(xabber.getString(\"settings__section_appearance__side_panel__checkbox_transparency\"))]}</label>\n                                    </div>\n                                    <form action=\"#\">\n                                        <div class=\"disabled hidden\"></div>\n                                        <p class=\"range-field\">\n                                            <input type=\"range\" id=\"transparency\" min=\"0\" max=\"100\" />\n                                        </p>\n                                    </form>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"settings-subblock-wrap\">\n                        <div class=\"block-header\">\n                            <span class=\"block-name\">{[print(xabber.getString(\"chat_viewer\"))]}</span>\n                        </div>\n                        <div class=\"block-subheader\">\n                            <span class=\"block-name\">{[print(xabber.getString(\"category_behavior\"))]}</span>\n                        </div>\n                        <div class=\"setting hotkeys radio-button field-wrap\">\n                            <div class=\"field radio-field clickable-field\">\n                                <form action=\"#\">\n                                    <p>\n                                        <input class=\"with-gap\" name=\"hotkeys\" value=\"enter\" type=\"radio\" id=\"{{view.cid}}-enter\" />\n                                        <label for=\"{{view.cid}}-enter\">{[print(xabber.getString(\"settings__section_keyboard__label_send_on_enter\"))]}</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"hotkeys\" value=\"ctrlenter\" type=\"radio\" id=\"{{view.cid}}-ctrlenter\" />\n                                        <label for=\"{{view.cid}}-ctrlenter\">{[print(xabber.getString(\"settings__section_keyboard__label_send_on_ctrlenter\"))]}</label>\n                                    </p>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"settings-subblock-wrap contact-list\">\n                        <div class=\"block-header\">\n                            <span class=\"block-name\">{[print(xabber.getString(\"category_contact_list\"))]}</span>\n                        </div>\n                        <div class=\"circle-avatar noselect\"/>\n                        <div class=\"setting-name\">{[print(xabber.getString(\"avatars\"))]}</div>\n                        <div class=\"setting avatar-shape radio-button field-wrap\">\n                            <div class=\"field radio-field clickable-field\">\n                                <form action=\"#\">\n                                    <p>\n                                        <input class=\"with-gap\" name=\"avatar_shape\" value=\"circle\" type=\"radio\" id=\"{{view.cid}}-circle\" />\n                                        <label for=\"{{view.cid}}-circle\">{[print(xabber.getString(\"settings__section_appearance__avatars_circle\"))]}</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"avatar_shape\" value=\"squircle\" type=\"radio\" id=\"{{view.cid}}-squircle\" />\n                                        <label for=\"{{view.cid}}-squircle\">{[print(xabber.getString(\"settings__section_appearance__avatars_squircle\"))]}</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"avatar_shape\" value=\"octagon\" type=\"radio\" id=\"{{view.cid}}-octagon\" />\n                                        <label for=\"{{view.cid}}-octagon\">{[print(xabber.getString(\"settings__section_appearance__avatars_octagon\"))]}</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"avatar_shape\" value=\"hexagon\" type=\"radio\" id=\"{{view.cid}}-hexagon\" />\n                                        <label for=\"{{view.cid}}-hexagon\">{[print(xabber.getString(\"settings__section_appearance__avatars_hexagon\"))]}</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"avatar_shape\" value=\"pentagon\" type=\"radio\" id=\"{{view.cid}}-pentagon\" />\n                                        <label for=\"{{view.cid}}-pentagon\">{[print(xabber.getString(\"settings__section_appearance__avatars_pentagon\"))]}</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"avatar_shape\" value=\"rounded\" type=\"radio\" id=\"{{view.cid}}-rounded\" />\n                                        <label for=\"{{view.cid}}-rounded\">{[print(xabber.getString(\"settings__section_appearance__avatars_rounded\"))]}</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"avatar_shape\" value=\"star\" type=\"radio\" id=\"{{view.cid}}-star\" />\n                                        <label for=\"{{view.cid}}-star\">{[print(xabber.getString(\"settings__section_appearance__avatars_star\"))]}</label>\n                                    </p>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div data-header='{[print(xabber.getString(\"settings__menu_item__notifications\"))]}'  class=\"settings-block-wrap notifications hidden\">\n                    <div class=\"settings-subblock-wrap\">\n                        <div class=\"block-header\">\n                            <span class=\"block-name\">{[print(xabber.getString(\"settings__section_notifications__web_notifications\"))]}</span>\n                        </div>\n                        <div class=\"setting notifications field-wrap\">\n                            <div class=\"input-field checkbox-field\">\n                                <input type=\"checkbox\" class=\"filled-in\" id=\"notifications\"/>\n                                <label for=\"notifications\">{[print(xabber.getString(\"settings__section_notifications__toggle_desktop_notifications\"))]}</label>\n                            </div>\n                        </div>\n                        <div class=\"setting-name\">{[print(xabber.getString(\"settings__section_notifications__volume\"))]}</div>\n                        <div class=\"setting volume-setting\">\n                            <i class=\"mdi mdi-24px mdi-volume-low\"></i>\n                            <form action=\"#\">\n                                <div class=\"disabled hidden\"></div>\n                                <p class=\"range-field\">\n                                    <input type=\"range\" id=\"notifications_volume\" min=\"0\" max=\"100\" />\n                                </p>\n                            </form>\n                            <i class=\"mdi mdi-24px mdi-volume-high\"></i>\n                        </div>\n                    </div>\n                    <div class=\"settings-subblock-wrap\">\n                        <div class=\"block-header\">\n                            <span class=\"block-name\">{[print(xabber.getString(\"settings__section_notifications__chats\"))]}</span>\n                        </div>\n                        <div class=\"block-subheader\">\n                            <span class=\"block-name\">{[print(xabber.getString(\"settings__section_notifications__private_chats\"))]}</span>\n                        </div>\n                        <div class=\"setting private-notifications field-wrap\">\n                            <div class=\"input-field checkbox-field\">\n                                <input type=\"checkbox\" class=\"filled-in\" id=\"private-notifications\"/>\n                                <label for=\"private-notifications\">{[print(xabber.getString(\"settings__section_notifications__private_chats_notifications\"))]}</label>\n                            </div>\n                        </div>\n                        <div class=\"settings-shifted-block\">\n                            <div class=\"setting message-preview private-preview field-wrap\">\n                                <div class=\"input-field checkbox-field\">\n                                    <input type=\"checkbox\" class=\"filled-in\" id=\"preview_private\"/>\n                                    <label for=\"preview_private\">{[print(xabber.getString(\"settings__section_notifications__toggle_message_preview\"))]}</label>\n                                </div>\n                            </div>\n                            <div class=\"setting-name\">{[print(xabber.getString(\"settings__menu_item__sounds\"))]}</div>\n                            <div class=\"setting sound radio-button field-wrap\">\n                                <div class=\"field radio-field clickable-field\">\n                                    <form action=\"#\">\n                                        <p>\n                                            <input class=\"with-gap\" name=\"private_sound\" value=\"\" type=\"radio\" id=\"{{view.cid}}-private-sound-no\" />\n                                            <label for=\"{{view.cid}}-private-sound-no\">No sound</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"private_sound\" value=\"beep_up\" type=\"radio\" id=\"{{view.cid}}-private-sound-beep-up\" />\n                                            <label for=\"{{view.cid}}-private-sound-beep-up\">Beep Up</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"private_sound\" value=\"tiny_noize\" type=\"radio\" id=\"{{view.cid}}-private-sound-tiny-noize\" />\n                                            <label for=\"{{view.cid}}-private-sound-tiny-noize\">Tiny Noize</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"private_sound\" value=\"retro_game\" type=\"radio\" id=\"{{view.cid}}-private-sound-retro-game\" />\n                                            <label for=\"{{view.cid}}-private-sound-retro-game\">Retro Game</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"private_sound\" value=\"pixel_beep\" type=\"radio\" id=\"{{view.cid}}-private-sound-pixel-beep\" />\n                                            <label for=\"{{view.cid}}-private-sound-pixel-beep\">Pixel Beep</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"private_sound\" value=\"beep_positive\" type=\"radio\" id=\"{{view.cid}}-private-sound-beep-positive\" />\n                                            <label for=\"{{view.cid}}-private-sound-beep-positive\">Beep Positive</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"private_sound\" value=\"good_chime\" type=\"radio\" id=\"{{view.cid}}-private-sound-good-chime\" />\n                                            <label for=\"{{view.cid}}-private-sound-good-chime\">Good Chime</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"private_sound\" value=\"cellular_click\" type=\"radio\" id=\"{{view.cid}}-private-sound-cellular-click\" />\n                                            <label for=\"{{view.cid}}-private-sound-cellular-click\">Cellular Click</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"private_sound\" value=\"bleep\" type=\"radio\" id=\"{{view.cid}}-private-sound-bleep\" />\n                                            <label for=\"{{view.cid}}-private-sound-bleep\">Bleep</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"private_sound\" value=\"mono_u\" type=\"radio\" id=\"{{view.cid}}-private-sound-mono-u\" />\n                                            <label for=\"{{view.cid}}-private-sound-mono-u\">Mono U</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"private_sound\" value=\"plop\" type=\"radio\" id=\"{{view.cid}}-private-sound-plop\" />\n                                            <label for=\"{{view.cid}}-private-sound-plop\">Plop</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"private_sound\" value=\"ether\" type=\"radio\" id=\"{{view.cid}}-private-sound-ether\" />\n                                            <label for=\"{{view.cid}}-private-sound-ether\">Ether</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"private_sound\" value=\"pop\" type=\"radio\" id=\"{{view.cid}}-private-sound-pop\" />\n                                            <label for=\"{{view.cid}}-private-sound-pop\">Pop</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"private_sound\" value=\"computer_chime\" type=\"radio\" id=\"{{view.cid}}-private-sound-computer-chime\" />\n                                            <label for=\"{{view.cid}}-private-sound-computer-chime\">Computer Chime</label>\n                                        </p>\n                                    </form>\n                                </div>\n                            </div>\n\n                        </div>\n                        <div class=\"block-subheader\">\n                            <span class=\"block-name\">{[print(xabber.getString(\"settings__section_notifications__group_chats\"))]}</span>\n                        </div>\n                        <div class=\"setting group-notifications field-wrap\">\n                            <div class=\"input-field checkbox-field\">\n                                <input type=\"checkbox\" class=\"filled-in\" id=\"group-notifications\"/>\n                                <label for=\"group-notifications\">{[print(xabber.getString(\"settings__section_notifications__group_chats_notifications\"))]}</label>\n                            </div>\n                        </div>\n                        <div class=\"settings-shifted-block\">\n                            <div class=\"setting message-preview group-preview field-wrap\">\n                                <div class=\"input-field checkbox-field\">\n                                    <input type=\"checkbox\" class=\"filled-in\" id=\"preview_group\"/>\n                                    <label for=\"preview_group\">{[print(xabber.getString(\"settings__section_notifications__toggle_message_preview\"))]}</label>\n                                </div>\n                            </div>\n                            <div class=\"setting-name\">{[print(xabber.getString(\"settings__menu_item__sounds\"))]}</div>\n                            <div class=\"setting sound radio-button field-wrap\">\n                                <div class=\"field radio-field clickable-field\">\n                                    <form action=\"#\">\n                                        <p>\n                                            <input class=\"with-gap\" name=\"group_sound\" value=\"\" type=\"radio\" id=\"{{view.cid}}-group-sound-no\" />\n                                            <label for=\"{{view.cid}}-group-sound-no\">No sound</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"group_sound\" value=\"beep_up\" type=\"radio\" id=\"{{view.cid}}-group-sound-beep-up\" />\n                                            <label for=\"{{view.cid}}-group-sound-beep-up\">Beep Up</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"group_sound\" value=\"tiny_noize\" type=\"radio\" id=\"{{view.cid}}-group-sound-tiny-noize\" />\n                                            <label for=\"{{view.cid}}-group-sound-tiny-noize\">Tiny Noize</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"group_sound\" value=\"retro_game\" type=\"radio\" id=\"{{view.cid}}-group-sound-retro-game\" />\n                                            <label for=\"{{view.cid}}-group-sound-retro-game\">Retro Game</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"group_sound\" value=\"pixel_beep\" type=\"radio\" id=\"{{view.cid}}-group-sound-pixel-beep\" />\n                                            <label for=\"{{view.cid}}-group-sound-pixel-beep\">Pixel Beep</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"group_sound\" value=\"beep_positive\" type=\"radio\" id=\"{{view.cid}}-group-sound-beep-positive\" />\n                                            <label for=\"{{view.cid}}-group-sound-beep-positive\">Beep Positive</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"group_sound\" value=\"good_chime\" type=\"radio\" id=\"{{view.cid}}-group-sound-good-chime\" />\n                                            <label for=\"{{view.cid}}-group-sound-good-chime\">Good Chime</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"group_sound\" value=\"cellular_click\" type=\"radio\" id=\"{{view.cid}}-group-sound-cellular-click\" />\n                                            <label for=\"{{view.cid}}-group-sound-cellular-click\">Cellular Click</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"group_sound\" value=\"bleep\" type=\"radio\" id=\"{{view.cid}}-group-sound-bleep\" />\n                                            <label for=\"{{view.cid}}-group-sound-bleep\">Bleep</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"group_sound\" value=\"mono_u\" type=\"radio\" id=\"{{view.cid}}-group-sound-mono-u\" />\n                                            <label for=\"{{view.cid}}-group-sound-mono-u\">Mono U</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"group_sound\" value=\"plop\" type=\"radio\" id=\"{{view.cid}}-group-sound-plop\" />\n                                            <label for=\"{{view.cid}}-group-sound-plop\">Plop</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"group_sound\" value=\"ether\" type=\"radio\" id=\"{{view.cid}}-group-sound-ether\" />\n                                            <label for=\"{{view.cid}}-group-sound-ether\">Ether</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"group_sound\" value=\"pop\" type=\"radio\" id=\"{{view.cid}}-group-sound-pop\" />\n                                            <label for=\"{{view.cid}}-group-sound-pop\">Pop</label>\n                                        </p>\n                                        <p>\n                                            <input class=\"with-gap\" name=\"group_sound\" value=\"computer_chime\" type=\"radio\" id=\"{{view.cid}}-group-sound-computer-chime\" />\n                                            <label for=\"{{view.cid}}-group-sound-computer-chime\">Computer Chime</label>\n                                        </p>\n                                    </form>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                    <div class=\"settings-subblock-wrap\">\n                        <div class=\"block-header\">\n                            <span class=\"block-name\">{[print(xabber.getString(\"settings__section_notifications__calls\"))]}</span>\n                        </div>\n                        <div class=\"setting-name\">{[print(xabber.getString(\"settings__section_notifications__ringtone\"))]}</div>\n                        <div class=\"setting sound radio-button field-wrap\">\n                            <div class=\"field radio-field clickable-field\">\n                                <form action=\"#\">\n                                    <p>\n                                        <input class=\"with-gap\" name=\"call_sound\" value=\"call\" type=\"radio\" id=\"{{view.cid}}-call-sound-call\" />\n                                        <label for=\"{{view.cid}}-call-sound-call\">Call</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"call_sound\" value=\"beep_up\" type=\"radio\" id=\"{{view.cid}}-call-sound-beep-up\" />\n                                        <label for=\"{{view.cid}}-call-sound-beep-up\">Beep Up</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"call_sound\" value=\"tiny_noize\" type=\"radio\" id=\"{{view.cid}}-call-sound-tiny-noize\" />\n                                        <label for=\"{{view.cid}}-call-sound-tiny-noize\">Tiny Noize</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"call_sound\" value=\"retro_game\" type=\"radio\" id=\"{{view.cid}}-call-sound-retro-game\" />\n                                        <label for=\"{{view.cid}}-call-sound-retro-game\">Retro Game</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"call_sound\" value=\"pixel_beep\" type=\"radio\" id=\"{{view.cid}}-call-sound-pixel-beep\" />\n                                        <label for=\"{{view.cid}}-call-sound-pixel-beep\">Pixel Beep</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"call_sound\" value=\"beep_positive\" type=\"radio\" id=\"{{view.cid}}-call-sound-beep-positive\" />\n                                        <label for=\"{{view.cid}}-call-sound-beep-positive\">Beep Positive</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"call_sound\" value=\"good_chime\" type=\"radio\" id=\"{{view.cid}}-call-sound-good-chime\" />\n                                        <label for=\"{{view.cid}}-call-sound-good-chime\">Good Chime</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"call_sound\" value=\"cellular_click\" type=\"radio\" id=\"{{view.cid}}-call-sound-cellular-click\" />\n                                        <label for=\"{{view.cid}}-call-sound-cellular-click\">Cellular Click</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"call_sound\" value=\"bleep\" type=\"radio\" id=\"{{view.cid}}-call-sound-bleep\" />\n                                        <label for=\"{{view.cid}}-call-sound-bleep\">Bleep</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"call_sound\" value=\"mono_u\" type=\"radio\" id=\"{{view.cid}}-call-sound-mono-u\" />\n                                        <label for=\"{{view.cid}}-call-sound-mono-u\">Mono U</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"call_sound\" value=\"plop\" type=\"radio\" id=\"{{view.cid}}-call-sound-plop\" />\n                                        <label for=\"{{view.cid}}-call-sound-plop\">Plop</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"call_sound\" value=\"ether\" type=\"radio\" id=\"{{view.cid}}-call-sound-ether\" />\n                                        <label for=\"{{view.cid}}-call-sound-ether\">Ether</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"call_sound\" value=\"pop\" type=\"radio\" id=\"{{view.cid}}-call-sound-pop\" />\n                                        <label for=\"{{view.cid}}-call-sound-pop\">Pop</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"call_sound\" value=\"computer_chime\" type=\"radio\" id=\"{{view.cid}}-call-sound-computer-chime\" />\n                                        <label for=\"{{view.cid}}-call-sound-computer-chime\">Computer Chime</label>\n                                    </p>\n                                </form>\n                            </div>\n                        </div>\n                        <div class=\"setting-name\">{[print(xabber.getString(\"settings__section_notifications__dialtone\"))]}</div>\n                        <div class=\"setting sound radio-button field-wrap\">\n                            <div class=\"field radio-field clickable-field\">\n                                <form action=\"#\">\n                                    <p>\n                                        <input class=\"with-gap\" name=\"dialtone_sound\" value=\"call\" type=\"radio\" id=\"{{view.cid}}-dialtone-sound-connecting\" />\n                                        <label for=\"{{view.cid}}-dialtone-sound-connecting\">Call</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"dialtone_sound\" value=\"attention\" type=\"radio\" id=\"{{view.cid}}-dialtone-sound-attention\" />\n                                        <label for=\"{{view.cid}}-dialtone-sound-attention\">Attention</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"dialtone_sound\" value=\"beep_up\" type=\"radio\" id=\"{{view.cid}}-dialtone-sound-beep-up\" />\n                                        <label for=\"{{view.cid}}-dialtone-sound-beep-up\">Beep Up</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"dialtone_sound\" value=\"tiny_noize\" type=\"radio\" id=\"{{view.cid}}-dialtone-sound-tiny-noize\" />\n                                        <label for=\"{{view.cid}}-dialtone-sound-tiny-noize\">Tiny Noize</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"dialtone_sound\" value=\"retro_game\" type=\"radio\" id=\"{{view.cid}}-dialtone-sound-retro-game\" />\n                                        <label for=\"{{view.cid}}-dialtone-sound-retro-game\">Retro Game</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"dialtone_sound\" value=\"pixel_beep\" type=\"radio\" id=\"{{view.cid}}-dialtone-sound-pixel-beep\" />\n                                        <label for=\"{{view.cid}}-dialtone-sound-pixel-beep\">Pixel Beep</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"dialtone_sound\" value=\"beep_positive\" type=\"radio\" id=\"{{view.cid}}-dialtone-sound-beep-positive\" />\n                                        <label for=\"{{view.cid}}-dialtone-sound-beep-positive\">Beep Positive</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"dialtone_sound\" value=\"good_chime\" type=\"radio\" id=\"{{view.cid}}-dialtone-sound-good-chime\" />\n                                        <label for=\"{{view.cid}}-dialtone-sound-good-chime\">Good Chime</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"dialtone_sound\" value=\"cellular_click\" type=\"radio\" id=\"{{view.cid}}-dialtone-sound-cellular-click\" />\n                                        <label for=\"{{view.cid}}-dialtone-sound-cellular-click\">Cellular Click</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"dialtone_sound\" value=\"bleep\" type=\"radio\" id=\"{{view.cid}}-dialtone-sound-bleep\" />\n                                        <label for=\"{{view.cid}}-dialtone-sound-bleep\">Bleep</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"dialtone_sound\" value=\"mono_u\" type=\"radio\" id=\"{{view.cid}}-dialtone-sound-mono-u\" />\n                                        <label for=\"{{view.cid}}-dialtone-sound-mono-u\">Mono U</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"dialtone_sound\" value=\"plop\" type=\"radio\" id=\"{{view.cid}}-dialtone-sound-plop\" />\n                                        <label for=\"{{view.cid}}-dialtone-sound-plop\">Plop</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"dialtone_sound\" value=\"ether\" type=\"radio\" id=\"{{view.cid}}-dialtone-sound-ether\" />\n                                        <label for=\"{{view.cid}}-dialtone-sound-ether\">Ether</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"dialtone_sound\" value=\"pop\" type=\"radio\" id=\"{{view.cid}}-dialtone-sound-pop\" />\n                                        <label for=\"{{view.cid}}-dialtone-sound-pop\">Pop</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"dialtone_sound\" value=\"computer_chime\" type=\"radio\" id=\"{{view.cid}}-dialtone-sound-computer-chime\" />\n                                        <label for=\"{{view.cid}}-dialtone-sound-computer-chime\">Computer Chime</label>\n                                    </p>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"settings-subblock-wrap\">\n                        <div class=\"block-header\">\n                            <span class=\"block-name\">{[print(xabber.getString(\"settings__section_notifications__attention_calls\"))]}</span>\n                        </div>\n                        <div class=\"setting call-attention field-wrap\">\n                            <div class=\"input-field checkbox-field\">\n                                <input type=\"checkbox\" class=\"filled-in\" id=\"call_attention\"/>\n                                <label for=\"call_attention\">{[print(xabber.getString(\"settings__section_notifications__toggle_call_attention\"))]}</label>\n                            </div>\n                        </div>\n                        <div class=\"setting-name\">{[print(xabber.getString(\"settings__section_notifications__ringtone\"))]}</div>\n                        <div class=\"setting sound radio-button field-wrap\">\n                            <div class=\"field radio-field clickable-field\">\n                                <form action=\"#\">\n                                    <p>\n                                        <input class=\"with-gap\" name=\"attention_sound\" value=\"attention\" type=\"radio\" id=\"{{view.cid}}-attention-sound-attention\" />\n                                        <label for=\"{{view.cid}}-attention-sound-attention\">Attention</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"attention_sound\" value=\"beep_up\" type=\"radio\" id=\"{{view.cid}}-attention-sound-beep-up\" />\n                                        <label for=\"{{view.cid}}-attention-sound-beep-up\">Beep Up</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"attention_sound\" value=\"tiny_noize\" type=\"radio\" id=\"{{view.cid}}-attention-sound-tiny-noize\" />\n                                        <label for=\"{{view.cid}}-attention-sound-tiny-noize\">Tiny Noize</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"attention_sound\" value=\"retro_game\" type=\"radio\" id=\"{{view.cid}}-attention-sound-retro-game\" />\n                                        <label for=\"{{view.cid}}-attention-sound-retro-game\">Retro Game</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"attention_sound\" value=\"pixel_beep\" type=\"radio\" id=\"{{view.cid}}-attention-sound-pixel-beep\" />\n                                        <label for=\"{{view.cid}}-attention-sound-pixel-beep\">Pixel Beep</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"attention_sound\" value=\"beep_positive\" type=\"radio\" id=\"{{view.cid}}-attention-sound-beep-positive\" />\n                                        <label for=\"{{view.cid}}-attention-sound-beep-positive\">Beep Positive</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"attention_sound\" value=\"good_chime\" type=\"radio\" id=\"{{view.cid}}-attention-sound-good-chime\" />\n                                        <label for=\"{{view.cid}}-attention-sound-good-chime\">Good Chime</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"attention_sound\" value=\"cellular_click\" type=\"radio\" id=\"{{view.cid}}-attention-sound-cellular-click\" />\n                                        <label for=\"{{view.cid}}-attention-sound-cellular-click\">Cellular Click</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"attention_sound\" value=\"bleep\" type=\"radio\" id=\"{{view.cid}}-attention-sound-bleep\" />\n                                        <label for=\"{{view.cid}}-attention-sound-bleep\">Bleep</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"attention_sound\" value=\"mono_u\" type=\"radio\" id=\"{{view.cid}}-attention-sound-mono-u\" />\n                                        <label for=\"{{view.cid}}-attention-sound-mono-u\">Mono U</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"attention_sound\" value=\"plop\" type=\"radio\" id=\"{{view.cid}}-attention-sound-plop\" />\n                                        <label for=\"{{view.cid}}-attention-sound-plop\">Plop</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"attention_sound\" value=\"ether\" type=\"radio\" id=\"{{view.cid}}-attention-sound-ether\" />\n                                        <label for=\"{{view.cid}}-attention-sound-ether\">Ether</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"attention_sound\" value=\"pop\" type=\"radio\" id=\"{{view.cid}}-attention-sound-pop\" />\n                                        <label for=\"{{view.cid}}-attention-sound-pop\">Pop</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"attention_sound\" value=\"computer_chime\" type=\"radio\" id=\"{{view.cid}}-attention-sound-computer-chime\" />\n                                        <label for=\"{{view.cid}}-attention-sound-computer-chime\">Computer Chime</label>\n                                    </p>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div data-header='{[print(xabber.getString(\"settings__menu_item__privacy\"))]}'  class=\"settings-block-wrap privacy hidden\">\n                    <div class=\"setting load-media field-wrap\">\n                        <div class=\"input-field checkbox-field\">\n                            <input type=\"checkbox\" class=\"filled-in\" id=\"load-media\"/>\n                            <label for=\"load-media\">{[print(xabber.getString(\"settings__section_privacy__load_media\"))]}</label>\n                        </div>\n                    </div>\n                    <div class=\"setting typing-notifications field-wrap\">\n                        <div class=\"input-field checkbox-field\">\n                            <input type=\"checkbox\" class=\"filled-in\" id=\"typing-notifications\"/>\n                            <label for=\"typing-notifications\">{[print(xabber.getString(\"settings__section_privacy__typing_notifications\"))]}</label>\n                        </div>\n                    </div>\n                    <div class=\"setting mapping-service field-wrap\">\n                        <div class=\"input-field checkbox-field\">\n                            <input type=\"checkbox\" class=\"filled-in\" id=\"mapping-service\"/>\n                            <label for=\"mapping-service\">{[print(xabber.getString(\"settings__section_privacy__mapping_service\"))]}</label>\n                        </div>\n                    </div>\n                </div>\n\n                <div data-header='{[print(xabber.getString(\"settings__menu_item__interface_language\"))]}'  class=\"settings-block-wrap interface_language hidden\">\n                    <div class=\"setting interface-language-setting\">\n                        <div class=\"languages-list field radio-field clickable-field\">\n                            <form action=\"#\">\n                                <div class=\"language-item\">\n                                    <input class=\"with-gap\" name=\"language\" value=\"default\" type=\"radio\" id=\"{{view.cid}}-default\" />\n                                    <label for=\"{{view.cid}}-default\">{[print(xabber.getString(\"settings__languages_list___item_default\", [languages[xabber.get(\"default_language\") || 'en']]))]}</label>\n                                </div>\n                                {[if (window.navigator.language.indexOf(xabber.get(\"default_language\")) < 0) {]}\n                                {[}]}\n                                {[for (let lang in constants.languages) { if (!lang || lang == xabber.get(\"default_language\")) continue;]}\n                                <div class=\"language-item\">\n                                    <input class=\"with-gap\" name=\"language\" value=\"{{lang}}\" type=\"radio\" id=\"{{view.cid}}-{{lang}}\" />\n                                    <label for=\"{{view.cid}}-{{lang}}\">{[print(constants.languages[lang]);]}</label>\n                                    {[let locale = Object.keys(client_translation_progress).find(key => !lang.indexOf(key)) || constants.languages_another_locales[lang] && Object.keys(client_translation_progress).find(key => !constants.languages_another_locales[lang].indexOf(key));]}\n                                    {[if (locale) { let progress = client_translation_progress[locale];]}<div class=\"translation-progress\">{[print((progress == 100) ? xabber.getString(\"settings__section_interface_language__translation_progress_fully\") : xabber.getString(\"settings__section_interface_language__translation_progress\", [`${progress}%`]))]}</div>{[}]}\n                                </div>\n                                {[}]}\n                            </form>\n                        </div>\n                        <div class=\"description\"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n"}),define("text!templates/base/about.html",[],function(){return"<div class=\"left-column noselect\">\n    <div class=\"main-info-wrap xabber-info-wrap\">\n        <div class=\"picture-wrap\">\n            <img class=\"logo\" src=\"{{CLIENT_LOGO}}\"/>\n        </div>\n        <div class=\"name\">{{CLIENT_NAME}}</div>\n        <div class=\"version\"></div>\n    </div>\n</div>\n</div>\n\n<div class=\"right-column noselect\">\n    <div class=\"settings-panel-head\">\n        <span>{[print(xabber.getString(\"category_about\"))]}</span>\n    </div>\n\n    <div class=\"panel-content-wrap\">\n        <div class=\"panel-content\">\n            <div class=\"settings-block-wrap about\">\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__preamble_1\", [constants.SHORT_CLIENT_NAME, constants.SHORT_CLIENT_NAME]))]}</div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__preamble_2\", [`<a href=\"${CLIENT_URL}\" target=\"_blank\">${CLIENT_URL}</a>`]))]}</div>\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"web_client__screen_about__block_1__header\"))]}</span>\n                </div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_1__text\"))]}</div>\n\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"web_client__screen_about__block_2__header\"))]}</span>\n                </div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_2__text\", [constants.SHORT_CLIENT_NAME]))]}</div>\n\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"web_client__screen_about__block_3__header\"))]}</span>\n                </div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_3__text_1\", [constants.CLIENT_NAME, `<a href=\"${DEVELOPER_URL}\" target=\"_blank\">${xabber.getString(\"client_developer_company_name\")}</a>`, constants.SHORT_CLIENT_NAME]))]}</div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_3__text_2\", [constants.SHORT_CLIENT_NAME]))]}</div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_3__text_3\"))]}</div>\n                <div class=\"block-content flex-content\">\n                    <img class=\"logo\" src=\"images/redsolution-logo.png\"/>\n                    <a href=\"https://twitter.com/Xabber_XMPP\" target=\"_blank\"><div class=\"btn-social twitter-color\">\n                        <i class=\"mdi mdi-28px mdi-twitter\"></i>\n                    </div></a>\n                    <a href=\"${CLIENT_GITHUB_URL}\" target=\"_blank\"><img class=\"btn-social github-logo\" src=\"images/ic_github.png\"/></a>\n                </div>\n\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"web_client__screen_about__block_4__header\"))]}</span>\n                </div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_4__text_1\", [constants.SHORT_CLIENT_NAME]))]}</div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_4__text_2\", [`<a href=\"${PROJECT_CROWDIN_URL}\" target=\"_blank\">${xabber.getString(\"web_client__screen_about__block_4__text_2__link__text\", [constants.SHORT_CLIENT_NAME])}</a>`]))]}</div>\n\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"web_client__screen_about__block_5__header\"))]}</span>\n                </div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_5__text_1\", [constants.CLIENT_NAME, `<a href=\"${CLIENT_GITHUB_URL}\" target=\"_blank\">${xabber.getString(\"web_client__screen_about__block_5__text_1__link__text\")}</a>`]))]}</div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_5__text_2\"))]}</div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_5__text_3\", [constants.SHORT_CLIENT_NAME, xabber.getString(\"client_developer_company_name\"), `<a href=\"${DEVELOPER_URL}\" target=\"_blank\">${xabber.getString(\"client_developer_company_full_name\")}</a>`]))]}</div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_5__text_4\", [constants.CLIENT_NAME, `<a href=\"${CLIENT_LICENSE_GITHUB_URL}\" target=\"_blank\">${xabber.getString(\"web_client__screen_about__block_5__text_4__link__text\")}</a>`]))]}</div>\n            </div>\n        </div>\n    </div>\n</div>"}),define("text!templates/base/omemo_enable.html",[],function(){return"<div class=\"msg-text ground-color-300\">\n    <span title=\"{[print(xabber.getString('omemo__alert_enable__tooltip'))]}\" class=\"btn-enable\">{[print(xabber.getString(\"omemo__alert_enable__link_text\"))]}</span> {[print(xabber.getString(\"omemo__alert_enable__text\", [jid]))]}</div>\n<i class=\"mdi mdi-22px mdi-close btn-escape\"></i>\n<button class=\"btn-enable btn-flat hover-ground-color-500 btn-dark btn-main\">{[print(xabber.getString(\"omemo__alert_enable__link_text\"))]}</button>"}),define("text!templates/base/backgrounds_gallery.html",[],function(){return"<div class=\"modal-header\">\n    <span></span>\n    <div class=\"menu-wrap\">\n        <div data-screen-name=\"library\" class=\"menu-btn btn-library\">{[print(xabber.getString(\"settings__dialog_background__menu_item_library\"))]}</div>\n        <div data-screen-name=\"upload\" class=\"menu-btn btn-upload\">{[print(xabber.getString(\"settings__dialog_background__menu_item_upload\"))]}</div>\n        <div data-screen-name=\"web-address\" class=\"menu-btn btn-web-address\">{[print(xabber.getString(\"settings__dialog_background__menu_item_url\"))]}</div>\n    </div>\n</div>\n<div class=\"modal-content\">\n    <div data-screen=\"library\" class=\"screen-wrap library-wrap\"></div>\n    <div data-screen=\"upload\" class=\"hidden screen-wrap\">\n        <div class=\"upload-wrap\">\n            <div class=\"upload-text\">{[print(xabber.getString(\"settings__dialog_background__section_upload__text\"))]}</div>\n            <div class=\"upload-button\">\n                <button type=\"file\">{[print(xabber.getString(\"settings__dialog_background__section_upload__button_upload\"))]}</button>\n                <input type=\"file\">\n            </div></div>\n    </div>\n    <div data-screen=\"web-address\" class=\"hidden screen-wrap web-address-wrap\">\n        <div class=\"web-address\">\n            <div class=\"label\">{[print(xabber.getString(\"settings__dialog_background__section_url__label\"))]}</div>\n            <input class=\"url\"/>\n        </div>\n        <div class=\"image-preview\">\n            <img class=\"hidden\">\n            <p>{[print(xabber.getString(\"settings__dialog_background__section_url__placeholder_preview\"))]}</p>\n        </div>\n    </div>\n</div>\n<div class=\"modal-footer\">\n    <button class=\"btn-flat btn-main text-color-700 non-active btn-add\">{[print(xabber.getString(\"set\"))]}</button>\n    <button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button>\n</div>"}),define("text!templates/base/color_picker.html",[],function(){return"<div class=\"modal-header\">{[print(xabber.getString(\"settings__section_appearance__header_toolbar_icons_color\"))]}</div>\n<div class=\"material-color-picker-wrap\">\n    <div class=\"material-color-picker\">\n        {[materialColors.forEach(function (color) {]}\n        <div data-color-name=\"{{color.color}}\" class=\"color-palette-wrapper\">\n            {[var default_color = color.variations.find(v => v.weight == 500);]}\n            <div data-weight=\"500\" data-hex=\"{{default_color.hex}}\" style=\"background-color: {{default_color.hex}}\" class=\"color-palette-item\">\n            </div>\n            {[color.variations.forEach(function (variation) {]}\n            <div data-weight=\"{{variation.weight}}\" data-hex=\"{{variation.hex}}\" style=\"background-color: {{variation.hex}}\" class=\"color-palette-item\">\n            </div>\n            {[})]}\n        </div>\n        {[})]}\n    </div>\n</div>\n<div class=\"modal-footer\">\n    <div class=\"hidden selected-color-wrap\">\n        <div class=\"selected-color-item\"></div>\n        <div class=\"selected-color-info\">\n            <div class=\"selected-color-name\"></div>\n            <div class=\"selected-color-hex\"></div>\n            <input class=\"selected-color-hex-input hidden\"/>\n        </div>\n        <button class=\"btn-flat btn-main btn-dark btn-set\">{[print(xabber.getString(\"set\"))]}</button>\n    </div>\n</div>"}),define("text!templates/base/color_scheme.html",[],function(){return"<ul class=\"color-values noselect\">\n    <li class=\"color-value\" data-value=\"red\">\n        <div class=\"color-name text-color-red-700\">{[print(xabber.getString(\"account_color_name_red\"))]}</div>\n        <div class=\"color-pattern ground-color-red-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"pink\">\n        <div class=\"color-name text-color-pink-700\">{[print(xabber.getString(\"account_color_name_pink\"))]}</div>\n        <div class=\"color-pattern ground-color-pink-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"purple\">\n        <div class=\"color-name text-color-purple-700\">{[print(xabber.getString(\"account_color_name_purple\"))]}</div>\n        <div class=\"color-pattern ground-color-purple-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"deep-purple\">\n        <div class=\"color-name text-color-deep-purple-700\">{[print(xabber.getString(\"account_color_name_deep_purple\").replace(/-/g, \" \"))]}</div>\n        <div class=\"color-pattern ground-color-deep-purple-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"indigo\">\n        <div class=\"color-name text-color-indigo-700\">{[print(xabber.getString(\"account_color_name_indigo\"))]}</div>\n        <div class=\"color-pattern ground-color-indigo-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"blue\">\n        <div class=\"color-name text-color-blue-700\">{[print(xabber.getString(\"account_color_name_blue\"))]}</div>\n        <div class=\"color-pattern ground-color-blue-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"light-blue\">\n        <div class=\"color-name text-color-light-blue-700\">{[print(xabber.getString(\"account_color_name_light_blue\").replace(/-/g, \" \"))]}</div>\n        <div class=\"color-pattern ground-color-light-blue-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"cyan\">\n        <div class=\"color-name text-color-cyan-700\">{[print(xabber.getString(\"account_color_name_cyan\"))]}</div>\n        <div class=\"color-pattern ground-color-cyan-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"teal\">\n        <div class=\"color-name text-color-teal-700\">{[print(xabber.getString(\"account_color_name_teal\"))]}</div>\n        <div class=\"color-pattern ground-color-teal-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"green\">\n        <div class=\"color-name text-color-green-700\">{[print(xabber.getString(\"account_color_name_green\"))]}</div>\n        <div class=\"color-pattern ground-color-green-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"light-green\">\n        <div class=\"color-name text-color-light-green-700\">{[print(xabber.getString(\"account_color_name_light_green\").replace(/-/g, \" \"))]}</div>\n        <div class=\"color-pattern ground-color-light-green-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"lime\">\n        <div class=\"color-name text-color-lime-700\">{[print(xabber.getString(\"account_color_name_lime\"))]}</div>\n        <div class=\"color-pattern ground-color-lime-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"amber\">\n        <div class=\"color-name text-color-amber-700\">{[print(xabber.getString(\"account_color_name_amber\"))]}</div>\n        <div class=\"color-pattern ground-color-amber-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"orange\">\n        <div class=\"color-name text-color-orange-700\">{[print(xabber.getString(\"account_color_name_orange\"))]}</div>\n        <div class=\"color-pattern ground-color-orange-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"deep-orange\">\n        <div class=\"color-name text-color-deep-orange-700\">{[print(xabber.getString(\"account_color_name_deep_orange\").replace(/-/g, \" \"))]}</div>\n        <div class=\"color-pattern ground-color-deep-orange-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"brown\">\n        <div class=\"color-name text-color-brown-700\">{[print(xabber.getString(\"account_color_name_brown\"))]}</div>\n        <div class=\"color-pattern ground-color-brown-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"blue-grey\">\n        <div class=\"color-name text-color-blue-grey-700\">{[print(xabber.getString(\"account_color_name_blue_grey\").replace(/-/g, \" \"))]}</div>\n        <div class=\"color-pattern ground-color-blue-grey-700\"></div>\n    </li>\n</ul>"}),define("text!templates/api_service/xabber_login.html",[],function(){return"<div class=\"login-panel\">\n    <div class=\"login-panel-head noselect\">\n        <img src=\"{{CLIENT_LOGO}}\" class=\"client-logo\">\n        <span class=\"client-name\">{{SHORT_CLIENT_NAME}}</span>\n    </div>\n    <div class=\"login-panel-form xmpp-login-form noselect\">\n        <div class=\"btn-escape\">\n            <i class=\"mdi mdi-24px mdi-close\"></i>\n        </div>\n        <div class=\"login-form-header\">{[print(xabber.getString(\"dialog_add_xabber_account__header\"))]}</div>\n        <div class=\"input-field email-name\">\n            <input id=\"username\" type=\"text\" name=\"username\">\n            <label for=\"username\">{[print(xabber.getString(\"email_hint\"))]}</label>\n            <span class=\"errors fixed one-line\"></span>\n        </div>\n        <div class=\"input-field\">\n            <input id=\"password\" type=\"password\" name=\"password\">\n            <label for=\"password\">{[print(xabber.getString(\"hint_pass\"))]}</label>\n            <span class=\"errors fixed one-line\"></span>\n        </div>\n        <div class=\"input-field buttons-wrap\">\n            <a href=\"{{XABBER_ACCOUNT_URL}}/auth/forgot-password/\" target=\"_blank\" class=\"btn-flat btn-main btn-forgot-password\">{[print(xabber.getString(\"forgot_pass\"))]}</a>\n            <button class=\"btn btn-flat btn-main-filled btn-log-in\">{[print(xabber.getString(\"xabber_account__social_links__button_log_in\"))]}</button>\n        </div>\n        <div class=\"social-auth-wrap\"><div class=\"social-header\">\n            <div class=\"divider\"></div>\n            <div class=\"social-header-tip\">{[print(xabber.getString(\"xabber_login__new_account\"))]}</div>\n        </div></div>\n        <div class=\"registration-footer\">\n            <div class=\"registration-tip-wrap\">\n                <span class=\"registration-tip\">{[print(xabber.getString(\"xabber_account__login__text_no_xmpp_acc\"))]}</span>\n                <a href=\"{{XABBER_ACCOUNT_URL}}/auth/signup/?source=Xabber Web\" target=\"_blank\" class=\"btn-flat btn-main btn-registration\">{[print(xabber.getString(\"dialog_add_xabber_account__button_registration\"))]}</a>\n            </div>\n        </div>\n        <div class=\"clearfix\"></div>\n    </div>\n</div>\n"}),define("text!templates/api_service/xabber_login_by_email.html",[],function(){return"<div class=\"login-panel-form xmpp-login-form noselect\">\n    <div class=\"login-form-header\">{[print(xabber.getString(\"title_login_email\"))]}</div>\n    <div class=\"input-field email-name\">\n        <input id=\"username\" type=\"text\" name=\"username\">\n        <label for=\"username\">{[print(xabber.getString(\"email_hint\"))]}</label>\n        <span class=\"errors fixed one-line\"></span>\n    </div>\n    <div class=\"input-field\">\n        <input id=\"password\" type=\"password\" name=\"password\">\n        <label for=\"password\">{[print(xabber.getString(\"hint_pass\"))]}</label>\n        <span class=\"errors fixed one-line\"></span>\n    </div>\n    <div class=\"login-panel-footer buttons-wrap\"><button class=\"btn btn-flat btn-main-filled btn-log-in\">{[print(xabber.getString(\"xabber_account__social_links__button_log_in\"))]}</button><button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button></div>\n</div>"}),define("text!templates/api_service/xabber_account.html",[],function(){return"<div class=\"xabber-account-content-wrap\">\n    <div class=\"account-info-wrap\">\n        <div class=\"circle-avatar noselect\"></div>\n        <div class=\"text-info-wrap\">\n            <div class=\"name-wrap\">\n                <div class=\"name text-color-red-700 one-line\"></div>\n            </div>\n            <div class=\"last-sync-info\"></div>\n        </div>\n    </div>\n    <div class=\"sync-wrap\">\n        <div class=\"btn-sync\">\n            <div class=\"preloader-wrapper preloader-20px active\">\n                <div class=\"spinner-layer\">\n                    <div class=\"circle-clipper left\">\n                        <div class=\"circle\"></div>\n                    </div>\n                    <div class=\"gap-patch\">\n                        <div class=\"circle\"></div>\n                    </div>\n                    <div class=\"circle-clipper right\">\n                        <div class=\"circle\"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"buttons-wrap\">\n        <button class=\"btn-flat btn-main btn-login\">{[print(xabber.getString(\"xabber_account__social_links__button_log_in\"))]}</button>\n        <div class=\"chat-tool btn-more dropdown-button\" data-activates=\"account-action-more\">\n            <i class=\"mdi mdi-20px mdi-dots-vertical\"></i>\n        </div>\n        <ul id=\"account-action-more\" class=\"xabber-account-menu dropdown-content noselect\">\n            <li class=\"btn-sync btn-sync-settings\">\n                <span class=\"one-line\">{[print(xabber.getString(\"xabber_account__dialog_sync__button_sync\"))]}</span>\n            </li>\n            <li class=\"btn-set-password\">\n                <span class=\"one-line\">{[print(xabber.getString(\"button_set_pass\"))]}</span>\n            </li>\n            <li class=\"btn-logout\">\n                <span class=\"one-line\">{[print(xabber.getString(\"button_quit\"))]}</span>\n            </li>\n        </ul>\n    </div>\n</div>\n<div class=\"xabber-account-tip\">{[print(xabber.getString(\"tutorial_description_6\"))]}</div>\n<div class=\"linked-social-accounts-and-emails\">\n    <div class=\"social-linked-header\"><div class=\"chevron-icon\"><i class=\"arrow mdi mdi-20px\"></i></div><div class=\"social-linked-header-text\">{[print(xabber.getString(\"title_linked_accounts\"))]}</div></div>\n    <div class=\"social-linked-wrap\">\n        <div id='google' class=\"not-linked social-account social-linked-item-wrap google-linked\"><div class=\"google-color social-icon\"><i class=\"mdi mdi-24px mdi-google-plus\"></i></div><div class=\"synced-info\">{[print(xabber.getString(\"title_not_linked_account\"))]}</div><div class=\"btn-main btn-flat btn-link\">{[print(xabber.getString(\"action_connect\"))]}</div></div>\n        <div id='facebook' class=\"not-linked social-account social-linked-item-wrap facebook-linked\"><div class=\"facebook-color social-icon\"><i class=\"mdi mdi-24px mdi-facebook\"></i></div><div class=\"synced-info\">{[print(xabber.getString(\"title_not_linked_account\"))]}</div><div class=\"btn-main btn-flat btn-link\">{[print(xabber.getString(\"action_connect\"))]}</div></div>\n        <div id='twitter' class=\"not-linked social-account social-linked-item-wrap twitter-linked\"><div class=\"twitter-color social-icon\"><i class=\"mdi mdi-24px mdi-twitter\"></i></div><div class=\"synced-info\">{[print(xabber.getString(\"title_not_linked_account\"))]}</div><div class=\"btn-main btn-flat btn-link\">{[print(xabber.getString(\"action_connect\"))]}</div></div>\n        <div id='email' class=\"not-linked social-linked-item-wrap\"><div class=\"email-color social-icon\"><svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\">\n            <path fill=\"#FFF\" d=\"M3,4C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H14.09C14.03,19.67 14,19.34 14,19A6,6 0 0,1 20,13C20.34,13 20.67,13.03 21,13.09V6C21,4.89 20.1,4 19,4H3M3,6L11,11L19,6V8L11,13L3,8V6M19,15V18H16V20H19V23H21V20H24V18H21V15H19Z\" />\n        </svg></div><div class=\"synced-info\">{[print(xabber.getString(\"title_add_email\"))]}</div><div class=\"btn-main btn-flat btn-link\">{[print(xabber.getString(\"action_connect\"))]}</div></div>\n    </div>\n    <span class=\"errors\"></span>\n</div>"}),define("text!templates/api_service/linked_email_item.html",[],function(){return"<div data-id=\"{{email_id}}\" data-email=\"{{email}}\" class=\"{[if (!verified){]}not-linked {[}]}social-linked-item-wrap email-linked\"><div style=\"background-color:{{color}}\" class=\"social-icon\">{[if (verified){]}<svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\">\n    <path fill=\"#FFF\" d=\"M21,13.34C20.37,13.12 19.7,13 19,13A6,6 0 0,0 13,19C13,19.34 13.03,19.67 13.08,20H3A2,2 0 0,1 1,18V6C1,4.89 1.89,4 3,4H19A2,2 0 0,1 21,6V13.34M23.5,17L18.5,22L15,18.5L16.5,17L18.5,19L22,15.5L23.5,17M3,6V8L11,13L19,8V6L11,11L3,6Z\" />\n</svg>{[} else {]}<i class=\"mdi mdi-24px mdi-email\"></i>{[}]}</div><div class=\"synced-info\"><div class=\"name one-line\">{{email}}</div><div class=\"verified-status one-line\">{[if (verified){print(xabber.getString(\"title_verified_email\"));}else{print(xabber.getString(\"title_unverified_email\"));}]}</div></div>{[if (!verified){]}<div class=\"btn-main btn-flat btn-verify-email\">{[print(xabber.getString(\"button_confirm\"))]}</div>{[}]}<div class=\"btn-main btn-flat btn-link btn-unlink\">{[print(xabber.getString(\"action_disconnect\"))]}</div></div>"}),define("text!templates/api_service/add_xabber_account.html",[],function(){return"<div class=\"modal main-modal add-xabber-account-modal\">\n    <div class=\"modal-content-wrap\">\n        <div class=\"modal-header\">\n            <span>{[print(xabber.getString(\"dialog_add_xabber_account__header\"))]}</span>\n        </div>\n        <div class=\"modal-content\">\n            <div class=\"row account-field\">\n                <div class=\"multiple-acc\">\n                    <div class=\"account-dropdown-wrap\">\n                        <div class=\"dropdown-button\" data-activates=\"select-account-for-add-contact\">\n                            <div class=\"account-item-wrap\">\n                            </div>\n                            <div class=\"caret\">\n                                <i class=\"mdi mdi-20px mdi-menu-down\"></i>\n                            </div>\n                        </div>\n                        <div id=\"select-account-for-add-contact\" class=\"dropdown-content noselect\">\n                        </div>\n                    </div>\n                </div>\n                <div class=\"single-acc\">\n                    <div class=\"dropdown-button\">\n                        <div class=\"account-item-wrap\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n            {[if (constants.USE_SOCIAL_AUTH){]}\n            <div class=\"row social-auth-wrap\">\n                <div class=\"social-header\">\n                    <div class=\"divider\"></div>\n                    <div class=\"social-header-tip\">{[print(xabber.getString(\"social_sign_in\"))]}</div>\n                </div>\n                <div class=\"social-buttons\">\n                    <div class=\"btn-social google-color\" data-provider=\"google\">\n                        <i class=\"mdi mdi-28px mdi-google-plus\"></i>\n                    </div>\n                    <div class=\"btn-social facebook-color\" data-provider=\"facebook\">\n                        <i class=\"mdi mdi-28px mdi-facebook\"></i>\n                    </div>\n                    <div class=\"btn-social twitter-color\" data-provider=\"twitter\">\n                        <i class=\"mdi mdi-28px mdi-twitter\"></i>\n                    </div>\n                    <div class=\"btn-social xabber-color\" data-provider=\"email\">\n                        <i class=\"mdi mdi-28px mdi-at\"></i>\n                    </div>\n                </div>\n            </div>\n            {[}]}\n        </div>\n        <div class=\"modal-footer\">\n            <button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button>\n        </div>\n    </div>\n</div>\n<div class=\"login-panel-footer\">\n    <div class=\"registration-footer\">\n        <div class=\"registration-tip-wrap\">\n            <span class=\"registration-tip\">{[print(xabber.getString(\"dialog_add_xabber_account__text_no_account\"))]}</span>\n            <a href=\"{{XABBER_ACCOUNT_URL}}/auth/signup/\" target=\"_blank\" class=\"btn-flat btn-main btn-registration\">{[print(xabber.getString(\"dialog_add_xabber_account__button_registration\"))]}</a>\n        </div>\n    </div>\n    <div class=\"footer-text clearfix\">{[print(xabber.getString(\"tutorial_description_6\"))]}</div>\n</div>\n"}),define("text!templates/api_service/sync_settings.html",[],function(){return"<div class=\"modal-content-wrap settings-panel\">\n    <div class=\"modal-header\">\n        <span>{[print(xabber.getString(\"xabber_account__dialog_sync__header\"))]}</span>\n    </div>\n    <div class=\"modal-content\">\n        <div class=\"row\">\n            <div class=\"setting sync-all-wrap field-wrap\">\n                <div class=\"field clickable-field switch normal\">\n                    <span class=\"field-name\">{[print(xabber.getString(\"sync_all\"))]}</span>\n                    <label class=\"field-value\">\n                       <input type=\"checkbox\" class=\"sync-all\">\n                       <span class=\"lever\"></span>\n                    </label>\n                </div>\n            </div>\n            <div class=\"accounts-wrap\">\n            </div>\n        </div>\n    </div>\n    <div class=\"modal-footer\">\n        <button class=\"btn-flat btn-main btn-sync\">{[print(xabber.getString(\"xabber_account__dialog_sync__button_sync\"))]}</button>\n        <button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button>\n    </div>\n</div>\n"}),define("text!templates/api_service/sync_settings_account_item.html",[],function(){return"<div class=\"account-wrap\" data-jid=\"{{jid}}\">\n    <div class=\"account-info-wrap\">\n        <i class=\"sync-icon mdi mdi-24px\" data-mdiclass=\"\"></i>\n        <div class=\"text-info-wrap\">\n            <div class=\"name text-color-grey-900 one-line\">{{jid}}</div>\n            <div class=\"sync-tip text-color-grey-500 one-line\"></div>\n        </div>\n    </div>\n    <div class=\"input-field checkbox-field sync-one-wrap no-padding\">\n        <input type=\"checkbox\" class=\"filled-in sync-one\" id=\"{{view.cid}}_sync_{{jid}}\"/>\n        <label for=\"{{view.cid}}_sync_{{jid}}\"></label>\n    </div>\n</div>\n"}),define("text!templates/accounts/xmpp_login.html",[],function(){return"<div class=\"login-panel-intro\">\n    <div class=\"login-panel-head noselect\">\n        <img src=\"{{CLIENT_LOGO}}\" class=\"client-logo\">\n        <span class=\"client-name\">{{SHORT_CLIENT_NAME}}</span>\n        <span class=\"client-description\">{{SHORT_CLIENT_DESCRIPTION}}</span>\n    </div>\n    <div class=\"login-buttons\">\n        <div class=\"btn-flat btn-main btn-register-form one-line\">{[print(xabber.getString(\"xmpp_login__button_sign_up\"))]}</div>\n        <div class=\"btn-flat btn-main btn-login-form one-line\">{[print(xabber.getString(\"xmpp_login__button_sign_in\"))]}</div>\n    </div>\n</div>\n<div class=\"login-panel-form xmpp-login-form noselect hidden\">\n    <svg class=\"details-icon btn-go-back-menu mdi mdi-24px mdi-svg-template\" data-svgname=\"chevron-left-variant\"></svg>\n    <div class=\"login-form-header\">{[print(xabber.getString(\"title_login_xabber_account\"))]}</div>\n    <div class=\"login-form-jid\">\n        <div class=\"register-form-step-wrap\">\n            <div class=\"register-form-step-header\">{[print(xabber.getString(\"dialog_jingle_message__message_connect\"))]}</div>\n            <div class=\"input-field-wrap\">\n                <div class=\"input-field input-field-jid\">\n                    <input id=\"jid\" placeholder='{[print(xabber.getString(\"hint_xmpp_id\"))]}' type=\"text\" name=\"jid\">\n                    <div class=\"property-field xmpp-server-dropdown-wrap\">\n                        <div class=\"select-auth-xmpp-server\">\n                            <div data-activates=\"select-auth-xmpp-server\" class=\"xmpp-server-item-wrap property-wrap\"><div class=\"jid-at\">@</div><div class=\"field-jid one-line property-value\"></div></div>\n                            <div class=\"input-field input-group-chat-domain hidden\">\n                                <input id=\"sign_in_domain\" type=\"text\" placeholder='{[print(xabber.getString(\"groupchat__hint_domain\"))]}' value=\"111111\" name=\"sign_in_domain\">\n                            </div>\n                            <div data-activates=\"select-auth-xmpp-server\" class=\"caret\">\n                                <i class=\"mdi mdi-20px mdi-menu-up\"></i>\n                                <i class=\"mdi mdi-20px mdi-menu-down\"></i>\n                            </div>\n                        </div>\n                        <div id=\"select-auth-xmpp-server\" class=\"dropdown-content noselect\">\n                            <div class=\"property-variant set-custom-domain\">{[print(xabber.getString(\"groupchat_custom_server\"))]}</div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"input-field\">\n                    <input id=\"password\" placeholder='{[print(xabber.getString(\"hint_pass\"))]}' type=\"password\" name=\"password\">\n                </div>\n            </div>\n            <div class=\"register-form-step-error login-jid-error hidden\"></div>\n            <div class=\"register-form-step-error login-password-error hidden\"></div>\n            <div class=\"register-form-step-description\"></div>\n            <div class=\"login-step-wrap hidden\">\n                <div class=\"login-step connecting-step\">\n                    <div class=\"login-step-text\">\n                        {[print(xabber.getString(\"dialog_jingle_message__status_communicating\"))]}\n                    </div>\n                    <div class=\"preloader-wrapper preloader-17px active visible\">\n                        <div class=\"spinner-layer\">\n                            <div class=\"circle-clipper left\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"gap-patch\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"circle-clipper right\">\n                                <div class=\"circle\"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <i class=\"mdi mdi-24px mdi-alert-circle hidden\"></i>\n                </div>\n                <div class=\"login-step credentials-step\">\n                    <div class=\"login-step-text\">\n                        {[print(xabber.getString(\"dialog_jingle_message__status_checking_credentials\"))]}\n                    </div>\n                    <div class=\"preloader-wrapper preloader-17px active visible\">\n                        <div class=\"spinner-layer\">\n                            <div class=\"circle-clipper left\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"gap-patch\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"circle-clipper right\">\n                                <div class=\"circle\"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <i class=\"mdi mdi-24px mdi-alert-circle hidden\"></i>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"login-form-server-features hidden\">\n        <div class=\"register-form-step-wrap\">\n            <div class=\"register-form-step-header\"></div>\n        </div>\n        <div class=\"login-server-features-wrap\">\n            <div class=\"server-feature\" data-xmlns=\"{[print(Strophe.NS.MAM)]}\" >\n                <div class=\"server-feature-text\">\n                    {[print(xabber.getString(\"signin_message_archive\"))]}\n                </div>\n                <div class=\"preloader-wrapper preloader-17px active visible\">\n                    <div class=\"spinner-layer\">\n                        <div class=\"circle-clipper left\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"gap-patch\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"circle-clipper right\">\n                            <div class=\"circle\"></div>\n                        </div>\n                    </div>\n                </div>\n                <i class=\"mdi mdi-24px mdi-alert hidden\"></i>\n                <div class=\"feature-error-tooltip-triangle\">\n                    <div class=\"triangle-inside\"></div>\n                </div>\n                <div class=\"feature-error-tooltip\">{[print(xabber.getString('signin_message_archive_error'))]}</div>\n            </div>\n            <div class=\"server-feature\" data-xmlns=\"{[print(Strophe.NS.SYNCHRONIZATION)]}\">\n                <div class=\"server-feature-text\">\n                    {[print(xabber.getString(\"signin_synchronization\"))]}\n                </div>\n                <div class=\"preloader-wrapper preloader-17px active visible\">\n                    <div class=\"spinner-layer\">\n                        <div class=\"circle-clipper left\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"gap-patch\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"circle-clipper right\">\n                            <div class=\"circle\"></div>\n                        </div>\n                    </div>\n                </div>\n                <i class=\"mdi mdi-24px mdi-alert hidden\"></i>\n                <div class=\"feature-error-tooltip-triangle\">\n                    <div class=\"triangle-inside\"></div>\n                </div>\n                <div class=\"feature-error-tooltip\">{[print(xabber.getString('signin_quick_synchronization_error'))]}</div>\n            </div>\n            <div class=\"server-feature\" data-xmlns=\"{[print(Strophe.NS.REWRITE)]}\">\n                <div class=\"server-feature-text\">\n                    {[print(xabber.getString(\"signin_message_editing\"))]}\n                </div>\n                <div class=\"preloader-wrapper preloader-17px active visible\">\n                    <div class=\"spinner-layer\">\n                        <div class=\"circle-clipper left\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"gap-patch\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"circle-clipper right\">\n                            <div class=\"circle\"></div>\n                        </div>\n                    </div>\n                </div>\n                <i class=\"mdi mdi-24px mdi-alert hidden\"></i>\n                <div class=\"feature-error-tooltip-triangle\">\n                    <div class=\"triangle-inside\"></div>\n                </div>\n                <div class=\"feature-error-tooltip\">{[print(xabber.getString('signin_message_editing_error'))]}</div>\n            </div>\n            <div class=\"server-feature\" data-xmlns=\"{[print(Strophe.NS.AUTH_DEVICES)]}\">\n                <div class=\"server-feature-text\">\n                    {[print(xabber.getString(\"signin_device_management\"))]}\n                </div>\n                <div class=\"preloader-wrapper preloader-17px active visible\">\n                    <div class=\"spinner-layer\">\n                        <div class=\"circle-clipper left\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"gap-patch\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"circle-clipper right\">\n                            <div class=\"circle\"></div>\n                        </div>\n                    </div>\n                </div>\n                <i class=\"mdi mdi-24px mdi-alert hidden\"></i>\n                <div class=\"feature-error-tooltip-triangle\">\n                    <div class=\"triangle-inside\"></div>\n                </div>\n                <div class=\"feature-error-tooltip\">{[print(xabber.getString('signin_tokens_error'))]}</div>\n            </div>\n            <div class=\"server-feature\" data-xmlns=\"{[print(Strophe.NS.PUBSUB)]}\">\n                <div class=\"server-feature-text\">\n                    {[print(xabber.getString(\"signin_publish_subscribe\"))]}\n                </div>\n                <div class=\"preloader-wrapper preloader-17px active visible\">\n                    <div class=\"spinner-layer\">\n                        <div class=\"circle-clipper left\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"gap-patch\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"circle-clipper right\">\n                            <div class=\"circle\"></div>\n                        </div>\n                    </div>\n                </div>\n                <i class=\"mdi mdi-24px mdi-alert hidden\"></i>\n                <div class=\"feature-error-tooltip-triangle\">\n                    <div class=\"triangle-inside\"></div>\n                </div>\n                <div class=\"feature-error-tooltip\">{[print(xabber.getString('signin_pubsub_error'))]}</div>\n            </div>\n            <div class=\"server-feature\" data-xmlns=\"{[print(Strophe.NS.HTTP_UPLOAD)]}\">\n                <div class=\"server-feature-text\">\n                    {[print(xabber.getString(\"signin_file_upload\"))]}\n                </div>\n                <div class=\"preloader-wrapper preloader-17px active visible\">\n                    <div class=\"spinner-layer\">\n                        <div class=\"circle-clipper left\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"gap-patch\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"circle-clipper right\">\n                            <div class=\"circle\"></div>\n                        </div>\n                    </div>\n                </div>\n                <i class=\"mdi mdi-24px mdi-alert hidden\"></i>\n                <div class=\"feature-error-tooltip-triangle\">\n                    <div class=\"triangle-inside\"></div>\n                </div>\n                <div class=\"feature-error-tooltip\">{[print(xabber.getString('signin_file_upload_error'))]}</div>\n            </div>\n        </div>\n        <div class=\"server-features-error\"></div>\n    </div>\n    <div class=\"input-field buttons-wrap\">\n        <button class=\"btn btn-flat btn-main-filled btn-log-in\">{[print(xabber.getString(\"title_login_xabber_account\"))]}</button>\n        <button class=\"btn btn-flat btn-main-filled one-line hidden btn-sign-up-instead\">{[print(xabber.getString(\"xmpp_login__button_sign_up\"))]}</button>\n        <button class=\"btn btn-flat btn-main-filled one-line hidden btn-finish-log-in\"></button>\n    </div>\n    <div class=\"clearfix\"></div>\n</div>\n<div class=\"login-panel-form register-form noselect hidden\">\n    <svg class=\"details-icon btn-go-back mdi mdi-24px mdi-svg-template\" data-svgname=\"chevron-left-variant\"></svg>\n    <div class=\"login-form-header\">{[print(xabber.getString(\"title_register_xabber_account\"))]}</div>\n    <div class=\"login-form-skip hidden\">{[print(xabber.getString(\"skip\"))]}</div>\n    <div class=\"register-form-nickname\">\n        <div class=\"register-form-step-wrap\">\n            <div class=\"register-form-step-header\">{[print(xabber.getString(\"xmpp_login__registration_title_nickname\"))]}</div>\n            <div class=\"input-field-wrap\">\n                <div class=\"input-field\">\n                    <input id=\"register_nickname\" placeholder='{[print(xabber.getString(\"vcard_nick_name\"))]}' type=\"text\" name=\"register_nickname\">\n                </div>\n            </div>\n            <div class=\"register-form-step-description\">{[print(xabber.getString(\"xmpp_login__registration_description_nickname\"))]}</div>\n            <div class=\"register-form-step-error hidden\"></div>\n        </div>\n    </div>\n    <div class=\"register-form-jid hidden\">\n        <div class=\"register-form-step-wrap\">\n            <div class=\"register-form-step-header\">{[print(xabber.getString(\"xmpp_login__registration_title_jid\"))]}</div>\n            <div class=\"input-field-wrap\">\n                <div class=\"input-field\">\n                    <input id=\"register_jid\" placeholder='{[print(xabber.getString(\"hint_username\"))]}' type=\"text\" name=\"register_jid\">\n                </div>\n                <div class=\"property-field xmpp-server-dropdown-wrap\">\n                    <div class=\"select-xmpp-server\">\n                        <div data-activates=\"select-xmpp-server\" class=\"xmpp-server-item-wrap property-wrap\"><div class=\"jid-at\">@</div><div class=\"field-jid one-line property-value\"></div></div>\n                        <div class=\"input-field input-group-chat-domain hidden\">\n                            <input id=\"new_account_domain\" type=\"text\" placeholder='{[print(xabber.getString(\"groupchat__hint_domain\"))]}' name=\"register_domain\">\n                        </div>\n                        <div data-activates=\"select-xmpp-server\" class=\"caret\">\n                            <i class=\"mdi mdi-20px mdi-menu-up\"></i>\n                            <i class=\"mdi mdi-20px mdi-menu-down\"></i>\n                        </div>\n                    </div>\n                    <div id=\"select-xmpp-server\" class=\"dropdown-content noselect\">\n                        <div class=\"property-variant set-custom-domain\">{[print(xabber.getString(\"groupchat_custom_server\"))]}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"register-form-step-description\">{[print(xabber.getString(\"xmpp_login__registration_description_jid\"))]}</div>\n            <div class=\"register-form-step-error hidden\"></div>\n        </div>\n    </div>\n    <div class=\"register-form-password hidden\">\n        <div class=\"register-form-step-wrap\">\n            <div class=\"register-form-step-header\">{[print(xabber.getString(\"xmpp_login__registration_title_password\"))]}</div>\n            <div class=\"input-field-wrap\">\n                <div class=\"input-field\">\n                    <input id=\"register_password\" placeholder='{[print(xabber.getString(\"hint_pass\"))]}' type=\"password\" name=\"register_password\">\n                </div>\n            </div>\n            <div class=\"register-form-step-description\">{[print(xabber.getString(\"xmpp_login__registration_description_password\"))]}</div>\n            <div class=\"register-form-step-error hidden\"></div>\n        </div>\n    </div>\n    <div class=\"register-form-picture hidden\">\n        <div class=\"register-form-step-wrap\">\n            <div class=\"register-form-step-header\">{[print(xabber.getString(\"xmpp_login__registration_title_avatar\"))]}</div>\n            <div class=\"input-field-wrap\">\n                <div class=\"avatar-wrap dropdown-button\" data-activates=\"{{view.cid}}-profile-image\">\n                    <div class=\"circle-avatar\">\n                        <input id=\"register_picture\"  title='{[print(xabber.getString(\"groupchat_member_edit_change_avatar\"))]}' type=\"file\"/>\n                        <ul id=\"{{view.cid}}-profile-image\" class=\"profile-image-dropdown dropdown-content noselect\">\n                            <div class=\"btn-emoji-panel property-variant\">\n                                {[print(xabber.getString(\"account_emoji_profile_image_button\"))]}\n                            </div>\n                            <div class=\"btn-selfie property-variant\">\n                                {[print(xabber.getString(\"account_webcam_profile_image_button\"))]}\n                            </div>\n                            <div class=\"btn-choose-image property-variant\">\n                                {[print(xabber.getString(\"account_profile_image_button\"))]}\n                            </div>\n                        </ul>\n                    </div>\n                    <div class=\"circle-icon\">\n                        <svg class=\"set-groupchat-avatar\" viewBox=\"0 0 24 24\">\n                            <path d=\"M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z\" />\n                        </svg>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    {[if (xabber.url_params && xabber.url_params.rkey){]}\n        <div class=\"login-form-url\">\n            <i class=\"mdi login-form-url-icon mdi-link-variant\"></i>\n            <div class=\"login-form-url-text\">\n                {[print(xabber.getString(\"xmpp_login__registration_via_link\"))]}\n            </div>\n        </div>\n    {[}]}\n    <div class=\"input-field buttons-wrap\">\n        <button class=\"btn btn-flat btn-main-filled btn-next\">{[print(xabber.getString(\"xaccount_next\"))]}</button>\n        <button class=\"btn btn-flat btn-main btn-skip\">{[print(xabber.getString(\"xmpp_login__registration_skip\"))]}</button>\n    </div>\n    <div class=\"clearfix\"></div>\n</div>"}),define("text!templates/accounts/add_account.html",[],function(){return"<div class=\"modal-content-wrap\">\n    <div class=\"modal-header\">\n        <span>{[print(xabber.getString(\"account_add\"))]}</span>\n    </div>\n    <div class=\"modal-content login-panel-form\">\n\n        <div class=\"login-form-jid\">\n            <div class=\"login-form-step-wrap\">\n                <div class=\"input-field-wrap\">\n                    <div class=\"input-field input-field-jid\">\n                        <input id=\"jid\" placeholder='{[print(xabber.getString(\"hint_xmpp_id\"))]}' type=\"text\" name=\"jid\">\n                        <div class=\"property-field xmpp-server-dropdown-wrap\">\n                            <div class=\"select-auth-xmpp-server\">\n                                <div data-activates=\"select-auth-xmpp-server\" class=\"xmpp-server-item-wrap property-wrap\"><div class=\"jid-at\">@</div><div class=\"field-jid one-line property-value\"></div></div>\n                                <div class=\"input-field input-group-chat-domain hidden\">\n                                    <input id=\"sign_in_domain\" type=\"text\" placeholder='{[print(xabber.getString(\"groupchat__hint_domain\"))]}' name=\"sign_in_domain\">\n                                </div>\n                                <div data-activates=\"select-auth-xmpp-server\" class=\"caret\">\n                                    <i class=\"mdi mdi-20px mdi-menu-up\"></i>\n                                    <i class=\"mdi mdi-20px mdi-menu-down\"></i>\n                                </div>\n                            </div>\n                            <div id=\"select-auth-xmpp-server\" class=\"dropdown-content noselect\">\n                                <div class=\"property-variant set-custom-domain\">{[print(xabber.getString(\"groupchat_custom_server\"))]}</div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"input-field\">\n                        <input id=\"password\" placeholder='{[print(xabber.getString(\"hint_pass\"))]}' type=\"password\" name=\"password\">\n                    </div>\n                </div>\n                <div class=\"login-form-step-error login-jid-error hidden\"></div>\n                <div class=\"login-form-step-error login-password-error hidden\"></div>\n                <div class=\"login-form-step-description\"></div>\n                <div class=\"login-step-wrap hidden\">\n                    <div class=\"login-step connecting-step\">\n                        <div class=\"login-step-text\">\n                            {[print(xabber.getString(\"dialog_jingle_message__status_communicating\"))]}\n                        </div>\n                        <div class=\"preloader-wrapper preloader-17px active visible\">\n                            <div class=\"spinner-layer\">\n                                <div class=\"circle-clipper left\">\n                                    <div class=\"circle\"></div>\n                                </div>\n                                <div class=\"gap-patch\">\n                                    <div class=\"circle\"></div>\n                                </div>\n                                <div class=\"circle-clipper right\">\n                                    <div class=\"circle\"></div>\n                                </div>\n                            </div>\n                        </div>\n                        <i class=\"mdi mdi-24px mdi-alert-circle hidden\"></i>\n                    </div>\n                    <div class=\"login-step credentials-step\">\n                        <div class=\"login-step-text\">\n                            {[print(xabber.getString(\"dialog_jingle_message__status_checking_credentials\"))]}\n                        </div>\n                        <div class=\"preloader-wrapper preloader-17px active visible\">\n                            <div class=\"spinner-layer\">\n                                <div class=\"circle-clipper left\">\n                                    <div class=\"circle\"></div>\n                                </div>\n                                <div class=\"gap-patch\">\n                                    <div class=\"circle\"></div>\n                                </div>\n                                <div class=\"circle-clipper right\">\n                                    <div class=\"circle\"></div>\n                                </div>\n                            </div>\n                        </div>\n                        <i class=\"mdi mdi-24px mdi-alert-circle hidden\"></i>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"login-form-server-features hidden\">\n            <div class=\"register-form-step-wrap\">\n                <div class=\"register-form-step-header\"></div>\n            </div>\n            <div class=\"login-server-features-wrap\">\n                <div class=\"server-feature\" data-xmlns=\"{[print(Strophe.NS.MAM)]}\" >\n                    <div class=\"server-feature-text\">\n                        {[print(xabber.getString(\"signin_message_archive\"))]}\n                    </div>\n                    <div class=\"preloader-wrapper preloader-17px active visible\">\n                        <div class=\"spinner-layer\">\n                            <div class=\"circle-clipper left\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"gap-patch\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"circle-clipper right\">\n                                <div class=\"circle\"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <i class=\"mdi mdi-24px mdi-alert hidden\"></i>\n                    <div class=\"feature-error-tooltip-triangle\">\n                        <div class=\"triangle-inside\"></div>\n                    </div>\n                    <div class=\"feature-error-tooltip\">{[print(xabber.getString('signin_message_archive_error'))]}</div>\n                </div>\n                <div class=\"server-feature\" data-xmlns=\"{[print(Strophe.NS.SYNCHRONIZATION)]}\">\n                    <div class=\"server-feature-text\">\n                        {[print(xabber.getString(\"signin_synchronization\"))]}\n                    </div>\n                    <div class=\"preloader-wrapper preloader-17px active visible\">\n                        <div class=\"spinner-layer\">\n                            <div class=\"circle-clipper left\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"gap-patch\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"circle-clipper right\">\n                                <div class=\"circle\"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <i class=\"mdi mdi-24px mdi-alert hidden\"></i>\n                    <div class=\"feature-error-tooltip-triangle\">\n                        <div class=\"triangle-inside\"></div>\n                    </div>\n                    <div class=\"feature-error-tooltip\">{[print(xabber.getString('signin_quick_synchronization_error'))]}</div>\n                </div>\n                <div class=\"server-feature\" data-xmlns=\"{[print(Strophe.NS.REWRITE)]}\">\n                    <div class=\"server-feature-text\">\n                        {[print(xabber.getString(\"signin_message_editing\"))]}\n                    </div>\n                    <div class=\"preloader-wrapper preloader-17px active visible\">\n                        <div class=\"spinner-layer\">\n                            <div class=\"circle-clipper left\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"gap-patch\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"circle-clipper right\">\n                                <div class=\"circle\"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <i class=\"mdi mdi-24px mdi-alert hidden\"></i>\n                    <div class=\"feature-error-tooltip-triangle\">\n                        <div class=\"triangle-inside\"></div>\n                    </div>\n                    <div class=\"feature-error-tooltip\">{[print(xabber.getString('signin_message_editing_error'))]}</div>\n                </div>\n                <div class=\"server-feature\" data-xmlns=\"{[print(Strophe.NS.AUTH_DEVICES)]}\">\n                    <div class=\"server-feature-text\">\n                        {[print(xabber.getString(\"signin_device_management\"))]}\n                    </div>\n                    <div class=\"preloader-wrapper preloader-17px active visible\">\n                        <div class=\"spinner-layer\">\n                            <div class=\"circle-clipper left\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"gap-patch\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"circle-clipper right\">\n                                <div class=\"circle\"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <i class=\"mdi mdi-24px mdi-alert hidden\"></i>\n                    <div class=\"feature-error-tooltip-triangle\">\n                        <div class=\"triangle-inside\"></div>\n                    </div>\n                    <div class=\"feature-error-tooltip\">{[print(xabber.getString('signin_tokens_error'))]}</div>\n                </div>\n                <div class=\"server-feature\" data-xmlns=\"{[print(Strophe.NS.PUBSUB)]}\">\n                    <div class=\"server-feature-text\">\n                        {[print(xabber.getString(\"signin_publish_subscribe\"))]}\n                    </div>\n                    <div class=\"preloader-wrapper preloader-17px active visible\">\n                        <div class=\"spinner-layer\">\n                            <div class=\"circle-clipper left\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"gap-patch\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"circle-clipper right\">\n                                <div class=\"circle\"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <i class=\"mdi mdi-24px mdi-alert hidden\"></i>\n                    <div class=\"feature-error-tooltip-triangle\">\n                        <div class=\"triangle-inside\"></div>\n                    </div>\n                    <div class=\"feature-error-tooltip\">{[print(xabber.getString('signin_pubsub_error'))]}</div>\n                </div>\n                <div class=\"server-feature\" data-xmlns=\"{[print(Strophe.NS.HTTP_UPLOAD)]}\">\n                    <div class=\"server-feature-text\">\n                        {[print(xabber.getString(\"signin_file_upload\"))]}\n                    </div>\n                    <div class=\"preloader-wrapper preloader-17px active visible\">\n                        <div class=\"spinner-layer\">\n                            <div class=\"circle-clipper left\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"gap-patch\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"circle-clipper right\">\n                                <div class=\"circle\"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <i class=\"mdi mdi-24px mdi-alert hidden\"></i>\n                    <div class=\"feature-error-tooltip-triangle\">\n                        <div class=\"triangle-inside\"></div>\n                    </div>\n                    <div class=\"feature-error-tooltip\">{[print(xabber.getString('signin_file_upload_error'))]}</div>\n                </div>\n            </div>\n            <div class=\"server-features-error\"></div>\n        </div>\n    </div>\n    <div class=\"modal-footer\">\n        <button disabled class=\"btn-flat btn-main btn-log-in\">{[print(xabber.getString(\"title_login_xabber_account\"))]}</button>\n        <button class=\"btn-flat btn-main one-line hidden btn-finish-log-in\"></button>\n        <button class=\"btn-flat btn-main btn-dark btn-cancel hidden\">{[print(xabber.getString(\"cancel\"))]}</button>\n    </div>\n</div>"}),define("text!templates/accounts/change_password.html",[],function(){return"<div class=\"modal-content-wrap\">\n    <div class=\"modal-header\">\n        <span>{[print(xabber.getString(\"settings_account__dialog_change_password__header\"))]}</span>\n    </div>\n    <div class=\"modal-content\">\n        <div class=\"row login-form-field\">\n            <div class=\"input-field\">\n                <input id=\"jid\" type=\"text\" name=\"jid\" readonly>\n                <label for=\"jid\">{[print(xabber.getString(\"account_user_name\"))]}</label>\n                <span class=\"errors fixed\"></span>\n            </div>\n            <div class=\"input-field\">\n                <input id=\"password\" type=\"password\" name=\"password\">\n                <label for=\"password\">{[print(xabber.getString(\"account_password\"))]}</label>\n                <span class=\"errors fixed\"></span>\n            </div>\n        </div>\n    </div>\n    <div class=\"modal-footer\">\n        <button class=\"btn-flat btn-main btn-change\">{[print(xabber.getString(\"set\"))]}</button>\n        <button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button>\n    </div>\n</div>\n"}),define("text!templates/accounts/toolbar_item.html",[],function(){return"<div class=\"border\"/>\n<div class=\"circle-avatar-wrap ground-color-500\">\n    <div class=\"dropdown-button circle-avatar border-color ground-color-700 noselect\"/>\n</div>\n<div class=\"status\"/>\n<i class=\"auth-failed mdi mdi-16px mdi-close\"></i>\n<div class=\"account-actions-panel\">\n    <div class=\"filter-chats\">\n        <i class=\"mdi mdi-filter mdi-20px\"></i>\n        <div class=\"text\">{[print(xabber.getString(\"account__toolbar_item__button_filter_chats\"))]}</div>\n    </div>\n</div>"}),define("text!templates/accounts/settings_left.html",[],function(){return"    <div class=\"left-column ground-color-900 noselect\">\n        <div class=\"main-info-wrap account-main-info-wrap\">\n            <!--<i title=\"Back to settings\" class=\"mdi mdi-arrow-left mdi-28px back-to-settings\"></i>-->\n            <div class=\"picture-wrap\">\n                <div class=\"avatar-wrap\">\n                    <div class=\"circle-avatar dropdown-button\" data-activates=\"{{view.cid}}-profile-image\">\n                        <img/>\n                        <input type=\"file\"/>\n                        <ul id=\"{{view.cid}}-profile-image\" class=\"profile-image-dropdown dropdown-content noselect\">\n                            <div class=\"btn-emoji-panel property-variant\">\n                                {[print(xabber.getString(\"account_emoji_profile_image_button\"))]}\n                            </div>\n                            <div class=\"btn-selfie property-variant\">\n                                {[print(xabber.getString(\"account_webcam_profile_image_button\"))]}\n                            </div>\n                            <div class=\"btn-choose-image property-variant\">\n                                {[print(xabber.getString(\"account_profile_image_button\"))]}\n                            </div>\n                        </ul>\n                        <svg class=\"set-groupchat-avatar\" viewBox=\"0 0 24 24\">\n                            <path d=\"M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z\" />\n                        </svg>\n                        <div class=\"preloader-wrap\"><div class=\"preloader-wrapper preloader-32px visible\">\n                            <div class=\"spinner-layer\">\n                                <div class=\"circle-clipper left\">\n                                    <div class=\"circle\"></div>\n                                </div>\n                                <div class=\"gap-patch\">\n                                    <div class=\"circle\"></div>\n                                </div>\n                                <div class=\"circle-clipper right\">\n                                    <div class=\"circle\"></div>\n                                </div>\n                            </div>\n                        </div>\n                        </div>\n                    </div>\n                    <div class=\"status\"></div>\n                </div>\n            </div>\n            <div class=\"name-wrap\">\n                <div class=\"name\"></div>\n            </div>\n            <div class=\"status-wrap\"></div>\n        </div>\n        <div class=\"settings-tabs-wrap\">\n            <div class=\"settings-tab\" data-block-name=\"connection\">\n                <i class=\"mdi mdi-24px mdi-settings\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"account_connection_settings\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"vcard_edit\">\n                <i class=\"mdi mdi-24px mdi-account-box\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"settings_account__section_header_profile\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"color-scheme\">\n                <i class=\"mdi mdi-24px mdi-palette\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"color\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"blocklist-info\">\n                <i class=\"mdi mdi-24px mdi-block-helper\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"blocked_contacts\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"groups-info\">\n                <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"circles\"></svg>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"settings_account__section_header_circles\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"server-info\">\n                <i class=\"mdi mdi-24px mdi-information\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"settings_account__section_header_server_info\"))]}</div>\n            </div>\n            <div class=\"settings-tab omemo-info\" data-block-name=\"omemo-info\">\n                <i class=\"mdi mdi-24px mdi-security\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"account_settings_encryption\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"tokens\">\n                <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"devices\"></svg>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"account_settings_devices\"))]}</div>\n            </div>\n        </div>\n        <div class=\"settings-tabs-bottom-wrap ground-color-900\">\n            <div class=\"settings-tab delete-account\">\n                <i class=\"mdi mdi-24px mdi-logout-variant\"></i>\n                <div class=\"settings-block-name\">{[print(xabber.getString(\"settings_account__button_quit_account\"))]}</div>\n            </div>\n        </div>\n    </div>\n"}),define("text!templates/accounts/settings_right.html",[],function(){return"<div class=\"right-column noselect\">\n    <div class=\"settings-panel-head\">\n        <span class=\"settings-panel-head-title\">{[print(xabber.getString(\"account_editor\"))]}</span>\n        <div class=\"buttons-wrap\">\n            <button class=\"btn-block btn-flat btn-main text-color-500 ground-color-grey-100 hover-ground-color-grey-300 hidden\">{[print(xabber.getString(\"settings_account__blocklist__button_block\"))]}</button>\n            <button class=\"btn-deselect-blocked btn-flat btn-main btn-dark ground-color-grey-100 hover-ground-color-grey-300 hidden\">{[print(xabber.getString(\"cancel\"))]}</button>\n            <button class=\"btn-unblock-selected btn-flat btn-main text-color-500 ground-color-grey-100 hover-ground-color-grey-300 hidden\">{[print(xabber.getString(\"unblock_selected\"))]}</button>\n        </div>\n    </div>\n\n    <div class=\"panel-content-wrap\">\n        <div class=\"panel-content details-panel\">\n\n            <div data-header='{[print(xabber.getString(\"account_connection_settings\"))]}' class=\"settings-block-wrap connection\">\n                <div class=\"connection-wrap\">\n                    <div class=\"readonly-setting\">\n                        <i class=\"details-icon mdi mdi-24px mdi-account\"></i>\n                        <div class=\"setting-wrap account-name\">\n                            <div class=\"value one-line\"></div>\n                            <div class=\"label conn-status\"></div>\n                        </div>\n                    </div>\n                    <div class=\"change-password-container\">\n                        <div class=\"change-password-fields\">\n                            <div class=\"input-field\">\n                                <input class=\"input-glow\" placeholder='{[print(xabber.getString(\"hint_old_pass\"))]}' id=\"old_password\" type=\"password\" name=\"old_password\">\n                                <span class=\"errors fixed\"></span>\n                            </div>\n                            <div class=\"input-field\">\n                                <input class=\"input-glow\" placeholder='{[print(xabber.getString(\"hint_new_pass\"))]}' id=\"password\" type=\"password\" name=\"password\">\n                                <span class=\"errors fixed\"></span>\n                            </div>\n                            <div class=\"input-field\">\n                                <input class=\"input-glow\" placeholder='{[print(xabber.getString(\"hint_confirm_pass\"))]}' id=\"password_confirm\" type=\"password\" name=\"password_confirm\">\n                                <span class=\"errors fixed\"></span>\n                            </div>\n                        </div>\n                        <div class=\"buttons-wrap\">\n                            <button class=\"btn-change btn-flat btn-main btn-dark ground-color-100 hover-ground-color-300\">{[print(xabber.getString(\"button_change_pass\"))]}</button>\n                            <button class=\"btn-change-password btn-flat btn-main btn-dark ground-color-100 hover-ground-color-300\">{[print(xabber.getString(\"button_set_pass\"))]}</button>\n                            <button class=\"btn-reconnect btn-flat btn-main btn-dark ground-color-100 hover-ground-color-300\">{[print(xabber.getString(\"settings_account__button_reconnect\"))]}</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div data-header='{[print(xabber.getString(\"color\"))]}' class=\"settings-block-wrap color-scheme\">\n                <div class=\"color-scheme-wrap\">\n                    <div class=\"account-color\">\n                        <div class=\"field radio-field clickable-field\">\n                            <form action=\"#\">\n                                <p>\n                                    <input class=\"with-gap\" name=\"account_color\" value=\"red\" type=\"radio\" id=\"color-red\" />\n                                    <label class=\"text-color-red-700\" for=\"color-red\">{[print(xabber.getString(\"account_color_name_red\"))]}</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"account_color\" value=\"pink\" type=\"radio\" id=\"color-pink\" />\n                                    <label class=\"text-color-pink-700\" for=\"color-pink\">{[print(xabber.getString(\"account_color_name_pink\"))]}</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"account_color\" value=\"purple\" type=\"radio\" id=\"color-purple\" />\n                                    <label class=\"text-color-purple-700\" for=\"color-purple\">{[print(xabber.getString(\"account_color_name_purple\"))]}</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"account_color\" value=\"deep-purple\" type=\"radio\" id=\"color-deep-purple\" />\n                                    <label class=\"text-color-deep-purple-700\" for=\"color-deep-purple\">{[print(xabber.getString(\"account_color_name_deep_purple\").replace(/-/g, \" \"))]}</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"account_color\" value=\"indigo\" type=\"radio\" id=\"color-indigo\" />\n                                    <label class=\"text-color-indigo-700\" for=\"color-indigo\">{[print(xabber.getString(\"account_color_name_indigo\"))]}</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"account_color\" value=\"blue\" type=\"radio\" id=\"color-blue\" />\n                                    <label class=\"text-color-blue-700\" for=\"color-blue\">{[print(xabber.getString(\"account_color_name_blue\"))]}</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"account_color\" value=\"light-blue\" type=\"radio\" id=\"color-light-blue\" />\n                                    <label class=\"text-color-light-blue-700\" for=\"color-light-blue\">{[print(xabber.getString(\"account_color_name_light_blue\").replace(/-/g, \" \"))]}</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"account_color\" value=\"cyan\" type=\"radio\" id=\"color-cyan\" />\n                                    <label class=\"text-color-cyan-700\" for=\"color-cyan\">{[print(xabber.getString(\"account_color_name_cyan\"))]}</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"account_color\" value=\"teal\" type=\"radio\" id=\"color-teal\" />\n                                    <label class=\"text-color-teal-700\" for=\"color-teal\">{[print(xabber.getString(\"account_color_name_teal\"))]}</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"account_color\" value=\"green\" type=\"radio\" id=\"color-green\" />\n                                    <label class=\"text-color-green-700\" for=\"color-green\">{[print(xabber.getString(\"account_color_name_green\"))]}</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"account_color\" value=\"light-green\" type=\"radio\" id=\"color-light-green\" />\n                                    <label class=\"text-color-light-green-700\" for=\"color-light-green\">{[print(xabber.getString(\"account_color_name_light_green\").replace(/-/g, \" \"))]}</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"account_color\" value=\"lime\" type=\"radio\" id=\"color-lime\" />\n                                    <label class=\"text-color-lime-700\" for=\"color-lime\">{[print(xabber.getString(\"account_color_name_lime\"))]}</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"account_color\" value=\"amber\" type=\"radio\" id=\"color-amber\" />\n                                    <label class=\"text-color-amber-700\" for=\"color-amber\">{[print(xabber.getString(\"account_color_name_amber\"))]}</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"account_color\" value=\"orange\" type=\"radio\" id=\"color-orange\" />\n                                    <label class=\"text-color-orange-700\" for=\"color-orange\">{[print(xabber.getString(\"account_color_name_orange\"))]}</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"account_color\" value=\"deep-orange\" type=\"radio\" id=\"color-deep-orange\" />\n                                    <label class=\"text-color-deep-orange-700\" for=\"color-deep-orange\">{[print(xabber.getString(\"account_color_name_deep_orange\").replace(/-/g, \" \"))]}</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"account_color\" value=\"brown\" type=\"radio\" id=\"color-brown\" />\n                                    <label class=\"text-color-brown-700\" for=\"color-brown\">{[print(xabber.getString(\"account_color_name_brown\"))]}</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"account_color\" value=\"blue-grey\" type=\"radio\" id=\"color-blue-grey\" />\n                                    <label class=\"text-color-blue-grey-700\" for=\"color-blue-grey\">{[print(xabber.getString(\"account_color_name_blue_grey\").replace(/-/g, \" \"))]}</label>\n                                </p>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div data-header='{[print(xabber.getString(\"settings_account__section_header_profile\"))]}' class=\"settings-block-wrap vcard\">\n            </div>\n\n            <div data-header='{[print(xabber.getString(\"account_server_info_description\"))]}' class=\"settings-block-wrap server-info\">\n                <div class=\"capabilities-wrap\">\n                    <div class=\"capabilities\">\n                    </div>\n                </div>\n            </div>\n\n            <div data-header='{[print(xabber.getString(\"blocked_contacts\"))]}' class=\"settings-block-wrap blocklist-info\">\n                <div class=\"blocklist-wrap\">\n                    <div class=\"blocked-items\">\n                        <div class=\"placeholder\">{[print(xabber.getString(\"blocked_contacts_empty\"))]}</div>\n                        <div class=\"blocklist-tabs-wrap\">\n                            <ul class=\"tabs\">\n                                <li class=\"blocked-item contacts-item hidden\" data-tab-name=\"blocked-contacts-wrap\">\n                                    <a class=\"text-color-700\">{[print(xabber.getString(\"blocked_tabs_name__contacts\"))]}</a>\n                                </li>\n                                <li class=\"blocked-item domains-item hidden\" data-tab-name=\"blocked-domains-wrap\">\n                                    <a class=\"text-color-700\">{[print(xabber.getString(\"blocked_tabs_name__domains\"))]}</a>\n                                </li>\n                                <li class=\"blocked-item invitations-item hidden\" data-tab-name=\"blocked-invitations-wrap\">\n                                    <a class=\"text-color-700\">{[print(xabber.getString(\"blocked_tabs_name__invitations\"))]}</a>\n                                </li>\n                            </ul>\n                        </div>\n                        <div class=\"blocked-items-container blocked-contacts-wrap hidden\" data-tab-name=\"contacts-item\">\n                            <div class=\"blocked-contacts blocked-list\"/>\n                        </div>\n                        <div class=\"blocked-items-container blocked-domains-wrap hidden\" data-tab-name=\"domains-item\">\n                            <div class=\"blocked-domains blocked-list\"/>\n                        </div>\n                        <div class=\"blocked-items-container blocked-invitations-wrap hidden\" data-tab-name=\"invitations-item\">\n                            <div class=\"blocked-invitations blocked-list\"/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div data-header='{[print(xabber.getString(\"settings_account__section_header_circles\"))]}' class=\"settings-block-wrap groups-info\">\n                <div class=\"groups-wrap\">\n                    <div class=\"groups\">\n                    </div>\n                </div>\n            </div>\n\n            <div data-header='{[print(xabber.getString(\"account_settings_devices\"))]}' class=\"settings-block-wrap tokens\">\n                <div class=\"tokens-wrap\">\n                    <div class=\"current-token-wrap\">\n                        <div class=\"sessions-wrap current-session selectable-text\"></div>\n                        <div class=\"buttons-wrap\">\n                            <p class=\"btn-revoke-all-tokens hover-text-color-500 text-color-700\">{[print(xabber.getString(\"account_terminate_all_sessions\"))]}</p>\n                        </div>\n                    </div>\n                    <div class=\"all-sessions-wrap\">\n                        <div class=\"sessions-wrap all-sessions selectable-text\"></div>\n                    </div>\n                </div>\n            </div>\n\n\n            <div data-header='{[print(xabber.getString(\"account_settings_encryption\"))]}' class=\"settings-block-wrap omemo-info\">\n                <div class=\"omemo-settings-wrap\">\n                    <div class=\"settings\">\n                        <div class=\"setting-wrap omemo-enable\">\n                            <span>{[print(xabber.getString(\"omemo__settings__toggle_enable_encryption\"))]}</span>\n                            <div class=\"field setting-use-omemo switch normal\">\n                                <label class=\"field-value\">\n                                    <input type=\"checkbox\">\n                                    <span class=\"lever\"></span>\n                                </label>\n                            </div>\n                        </div>\n                        <div class=\"setting-wrap send-chat-states\">\n                            <span>{[print(xabber.getString(\"omemo__settings__toggle_send_typing_notifications\"))]}</span>\n                            <div class=\"field setting-send-chat-states switch normal\">\n                                <label class=\"field-value\">\n                                    <input type=\"checkbox\">\n                                    <span class=\"lever\"></span>\n                                </label>\n                            </div>\n                        </div>\n                        <div class=\"setting-wrap manage-devices\">\n                            <button class=\"btn-manage-devices btn-flat btn-main btn-dark ground-color-grey-100 hover-ground-color-grey-300\">{[print(xabber.getString(\"omemo__settings__button_manage_devices\"))]}</button>\n                        </div>\n                        <div class=\"setting-wrap purge-keys\">\n                            <button class=\"btn-purge-keys btn-flat btn-main btn-dark ground-color-grey-100 hover-ground-color-grey-300\">{[print(xabber.getString(\"omemo__settings__button_purge_keys\"))]}</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"}),define("text!templates/accounts/existing_groupchat_item.html",[],function(){return"<div class=\"existing-chat-wrap\" data-name=\"{{name}}\" data-jid=\"{{jid}}\">\n    <div class=\"circle-avatar\">\n        <img>\n    </div>\n    <div class=\"existing-chat-item\">\n        <div class=\"name one-line\">{{name}}</div>\n        <div class=\"jid one-line\">{{jid}}</div>\n    </div>\n    <button class=\"btn-join-existing-chat btn-flat btn-dark btn-main\">join</button>\n</div>"}),define("text!templates/accounts/resource.html",[],function(){return"<svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"ic-jabber\"></svg>\n<table>\n    <tbody>\n    <tr class=\"info status-info\">\n        <td class=\"label\">{[print(xabber.getString(\"settings_account__label_status\"))]}:</td>\n        <td>\n            <div class=\"value status-message\"></div>\n            <div class=\"status\"></div>\n        </td>\n    </tr>\n    <tr class=\"info client-info\">\n        <td class=\"label\">{[print(xabber.getString(\"settings_account__label_client\"))]}:</td>\n        <td class=\"value client\"></td>\n    </tr>\n    <tr class=\"info resource-info\">\n        <td class=\"label\">{[print(xabber.getString(\"account_resource\"))]}:</td>\n        <td class=\"value resource\"></td>\n    </tr>\n    <tr class=\"info priority-info\">\n        <td class=\"label\">{[print(xabber.getString(\"account_priority\"))]}:</td>\n        <td class=\"value priority\"></td>\n    </tr>\n    </tbody>\n</table>"}),define("text!templates/accounts/resource_right.html",[],function(){return"<table>\n    <tbody>\n    <tr class=\"info status-info\">\n        <td class=\"label\">{[print(xabber.getString(\"settings_account__label_status\"))]}:</td>\n        <td>\n            <div class=\"value status-message one-line\"></div>\n            <div class=\"status\"></div>\n        </td>\n    </tr>\n    <tr class=\"info client-info\">\n        <td class=\"label\">{[print(xabber.getString(\"settings_account__label_client\"))]}:</td>\n        <td class=\"value client one-line\"></td>\n    </tr>\n    <tr class=\"info resource-info\">\n        <td class=\"label\">{[print(xabber.getString(\"account_resource\"))]}:</td>\n        <td class=\"value resource one-line\"></td>\n    </tr>\n    <tr class=\"info priority-info\">\n        <td class=\"label\">{[print(xabber.getString(\"account_priority\"))]}:</td>\n        <td class=\"value priority\"></td>\n    </tr>\n    </tbody>\n</table>"}),define("text!templates/accounts/webcam_panel.html",[],function(){return"<div class=\"modal-content-wrap\">\n    <div class=\"modal-header\">\n        <span>{[print(xabber.getString(\"take_photo\"))]}</span>\n    </div>\n    <div class=\"webcam-profile-image-wrap\">\n        <div class=\"camera\">\n            <video class=\"webcam-video\">Video stream not available.</video>\n        </div>\n        <canvas id=\"canvas\" style=\"display: none;\">\n        </canvas>\n        <div class=\"output hidden\">\n            <div class=\"webcam-photo-wrap\">\n                <img class=\"webcam-photo\" alt=\"The screen capture will appear in this box.\">\n            </div>\n            <div class=\"circle-icon\">\n                <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"camera-retake\"></svg>\n            </div>\n        </div>\n    </div>\n    <div class=\"modal-footer\">\n        <button class=\"btn-flat btn-main btn-take-photo\">{[print(xabber.getString(\"capture\"))]}</button>\n        <button class=\"btn-flat btn-main btn-save hidden\">{[print(xabber.getString(\"account_webcam_profile_image_btn_save\"))]}</button>\n        <button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button>\n        <div class=\"modal-preloader-wrap\"></div>\n    </div>\n</div>\n"}),define("text!templates/accounts/emoji_panel.html",[],function(){return"<div class=\"modal-content-wrap\">\n    <div class=\"modal-header\">\n        <span>{[print(xabber.getString(\"account_emoji_profile_image_header\"))]}</span>\n    </div>\n    <div class=\"modal-content\">\n        <div class=\"dialog-text\">{[print(xabber.getString(\"account_emoji_profile_image_description\"))]}</div>\n    </div>\n    <div class=\"emoji-profile-image\">\n        <div class=\"avatar-wrap\">\n            <div class=\"circle-avatar ground-color-green-100\" data-value=\"green\">\n                <div class=\"chosen-emoji\" data-value=\"\uD83D\uDC08\">\uD83D\uDC08</div>\n            </div>\n            <div class=\"circle-icon\">\n                <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"edit-outline\"></svg>\n            </div>\n        </div>\n\n    </div>\n    <div class=\"emoji-profile-colors\">\n        <div class=\"colors-line\">\n            <div class=\"profile-image-background-color ground-color-green-500 outline-color-green-500 chosen-background-color\" data-value=\"green\">\n            </div>\n            <div class=\"profile-image-background-color ground-color-deep-orange-500 outline-color-deep-orange-500\" data-value=\"deep-orange\">\n            </div>\n            <div class=\"profile-image-background-color ground-color-red-500 outline-color-red-500\" data-value=\"red\">\n            </div>\n        </div>\n        <div class=\"colors-line\">\n            <div class=\"profile-image-background-color ground-color-light-blue-500 outline-color-light-blue-500\" data-value=\"light-blue\">\n            </div>\n            <div class=\"profile-image-background-color ground-color-blue-500 outline-color-blue-500\" data-value=\"blue\">\n            </div>\n            <div class=\"profile-image-background-color ground-color-purple-500 outline-color-purple-500\" data-value=\"purple\">\n            </div>\n        </div>\n        <div class=\"colors-line\">\n            <div class=\"profile-image-background-color ground-color-lime-500 outline-color-lime-500\" data-value=\"lime\">\n            </div>\n            <div class=\"profile-image-background-color ground-color-pink-500 outline-color-pink-500\" data-value=\"pink\">\n            </div>\n            <div class=\"profile-image-background-color ground-color-orange-500 outline-color-orange-500\" data-value=\"orange\">\n            </div>\n        </div>\n    </div>\n    <div class=\"modal-footer\">\n        <button class=\"btn-flat btn-main btn-save\">{[print(xabber.getString(\"save\"))]}</button>\n        <button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button>\n        <div class=\"modal-preloader-wrap\"></div>\n    </div>\n</div>\n"}),define("text!templates/accounts/emoji_picker.html",[],function(){return"<div class=\"modal-content-wrap\">\n    <div class=\"modal-header\">\n        <span>{[print(xabber.getString(\"account_emoji_profile_image_header\"))]}</span>\n        <i class=\"close-modal mdi mdi-close mdi-24px\"></i>\n    </div>\n    <div class=\"emoji-picker-wrap no-select\">\n\n    </div>\n</div>\n"}),define("text!templates/accounts/emoji_picker_tabs.html",[],function(){return"\n{[ for (var i = 0; i < emojis.length; i++) { var tab = emojis[i] ]}\n    <div class=\"emojis-tab{[if (i === 0){]} chosen-emoji-tab{[} else {]} hidden{[}]}\" data-value=\"{{tab.type}}\">\n        {[ for (var y = 0; y < tab.emojis.length; y++) { var emoji = tab.emojis[y] ]}\n            <div class=\"emoji-picker-emoji\" data-value=\"{{emoji[0]}}\">\n                <div>{{emoji[0]}}</div>\n            </div>\n        {[ } ]}\n    </div>\n{[ } ]}\n<div class=\"emoji-picker-tabs\">\n    {[ for (var i = 0; i < emojis.length; i++) { var tab = emojis[i] ]}\n    <div class=\"emojis-bottom-tab-selector{[if (i === 0){]} chosen-emoji-selector{[}]}\" data-value=\"{{tab.type}}\">\n        {{tab.emojis[0][0]}}\n    </div>\n    {[ } ]}\n</div>\n"}),define("text!templates/accounts/emojis.json",[],function(){return"[\n    {\n        \"emojis\": [\n            [\n                \"\uD83D\uDE00\"\n            ],\n            [\n                \"\uD83D\uDE01\"\n            ],\n            [\n                \"\uD83D\uDE02\"\n            ],\n            [\n                \"\uD83E\uDD23\"\n            ],\n            [\n                \"\uD83D\uDE03\"\n            ],\n            [\n                \"\uD83D\uDE04\"\n            ],\n            [\n                \"\uD83D\uDE05\"\n            ],\n            [\n                \"\uD83D\uDE06\"\n            ],\n            [\n                \"\uD83D\uDE09\"\n            ],\n            [\n                \"\uD83D\uDE0A\"\n            ],\n            [\n                \"\uD83D\uDE0B\"\n            ],\n            [\n                \"\uD83D\uDE0E\"\n            ],\n            [\n                \"\uD83D\uDE0D\"\n            ],\n            [\n                \"\uD83D\uDE18\"\n            ],\n            [\n                \"\uD83D\uDE17\"\n            ],\n            [\n                \"\uD83D\uDE19\"\n            ],\n            [\n                \"\uD83D\uDE1A\"\n            ],\n            [\n                \"\u263A\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDE42\"\n            ],\n            [\n                \"\uD83E\uDD17\"\n            ],\n            [\n                \"\uD83E\uDD29\"\n            ],\n            [\n                \"\uD83E\uDD14\"\n            ],\n            [\n                \"\uD83E\uDD28\"\n            ],\n            [\n                \"\uD83D\uDE10\"\n            ],\n            [\n                \"\uD83D\uDE11\"\n            ],\n            [\n                \"\uD83D\uDE36\"\n            ],\n            [\n                \"\uD83D\uDE44\"\n            ],\n            [\n                \"\uD83D\uDE0F\"\n            ],\n            [\n                \"\uD83D\uDE23\"\n            ],\n            [\n                \"\uD83D\uDE25\"\n            ],\n            [\n                \"\uD83D\uDE2E\"\n            ],\n            [\n                \"\uD83E\uDD10\"\n            ],\n            [\n                \"\uD83D\uDE2F\"\n            ],\n            [\n                \"\uD83D\uDE2A\"\n            ],\n            [\n                \"\uD83D\uDE2B\"\n            ],\n            [\n                \"\uD83D\uDE34\"\n            ],\n            [\n                \"\uD83D\uDE0C\"\n            ],\n            [\n                \"\uD83D\uDE1B\"\n            ],\n            [\n                \"\uD83D\uDE1C\"\n            ],\n            [\n                \"\uD83D\uDE1D\"\n            ],\n            [\n                \"\uD83E\uDD24\"\n            ],\n            [\n                \"\uD83D\uDE12\"\n            ],\n            [\n                \"\uD83D\uDE13\"\n            ],\n            [\n                \"\uD83D\uDE14\"\n            ],\n            [\n                \"\uD83D\uDE15\"\n            ],\n            [\n                \"\uD83D\uDE43\"\n            ],\n            [\n                \"\uD83E\uDD11\"\n            ],\n            [\n                \"\uD83D\uDE32\"\n            ],\n            [\n                \"\u2639\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDE41\"\n            ],\n            [\n                \"\uD83D\uDE16\"\n            ],\n            [\n                \"\uD83D\uDE1E\"\n            ],\n            [\n                \"\uD83D\uDE1F\"\n            ],\n            [\n                \"\uD83D\uDE24\"\n            ],\n            [\n                \"\uD83D\uDE22\"\n            ],\n            [\n                \"\uD83D\uDE2D\"\n            ],\n            [\n                \"\uD83D\uDE26\"\n            ],\n            [\n                \"\uD83D\uDE27\"\n            ],\n            [\n                \"\uD83D\uDE28\"\n            ],\n            [\n                \"\uD83D\uDE29\"\n            ],\n            [\n                \"\uD83E\uDD2F\"\n            ],\n            [\n                \"\uD83D\uDE2C\"\n            ],\n            [\n                \"\uD83D\uDE30\"\n            ],\n            [\n                \"\uD83D\uDE31\"\n            ],\n            [\n                \"\uD83D\uDE33\"\n            ],\n            [\n                \"\uD83E\uDD2A\"\n            ],\n            [\n                \"\uD83D\uDE35\"\n            ],\n            [\n                \"\uD83D\uDE21\"\n            ],\n            [\n                \"\uD83D\uDE20\"\n            ],\n            [\n                \"\uD83E\uDD2C\"\n            ],\n            [\n                \"\uD83D\uDE37\"\n            ],\n            [\n                \"\uD83E\uDD12\"\n            ],\n            [\n                \"\uD83E\uDD15\"\n            ],\n            [\n                \"\uD83E\uDD22\"\n            ],\n            [\n                \"\uD83E\uDD2E\"\n            ],\n            [\n                \"\uD83E\uDD27\"\n            ],\n            [\n                \"\uD83D\uDE07\"\n            ],\n            [\n                \"\uD83E\uDD20\"\n            ],\n            [\n                \"\uD83E\uDD21\"\n            ],\n            [\n                \"\uD83E\uDD25\"\n            ],\n            [\n                \"\uD83E\uDD2B\"\n            ],\n            [\n                \"\uD83E\uDD2D\"\n            ],\n            [\n                \"\uD83E\uDDD0\"\n            ],\n            [\n                \"\uD83E\uDD13\"\n            ],\n            [\n                \"\uD83D\uDE08\"\n            ],\n            [\n                \"\uD83D\uDC7F\"\n            ],\n            [\n                \"\uD83D\uDC79\"\n            ],\n            [\n                \"\uD83D\uDC7A\"\n            ],\n            [\n                \"\uD83D\uDC80\"\n            ],\n            [\n                \"\uD83D\uDC7B\"\n            ],\n            [\n                \"\uD83D\uDC7D\"\n            ],\n            [\n                \"\uD83E\uDD16\"\n            ],\n            [\n                \"\uD83D\uDCA9\"\n            ],\n            [\n                \"\uD83D\uDE3A\"\n            ],\n            [\n                \"\uD83D\uDE38\"\n            ],\n            [\n                \"\uD83D\uDE39\"\n            ],\n            [\n                \"\uD83D\uDE3B\"\n            ],\n            [\n                \"\uD83D\uDE3C\"\n            ],\n            [\n                \"\uD83D\uDE3D\"\n            ],\n            [\n                \"\uD83D\uDE40\"\n            ],\n            [\n                \"\uD83D\uDE3F\"\n            ],\n            [\n                \"\uD83D\uDE3E\"\n            ],\n            [\n                \"\uD83E\uDD32\",\n                \"\uD83E\uDD32\uD83C\uDFFB\",\n                \"\uD83E\uDD32\uD83C\uDFFC\",\n                \"\uD83E\uDD32\uD83C\uDFFD\",\n                \"\uD83E\uDD32\uD83C\uDFFE\",\n                \"\uD83E\uDD32\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC50\",\n                \"\uD83D\uDC50\uD83C\uDFFB\",\n                \"\uD83D\uDC50\uD83C\uDFFC\",\n                \"\uD83D\uDC50\uD83C\uDFFD\",\n                \"\uD83D\uDC50\uD83C\uDFFE\",\n                \"\uD83D\uDC50\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDE4C\",\n                \"\uD83D\uDE4C\uD83C\uDFFB\",\n                \"\uD83D\uDE4C\uD83C\uDFFC\",\n                \"\uD83D\uDE4C\uD83C\uDFFD\",\n                \"\uD83D\uDE4C\uD83C\uDFFE\",\n                \"\uD83D\uDE4C\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC4F\",\n                \"\uD83D\uDC4F\uD83C\uDFFB\",\n                \"\uD83D\uDC4F\uD83C\uDFFC\",\n                \"\uD83D\uDC4F\uD83C\uDFFD\",\n                \"\uD83D\uDC4F\uD83C\uDFFE\",\n                \"\uD83D\uDC4F\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC4D\",\n                \"\uD83D\uDC4D\uD83C\uDFFB\",\n                \"\uD83D\uDC4D\uD83C\uDFFC\",\n                \"\uD83D\uDC4D\uD83C\uDFFD\",\n                \"\uD83D\uDC4D\uD83C\uDFFE\",\n                \"\uD83D\uDC4D\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC4E\",\n                \"\uD83D\uDC4E\uD83C\uDFFB\",\n                \"\uD83D\uDC4E\uD83C\uDFFC\",\n                \"\uD83D\uDC4E\uD83C\uDFFD\",\n                \"\uD83D\uDC4E\uD83C\uDFFE\",\n                \"\uD83D\uDC4E\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC4A\",\n                \"\uD83D\uDC4A\uD83C\uDFFB\",\n                \"\uD83D\uDC4A\uD83C\uDFFC\",\n                \"\uD83D\uDC4A\uD83C\uDFFD\",\n                \"\uD83D\uDC4A\uD83C\uDFFE\",\n                \"\uD83D\uDC4A\uD83C\uDFFF\"\n            ],\n            [\n                \"\u270A\",\n                \"\u270A\uD83C\uDFFB\",\n                \"\u270A\uD83C\uDFFC\",\n                \"\u270A\uD83C\uDFFD\",\n                \"\u270A\uD83C\uDFFE\",\n                \"\u270A\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDD1B\",\n                \"\uD83E\uDD1B\uD83C\uDFFB\",\n                \"\uD83E\uDD1B\uD83C\uDFFC\",\n                \"\uD83E\uDD1B\uD83C\uDFFD\",\n                \"\uD83E\uDD1B\uD83C\uDFFE\",\n                \"\uD83E\uDD1B\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDD1C\",\n                \"\uD83E\uDD1C\uD83C\uDFFB\",\n                \"\uD83E\uDD1C\uD83C\uDFFC\",\n                \"\uD83E\uDD1C\uD83C\uDFFD\",\n                \"\uD83E\uDD1C\uD83C\uDFFE\",\n                \"\uD83E\uDD1C\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDD1E\",\n                \"\uD83E\uDD1E\uD83C\uDFFB\",\n                \"\uD83E\uDD1E\uD83C\uDFFC\",\n                \"\uD83E\uDD1E\uD83C\uDFFD\",\n                \"\uD83E\uDD1E\uD83C\uDFFE\",\n                \"\uD83E\uDD1E\uD83C\uDFFF\"\n            ],\n            [\n                \"\u270C\",\n                \"\u270C\uD83C\uDFFB\",\n                \"\u270C\uD83C\uDFFC\",\n                \"\u270C\uD83C\uDFFD\",\n                \"\u270C\uD83C\uDFFE\",\n                \"\u270C\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDD1F\",\n                \"\uD83E\uDD1F\uD83C\uDFFB\",\n                \"\uD83E\uDD1F\uD83C\uDFFC\",\n                \"\uD83E\uDD1F\uD83C\uDFFD\",\n                \"\uD83E\uDD1F\uD83C\uDFFE\",\n                \"\uD83E\uDD1F\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDD18\",\n                \"\uD83E\uDD18\uD83C\uDFFB\",\n                \"\uD83E\uDD18\uD83C\uDFFC\",\n                \"\uD83E\uDD18\uD83C\uDFFD\",\n                \"\uD83E\uDD18\uD83C\uDFFE\",\n                \"\uD83E\uDD18\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC4C\",\n                \"\uD83D\uDC4C\uD83C\uDFFB\",\n                \"\uD83D\uDC4C\uD83C\uDFFC\",\n                \"\uD83D\uDC4C\uD83C\uDFFD\",\n                \"\uD83D\uDC4C\uD83C\uDFFE\",\n                \"\uD83D\uDC4C\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC48\",\n                \"\uD83D\uDC48\uD83C\uDFFB\",\n                \"\uD83D\uDC48\uD83C\uDFFC\",\n                \"\uD83D\uDC48\uD83C\uDFFD\",\n                \"\uD83D\uDC48\uD83C\uDFFE\",\n                \"\uD83D\uDC48\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC49\",\n                \"\uD83D\uDC49\uD83C\uDFFB\",\n                \"\uD83D\uDC49\uD83C\uDFFC\",\n                \"\uD83D\uDC49\uD83C\uDFFD\",\n                \"\uD83D\uDC49\uD83C\uDFFE\",\n                \"\uD83D\uDC49\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC46\",\n                \"\uD83D\uDC46\uD83C\uDFFB\",\n                \"\uD83D\uDC46\uD83C\uDFFC\",\n                \"\uD83D\uDC46\uD83C\uDFFD\",\n                \"\uD83D\uDC46\uD83C\uDFFE\",\n                \"\uD83D\uDC46\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC47\",\n                \"\uD83D\uDC47\uD83C\uDFFB\",\n                \"\uD83D\uDC47\uD83C\uDFFC\",\n                \"\uD83D\uDC47\uD83C\uDFFD\",\n                \"\uD83D\uDC47\uD83C\uDFFE\",\n                \"\uD83D\uDC47\uD83C\uDFFF\"\n            ],\n            [\n                \"\u261D\",\n                \"\u261D\uD83C\uDFFB\",\n                \"\u261D\uD83C\uDFFC\",\n                \"\u261D\uD83C\uDFFD\",\n                \"\u261D\uD83C\uDFFE\",\n                \"\u261D\uD83C\uDFFF\"\n            ],\n            [\n                \"\u270B\",\n                \"\u270B\uD83C\uDFFB\",\n                \"\u270B\uD83C\uDFFC\",\n                \"\u270B\uD83C\uDFFD\",\n                \"\u270B\uD83C\uDFFE\",\n                \"\u270B\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDD1A\",\n                \"\uD83E\uDD1A\uD83C\uDFFB\",\n                \"\uD83E\uDD1A\uD83C\uDFFC\",\n                \"\uD83E\uDD1A\uD83C\uDFFD\",\n                \"\uD83E\uDD1A\uD83C\uDFFE\",\n                \"\uD83E\uDD1A\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDD90\",\n                \"\uD83D\uDD90\uD83C\uDFFB\",\n                \"\uD83D\uDD90\uD83C\uDFFC\",\n                \"\uD83D\uDD90\uD83C\uDFFD\",\n                \"\uD83D\uDD90\uD83C\uDFFE\",\n                \"\uD83D\uDD90\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDD96\",\n                \"\uD83D\uDD96\uD83C\uDFFB\",\n                \"\uD83D\uDD96\uD83C\uDFFC\",\n                \"\uD83D\uDD96\uD83C\uDFFD\",\n                \"\uD83D\uDD96\uD83C\uDFFE\",\n                \"\uD83D\uDD96\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC4B\",\n                \"\uD83D\uDC4B\uD83C\uDFFB\",\n                \"\uD83D\uDC4B\uD83C\uDFFC\",\n                \"\uD83D\uDC4B\uD83C\uDFFD\",\n                \"\uD83D\uDC4B\uD83C\uDFFE\",\n                \"\uD83D\uDC4B\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDD19\",\n                \"\uD83E\uDD19\uD83C\uDFFB\",\n                \"\uD83E\uDD19\uD83C\uDFFC\",\n                \"\uD83E\uDD19\uD83C\uDFFD\",\n                \"\uD83E\uDD19\uD83C\uDFFE\",\n                \"\uD83E\uDD19\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDCAA\",\n                \"\uD83D\uDCAA\uD83C\uDFFB\",\n                \"\uD83D\uDCAA\uD83C\uDFFC\",\n                \"\uD83D\uDCAA\uD83C\uDFFD\",\n                \"\uD83D\uDCAA\uD83C\uDFFE\",\n                \"\uD83D\uDCAA\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDD95\",\n                \"\uD83D\uDD95\uD83C\uDFFB\",\n                \"\uD83D\uDD95\uD83C\uDFFC\",\n                \"\uD83D\uDD95\uD83C\uDFFD\",\n                \"\uD83D\uDD95\uD83C\uDFFE\",\n                \"\uD83D\uDD95\uD83C\uDFFF\"\n            ],\n            [\n                \"\u270D\",\n                \"\u270D\uD83C\uDFFB\",\n                \"\u270D\uD83C\uDFFC\",\n                \"\u270D\uD83C\uDFFD\",\n                \"\u270D\uD83C\uDFFE\",\n                \"\u270D\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDE4F\",\n                \"\uD83D\uDE4F\uD83C\uDFFB\",\n                \"\uD83D\uDE4F\uD83C\uDFFC\",\n                \"\uD83D\uDE4F\uD83C\uDFFD\",\n                \"\uD83D\uDE4F\uD83C\uDFFE\",\n                \"\uD83D\uDE4F\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC8D\"\n            ],\n            [\n                \"\uD83D\uDC84\"\n            ],\n            [\n                \"\uD83D\uDC8B\"\n            ],\n            [\n                \"\uD83D\uDC44\"\n            ],\n            [\n                \"\uD83D\uDC45\"\n            ],\n            [\n                \"\uD83D\uDC42\",\n                \"\uD83D\uDC42\uD83C\uDFFB\",\n                \"\uD83D\uDC42\uD83C\uDFFC\",\n                \"\uD83D\uDC42\uD83C\uDFFD\",\n                \"\uD83D\uDC42\uD83C\uDFFE\",\n                \"\uD83D\uDC42\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC43\",\n                \"\uD83D\uDC43\uD83C\uDFFB\",\n                \"\uD83D\uDC43\uD83C\uDFFC\",\n                \"\uD83D\uDC43\uD83C\uDFFD\",\n                \"\uD83D\uDC43\uD83C\uDFFE\",\n                \"\uD83D\uDC43\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC63\"\n            ],\n            [\n                \"\uD83D\uDC41\"\n            ],\n            [\n                \"\uD83D\uDC40\"\n            ],\n            [\n                \"\uD83E\uDDE0\"\n            ],\n            [\n                \"\uD83D\uDDE3\"\n            ],\n            [\n                \"\uD83D\uDC64\"\n            ],\n            [\n                \"\uD83D\uDC65\"\n            ],\n            [\n                \"\uD83D\uDC76\",\n                \"\uD83D\uDC76\uD83C\uDFFB\",\n                \"\uD83D\uDC76\uD83C\uDFFC\",\n                \"\uD83D\uDC76\uD83C\uDFFD\",\n                \"\uD83D\uDC76\uD83C\uDFFE\",\n                \"\uD83D\uDC76\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC67\",\n                \"\uD83D\uDC67\uD83C\uDFFB\",\n                \"\uD83D\uDC67\uD83C\uDFFC\",\n                \"\uD83D\uDC67\uD83C\uDFFD\",\n                \"\uD83D\uDC67\uD83C\uDFFE\",\n                \"\uD83D\uDC67\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDDD2\",\n                \"\uD83E\uDDD2\uD83C\uDFFB\",\n                \"\uD83E\uDDD2\uD83C\uDFFC\",\n                \"\uD83E\uDDD2\uD83C\uDFFD\",\n                \"\uD83E\uDDD2\uD83C\uDFFE\",\n                \"\uD83E\uDDD2\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC66\",\n                \"\uD83D\uDC66\uD83C\uDFFB\",\n                \"\uD83D\uDC66\uD83C\uDFFC\",\n                \"\uD83D\uDC66\uD83C\uDFFD\",\n                \"\uD83D\uDC66\uD83C\uDFFE\",\n                \"\uD83D\uDC66\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC69\",\n                \"\uD83D\uDC69\uD83C\uDFFB\",\n                \"\uD83D\uDC69\uD83C\uDFFC\",\n                \"\uD83D\uDC69\uD83C\uDFFD\",\n                \"\uD83D\uDC69\uD83C\uDFFE\",\n                \"\uD83D\uDC69\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDDD1\",\n                \"\uD83E\uDDD1\uD83C\uDFFB\",\n                \"\uD83E\uDDD1\uD83C\uDFFC\",\n                \"\uD83E\uDDD1\uD83C\uDFFD\",\n                \"\uD83E\uDDD1\uD83C\uDFFE\",\n                \"\uD83E\uDDD1\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC68\",\n                \"\uD83D\uDC68\uD83C\uDFFB\",\n                \"\uD83D\uDC68\uD83C\uDFFC\",\n                \"\uD83D\uDC68\uD83C\uDFFD\",\n                \"\uD83D\uDC68\uD83C\uDFFE\",\n                \"\uD83D\uDC68\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC71\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC71\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC71\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC71\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC71\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC71\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDC71\",\n                \"\uD83D\uDC71\uD83C\uDFFB\",\n                \"\uD83D\uDC71\uD83C\uDFFC\",\n                \"\uD83D\uDC71\uD83C\uDFFD\",\n                \"\uD83D\uDC71\uD83C\uDFFE\",\n                \"\uD83D\uDC71\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDDD4\",\n                \"\uD83E\uDDD4\uD83C\uDFFB\",\n                \"\uD83E\uDDD4\uD83C\uDFFC\",\n                \"\uD83E\uDDD4\uD83C\uDFFD\",\n                \"\uD83E\uDDD4\uD83C\uDFFE\",\n                \"\uD83E\uDDD4\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC75\",\n                \"\uD83D\uDC75\uD83C\uDFFB\",\n                \"\uD83D\uDC75\uD83C\uDFFC\",\n                \"\uD83D\uDC75\uD83C\uDFFD\",\n                \"\uD83D\uDC75\uD83C\uDFFE\",\n                \"\uD83D\uDC75\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDDD3\",\n                \"\uD83E\uDDD3\uD83C\uDFFB\",\n                \"\uD83E\uDDD3\uD83C\uDFFC\",\n                \"\uD83E\uDDD3\uD83C\uDFFD\",\n                \"\uD83E\uDDD3\uD83C\uDFFE\",\n                \"\uD83E\uDDD3\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC74\",\n                \"\uD83D\uDC74\uD83C\uDFFB\",\n                \"\uD83D\uDC74\uD83C\uDFFC\",\n                \"\uD83D\uDC74\uD83C\uDFFD\",\n                \"\uD83D\uDC74\uD83C\uDFFE\",\n                \"\uD83D\uDC74\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC72\",\n                \"\uD83D\uDC72\uD83C\uDFFB\",\n                \"\uD83D\uDC72\uD83C\uDFFC\",\n                \"\uD83D\uDC72\uD83C\uDFFD\",\n                \"\uD83D\uDC72\uD83C\uDFFE\",\n                \"\uD83D\uDC72\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC73\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC73\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC73\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC73\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC73\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC73\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDC73\uFE0F\",\n                \"\uD83D\uDC73\uD83C\uDFFB\",\n                \"\uD83D\uDC73\uD83C\uDFFC\uFE0F\",\n                \"\uD83D\uDC73\uD83C\uDFFD\uFE0F\",\n                \"\uD83D\uDC73\uD83C\uDFFE\uFE0F\",\n                \"\uD83D\uDC73\uD83C\uDFFF\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDD5\",\n                \"\uD83E\uDDD5\uD83C\uDFFB\",\n                \"\uD83E\uDDD5\uD83C\uDFFC\",\n                \"\uD83E\uDDD5\uD83C\uDFFD\",\n                \"\uD83E\uDDD5\uD83C\uDFFE\",\n                \"\uD83E\uDDD5\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC6E\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC6E\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC6E\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC6E\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC6E\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC6E\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDC6E\",\n                \"\uD83D\uDC6E\uD83C\uDFFB\",\n                \"\uD83D\uDC6E\uD83C\uDFFC\",\n                \"\uD83D\uDC6E\uD83C\uDFFD\",\n                \"\uD83D\uDC6E\uD83C\uDFFE\",\n                \"\uD83D\uDC6E\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC77\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC77\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC77\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC77\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC77\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC77\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDC77\",\n                \"\uD83D\uDC77\uD83C\uDFFB\",\n                \"\uD83D\uDC77\uD83C\uDFFC\",\n                \"\uD83D\uDC77\uD83C\uDFFD\",\n                \"\uD83D\uDC77\uD83C\uDFFE\",\n                \"\uD83D\uDC77\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC82\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC82\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC82\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC82\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC82\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83D\uDC82\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDC82\",\n                \"\uD83D\uDC82\uD83C\uDFFB\",\n                \"\uD83D\uDC82\uD83C\uDFFC\",\n                \"\uD83D\uDC82\uD83C\uDFFD\",\n                \"\uD83D\uDC82\uD83C\uDFFE\",\n                \"\uD83D\uDC82\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDD75\uFE0F\u200D\u2640\uFE0F\",\n                \"\uD83D\uDD75\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83D\uDD75\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83D\uDD75\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83D\uDD75\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83D\uDD75\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDD75\",\n                \"\uD83D\uDD75\uD83C\uDFFB\",\n                \"\uD83D\uDD75\uD83C\uDFFC\",\n                \"\uD83D\uDD75\uD83C\uDFFD\",\n                \"\uD83D\uDD75\uD83C\uDFFE\",\n                \"\uD83D\uDD75\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\u2695\uFE0F\",\n                \"\uD83D\uDC69\uD83C\uDFFB\u200D\u2695\uFE0F\",\n                \"\uD83D\uDC69\uD83C\uDFFC\u200D\u2695\uFE0F\",\n                \"\uD83D\uDC69\uD83C\uDFFD\u200D\u2695\uFE0F\",\n                \"\uD83D\uDC69\uD83C\uDFFE\u200D\u2695\uFE0F\",\n                \"\uD83D\uDC69\uD83C\uDFFF\u200D\u2695\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\u2695\uFE0F\",\n                \"\uD83D\uDC68\uD83C\uDFFB\u200D\u2695\uFE0F\",\n                \"\uD83D\uDC68\uD83C\uDFFC\u200D\u2695\uFE0F\",\n                \"\uD83D\uDC68\uD83C\uDFFD\u200D\u2695\uFE0F\",\n                \"\uD83D\uDC68\uD83C\uDFFE\u200D\u2695\uFE0F\",\n                \"\uD83D\uDC68\uD83C\uDFFF\u200D\u2695\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83C\uDF3E\",\n                \"\uD83D\uDC69\uD83C\uDFFB\u200D\uD83C\uDF3E\",\n                \"\uD83D\uDC69\uD83C\uDFFC\u200D\uD83C\uDF3E\",\n                \"\uD83D\uDC69\uD83C\uDFFD\u200D\uD83C\uDF3E\",\n                \"\uD83D\uDC69\uD83C\uDFFE\u200D\uD83C\uDF3E\",\n                \"\uD83D\uDC69\uD83C\uDFFF\u200D\uD83C\uDF3E\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83C\uDF3E\",\n                \"\uD83D\uDC68\uD83C\uDFFB\u200D\uD83C\uDF3E\",\n                \"\uD83D\uDC68\uD83C\uDFFC\u200D\uD83C\uDF3E\",\n                \"\uD83D\uDC68\uD83C\uDFFD\u200D\uD83C\uDF3E\",\n                \"\uD83D\uDC68\uD83C\uDFFE\u200D\uD83C\uDF3E\",\n                \"\uD83D\uDC68\uD83C\uDFFF\u200D\uD83C\uDF3E\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83C\uDF73\",\n                \"\uD83D\uDC69\uD83C\uDFFB\u200D\uD83C\uDF73\",\n                \"\uD83D\uDC69\uD83C\uDFFC\u200D\uD83C\uDF73\",\n                \"\uD83D\uDC69\uD83C\uDFFD\u200D\uD83C\uDF73\",\n                \"\uD83D\uDC69\uD83C\uDFFE\u200D\uD83C\uDF73\",\n                \"\uD83D\uDC69\uD83C\uDFFF\u200D\uD83C\uDF73\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83C\uDF73\",\n                \"\uD83D\uDC68\uD83C\uDFFB\u200D\uD83C\uDF73\",\n                \"\uD83D\uDC68\uD83C\uDFFC\u200D\uD83C\uDF73\",\n                \"\uD83D\uDC68\uD83C\uDFFD\u200D\uD83C\uDF73\",\n                \"\uD83D\uDC68\uD83C\uDFFE\u200D\uD83C\uDF73\",\n                \"\uD83D\uDC68\uD83C\uDFFF\u200D\uD83C\uDF73\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83C\uDF93\",\n                \"\uD83D\uDC69\uD83C\uDFFB\u200D\uD83C\uDF93\",\n                \"\uD83D\uDC69\uD83C\uDFFC\u200D\uD83C\uDF93\",\n                \"\uD83D\uDC69\uD83C\uDFFD\u200D\uD83C\uDF93\",\n                \"\uD83D\uDC69\uD83C\uDFFE\u200D\uD83C\uDF93\",\n                \"\uD83D\uDC69\uD83C\uDFFF\u200D\uD83C\uDF93\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83C\uDF93\",\n                \"\uD83D\uDC68\uD83C\uDFFB\u200D\uD83C\uDF93\",\n                \"\uD83D\uDC68\uD83C\uDFFC\u200D\uD83C\uDF93\",\n                \"\uD83D\uDC68\uD83C\uDFFD\u200D\uD83C\uDF93\",\n                \"\uD83D\uDC68\uD83C\uDFFE\u200D\uD83C\uDF93\",\n                \"\uD83D\uDC68\uD83C\uDFFF\u200D\uD83C\uDF93\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83C\uDFA4\",\n                \"\uD83D\uDC69\uD83C\uDFFB\u200D\uD83C\uDFA4\",\n                \"\uD83D\uDC69\uD83C\uDFFC\u200D\uD83C\uDFA4\",\n                \"\uD83D\uDC69\uD83C\uDFFD\u200D\uD83C\uDFA4\",\n                \"\uD83D\uDC69\uD83C\uDFFE\u200D\uD83C\uDFA4\",\n                \"\uD83D\uDC69\uD83C\uDFFF\u200D\uD83C\uDFA4\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83C\uDFA4\",\n                \"\uD83D\uDC68\uD83C\uDFFB\u200D\uD83C\uDFA4\",\n                \"\uD83D\uDC68\uD83C\uDFFC\u200D\uD83C\uDFA4\",\n                \"\uD83D\uDC68\uD83C\uDFFD\u200D\uD83C\uDFA4\",\n                \"\uD83D\uDC68\uD83C\uDFFE\u200D\uD83C\uDFA4\",\n                \"\uD83D\uDC68\uD83C\uDFFF\u200D\uD83C\uDFA4\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83C\uDFEB\",\n                \"\uD83D\uDC69\uD83C\uDFFB\u200D\uD83C\uDFEB\",\n                \"\uD83D\uDC69\uD83C\uDFFC\u200D\uD83C\uDFEB\",\n                \"\uD83D\uDC69\uD83C\uDFFD\u200D\uD83C\uDFEB\",\n                \"\uD83D\uDC69\uD83C\uDFFE\u200D\uD83C\uDFEB\",\n                \"\uD83D\uDC69\uD83C\uDFFF\u200D\uD83C\uDFEB\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83C\uDFEB\",\n                \"\uD83D\uDC68\uD83C\uDFFB\u200D\uD83C\uDFEB\",\n                \"\uD83D\uDC68\uD83C\uDFFC\u200D\uD83C\uDFEB\",\n                \"\uD83D\uDC68\uD83C\uDFFD\u200D\uD83C\uDFEB\",\n                \"\uD83D\uDC68\uD83C\uDFFE\u200D\uD83C\uDFEB\",\n                \"\uD83D\uDC68\uD83C\uDFFF\u200D\uD83C\uDFEB\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83C\uDFED\",\n                \"\uD83D\uDC69\uD83C\uDFFB\u200D\uD83C\uDFED\",\n                \"\uD83D\uDC69\uD83C\uDFFC\u200D\uD83C\uDFED\",\n                \"\uD83D\uDC69\uD83C\uDFFD\u200D\uD83C\uDFED\",\n                \"\uD83D\uDC69\uD83C\uDFFE\u200D\uD83C\uDFED\",\n                \"\uD83D\uDC69\uD83C\uDFFF\u200D\uD83C\uDFED\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83C\uDFED\",\n                \"\uD83D\uDC68\uD83C\uDFFB\u200D\uD83C\uDFED\",\n                \"\uD83D\uDC68\uD83C\uDFFC\u200D\uD83C\uDFED\",\n                \"\uD83D\uDC68\uD83C\uDFFD\u200D\uD83C\uDFED\",\n                \"\uD83D\uDC68\uD83C\uDFFE\u200D\uD83C\uDFED\",\n                \"\uD83D\uDC68\uD83C\uDFFF\u200D\uD83C\uDFED\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83D\uDCBB\",\n                \"\uD83D\uDC69\uD83C\uDFFB\u200D\uD83D\uDCBB\",\n                \"\uD83D\uDC69\uD83C\uDFFC\u200D\uD83D\uDCBB\",\n                \"\uD83D\uDC69\uD83C\uDFFD\u200D\uD83D\uDCBB\",\n                \"\uD83D\uDC69\uD83C\uDFFE\u200D\uD83D\uDCBB\",\n                \"\uD83D\uDC69\uD83C\uDFFF\u200D\uD83D\uDCBB\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDCBB\",\n                \"\uD83D\uDC68\uD83C\uDFFB\u200D\uD83D\uDCBB\",\n                \"\uD83D\uDC68\uD83C\uDFFC\u200D\uD83D\uDCBB\",\n                \"\uD83D\uDC68\uD83C\uDFFD\u200D\uD83D\uDCBB\",\n                \"\uD83D\uDC68\uD83C\uDFFE\u200D\uD83D\uDCBB\",\n                \"\uD83D\uDC68\uD83C\uDFFF\u200D\uD83D\uDCBB\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83D\uDCBC\",\n                \"\uD83D\uDC69\uD83C\uDFFB\u200D\uD83D\uDCBC\",\n                \"\uD83D\uDC69\uD83C\uDFFC\u200D\uD83D\uDCBC\",\n                \"\uD83D\uDC69\uD83C\uDFFD\u200D\uD83D\uDCBC\",\n                \"\uD83D\uDC69\uD83C\uDFFE\u200D\uD83D\uDCBC\",\n                \"\uD83D\uDC69\uD83C\uDFFF\u200D\uD83D\uDCBC\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDCBC\",\n                \"\uD83D\uDC68\uD83C\uDFFB\u200D\uD83D\uDCBC\",\n                \"\uD83D\uDC68\uD83C\uDFFC\u200D\uD83D\uDCBC\",\n                \"\uD83D\uDC68\uD83C\uDFFD\u200D\uD83D\uDCBC\",\n                \"\uD83D\uDC68\uD83C\uDFFE\u200D\uD83D\uDCBC\",\n                \"\uD83D\uDC68\uD83C\uDFFF\u200D\uD83D\uDCBC\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83D\uDD27\",\n                \"\uD83D\uDC69\uD83C\uDFFB\u200D\uD83D\uDD27\",\n                \"\uD83D\uDC69\uD83C\uDFFC\u200D\uD83D\uDD27\",\n                \"\uD83D\uDC69\uD83C\uDFFD\u200D\uD83D\uDD27\",\n                \"\uD83D\uDC69\uD83C\uDFFE\u200D\uD83D\uDD27\",\n                \"\uD83D\uDC69\uD83C\uDFFF\u200D\uD83D\uDD27\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDD27\",\n                \"\uD83D\uDC68\uD83C\uDFFB\u200D\uD83D\uDD27\",\n                \"\uD83D\uDC68\uD83C\uDFFC\u200D\uD83D\uDD27\",\n                \"\uD83D\uDC68\uD83C\uDFFD\u200D\uD83D\uDD27\",\n                \"\uD83D\uDC68\uD83C\uDFFE\u200D\uD83D\uDD27\",\n                \"\uD83D\uDC68\uD83C\uDFFF\u200D\uD83D\uDD27\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83D\uDD2C\",\n                \"\uD83D\uDC69\uD83C\uDFFB\u200D\uD83D\uDD2C\",\n                \"\uD83D\uDC69\uD83C\uDFFC\u200D\uD83D\uDD2C\",\n                \"\uD83D\uDC69\uD83C\uDFFD\u200D\uD83D\uDD2C\",\n                \"\uD83D\uDC69\uD83C\uDFFE\u200D\uD83D\uDD2C\",\n                \"\uD83D\uDC69\uD83C\uDFFF\u200D\uD83D\uDD2C\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDD2C\",\n                \"\uD83D\uDC68\uD83C\uDFFB\u200D\uD83D\uDD2C\",\n                \"\uD83D\uDC68\uD83C\uDFFC\u200D\uD83D\uDD2C\",\n                \"\uD83D\uDC68\uD83C\uDFFD\u200D\uD83D\uDD2C\",\n                \"\uD83D\uDC68\uD83C\uDFFE\u200D\uD83D\uDD2C\",\n                \"\uD83D\uDC68\uD83C\uDFFF\u200D\uD83D\uDD2C\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83C\uDFA8\",\n                \"\uD83D\uDC69\uD83C\uDFFB\u200D\uD83C\uDFA8\",\n                \"\uD83D\uDC69\uD83C\uDFFC\u200D\uD83C\uDFA8\",\n                \"\uD83D\uDC69\uD83C\uDFFD\u200D\uD83C\uDFA8\",\n                \"\uD83D\uDC69\uD83C\uDFFE\u200D\uD83C\uDFA8\",\n                \"\uD83D\uDC69\uD83C\uDFFF\u200D\uD83C\uDFA8\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83C\uDFA8\",\n                \"\uD83D\uDC68\uD83C\uDFFB\u200D\uD83C\uDFA8\",\n                \"\uD83D\uDC68\uD83C\uDFFC\u200D\uD83C\uDFA8\",\n                \"\uD83D\uDC68\uD83C\uDFFD\u200D\uD83C\uDFA8\",\n                \"\uD83D\uDC68\uD83C\uDFFE\u200D\uD83C\uDFA8\",\n                \"\uD83D\uDC68\uD83C\uDFFF\u200D\uD83C\uDFA8\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83D\uDE92\",\n                \"\uD83D\uDC69\uD83C\uDFFB\u200D\uD83D\uDE92\",\n                \"\uD83D\uDC69\uD83C\uDFFC\u200D\uD83D\uDE92\",\n                \"\uD83D\uDC69\uD83C\uDFFD\u200D\uD83D\uDE92\",\n                \"\uD83D\uDC69\uD83C\uDFFE\u200D\uD83D\uDE92\",\n                \"\uD83D\uDC69\uD83C\uDFFF\u200D\uD83D\uDE92\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDE92\",\n                \"\uD83D\uDC68\uD83C\uDFFB\u200D\uD83D\uDE92\",\n                \"\uD83D\uDC68\uD83C\uDFFC\u200D\uD83D\uDE92\",\n                \"\uD83D\uDC68\uD83C\uDFFD\u200D\uD83D\uDE92\",\n                \"\uD83D\uDC68\uD83C\uDFFE\u200D\uD83D\uDE92\",\n                \"\uD83D\uDC68\uD83C\uDFFF\u200D\uD83D\uDE92\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\u2708\uFE0F\",\n                \"\uD83D\uDC69\uD83C\uDFFB\u200D\u2708\uFE0F\",\n                \"\uD83D\uDC69\uD83C\uDFFC\u200D\u2708\uFE0F\",\n                \"\uD83D\uDC69\uD83C\uDFFD\u200D\u2708\uFE0F\",\n                \"\uD83D\uDC69\uD83C\uDFFE\u200D\u2708\uFE0F\",\n                \"\uD83D\uDC69\uD83C\uDFFF\u200D\u2708\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\u2708\uFE0F\",\n                \"\uD83D\uDC68\uD83C\uDFFB\u200D\u2708\uFE0F\",\n                \"\uD83D\uDC68\uD83C\uDFFC\u200D\u2708\uFE0F\",\n                \"\uD83D\uDC68\uD83C\uDFFD\u200D\u2708\uFE0F\",\n                \"\uD83D\uDC68\uD83C\uDFFE\u200D\u2708\uFE0F\",\n                \"\uD83D\uDC68\uD83C\uDFFF\u200D\u2708\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83D\uDE80\",\n                \"\uD83D\uDC69\uD83C\uDFFB\u200D\uD83D\uDE80\",\n                \"\uD83D\uDC69\uD83C\uDFFC\u200D\uD83D\uDE80\",\n                \"\uD83D\uDC69\uD83C\uDFFD\u200D\uD83D\uDE80\",\n                \"\uD83D\uDC69\uD83C\uDFFE\u200D\uD83D\uDE80\",\n                \"\uD83D\uDC69\uD83C\uDFFF\u200D\uD83D\uDE80\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDE80\",\n                \"\uD83D\uDC68\uD83C\uDFFB\u200D\uD83D\uDE80\",\n                \"\uD83D\uDC68\uD83C\uDFFC\u200D\uD83D\uDE80\",\n                \"\uD83D\uDC68\uD83C\uDFFD\u200D\uD83D\uDE80\",\n                \"\uD83D\uDC68\uD83C\uDFFE\u200D\uD83D\uDE80\",\n                \"\uD83D\uDC68\uD83C\uDFFF\u200D\uD83D\uDE80\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\u2696\uFE0F\",\n                \"\uD83D\uDC69\uD83C\uDFFB\u200D\u2696\uFE0F\",\n                \"\uD83D\uDC69\uD83C\uDFFC\u200D\u2696\uFE0F\",\n                \"\uD83D\uDC69\uD83C\uDFFD\u200D\u2696\uFE0F\",\n                \"\uD83D\uDC69\uD83C\uDFFE\u200D\u2696\uFE0F\",\n                \"\uD83D\uDC69\uD83C\uDFFF\u200D\u2696\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\u2696\uFE0F\",\n                \"\uD83D\uDC68\uD83C\uDFFB\u200D\u2696\uFE0F\",\n                \"\uD83D\uDC68\uD83C\uDFFC\u200D\u2696\uFE0F\",\n                \"\uD83D\uDC68\uD83C\uDFFD\u200D\u2696\uFE0F\",\n                \"\uD83D\uDC68\uD83C\uDFFE\u200D\u2696\uFE0F\",\n                \"\uD83D\uDC68\uD83C\uDFFF\u200D\u2696\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDC70\",\n                \"\uD83D\uDC70\uD83C\uDFFB\",\n                \"\uD83D\uDC70\uD83C\uDFFC\",\n                \"\uD83D\uDC70\uD83C\uDFFD\",\n                \"\uD83D\uDC70\uD83C\uDFFE\",\n                \"\uD83D\uDC70\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDD35\",\n                \"\uD83E\uDD35\uD83C\uDFFB\",\n                \"\uD83E\uDD35\uD83C\uDFFC\",\n                \"\uD83E\uDD35\uD83C\uDFFD\",\n                \"\uD83E\uDD35\uD83C\uDFFE\",\n                \"\uD83E\uDD35\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC78\",\n                \"\uD83D\uDC78\uD83C\uDFFB\",\n                \"\uD83D\uDC78\uD83C\uDFFC\",\n                \"\uD83D\uDC78\uD83C\uDFFD\",\n                \"\uD83D\uDC78\uD83C\uDFFE\",\n                \"\uD83D\uDC78\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDD34\",\n                \"\uD83E\uDD34\uD83C\uDFFB\",\n                \"\uD83E\uDD34\uD83C\uDFFC\",\n                \"\uD83E\uDD34\uD83C\uDFFD\",\n                \"\uD83E\uDD34\uD83C\uDFFE\",\n                \"\uD83E\uDD34\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDD36\",\n                \"\uD83E\uDD36\uD83C\uDFFB\",\n                \"\uD83E\uDD36\uD83C\uDFFC\",\n                \"\uD83E\uDD36\uD83C\uDFFD\",\n                \"\uD83E\uDD36\uD83C\uDFFE\",\n                \"\uD83E\uDD36\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83C\uDF85\",\n                \"\uD83C\uDF85\uD83C\uDFFB\",\n                \"\uD83C\uDF85\uD83C\uDFFC\",\n                \"\uD83C\uDF85\uD83C\uDFFD\",\n                \"\uD83C\uDF85\uD83C\uDFFE\",\n                \"\uD83C\uDF85\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDDD9\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDD9\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDD9\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDD9\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDD9\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDD9\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDD9\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDD9\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDD9\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDD9\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDD9\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDD9\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDDD\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDD\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDD\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDD\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDD\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDD\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDDD\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDD\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDD\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDD\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDD\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDD\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDDB\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDB\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDB\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDB\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDB\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDB\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDDB\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDB\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDB\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDB\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDB\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDB\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDDF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDDF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDDE\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDDE\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDDC\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDC\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDC\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDC\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDC\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDC\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDDC\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDC\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDC\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDC\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDC\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDC\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDDA\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDA\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDA\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDA\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDA\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDDA\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDDA\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDA\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDA\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDA\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDA\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDDA\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDC7C\",\n                \"\uD83D\uDC7C\uD83C\uDFFB\",\n                \"\uD83D\uDC7C\uD83C\uDFFC\",\n                \"\uD83D\uDC7C\uD83C\uDFFD\",\n                \"\uD83D\uDC7C\uD83C\uDFFE\",\n                \"\uD83D\uDC7C\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDD30\",\n                \"\uD83E\uDD30\uD83C\uDFFB\",\n                \"\uD83E\uDD30\uD83C\uDFFC\",\n                \"\uD83E\uDD30\uD83C\uDFFD\",\n                \"\uD83E\uDD30\uD83C\uDFFE\",\n                \"\uD83E\uDD30\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDD31\",\n                \"\uD83E\uDD31\uD83C\uDFFB\",\n                \"\uD83E\uDD31\uD83C\uDFFC\",\n                \"\uD83E\uDD31\uD83C\uDFFD\",\n                \"\uD83E\uDD31\uD83C\uDFFE\",\n                \"\uD83E\uDD31\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDE47\u200D\u2640\uFE0F\",\n                \"\uD83D\uDE47\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83D\uDE47\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83D\uDE47\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83D\uDE47\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83D\uDE47\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDE47\",\n                \"\uD83D\uDE47\uD83C\uDFFB\",\n                \"\uD83D\uDE47\uD83C\uDFFC\",\n                \"\uD83D\uDE47\uD83C\uDFFD\",\n                \"\uD83D\uDE47\uD83C\uDFFE\",\n                \"\uD83D\uDE47\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC81\",\n                \"\uD83D\uDC81\uD83C\uDFFB\",\n                \"\uD83D\uDC81\uD83C\uDFFC\",\n                \"\uD83D\uDC81\uD83C\uDFFD\",\n                \"\uD83D\uDC81\uD83C\uDFFE\",\n                \"\uD83D\uDC81\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC81\u200D\u2642\uFE0F\",\n                \"\uD83D\uDC81\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83D\uDC81\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83D\uDC81\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83D\uDC81\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83D\uDC81\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDE45\",\n                \"\uD83D\uDE45\uD83C\uDFFB\",\n                \"\uD83D\uDE45\uD83C\uDFFC\",\n                \"\uD83D\uDE45\uD83C\uDFFD\",\n                \"\uD83D\uDE45\uD83C\uDFFE\",\n                \"\uD83D\uDE45\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDE45\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE45\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE45\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE45\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE45\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE45\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDE46\",\n                \"\uD83D\uDE46\uD83C\uDFFB\",\n                \"\uD83D\uDE46\uD83C\uDFFC\",\n                \"\uD83D\uDE46\uD83C\uDFFD\",\n                \"\uD83D\uDE46\uD83C\uDFFE\",\n                \"\uD83D\uDE46\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDE46\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE46\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE46\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE46\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE46\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE46\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDE4B\",\n                \"\uD83D\uDE4B\uD83C\uDFFB\",\n                \"\uD83D\uDE4B\uD83C\uDFFC\",\n                \"\uD83D\uDE4B\uD83C\uDFFD\",\n                \"\uD83D\uDE4B\uD83C\uDFFE\",\n                \"\uD83D\uDE4B\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDE4B\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE4B\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE4B\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE4B\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE4B\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE4B\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDD26\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD26\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD26\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD26\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD26\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD26\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDD26\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD26\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD26\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD26\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD26\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD26\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDD37\",\n                \"\uD83E\uDD37\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD37\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD37\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD37\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD37\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDD37\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD37\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD37\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD37\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD37\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD37\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDE4E\",\n                \"\uD83D\uDE4E\uD83C\uDFFB\",\n                \"\uD83D\uDE4E\uD83C\uDFFC\",\n                \"\uD83D\uDE4E\uD83C\uDFFD\",\n                \"\uD83D\uDE4E\uD83C\uDFFE\",\n                \"\uD83D\uDE4E\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDE4E\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE4E\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE4E\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE4E\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE4E\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE4E\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDE4D\",\n                \"\uD83D\uDE4D\uD83C\uDFFB\",\n                \"\uD83D\uDE4D\uD83C\uDFFC\",\n                \"\uD83D\uDE4D\uD83C\uDFFD\",\n                \"\uD83D\uDE4D\uD83C\uDFFE\",\n                \"\uD83D\uDE4D\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDE4D\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE4D\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE4D\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE4D\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE4D\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83D\uDE4D\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDC87\",\n                \"\uD83D\uDC87\uD83C\uDFFB\",\n                \"\uD83D\uDC87\uD83C\uDFFC\",\n                \"\uD83D\uDC87\uD83C\uDFFD\",\n                \"\uD83D\uDC87\uD83C\uDFFE\",\n                \"\uD83D\uDC87\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC87\u200D\u2642\uFE0F\",\n                \"\uD83D\uDC87\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83D\uDC87\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83D\uDC87\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83D\uDC87\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83D\uDC87\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDC86\",\n                \"\uD83D\uDC86\uD83C\uDFFB\",\n                \"\uD83D\uDC86\uD83C\uDFFC\",\n                \"\uD83D\uDC86\uD83C\uDFFD\",\n                \"\uD83D\uDC86\uD83C\uDFFE\",\n                \"\uD83D\uDC86\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC86\u200D\u2642\uFE0F\",\n                \"\uD83D\uDC86\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83D\uDC86\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83D\uDC86\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83D\uDC86\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83D\uDC86\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDD6\u200D\u2640\"\n            ],\n            [\n                \"\uD83E\uDDD6\u200D\u2642\"\n            ],\n            [\n                \"\uD83D\uDC85\",\n                \"\uD83D\uDC85\uD83C\uDFFB\",\n                \"\uD83D\uDC85\uD83C\uDFFC\",\n                \"\uD83D\uDC85\uD83C\uDFFD\",\n                \"\uD83D\uDC85\uD83C\uDFFE\",\n                \"\uD83D\uDC85\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDD33\",\n                \"\uD83E\uDD33\uD83C\uDFFB\",\n                \"\uD83E\uDD33\uD83C\uDFFC\",\n                \"\uD83E\uDD33\uD83C\uDFFD\",\n                \"\uD83E\uDD33\uD83C\uDFFE\",\n                \"\uD83E\uDD33\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDD74\",\n                \"\uD83D\uDD74\uD83C\uDFFB\",\n                \"\uD83D\uDD74\uD83C\uDFFC\",\n                \"\uD83D\uDD74\uD83C\uDFFC\",\n                \"\uD83D\uDD74\uD83C\uDFFE\",\n                \"\uD83D\uDD74\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC83\",\n                \"\uD83D\uDC83\uD83C\uDFFB\",\n                \"\uD83D\uDC83\uD83C\uDFFC\",\n                \"\uD83D\uDC83\uD83C\uDFFD\",\n                \"\uD83D\uDC83\uD83C\uDFFE\",\n                \"\uD83D\uDC83\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDD7A\",\n                \"\uD83D\uDD7A\uD83C\uDFFB\",\n                \"\uD83D\uDD7A\uD83C\uDFFC\",\n                \"\uD83D\uDD7A\uD83C\uDFFD\",\n                \"\uD83D\uDD7A\uD83C\uDFFE\",\n                \"\uD83D\uDD7A\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC6F\u200D\u2640\"\n            ],\n            [\n                \"\uD83D\uDC6F\u200D\u2642\"\n            ],\n            [\n                \"\uD83D\uDEB6\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEB6\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEB6\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEB6\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEB6\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEB6\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDEB6\",\n                \"\uD83D\uDEB6\uD83C\uDFFB\",\n                \"\uD83D\uDEB6\uD83C\uDFFC\",\n                \"\uD83D\uDEB6\uD83C\uDFFD\",\n                \"\uD83D\uDEB6\uD83C\uDFFE\",\n                \"\uD83D\uDEB6\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83C\uDFC3\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFC3\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFC3\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFC3\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFC3\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFC3\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDFC3\",\n                \"\uD83C\uDFC3\uD83C\uDFFB\",\n                \"\uD83C\uDFC3\uD83C\uDFFC\",\n                \"\uD83C\uDFC3\uD83C\uDFFD\",\n                \"\uD83C\uDFC3\uD83C\uDFFE\",\n                \"\uD83C\uDFC3\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDC6B\"\n            ],\n            [\n                \"\uD83D\uDC6D\"\n            ],\n            [\n                \"\uD83D\uDC6C\"\n            ],\n            [\n                \"\uD83D\uDC91\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\u2764\uFE0F\u200D\uD83D\uDC69\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\u2764\uFE0F\u200D\uD83D\uDC68\"\n            ],\n            [\n                \"\uD83D\uDC8F\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D\uD83D\uDC69\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D\uD83D\uDC68\"\n            ],\n            [\n                \"\uD83D\uDC6A\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDC69\u200D\uD83D\uDC67\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDC69\u200D\uD83D\uDC67\u200D\uD83D\uDC66\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDC69\u200D\uD83D\uDC67\u200D\uD83D\uDC67\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83D\uDC69\u200D\uD83D\uDC66\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83D\uDC69\u200D\uD83D\uDC67\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83D\uDC69\u200D\uD83D\uDC67\u200D\uD83D\uDC66\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83D\uDC69\u200D\uD83D\uDC67\u200D\uD83D\uDC67\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDC68\u200D\uD83D\uDC66\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDC68\u200D\uD83D\uDC67\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDC68\u200D\uD83D\uDC67\u200D\uD83D\uDC66\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDC68\u200D\uD83D\uDC66\u200D\uD83D\uDC66\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDC68\u200D\uD83D\uDC67\u200D\uD83D\uDC67\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83D\uDC66\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83D\uDC67\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83D\uDC67\u200D\uD83D\uDC66\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66\"\n            ],\n            [\n                \"\uD83D\uDC69\u200D\uD83D\uDC67\u200D\uD83D\uDC67\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDC66\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDC67\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDC67\u200D\uD83D\uDC66\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDC66\u200D\uD83D\uDC66\"\n            ],\n            [\n                \"\uD83D\uDC68\u200D\uD83D\uDC67\u200D\uD83D\uDC67\"\n            ],\n            [\n                \"\uD83E\uDDE5\"\n            ],\n            [\n                \"\uD83D\uDC5A\"\n            ],\n            [\n                \"\uD83D\uDC55\"\n            ],\n            [\n                \"\uD83D\uDC56\"\n            ],\n            [\n                \"\uD83D\uDC54\"\n            ],\n            [\n                \"\uD83D\uDC57\"\n            ],\n            [\n                \"\uD83D\uDC59\"\n            ],\n            [\n                \"\uD83D\uDC58\"\n            ],\n            [\n                \"\uD83D\uDC60\"\n            ],\n            [\n                \"\uD83D\uDC61\"\n            ],\n            [\n                \"\uD83D\uDC62\"\n            ],\n            [\n                \"\uD83D\uDC5E\"\n            ],\n            [\n                \"\uD83D\uDC5F\"\n            ],\n            [\n                \"\uD83E\uDDE6\"\n            ],\n            [\n                \"\uD83E\uDDE4\"\n            ],\n            [\n                \"\uD83E\uDDE3\"\n            ],\n            [\n                \"\uD83C\uDFA9\"\n            ],\n            [\n                \"\uD83E\uDDE2\"\n            ],\n            [\n                \"\uD83D\uDC52\"\n            ],\n            [\n                \"\uD83C\uDF93\"\n            ],\n            [\n                \"\u26D1\"\n            ],\n            [\n                \"\uD83D\uDC51\"\n            ],\n            [\n                \"\uD83D\uDC5D\"\n            ],\n            [\n                \"\uD83D\uDC5B\"\n            ],\n            [\n                \"\uD83D\uDC5C\"\n            ],\n            [\n                \"\uD83D\uDCBC\"\n            ],\n            [\n                \"\uD83C\uDF92\"\n            ],\n            [\n                \"\uD83D\uDC53\"\n            ],\n            [\n                \"\uD83D\uDD76\"\n            ],\n            [\n                \"\uD83C\uDF02\"\n            ]\n        ],\n        \"type\": \"smileysAndPeople\"\n    },\n    {\n        \"emojis\": [\n            [\n                \"\uD83D\uDC36\"\n            ],\n            [\n                \"\uD83D\uDC31\"\n            ],\n            [\n                \"\uD83D\uDC2D\"\n            ],\n            [\n                \"\uD83D\uDC39\"\n            ],\n            [\n                \"\uD83D\uDC30\"\n            ],\n            [\n                \"\uD83E\uDD8A\"\n            ],\n            [\n                \"\uD83D\uDC3B\"\n            ],\n            [\n                \"\uD83D\uDC3C\"\n            ],\n            [\n                \"\uD83D\uDC28\"\n            ],\n            [\n                \"\uD83D\uDC2F\"\n            ],\n            [\n                \"\uD83E\uDD81\"\n            ],\n            [\n                \"\uD83D\uDC2E\"\n            ],\n            [\n                \"\uD83D\uDC37\"\n            ],\n            [\n                \"\uD83D\uDC3D\"\n            ],\n            [\n                \"\uD83D\uDC38\"\n            ],\n            [\n                \"\uD83D\uDC35\"\n            ],\n            [\n                \"\uD83D\uDE48\"\n            ],\n            [\n                \"\uD83D\uDE49\"\n            ],\n            [\n                \"\uD83D\uDE4A\"\n            ],\n            [\n                \"\uD83D\uDC12\"\n            ],\n            [\n                \"\uD83D\uDC14\"\n            ],\n            [\n                \"\uD83D\uDC27\"\n            ],\n            [\n                \"\uD83D\uDC26\"\n            ],\n            [\n                \"\uD83D\uDC24\"\n            ],\n            [\n                \"\uD83D\uDC23\"\n            ],\n            [\n                \"\uD83D\uDC25\"\n            ],\n            [\n                \"\uD83E\uDD86\"\n            ],\n            [\n                \"\uD83E\uDD85\"\n            ],\n            [\n                \"\uD83E\uDD89\"\n            ],\n            [\n                \"\uD83E\uDD87\"\n            ],\n            [\n                \"\uD83D\uDC3A\"\n            ],\n            [\n                \"\uD83D\uDC17\"\n            ],\n            [\n                \"\uD83D\uDC34\"\n            ],\n            [\n                \"\uD83E\uDD84\"\n            ],\n            [\n                \"\uD83D\uDC1D\"\n            ],\n            [\n                \"\uD83D\uDC1B\"\n            ],\n            [\n                \"\uD83E\uDD8B\"\n            ],\n            [\n                \"\uD83D\uDC0C\"\n            ],\n            [\n                \"\uD83D\uDC1A\"\n            ],\n            [\n                \"\uD83D\uDC1E\"\n            ],\n            [\n                \"\uD83D\uDC1C\"\n            ],\n            [\n                \"\uD83E\uDD97\"\n            ],\n            [\n                \"\uD83D\uDD77\"\n            ],\n            [\n                \"\uD83D\uDD78\"\n            ],\n            [\n                \"\uD83E\uDD82\"\n            ],\n            [\n                \"\uD83D\uDC22\"\n            ],\n            [\n                \"\uD83D\uDC0D\"\n            ],\n            [\n                \"\uD83E\uDD8E\"\n            ],\n            [\n                \"\uD83E\uDD96\"\n            ],\n            [\n                \"\uD83E\uDD95\"\n            ],\n            [\n                \"\uD83D\uDC19\"\n            ],\n            [\n                \"\uD83E\uDD91\"\n            ],\n            [\n                \"\uD83E\uDD90\"\n            ],\n            [\n                \"\uD83E\uDD80\"\n            ],\n            [\n                \"\uD83D\uDC21\"\n            ],\n            [\n                \"\uD83D\uDC20\"\n            ],\n            [\n                \"\uD83D\uDC1F\"\n            ],\n            [\n                \"\uD83D\uDC2C\"\n            ],\n            [\n                \"\uD83D\uDC33\"\n            ],\n            [\n                \"\uD83D\uDC0B\"\n            ],\n            [\n                \"\uD83E\uDD88\"\n            ],\n            [\n                \"\uD83D\uDC0A\"\n            ],\n            [\n                \"\uD83D\uDC05\"\n            ],\n            [\n                \"\uD83D\uDC06\"\n            ],\n            [\n                \"\uD83E\uDD93\"\n            ],\n            [\n                \"\uD83E\uDD8D\"\n            ],\n            [\n                \"\uD83D\uDC18\"\n            ],\n            [\n                \"\uD83E\uDD8F\"\n            ],\n            [\n                \"\uD83D\uDC2A\"\n            ],\n            [\n                \"\uD83D\uDC2B\"\n            ],\n            [\n                \"\uD83E\uDD92\"\n            ],\n            [\n                \"\uD83D\uDC03\"\n            ],\n            [\n                \"\uD83D\uDC02\"\n            ],\n            [\n                \"\uD83D\uDC04\"\n            ],\n            [\n                \"\uD83D\uDC0E\"\n            ],\n            [\n                \"\uD83D\uDC16\"\n            ],\n            [\n                \"\uD83D\uDC0F\"\n            ],\n            [\n                \"\uD83D\uDC11\"\n            ],\n            [\n                \"\uD83D\uDC10\"\n            ],\n            [\n                \"\uD83E\uDD8C\"\n            ],\n            [\n                \"\uD83D\uDC15\"\n            ],\n            [\n                \"\uD83D\uDC29\"\n            ],\n            [\n                \"\uD83D\uDC08\"\n            ],\n            [\n                \"\uD83D\uDC13\"\n            ],\n            [\n                \"\uD83E\uDD83\"\n            ],\n            [\n                \"\uD83D\uDD4A\"\n            ],\n            [\n                \"\uD83D\uDC07\"\n            ],\n            [\n                \"\uD83D\uDC01\"\n            ],\n            [\n                \"\uD83D\uDC00\"\n            ],\n            [\n                \"\uD83D\uDC3F\"\n            ],\n            [\n                \"\uD83E\uDD94\"\n            ],\n            [\n                \"\uD83D\uDC3E\"\n            ],\n            [\n                \"\uD83D\uDC09\"\n            ],\n            [\n                \"\uD83D\uDC32\"\n            ],\n            [\n                \"\uD83C\uDF35\"\n            ],\n            [\n                \"\uD83C\uDF84\"\n            ],\n            [\n                \"\uD83C\uDF32\"\n            ],\n            [\n                \"\uD83C\uDF33\"\n            ],\n            [\n                \"\uD83C\uDF34\"\n            ],\n            [\n                \"\uD83C\uDF31\"\n            ],\n            [\n                \"\uD83C\uDF3F\"\n            ],\n            [\n                \"\u2618\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDF40\"\n            ],\n            [\n                \"\uD83C\uDF8D\"\n            ],\n            [\n                \"\uD83C\uDF8B\"\n            ],\n            [\n                \"\uD83C\uDF43\"\n            ],\n            [\n                \"\uD83C\uDF42\"\n            ],\n            [\n                \"\uD83C\uDF41\"\n            ],\n            [\n                \"\uD83C\uDF44\"\n            ],\n            [\n                \"\uD83C\uDF3E\"\n            ],\n            [\n                \"\uD83D\uDC90\"\n            ],\n            [\n                \"\uD83C\uDF37\"\n            ],\n            [\n                \"\uD83C\uDF39\"\n            ],\n            [\n                \"\uD83E\uDD40\"\n            ],\n            [\n                \"\uD83C\uDF3A\"\n            ],\n            [\n                \"\uD83C\uDF38\"\n            ],\n            [\n                \"\uD83C\uDF3C\"\n            ],\n            [\n                \"\uD83C\uDF3B\"\n            ],\n            [\n                \"\uD83C\uDF1E\"\n            ],\n            [\n                \"\uD83C\uDF1D\"\n            ],\n            [\n                \"\uD83C\uDF1B\"\n            ],\n            [\n                \"\uD83C\uDF1C\"\n            ],\n            [\n                \"\uD83C\uDF1A\"\n            ],\n            [\n                \"\uD83C\uDF15\"\n            ],\n            [\n                \"\uD83C\uDF16\"\n            ],\n            [\n                \"\uD83C\uDF17\"\n            ],\n            [\n                \"\uD83C\uDF18\"\n            ],\n            [\n                \"\uD83C\uDF11\"\n            ],\n            [\n                \"\uD83C\uDF12\"\n            ],\n            [\n                \"\uD83C\uDF13\"\n            ],\n            [\n                \"\uD83C\uDF14\"\n            ],\n            [\n                \"\uD83C\uDF19\"\n            ],\n            [\n                \"\uD83C\uDF0E\"\n            ],\n            [\n                \"\uD83C\uDF0D\"\n            ],\n            [\n                \"\uD83C\uDF0F\"\n            ],\n            [\n                \"\uD83D\uDCAB\"\n            ],\n            [\n                \"\u2B50\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDF1F\"\n            ],\n            [\n                \"\u2728\"\n            ],\n            [\n                \"\u26A1\uFE0F\"\n            ],\n            [\n                \"\u2604\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDCA5\"\n            ],\n            [\n                \"\uD83D\uDD25\"\n            ],\n            [\n                \"\uD83C\uDF2A\"\n            ],\n            [\n                \"\uD83C\uDF08\"\n            ],\n            [\n                \"\u2600\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDF24\"\n            ],\n            [\n                \"\u26C5\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDF25\"\n            ],\n            [\n                \"\u2601\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDF26\"\n            ],\n            [\n                \"\uD83C\uDF27\"\n            ],\n            [\n                \"\u26C8\"\n            ],\n            [\n                \"\uD83C\uDF29\"\n            ],\n            [\n                \"\uD83C\uDF28\"\n            ],\n            [\n                \"\u2744\uFE0F\"\n            ],\n            [\n                \"\u2603\uFE0F\"\n            ],\n            [\n                \"\u26C4\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDF2C\"\n            ],\n            [\n                \"\uD83D\uDCA8\"\n            ],\n            [\n                \"\uD83D\uDCA7\"\n            ],\n            [\n                \"\uD83D\uDCA6\"\n            ],\n            [\n                \"\u2614\uFE0F\"\n            ],\n            [\n                \"\u2602\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDF0A\"\n            ],\n            [\n                \"\uD83C\uDF2B\"\n            ]\n        ],\n        \"type\": \"animalsAndNature\"\n    },\n    {\n        \"emojis\": [\n            [\n                \"\uD83C\uDF4F\"\n            ],\n            [\n                \"\uD83C\uDF4E\"\n            ],\n            [\n                \"\uD83C\uDF50\"\n            ],\n            [\n                \"\uD83C\uDF4A\"\n            ],\n            [\n                \"\uD83C\uDF4B\"\n            ],\n            [\n                \"\uD83C\uDF4C\"\n            ],\n            [\n                \"\uD83C\uDF49\"\n            ],\n            [\n                \"\uD83C\uDF47\"\n            ],\n            [\n                \"\uD83C\uDF53\"\n            ],\n            [\n                \"\uD83C\uDF48\"\n            ],\n            [\n                \"\uD83C\uDF52\"\n            ],\n            [\n                \"\uD83C\uDF51\"\n            ],\n            [\n                \"\uD83C\uDF4D\"\n            ],\n            [\n                \"\uD83E\uDD65\"\n            ],\n            [\n                \"\uD83E\uDD5D\"\n            ],\n            [\n                \"\uD83C\uDF45\"\n            ],\n            [\n                \"\uD83C\uDF46\"\n            ],\n            [\n                \"\uD83E\uDD51\"\n            ],\n            [\n                \"\uD83E\uDD66\"\n            ],\n            [\n                \"\uD83E\uDD52\"\n            ],\n            [\n                \"\uD83C\uDF36\"\n            ],\n            [\n                \"\uD83C\uDF3D\"\n            ],\n            [\n                \"\uD83E\uDD55\"\n            ],\n            [\n                \"\uD83E\uDD54\"\n            ],\n            [\n                \"\uD83C\uDF60\"\n            ],\n            [\n                \"\uD83E\uDD50\"\n            ],\n            [\n                \"\uD83C\uDF5E\"\n            ],\n            [\n                \"\uD83E\uDD56\"\n            ],\n            [\n                \"\uD83E\uDD68\"\n            ],\n            [\n                \"\uD83E\uDDC0\"\n            ],\n            [\n                \"\uD83E\uDD5A\"\n            ],\n            [\n                \"\uD83C\uDF73\"\n            ],\n            [\n                \"\uD83E\uDD5E\"\n            ],\n            [\n                \"\uD83E\uDD53\"\n            ],\n            [\n                \"\uD83E\uDD69\"\n            ],\n            [\n                \"\uD83C\uDF57\"\n            ],\n            [\n                \"\uD83C\uDF56\"\n            ],\n            [\n                \"\uD83C\uDF2D\"\n            ],\n            [\n                \"\uD83C\uDF54\"\n            ],\n            [\n                \"\uD83C\uDF5F\"\n            ],\n            [\n                \"\uD83C\uDF55\"\n            ],\n            [\n                \"\uD83E\uDD6A\"\n            ],\n            [\n                \"\uD83E\uDD59\"\n            ],\n            [\n                \"\uD83C\uDF2E\"\n            ],\n            [\n                \"\uD83C\uDF2F\"\n            ],\n            [\n                \"\uD83E\uDD57\"\n            ],\n            [\n                \"\uD83E\uDD58\"\n            ],\n            [\n                \"\uD83E\uDD6B\"\n            ],\n            [\n                \"\uD83C\uDF5D\"\n            ],\n            [\n                \"\uD83C\uDF5C\"\n            ],\n            [\n                \"\uD83C\uDF72\"\n            ],\n            [\n                \"\uD83C\uDF5B\"\n            ],\n            [\n                \"\uD83C\uDF63\"\n            ],\n            [\n                \"\uD83C\uDF71\"\n            ],\n            [\n                \"\uD83E\uDD5F\"\n            ],\n            [\n                \"\uD83C\uDF64\"\n            ],\n            [\n                \"\uD83C\uDF59\"\n            ],\n            [\n                \"\uD83C\uDF5A\"\n            ],\n            [\n                \"\uD83C\uDF58\"\n            ],\n            [\n                \"\uD83C\uDF65\"\n            ],\n            [\n                \"\uD83E\uDD60\"\n            ],\n            [\n                \"\uD83C\uDF62\"\n            ],\n            [\n                \"\uD83C\uDF61\"\n            ],\n            [\n                \"\uD83C\uDF67\"\n            ],\n            [\n                \"\uD83C\uDF68\"\n            ],\n            [\n                \"\uD83C\uDF66\"\n            ],\n            [\n                \"\uD83E\uDD67\"\n            ],\n            [\n                \"\uD83C\uDF70\"\n            ],\n            [\n                \"\uD83C\uDF82\"\n            ],\n            [\n                \"\uD83C\uDF6E\"\n            ],\n            [\n                \"\uD83C\uDF6D\"\n            ],\n            [\n                \"\uD83C\uDF6C\"\n            ],\n            [\n                \"\uD83C\uDF6B\"\n            ],\n            [\n                \"\uD83C\uDF7F\"\n            ],\n            [\n                \"\uD83C\uDF69\"\n            ],\n            [\n                \"\uD83C\uDF6A\"\n            ],\n            [\n                \"\uD83C\uDF30\"\n            ],\n            [\n                \"\uD83E\uDD5C\"\n            ],\n            [\n                \"\uD83C\uDF6F\"\n            ],\n            [\n                \"\uD83E\uDD5B\"\n            ],\n            [\n                \"\uD83C\uDF7C\"\n            ],\n            [\n                \"\u2615\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDF75\"\n            ],\n            [\n                \"\uD83E\uDD64\"\n            ],\n            [\n                \"\uD83C\uDF76\"\n            ],\n            [\n                \"\uD83C\uDF7A\"\n            ],\n            [\n                \"\uD83C\uDF7B\"\n            ],\n            [\n                \"\uD83E\uDD42\"\n            ],\n            [\n                \"\uD83C\uDF77\"\n            ],\n            [\n                \"\uD83E\uDD43\"\n            ],\n            [\n                \"\uD83C\uDF78\"\n            ],\n            [\n                \"\uD83C\uDF79\"\n            ],\n            [\n                \"\uD83C\uDF7E\"\n            ],\n            [\n                \"\uD83E\uDD44\"\n            ],\n            [\n                \"\uD83C\uDF74\"\n            ],\n            [\n                \"\uD83C\uDF7D\"\n            ],\n            [\n                \"\uD83E\uDD63\"\n            ],\n            [\n                \"\uD83E\uDD61\"\n            ],\n            [\n                \"\uD83E\uDD62\"\n            ]\n        ],\n        \"type\": \"foodAndDrink\"\n    },\n    {\n        \"emojis\": [\n            [\n                \"\u26BD\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDFC0\"\n            ],\n            [\n                \"\uD83C\uDFC8\"\n            ],\n            [\n                \"\u26BE\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDFBE\"\n            ],\n            [\n                \"\uD83C\uDFD0\"\n            ],\n            [\n                \"\uD83C\uDFC9\"\n            ],\n            [\n                \"\uD83C\uDFB1\"\n            ],\n            [\n                \"\uD83C\uDFD3\"\n            ],\n            [\n                \"\uD83C\uDFF8\"\n            ],\n            [\n                \"\uD83E\uDD45\"\n            ],\n            [\n                \"\uD83C\uDFD2\"\n            ],\n            [\n                \"\uD83C\uDFD1\"\n            ],\n            [\n                \"\uD83C\uDFCF\"\n            ],\n            [\n                \"\u26F3\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDFF9\"\n            ],\n            [\n                \"\uD83C\uDFA3\"\n            ],\n            [\n                \"\uD83E\uDD4A\"\n            ],\n            [\n                \"\uD83E\uDD4B\"\n            ],\n            [\n                \"\uD83C\uDFBD\"\n            ],\n            [\n                \"\u26F8\"\n            ],\n            [\n                \"\uD83E\uDD4C\"\n            ],\n            [\n                \"\uD83D\uDEF7\"\n            ],\n            [\n                \"\uD83C\uDFBF\"\n            ],\n            [\n                \"\u26F7\"\n            ],\n            [\n                \"\uD83C\uDFC2\"\n            ],\n            [\n                \"\uD83C\uDFCB\uFE0F\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFCB\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFCB\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFCB\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFCB\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFCB\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDFCB\uFE0F\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFCB\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFCB\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFCB\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFCB\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFCB\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDD3C\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDD3C\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDD38\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD38\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD38\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD38\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD38\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD38\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDD38\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD38\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD38\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD38\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD38\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD38\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\u26F9\uFE0F\u200D\u2640\uFE0F\",\n                \"\u26F9\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\u26F9\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\u26F9\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\u26F9\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\u26F9\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\u26F9\uFE0F\u200D\u2642\uFE0F\",\n                \"\u26F9\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\u26F9\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\u26F9\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\u26F9\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\u26F9\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDD3A\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDD3E\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD3E\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD3E\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD3E\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD3E\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD3E\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDD3E\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD3E\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD3E\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD3E\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD3E\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD3E\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDFCC\uFE0F\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFCC\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFCC\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFCC\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFCC\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFCC\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDFCC\uFE0F\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFCC\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFCC\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFCC\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFCC\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFCC\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDFC7\",\n                \"\uD83C\uDFC7\uD83C\uDFFB\",\n                \"\uD83C\uDFC7\uD83C\uDFFC\",\n                \"\uD83C\uDFC7\uD83C\uDFFD\",\n                \"\uD83C\uDFC7\uD83C\uDFFE\",\n                \"\uD83C\uDFC7\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83E\uDDD8\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDD8\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDD8\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDD8\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDD8\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDD8\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDD8\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDD8\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDD8\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDD8\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDD8\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDD8\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDFC4\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFC4\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFC4\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFC4\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFC4\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFC4\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDFC4\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFC4\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFC4\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFC4\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFC4\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFC4\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDFCA\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFCA\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFCA\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFCA\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFCA\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83C\uDFCA\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDFCA\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFCA\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFCA\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFCA\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFCA\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83C\uDFCA\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDD3D\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD3D\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD3D\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD3D\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD3D\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD3D\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDD3D\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD3D\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD3D\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD3D\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD3D\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD3D\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDEA3\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEA3\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEA3\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEA3\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEA3\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEA3\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDEA3\u200D\u2642\uFE0F\",\n                \"\uD83D\uDEA3\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83D\uDEA3\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83D\uDEA3\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83D\uDEA3\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83D\uDEA3\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDD7\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDD7\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDD7\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDD7\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDD7\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83E\uDDD7\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDD7\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDD7\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDD7\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDD7\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDD7\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83E\uDDD7\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDEB5\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEB5\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEB5\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEB5\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEB5\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEB5\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDEB5\u200D\u2642\uFE0F\",\n                \"\uD83D\uDEB5\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83D\uDEB5\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83D\uDEB5\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83D\uDEB5\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83D\uDEB5\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDEB4\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEB4\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEB4\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEB4\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEB4\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83D\uDEB4\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDEB4\u200D\u2642\uFE0F\",\n                \"\uD83D\uDEB4\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83D\uDEB4\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83D\uDEB4\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83D\uDEB4\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83D\uDEB4\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDFC6\"\n            ],\n            [\n                \"\uD83E\uDD47\"\n            ],\n            [\n                \"\uD83E\uDD48\"\n            ],\n            [\n                \"\uD83E\uDD49\"\n            ],\n            [\n                \"\uD83C\uDFC5\"\n            ],\n            [\n                \"\uD83C\uDF96\"\n            ],\n            [\n                \"\uD83C\uDFF5\"\n            ],\n            [\n                \"\uD83C\uDF97\"\n            ],\n            [\n                \"\uD83C\uDFAB\"\n            ],\n            [\n                \"\uD83C\uDF9F\"\n            ],\n            [\n                \"\uD83C\uDFAA\"\n            ],\n            [\n                \"\uD83E\uDD39\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD39\uD83C\uDFFB\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD39\uD83C\uDFFC\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD39\uD83C\uDFFD\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD39\uD83C\uDFFE\u200D\u2640\uFE0F\",\n                \"\uD83E\uDD39\uD83C\uDFFF\u200D\u2640\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDD39\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD39\uD83C\uDFFB\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD39\uD83C\uDFFC\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD39\uD83C\uDFFD\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD39\uD83C\uDFFE\u200D\u2642\uFE0F\",\n                \"\uD83E\uDD39\uD83C\uDFFF\u200D\u2642\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDFAD\"\n            ],\n            [\n                \"\uD83C\uDFA8\"\n            ],\n            [\n                \"\uD83C\uDFAC\"\n            ],\n            [\n                \"\uD83C\uDFA4\"\n            ],\n            [\n                \"\uD83C\uDFA7\"\n            ],\n            [\n                \"\uD83C\uDFBC\"\n            ],\n            [\n                \"\uD83C\uDFB9\"\n            ],\n            [\n                \"\uD83E\uDD41\"\n            ],\n            [\n                \"\uD83C\uDFB7\"\n            ],\n            [\n                \"\uD83C\uDFBA\"\n            ],\n            [\n                \"\uD83C\uDFB8\"\n            ],\n            [\n                \"\uD83C\uDFBB\"\n            ],\n            [\n                \"\uD83C\uDFB2\"\n            ],\n            [\n                \"\uD83C\uDFAF\"\n            ],\n            [\n                \"\uD83C\uDFB3\"\n            ],\n            [\n                \"\uD83C\uDFAE\"\n            ],\n            [\n                \"\uD83C\uDFB0\"\n            ]\n        ],\n        \"type\": \"activity\"\n    },\n    {\n        \"emojis\": [\n            [\n                \"\uD83D\uDE97\"\n            ],\n            [\n                \"\uD83D\uDE95\"\n            ],\n            [\n                \"\uD83D\uDE99\"\n            ],\n            [\n                \"\uD83D\uDE8C\"\n            ],\n            [\n                \"\uD83D\uDE8E\"\n            ],\n            [\n                \"\uD83C\uDFCE\"\n            ],\n            [\n                \"\uD83D\uDE93\"\n            ],\n            [\n                \"\uD83D\uDE91\"\n            ],\n            [\n                \"\uD83D\uDE92\"\n            ],\n            [\n                \"\uD83D\uDE90\"\n            ],\n            [\n                \"\uD83D\uDE9A\"\n            ],\n            [\n                \"\uD83D\uDE9B\"\n            ],\n            [\n                \"\uD83D\uDE9C\"\n            ],\n            [\n                \"\uD83D\uDEF4\"\n            ],\n            [\n                \"\uD83D\uDEB2\"\n            ],\n            [\n                \"\uD83D\uDEF5\"\n            ],\n            [\n                \"\uD83C\uDFCD\"\n            ],\n            [\n                \"\uD83D\uDEA8\"\n            ],\n            [\n                \"\uD83D\uDE94\"\n            ],\n            [\n                \"\uD83D\uDE8D\"\n            ],\n            [\n                \"\uD83D\uDE98\"\n            ],\n            [\n                \"\uD83D\uDE96\"\n            ],\n            [\n                \"\uD83D\uDEA1\"\n            ],\n            [\n                \"\uD83D\uDEA0\"\n            ],\n            [\n                \"\uD83D\uDE9F\"\n            ],\n            [\n                \"\uD83D\uDE83\"\n            ],\n            [\n                \"\uD83D\uDE8B\"\n            ],\n            [\n                \"\uD83D\uDE9E\"\n            ],\n            [\n                \"\uD83D\uDE9D\"\n            ],\n            [\n                \"\uD83D\uDE84\"\n            ],\n            [\n                \"\uD83D\uDE85\"\n            ],\n            [\n                \"\uD83D\uDE88\"\n            ],\n            [\n                \"\uD83D\uDE82\"\n            ],\n            [\n                \"\uD83D\uDE86\"\n            ],\n            [\n                \"\uD83D\uDE87\"\n            ],\n            [\n                \"\uD83D\uDE8A\"\n            ],\n            [\n                \"\uD83D\uDE89\"\n            ],\n            [\n                \"\u2708\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDEEB\"\n            ],\n            [\n                \"\uD83D\uDEEC\"\n            ],\n            [\n                \"\uD83D\uDEE9\"\n            ],\n            [\n                \"\uD83D\uDCBA\"\n            ],\n            [\n                \"\uD83D\uDEF0\"\n            ],\n            [\n                \"\uD83D\uDE80\"\n            ],\n            [\n                \"\uD83D\uDEF8\"\n            ],\n            [\n                \"\uD83D\uDE81\"\n            ],\n            [\n                \"\uD83D\uDEF6\"\n            ],\n            [\n                \"\u26F5\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDEA4\"\n            ],\n            [\n                \"\uD83D\uDEE5\"\n            ],\n            [\n                \"\uD83D\uDEF3\"\n            ],\n            [\n                \"\u26F4\"\n            ],\n            [\n                \"\uD83D\uDEA2\"\n            ],\n            [\n                \"\u2693\uFE0F\"\n            ],\n            [\n                \"\u26FD\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDEA7\"\n            ],\n            [\n                \"\uD83D\uDEA6\"\n            ],\n            [\n                \"\uD83D\uDEA5\"\n            ],\n            [\n                \"\uD83D\uDE8F\"\n            ],\n            [\n                \"\uD83D\uDDFA\"\n            ],\n            [\n                \"\uD83D\uDDFF\"\n            ],\n            [\n                \"\uD83D\uDDFD\"\n            ],\n            [\n                \"\uD83D\uDDFC\"\n            ],\n            [\n                \"\uD83C\uDFF0\"\n            ],\n            [\n                \"\uD83C\uDFEF\"\n            ],\n            [\n                \"\uD83C\uDFDF\"\n            ],\n            [\n                \"\uD83C\uDFA1\"\n            ],\n            [\n                \"\uD83C\uDFA2\"\n            ],\n            [\n                \"\uD83C\uDFA0\"\n            ],\n            [\n                \"\u26F2\uFE0F\"\n            ],\n            [\n                \"\u26F1\"\n            ],\n            [\n                \"\uD83C\uDFD6\"\n            ],\n            [\n                \"\uD83C\uDFDD\"\n            ],\n            [\n                \"\uD83C\uDFDC\"\n            ],\n            [\n                \"\uD83C\uDF0B\"\n            ],\n            [\n                \"\u26F0\"\n            ],\n            [\n                \"\uD83C\uDFD4\"\n            ],\n            [\n                \"\uD83D\uDDFB\"\n            ],\n            [\n                \"\uD83C\uDFD5\"\n            ],\n            [\n                \"\u26FA\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDFE0\"\n            ],\n            [\n                \"\uD83C\uDFE1\"\n            ],\n            [\n                \"\uD83C\uDFD8\"\n            ],\n            [\n                \"\uD83C\uDFDA\"\n            ],\n            [\n                \"\uD83C\uDFD7\"\n            ],\n            [\n                \"\uD83C\uDFED\"\n            ],\n            [\n                \"\uD83C\uDFE2\"\n            ],\n            [\n                \"\uD83C\uDFEC\"\n            ],\n            [\n                \"\uD83C\uDFE3\"\n            ],\n            [\n                \"\uD83C\uDFE4\"\n            ],\n            [\n                \"\uD83C\uDFE5\"\n            ],\n            [\n                \"\uD83C\uDFE6\"\n            ],\n            [\n                \"\uD83C\uDFE8\"\n            ],\n            [\n                \"\uD83C\uDFEA\"\n            ],\n            [\n                \"\uD83C\uDFEB\"\n            ],\n            [\n                \"\uD83C\uDFE9\"\n            ],\n            [\n                \"\uD83D\uDC92\"\n            ],\n            [\n                \"\uD83C\uDFDB\"\n            ],\n            [\n                \"\u26EA\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDD4C\"\n            ],\n            [\n                \"\uD83D\uDD4D\"\n            ],\n            [\n                \"\uD83D\uDD4B\"\n            ],\n            [\n                \"\u26E9\"\n            ],\n            [\n                \"\uD83D\uDEE4\"\n            ],\n            [\n                \"\uD83D\uDEE3\"\n            ],\n            [\n                \"\uD83D\uDDFE\"\n            ],\n            [\n                \"\uD83C\uDF91\"\n            ],\n            [\n                \"\uD83C\uDFDE\"\n            ],\n            [\n                \"\uD83C\uDF05\"\n            ],\n            [\n                \"\uD83C\uDF04\"\n            ],\n            [\n                \"\uD83C\uDF20\"\n            ],\n            [\n                \"\uD83C\uDF87\"\n            ],\n            [\n                \"\uD83C\uDF86\"\n            ],\n            [\n                \"\uD83C\uDF07\"\n            ],\n            [\n                \"\uD83C\uDF06\"\n            ],\n            [\n                \"\uD83C\uDFD9\"\n            ],\n            [\n                \"\uD83C\uDF03\"\n            ],\n            [\n                \"\uD83C\uDF0C\"\n            ],\n            [\n                \"\uD83C\uDF09\"\n            ],\n            [\n                \"\uD83C\uDF01\"\n            ]\n        ],\n        \"type\": \"travelAndPlaces\"\n    },\n    {\n        \"emojis\": [\n            [\n                \"\u231A\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDCF1\"\n            ],\n            [\n                \"\uD83D\uDCF2\"\n            ],\n            [\n                \"\uD83D\uDCBB\"\n            ],\n            [\n                \"\u2328\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDDA5\"\n            ],\n            [\n                \"\uD83D\uDDA8\"\n            ],\n            [\n                \"\uD83D\uDDB1\"\n            ],\n            [\n                \"\uD83D\uDDB2\"\n            ],\n            [\n                \"\uD83D\uDD79\"\n            ],\n            [\n                \"\uD83D\uDDDC\"\n            ],\n            [\n                \"\uD83D\uDCBD\"\n            ],\n            [\n                \"\uD83D\uDCBE\"\n            ],\n            [\n                \"\uD83D\uDCBF\"\n            ],\n            [\n                \"\uD83D\uDCC0\"\n            ],\n            [\n                \"\uD83D\uDCFC\"\n            ],\n            [\n                \"\uD83D\uDCF7\"\n            ],\n            [\n                \"\uD83D\uDCF8\"\n            ],\n            [\n                \"\uD83D\uDCF9\"\n            ],\n            [\n                \"\uD83C\uDFA5\"\n            ],\n            [\n                \"\uD83D\uDCFD\"\n            ],\n            [\n                \"\uD83C\uDF9E\"\n            ],\n            [\n                \"\uD83D\uDCDE\"\n            ],\n            [\n                \"\u260E\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDCDF\"\n            ],\n            [\n                \"\uD83D\uDCE0\"\n            ],\n            [\n                \"\uD83D\uDCFA\"\n            ],\n            [\n                \"\uD83D\uDCFB\"\n            ],\n            [\n                \"\uD83C\uDF99\"\n            ],\n            [\n                \"\uD83C\uDF9A\"\n            ],\n            [\n                \"\uD83C\uDF9B\"\n            ],\n            [\n                \"\u23F1\"\n            ],\n            [\n                \"\u23F2\"\n            ],\n            [\n                \"\u23F0\"\n            ],\n            [\n                \"\uD83D\uDD70\"\n            ],\n            [\n                \"\u231B\uFE0F\"\n            ],\n            [\n                \"\u23F3\"\n            ],\n            [\n                \"\uD83D\uDCE1\"\n            ],\n            [\n                \"\uD83D\uDD0B\"\n            ],\n            [\n                \"\uD83D\uDD0C\"\n            ],\n            [\n                \"\uD83D\uDCA1\"\n            ],\n            [\n                \"\uD83D\uDD26\"\n            ],\n            [\n                \"\uD83D\uDD6F\"\n            ],\n            [\n                \"\uD83D\uDDD1\"\n            ],\n            [\n                \"\uD83D\uDEE2\"\n            ],\n            [\n                \"\uD83D\uDCB8\"\n            ],\n            [\n                \"\uD83D\uDCB5\"\n            ],\n            [\n                \"\uD83D\uDCB4\"\n            ],\n            [\n                \"\uD83D\uDCB6\"\n            ],\n            [\n                \"\uD83D\uDCB7\"\n            ],\n            [\n                \"\uD83D\uDCB0\"\n            ],\n            [\n                \"\uD83D\uDCB3\"\n            ],\n            [\n                \"\uD83D\uDC8E\"\n            ],\n            [\n                \"\u2696\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDD27\"\n            ],\n            [\n                \"\uD83D\uDD28\"\n            ],\n            [\n                \"\u2692\"\n            ],\n            [\n                \"\uD83D\uDEE0\"\n            ],\n            [\n                \"\u26CF\"\n            ],\n            [\n                \"\uD83D\uDD29\"\n            ],\n            [\n                \"\u2699\uFE0F\"\n            ],\n            [\n                \"\u26D3\"\n            ],\n            [\n                \"\uD83D\uDD2B\"\n            ],\n            [\n                \"\uD83D\uDCA3\"\n            ],\n            [\n                \"\uD83D\uDD2A\"\n            ],\n            [\n                \"\uD83D\uDDE1\"\n            ],\n            [\n                \"\u2694\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDEE1\"\n            ],\n            [\n                \"\uD83D\uDEAC\"\n            ],\n            [\n                \"\u26B0\uFE0F\"\n            ],\n            [\n                \"\u26B1\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDFFA\"\n            ],\n            [\n                \"\uD83D\uDD2E\"\n            ],\n            [\n                \"\uD83D\uDCFF\"\n            ],\n            [\n                \"\uD83D\uDC88\"\n            ],\n            [\n                \"\u2697\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDD2D\"\n            ],\n            [\n                \"\uD83D\uDD2C\"\n            ],\n            [\n                \"\uD83D\uDD73\"\n            ],\n            [\n                \"\uD83D\uDC8A\"\n            ],\n            [\n                \"\uD83D\uDC89\"\n            ],\n            [\n                \"\uD83C\uDF21\"\n            ],\n            [\n                \"\uD83D\uDEBD\"\n            ],\n            [\n                \"\uD83D\uDEB0\"\n            ],\n            [\n                \"\uD83D\uDEBF\"\n            ],\n            [\n                \"\uD83D\uDEC1\"\n            ],\n            [\n                \"\uD83D\uDEC0\"\n            ],\n            [\n                \"\uD83D\uDEC0\uD83C\uDFFB\"\n            ],\n            [\n                \"\uD83D\uDEC0\uD83C\uDFFC\"\n            ],\n            [\n                \"\uD83D\uDEC0\uD83C\uDFFD\"\n            ],\n            [\n                \"\uD83D\uDEC0\uD83C\uDFFE\"\n            ],\n            [\n                \"\uD83D\uDEC0\uD83C\uDFFF\"\n            ],\n            [\n                \"\uD83D\uDECE\"\n            ],\n            [\n                \"\uD83D\uDD11\"\n            ],\n            [\n                \"\uD83D\uDDDD\"\n            ],\n            [\n                \"\uD83D\uDEAA\"\n            ],\n            [\n                \"\uD83D\uDECB\"\n            ],\n            [\n                \"\uD83D\uDECF\"\n            ],\n            [\n                \"\uD83D\uDECC\"\n            ],\n            [\n                \"\uD83D\uDDBC\"\n            ],\n            [\n                \"\uD83D\uDECD\"\n            ],\n            [\n                \"\uD83D\uDED2\"\n            ],\n            [\n                \"\uD83C\uDF81\"\n            ],\n            [\n                \"\uD83C\uDF88\"\n            ],\n            [\n                \"\uD83C\uDF8F\"\n            ],\n            [\n                \"\uD83C\uDF80\"\n            ],\n            [\n                \"\uD83C\uDF8A\"\n            ],\n            [\n                \"\uD83C\uDF89\"\n            ],\n            [\n                \"\uD83C\uDF8E\"\n            ],\n            [\n                \"\uD83C\uDFEE\"\n            ],\n            [\n                \"\uD83C\uDF90\"\n            ],\n            [\n                \"\u2709\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDCE9\"\n            ],\n            [\n                \"\uD83D\uDCE8\"\n            ],\n            [\n                \"\uD83D\uDCE7\"\n            ],\n            [\n                \"\uD83D\uDC8C\"\n            ],\n            [\n                \"\uD83D\uDCE5\"\n            ],\n            [\n                \"\uD83D\uDCE4\"\n            ],\n            [\n                \"\uD83D\uDCE6\"\n            ],\n            [\n                \"\uD83C\uDFF7\"\n            ],\n            [\n                \"\uD83D\uDCEA\"\n            ],\n            [\n                \"\uD83D\uDCEB\"\n            ],\n            [\n                \"\uD83D\uDCEC\"\n            ],\n            [\n                \"\uD83D\uDCED\"\n            ],\n            [\n                \"\uD83D\uDCEE\"\n            ],\n            [\n                \"\uD83D\uDCEF\"\n            ],\n            [\n                \"\uD83D\uDCDC\"\n            ],\n            [\n                \"\uD83D\uDCC3\"\n            ],\n            [\n                \"\uD83D\uDCC4\"\n            ],\n            [\n                \"\uD83D\uDCD1\"\n            ],\n            [\n                \"\uD83D\uDCCA\"\n            ],\n            [\n                \"\uD83D\uDCC8\"\n            ],\n            [\n                \"\uD83D\uDCC9\"\n            ],\n            [\n                \"\uD83D\uDDD2\"\n            ],\n            [\n                \"\uD83D\uDDD3\"\n            ],\n            [\n                \"\uD83D\uDCC6\"\n            ],\n            [\n                \"\uD83D\uDCC5\"\n            ],\n            [\n                \"\uD83D\uDCC7\"\n            ],\n            [\n                \"\uD83D\uDDC3\"\n            ],\n            [\n                \"\uD83D\uDDF3\"\n            ],\n            [\n                \"\uD83D\uDDC4\"\n            ],\n            [\n                \"\uD83D\uDCCB\"\n            ],\n            [\n                \"\uD83D\uDCC1\"\n            ],\n            [\n                \"\uD83D\uDCC2\"\n            ],\n            [\n                \"\uD83D\uDDC2\"\n            ],\n            [\n                \"\uD83D\uDDDE\"\n            ],\n            [\n                \"\uD83D\uDCF0\"\n            ],\n            [\n                \"\uD83D\uDCD3\"\n            ],\n            [\n                \"\uD83D\uDCD4\"\n            ],\n            [\n                \"\uD83D\uDCD2\"\n            ],\n            [\n                \"\uD83D\uDCD5\"\n            ],\n            [\n                \"\uD83D\uDCD7\"\n            ],\n            [\n                \"\uD83D\uDCD8\"\n            ],\n            [\n                \"\uD83D\uDCD9\"\n            ],\n            [\n                \"\uD83D\uDCDA\"\n            ],\n            [\n                \"\uD83D\uDCD6\"\n            ],\n            [\n                \"\uD83D\uDD16\"\n            ],\n            [\n                \"\uD83D\uDD17\"\n            ],\n            [\n                \"\uD83D\uDCCE\"\n            ],\n            [\n                \"\uD83D\uDD87\"\n            ],\n            [\n                \"\uD83D\uDCD0\"\n            ],\n            [\n                \"\uD83D\uDCCF\"\n            ],\n            [\n                \"\uD83D\uDCCC\"\n            ],\n            [\n                \"\uD83D\uDCCD\"\n            ],\n            [\n                \"\u2702\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDD8A\"\n            ],\n            [\n                \"\uD83D\uDD8B\"\n            ],\n            [\n                \"\u2712\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDD8C\"\n            ],\n            [\n                \"\uD83D\uDD8D\"\n            ],\n            [\n                \"\uD83D\uDCDD\"\n            ],\n            [\n                \"\u270F\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDD0D\"\n            ],\n            [\n                \"\uD83D\uDD0E\"\n            ],\n            [\n                \"\uD83D\uDD0F\"\n            ],\n            [\n                \"\uD83D\uDD10\"\n            ],\n            [\n                \"\uD83D\uDD12\"\n            ],\n            [\n                \"\uD83D\uDD13\"\n            ]\n        ],\n        \"type\": \"objects\"\n    },\n    {\n        \"emojis\": [\n            [\n                \"\u2764\uFE0F\"\n            ],\n            [\n                \"\uD83E\uDDE1\"\n            ],\n            [\n                \"\uD83D\uDC9B\"\n            ],\n            [\n                \"\uD83D\uDC9A\"\n            ],\n            [\n                \"\uD83D\uDC99\"\n            ],\n            [\n                \"\uD83D\uDC9C\"\n            ],\n            [\n                \"\uD83D\uDDA4\"\n            ],\n            [\n                \"\uD83D\uDC94\"\n            ],\n            [\n                \"\u2763\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDC95\"\n            ],\n            [\n                \"\uD83D\uDC9E\"\n            ],\n            [\n                \"\uD83D\uDC93\"\n            ],\n            [\n                \"\uD83D\uDC97\"\n            ],\n            [\n                \"\uD83D\uDC96\"\n            ],\n            [\n                \"\uD83D\uDC98\"\n            ],\n            [\n                \"\uD83D\uDC9D\"\n            ],\n            [\n                \"\uD83D\uDC9F\"\n            ],\n            [\n                \"\u262E\uFE0F\"\n            ],\n            [\n                \"\u271D\uFE0F\"\n            ],\n            [\n                \"\u262A\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDD49\"\n            ],\n            [\n                \"\u2638\uFE0F\"\n            ],\n            [\n                \"\u2721\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDD2F\"\n            ],\n            [\n                \"\uD83D\uDD4E\"\n            ],\n            [\n                \"\u262F\uFE0F\"\n            ],\n            [\n                \"\u2626\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDED0\"\n            ],\n            [\n                \"\u26CE\"\n            ],\n            [\n                \"\u2648\uFE0F\"\n            ],\n            [\n                \"\u2649\uFE0F\"\n            ],\n            [\n                \"\u264A\uFE0F\"\n            ],\n            [\n                \"\u264B\uFE0F\"\n            ],\n            [\n                \"\u264C\uFE0F\"\n            ],\n            [\n                \"\u264D\uFE0F\"\n            ],\n            [\n                \"\u264E\uFE0F\"\n            ],\n            [\n                \"\u264F\uFE0F\"\n            ],\n            [\n                \"\u2650\uFE0F\"\n            ],\n            [\n                \"\u2651\uFE0F\"\n            ],\n            [\n                \"\u2652\uFE0F\"\n            ],\n            [\n                \"\u2653\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDD94\"\n            ],\n            [\n                \"\u269B\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDE51\"\n            ],\n            [\n                \"\u2622\uFE0F\"\n            ],\n            [\n                \"\u2623\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDCF4\"\n            ],\n            [\n                \"\uD83D\uDCF3\"\n            ],\n            [\n                \"\uD83C\uDE36\"\n            ],\n            [\n                \"\uD83C\uDE1A\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDE38\"\n            ],\n            [\n                \"\uD83C\uDE3A\"\n            ],\n            [\n                \"\uD83C\uDE37\uFE0F\"\n            ],\n            [\n                \"\u2734\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDD9A\"\n            ],\n            [\n                \"\uD83D\uDCAE\"\n            ],\n            [\n                \"\uD83C\uDE50\"\n            ],\n            [\n                \"\u3299\uFE0F\"\n            ],\n            [\n                \"\u3297\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDE34\"\n            ],\n            [\n                \"\uD83C\uDE35\"\n            ],\n            [\n                \"\uD83C\uDE39\"\n            ],\n            [\n                \"\uD83C\uDE32\"\n            ],\n            [\n                \"\uD83C\uDD70\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDD71\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDD8E\"\n            ],\n            [\n                \"\uD83C\uDD91\"\n            ],\n            [\n                \"\uD83C\uDD7E\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDD98\"\n            ],\n            [\n                \"\u274C\"\n            ],\n            [\n                \"\u2B55\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDED1\"\n            ],\n            [\n                \"\u26D4\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDCDB\"\n            ],\n            [\n                \"\uD83D\uDEAB\"\n            ],\n            [\n                \"\uD83D\uDCAF\"\n            ],\n            [\n                \"\uD83D\uDCA2\"\n            ],\n            [\n                \"\u2668\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDEB7\"\n            ],\n            [\n                \"\uD83D\uDEAF\"\n            ],\n            [\n                \"\uD83D\uDEB3\"\n            ],\n            [\n                \"\uD83D\uDEB1\"\n            ],\n            [\n                \"\uD83D\uDD1E\"\n            ],\n            [\n                \"\uD83D\uDCF5\"\n            ],\n            [\n                \"\uD83D\uDEAD\"\n            ],\n            [\n                \"\u2757\uFE0F\"\n            ],\n            [\n                \"\u2755\"\n            ],\n            [\n                \"\u2753\"\n            ],\n            [\n                \"\u2754\"\n            ],\n            [\n                \"\u203C\uFE0F\"\n            ],\n            [\n                \"\u2049\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDD05\"\n            ],\n            [\n                \"\uD83D\uDD06\"\n            ],\n            [\n                \"\u303D\uFE0F\"\n            ],\n            [\n                \"\u26A0\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDEB8\"\n            ],\n            [\n                \"\uD83D\uDD31\"\n            ],\n            [\n                \"\u269C\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDD30\"\n            ],\n            [\n                \"\u267B\uFE0F\"\n            ],\n            [\n                \"\u2705\"\n            ],\n            [\n                \"\uD83C\uDE2F\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDCB9\"\n            ],\n            [\n                \"\u2747\uFE0F\"\n            ],\n            [\n                \"\u2733\uFE0F\"\n            ],\n            [\n                \"\u274E\"\n            ],\n            [\n                \"\uD83C\uDF10\"\n            ],\n            [\n                \"\uD83D\uDCA0\"\n            ],\n            [\n                \"\u24C2\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDF00\"\n            ],\n            [\n                \"\uD83D\uDCA4\"\n            ],\n            [\n                \"\uD83C\uDFE7\"\n            ],\n            [\n                \"\uD83D\uDEBE\"\n            ],\n            [\n                \"\u267F\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDD7F\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDE33\"\n            ],\n            [\n                \"\uD83C\uDE02\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDEC2\"\n            ],\n            [\n                \"\uD83D\uDEC3\"\n            ],\n            [\n                \"\uD83D\uDEC4\"\n            ],\n            [\n                \"\uD83D\uDEC5\"\n            ],\n            [\n                \"\uD83D\uDEB9\"\n            ],\n            [\n                \"\uD83D\uDEBA\"\n            ],\n            [\n                \"\uD83D\uDEBC\"\n            ],\n            [\n                \"\uD83D\uDEBB\"\n            ],\n            [\n                \"\uD83D\uDEAE\"\n            ],\n            [\n                \"\uD83C\uDFA6\"\n            ],\n            [\n                \"\uD83D\uDCF6\"\n            ],\n            [\n                \"\uD83C\uDE01\"\n            ],\n            [\n                \"\uD83D\uDD23\"\n            ],\n            [\n                \"\u2139\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDD24\"\n            ],\n            [\n                \"\uD83D\uDD21\"\n            ],\n            [\n                \"\uD83D\uDD20\"\n            ],\n            [\n                \"\uD83C\uDD96\"\n            ],\n            [\n                \"\uD83C\uDD97\"\n            ],\n            [\n                \"\uD83C\uDD99\"\n            ],\n            [\n                \"\uD83C\uDD92\"\n            ],\n            [\n                \"\uD83C\uDD95\"\n            ],\n            [\n                \"\uD83C\uDD93\"\n            ],\n            [\n                \"0\uFE0F\u20E3\"\n            ],\n            [\n                \"1\uFE0F\u20E3\"\n            ],\n            [\n                \"2\uFE0F\u20E3\"\n            ],\n            [\n                \"3\uFE0F\u20E3\"\n            ],\n            [\n                \"4\uFE0F\u20E3\"\n            ],\n            [\n                \"5\uFE0F\u20E3\"\n            ],\n            [\n                \"6\uFE0F\u20E3\"\n            ],\n            [\n                \"7\uFE0F\u20E3\"\n            ],\n            [\n                \"8\uFE0F\u20E3\"\n            ],\n            [\n                \"9\uFE0F\u20E3\"\n            ],\n            [\n                \"\uD83D\uDD1F\"\n            ],\n            [\n                \"\uD83D\uDD22\"\n            ],\n            [\n                \"#\uFE0F\u20E3\"\n            ],\n            [\n                \"*\uFE0F\u20E3\"\n            ],\n            [\n                \"\u23CF\uFE0F\"\n            ],\n            [\n                \"\u25B6\uFE0F\"\n            ],\n            [\n                \"\u23F8\"\n            ],\n            [\n                \"\u23EF\"\n            ],\n            [\n                \"\u23F9\"\n            ],\n            [\n                \"\u23FA\"\n            ],\n            [\n                \"\u23ED\"\n            ],\n            [\n                \"\u23EE\"\n            ],\n            [\n                \"\u23E9\"\n            ],\n            [\n                \"\u23EA\"\n            ],\n            [\n                \"\u23EB\"\n            ],\n            [\n                \"\u23EC\"\n            ],\n            [\n                \"\u25C0\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDD3C\"\n            ],\n            [\n                \"\uD83D\uDD3D\"\n            ],\n            [\n                \"\u27A1\uFE0F\"\n            ],\n            [\n                \"\u2B05\uFE0F\"\n            ],\n            [\n                \"\u2B06\uFE0F\"\n            ],\n            [\n                \"\u2B07\uFE0F\"\n            ],\n            [\n                \"\u2197\uFE0F\"\n            ],\n            [\n                \"\u2198\uFE0F\"\n            ],\n            [\n                \"\u2199\uFE0F\"\n            ],\n            [\n                \"\u2196\uFE0F\"\n            ],\n            [\n                \"\u2195\uFE0F\"\n            ],\n            [\n                \"\u2194\uFE0F\"\n            ],\n            [\n                \"\u21AA\uFE0F\"\n            ],\n            [\n                \"\u21A9\uFE0F\"\n            ],\n            [\n                \"\u2934\uFE0F\"\n            ],\n            [\n                \"\u2935\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDD00\"\n            ],\n            [\n                \"\uD83D\uDD01\"\n            ],\n            [\n                \"\uD83D\uDD02\"\n            ],\n            [\n                \"\uD83D\uDD04\"\n            ],\n            [\n                \"\uD83D\uDD03\"\n            ],\n            [\n                \"\uD83C\uDFB5\"\n            ],\n            [\n                \"\uD83C\uDFB6\"\n            ],\n            [\n                \"\u2795\"\n            ],\n            [\n                \"\u2796\"\n            ],\n            [\n                \"\u2797\"\n            ],\n            [\n                \"\u2716\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDCB2\"\n            ],\n            [\n                \"\uD83D\uDCB1\"\n            ],\n            [\n                \"\u2122\uFE0F\"\n            ],\n            [\n                \"\xA9\uFE0F\"\n            ],\n            [\n                \"\xAE\uFE0F\"\n            ],\n            [\n                \"\u3030\uFE0F\"\n            ],\n            [\n                \"\u27B0\"\n            ],\n            [\n                \"\u27BF\"\n            ],\n            [\n                \"\uD83D\uDD1A\"\n            ],\n            [\n                \"\uD83D\uDD19\"\n            ],\n            [\n                \"\uD83D\uDD1B\"\n            ],\n            [\n                \"\uD83D\uDD1D\"\n            ],\n            [\n                \"\uD83D\uDD1C\"\n            ],\n            [\n                \"\u2714\uFE0F\"\n            ],\n            [\n                \"\u2611\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDD18\"\n            ],\n            [\n                \"\u26AA\uFE0F\"\n            ],\n            [\n                \"\u26AB\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDD34\"\n            ],\n            [\n                \"\uD83D\uDD35\"\n            ],\n            [\n                \"\uD83D\uDD3A\"\n            ],\n            [\n                \"\uD83D\uDD3B\"\n            ],\n            [\n                \"\uD83D\uDD38\"\n            ],\n            [\n                \"\uD83D\uDD39\"\n            ],\n            [\n                \"\uD83D\uDD36\"\n            ],\n            [\n                \"\uD83D\uDD37\"\n            ],\n            [\n                \"\uD83D\uDD33\"\n            ],\n            [\n                \"\uD83D\uDD32\"\n            ],\n            [\n                \"\u25AA\uFE0F\"\n            ],\n            [\n                \"\u25AB\uFE0F\"\n            ],\n            [\n                \"\u25FE\uFE0F\"\n            ],\n            [\n                \"\u25FD\uFE0F\"\n            ],\n            [\n                \"\u25FC\uFE0F\"\n            ],\n            [\n                \"\u25FB\uFE0F\"\n            ],\n            [\n                \"\u2B1B\uFE0F\"\n            ],\n            [\n                \"\u2B1C\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDD08\"\n            ],\n            [\n                \"\uD83D\uDD07\"\n            ],\n            [\n                \"\uD83D\uDD09\"\n            ],\n            [\n                \"\uD83D\uDD0A\"\n            ],\n            [\n                \"\uD83D\uDD14\"\n            ],\n            [\n                \"\uD83D\uDD15\"\n            ],\n            [\n                \"\uD83D\uDCE3\"\n            ],\n            [\n                \"\uD83D\uDCE2\"\n            ],\n            [\n                \"\uD83D\uDC41\u200D\uD83D\uDDE8\"\n            ],\n            [\n                \"\uD83D\uDCAC\"\n            ],\n            [\n                \"\uD83D\uDCAD\"\n            ],\n            [\n                \"\uD83D\uDDEF\"\n            ],\n            [\n                \"\u2660\uFE0F\"\n            ],\n            [\n                \"\u2663\uFE0F\"\n            ],\n            [\n                \"\u2665\uFE0F\"\n            ],\n            [\n                \"\u2666\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDCCF\"\n            ],\n            [\n                \"\uD83C\uDFB4\"\n            ],\n            [\n                \"\uD83C\uDC04\uFE0F\"\n            ],\n            [\n                \"\uD83D\uDD50\"\n            ],\n            [\n                \"\uD83D\uDD51\"\n            ],\n            [\n                \"\uD83D\uDD52\"\n            ],\n            [\n                \"\uD83D\uDD53\"\n            ],\n            [\n                \"\uD83D\uDD54\"\n            ],\n            [\n                \"\uD83D\uDD55\"\n            ],\n            [\n                \"\uD83D\uDD56\"\n            ],\n            [\n                \"\uD83D\uDD57\"\n            ],\n            [\n                \"\uD83D\uDD58\"\n            ],\n            [\n                \"\uD83D\uDD59\"\n            ],\n            [\n                \"\uD83D\uDD5A\"\n            ],\n            [\n                \"\uD83D\uDD5B\"\n            ],\n            [\n                \"\uD83D\uDD5C\"\n            ],\n            [\n                \"\uD83D\uDD5D\"\n            ],\n            [\n                \"\uD83D\uDD5E\"\n            ],\n            [\n                \"\uD83D\uDD5F\"\n            ],\n            [\n                \"\uD83D\uDD60\"\n            ],\n            [\n                \"\uD83D\uDD61\"\n            ],\n            [\n                \"\uD83D\uDD62\"\n            ],\n            [\n                \"\uD83D\uDD63\"\n            ],\n            [\n                \"\uD83D\uDD64\"\n            ],\n            [\n                \"\uD83D\uDD65\"\n            ],\n            [\n                \"\uD83D\uDD66\"\n            ],\n            [\n                \"\uD83D\uDD67\"\n            ]\n        ],\n        \"type\": \"symbols\"\n    },\n    {\n        \"emojis\": [\n            [\n                \"\uD83C\uDFF3\uFE0F\"\n            ],\n            [\n                \"\uD83C\uDFF4\"\n            ],\n            [\n                \"\uD83C\uDFC1\"\n            ],\n            [\n                \"\uD83D\uDEA9\"\n            ],\n            [\n                \"\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08\"\n            ],\n            [\n                \"\uD83C\uDDE6\uD83C\uDDEB\"\n            ],\n            [\n                \"\uD83C\uDDE6\uD83C\uDDFD\"\n            ],\n            [\n                \"\uD83C\uDDE6\uD83C\uDDF1\"\n            ],\n            [\n                \"\uD83C\uDDE9\uD83C\uDDFF\"\n            ],\n            [\n                \"\uD83C\uDDE6\uD83C\uDDF8\"\n            ],\n            [\n                \"\uD83C\uDDE6\uD83C\uDDE9\"\n            ],\n            [\n                \"\uD83C\uDDE6\uD83C\uDDF4\"\n            ],\n            [\n                \"\uD83C\uDDE6\uD83C\uDDEE\"\n            ],\n            [\n                \"\uD83C\uDDE6\uD83C\uDDF6\"\n            ],\n            [\n                \"\uD83C\uDDE6\uD83C\uDDEC\"\n            ],\n            [\n                \"\uD83C\uDDE6\uD83C\uDDF7\"\n            ],\n            [\n                \"\uD83C\uDDE6\uD83C\uDDF2\"\n            ],\n            [\n                \"\uD83C\uDDE6\uD83C\uDDFC\"\n            ],\n            [\n                \"\uD83C\uDDE6\uD83C\uDDFA\"\n            ],\n            [\n                \"\uD83C\uDDE6\uD83C\uDDF9\"\n            ],\n            [\n                \"\uD83C\uDDE6\uD83C\uDDFF\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDF8\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDED\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDE9\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDE7\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDFE\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDEA\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDFF\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDEF\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDF2\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDF9\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDF4\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDE6\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDFC\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDF7\"\n            ],\n            [\n                \"\uD83C\uDDEE\uD83C\uDDF4\"\n            ],\n            [\n                \"\uD83C\uDDFB\uD83C\uDDEC\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDF3\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDEC\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDEB\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDEE\"\n            ],\n            [\n                \"\uD83C\uDDF0\uD83C\uDDED\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDF2\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDE6\"\n            ],\n            [\n                \"\uD83C\uDDEE\uD83C\uDDE8\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDFB\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDF6\"\n            ],\n            [\n                \"\uD83C\uDDF0\uD83C\uDDFE\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDEB\"\n            ],\n            [\n                \"\uD83C\uDDF9\uD83C\uDDE9\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDF1\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDF3\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDFD\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDE8\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDF4\"\n            ],\n            [\n                \"\uD83C\uDDF0\uD83C\uDDF2\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDEC\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDE9\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDF0\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDF7\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDEE\"\n            ],\n            [\n                \"\uD83C\uDDED\uD83C\uDDF7\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDFA\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDFC\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDFE\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDFF\"\n            ],\n            [\n                \"\uD83C\uDDE9\uD83C\uDDF0\"\n            ],\n            [\n                \"\uD83C\uDDE9\uD83C\uDDEF\"\n            ],\n            [\n                \"\uD83C\uDDE9\uD83C\uDDF2\"\n            ],\n            [\n                \"\uD83C\uDDE9\uD83C\uDDF4\"\n            ],\n            [\n                \"\uD83C\uDDEA\uD83C\uDDE8\"\n            ],\n            [\n                \"\uD83C\uDDEA\uD83C\uDDEC\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDFB\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDF6\"\n            ],\n            [\n                \"\uD83C\uDDEA\uD83C\uDDF7\"\n            ],\n            [\n                \"\uD83C\uDDEA\uD83C\uDDEA\"\n            ],\n            [\n                \"\uD83C\uDDEA\uD83C\uDDF9\"\n            ],\n            [\n                \"\uD83C\uDDEA\uD83C\uDDFA\"\n            ],\n            [\n                \"\uD83C\uDDEB\uD83C\uDDF0\"\n            ],\n            [\n                \"\uD83C\uDDEB\uD83C\uDDF4\"\n            ],\n            [\n                \"\uD83C\uDDEB\uD83C\uDDEF\"\n            ],\n            [\n                \"\uD83C\uDDEB\uD83C\uDDEE\"\n            ],\n            [\n                \"\uD83C\uDDEB\uD83C\uDDF7\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDEB\"\n            ],\n            [\n                \"\uD83C\uDDF5\uD83C\uDDEB\"\n            ],\n            [\n                \"\uD83C\uDDF9\uD83C\uDDEB\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDE6\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDF2\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDEA\"\n            ],\n            [\n                \"\uD83C\uDDE9\uD83C\uDDEA\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDED\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDEE\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDF7\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDF1\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDE9\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDF5\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDFA\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDF9\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDEC\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDF3\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDFC\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDFE\"\n            ],\n            [\n                \"\uD83C\uDDED\uD83C\uDDF9\"\n            ],\n            [\n                \"\uD83C\uDDED\uD83C\uDDF3\"\n            ],\n            [\n                \"\uD83C\uDDED\uD83C\uDDF0\"\n            ],\n            [\n                \"\uD83C\uDDED\uD83C\uDDFA\"\n            ],\n            [\n                \"\uD83C\uDDEE\uD83C\uDDF8\"\n            ],\n            [\n                \"\uD83C\uDDEE\uD83C\uDDF3\"\n            ],\n            [\n                \"\uD83C\uDDEE\uD83C\uDDE9\"\n            ],\n            [\n                \"\uD83C\uDDEE\uD83C\uDDF7\"\n            ],\n            [\n                \"\uD83C\uDDEE\uD83C\uDDF6\"\n            ],\n            [\n                \"\uD83C\uDDEE\uD83C\uDDEA\"\n            ],\n            [\n                \"\uD83C\uDDEE\uD83C\uDDF2\"\n            ],\n            [\n                \"\uD83C\uDDEE\uD83C\uDDF1\"\n            ],\n            [\n                \"\uD83C\uDDEE\uD83C\uDDF9\"\n            ],\n            [\n                \"\uD83C\uDDEF\uD83C\uDDF2\"\n            ],\n            [\n                \"\uD83C\uDDEF\uD83C\uDDF5\"\n            ],\n            [\n                \"\uD83C\uDF8C\"\n            ],\n            [\n                \"\uD83C\uDDEF\uD83C\uDDEA\"\n            ],\n            [\n                \"\uD83C\uDDEF\uD83C\uDDF4\"\n            ],\n            [\n                \"\uD83C\uDDF0\uD83C\uDDFF\"\n            ],\n            [\n                \"\uD83C\uDDF0\uD83C\uDDEA\"\n            ],\n            [\n                \"\uD83C\uDDF0\uD83C\uDDEE\"\n            ],\n            [\n                \"\uD83C\uDDFD\uD83C\uDDF0\"\n            ],\n            [\n                \"\uD83C\uDDF0\uD83C\uDDFC\"\n            ],\n            [\n                \"\uD83C\uDDF0\uD83C\uDDEC\"\n            ],\n            [\n                \"\uD83C\uDDF1\uD83C\uDDE6\"\n            ],\n            [\n                \"\uD83C\uDDF1\uD83C\uDDFB\"\n            ],\n            [\n                \"\uD83C\uDDF1\uD83C\uDDE7\"\n            ],\n            [\n                \"\uD83C\uDDF1\uD83C\uDDF8\"\n            ],\n            [\n                \"\uD83C\uDDF1\uD83C\uDDF7\"\n            ],\n            [\n                \"\uD83C\uDDF1\uD83C\uDDFE\"\n            ],\n            [\n                \"\uD83C\uDDF1\uD83C\uDDEE\"\n            ],\n            [\n                \"\uD83C\uDDF1\uD83C\uDDF9\"\n            ],\n            [\n                \"\uD83C\uDDF1\uD83C\uDDFA\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDF4\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDF0\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDEC\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDFC\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDFE\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDFB\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDF1\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDF9\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDED\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDF6\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDF7\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDFA\"\n            ],\n            [\n                \"\uD83C\uDDFE\uD83C\uDDF9\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDFD\"\n            ],\n            [\n                \"\uD83C\uDDEB\uD83C\uDDF2\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDE9\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDE8\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDF3\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDEA\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDF8\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDE6\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDFF\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDF2\"\n            ],\n            [\n                \"\uD83C\uDDF3\uD83C\uDDE6\"\n            ],\n            [\n                \"\uD83C\uDDF3\uD83C\uDDF7\"\n            ],\n            [\n                \"\uD83C\uDDF3\uD83C\uDDF5\"\n            ],\n            [\n                \"\uD83C\uDDF3\uD83C\uDDF1\"\n            ],\n            [\n                \"\uD83C\uDDF3\uD83C\uDDE8\"\n            ],\n            [\n                \"\uD83C\uDDF3\uD83C\uDDFF\"\n            ],\n            [\n                \"\uD83C\uDDF3\uD83C\uDDEE\"\n            ],\n            [\n                \"\uD83C\uDDF3\uD83C\uDDEA\"\n            ],\n            [\n                \"\uD83C\uDDF3\uD83C\uDDEC\"\n            ],\n            [\n                \"\uD83C\uDDF3\uD83C\uDDFA\"\n            ],\n            [\n                \"\uD83C\uDDF3\uD83C\uDDEB\"\n            ],\n            [\n                \"\uD83C\uDDF0\uD83C\uDDF5\"\n            ],\n            [\n                \"\uD83C\uDDF2\uD83C\uDDF5\"\n            ],\n            [\n                \"\uD83C\uDDF3\uD83C\uDDF4\"\n            ],\n            [\n                \"\uD83C\uDDF4\uD83C\uDDF2\"\n            ],\n            [\n                \"\uD83C\uDDF5\uD83C\uDDF0\"\n            ],\n            [\n                \"\uD83C\uDDF5\uD83C\uDDFC\"\n            ],\n            [\n                \"\uD83C\uDDF5\uD83C\uDDF8\"\n            ],\n            [\n                \"\uD83C\uDDF5\uD83C\uDDE6\"\n            ],\n            [\n                \"\uD83C\uDDF5\uD83C\uDDEC\"\n            ],\n            [\n                \"\uD83C\uDDF5\uD83C\uDDFE\"\n            ],\n            [\n                \"\uD83C\uDDF5\uD83C\uDDEA\"\n            ],\n            [\n                \"\uD83C\uDDF5\uD83C\uDDED\"\n            ],\n            [\n                \"\uD83C\uDDF5\uD83C\uDDF3\"\n            ],\n            [\n                \"\uD83C\uDDF5\uD83C\uDDF1\"\n            ],\n            [\n                \"\uD83C\uDDF5\uD83C\uDDF9\"\n            ],\n            [\n                \"\uD83C\uDDF5\uD83C\uDDF7\"\n            ],\n            [\n                \"\uD83C\uDDF6\uD83C\uDDE6\"\n            ],\n            [\n                \"\uD83C\uDDF7\uD83C\uDDEA\"\n            ],\n            [\n                \"\uD83C\uDDF7\uD83C\uDDF4\"\n            ],\n            [\n                \"\uD83C\uDDF7\uD83C\uDDFA\"\n            ],\n            [\n                \"\uD83C\uDDF7\uD83C\uDDFC\"\n            ],\n            [\n                \"\uD83C\uDDFC\uD83C\uDDF8\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDF2\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDE6\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDF3\"\n            ],\n            [\n                \"\uD83C\uDDF7\uD83C\uDDF8\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDE8\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDF1\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDEC\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDFD\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDF0\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDEE\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDF8\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDE7\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDF4\"\n            ],\n            [\n                \"\uD83C\uDDFF\uD83C\uDDE6\"\n            ],\n            [\n                \"\uD83C\uDDF0\uD83C\uDDF7\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDF8\"\n            ],\n            [\n                \"\uD83C\uDDEA\uD83C\uDDF8\"\n            ],\n            [\n                \"\uD83C\uDDF1\uD83C\uDDF0\"\n            ],\n            [\n                \"\uD83C\uDDE7\uD83C\uDDF1\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDED\"\n            ],\n            [\n                \"\uD83C\uDDF0\uD83C\uDDF3\"\n            ],\n            [\n                \"\uD83C\uDDF1\uD83C\uDDE8\"\n            ],\n            [\n                \"\uD83C\uDDF5\uD83C\uDDF2\"\n            ],\n            [\n                \"\uD83C\uDDFB\uD83C\uDDE8\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDE9\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDF7\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDFF\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDEA\"\n            ],\n            [\n                \"\uD83C\uDDE8\uD83C\uDDED\"\n            ],\n            [\n                \"\uD83C\uDDF8\uD83C\uDDFE\"\n            ],\n            [\n                \"\uD83C\uDDF9\uD83C\uDDFC\"\n            ],\n            [\n                \"\uD83C\uDDF9\uD83C\uDDEF\"\n            ],\n            [\n                \"\uD83C\uDDF9\uD83C\uDDFF\"\n            ],\n            [\n                \"\uD83C\uDDF9\uD83C\uDDED\"\n            ],\n            [\n                \"\uD83C\uDDF9\uD83C\uDDF1\"\n            ],\n            [\n                \"\uD83C\uDDF9\uD83C\uDDEC\"\n            ],\n            [\n                \"\uD83C\uDDF9\uD83C\uDDF0\"\n            ],\n            [\n                \"\uD83C\uDDF9\uD83C\uDDF4\"\n            ],\n            [\n                \"\uD83C\uDDF9\uD83C\uDDF9\"\n            ],\n            [\n                \"\uD83C\uDDF9\uD83C\uDDF3\"\n            ],\n            [\n                \"\uD83C\uDDF9\uD83C\uDDF7\"\n            ],\n            [\n                \"\uD83C\uDDF9\uD83C\uDDF2\"\n            ],\n            [\n                \"\uD83C\uDDF9\uD83C\uDDE8\"\n            ],\n            [\n                \"\uD83C\uDDF9\uD83C\uDDFB\"\n            ],\n            [\n                \"\uD83C\uDDFB\uD83C\uDDEE\"\n            ],\n            [\n                \"\uD83C\uDDFA\uD83C\uDDEC\"\n            ],\n            [\n                \"\uD83C\uDDFA\uD83C\uDDE6\"\n            ],\n            [\n                \"\uD83C\uDDE6\uD83C\uDDEA\"\n            ],\n            [\n                \"\uD83C\uDDEC\uD83C\uDDE7\"\n            ],\n            [\n                \"\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67\uDB40\uDC7F\"\n            ],\n            [\n                \"\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74\uDB40\uDC7F\"\n            ],\n            [\n                \"\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73\uDB40\uDC7F\"\n            ],\n            [\n                \"\uD83C\uDDFA\uD83C\uDDF8\"\n            ],\n            [\n                \"\uD83C\uDDFA\uD83C\uDDFE\"\n            ],\n            [\n                \"\uD83C\uDDFA\uD83C\uDDFF\"\n            ],\n            [\n                \"\uD83C\uDDFB\uD83C\uDDFA\"\n            ],\n            [\n                \"\uD83C\uDDFB\uD83C\uDDE6\"\n            ],\n            [\n                \"\uD83C\uDDFB\uD83C\uDDEA\"\n            ],\n            [\n                \"\uD83C\uDDFB\uD83C\uDDF3\"\n            ],\n            [\n                \"\uD83C\uDDFC\uD83C\uDDEB\"\n            ],\n            [\n                \"\uD83C\uDDEA\uD83C\uDDED\"\n            ],\n            [\n                \"\uD83C\uDDFE\uD83C\uDDEA\"\n            ],\n            [\n                \"\uD83C\uDDFF\uD83C\uDDF2\"\n            ],\n            [\n                \"\uD83C\uDDFF\uD83C\uDDFC\"\n            ]\n        ],\n        \"type\": \"flags\"\n    }\n]\n"}),define("text!templates/accounts/global_settings_item.html",[],function(){return"<div class=\"move-account-to-this droppable\"></div>\n<div class=\"account-info-wrap\">\n    <i class=\"drag-item drag-handle mdi mdi-28px mdi-drag-vertical\"></i>\n    <div class=\"circle-avatar noselect\">\n        <img>\n    </div>\n    <div class=\"text-info-wrap\">\n        <div class=\"jid-wrap\">\n            <div class=\"jid text-color-700 one-line\"></div>\n        </div>\n        <div class=\"conn-status one-line\"></div>\n    </div>\n</div>\n<div class=\"sync-marker-wrap hidden\">\n    <i class=\"sync-marker mdi mdi-20px mdi-cloud-check\"></i>\n</div>\n<div class=\"field clickable-field enabled-state switch normal\">\n    <label class=\"field-value\">\n        <input type=\"checkbox\">\n        <span class=\"lever\"></span>\n    </label>\n</div>\n"}),define("text!templates/accounts/change_status.html",[],function(){return"<div class=\"modal-content-wrap\">\n    <div class=\"modal-header\">\n        <span>{[print(xabber.getString(\"status_editor\"))]}</span>\n    </div>\n    <ul class=\"status-values noselect\">\n        <li data-value=\"chat\">\n            <span class=\"status-value one-line\">{[print(xabber.getString(\"chat\"))]}</span>\n            <span class=\"status-bulb\" data-status=\"chat\"></span>\n        </li>\n        <li data-value=\"online\">\n            <span class=\"status-value one-line\">{[print(xabber.getString(\"online\"))]}</span>\n            <span class=\"status-bulb\" data-status=\"online\"></span>\n        </li>\n        <li data-value=\"away\">\n            <span class=\"status-value one-line\">{[print(xabber.getString(\"away\"))]}</span>\n            <span class=\"status-bulb\" data-status=\"away\"></span>\n        </li>\n        <li data-value=\"xa\">\n            <span class=\"status-value one-line\">{[print(xabber.getString(\"xa\"))]}</span>\n            <span class=\"status-bulb\" data-status=\"xa\"></span>\n        </li>\n        <li data-value=\"dnd\">\n            <span class=\"status-value one-line\">{[print(xabber.getString(\"dnd\"))]}</span>\n            <span class=\"status-bulb\" data-status=\"dnd\"></span>\n        </li>\n        <li data-value=\"offline\">\n            <span class=\"status-value one-line\">{[print(xabber.getString(\"unavailable\"))]}</span>\n            <span class=\"status-bulb\" data-status=\"offline\"></span>\n        </li>\n    </ul>\n    <div class=\"modal-content\">\n        <div class=\"row\">\n            <div class=\"input-field status-message-wrap\">\n                <span class=\"static-label\">{[print(xabber.getString(\"dialog_status_editor__label_custom_status\"))]}</span>\n                <input type=\"text\" class=\"status-message\">\n                <i class=\"clear-input mdi mdi-20px mdi-close\"></i>\n            </div>\n            <div class=\"input-field checkbox-field no-padding\">\n                <input type=\"checkbox\" class=\"filled-in apply-to-all\" id=\"{{view.cid}}_apply_to_all\"/>\n                <label for=\"{{view.cid}}_apply_to_all\">{[print(xabber.getString(\"dialog_status_editor__label_apply_to_all\"))]}</label>\n            </div>\n        </div>\n    </div>\n</div>\n"}),define("text!templates/accounts/token_item.html",[],function(){return"<div class=\"token-wrap\" data-token-uid=\"{{token_uid}}\">\n    <div class=\"client one-line\">{{client}}</div>\n    <div class=\"device one-line\">{{device}}</div>\n    <div class=\"ip-address\">{{ip}}</div>\n    {[ if (resource_obj) {]}\n    <div class=\"last-auth resource\" {[ if (resource_obj) {]}data-resource-id=\"{{resource_obj.resource}}\"{[}]}>{[print(xabber.getString(\"account_state_connected\"))]}</div>\n        <table class=\"token-resource-wrap hidden\" {[ if (resource_obj) {]}data-resource-id=\"{{resource_obj.resource}}\"{[}]}>\n            <tbody>\n            <tr class=\"info status-info\">\n                <td class=\"label\">{[print(xabber.getString(\"settings_account__label_status\"))]}:</td>\n                <td>\n                    <div class=\"value status-message one-line\">{{resource_obj.status}}</div>\n                    <div class=\"status\" data-status=\"{{resource_obj.status}}\"></div>\n                </td>\n            </tr>\n            <tr class=\"info resource-info\">\n                <td class=\"label\">{[print(xabber.getString(\"account_resource\"))]}:</td>\n                <td class=\"value resource one-line\">{{resource_obj.resource}}</td>\n            </tr>\n            <tr class=\"info priority-info\">\n                <td class=\"label\">{[print(xabber.getString(\"account_priority\"))]}:</td>\n                <td class=\"value priority\">{{resource_obj.priority}}</td>\n            </tr>\n            </tbody>\n        </table>\n    {[} else {]}\n    <div class=\"last-auth\">{{last_auth}}</div>\n    {[}]}\n    <i class=\"btn-revoke-token mdi mdi-24px mdi-close\"></i>\n</div>"}),define("text!templates/accounts/current_token_item.html",[],function(){return"<div class=\"token-wrap\" data-token-uid=\"{{token_uid}}\">\n    <div class=\"client one-line\">{{client}}</div>\n    <div class=\"device one-line\">{{device}}</div>\n    <div class=\"ip-address\">{{ip}}</div>\n    <div class=\"last-auth resource text-color-700\" {[ if (resource_obj) {]}data-resource-id=\"{{resource_obj.resource}}\"{[}]}>{[print(xabber.getString(\"account_state_connected\"))]}</div>\n    {[ if (resource_obj) {]}\n        <table class=\"token-resource-wrap hidden\" {[ if (resource_obj) {]}data-resource-id=\"{{resource_obj.resource}}\"{[}]}>\n            <tbody>\n            <tr class=\"info status-info\">\n                <td class=\"label\">{[print(xabber.getString(\"settings_account__label_status\"))]}:</td>\n                <td>\n                    <div class=\"value status-message one-line\">{{resource_obj.status}}</div>\n                    <div class=\"status\" data-status=\"{{resource_obj.status}}\"></div>\n                </td>\n            </tr>\n            <tr class=\"info resource-info\">\n                <td class=\"label\">{[print(xabber.getString(\"account_resource\"))]}:</td>\n                <td class=\"value resource one-line\">{{resource_obj.resource}}</td>\n            </tr>\n            <tr class=\"info priority-info\">\n                <td class=\"label\">{[print(xabber.getString(\"account_priority\"))]}:</td>\n                <td class=\"value priority\">{{resource_obj.priority}}</td>\n            </tr>\n            </tbody>\n        </table>\n    {[}]}\n    <div class=\"token-indicator\">{[print(xabber.getString(\"settings_account__label_this_device\"))]}</div>\n</div>"}),define("text!templates/vcard/vcard.html",[],function(){return"<div class=\"block-header\">\n    <span class=\"block-name\"></span>\n    <div class=\"btn-vcard-refresh\">\n        <div class=\"button\">\n            <i class=\"mdi mdi-20px mdi-refresh\"></i>\n        </div>\n        <div class=\"preloader-wrapper preloader-20px active\">\n            <div class=\"spinner-layer\">\n                <div class=\"circle-clipper left\">\n                    <div class=\"circle\"></div>\n                </div>\n                <div class=\"gap-patch\">\n                    <div class=\"circle\"></div>\n                </div>\n                <div class=\"circle-clipper right\">\n                    <div class=\"circle\"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"vcard-wrap\">\n    <div class=\"info-wrap jid-info-wrap hidden\">\n        <div class=\"details-icon-wrap\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"xmpp\"></svg></div>\n        <div class=\"info jabber-id\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_jabber_id\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap personal-info-wrap hidden\">\n        <div class=\"details-icon-wrap\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"account-outline\"></svg></div>\n        <div class=\"info first-name\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_given_name\"))]}</div>\n        </div>\n        <div class=\"info middle-name\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_middle_name\"))]}</div>\n        </div>\n        <div class=\"info last-name\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_family_name\"))]}</div>\n        </div>\n        <div class=\"info fullname\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_full_name\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap nickname-info-wrap hidden\">\n        <i class=\"details-icon mdi mdi-24px mdi-account-box-outline\"></i>\n        <div class=\"info nickname\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_nick_name\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap birthday-info-wrap hidden\">\n        <div class=\"details-icon-wrap\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"birthday-outline\"></svg></div>\n        <div class=\"info birthday\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_birth_date\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap job-info-wrap hidden\">\n        <div class=\"details-icon-wrap\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"job-outline\"></svg></div>\n        <div class=\"info org-name\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_organization\"))]}</div>\n        </div>\n        <div class=\"info job-title\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_title\"))]}</div>\n        </div>\n        <div class=\"info org-unit\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_organization_unit\"))]}</div>\n        </div>\n        <div class=\"info role\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_role\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap site-info-wrap hidden\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-web\"></i>\n        <div class=\"info url\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_url\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap description-info-wrap hidden\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-file-document-box\"></i>\n        <div class=\"info description\">\n            <div class=\"value\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_decsription\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap phone-info-wrap hidden\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-phone\"></i>\n        <div class=\"info phone-work\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_type_work\"))]}</div>\n        </div>\n        <div class=\"info phone-home\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_type_home\"))]}</div>\n        </div>\n        <div class=\"info phone-mobile\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_type_mobile\"))]}</div>\n        </div>\n        <div class=\"info phone-default\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_telephone\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap email-info-wrap hidden\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-email\"></i>\n        <div class=\"info email-work\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_type_work\"))]}</div>\n        </div>\n        <div class=\"info email-home\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_type_personal\"))]}</div>\n        </div>\n        <div class=\"info email-default\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_email\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap address-info-wrap hidden\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-map-marker\"></i>\n        <div class=\"info address-home\">\n            <div class=\"pobox value one-line\"></div>\n            <div class=\"extadd value one-line\"></div>\n            <div class=\"street value one-line\"></div>\n            <div class=\"locality value one-line\"></div>\n            <div class=\"region value one-line\"></div>\n            <div class=\"pcode value one-line\"></div>\n            <div class=\"country value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_type_home\"))]}</div>\n        </div>\n        <div class=\"info address-work\">\n            <div class=\"pobox value one-line\"></div>\n            <div class=\"extadd value one-line\"></div>\n            <div class=\"street value one-line\"></div>\n            <div class=\"locality value one-line\"></div>\n            <div class=\"region value one-line\"></div>\n            <div class=\"pcode value one-line\"></div>\n            <div class=\"country value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_type_work\"))]}</div>\n        </div>\n        <div class=\"info address-default\">\n            <div class=\"extadd value one-line\"></div>\n            <div class=\"street value one-line\"></div>\n            <div class=\"locality value one-line\"></div>\n            <div class=\"region value one-line\"></div>\n            <div class=\"pcode value one-line\"></div>\n            <div class=\"country value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_address\"))]}</div>\n        </div>\n    </div>\n    <button class=\"btn-vcard-edit btn-flat btn-main btn-dark ground-color-grey-100 hover-ground-color-grey-300 hidden\">{[print(xabber.getString(\"edit_vcard\"))]}</button>\n</div>\n"}),define("text!templates/vcard/vcard_edit.html",[],function(){return"    <div class=\"right-column noselect\">\n        <div class=\"settings-panel-head\">\n            <span>{[print(xabber.getString(\"vcard_edit__header\"))]}</span>\n            <div class=\"buttons-wrap\">\n                <button class=\"btn-vcard-back btn-flat btn-main btn-dark ground-color-grey-100 hover-ground-color-grey-300\">{[print(xabber.getString(\"vcard_edit__button_cancel\"))]}</button>\n                <button class=\"btn-vcard-save btn-flat btn-main text-color-500 ground-color-grey-100 hover-ground-color-grey-300\">{[print(xabber.getString(\"vcard_edit__button_save\"))]}</button>\n            </div>\n        </div>\n\n        <div class=\"panel-content-wrap\">\n            <div class=\"panel-content details-panel\">\n\n                <div class=\"settings-block-wrap vcard\">\n                    <div class=\"vcard-edit-wrap\">\n                        <div class=\"info-wrap personal-info-wrap\">\n                            <i class=\"details-icon mdi mdi-24px mdi-account-card-details\"></i>\n                            <div class=\"input-field first-name\">\n                                <input id=\"{{view.cid}}-first-name\" placeholder=\"{[print(xabber.getString('vcard_given_name'))]}\" type=\"text\" name=\"first_name\">\n                            </div>\n                            <div class=\"input-field middle-name\">\n                                <input id=\"{{view.cid}}-middle-name\" placeholder=\"{[print(xabber.getString('vcard_middle_name'))]}\" type=\"text\" name=\"middle_name\">\n                            </div>\n                            <div class=\"input-field last-name\">\n                                <input id=\"{{view.cid}}-last-name\" placeholder=\"{[print(xabber.getString('vcard_family_name'))]}\" type=\"text\" name=\"last_name\">\n                            </div>\n                            <div class=\"input-field fullname\">\n                                <input id=\"{{view.cid}}-fullname\" placeholder=\"{[print(xabber.getString('vcard_full_name'))]}\" type=\"text\" name=\"fullname\">\n                            </div>\n                        </div>\n\n                        <div class=\"info-wrap nickname-info-wrap\">\n                            <div class=\"input-label\">{[print(xabber.getString(\"vcard_nick_name\"))]}</div>\n                            <i class=\"details-icon mdi mdi-24px mdi-account-box-outline\"></i>\n                            <div class=\"input-field nickname\">\n                                <input id=\"{{view.cid}}-nickname\" placeholder=\"{[print(xabber.getString('vcard_nick_name'))]}\" type=\"text\" name=\"nickname\">\n                            </div>\n                        </div>\n\n                        <div class=\"info-wrap birthday-info-wrap\">\n                            <div class=\"input-label\">{[print(xabber.getString(\"vcard_birth_date\"))]}</div>\n                            <i class=\"details-icon mdi mdi-24px mdi-cake-variant\"></i>\n                            <div class=\"input-field birthday\">\n                                <input id=\"{{view.cid}}-birthday\" placeholder=\"{[print(xabber.getString('vcard_birth_date_placeholder'))]}\" type=\"text\" class=\"datepicker\">\n                            </div>\n                        </div>\n\n                        <div class=\"info-wrap job-info-wrap\">\n                            <div class=\"input-label\">{[print(xabber.getString(\"vcard_job\"))]}</div>\n                            <i class=\"details-icon mdi mdi-24px mdi-briefcase\"></i>\n                            <div class=\"input-field org-name\">\n                                <input id=\"{{view.cid}}-org-name\" placeholder=\"{[print(xabber.getString('vcard_organization'))]}\" type=\"text\" name=\"org_name\">\n                            </div>\n                            <div class=\"input-field job-title\">\n                                <input id=\"{{view.cid}}-job-title\" placeholder=\"{[print(xabber.getString('vcard_title'))]}\" type=\"text\" name=\"job_title\">\n                            </div>\n                            <div class=\"input-field org-unit\">\n                                <input id=\"{{view.cid}}-org-unit\" placeholder=\"{[print(xabber.getString('vcard_organization_unit'))]}\" type=\"text\" name=\"org_unit\">\n                            </div>\n                            <div class=\"input-field role\">\n                                <input id=\"{{view.cid}}-role\" placeholder=\"{[print(xabber.getString('vcard_role'))]}\" type=\"text\" name=\"role\">\n                            </div>\n                        </div>\n                        <div class=\"info-wrap site-info-wrap\">\n                            <div class=\"input-label\">{[print(xabber.getString(\"vcard_url\"))]}</div>\n                            <i class=\"details-icon mdi mdi-24px mdi-web\"></i>\n                            <div class=\"input-field url\">\n                                <input id=\"{{view.cid}}-url\" placeholder=\"{[print(xabber.getString('vcard_url_placeholder'))]}\" type=\"text\" name=\"url\">\n                            </div>\n                        </div>\n                        <div class=\"info-wrap description-info-wrap\">\n                            <div class=\"input-label\">{[print(xabber.getString(\"vcard_decsription\"))]}</div>\n                            <i class=\"details-icon mdi mdi-24px mdi-file-document-box\"></i>\n                            <div class=\"input-field description\">\n                                <textarea id=\"{{view.cid}}-description\" placeholder=\"{[print(xabber.getString('vcard_decsription_placeholder'))]}\" type=\"text\" cols=\"30\" rows=\"10\" class=\"text-field materialize-textarea\" name=\"description\"></textarea>\n                            </div>\n                        </div>\n\n                        <div class=\"info-wrap phone-info-wrap\">\n                            <div class=\"input-label\">{[print(xabber.getString(\"vcard_telephone\"))]}</div>\n                            <i class=\"details-icon mdi mdi-24px mdi-phone\"></i>\n                            <div class=\"input-field phone-work\">\n                                <input id=\"{{view.cid}}-phone-work\" placeholder=\"{[print(xabber.getString('vcard_type_work'))]}\" type=\"text\" name=\"phone_work\">\n                            </div>\n                            <div class=\"input-field phone-home\">\n                                <input id=\"{{view.cid}}-phone-home\" placeholder=\"{[print(xabber.getString('vcard_type_home'))]}\" type=\"text\" name=\"phone_home\">\n                            </div>\n                            <div class=\"input-field phone-mobile\">\n                                <input id=\"{{view.cid}}-phone-mobile\" placeholder=\"{[print(xabber.getString('vcard_type_mobile'))]}\" type=\"text\" name=\"phone_mobile\">\n                            </div>\n                        </div>\n                        <div class=\"info-wrap email-info-wrap\">\n                            <div class=\"input-label\">{[print(xabber.getString(\"vcard_email\"))]}</div>\n                            <i class=\"details-icon mdi mdi-24px mdi-email\"></i>\n                            <div class=\"input-field email-work\">\n                                <input id=\"{{view.cid}}-email-work\" placeholder=\"{[print(xabber.getString('vcard_type_work'))]}\" type=\"text\" name=\"email_work\">\n                            </div>\n                            <div class=\"input-field email-home\">\n                                <input id=\"{{view.cid}}-email-home\" placeholder=\"{[print(xabber.getString('vcard_type_personal'))]}\" type=\"text\" name=\"email_home\">\n                            </div>\n                        </div>\n\n                        <div class=\"info-wrap address-info-wrap\">\n                            <i class=\"details-icon mdi mdi-24px mdi-map-marker\"></i>\n                            <div class=\"input-wrap address-wrap address-home-wrap\">\n                                <div class=\"input-label\">{[print(xabber.getString(\"vcard_home_address\"))]}</div>\n                                <div class=\"input-field pobox\">\n                                    <input id=\"{{view.cid}}-po-home-box\" placeholder=\"{[print(xabber.getString('vcard_address_pobox'))]}\" type=\"text\" name=\"po_home_box\">\n                                </div>\n                                <div class=\"input-field extadd\">\n                                    <input id=\"{{view.cid}}-addr-home-extadd\" placeholder=\"{[print(xabber.getString('vcard_address_extadr'))]}\" type=\"text\" name=\"addr_home_extadd\">\n                                </div>\n                                <div class=\"input-field street\">\n                                    <input id=\"{{view.cid}}-addr-home-street\" placeholder=\"{[print(xabber.getString('vcard_address_street'))]}\" type=\"text\" name=\"addr_home_street\">\n                                </div>\n                                <div class=\"input-field locality\">\n                                    <input id=\"{{view.cid}}-addr-home-locality\" placeholder=\"{[print(xabber.getString('vcard_address_locality'))]}\" type=\"text\" name=\"addr_home_locality\">\n                                </div>\n                                <div class=\"input-field region\">\n                                    <input id=\"{{view.cid}}-addr-home-region\" placeholder=\"{[print(xabber.getString('vcard_address_region'))]}\" type=\"text\" name=\"addr_home_region\">\n                                </div>\n                                <div class=\"input-field pcode\">\n                                    <input id=\"{{view.cid}}-addr-home-pcode\" placeholder=\"{[print(xabber.getString('vcard_address_pcode'))]}\" type=\"text\" name=\"addr_home_pcode\">\n                                </div>\n                                <div class=\"input-field country\">\n                                    <input id=\"{{view.cid}}-addr-home-country\" placeholder=\"{[print(xabber.getString('vcard_address_ctry'))]}\" type=\"text\" name=\"addr_home_country\">\n                                </div>\n                            </div>\n                            <div class=\"input-wrap address-wrap address-work-wrap\">\n                                <div class=\"input-label\">{[print(xabber.getString(\"vcard_work_address\"))]}</div>\n                                <div class=\"input-field pobox\">\n                                    <input id=\"{{view.cid}}-po-work-box\" placeholder=\"{[print(xabber.getString('vcard_address_pobox'))]}\" type=\"text\" name=\"po_work_box\">\n                                </div>\n                                <div class=\"input-field extadd\">\n                                    <input id=\"{{view.cid}}-addr-work-extadd\" placeholder=\"{[print(xabber.getString('vcard_address_extadr'))]}\" type=\"text\" name=\"addr_work_extadd\">\n                                </div>\n                                <div class=\"input-field street\">\n                                    <input id=\"{{view.cid}}-addr-work-street\" placeholder=\"{[print(xabber.getString('vcard_address_street'))]}\" type=\"text\" name=\"addr_work_street\">\n                                </div>\n                                <div class=\"input-field locality\">\n                                    <input id=\"{{view.cid}}-addr-work-locality\" placeholder=\"{[print(xabber.getString('vcard_address_locality'))]}\" type=\"text\" name=\"addr_work_locality\">\n                                </div>\n                                <div class=\"input-field region\">\n                                    <input id=\"{{view.cid}}-addr-work-region\" placeholder=\"{[print(xabber.getString('vcard_address_region'))]}\" type=\"text\" name=\"addr_work_region\">\n                                </div>\n                                <div class=\"input-field pcode\">\n                                    <input id=\"{{view.cid}}-addr-work-pcode\" placeholder=\"{[print(xabber.getString('vcard_address_pcode'))]}\" type=\"text\" name=\"addr_work_pcode\">\n                                </div>\n                                <div class=\"input-field country\">\n                                    <input id=\"{{view.cid}}-addr-work-country\" placeholder=\"{[print(xabber.getString('vcard_address_ctry'))]}\" type=\"text\" name=\"addr_work_country\">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    </div>\n"}),define("text!templates/vcard/vcard_right.html",[],function(){return"<div class=\"block-header\">\n    <div class=\"btn-vcard-refresh\">\n        <div class=\"button\">\n            <i class=\"mdi mdi-20px mdi-refresh\"></i>\n        </div>\n        <div class=\"preloader-wrapper preloader-20px active\">\n            <div class=\"spinner-layer\">\n                <div class=\"circle-clipper left\">\n                    <div class=\"circle\"></div>\n                </div>\n                <div class=\"gap-patch\">\n                    <div class=\"circle\"></div>\n                </div>\n                <div class=\"circle-clipper right\">\n                    <div class=\"circle\"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"vcard-wrap\">\n    <div class=\"info-wrap jid-info-wrap hidden\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'>\n        <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"id-outline\"></svg></div>\n        <div class=\"info-hover\">\n            <div class=\"info jabber-id\">\n                <div class=\"value one-line\"></div>\n                <div class=\"label\">{[print(xabber.getString(\"vcard_jabber_id\"))]}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"info-wrap nickname-info-wrap hidden\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'>\n        <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"account-outline\"></svg></div>\n        <div class=\"info-hover\">\n            <div class=\"info nickname\">\n                <div class=\"value one-line\"></div>\n                <div class=\"label\">{[print(xabber.getString(\"vcard_nick_name\"))]}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"info-wrap personal-info-wrap hidden\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'>\n        <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"fullname-outline\"></svg></div>\n        <div class=\"info-hover\">\n            <div class=\"info first-name\">\n                <div class=\"value one-line\"></div>\n                <div class=\"label\">{[print(xabber.getString(\"vcard_given_name\"))]}</div>\n            </div>\n        </div>\n        <div class=\"info-hover\">\n            <div class=\"info last-name\">\n                <div class=\"value one-line\"></div>\n                <div class=\"label\">{[print(xabber.getString(\"vcard_family_name\"))]}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"info-wrap birthday-info-wrap hidden\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'>\n        <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"birthday-outline\"></svg></div>\n        <div class=\"info-hover\">\n            <div class=\"info birthday\">\n                <div class=\"value one-line\"></div>\n                <div class=\"label\">{[print(xabber.getString(\"vcard_birth_date\"))]}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"info-wrap site-info-wrap hidden\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'>\n        <i class=\"details-icon mdi mdi-24px mdi-web\"></i>\n        <div class=\"info-hover\">\n            <div class=\"info url\">\n                <div class=\"value one-line\"></div>\n                <div class=\"label\">{[print(xabber.getString(\"vcard_url\"))]}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"info-wrap more\">\n        <div class=\"show-vcard\">\n            {[print(xabber.getString(\"contact_vcard_more\"))]}\n        </div>\n    </div>\n</div>\n<div class=\"full-vcard-wrap\">\n    <div class=\"full-vcard-content\">\n        <div class=\"vcard-header block-header\">\n            <div class=\"vcard-header-title\">\n                <i class=\"details-icon btn-back mdi mdi-24px mdi-arrow-left\"></i>\n                <span class=\"block-name\">{[print(xabber.getString(\"contact_vcard_header_title\"))]}</span>\n            </div>\n            <div class=\"main-info\">\n                <div class=\"avatar-wrap\">\n                    <div class=\"circle-avatar\"/>\n                </div>\n                <div class=\"text-info\">\n                    <div class=\"name-wrap\"></div>\n                </div>\n            </div>\n        </div>\n        <div class=\"vcard-list\">\n            <div class=\"info-wrap jid-info-wrap hidden\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'>\n                <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"id-outline\"></svg></div>\n                <div class=\"info-hover\">\n                    <div class=\"info jabber-id\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_jabber_id\"))]}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"info-wrap nickname-info-wrap hidden\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'>\n                <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"account-outline\"></svg></div>\n                <div class=\"info-hover\">\n                    <div class=\"info nickname\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_nick_name\"))]}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"info-wrap personal-info-wrap hidden\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'>\n                <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"fullname-outline\"></svg></div>\n                <div class=\"info-hover\">\n                    <div class=\"info first-name\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_given_name\"))]}</div>\n                    </div>\n                </div>\n                <div class=\"info-hover\">\n                    <div class=\"info middle-name\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_middle_name\"))]}</div>\n                    </div>\n                </div>\n                <div class=\"info-hover\">\n                    <div class=\"info last-name\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_family_name\"))]}</div>\n                    </div>\n                </div>\n                <div class=\"info-hover\">\n                    <div class=\"info fullname\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_full_name\"))]}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"info-wrap birthday-info-wrap hidden\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'>\n                <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"birthday-outline\"></svg></div>\n                <div class=\"info-hover\">\n                    <div class=\"info birthday\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_birth_date\"))]}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"info-wrap job-info-wrap hidden\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'>\n                <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"job-outline\"></svg></div>\n                <div class=\"info-hover\">\n                    <div class=\"info org-name\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_organization\"))]}</div>\n                    </div>\n                </div>\n                <div class=\"info-hover\">\n                    <div class=\"info job-title\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_title\"))]}</div>\n                    </div>\n                </div>\n                <div class=\"info-hover\">\n                    <div class=\"info org-unit\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_organization_unit\"))]}</div>\n                    </div>\n                </div>\n                <div class=\"info-hover\">\n                    <div class=\"info role\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_role\"))]}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"info-wrap site-info-wrap hidden\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'>\n                <i class=\"details-icon mdi mdi-24px mdi-web\"></i>\n                <div class=\"info-hover\">\n                    <div class=\"info url\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_url\"))]}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"info-wrap description-info-wrap hidden\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'>\n                <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"description-outline\"></svg></div>\n                <div class=\"info-hover\">\n                    <div class=\"info description\">\n                        <div class=\"value\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_decsription\"))]}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"info-wrap phone-info-wrap hidden\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'>\n                <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"call-outline\"></svg></div>\n                <div class=\"info-hover\">\n                    <div class=\"info phone-work\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_type_work\"))]}</div>\n                    </div>\n                </div>\n                <div class=\"info-hover\">\n                    <div class=\"info phone-home\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_type_home\"))]}</div>\n                    </div>\n                </div>\n                <div class=\"info-hover\">\n                    <div class=\"info phone-mobile\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_type_mobile\"))]}</div>\n                    </div>\n                </div>\n                <div class=\"info-hover\">\n                    <div class=\"info phone-default\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_telephone\"))]}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"info-wrap email-info-wrap hidden\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'>\n                <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"email-outline\"></svg></div>\n                <div class=\"info-hover\">\n                    <div class=\"info email-work\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_type_work\"))]}</div>\n                    </div>\n                </div>\n                <div class=\"info-hover\">\n                    <div class=\"info email-home\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_type_personal\"))]}</div>\n                    </div>\n                </div>\n                <div class=\"info-hover\">\n                    <div class=\"info email-default\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_email\"))]}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"info-wrap address-info-wrap hidden\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'>\n                <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"job-outline\"></svg></div>\n                <div class=\"info-hover\">\n                    <div class=\"info address-home\">\n                        <div class=\"pobox value one-line\"></div>\n                        <div class=\"extadd value one-line\"></div>\n                        <div class=\"street value one-line\"></div>\n                        <div class=\"locality value one-line\"></div>\n                        <div class=\"region value one-line\"></div>\n                        <div class=\"pcode value one-line\"></div>\n                        <div class=\"country value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_type_home\"))]}</div>\n                    </div>\n                </div>\n                <div class=\"info-hover\">\n                    <div class=\"info address-work\">\n                        <div class=\"pobox value one-line\"></div>\n                        <div class=\"extadd value one-line\"></div>\n                        <div class=\"street value one-line\"></div>\n                        <div class=\"locality value one-line\"></div>\n                        <div class=\"region value one-line\"></div>\n                        <div class=\"pcode value one-line\"></div>\n                        <div class=\"country value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_type_work\"))]}</div>\n                    </div>\n                </div>\n                <div class=\"info-hover\">\n                    <div class=\"info address-default\">\n                        <div class=\"extadd value one-line\"></div>\n                        <div class=\"street value one-line\"></div>\n                        <div class=\"locality value one-line\"></div>\n                        <div class=\"region value one-line\"></div>\n                        <div class=\"pcode value one-line\"></div>\n                        <div class=\"country value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"vcard_address\"))]}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"resources-block-wrap hidden\">\n                <div class=\"resources-wrap\">\n                </div>\n            </div>\n        </div>\n    </div>\n</div>"}),define("text!templates/searching/searching_wide.html",[],function(){return"<div class=\"searching-panel\">\n    <div class=\"search-wide search-form\">\n        <div class=\"account-indicator ground-color-500\"></div>\n        <i class=\"search-icon mdi mdi-24px mdi-magnify\"></i>\n        <input type=\"text\" class=\"search-input simple-input-field\" tabindex=\"1\" placeholder='{[print(xabber.getString(\"searching__placeholder_search_by_domain\"))]}'>\n        <i class=\"close-search-icon mdi mdi-24px mdi-close\"></i>\n    </div>\n    <div class=\"searching-properties-field\">\n        <div class=\"dropdown-button\" data-visible=\"false\">\n            <i class=\"mdi mdi-24px mdi-chevron-down arrow\"></i>\n        </div>\n    </div>\n    <ul id=\"select-searching-properties\" class=\"selectable-text\">\n        <div class=\"account-property\">\n            <p class=\"property-name\">{[print(xabber.getString(\"searching__search_panel__label_account\"))]}</p>\n            <div class=\"account-field\">\n                <div class=\"multiple-acc\">\n                    <div class=\"account-dropdown-wrap\">\n                        <div class=\"dropdown-button\" data-activates=\"select-account-for-searching\">\n                            <div class=\"account-item-wrap\">\n                            </div>\n                            <div class=\"caret\">\n                                <i class=\"mdi mdi-20px mdi-menu-down\"></i>\n                            </div>\n                        </div>\n                        <div id=\"select-account-for-searching\" class=\"dropdown-content\">\n                        </div>\n                    </div>\n                </div>\n                <div class=\"single-acc\">\n                    <div class=\"dropdown-button\">\n                        <div class=\"account-item-wrap\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"title-property\">\n            <p class=\"property-name\">{[print(xabber.getString(\"searching__search_panel__label_title\"))]}</p>\n            <div class=\"input-field\">\n                <input id=\"searching_property_title\" type=\"text\" name=\"title\">\n            </div>\n        </div>\n        <div class=\"sorting-property\">\n            <p class=\"property-name\">{[print(xabber.getString(\"searching__search_panel__label_sort_by\"))]}</p>\n            <div class=\"input-field\">\n                <input id=\"searching_property_sort_by\" type=\"text\" name=\"title\">\n            </div>\n        </div>\n        <button class=\"btn-search btn btn-main-filled ground-color-700\">{[print(xabber.getString(\"search\"))]}</button>\n    </ul>\n</div>\n<div class=\"searching-result-wrap\">\n    <div class=\"chats-list-wrap\">\n        <div class=\"result-string\"></div>\n        <div class=\"preloader-wrapper preloader-17px active\">\n            <div class=\"spinner-layer\">\n                <div class=\"circle-clipper left\">\n                    <div class=\"circle\"></div>\n                </div>\n                <div class=\"gap-patch\">\n                    <div class=\"circle\"></div>\n                </div>\n                <div class=\"circle-clipper right\">\n                    <div class=\"circle\"></div>\n                </div>\n            </div></div>\n        <div class=\"chats-list\"></div></div>\n    <div class=\"searching-more\"></div>\n</div>"}),define("text!templates/searching/searching_account_item.html",[],function(){return"<div class=\"account-item-wrap\" data-jid=\"{{jid}}\">\n    <div class=\"name one-line\">{{jid}}</div>\n</div>"}),define("text!templates/searching/existing_groupchat_item.html",[],function(){return"<div class=\"existing-chat-wrap\" data-name=\"{{name}}\" data-jid=\"{{jid}}\">\n    <div class=\"account-indicator ground-color-{{color}}-500\"></div>\n    <div class=\"circle-avatar\">\n        <img>\n    </div>\n    <div class=\"existing-chat-item\">\n        <div class=\"name one-line\">{{name}}</div>\n        <div class=\"jid one-line\">{{jid}}</div>\n    </div>\n</div>"}),define("text!templates/searching/existing_groupchat_details_view.html",[],function(){return"<div class=\"block-header\">\n    <span class=\"block-name\">{[print(xabber.getString(\"searching__chat_properties__header\"))]}</span>\n</div>\n<div class=\"chat-properties-wrap selectable-text\">\n    <div class=\"info-wrap jid-info-wrap\">\n        <svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"xmpp\"></svg>\n        <div class=\"info jabber-id\">\n            <div class=\"value one-line\">{{jid}}</div>\n            <div class=\"label\">{[print(xabber.getString(\"group_settings__properties__label_jid\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap name-info-wrap\">\n        <i class=\"details-icon mdi mdi-24px mdi-account-box-outline\"></i>\n        <div class=\"info name\">\n            <div class=\"value one-line\">{{name}}</div>\n            <div class=\"label\">{[print(xabber.getString(\"groupchat_name\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap description-info-wrap\">\n        <i class=\"details-icon mdi mdi-24px mdi-file-document-box\"></i>\n        <div class=\"info description\">\n            <div class=\"value one-line\">{{description}}</div>\n            <div class=\"label\">{[print(xabber.getString(\"groupchat_description\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap anonymous-info-wrap\">\n        <i class=\"details-icon mdi mdi-24px mdi-comment-question-outline\"></i>\n        <div class=\"info anonymous\">\n            <div class=\"value one-line\">{{privacy}}</div>\n            <div class=\"label\">{[print(xabber.getString(\"groupchat_privacy_type_incognito\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap model-info-wrap\">\n        <i class=\"details-icon mdi mdi-24px mdi-lock-open-outline\"></i>\n        <div class=\"info model\">\n            <div class=\"value one-line\">{{membership}}</div>\n            <div class=\"label\">{[print(xabber.getString(\"groupchat_membership\"))]}</div>\n        </div>\n    </div>\n</div>\n<button class=\"btn-join-chat btn-flat btn-main btn-dark ground-color-100 hover-ground-color-300\">{[print(xabber.getString(\"groupchat_join\"))]}</button>\n"}),define("text!templates/contacts/roster_right.html",[],function(){return"<div class=\"contacts-panel noselect\">\n    <div class=\"collapsed-wrap\">\n        <i class=\"collapsed-contacts-icon mdi mdi-24px mdi-account-multiple\"></i>\n        <div class=\"all-contacts-counter\"></div>\n    </div>\n    <div class=\"expanded-wrap\">\n        <div class=\"roster-head panel-head\">\n            <div class=\"contacts-header\">{[print(xabber.getString(\"category_title_contacts\"))]}</div>\n            <div class=\"roster-button btn-pin\"></div>\n        </div>\n\n        <div class=\"contact-list-wrap\">\n            <div class=\"contact-list\">\n            </div>\n        </div>\n    </div>\n</div>\n"}),define("text!templates/contacts/roster_left.html",[],function(){return"<div class=\"contacts-panel noselect\">\n    <div class=\"contacts-search-form search-form panel-head\">\n        <div class=\"account-indicator\"></div>\n        <i class=\"search-icon mdi mdi-24px mdi-magnify\"></i>\n        <input type=\"text\" class=\"search-input simple-input-field\" tabindex=\"1\" placeholder='{[print(xabber.getString(\"search\"))]}'>\n        <i class=\"close-search-icon mdi mdi-24px mdi-close\"></i>\n    </div>\n\n    <div class=\"contact-list-wrap left-panel-list-wrap\">\n        <div class=\"contact-list item-list\">\n        </div>\n        <div class=\"searched-lists-wrap\">\n            <div class=\"chats-list-wrap hidden\">\n                <div class=\"account-indicator\"></div>\n                <div class=\"chats-title\">{[print(xabber.getString(\"search__header_chats\"))]}</div>\n                <div class=\"chats-list roster-left-container\"></div>\n            </div>\n            <div class=\"contacts-list-wrap hidden\">\n                <div class=\"account-indicator\"></div>\n                <div class=\"contacts-title\">{[print(xabber.getString(\"category_title_contacts\"))]}</div>\n                <div class=\"contacts-list roster-left-container\"></div>\n            </div>\n            <div class=\"messages-list-wrap hidden\">\n                <div class=\"account-indicator\"></div>\n                <div class=\"messages-title\">{[print(xabber.getString(\"search__header_messages\"))]}</div>\n                <div class=\"messages-list roster-left-container\"></div>\n            </div>\n        </div>\n    </div>\n</div>\n"}),define("text!templates/contacts/account_roster_right.html",[],function(){return"<div class=\"roster-account-info-wrap\">\n    <div class=\"roster-account-info\">\n        <div class=\"circle-avatar-wrap ground-color-500\">\n            <div class=\"circle-avatar border-color ground-color-700 noselect\"></div>\n        </div>\n        <div class=\"text-info-wrap\">\n            <p class=\"name text-color-700 one-line\"></p>\n            <p class=\"status-message text-color-700 one-line\"></p>\n            <div class=\"roster-info\">\n                <i class=\"mdi mdi-account-multiple-outline\"></i>\n                <span class=\"counter\"></span>\n            </div>\n        </div>\n    </div>\n    <div class=\"status-button\">\n        <div class=\"status\"></div>\n    </div>\n    <div class=\"roster-account-shrank-footer1\"></div>\n    <div class=\"roster-account-shrank-footer2\"></div>\n</div>\n"}),define("text!templates/contacts/account_roster_left.html",[],function(){return"<div class=\"roster-account-info-wrap\">\n    <div class=\"roster-account-info ground-color-100\">\n        <div class=\"account-indicator ground-color-700\"></div>\n        <div class=\"circle-avatar noselect\"></div>\n        <div class=\"text-info-wrap\">\n            <p class=\"name text-color-900 one-line\"></p>\n            <p class=\"jid one-line\"></p>\n        </div>\n        <div class=\"button-divider\"></div>\n    </div>\n    <div class=\"status-button\">\n        <div class=\"status\"></div>\n    </div>\n    <div class=\"roster-account-shrank-footer1 ground-color-50\">\n        <div class=\"account-indicator ground-color-300\"></div>\n    </div>\n    <div class=\"roster-account-shrank-footer2 ground-color-50\">\n        <div class=\"account-indicator ground-color-300\"></div>\n    </div>\n</div>\n"}),define("text!templates/contacts/group_right.html",[],function(){return"<div class=\"group-head\">\n    <i class=\"arrow mdi mdi-20px\"></i>\n    <div class=\"group-title\">\n        <span class=\"group-name one-line\"></span>\n        <span class=\"member-counter one-line\"></span>\n    </div>\n    <i class=\"group-icon mdi mdi-20px hidden\"></i>\n</div>\n"}),define("text!templates/contacts/group_left.html",[],function(){return"<div class=\"account-indicator ground-color-700\"></div>\n<div class=\"group-head\">\n    <i class=\"arrow mdi mdi-20px\"></i>\n    <div class=\"group-title\">\n        <span class=\"group-name one-line\"></span>\n        <span class=\"member-counter one-line\"></span>\n    </div>\n    <i class=\"group-icon mdi mdi-20px hidden\"></i>\n</div>\n"}),define("text!templates/contacts/add_contact.html",[],function(){return"<div class=\"modal-content-wrap\">\n    <div class=\"modal-header\">\n        <span>{[print(xabber.getString(\"dialog_add_contact__header\"))]}</span>\n        <div class=\"account-dropdown-wrap\" data-activates=\"select-account-for-add-contact\">\n            <div class=\"dropdown-button\">\n                <div class=\"account-item-wrap\">\n                    <div class=\"circle-avatar noselect\">\n                        <img>\n                    </div>\n                </div>\n            </div>\n            <div id=\"select-account-for-add-contact\" class=\"dropdown-content noselect\">\n            </div>\n        </div>\n    </div>\n    <div class=\"modal-content\">\n        <div class=\"add-contact-jid-step\">\n            <div class=\"row name-field\">\n                <div class=\"input-field\">\n                    <!--<label for=\"new_contact_username\">{[print(xabber.getString(\"dialog_add_contact__label_jid\"))]}</label>-->\n                    <input id=\"new_contact_username\" type=\"text\" placeholder='{[print(xabber.getString(\"dialog_add_contact__label_jid\"))]}' name=\"username\">\n                    <span class=\"errors fixed\"></span>\n                </div>\n            </div>\n        </div>\n        <!--<div class=\"add-contact-contact-step\">-->\n            <!--<div class=\"row name-field\">-->\n                <!--<div class=\"input-field\">-->\n                    <!--<label for=\"new_contact_name\">{[print(xabber.getString(\"contact_user\"))]}</label>-->\n                    <!--<input id=\"new_contact_name\" type=\"text\" placeholder='{[print(xabber.getString(\"contact_user\"))]}' name=\"contact_name\" required>-->\n                <!--</div>-->\n            <!--</div>-->\n            <!--<div class=\"row groups-field\">-->\n                <!--<div class=\"field-header\">{[print(xabber.getString(\"contact_circle\"))]}</div>-->\n                <!--<div class=\"groups checkbox-list\">-->\n                <!--</div>-->\n            <!--</div>-->\n        <!--</div>-->\n    </div>\n    <div class=\"modal-footer\">\n        <button class=\"btn-flat btn-main btn-add\">{[print(xabber.getString(\"dialog_add_contact__button_add\"))]}</button>\n        <button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"dialog_add_contact__button_cancel\"))]}</button>\n    </div>\n</div>\n"}),define("text!templates/contacts/contact_right_item.html",[],function(){return"<div class=\"circle-avatar noselect\"></div>\n<div class=\"text-info-wrap\">\n    <p class=\"name one-line\"></p>\n    <p class=\"jid one-line hidden\"></p>\n    <p class=\"status-message one-line\"></p>\n</div>\n<div class=\"status hide-offline\"></div>\n<div class=\"chat-icon hidden\"></div>\n"}),define("text!templates/contacts/contact_left_item.html",[],function(){return"<div class=\"circle-avatar noselect\"></div>\n<div class=\"text-info-wrap\">\n    <div class=\"name-wrap\">\n        <p class=\"name one-line\"></p>\n    </div>\n    <p class=\"jid one-line\"></p>\n</div>\n<div class=\"status hide-offline\"></div>\n<div class=\"chat-icon hidden\"></div>"}),define("text!templates/contacts/contact_blocked_item.html",[],function(){return"<div data-jid=\"{{jid}}\" class=\"blocked-contact\">\n    <div class=\"input-field checkbox-field\">\n        <input type=\"checkbox\" class=\"filled-in\" id=\"blocked-jid-switch-{{jid}}\"/>\n        <label for=\"blocked-jid-switch-{{jid}}\">{{jid}}</label>\n    </div>\n</div>"}),define("text!templates/contacts/contact_details.html",[],function(){return"<div class=\"panel-content-wrap noselect\">\n    <div class=\"main-info\">\n        <div class=\"avatar-wrap\">\n            <div class=\"circle-avatar\"/>\n            <div class=\"status hide-offline\"></div>\n        </div>\n        <div class=\"text-info\">\n            <div class=\"name-wrap\"></div>\n            <div class=\"status-message one-line\"></div>\n        </div>\n        <div class=\"btn-escape\">\n            <i class=\"mdi mdi-24px mdi-close\"></i>\n            <span class=\"btn-text\">{[print(xabber.getString(\"button_esc\"))]}</span>\n        </div>\n        <div class=\"btn-more  dropdown-button\" data-activates=\"{{view.cid}}-buttons-wrap\">\n            <i class=\"mdi mdi-24px mdi-dots-vertical\"></i>\n        </div>\n        <ul class=\"buttons-menu-wrap dropdown-content noselect\" id=\"{{view.cid}}-buttons-wrap\">\n            <li class=\"btn-qr-code\"><span class=\"one-line\">{[print(xabber.getString(\"contact_settings__button_show_qr_code\"))]}</span></li>\n            <li class=\"btn-auth-request\"><span class=\"one-line\">{[print(xabber.getString(\"contact_settings__button_request_authorization\"))]}</span></li>\n            <li class=\"btn-add\"><span class=\"one-line\">{[print(xabber.getString(\"contact_add\"))]}</span></li>\n            <li class=\"btn-delete\"><span class=\"one-line\">{[print(xabber.getString(\"remove_contact\"))]}</span></li>\n        </ul>\n        <div class=\"buttons-wrap\">\n            <div class=\"button-wrap btn-chat-wrap\">\n                <i class=\"mdi mdi-24px mdi-message-text btn-chat\"></i>\n                <div class=\"btn-name\">{[print(xabber.getString(\"contact_bar_chat\"))]}</div>\n            </div>\n            <div class=\"button-wrap btn-voice-call-wrap\">\n                <i class=\"mdi mdi-24px mdi-phone btn-voice-call\"></i>\n                <div class=\"btn-name\">{[print(xabber.getString(\"contact_bar_call\"))]}</div>\n            </div>\n            <div class=\"button-wrap btn-mute-wrap\">\n                <i class=\"mdi mdi-24px mdi-bell btn-mute\"></i>\n                <div class=\"btn-name\">{[print(xabber.getString(\"contact_bar_notifications\"))]}</div>\n            </div>\n            <div class=\"button-wrap btn-block-wrap\">\n                <i class=\"mdi mdi-24px mdi-block-helper btn-block\"></i>\n                <div class=\"btn-name\">{[print(xabber.getString(\"contact_bar_block\"))]}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"panel-content private-chat\">\n        <div class=\"left-column\">\n            <div class=\"block-wrap subscription-block-wrap\">\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"contact_subscription_settings\"))]}</span>\n                </div>\n                <div class=\"subscription-info-wrap\">\n                    <div class=\"incoming-subscription-wrap\">\n                        <div class=\"input-field checkbox-field incoming-subscription-wrap\">\n                            <input type=\"checkbox\" class=\"filled-in\" id=\"incoming-subscription\"/>\n                            <label for=\"incoming-subscription\"></label>\n                        </div>\n                    </div>\n                    <div class=\"outcoming-subscription-wrap\">\n                        <div class=\"input-field checkbox-field incoming-subscription-wrap\">\n                            <input type=\"checkbox\" class=\"filled-in\" id=\"outcoming-subscription\"/>\n                            <label for=\"outcoming-subscription\"></label>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"block-wrap vcard\">\n            </div>\n        </div>\n        <div class=\"right-column\">\n            <div class=\"block-wrap resources-block-wrap hidden\">\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"contact_info_connected_clients_header\"))]}</span>\n                </div>\n                <div class=\"resources-wrap\">\n                </div>\n            </div>\n            <div class=\"block-wrap groups-block-wrap\"></div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/contact_details_right.html",[],function(){return"<div class=\"panel-background-clickable\"></div>\n<div class=\"panel-content-wrap noselect\">\n    <div class=\"main-info\">\n        <div class=\"avatar-wrap\">\n            <div class=\"circle-avatar\"/>\n        </div>\n        <div class=\"text-info\">\n            <div class=\"name-wrap\"></div>\n        </div>\n        <div class=\"header-buttons\">\n            <div class=\"btn-escape\">\n                <i class=\"mdi mdi-24px mdi-close\"></i>\n                <span class=\"btn-text\">{[print(xabber.getString(\"button_esc\"))]}</span>\n            </div>\n            <span class=\"block-name\">{[print(xabber.getString(\"contact_viewer\"))]}</span>\n            <span class=\"block-name second-text\"></span>\n            <div class=\"btn-qr-code\">\n                <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"qrcode\"></svg>\n            </div>\n            <div class=\"btn-edit\">\n                <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"edit-outline\"></svg>\n            </div>\n        </div>\n        <div class=\"buttons-wrap\">\n            <div class=\"button-wrap btn-voice-call-wrap\">\n                <div class=\"contact-btn btn-voice-call  fill-color-500\"><svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"call\"></svg></div>\n                <div class=\"btn-name\">{[print(xabber.getString(\"contact_bar_call\"))]}</div>\n            </div>\n            <div class=\"button-wrap btn-search-messages\">\n                <div class=\"contact-btn btn-search fill-color-500\"><svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"search\"></svg></div>\n                <div class=\"btn-name\">{[print(xabber.getString(\"search\"))]}</div>\n            </div>\n            <div class=\"button-wrap btn-mute-wrap\">\n                <div class=\"contact-btn btn-mute dropdown-button fill-color-500\" data-activates=\"{{view.cid}}-more\"><svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"bell\"></svg></div>\n                <div class=\"btn-name\">{[print(xabber.getString(\"contact_bar_notifications\"))]}</div>\n\n                <ul id=\"{{view.cid}}-more\" class=\"contact-mute-dropdown dropdown-content noselect\">\n                    <li class=\"btn-unmute-dropdown\">\n                        <span class=\"one-line\">{[print(xabber.getString(\"unmute_chat\"))]}</span>\n                    </li>\n                    <li class=\"btn-mute-dropdown\" data-mute=\"minutes15\">\n                        <span class=\"one-line\">{[print(xabber.getString(\"mute_15_min\"))]}</span>\n                    </li>\n                    <li class=\"btn-mute-dropdown\" data-mute=\"hours1\">\n                        <span class=\"one-line\">{[print(xabber.getString(\"mute_1_hour\"))]}</span>\n                    </li>\n                    <li class=\"btn-mute-dropdown\" data-mute=\"hours2\">\n                        <span class=\"one-line\">{[print(xabber.getString(\"mute_2_hours\"))]}</span>\n                    </li>\n                    <li class=\"btn-mute-dropdown\" data-mute=\"day\">\n                        <span class=\"one-line\">{[print(xabber.getString(\"mute_1_day\"))]}</span>\n                    </li>\n                    <li class=\"btn-mute-dropdown\" data-mute=\"forever\">\n                        <span class=\"one-line\">{[print(xabber.getString(\"mute_forever\"))]}</span>\n                    </li>\n                </ul>\n            </div>\n            <div class=\"button-wrap btn-block-wrap\">\n                <div class=\"contact-btn btn-block fill-color-500\"><svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"cancel\"></svg></div>\n                <div class=\"btn-name text-color-500\">{[print(xabber.getString(\"contact_bar_block\"))]}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"panel-content private-chat\">\n        <div class=\"block-wrap vcard\">\n        </div>\n        <div class=\"block-wrap groups-block-wrap\"></div>\n        <div class=\"block-wrap edit-block-wrap\"></div>\n        <div class=\"block-wrap search-messages-block-wrap\"></div>\n        <div class=\"bottom-block\">\n            <ul class=\"tabs\">\n                <li data-value=\"media\" class=\"list-variant tab\"><a class=\"text-color-700\">Media</a></li>\n                <li data-value=\"files\" class=\"list-variant tab\"><a class=\"text-color-700\">Files</a></li>\n                <li data-value=\"links\" class=\"list-variant tab\"><a class=\"text-color-700\">Links</a></li>\n                <li data-value=\"voice\" class=\"list-variant tab\"><a class=\"text-color-700\">Voice</a></li>\n            </ul>\n            <div class=\"block-wrap participants-wrap\"></div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/roster_settings.html",[],function(){return"    <div class=\"setting-name\">{[print(xabber.getString(\"settings__section_contact_list__header_offline_contacts\"))]}</div>\n    <div class=\"setting offline-contacts radio-button field-wrap\">\n        <div class=\"field radio-field clickable-field\">\n            <form action=\"#\">\n                <p>\n                    <input class=\"with-gap\" name=\"offline-contacts\" value=\"yes\" type=\"radio\" id=\"{{view.cid}}-show\" />\n                    <label for=\"{{view.cid}}-show\">{[print(xabber.getString(\"settings__section_contact_list__offline_contacts__label_show\"))]}</label>\n                </p>\n                <p>\n                    <input class=\"with-gap\" name=\"offline-contacts\" value=\"no\" type=\"radio\" id=\"{{view.cid}}-hide\" />\n                    <label for=\"{{view.cid}}-hide\">{[print(xabber.getString(\"settings__section_contact_list__offline_contacts__label_hide\"))]}</label>\n                </p>\n            </form>\n        </div>\n    </div>\n    <div class=\"setting-name\">{[print(xabber.getString(\"settings__section_contact_list__header_sorting\"))]}</div>\n    <div class=\"setting sorting-contacts radio-button field-wrap\">\n        <div class=\"field radio-field clickable-field\">\n            <form action=\"#\">\n                <p>\n                    <input class=\"with-gap\" name=\"sorting-contacts\" value=\"online-first\" type=\"radio\" id=\"{{view.cid}}-online-first\" />\n                    <label for=\"{{view.cid}}-online-first\">{[print(xabber.getString(\"settings__section_contact_list__sorting__label_online_first\"))]}</label>\n                </p>\n                <p>\n                    <input class=\"with-gap\" name=\"sorting-contacts\" value=\"by-alphabet\" type=\"radio\" id=\"{{view.cid}}-by-alphabet\" />\n                    <label for=\"{{view.cid}}-by-alphabet\">{[print(xabber.getString(\"settings__section_contact_list__sorting__label_alphabet\"))]}</label>\n                </p>\n            </form>\n        </div>\n    </div>\n"}),define("text!templates/contacts/group_settings.html",[],function(){return"<div class=\"modal-content-wrap settings-panel\">\n    <div class=\"modal-header\">\n        <span>{[print(xabber.getString(\"dialog_circle_settings__header\"))]}</span>\n    </div>\n\n    <div class=\"modal-content\">\n            <div class=\"field-wrap group-name\">\n                <div class=\"input-field\">\n                    <label for=\"{{view.cid}}-group-name\">{[print(xabber.getString(\"circle_name\"))]}</label>\n                    <input id=\"{{view.cid}}-group-name\" type=\"text\" name=\"group_name\">\n                    <span class=\"errors fixed\"></span>\n                </div>\n            </div>\n\n            <div class=\"setting-name\">{[print(xabber.getString(\"category_offline_contacts\"))]}</div>\n            <div class=\"setting-wrap\">\n                <div class=\"setting offline radio-button field-wrap\">\n                    <div class=\"field radio-field clickable-field\">\n                        <form action=\"#\">\n                            <p>\n                                <input class=\"with-gap\" name=\"offline\" value=\"yes\" type=\"radio\" id=\"{{view.cid}}-show\" />\n                                <label for=\"{{view.cid}}-show\">{[print(xabber.getString(\"show_offline_always\"))]}</label>\n                            </p>\n                            <p>\n                                <input class=\"with-gap\" name=\"offline\" value=\"no\" type=\"radio\" id=\"{{view.cid}}-hide\" />\n                                <label for=\"{{view.cid}}-hide\">{[print(xabber.getString(\"hide_offline_always\"))]}</label>\n                            </p>\n                            <p>\n                                <input class=\"with-gap\" name=\"offline\" value=\"default\" type=\"radio\" id=\"{{view.cid}}-show-offline-default\" />\n                                <label for=\"{{view.cid}}-show-offline-default\">{[print(xabber.getString(\"dialog_circle_settings__label_common_settings\"))]}</label>\n                            </p>\n                        </form>\n                    </div>\n                </div>\n            </div>\n    </div>\n    <div class=\"modal-footer\">\n        <button class=\"btn-flat btn-main btn-dark btn-delete left\">{[print(xabber.getString(\"circle_remove\"))]}</button>\n        <button class=\"btn-flat btn-main btn-apply\">{[print(xabber.getString(\"dialog_circle_settings__button_apply\"))]}</button>\n        <button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button>\n    </div>\n</div>\n"}),define("text!templates/contacts/groups_checkbox_list.html",[],function(){return"{[ for (var i = 0; i < groups.length; i++) { var name = groups[i].name, checked = groups[i].checked, group_id = groups[i].id; ]}\n    {[ if (!checked) {]}\n        <div class=\"input-field checkbox-field existing-group-field\">\n            <input type=\"checkbox\" class=\"filled-in\" id=\"{{group_id}}\" data-groupname=\"{{name}}\" {[ if (checked) { ]}checked=\"checked\"{[ } ]} />\n            <label for=\"{{group_id}}\">{{name}}</label>\n        </div>\n    {[}]}\n{[ } ]}\n"}),define("text!templates/contacts/groups_checkbox_list_contact.html",[],function(){return"{[ for (var i = 0; i < groups.length; i++) { var name = groups[i].name, checked = groups[i].checked, group_id = groups[i].id; ]}\n    <div class=\"input-field checkbox-field existing-group-field\">\n        <input type=\"checkbox\" class=\"filled-in\" id=\"{{group_id}}\" data-groupname=\"{{name}}\" {[ if (checked) { ]}checked=\"checked\"{[ } ]} />\n        <label for=\"{{group_id}}\">{{name}}</label>\n    </div>\n{[ } ]}\n    <div class=\"new-group-field-wrap\">\n        <div class=\"input-field checkbox-field new-group-checkbox\">\n            <input type=\"checkbox\" disabled class=\"filled-in\" id=\"new_group_checkbox\"/>\n            <label for=\"new_group_checkbox\"></label>\n        </div>\n        <div class=\"input-field new-group-name\">\n            <input class=\"rich-textarea xabber-input\" id=\"new-group-name\" type=\"text\" name=\"new_group_name\" placeholder='{[print(xabber.getString(\"add_new_circle\"))]}'>\n        </div>\n    </div>\n"}),define("text!templates/contacts/groups_new_group.html",[],function(){return"<div class=\"new-group-field-wrap\">\n    <div class=\"input-field checkbox-field new-group-checkbox\">\n        <input type=\"checkbox\" disabled class=\"filled-in\" id=\"new_group_checkbox\"/>\n        <label for=\"new_group_checkbox\"></label>\n    </div>\n    <div class=\"input-field new-group-name\">\n        <input class=\"xabber-input\" id=\"new-group-name\" autocomplete=\"off\" type=\"text\" name=\"new_group_name\" placeholder='{[print(xabber.getString(\"add_new_circle\"))]}'>\n    </div>\n</div>"}),define("text!templates/contacts/groups_list.html",[],function(){return"{[ for (var i = 0; i < groups.length; i++) { var name = groups[i].name, checked = groups[i].checked, group_id = groups[i].id; ]}\n    {[ if (checked) {]}\n        <div data-groupname=\"{{name}}\" title=\"{[print(xabber.getString('contact_tooltip_remove_by_click'))]}\" class=\"group ground-color-50\">\n            <div>{{name}}</div>\n        </div>\n    {[}]}\n\n{[ } ]}\n"}),define("text!templates/contacts/add_contact_account_item.html",[],function(){return"<div class=\"account-item-wrap property-variant\" data-jid=\"{{jid}}\">\n    <div class=\"circle-avatar noselect\">\n        <img>\n    </div>\n    <div class=\"name-wrap\">\n        <div class=\"name one-line\">{{name}}</div>\n        <div class=\"jid one-line\">{{jid}}</div>\n    </div>\n</div>\n"}),define("text!templates/contacts/contact_placeholder.html",[],function(){return"<div class=\"text\">{[print(xabber.getString(\"contact_list__placeholder\"))]}</div>\n"}),define("text!templates/contacts/groups.html",[],function(){return"<div class=\"groups-list-wrap\">\n    <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"circles\"></svg></div>\n    <div class=\"groups\">\n    </div>\n    </div>\n</div>\n<div class=\"groups-wrap\">\n    <div class=\"checkbox-list\">\n    </div>\n</div>"}),define("text!templates/contacts/edit_contact.html",[],function(){return"\n<div class=\"edit-wrap\">\n    <div class=\"edit-header block-header\">\n        <i class=\"details-icon btn-back mdi mdi-24px mdi-arrow-left\"></i>\n        <span class=\"block-name\">{[print(xabber.getString(\"edit_vcard\"))]}</span>\n    </div>\n    <div class=\"edit-contact\">\n        <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"account-outline\"></svg></div>\n        <div class=\"name-wrap\"></div>\n    </div>\n    <div class=\"subscription-statuses\">\n        <div class=\"status-out subscription-status-wrap dropdown-button\" data-activates=\"{{view.cid}}-status-out\">\n            <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"subscription-to\"></svg></div>\n            <div class=\"info\">\n                <div class=\"value dotted-underline one-line\"></div>\n            </div>\n        </div>\n        <div id=\"{{view.cid}}-status-out\" class=\"status-out-dropdown dropdown-content noselect\">\n            <div class=\"btn-request property-variant hidden\">\n                <div class=\"one-line\">{[print(xabber.getString(\"contact_subscription_request_subscription\"))]}</div>\n            </div>\n            <div class=\"btn-cancel-request property-variant hidden\">\n                <div class=\"one-line\">{[print(xabber.getString(\"contact_subscription_cancel_request_subscription\"))]}</div>\n            </div>\n            <div class=\"btn-cancel-subscription-out property-variant hidden\">\n                <div class=\"one-line\">{[print(xabber.getString(\"contact_subscription_cancel_subscription\"))]}</div>\n            </div>\n        </div>\n        <div class=\"status-in subscription-status-wrap dropdown-button\" data-activates=\"{{view.cid}}-status-in\">\n            <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"subscription-from\"></svg></div>\n            <div class=\"info\">\n                <div class=\"value dotted-underline one-line\"></div>\n            </div>\n        </div>\n        <div id=\"{{view.cid}}-status-in\" class=\"status-in-dropdown dropdown-content noselect\">\n            <div class=\"btn-allow property-variant hidden\">\n                <div class=\"one-line\">{[print(xabber.getString(\"contact_subscription_allow_subscription\"))]}</div>\n            </div>\n            <div class=\"btn-allow-request property-variant hidden\">\n                <div class=\"one-line\">{[print(xabber.getString(\"contact_subscription_allow_subscription\"))]}</div>\n            </div>\n            <div class=\"btn-disallow-request property-variant hidden\">\n                <div class=\"one-line\">{[print(xabber.getString(\"decline\"))]}</div>\n            </div>\n            <div class=\"btn-cancel-subscription-in property-variant hidden\">\n                <div class=\"one-line\">{[print(xabber.getString(\"contact_subscription_cancel_subscription\"))]}</div>\n            </div>\n        </div>\n        <div class=\"status-description subscription-status-wrap\">\n            <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"information-outline\"></svg></div>\n            <div class=\"info\">\n                <div class=\"value\"></div>\n            </div>\n        </div>\n    </div>\n    <div class=\"edit-buttons\">\n        <div class=\"edit-button btn-delete\">\n            <div class=\"details-icon-wrap\"><i class=\"details-icon mdi mdi-24px mdi-delete text-color-500\"></i></div>\n            <div class=\"edit-button-text \">\n                <span class=\"text-color-500 dotted-underline text-decoration-color-300 one-line\">{[print(xabber.getString(\"contact_delete_full\"))]}</span>\n            </div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/edit_group.html",[],function(){return"\n<div class=\"edit-wrap\">\n    <div class=\"edit-save-preloader preloader-wrap\">\n        <div class=\"preloader-wrapper preloader-17px visible\">\n            <div class=\"spinner-layer\">\n                <div class=\"circle-clipper left\">\n                    <div class=\"circle\"></div>\n                </div>\n                <div class=\"gap-patch\">\n                    <div class=\"circle\"></div>\n                </div>\n                <div class=\"circle-clipper right\">\n                    <div class=\"circle\"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"edit-header main-edit-header block-header\">\n        <i class=\"details-icon btn-back mdi mdi-24px mdi-arrow-right\"></i>\n        <span class=\"block-name\"></span>\n        <div class=\"btn-edit\">\n            <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"edit-outline\"></svg>\n        </div>\n    </div>\n    <div class=\"edit-group vcard\">\n        <div class=\"info-wrap description-info-wrap\">\n            <div class=\"details-icon-wrap\">\n                <svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"description-outline\"></svg>\n            </div>\n            <div class=\"info-hover\">\n                <div class=\"info description\">\n                    <div class=\"edit-group-name value\"></div>\n                    <div class=\"edit-group-description value\"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"description-edit-wrap hidden\">\n        <div class=\"edit-header property-header description-header block-header\">\n            <i class=\"details-icon btn-property-back btn-back mdi mdi-24px mdi-arrow-right\"></i>\n            <span class=\"block-name\">{[print(xabber.getString(\"groupchat_properties\"))]}</span>\n            <span class=\"block-name second-text fade-out\"></span>\n            <button class=\"btn-save btn-flat text-color-500 btn-main fade-out\">{[print(xabber.getString(\"save\"))]}</button>\n        </div>\n        <div class=\"main-info\">\n            <div class=\"avatar-wrap\">\n                <div class=\"circle-avatar\">\n                    <input title='{[print(xabber.getString(\"groupchat_member_edit_change_avatar\"))]}' type=\"file\"/>\n                    <svg class=\"set-groupchat-avatar\" viewBox=\"0 0 24 24\">\n                        <path d=\"M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z\" />\n                    </svg>\n                    <div class=\"preloader-wrap\">\n                        <div class=\"preloader-wrapper preloader-32px visible\">\n                            <div class=\"spinner-layer\">\n                                <div class=\"circle-clipper left\">\n                                    <div class=\"circle\"></div>\n                                </div>\n                                <div class=\"gap-patch\">\n                                    <div class=\"circle\"></div>\n                                </div>\n                                <div class=\"circle-clipper right\">\n                                    <div class=\"circle\"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"set-groupchat-avatar-text\">{[print(xabber.getString(\"groupchat_set_avatar\"))]}</div>\n            </div>\n        </div>\n        <div class=\"edit-group\">\n            <div class=\"edit-group-name-wrap\"></div>\n            <div class=\"edit-group-description-wrap\"></div>\n        </div>\n    </div>\n    <div class=\"edit-properties\">\n        <div class=\"group-property membership-property\">\n            <div class=\"details-icon-wrap\" ><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"membership-outline\"></svg></div>\n            <div class=\"group-property-text dotted-underline\">\n                {[print(xabber.getString(\"groupchat_membership\"))]}\n                <span></span>\n            </div>\n            <div class=\"details-icon-wrap\"><svg class=\"details-icon-right mdi mdi-28px mdi-svg-template\" data-svgname=\"chevron-right-variant\"></svg></div>\n        </div>\n        <div class=\"group-property index-property\">\n            <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"index\"></svg></div>\n            <div class=\"group-property-text dotted-underline\">\n                {[print(xabber.getString(\"groupchat_index\"))]}\n                <span></span>\n            </div>\n            <div class=\"details-icon-wrap\"><svg class=\"details-icon-right mdi mdi-28px mdi-svg-template\" data-svgname=\"chevron-right-variant\"></svg></div>\n        </div>\n        <div class=\"edit-button btn-default-restrictions\">\n            <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"restrictions-outline\"></svg></div>\n            <div class=\"edit-button-text\">\n                <span class=\"one-line dotted-underline\">{[print(xabber.getString(\"groupchat_default_restrictions\"))]}</span>\n                <span class=\"edit-button-value\"></span>\n            </div>\n            <div class=\"details-icon-wrap\"><svg class=\"details-icon-right mdi mdi-28px mdi-svg-template\" data-svgname=\"chevron-right-variant\"></svg></div>\n        </div>\n    </div>\n    <div class=\"membership-property-edit-wrap hidden\">\n        <div class=\"edit-header property-header block-header\">\n            <i class=\"details-icon btn-property-back btn-back mdi mdi-24px mdi-arrow-right\"></i>\n            <span class=\"block-name\">{[print(xabber.getString(\"groupchat_membership\"))]}</span>\n            <span class=\"block-name second-text fade-out\"></span>\n            <button class=\"btn-save btn-flat text-color-500 btn-main fade-out\">{[print(xabber.getString(\"save\"))]}</button>\n        </div>\n        <div class=\"property-wrap membership-field\">\n            <div class=\"property-radio\">\n                <input id=\"open\" name=\"membership-property-input\" type=\"radio\" class=\"with-gap\" required=\"\">\n                <label class=\"property-label\" for=\"open\">{[print(xabber.getString(\"groupchat_membership_type_open\"))]}</label>\n            </div>\n            <div class=\"property-radio\">\n                <input id=\"member-only\" name=\"membership-property-input\" type=\"radio\" class=\"with-gap\" required=\"\">\n                <label class=\"property-label\" for=\"member-only\">{[print(xabber.getString(\"groupchat_membership_type_members_only\"))]}</label>\n            </div>\n        </div>\n        <div class=\"property-description\">{[print(xabber.getString(\"groupchat_membership_description\"))]}</div>\n    </div>\n    <div class=\"index-property-edit-wrap hidden\">\n        <div class=\"edit-header property-header block-header\">\n            <i class=\"details-icon btn-property-back btn-back mdi mdi-24px mdi-arrow-right\"></i>\n            <span class=\"block-name\">{[print(xabber.getString(\"groupchat_index\"))]}</span>\n            <span class=\"block-name second-text fade-out\"></span>\n            <button class=\"btn-save btn-flat text-color-500 btn-main fade-out\">{[print(xabber.getString(\"save\"))]}</button>\n        </div>\n        <div class=\"property-wrap index-field\">\n            <div class=\"property-radio\">\n                <input id=\"none\" name=\"index-property-input\" type=\"radio\" class=\"with-gap\" required=\"\">\n                <label class=\"property-label\" for=\"none\">{[print(xabber.getString(\"groupchat_index_type_none\"))]}</label>\n            </div>\n            <div class=\"property-radio\">\n                <input id=\"local\" name=\"index-property-input\" type=\"radio\" class=\"with-gap\" required=\"\">\n                <label class=\"property-label\" for=\"local\">{[print(xabber.getString(\"groupchat_index_type_local\"))]}</label>\n            </div>\n            <div class=\"property-radio\">\n                <input id=\"global\" name=\"index-property-input\" type=\"radio\" class=\"with-gap\" required=\"\">\n                <label class=\"property-label\" for=\"global\">{[print(xabber.getString(\"groupchat_index_type_global\"))]}</label>\n            </div>\n        </div>\n        <div class=\"property-description\">{[print(xabber.getString(\"groupchat_index_description\"))]}</div>\n    </div>\n    <div class=\"bottom-block edit-bottom-block\">\n        <div class=\"edit-pictured-buttons\">\n            <div data-value=\"invitations\" class=\"list-variant invitations-variant\">\n                <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"invite-outline\"></svg></div>\n                <div class=\"variant-text dotted-underline\">{[print(xabber.getString(\"groupchat_invitations\"))]}<span class=\"counted\"></span></div>\n                <div class=\"details-icon-wrap\"><svg class=\"details-icon-right mdi mdi-28px mdi-svg-template\" data-svgname=\"chevron-right-variant\"></svg></div>\n            </div>\n            <div data-value=\"blocked\" class=\"list-variant blocked-variant\">\n                <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"cancel\"></svg></div>\n                <div class=\"variant-text dotted-underline\">{[print(xabber.getString(\"group_settings__block_list__header\"))]}<span class=\"counted\"></span></div>\n                <div class=\"details-icon-wrap\"><svg class=\"details-icon-right mdi mdi-28px mdi-svg-template\" data-svgname=\"chevron-right-variant\"></svg></div>\n            </div>\n        </div>\n        <i class=\"details-icon participants-edit-back btn-back-panel mdi mdi-24px mdi-arrow-right\"></i>\n        <span class=\"block-name-panel\"></span>\n        <span class=\"block-name-panel second-text fade-out\">{[print(xabber.getString(\"groupchat_selected\"))]} <span></span></span>\n        <div class=\"btn-add-block\">\n            <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"blocked-add\"></svg>\n        </div>\n        <i class=\"mdi mdi-24px mdi-account-multiple-plus btn-invite\"></i>\n        <button class=\"btn-remove-selected btn-flat btn-main fade-out\">{[print(xabber.getString(\"groupchat_revoke\"))]}</button>\n        <div class=\"block-wrap participants-edit-wrap\"></div>\n    </div>\n    <div class=\"edit-buttons\">\n        <div class=\"edit-button btn-clear-history-chat\">\n            <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"history\"></svg></div>\n            <div class=\"edit-button-text\">\n                <span class=\"one-line dotted-underline\">{[print(xabber.getString(\"clear_history\"))]}</span>\n            </div>\n        </div>\n        <div class=\"edit-button btn-delete-group\">\n            <div class=\"details-icon-wrap\"><i class=\"details-icon mdi mdi-24px mdi-delete text-color-500\"></i></div>\n            <div class=\"edit-button-text\">\n                <span class=\"text-color-500 one-line text-decoration-color-300 dotted-underline\">{[print(xabber.getString(\"group_settings__button_delete_group\"))]}</span>\n            </div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/preloader.html",[],function(){return"<div class=\"preloader-wrapper preloader-17px active visible\">\n    <div class=\"spinner-layer\">\n        <div class=\"circle-clipper left\">\n            <div class=\"circle\"></div>\n        </div>\n        <div class=\"gap-patch\">\n            <div class=\"circle\"></div>\n        </div>\n        <div class=\"circle-clipper right\">\n            <div class=\"circle\"></div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/group_chat_properties.html",[],function(){return"<div class=\"block-header\">\n    <span class=\"block-name\"></span>\n    <span class=\"btn-edit-settings\">{[print(xabber.getString(\"group_settings__properties__button_edit\"))]}</span>\n</div>\n<div class=\"group-chat-properties vcard\">\n    <div class=\"info-wrap jid-info-wrap\">\n        <div title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon-wrap\">\n            <svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"xmpp\"></svg>\n        </div>\n        <div class=\"info jabber-id\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"group_settings__properties__label_jid\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap name-info-wrap\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-account-box-outline\"></i>\n        <div class=\"info name\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"groupchat_name\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap description-info-wrap\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-file-document-box\"></i>\n        <div class=\"info description\">\n            <div class=\"value\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"groupchat_description\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap searchable-info-wrap\">\n        <svg class=\"details-icon toolbar-icon mdi mdi-24px\" viewBox=\"0 0 24 24\">\n            <path title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' d=\"M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M19.35,8.03C21.95,8.22 24,10.36 24,13C24,14.64 23.21,16.1 22,17V16.5A6.5,6.5 0 0,0 15.5,10A6.5,6.5 0 0,0 9,16.5C9,17 9.06,17.5 9.17,18H6A6,6 0 0,1 0,12C0,8.9 2.34,6.36 5.35,6.03C6.6,3.64 9.11,2 12,2C15.64,2 18.67,4.59 19.35,8.03Z\"></path>\n        </svg>\n        <div class=\"info searchable\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"group_settings__properties__label_indexed\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap model-info-wrap\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-lock\"></i>\n        <div class=\"info model\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"groupchat_membership\"))]}</div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/group_chat_properties_right.html",[],function(){return"<div class=\"block-header\">\n    <span class=\"block-name\"></span>\n    <span class=\"btn-edit-settings\">{[print(xabber.getString(\"group_settings__properties__button_edit\"))]}</span>\n</div>\n<div class=\"group-chat-properties vcard-wrap\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'>\n    <div class=\"info-wrap jid-info-wrap\">\n        <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"id-outline\"></svg></div>\n        <div class=\"info-hover\">\n            <div class=\"info jabber-id\">\n                <div class=\"value one-line\"></div>\n                <div class=\"label\">{[print(xabber.getString(\"group_settings__properties__label_jid\"))]}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"info-wrap description-info-wrap\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'>\n        <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"description-outline\"></svg></div>\n        <div class=\"info-hover\">\n            <div class=\"info description short\">\n                <div class=\"value\"></div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"full-vcard-wrap\">\n    <div class=\"full-vcard-content\">\n        <div class=\"vcard-header block-header\">\n            <div class=\"vcard-header-title\">\n                <i class=\"details-icon btn-back mdi mdi-24px mdi-arrow-left\"></i>\n                <span class=\"block-name\">{[print(xabber.getString(\"contact_vcard_header_title\"))]}</span>\n            </div>\n            <div class=\"main-info\">\n                <div class=\"avatar-wrap\">\n                    <div class=\"circle-avatar\"/>\n                </div>\n                <div class=\"text-info\">\n                    <div class=\"name-wrap\"></div>\n                </div>\n            </div>\n        </div>\n        <div class=\"vcard-list\">\n            <div class=\"info-wrap jid-info-wrap\">\n                <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"id-outline\"></svg></div>\n                <div class=\"info-hover\">\n                    <div class=\"info jabber-id\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"group_settings__properties__label_jid\"))]}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"info-wrap name-info-wrap\">\n                <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-account-box-outline\"></i>\n                <div class=\"info-hover\">\n                    <div class=\"info name\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"groupchat_name\"))]}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"info-wrap description-info-wrap\">\n                <div class=\"details-icon-wrap\">\n                    <svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"description-outline\"></svg>\n                </div>\n                <div class=\"info-hover\">\n                    <div class=\"info description\">\n                        <div class=\"value\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"groupchat_description\"))]}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"info-wrap searchable-info-wrap\">\n                <svg class=\"details-icon toolbar-icon mdi mdi-24px\" viewBox=\"0 0 24 24\">\n                    <path title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' d=\"M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M19.35,8.03C21.95,8.22 24,10.36 24,13C24,14.64 23.21,16.1 22,17V16.5A6.5,6.5 0 0,0 15.5,10A6.5,6.5 0 0,0 9,16.5C9,17 9.06,17.5 9.17,18H6A6,6 0 0,1 0,12C0,8.9 2.34,6.36 5.35,6.03C6.6,3.64 9.11,2 12,2C15.64,2 18.67,4.59 19.35,8.03Z\"></path>\n                </svg>\n                <div class=\"info-hover\">\n                    <div class=\"info searchable\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"group_settings__properties__label_indexed\"))]}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"info-wrap model-info-wrap\">\n                <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-lock\"></i>\n                <div class=\"info-hover\">\n                    <div class=\"info model\">\n                        <div class=\"value one-line\"></div>\n                        <div class=\"label\">{[print(xabber.getString(\"groupchat_membership\"))]}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/group_chat_details.html",[],function(){return"<div class=\"panel-content-wrap noselect\">\n    <div class=\"main-info\">\n        <div class=\"avatar-wrap\">\n            <div class=\"circle-avatar\">\n                <input title='{[print(xabber.getString(\"groupchat_member_edit_change_avatar\"))]}' type=\"file\"/>\n                <svg class=\"set-groupchat-avatar\" viewBox=\"0 0 24 24\">\n                    <path d=\"M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z\" />\n                </svg>\n                <div class=\"preloader-wrap\"><div class=\"preloader-wrapper preloader-32px visible\">\n                    <div class=\"spinner-layer\">\n                        <div class=\"circle-clipper left\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"gap-patch\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"circle-clipper right\">\n                            <div class=\"circle\"></div>\n                        </div>\n                    </div>\n                </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"text-info\">\n            <div class=\"name-wrap\"></div>\n            <div class=\"status-message one-line\"></div>\n        </div>\n        <div class=\"btn-more dropdown-button\" data-activates=\"{{view.cid}}-buttons-wrap\">\n            <i class=\"mdi mdi-24px mdi-dots-vertical\"></i>\n        </div>\n        <ul class=\"buttons-menu-wrap dropdown-content noselect\" id=\"{{view.cid}}-buttons-wrap\">\n            <li class=\"btn-qr-code\"><span class=\"one-line\">{[print(xabber.getString(\"contact_settings__button_show_qr_code\"))]}</span></li>\n            <li class=\"btn-edit-settings\"><span class=\"one-line\">{[print(xabber.getString(\"groupchat_settings\"))]}</span></li>\n            <li class=\"btn-default-restrictions\"><span class=\"one-line\">{[print(xabber.getString(\"groupchat_default_restrictions\"))]}</span></li>\n            <li class=\"btn-delete-group\"><span class=\"one-line\">{[print(xabber.getString(\"group_settings__button_delete_group\"))]}</span></li>\n        </ul>\n        <div class=\"btn-escape\">\n            <i class=\"mdi mdi-24px mdi-close\"></i>\n            <span class=\"btn-text\">{[print(xabber.getString(\"button_esc\"))]}</span>\n        </div>\n        <div class=\"buttons-wrap\">\n            <div class=\"button-wrap btn-chat-wrap\">\n                <i class=\"mdi mdi-24px mdi-message-text btn-chat\"></i>\n                <div class=\"btn-name\">{[print(xabber.getString(\"contact_bar_chat\"))]}</div>\n            </div>\n            <div class=\"button-wrap btn-invite-wrap\">\n                <i class=\"mdi mdi-24px mdi-account-multiple-plus btn-invite\"></i>\n                <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_bar_invite\"))]}</div>\n            </div>\n            <div class=\"button-wrap btn-mute-wrap\">\n                <i class=\"mdi mdi-24px mdi-bell btn-mute\"></i>\n                <div class=\"btn-name\">{[print(xabber.getString(\"contact_bar_notifications\"))]}</div>\n            </div>\n            <div class=\"button-wrap btn-leave-wrap\">\n                <div class=\"btn-leave\"><svg viewBox=\"0 0 24 24\">\n                    <path d=\"M13.34,8.17C12.41,8.17 11.65,7.4 11.65,6.47A1.69,1.69 0 0,1 13.34,4.78C14.28,4.78 15.04,5.54 15.04,6.47C15.04,7.4 14.28,8.17 13.34,8.17M10.3,19.93L4.37,18.75L4.71,17.05L8.86,17.9L10.21,11.04L8.69,11.64V14.5H7V10.54L11.4,8.67L12.07,8.59C12.67,8.59 13.17,8.93 13.5,9.44L14.36,10.79C15.04,12 16.39,12.82 18,12.82V14.5C16.14,14.5 14.44,13.67 13.34,12.4L12.84,14.94L14.61,16.63V23H12.92V17.9L11.14,16.21L10.3,19.93M21,23H19V3H6V16.11L4,15.69V1H21V23M6,23H4V19.78L6,20.2V23Z\" />\n                </svg>\n                </div>\n                <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_bar_leave\"))]}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"panel-content\">\n        <div class=\"head-block\">\n            <div class=\"left-column\">\n                <div class=\"block-wrap group-chat-properties-wrap\"></div>\n            </div>\n            <div class=\"right-column\">\n                <div class=\"block-wrap status-block-wrap\"></div>\n                <div class=\"block-wrap groups-block-wrap\"></div>\n            </div>\n        </div>\n        <div class=\"bottom-block\">\n            <ul class=\"tabs\">\n                <li data-value=\"participants\" class=\"list-variant tab\"><a class=\"text-color-700\">{[print(xabber.getString(\"group_settings__members_list__header\"))]}</a></li>\n                <li data-value=\"invitations\" class=\"list-variant tab\"><a class=\"text-color-700\">{[print(xabber.getString(\"groupchat_invitations\"))]}</a></li>\n                <li data-value=\"blocked\" class=\"list-variant tab\"><a class=\"text-color-700\">{[print(xabber.getString(\"group_settings__block_list__header\"))]}</a></li>\n            </ul>\n            <div class=\"block-wrap participants-wrap\"></div>\n        </div>\n    </div>\n</div>\n"}),define("text!templates/contacts/group_chats/group_chat_details_right.html",[],function(){return"<div class=\"panel-background-clickable\"></div>\n<div class=\"panel-content-wrap noselect\">\n    <div class=\"main-info\">\n        <div class=\"avatar-wrap\">\n            <div class=\"circle-avatar\">\n                <div class=\"preloader-wrap\"><div class=\"preloader-wrapper preloader-32px visible\">\n                    <div class=\"spinner-layer\">\n                        <div class=\"circle-clipper left\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"gap-patch\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"circle-clipper right\">\n                            <div class=\"circle\"></div>\n                        </div>\n                    </div>\n                </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"text-info\">\n            <div class=\"name-wrap\"></div>\n        </div>\n        <div class=\"header-buttons\">\n            <div class=\"btn-escape\">\n                <i class=\"mdi mdi-24px mdi-close\"></i>\n                <span class=\"btn-text\">{[print(xabber.getString(\"button_esc\"))]}</span>\n            </div>\n            <span class=\"block-name\">{[print(xabber.getString(\"groupchat_group\"))]}</span>\n            <span class=\"block-name second-text\"></span>\n            <div class=\"btn-qr-code\">\n                <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"qrcode\"></svg>\n            </div>\n            <div class=\"btn-edit\">\n                <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"information-outline\"></svg>\n            </div>\n            <div class=\"group-edit-preloader\">\n            </div>\n        </div>\n        <div class=\"buttons-wrap\">\n            <div class=\"button-wrap btn-invite-wrap\">\n                <i class=\"mdi mdi-24px mdi-account-multiple-plus btn-invite text-color-500\"></i>\n                <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_bar_invite\"))]}</div>\n            </div>\n            <div class=\"button-wrap btn-search-messages\">\n                <div class=\"contact-btn btn-search fill-color-500\"><svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"search\"></svg></div>\n                <div class=\"btn-name\">{[print(xabber.getString(\"search\"))]}</div>\n            </div>\n            <div class=\"button-wrap btn-mute-wrap\">\n                <div class=\"contact-btn btn-mute dropdown-button fill-color-500\" data-activates=\"{{view.cid}}-more\"><svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"bell\"></svg></div>\n                <div class=\"btn-name\">{[print(xabber.getString(\"contact_bar_notifications\"))]}</div>\n\n                <ul id=\"{{view.cid}}-more\" class=\"contact-mute-dropdown dropdown-content noselect\">\n                    <li class=\"btn-mute-dropdown\" data-mute=\"minutes15\">\n                        <span class=\"one-line\">{[print(xabber.getString(\"mute_15_min\"))]}</span>\n                    </li>\n                    <li class=\"btn-mute-dropdown\" data-mute=\"hours1\">\n                        <span class=\"one-line\">{[print(xabber.getString(\"mute_1_hour\"))]}</span>\n                    </li>\n                    <li class=\"btn-mute-dropdown\" data-mute=\"hours2\">\n                        <span class=\"one-line\">{[print(xabber.getString(\"mute_2_hours\"))]}</span>\n                    </li>\n                    <li class=\"btn-mute-dropdown\" data-mute=\"day\">\n                        <span class=\"one-line\">{[print(xabber.getString(\"mute_1_day\"))]}</span>\n                    </li>\n                    <li class=\"btn-mute-dropdown\" data-mute=\"forever\">\n                        <span class=\"one-line\">{[print(xabber.getString(\"mute_forever\"))]}</span>\n                    </li>\n                </ul>\n            </div>\n            <div class=\"button-wrap btn-leave-wrap\">\n                <div class=\"contact-btn btn-leave fill-color-500\">\n                    <svg viewBox=\"0 0 24 24\">\n                        <path d=\"M13.34,8.17C12.41,8.17 11.65,7.4 11.65,6.47A1.69,1.69 0 0,1 13.34,4.78C14.28,4.78 15.04,5.54 15.04,6.47C15.04,7.4 14.28,8.17 13.34,8.17M10.3,19.93L4.37,18.75L4.71,17.05L8.86,17.9L10.21,11.04L8.69,11.64V14.5H7V10.54L11.4,8.67L12.07,8.59C12.67,8.59 13.17,8.93 13.5,9.44L14.36,10.79C15.04,12 16.39,12.82 18,12.82V14.5C16.14,14.5 14.44,13.67 13.34,12.4L12.84,14.94L14.61,16.63V23H12.92V17.9L11.14,16.21L10.3,19.93M21,23H19V3H6V16.11L4,15.69V1H21V23M6,23H4V19.78L6,20.2V23Z\" />\n                    </svg>\n                </div>\n                <div class=\"btn-name text-color-500\">{[print(xabber.getString(\"groupchat_bar_leave\"))]}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"panel-content\">\n        <div class=\"block-wrap group-chat-properties-wrap vcard\"></div>\n        <div class=\"block-wrap status-block-wrap\"></div>\n        <div class=\"block-wrap edit-block-wrap\"></div>\n        <div class=\"block-wrap restrictions-block-wrap\"></div>\n        <div class=\"block-wrap groups-block-wrap\"></div>\n        <div class=\"block-wrap search-messages-block-wrap\"></div>\n        <div class=\"block-wrap participant-view-wrap\"></div>\n        <div class=\"bottom-block\">\n            <ul class=\"tabs not-edit\">\n                <li data-value=\"participants\" class=\"list-variant tab\"><a class=\"text-color-700\">{[print(xabber.getString(\"group_settings__members_list__header\"))]}</a></li>\n                <li data-value=\"media\" class=\"list-variant tab\"><a class=\"text-color-700\">Media</a></li>\n                <li data-value=\"files\" class=\"list-variant tab\"><a class=\"text-color-700\">Files</a></li>\n                <li data-value=\"links\" class=\"list-variant tab\"><a class=\"text-color-700\">Links</a></li>\n                <li data-value=\"voice\" class=\"list-variant tab\"><a class=\"text-color-700\">Voice</a></li>\n            </ul>\n            <div class=\"block-wrap participants-wrap\"></div>\n        </div>\n    </div>\n</div>\n"}),define("text!templates/contacts/group_chats/invitation.html",[],function(){return"<div class=\"panel-content-wrap noselect\">\n    <div class=\"main-info\">\n        <div class=\"circle-avatar\"></div>\n        <div class=\"text-info\">\n            <div class=\"name-wrap one-line\"></div>\n            <div class=\"jid one-line\"></div>\n        </div>\n    </div>\n\n    <div class=\"panel-content\">\n        <div class=\"msg-wrap\"><p class=\"msg-text\"></p></div>\n        <div class=\"panel-footer noselect\">\n            <div class=\"buttons-wrap\">\n                <button class=\"btn-join btn-flat btn-main\">{[print(xabber.getString(\"groupchat_join\"))]}</button>\n                <button class=\"btn-decline btn-flat btn-main\">{[print(xabber.getString(\"groupchat_decline\"))]}</button>\n                <button class=\"btn-block btn-flat btn-main\">{[print(xabber.getString(\"groupchat_block\"))]}</button>\n            </div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/group_chat_properties_edit.html",[],function(){return"<div class=\"modal-header\"><div class=\"panel-header black-text\">{[if (privacy) { print(xabber.getString(\"incognito_group_settings__header\"))} else { print(xabber.getString(\"public_group_settings__header\"))}]}</div></div>\n<div class=\"modal-content group-chat-properties-wrap selectable-text\">\n    <div class=\"property-wrap jid-info-wrap\">\n        <div class=\"property-header\">{[print(xabber.getString(\"hint_xmpp_id\"))]}</div>\n        <div class=\"jabber-id\">\n            <div class=\"value one-line\">{{jid}}</div>\n        </div>\n        <p id=\"anonymous-public\" class=\"property-description hidden\">{[print(xabber.getString(\"group_settings_edit__setting_privacy__text_public\"))]}</p>\n        <p id=\"anonymous-incognito\" class=\"property-description hidden\">{[print(xabber.getString(\"group_settings_edit__setting_privacy__text_incognito\"))]}</p>\n    </div>\n    {[fields.forEach(function (field) { if (field.type === 'hidden' || field.type === 'jid-multi') return;]}\n    <div class=\"property-wrap {{field.var}}-field\">\n        {[if (!(field.type == 'fixed' && field.values[0] === \"\")) {]}\n        <div class=\"property-header\">{{field.label}}</div>\n        {[}]}\n        {[if (field.type === 'text-single') {]}\n        <div class=\"input-field input-group-chat-name\">\n            <input value=\"{{field.values[0]}}\" id=\"new_{{field.var}}_value\" type=\"text\" name=\"{{field.var}}\" placeholder='{[print(xabber.getString(\"group_settings_edit__setting_name__hint\"))]}' class=\"text-field\">\n        </div>\n        {[} else if (field.type === 'text-multi') {]}\n        <textarea placeholder='{[print(xabber.getString(\"groupchat_example_description\"))]}' id=\"{{field.var}}\" cols=\"30\" rows=\"10\" class=\"text-field materialize-textarea rich-textarea\">{{field.values[0]}}</textarea>\n        {[} else if (field.type === 'list-single') { field.options.forEach(function (option) {]}\n        <div class=\"property-radio\">\n            <input {[if (option.value === field.values[0]){]}checked{[}]} id=\"{{option.value}}\" name=\"{{field.var}}\" type=\"radio\" class=\"with-gap\" required=\"\">\n            <label class=\"{{option.value}}-label\" for=\"{{option.value}}\">{{option.label}}</label>\n        </div>\n        {[});} else  if (field.type === 'fixed' && field.values[0] !== \"\") {]}\n        <div class=\"fixed-field{[if (field.var === 'description'){]} description{[}]}\">\n            <div class=\"value\">{{field.values[0]}}</div>\n        </div>\n        {[}]}\n        {[if (field.var === 'index'){]}\n        <p class=\"property-description\">{[print(xabber.getString(\"group_settings_edit__setting_index__text\"))]}</p>\n        {[} else if (field.var === 'membership') {]}\n        <p class=\"property-description\">{[print(xabber.getString(\"group_settings_edit__setting_membership__text\"))]}</p>\n        {[}]}\n    </div>\n    {[})]}\n</div>\n<div class=\"modal-footer\">\n    <div class=\"buttons-wrap\">\n        {[if (!all_fixed){]}\n        <button class=\"btn-save btn-flat btn-main non-active\">{[print(xabber.getString(\"save\"))]}</button>\n        {[}]}\n        <button class=\"btn-cancel btn-flat btn-dark btn-main\">{[print(xabber.getString(\"cancel\"))]}</button>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/default_restrictions.html",[],function(){return"<div class=\"modal-header\"><div class=\"panel-header black-text\">{[print(xabber.getString(\"groupchat_default_restrictions\"))]}</div></div>\n<div class=\"modal-content\">\n    <div class=\"default-restrictions-list-wrap\"></div>\n    <p class=\"default-restrictions-info\">{[print(xabber.getString(\"dialog_default_restrictions__placeholder\"))]}</p>\n</div>\n<div class=\"modal-footer\">\n    <div class=\"buttons-wrap\">\n        <button class=\"btn-default-restrictions-save btn-flat btn-main non-active\">{[print(xabber.getString(\"save\"))]}</button>\n        <button class=\"btn-default-restrictions-cancel btn-flat btn-main btn-dark\">{[print(xabber.getString(\"cancel\"))]}</button>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/default_restrictions_right.html",[],function(){return"<div class=\"restrictions-wrap\">\n    <div class=\"restrictions-header block-header\">\n        <i class=\"details-icon btn-back mdi mdi-24px mdi-arrow-right\"></i>\n        <span class=\"block-name\">{[print(xabber.getString(\"groupchat_default_restrictions\"))]}</span>\n        <span class=\"block-name second-text fade-out\"></span>\n        <button class=\"btn-default-restrictions-save text-color-500 btn-flat btn-main fade-out\">{[print(xabber.getString(\"save\"))]}</button>\n        <div class=\"edit-save-preloader preloader-wrap\">\n            <div class=\"preloader-wrapper preloader-17px visible\">\n                <div class=\"spinner-layer\">\n                    <div class=\"circle-clipper left\">\n                        <div class=\"circle\"></div>\n                    </div>\n                    <div class=\"gap-patch\">\n                        <div class=\"circle\"></div>\n                    </div>\n                    <div class=\"circle-clipper right\">\n                        <div class=\"circle\"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"restrictions-content edit-default-restrictions\">\n        <div class=\"default-restrictions-list-wrap\"></div>\n        <p class=\"default-restrictions-info\">{[print(xabber.getString(\"dialog_default_restrictions_right__placeholder\"))]}</p>\n    </div>\n</div>\n"}),define("text!templates/contacts/group_chats/group_member_item.html",[],function(){return"<tr class=\"participant-wrap\" data-id=\"{{id}}\" data-jid=\"{{jid}}\">\n    <td class=\"list-item group-chat-participant\">\n        <div class=\"member-item\">\n            <div class=\"circle-avatar\"/>\n            <div class=\"participant-info\">\n            <div class=\"top-line\"><div title=\"{{nickname}}\" class=\"nickname one-line\">{{nickname}}</div>{[if (badge) {]}<div class=\"badge one-line\">{{badge}}</div>{[}]}</div>\n            {[if (jid) {]}<p class=\"jid one-line\">{{jid}}</p>{[}]}\n            </div>\n        </div>\n    </td>\n    <td class=\"last-seen\">{[if (!present) {]}<span class=\"online-status text-color-green-700\">{[print(xabber.getString(\"group_settings__members__status_online\"))]}</span>{[} else {]}<span title=\"{{present}}\">{{pretty_present}}</span>{[}]}</td>\n    <td class=\"role\">{[if (role !== 'member') {]}{{role}}{[}]}</td>\n    <td>\n        {[if (is_me) {]}\n        <span style=\"font-size:12px\" class=\"text-color-500\">{[print(xabber.getString(\"groupchat_this_is_you\"))]}</span>\n        {[} else {]}\n        <div class=\"buttons-wrap\">\n            <div title='{[print(xabber.getString(\"groupchat_kick\"))]}' class=\"btn-kick\">\n                <i class=\"mdi mdi-24px mdi-account-remove\"></i>\n            </div>\n            <div title='{[print(xabber.getString(\"groupchat_kick_and_block\"))]}' class=\"btn-block\">\n                <svg class=\"mdi mdi-24px\" viewBox=\"0 0 24 24\">\n                    <path fill=\"#9e9e9e\" d=\"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z\" />\n                </svg>\n            </div>\n        </div>\n        {[}]}\n    </td>\n</tr>"}),define("text!templates/contacts/group_chats/group_member_item_right.html",[],function(){return"<tr class=\"participant-wrap\" data-id=\"{{id}}\" data-jid=\"{{jid}}\">\n    <td class=\"list-item group-chat-participant\">\n        <div class=\"member-item\">\n            <div class=\"circle-avatar\"/>\n            <div class=\"participant-info\">\n            <div class=\"top-line\">\n                <div title=\"{{nickname}}\" class=\"nickname one-line\">{{nickname}}</div>\n                {[if (badge) {]}<div class=\"badge one-line\">{{badge}}</div>{[}]}\n            </div>\n                <div class=\"bottom-line\">\n                    {[ if (is_me) {]}\n                    <div class=\"online-status text-color-700\">{[print(xabber.getString(\"groupchat_this_is_you\"))]}</div>\n                    {[}else if (!present) {]}<span class=\"online-status text-color-green-700\">{[print(xabber.getString(\"group_settings__members__status_online\"))]}</span>{[} else {]}<span title=\"{{present}}\">{{pretty_present}}</span>{[}]}\n                </div>\n            </div>\n            {[if (role === 'owner' || role === 'admin') {]}\n            <div class=\"participant-buttons-wrap\">\n                <div class=\"participant-role\">\n                    {[if (role === 'owner') {]}\n                        <i class=\"mdi participant-role-image mdi-24px mdi-star\"></i>\n                    {[}else if (role === 'admin') {]}\n                        <i class=\"mdi participant-role-image mdi-24px mdi-star-outline\"></i>\n                    {[}]}\n                </div>\n            </div>\n            {[} else if (!is_me) {]}\n                <div class=\"buttons-wrap\">\n                    <div title='{[print(xabber.getString(\"groupchat_edit_member\"))]}' class=\"btn-edit-member\">\n                        <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"edit-outline\"></svg>\n                    </div>\n                    <!--<div title='{[print(xabber.getString(\"mute_chat\"))]}' class=\"btn-mute\">-->\n                        <!--<i class=\"mdi mdi-24px mdi-microphone-off\"></i>-->\n                    <!--</div>-->\n                    <div title='{[print(xabber.getString(\"groupchat_kick\"))]}' class=\"btn-kick\">\n                        <i class=\"mdi mdi-24px mdi-account-remove\"></i>\n                    </div>\n                </div>\n            {[}]}\n        </div>\n    </td>\n</tr>"}),define("text!templates/contacts/group_chats/description_input_widget.html",[],function(){return"<div class=\"input-widget-wrap {{field_name}}-wrap\">\n    <div class=\"{{field_name}}-input-wrap\">\n        <textarea class=\"{{field_name}}-input rich-textarea field-input\" type=\"{{field_type}}\" placeholder=\"{{placeholder}}\"></textarea>\n    </div>\n</div>\n"}),define("text!templates/contacts/group_chats/group_name_input_widget.html",[],function(){return"<div class=\"input-widget-wrap {{field_name}}-wrap\">\n    <div class=\"{{field_name}}-input-wrap\">\n        <input class=\"{{field_name}}-input rich-textarea field-input\" type=\"{{field_type}}\" placeholder=\"{{placeholder}}\">\n        <div class=\"buttons-wrap\">\n            <div class=\"insert-emoticon\">\n                <i class=\"mdi mdi-24px mdi-emoticon hover-text-color-500\"></i>\n            </div>\n            <div class=\"emoticons-panel-wrap\">\n                <div class=\"emoticons-panel\"></div>\n                <div class=\"emoji-menu\"></div>\n            </div>\n        </div>\n    </div>\n</div>\n"}),define("text!templates/contacts/group_chats/participant_badge_input_widget.html",[],function(){return"<div class=\"input-widget-wrap {{field_name}}-wrap\">\n    <div class=\"rich-textarea field-input badge-text\" tabindex=\"1\" placeholder='{[print(xabber.getString(\"groupchat_member_badge\"))]}' contenteditable></div>\n    <div class=\"buttons-wrap\">\n        <div class=\"insert-emoticon\">\n            <i class=\"mdi mdi-24px mdi-emoticon hover-text-color-500\"></i>\n        </div>\n        <div class=\"emoticons-panel-wrap\">\n            <div class=\"emoticons-panel\"></div>\n            <div class=\"emoji-menu\"></div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/invited_member_item.html",[],function(){return"<div class=\"list-item {{status}}-user\" data-jid=\"{{jid}}\">\n    <div class=\"member-item\">\n        <div class=\"circle-avatar\"/>\n        <p title=\"{{jid}}\" class=\"one-line\">{{jid}}</p>\n        {[if (status == 'invitations') {]}\n        <div title='{[print(xabber.getString(\"groupchat_revoke\"))]}' class=\"revoke-invitation\">\n            {[}else{]}\n            <div title='{[print(xabber.getString(\"groupchat_unblock\"))]}' class=\"unblock-user\">\n                {[}]}\n                <i class=\"mdi mdi-20px mdi-close\"></i>\n            </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/add_blocked_participant_form.html",[],function(){return"<div class=\"block-form\">\n    <div class=\"input-field\">\n        <input id=\"blocking_id\" class=\"rich-textarea field-input\" placeholder=\"{[print(xabber.getString('vcard_jabber_id'))]}\" type=\"text\" name=\"title\">\n    </div>\n    <button class=\"btn-block-id btn btn-main-filled ground-color-700\">{[print(xabber.getString(\"contact_bar_block\"))]}</button>\n</div>"}),define("text!templates/contacts/group_chats/participant_details_right.html",[],function(){return"<div class=\"participant-details-wrap\">\n    <div class=\"participant-details-info-wrap\">\n    </div>\n    <div class=\"bottom-block participant-bottom-block\">\n        <ul class=\"tabs participant-tabs\">\n            <li data-value=\"media\" class=\"list-variant tab\"><a class=\"text-color-700\">Media</a></li>\n            <li data-value=\"files\" class=\"list-variant tab\"><a class=\"text-color-700\">Files</a></li>\n            <li data-value=\"links\" class=\"list-variant tab\"><a class=\"text-color-700\">Links</a></li>\n            <li data-value=\"voice\" class=\"list-variant tab\"><a class=\"text-color-700\">Voice</a></li>\n        </ul>\n        <div class=\"block-wrap participants-details-media-wrap\"></div>\n    </div>\n    <div class=\"participant-details-edit-wrap edit-wrap\">\n        <div class=\"main-info\">\n            <div class=\"avatar-wrap\">\n                <div class=\"circle-avatar\">\n                    <input title='{[print(xabber.getString(\"groupchat_member_edit_change_avatar\"))]}' type=\"file\"/>\n                    <svg class=\"set-groupchat-avatar\" viewBox=\"0 0 24 24\">\n                        <path d=\"M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z\" />\n                    </svg>\n                    <div class=\"preloader-wrap\">\n                        <div class=\"preloader-wrapper preloader-32px visible\">\n                            <div class=\"spinner-layer\">\n                                <div class=\"circle-clipper left\">\n                                    <div class=\"circle\"></div>\n                                </div>\n                                <div class=\"gap-patch\">\n                                    <div class=\"circle\"></div>\n                                </div>\n                                <div class=\"circle-clipper right\">\n                                    <div class=\"circle\"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"set-groupchat-avatar-text\">{[print(xabber.getString(\"groupchat_set_avatar\"))]}</div>\n            </div>\n        </div>\n        <div class=\"participant-details-edit-inputs\">\n            <div class=\"edit-participant-name-wrap\">\n            </div>\n            <div class=\"edit-participant-badge-wrap\">\n            </div>\n        </div>\n        <div class=\"rights-wrap\">\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/participant_rights.html",[],function(){return"<div class=\"header\">\n</div>\n<div class=\"modal-content\">\n    <div class=\"rights-wrap\">\n    </div>\n</div>\n"}),define("text!templates/contacts/group_chats/restriction_item.html",[],function(){return"<div class=\"right-item restriction restriction-{{name}}\">\n    <div class=\"right-name\">{{pretty_name}}</div>\n    <div class=\"field clickable-field restriction-{{name}}-state switch normal\">\n        <input type=\"checkbox\" {[if (type === 'fixed') {]} onclick=\"return false;\" {[}]} class=\"filled-in\" id=\"{{name}}\">\n        <label for=\"{{name}}\"></label>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/right_expire_variants.html",[],function(){return"<div class=\"select-timer\">\n    <div class=\"dropdown-button\" data-activates=\"select-timer-{{right_name}}\">\n        <div class=\"timer-item-wrap\"><div data-value=\"0\" class=\"default-value property-value\">{[print(xabber.getString(\"dialog_rights__button_set_timer\"))]}</div></div>\n    </div>\n    <div id=\"select-timer-{{right_name}}\" class=\"dropdown-content noselect\">\n        {[expire_options.forEach(function (option) {]}\n        <div data-value=\"{{option.value}}\" class=\"property-variant\">{{option.label}}</div>\n        {[}.bind(this));]}\n    </div>\n</div>\n"}),define("text!templates/contacts/group_chats/pinned_message.html",[],function(){return"<svg class=\"pin\" viewBox=\"0 0 24 24\">\n    <path fill=\"#757575\" d=\"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z\" />\n</svg>\n<div class=\"msg-wrap\">\n    <div class=\"chat-msg-author-wrap\">\n        <div class=\"chat-msg-author text-color-700 one-line\">{{author}}</div>{[if (fwd_author){]}<svg class=\"fwd-chevron\" viewBox=\"0 0 24 24\"><path fill=\"#9E9E9E\" d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"/></svg><div class=\"chat-msg-author text-color-700 one-line\">{{fwd_author}}</div>{[}]}\n        <div class=\"msg-time\">{{time}}</div>\n    </div>\n    <div class=\"chat-msg-content chat-text-content one-line\">\n        {{message}}\n    </div>\n</div>\n<svg title='{[print(xabber.getString(\"group_chat__pinned_message__tooltip_unpin\"))]}' class=\"close\" viewBox=\"0 0 24 24\">\n    <path class=\"close\" fill=\"#9E9E9E\" d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\n</svg>"}),define("text!templates/contacts/group_chats/participant_details_item.html",[],function(){return"<div class=\"participant-details-item {[if (subscription === null) {]}unsubscribed{[}]}\" data-id=\"{{id}}\" data-jid=\"{{jid}}\" data-role=\"{{role}}\">\n    {[if (subscription !== null) {]}\n    <div class=\"btn-more dropdown-button\" data-activates=\"{{id}}-buttons-wrap\">\n        <i class=\"mdi mdi-24px mdi-dots-vertical\"></i>\n    </div>\n    <ul class=\"buttons-menu-wrap dropdown-content noselect\" id=\"{{id}}-buttons-wrap\">\n        <li class=\"btn-block-participant\"><span class=\"one-line\">{[print(xabber.getString(\"groupchat_block\"))]}</span></li>\n    </ul>\n    {[}]}\n    <div class=\"circle-avatar\">\n        {[if (subscription !== null) {]}\n        <input title='{[print(xabber.getString(\"groupchat_member_edit_change_avatar\"))]}' type=\"file\">\n            <svg class=\"set-groupchat-avatar\" viewBox=\"0 0 24 24\">\n                <path d=\"M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z\" />\n            </svg>\n            <div class=\"preloader-wrap\"><div class=\"preloader-wrapper preloader-16px visible\">\n                <div class=\"spinner-layer\">\n                    <div class=\"circle-clipper left\">\n                        <div class=\"circle\"></div>\n                    </div>\n                    <div class=\"gap-patch\">\n                        <div class=\"circle\"></div>\n                    </div>\n                    <div class=\"circle-clipper right\">\n                        <div class=\"circle\"></div>\n                    </div>\n                </div>\n            </div>\n            </div>\n        {[}]}\n    </div>\n        <div class=\"participant-info\">\n            {[if (subscription !== null) {]}<div id=\"edit-nickname\" class=\"rich-textarea\" tabindex=\"1\" contenteditable></div>{[}]}\n            <div title=\"{{nickname}}\" class=\"nickname one-line\">{{nickname}}</div>\n            <div class=\"badge one-line {[if (!badge) {]}hidden{[}]}\">{{badge}}</div>\n            {[if (jid) {]}<p title=\"{{jid}}\" class=\"jid selectable-text one-line\">{{jid}}</p>{[}]}\n            {[ if (is_myself) {]}\n            <div class=\"my-flag one-line text-color-red-700\">{[print(xabber.getString(\"groupchat_this_is_you\"))]}</div>\n            {[}]}\n            {[ if (is_blocked_contact) {]}\n            <div class=\"my-flag one-line text-color-red-700\">{[print(xabber.getString(\"action_contact_blocked\"))]}</div>\n            {[}]}\n            {[if (subscription === null) {]}<p class=\"role selectable-text one-line\">{[if (blocked) { print(xabber.getString(\"groupchat_blocked\")); }else{print(xabber.getString(\"settings_group_member__placeholder_not_a_member\"));}]}</p>{[}]}\n        </div>\n    <div class=\"buttons-wrap\">\n        {[if (incognito_chat) {]}\n        <div class=\"button-wrap non-active btn-chat-wrap\">\n            <i class=\"mdi mdi-24px mdi-incognito btn-chat\"></i>\n            <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_private_chat\"))]}</div>\n        </div>\n        {[} else {]}\n        <div class=\"button-wrap non-active btn-chat-wrap\">\n            <i class=\"mdi mdi-24px mdi-message-text btn-chat\"></i>\n            <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_direct_chat\"))]}</div>\n        </div>\n        {[}]}\n        <div class=\"button-wrap btn-participant-messages-wrap\">\n            <i class=\"mdi mdi-24px mdi-view-list btn-participant-messages\"></i>\n            <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_member_messages\"))]}</div>\n        </div>\n        <div class=\"button-wrap btn-set-badge-wrap\">\n            <svg class=\"btn-set-badge\" viewBox=\"0 0 24 24\">\n                <path d=\"M17,3H14V6H10V3H7A2,2 0 0,0 5,5V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V5A2,2 0 0,0 17,3M12,8A2,2 0 0,1 14,10A2,2 0 0,1 12,12A2,2 0 0,1 10,10A2,2 0 0,1 12,8M16,16H8V15C8,13.67 10.67,13 12,13C13.33,13 16,13.67 16,15V16M13,5H11V1H13V5M16,19H8V18H16V19M12,21H8V20H12V21Z\" />\n            </svg>\n            <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_set_member_badge\"))]}</div>\n        </div>\n        <div class=\"button-wrap btn-kick-participant-wrap\">\n            <i class=\"mdi mdi-24px mdi-account-remove btn-kick-participant\"></i>\n            <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_kick\"))]}</div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/participant_details_item_right.html",[],function(){return"<div class=\"participant-details-item {[if (subscription === null) {]}unsubscribed{[}]}\" data-id=\"{{id}}\" data-jid=\"{{jid}}\" data-role=\"{{role}}\">\n    <div class=\"block-header\">\n        <i class=\"details-icon btn-back parent-btn mdi mdi-24px mdi-arrow-right\"></i>\n        <i class=\"details-icon btn-back-name child-btn mdi mdi-24px mdi-arrow-right hidden\"></i>\n        <span class=\"block-name\"></span>\n        <span class=\"block-name second-text\"></span>\n        <button class=\"btn-save-user-rights non-active fade-out btn-flat btn-main\">{[print(xabber.getString(\"groupchat_save_member_settings\"))]}</button>\n        {[if (subscription !== null) {]}\n        <div class=\"btn-edit-participant\">\n            <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"edit-outline\"></svg>\n        </div>\n        <ul class=\"buttons-menu-wrap dropdown-content noselect\" id=\"{{id}}-buttons-wrap\">\n            <li class=\"btn-block-participant\"><span class=\"one-line\">{[print(xabber.getString(\"groupchat_block\"))]}</span></li>\n        </ul>\n        {[}]}\n    </div>\n    <div class=\"circle-avatar\">\n        {[if (subscription !== null) {]}\n            <div class=\"preloader-wrap\">\n                <div class=\"preloader-wrapper preloader-16px visible\">\n                    <div class=\"spinner-layer\">\n                        <div class=\"circle-clipper left\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"gap-patch\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"circle-clipper right\">\n                            <div class=\"circle\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        {[}]}\n    </div>\n        <div class=\"participant-info\">\n            {[if (subscription !== null) {]}<div class=\"participant-edit-nickname hidden\"></div>{[}]}\n            <div class=\"participant-edit-badge hidden\"></div>\n            <div class=\"participant-info-text\">\n                <div class=\"nickname\">\n                    {{nickname}} <div class=\"badge one-line {[if (!badge) {]}hidden{[}]}\">{{badge}}</div>\n                </div>\n                {[ if (is_myself) {]}\n                <div class=\"my-flag one-line\">{[print(xabber.getString(\"groupchat_this_is_you\"))]}</div>\n                {[}]}\n\n            </div>\n        </div>\n    <div class=\"buttons-wrap\">\n        {[if (incognito_chat) {]}\n        <div class=\"button-wrap non-active btn-chat-wrap\">\n            <i class=\"mdi contact-btn text-color-500 mdi-24px mdi-incognito btn-chat-participant\"></i>\n            <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_private_chat\"))]}</div>\n        </div>\n        {[} else {]}\n        <div class=\"button-wrap non-active btn-chat-wrap\">\n            <i class=\"mdi contact-btn text-color-500 mdi-24px mdi-message-text btn-chat-participant\"></i>\n            <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_direct_chat\"))]}</div>\n        </div>\n        {[}]}\n        <div class=\"button-wrap btn-participant-messages-wrap\">\n            <i class=\"mdi contact-btn text-color-500 mdi-24px mdi-view-list btn-participant-messages\"></i>\n            <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_member_messages\"))]}</div>\n        </div>\n        <div class=\"button-wrap non-active btn-set-visibility-wrap\">\n            <i title=\"Feature not yet implemented\" class=\"mdi contact-btn text-color-500 mdi-24px mdi-eye btn-set-visibility\"></i>\n            <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_set_member_visibility_visible\"))]}</div>\n        </div>\n        <div class=\"button-wrap btn-kick-participant-wrap\">\n            <i class=\"mdi contact-btn mdi-24px mdi-account-remove text-color-500 btn-kick-participant\"></i>\n            <div class=\"btn-name text-color-500\">{[print(xabber.getString(\"groupchat_kick\"))]}</div>\n        </div>\n    </div>\n    <div class=\"vcard-wrap vcard\">\n        {[if (jid) {]}\n        <div class=\"info-wrap jid-info-wrap\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'>\n            <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"id-outline\"></svg></div>\n            <div class=\"info-hover\">\n                <div class=\"info jabber-id\">\n                    <div class=\"value one-line\">{{jid}}</div>\n                    <div class=\"label\">{[print(xabber.getString(\"vcard_jabber_id\"))]}</div>\n                </div>\n            </div>\n        </div>\n        {[}]}\n        {[if (role === 'owner' || role === 'admin') {]}\n        <div class=\"info-wrap role-info-wrap\">\n            <div class=\"details-icon-wrap\">\n                {[if (role === 'owner') {]}\n                    <i class=\"details-icon mdi mdi-24px mdi-star\"></i>\n                {[}else if (role === 'admin') {]}\n                    <i class=\"details-icon mdi mdi-24px mdi-star-outline\"></i>\n                {[}]}\n            </div>\n            <div>\n                <div class=\"info jabber-id\">\n                    <div class=\"value one-line\">\n                        <span>\n                            {[if (role === 'owner') {]}\n                                {[print(xabber.getString(\"groupchat_role_owner\"))]}\n                            {[}else if (role === 'admin') {]}\n                                {[print(xabber.getString(\"groupchat_role_admin\"))]}\n                            {[}]}\n                        </span>\n                    </div>\n                    <div class=\"label\">{[print(xabber.getString(\"groupchat_role\"))]}</div>\n                </div>\n            </div>\n        </div>\n        {[}]}\n        <div class=\"info-wrap present-info-wrap\">\n            <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" {[if (blocked) {]}data-svgname=\"cancel\"{[}else if (!present) {]}data-svgname=\"status-outline\"{[} else {]}data-svgname=\"clock-outline\"{[}]}></svg></div>\n            <div>\n                <div class=\"info jabber-id\">\n                    <div class=\"value one-line\">\n                        <span>\n                            {[if (blocked) {]}\n                                {[print(xabber.getString(\"groupchat_blocked\"))]}\n                            {[}else if (!present) {]}\n                                {[print(xabber.getString(\"group_settings__members__status_online\"))]}\n                            {[} else {]}{{pretty_present}}{[}]}\n                        </span>\n                    </div>\n                    <div class=\"label\">{[if (!present) {]}{[print(xabber.getString(\"groupchat_status\"))]}{[} else {]}{[print(xabber.getString(\"group_settings__members__label_last_seen\"))]}{[}]}</div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/participants.html",[],function(){return"<table class=\"members-list-wrap\">\n    <thead>\n    <tr>\n        <th>\n            <div class=\"participants-search-form search-form\">\n                <svg class=\"search-icon\" viewBox=\"0 0 24 24\">\n                    <path d=\"M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M10,4A4,4 0 0,1 14,8C14,8.91 13.69,9.75 13.18,10.43C12.32,10.75 11.55,11.26 10.91,11.9L10,12A4,4 0 0,1 6,8A4,4 0 0,1 10,4M2,20V18C2,15.88 5.31,14.14 9.5,14C9.18,14.78 9,15.62 9,16.5C9,17.79 9.38,19 10,20H2Z\" />\n                </svg>\n                <input type=\"text\" class=\"search-input simple-input-field\" tabindex=\"1\" placeholder='{[print(xabber.getString(\"groupchat_search_members\"))]}'>\n                <i class=\"close-search-icon mdi mdi-20px mdi-close\"></i>\n            </div>\n        </th>\n        <th>{[print(xabber.getString(\"group_settings__members__label_last_seen\"))]}</th>\n        <th>{[print(xabber.getString(\"groupchat_role\"))]}</th>\n        <th></th>\n    </tr>\n    </thead>\n    <tbody></tbody>\n</table>\n<div class=\"preloader-wrapper preloader-17px active\">\n    <div class=\"spinner-layer\">\n        <div class=\"circle-clipper left\">\n            <div class=\"circle\"></div>\n        </div>\n        <div class=\"gap-patch\">\n            <div class=\"circle\"></div>\n        </div>\n        <div class=\"circle-clipper right\">\n            <div class=\"circle\"></div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/participants_right_panel.html",[],function(){return"<table class=\"members-list-wrap\">\n    <thead>\n    <tr>\n        <th>\n            <div class=\"participants-search-form search-form\">\n                <svg class=\"search-icon\" viewBox=\"0 0 24 24\">\n                    <path d=\"M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M10,4A4,4 0 0,1 14,8C14,8.91 13.69,9.75 13.18,10.43C12.32,10.75 11.55,11.26 10.91,11.9L10,12A4,4 0 0,1 6,8A4,4 0 0,1 10,4M2,20V18C2,15.88 5.31,14.14 9.5,14C9.18,14.78 9,15.62 9,16.5C9,17.79 9.38,19 10,20H2Z\" />\n                </svg>\n                <input type=\"text\" class=\"search-input simple-input-field\" tabindex=\"1\" placeholder='{[print(xabber.getString(\"groupchat_search_members\"))]}'>\n                <i class=\"close-search-icon mdi mdi-20px mdi-close\"></i>\n            </div>\n        </th>\n    </tr>\n    </thead>\n    <tbody></tbody>\n</table>\n<div class=\"preloader-wrapper preloader-17px active\">\n    <div class=\"spinner-layer\">\n        <div class=\"circle-clipper left\">\n            <div class=\"circle\"></div>\n        </div>\n        <div class=\"gap-patch\">\n            <div class=\"circle\"></div>\n        </div>\n        <div class=\"circle-clipper right\">\n            <div class=\"circle\"></div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/badge_edit_view.html",[],function(){return"<div class=\"modal-content\">\n    <div class=\"textarea-header\">{[print(xabber.getString(\"groupchat_member_badge\"))]}</div>\n    <div class=\"rich-textarea badge-text\" tabindex=\"1\" contenteditable></div>\n    <div class=\"error\"></div>\n</div>\n<div class=\"panel-footer noselect\">\n    <div class=\"buttons-wrap\">\n        <div class=\"insert-emoticon\">\n            <i class=\"mdi mdi-24px mdi-emoticon hover-text-color-500\"></i>\n        </div>\n        <div class=\"emoticons-panel-wrap\">\n            <div class=\"emoticons-panel\"></div>\n            <div class=\"emoji-menu\"></div>\n        </div>\n        <button class=\"btn-save btn-flat btn-main\">{[print(xabber.getString(\"save\"))]}</button>\n        <button class=\"btn-cancel btn-flat btn-main btn-dark\">{[print(xabber.getString(\"cancel\"))]}</button>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/private_participant_details.html",[],function(){return"<div class=\"participant-details-item\" data-id=\"{{id}}\" data-jid=\"{{jid}}\" data-role=\"{{role}}\">\n    <div class=\"circle-avatar\">\n        {[ if (is_myself) {]}\n        <input title='{[print(xabber.getString(\"groupchat_member_edit_change_avatar\"))]}' type=\"file\">\n        {[}]}\n        {[ if (is_myself) {]}\n        <svg class=\"set-groupchat-avatar\" viewBox=\"0 0 24 24\">\n            <path d=\"M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z\" />\n        </svg>\n        <div class=\"preloader-wrap\"><div class=\"preloader-wrapper preloader-16px visible\">\n            <div class=\"spinner-layer\">\n                <div class=\"circle-clipper left\">\n                    <div class=\"circle\"></div>\n                </div>\n                <div class=\"gap-patch\">\n                    <div class=\"circle\"></div>\n                </div>\n                <div class=\"circle-clipper right\">\n                    <div class=\"circle\"></div>\n                </div>\n            </div>\n        </div>\n        </div>\n        {[}]}\n    </div>\n    <div class=\"participant-info\">\n        {[ if (is_myself) {]}\n        <div id=\"edit-nickname\" class=\"rich-textarea\" tabindex=\"1\" contenteditable></div>\n        {[}]}\n        <div title=\"{{nickname}}\" class=\"{{is_myself && 'is-myself'}} nickname one-line\">{{nickname}}</div>\n        <div class=\"badge one-line {[if (!badge) {]}hidden{[}]}\">{{badge}}</div>\n        {[ if (is_myself) {]}\n        <div class=\"my-flag one-line text-color-red-700\">{[print(xabber.getString(\"groupchat_this_is_you\"))]}</div>\n        {[}]}\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/private_participant_details_item_right.html",[],function(){return"<div class=\"participant-details-item\" data-id=\"{{id}}\" data-jid=\"{{jid}}\" data-role=\"{{role}}\">\n    <div class=\"block-header\">\n        <i class=\"details-icon btn-back parent-btn mdi mdi-24px mdi-arrow-right\"></i>\n        <i class=\"details-icon btn-back-name child-btn mdi mdi-24px mdi-arrow-right hidden\"></i>\n        <span class=\"block-name\"></span>\n        <span class=\"block-name second-text\"></span>\n        <button class=\"btn-save-user-rights non-active fade-out btn-flat btn-main\">{[print(xabber.getString(\"groupchat_save_member_settings\"))]}</button>\n        {[if (subscription !== null) {]}\n        <div class=\"btn-edit-participant\">\n            <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"edit-outline\"></svg>\n        </div>\n        <ul class=\"buttons-menu-wrap dropdown-content noselect\" id=\"{{id}}-buttons-wrap\">\n            <li class=\"btn-block-participant\"><span class=\"one-line\">{[print(xabber.getString(\"groupchat_block\"))]}</span></li>\n        </ul>\n        {[}]}\n    </div>\n    <div class=\"circle-avatar\">\n        <div class=\"preloader-wrap\">\n            <div class=\"preloader-wrapper preloader-16px visible\">\n                <div class=\"spinner-layer\">\n                    <div class=\"circle-clipper left\">\n                        <div class=\"circle\"></div>\n                    </div>\n                    <div class=\"gap-patch\">\n                        <div class=\"circle\"></div>\n                    </div>\n                    <div class=\"circle-clipper right\">\n                        <div class=\"circle\"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"participant-info\">\n        {[if (subscription !== null) {]}<div class=\"participant-edit-nickname hidden\"></div>{[}]}\n        <div class=\"participant-edit-badge hidden\"></div>\n        <div class=\"participant-info-text\">\n            <div class=\"nickname\">\n                {{nickname}} <div class=\"badge one-line {[if (!badge) {]}hidden{[}]}\">{{badge}}</div>\n            </div>\n            {[ if (is_myself) {]}\n            <div class=\"my-flag one-line text-color-red-700\">{[print(xabber.getString(\"groupchat_this_is_you\"))]}</div>\n            {[}]}\n\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/set_status.html",[],function(){return"<div class=\"modal-content-wrap\">\n    <div class=\"modal-header\">\n        <span>{[print(xabber.getString(\"dialog_set_status__header\"))]}</span>\n    </div>\n    <ul class=\"status-values noselect\">\n        <div class=\"loading-status\">\n            <div class=\"preloader-wrapper preloader-17px active\">\n                <div class=\"spinner-layer\">\n                    <div class=\"circle-clipper left\">\n                        <div class=\"circle\"></div>\n                    </div>\n                    <div class=\"gap-patch\">\n                        <div class=\"circle\"></div>\n                    </div>\n                    <div class=\"circle-clipper right\">\n                        <div class=\"circle\"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </ul>\n</div>\n"}),define("text!templates/contacts/group_chats/status_item.html",[],function(){return"<li data-value=\"{{status.value}}\">\n    <span class=\"status-value one-line\">{{status.label}}</span>\n    <span class=\"status-bulb\" data-status=\"{{status.show}}\"></span>\n</li>"}),define("text!templates/contacts/group_chats/group_status.html",[],function(){return"<div class=\"block-header\">\n    <span class=\"block-name\">{[print(xabber.getString(\"groupchat_status\"))]}</span>\n</div>\n<div class=\"group-chat-status\">\n    <div class=\"status-wrap\">\n        <div class=\"status status-bulb\"></div>\n        <div class=\"status-message\"></div>\n    </div>\n    <div class=\"btn-edit-status\">{[print(xabber.getString(\"group_settings__properties__button_edit\"))]}</div>\n</div>"}),define("text!templates/contacts/group_chats/group_status_right.html",[],function(){return"<div class=\"group-chat-status-wrap\" title=\"{[print(xabber.getString('group_settings__properties__tooltip_click_to_set_status'))]}\">\n    <div class=\"details-icon-wrap\"><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"status-outline\"></svg></div>\n    <div class=\"group-chat-status-border\">\n        <div class=\"group-chat-status\">\n            <div class=\"status-wrap\">\n                <div class=\"status-message dotted-underline\"></div>\n                <div class=\"status status-bulb\"></div>\n            </div>\n            <div class=\"label\">{[print(xabber.getString(\"groupchat_status\"))]}</div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/media_item.html",[],function(){return"<div class=\"media-item\">\n</div>"}),define("text!templates/contacts/group_chats/file_item.html",[],function(){return"<div class=\"media-item\">\n</div>"}),define("text!templates/chats/chats_panel.html",[],function(){return"<div class=\"recent-chats-panel noselect\">\n    <div class=\"chats-search-form search-form panel-head\">\n        <div class=\"account-indicator\"></div>\n        <i class=\"search-icon mdi mdi-24px mdi-magnify\"></i>\n        <input type=\"text\" class=\"search-input simple-input-field\" tabindex=\"1\" placeholder='{[print(xabber.getString(\"search\"))]}'>\n        <i class=\"close-search-icon mdi mdi-24px mdi-close\"></i>\n    </div>\n    <div class=\"chat-list-wrap left-panel-list-wrap\">\n        <div class=\"pinned-chat-list item-list\">\n        </div>\n        <div class=\"chat-list item-list\">\n        </div>\n        <div class=\"searched-lists-wrap\">\n            <div class=\"chats-list-wrap hidden\">\n                <div class=\"account-indicator\"></div>\n                <div class=\"chats-title\">{[print(xabber.getString(\"search__header_chats\"))]}</div>\n                <div class=\"chats-list roster-left-container\"></div>\n            </div>\n            <div class=\"contacts-list-wrap hidden\">\n                <div class=\"account-indicator\"></div>\n                <div class=\"contacts-title\">{[print(xabber.getString(\"category_title_contacts\"))]}</div>\n                <div class=\"contacts-list roster-left-container\"></div>\n            </div>\n            <div class=\"messages-list-wrap hidden\">\n                <div class=\"account-indicator\"></div>\n                <div class=\"messages-title\">{[print(xabber.getString(\"search__header_messages\"))]}</div>\n                <div class=\"messages-list roster-left-container\"></div>\n            </div>\n        </div>\n        <div class=\"load-chats-feedback hidden\">{[print(xabber.getString(\"placeholder_loading\"))]}</div>\n    </div>\n    <div class=\"read-all-button hidden\">{[print(xabber.getString(\"mark_all_as_read_button\"))]}</div>\n</div>\n"}),define("text!templates/chats/add_chat_account_item.html",[],function(){return"<div class=\"account-item-wrap property-variant\" data-jid=\"{{jid}}\">\n    <div class=\"circle-avatar noselect\">\n        <img>\n    </div>\n    <div class=\"name-wrap\">\n        <div class=\"name one-line\">{{name}}</div>\n        <div class=\"jid one-line\">{{jid}}</div>\n    </div>\n</div>"}),define("text!templates/chats/chat_item.html",[],function(){return"<div class=\"account-indicator ground-color-700\"></div>\n<div class=\"circle-avatar\"></div>\n<div class=\"status hide-offline\"></div>\n<div class=\"chat-icon hidden\"></div>\n<div class=\"recent-chat-info\">\n    <div class=\"chat-title-wrap\">\n        <i class=\"mdi encrypted-icon mdi-14px mdi-lock\"></i>\n        <p class=\"chat-title one-line\"></p>\n        <i class=\"mdi muted-icon mdi-14px mdi-bell-off\"></i>\n        <p class=\"last-msg-date\"></p>\n    </div>\n    <p class=\"last-msg one-line\"></p>\n</div>\n<div class=\"chat-states\">\n    <div class=\"chat-item-notifications-wrap\">\n        <span class=\"msg-chat-error hidden\">!</span>\n        <span class=\"msg-incoming-subscription hidden\">+</span>\n        <span class=\"msg-counter hidden\"></span>\n        <i class=\"msg-delivering-state mdi mdi-16px hidden\"></i>\n        <i class=\"pinned-icon\">\n            <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n                <g id=\"icon/material/pinned-circle-small\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                    <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n                    <path d=\"M12,3 C16.9705627,3 21,7.02943725 21,12 C21,16.9705627 16.9705627,21 12,21 C7.02943725,21 3,16.9705627 3,12 C3,7.02943725 7.02943725,3 12,3 Z M12,4 C7.581722,4 4,7.581722 4,12 C4,16.418278 7.581722,20 12,20 C16.418278,20 20,16.418278 20,12 C20,7.581722 16.418278,4 12,4 Z M14,6.5 L17.5,9.5 L16.5,10.5 L16,10 L14.25,13.25 L15.25,14.75 L14,16 L11.5,13.5 L8.75,16.25 L7.75,16.25 L7.75,15.25 L10.5,12.5 L8,10 L9.25,8.75 L10.75,9.75 L13.5,8 L13,7.5 L14,6.5 Z\" id=\"xabber:pinned-small\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n                </g>\n            </svg>\n        </i>\n    </div>\n</div>\n"}),define("text!templates/chats/chat_head.html",[],function(){return"<div class=\"chat-head-details\"></div>\n<div class=\"circle-avatar\"/>\n<div class=\"contact-status hide-offline\"/>\n<div class=\"chat-icon hidden\"></div>\n<div class=\"contact-info\">\n    <div class=\"contact-name-wrap\">\n        <i class=\"mdi encrypted-icon mdi-14px mdi-lock\"></i>\n        <p class=\"contact-name one-line\"></p>\n    </div>\n    <p class=\"contact-status-message one-line\"></p>\n</div>\n<div class=\"chat-tools-wrap\">\n    <div class=\"chat-tool btn-show-fingerprints\">\n        <i class=\"mdi mdi-lock mdi-24px\"></i>\n    </div>\n    <div class=\"chat-tool btn-jingle-message\">\n        <i class=\"mdi mdi-phone mdi-24px\"></i>\n    </div>\n    <!--<div class=\"chat-tool btn-set-status\">\n        <svg class=\"mdi mdi-24px\" viewBox=\"0 0 24 24\">\n            <g stroke=\"none\" stroke-width=\"1\" fill=\"none\">\n                <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\n                <path d=\"M20,4 C21.1045695,4 22,4.8954305 22,6 L22,16 C22,17.1045695 21.1045695,18 20,18 L16,18 L12,22 L8,18 L4,18 C2.8954305,18 2,17.1045695 2,16 L2,6 C2,4.8954305 2.8954305,4 4,4 L20,4 Z M16,12 L6,12 L6,14 L16,14 L16,12 Z M18,8 L6,8 L6,10 L18,10 L18,8 Z\" id=\"tooltip-variant\" fill=\"#9E9E9E\" fill-rule=\"nonzero\"/>\n            </g>\n        </svg>\n    </div>-->\n    <div class=\"chat-tool btn-search-messages\">\n        <i class=\"search-icon mdi mdi-24px mdi-magnify\"></i>\n    </div>\n    <div class=\"chat-tool btn-more dropdown-button\" data-activates=\"{{view.cid}}-more\">\n        <i class=\"mdi mdi-24px mdi-dots-vertical\"></i>\n    </div>\n    <ul id=\"{{view.cid}}-more\" class=\"chat-head-menu dropdown-content noselect\">\n        <li class=\"btn-chat-pin\">\n            <span class=\"one-line\"></span>\n        </li>\n        <li class=\"btn-archive-chat\">\n            <span class=\"one-line\"></span>\n        </li>\n        <li class=\"btn-notifications active-hover\" data-activates=\"{{view.cid}}-mute-more\">\n            <span class=\"one-line\"></span>\n        </li>\n        <!--<li class=\"btn-contact-details\">-->\n            <!--<span class=\"one-line\">{[print(xabber.getString(\"contact_viewer\"))]}</span>-->\n        <!--</li>-->\n        <li class=\"btn-call-attention\">\n            <span class=\"one-line\">{[print(xabber.getString(\"call_attention\"))]}</span>\n        </li>\n        <!--<li class=\"btn-export-history\">\n            <span class=\"one-line\">{[print(xabber.getString(\"export_chat\"))]}</span>\n        </li>-->\n        <li class=\"btn-invite-users\">\n            <span class=\"one-line\">{[print(xabber.getString(\"groupchat_invite\"))]}</span>\n        </li>\n        <li class=\"btn-start-encryption\">\n            <span class=\"one-line\">{[print(xabber.getString(\"omemo__chat_settings__button_start_encrypted_chat\"))]}</span>\n        </li>\n        <li class=\"btn-open-encrypted-chat\">\n            <span class=\"one-line\">{[print(xabber.getString(\"omemo__chat_settings__button_open_encrypted_chat\"))]}</span>\n        </li>\n        <li class=\"btn-open-regular-chat\">\n            <span class=\"one-line\">{[print(xabber.getString(\"omemo__chat_settings__button_open_regular_chat\"))]}</span>\n        </li>\n        <li class=\"btn-delete-chat\">\n            <span class=\"one-line text-color-500\">{[print(xabber.getString(\"delete_chat\"))]}</span>\n        </li>\n        <li class=\"btn-clear-history\">\n            <span class=\"one-line text-color-500\">{[print(xabber.getString(\"clear_history\"))]}</span>\n        </li>\n        <!--<li class=\"btn-delete-contact\">-->\n            <!--<span class=\"one-line\">{[print(xabber.getString(\"chat_settings__button_delete_contact\"))]}</span>-->\n        <!--</li>-->\n        <!--<li class=\"btn-block-contact\">-->\n            <!--<span class=\"one-line\">{[print(xabber.getString(\"contact_block\"))]}</span>-->\n        <!--</li>-->\n        <!--<li class=\"btn-unblock-contact\">-->\n            <!--<span class=\"one-line\">{[print(xabber.getString(\"chat_settings__button_unblock_contact\"))]}</span>-->\n        <!--</li>-->\n    </ul>\n    <ul id=\"{{view.cid}}-mute-more\" class=\"contact-mute-dropdown dropdown-content noselect\">\n        <li class=\"btn-mute-dropdown\" data-mute=\"minutes15\">\n            <span class=\"one-line\">{[print(xabber.getString(\"mute_15_min\"))]}</span>\n        </li>\n        <li class=\"btn-mute-dropdown\" data-mute=\"hours1\">\n            <span class=\"one-line\">{[print(xabber.getString(\"mute_1_hour\"))]}</span>\n        </li>\n        <li class=\"btn-mute-dropdown\" data-mute=\"hours2\">\n            <span class=\"one-line\">{[print(xabber.getString(\"mute_2_hours\"))]}</span>\n        </li>\n        <li class=\"btn-mute-dropdown\" data-mute=\"day\">\n            <span class=\"one-line\">{[print(xabber.getString(\"mute_1_day\"))]}</span>\n        </li>\n        <li class=\"btn-mute-dropdown\" data-mute=\"forever\">\n            <span class=\"one-line\">{[print(xabber.getString(\"mute_forever\"))]}</span>\n        </li>\n    </ul>\n</div>\n"}),define("text!templates/chats/saved_chat_head.html",[],function(){return"<div class=\"circle-avatar ground-color-700\"></div>\n<div class=\"contact-info\">\n    <p class=\"contact-name one-line\">{[print(xabber.getString(\"saved_messages__header\"))]}</p>\n    <p class=\"one-liner\"></p>\n</div>\n<div class=\"chat-tools-wrap\">\n    <div class=\"chat-tool btn-chat-pin\">\n        <svg class=\"mdi mdi-24px\" viewBox=\"0 0 24 24\">\n            <svg class=\"mdi mdi-24px\" viewBox=\"0 0 24 24\">\n                <path id=\"tooltip-variant\" fill=\"#9E9E9E\" fill-rule=\"nonzero\" d=\"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z\"/>\n            </svg>\n        </svg>\n    </div>\n    <div class=\"chat-tool btn-search-messages\">\n        <i class=\"search-icon mdi mdi-24px mdi-magnify\"></i>\n    </div>\n    <div class=\"chat-tool btn-more dropdown-button\" data-activates=\"{{view.cid}}-more\">\n        <i class=\"mdi mdi-24px mdi-dots-vertical\"></i>\n    </div>\n    <ul id=\"{{view.cid}}-more\" class=\"chat-head-menu dropdown-content noselect\">\n        <li class=\"btn-delete-chat\">\n            <span class=\"one-line\">{[print(xabber.getString(\"chat_settings__button_delete_all\"))]}</span>\n        </li>\n    </ul>\n</div>\n"}),define("text!templates/chats/chat_content.html",[],function(){return"  <div class=\"search-form-header\">\n    <div class=\"messages-search-form search-form\">\n        <i class=\"search-icon mdi mdi-20px mdi-magnify\"></i>\n        <input type=\"text\" class=\"search-input simple-input-field\" tabindex=\"1\" placeholder='{[print(xabber.getString(\"chat__search_messages_panel__placeholder\"))]}' autofocus>\n    </div>\n    <div class=\"text-color-700 btn-cancel-searching\">{[print(xabber.getString(\"cancel\"))]}</div>\n</div>\n<div class=\"pinned-message\"></div>\n<div class=\"elements-in-top\">\n    <div class=\"subscription-buttons-wrap hidden\"/>\n    <div class=\"chat-day-indicator fixed-day-indicator-wrap hidden\"><div class=\"fixed-day-indicator\"></div></div>\n</div>\n<div class=\"load-history-feedback hidden\"></div>\n<div class=\"participant-messages-header hidden\"><div class=\"messages-by-header\">{[print(xabber.getString(\"chat__placeholder_participant_messages__messages_by\"))]} <div class=\"participant-nickname text-color-700\"></div></div><div class=\"btn-cancel-selection\">{[print(xabber.getString(\"cancel\"))]}</div><div class=\"text-color-700 btn-retract-messages\">{[print(xabber.getString(\"chat_settings__button_delete_all\"))]}</div></div>\n<div class=\"chat-content\">\n</div>\n<div class=\"chat-notification hidden one-line\"></div>\n<i class=\"mdi mdi-36px back-to-bottom mdi-chevron-down\"></i>\n"}),define("text!templates/chats/chat_content_contact.html",[],function(){return"<div class=\"search-wrap\">\n    <div class=\"search-content\">\n        <div class=\"search-form-header block-header\">\n            <i class=\"details-icon btn-back mdi mdi-24px mdi-arrow-left\"></i>\n            <div class=\"messages-search-form search-form \">\n                <input type=\"text\" class=\"search-input simple-input-field\" tabindex=\"1\" placeholder='{[print(xabber.getString(\"chat__search_messages_panel__placeholder\"))]}' autofocus>\n            </div>\n            <i class=\"close-search-icon mdi mdi-24px mdi-close\"></i>\n        </div>\n        <div class=\"search-messages-content-wrap\">\n            <div class=\"search-results\">\n                {[print(xabber.getString(\"nothing_was_searched\"))]}\n            </div>\n            <div class=\"preloader-wrap\">\n                <div class=\"preloader-wrapper preloader-20px active\">\n                    <div class=\"spinner-layer\">\n                        <div class=\"circle-clipper left\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"gap-patch\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"circle-clipper right\">\n                            <div class=\"circle\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"messages-count\">\n            </div>\n            <div class=\"chat-content\">\n            </div>\n        </div>\n    </div>\n</div>"}),define("text!templates/chats/chat_bottom.html",[],function(){return"    <div class=\"message-input-panel noselect\">\n        <div class=\"my-avatar circle-avatar circle-image-fix\"></div>\n        <div class=\"message-form\">\n            <div class=\"fwd-messages-preview noselect hidden\">\n                <div class=\"msg-border ground-color-700\">\n                </div>\n                <div class=\"msg-content\">\n                    <p class=\"msg-author text-color-700 one-line\"></p>\n                    <p class=\"msg-text one-line\"></p>\n                </div>\n                <div class=\"close-forward\">\n                    <i class=\"mdi mdi-20px mdi-close hover-text-color-500\"></i>\n                </div>\n            </div>\n            <div class=\"input-field input-message\">\n                <div class=\"mentions-list\"></div>\n                <div class=\"rich-textarea-wrap notranslate\">\n                </div>\n                <div class=\"scrollbar-cover\"></div>\n                <div class=\"insert-emoticon\">\n                    <i class=\"mdi mdi-24px mdi-emoticon hover-text-color-500\"></i>\n                </div>\n                <div class=\"emoticons-panel-wrap\">\n                    <div class=\"emoticons-panel\"></div>\n                    <div class=\"emoji-menu\"></div>\n                    <div class=\"uploading-emoticons\">\n                    <div class=\"preloader-wrapper preloader-20px active visible\">\n                        <div class=\"spinner-layer\">\n                            <div class=\"circle-clipper left\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"gap-patch\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"circle-clipper right\">\n                                <div class=\"circle\"></div>\n                            </div>\n                        </div>\n                    </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"input-voice-message\">\n                <div class=\"voice-visualizer\"></div>\n                <div class=\"timer\">0:00</div>\n                <div class=\"voice-msg-status\">{[print(xabber.getString(\"chat_bottom__placeholder__cancel_write_voice\"))]}</div>\n            </div>\n            <div class=\"input-toolbar\">\n                <div class=\"attach attach-file\">\n                    <input type=\"file\" title='{[print(xabber.getString(\"chat_bottom__tooltip_send_file\"))]}' multiple>\n                    <i class=\"mdi mdi-24px mdi-paperclip\"></i>\n                </div>\n                <div class=\"attach attach-location\">\n                    <input type=\"text\" hidden title='{[print(xabber.getString(\"chat_bottom__tooltip_send_file\"))]}'>\n                    <i class=\"mdi mdi-24px mdi-map-marker\"></i>\n                </div>\n                <div title=\"Format text\" class=\"format-text\">\n                    <i class=\"mdi mdi-24px mdi-format-text\"></i>\n                </div>\n                <div class=\"last-emoticons\">\n                </div>\n                <div class=\"account-info-wrap\">\n                    <div class=\"account-jid text-color-700\"></div>\n                    <div class=\"account-nickname text-color-700\"></div>\n                    <div class=\"account-badge\"></div>\n                    <div class=\"account-role ground-color-700\"></div>\n                </div>\n            </div>\n        </div>\n        <div class=\"send-area\">\n            <i class=\"send-message mdi mdi-28px mdi-send text-color-700 hover-text-color-500 hidden\"></i>\n            <i class=\"mdi mdi-28px mdi-microphone attach-voice-message text-color-700 hover-text-color-500\"></i>\n        </div>\n    </div>\n    <div class=\"blocked-msg hidden\">{[print(xabber.getString(\"chat_bottom__placeholder__blocked\"))]}</div>\n    <div class=\"message-actions-panel noselect hidden\">\n        <div class=\"button-wrap reply-message-wrap\">\n            <i class=\"action-button reply-message mdi ground-color-700 mdi-reply mdi-24px\"></i>\n            <div class=\"button-name\"><span class=\"text-color-500\">{[print(xabber.getString(\"chat_reply\").slice(0,1))]}</span>{[print(xabber.getString(\"chat_reply\").slice(1))]}</div>\n        </div>\n        <div class=\"button-wrap forward-message-wrap\">\n            <i class=\"action-button forward-message mdi ground-color-700 mdi-forward mdi-24px\"></i>\n            <div class=\"button-name\"><span class=\"text-color-500\">{[print(xabber.getString(\"chat_froward\").slice(0,1))]}</span>{[print(xabber.getString(\"chat_froward\").slice(1))]}</div>\n        </div>\n        <div class=\"button-wrap copy-message-wrap\">\n            <i class=\"action-button copy-message mdi ground-color-700 mdi-content-copy mdi-24px\"></i>\n            <div class=\"button-name\"><span class=\"text-color-500\">{[print(xabber.getString(\"message_copy\").slice(0,1))]}</span>{[print(xabber.getString(\"message_copy\").slice(1))]}</div>\n        </div>\n        <div class=\"button-wrap delete-message-wrap\">\n            <i class=\"action-button delete-message mdi ground-color-700 mdi-delete mdi-24px\"></i>\n            <div class=\"button-name\"><span class=\"text-color-500\">{[print(xabber.getString(\"delete\").slice(0,1))]}</span>{[print(xabber.getString(\"delete\").slice(1))]}</div>\n        </div>\n        <div class=\"button-wrap edit-message-wrap\">\n            <i class=\"action-button edit-message mdi ground-color-700 mdi-pencil mdi-24px\"></i>\n            <div class=\"button-name\"><span class=\"text-color-500\">{[print(xabber.getString(\"message_edit\").slice(0,1))]}</span>{[print(xabber.getString(\"message_edit\").slice(1))]}</div>\n        </div>\n        <div class=\"button-wrap pin-message-wrap\">\n            <svg class=\"action-button pin-message ground-color-700\" viewBox=\"0 0 24 24\">\n                <path fill=\"#FFF\" d=\"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z\"/>\n            </svg>\n            <div class=\"button-name\"><span class=\"text-color-500\">{[print(xabber.getString(\"message_pin\").slice(0,1))]}</span>{[print(xabber.getString(\"message_pin\").slice(1))]}</div>\n        </div>\n        <div class=\"button-wrap cancel-message-wrap\">\n            <i class=\"action-button close-message-panel mdi mdi-close mdi-24px\"></i>\n            <div class=\"button-name\">{[print(xabber.getString(\"cancel\"))]}</div>\n        </div>\n    </div>\n"}),define("text!templates/chats/location_popup.html",[],function(){return"\n<div class=\"modal-content-wrap\">\n    <div class=\"modal-content{[ if (!popup_coordinates) { ]}popup{[ } ]}\">\n        <div id=\"map\" class=\"text-color-700\" style=\"width:800px; height:490px;\" data-type='map'></div>\n        <div class=\"form-group\">\n                <textarea id=\"output\" class=\"form-control\" disabled rows=\"20\"></textarea>\n                <textarea id=\"lat\" class=\"form-control\" disabled rows=\"20\"></textarea>\n                <textarea id=\"lon\" class=\"form-control\" disabled rows=\"20\"></textarea>\n        </div>\n\n        <script type=\"text/javascript\">\n            var layers = [ new ol.layer.Tile({ source: new ol.source.OSM() }) ];\n            var coordinates = popup_coordinates ? ol.proj.transform(popup_coordinates, 'EPSG:4326', 'EPSG:3857') : [-9639318.435625363, 1667475.03690917];\n            var zoom = popup_coordinates ? 15 : 0;\n\n            var placemark = new ol.Overlay.Placemark ({\n                // backgroundColor : 'yellow',\n                contentColor: '#000',\n                autoPan: true,\n                html: '<?xml version=\"1.0\" encoding=\"UTF-8\"?><svg width=\"48px\" height=\"48px\" viewBox=\"0 0 24 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"icon/material/map-marker\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"36\" height=\"36\"></rect><path d=\"M12,11.5 C10.6192881,11.5 9.5,10.3807119 9.5,9 C9.5,8.33695878 9.7633921,7.70107399 10.232233,7.23223305 C10.701074,6.7633921 11.3369588,6.5 12,6.5 C13.3807119,6.5 14.5,7.61928813 14.5,9 C14.5,9.66304122 14.2366079,10.298926 13.767767,10.767767 C13.298926,11.2366079 12.6630412,11.5 12,11.5 M12,2 C8.13400675,2 5,5.13400675 5,9 C5,14.25 12,22 12,22 C12,22 19,14.25 19,9 C19,5.13400675 15.8659932,2 12,2 Z\" id=\"mdi:map-marker\" fill=\"#000000\" fill-rule=\"nonzero\"></path></g></svg>',\n                anchor: false,\n                autoPanAnimation: { duration: 250 }\n              });\n\n            var placemark_my_location = new ol.Overlay.Placemark ({\n                // backgroundColor : 'yellow',\n                contentColor: '#000',\n                autoPan: true,\n                html: '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"36px\" height=\"36px\"><circle class=\"outer\" cx=\"20\" cy=\"20\" r=\"16\" stroke=\"none\" stroke-width=\"1.5\" fill=\"none\" style=\"opacity: 0.6;\"></circle><circle class=\"inner\" cx=\"20\" cy=\"20\" r=\"8\" stroke=\"white\" stroke-width=\"1.5\" fill=\"none\"></circle></svg>',\n                anchor: false,\n                autoPanAnimation: { duration: 250 }\n              });\n\n            var map = new ol.Map\n            ({\ttarget: 'map',\n                view: new ol.View\n                ({\tzoom: zoom,\n                    center: coordinates\n                }),\n                interactions: ol.interaction.defaults({ altShiftDragRotate:false, pinchRotate:false }),\n                layers: layers,\n                overlays: [placemark, placemark_my_location]\n            });\n\n            var getCurrentPositionControl = function (e) {\n                navigator.geolocation.getCurrentPosition(success, error, options);\n            };\n\n            var options = {\n              enableHighAccuracy: true,\n              timeout: 5000,\n              maximumAge: 0\n            };\n\n            function success(pos) {\n              var crd = pos.coords;\n              map.getView().setCenter(ol.proj.transform([crd.longitude, crd.latitude], 'EPSG:4326', 'EPSG:3857'));\n              placemark_my_location.show(ol.proj.transform([crd.longitude, crd.latitude], 'EPSG:4326', 'EPSG:3857'));\n              map.getView().setZoom(17);\n              button_geoposition.innerHTML = '<?xml version=\"1.0\" encoding=\"UTF-8\"?><svg width=\"22px\" height=\"22px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"icon/material/crosshairs-gps\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"22\" height=\"22\"></rect><path d=\"M12,8 C14.209139,8 16,9.790861 16,12 C16,14.209139 14.209139,16 12,16 C9.790861,16 8,14.209139 8,12 C8,9.790861 9.790861,8 12,8 M3.05,13 L1,13 L1,11 L3.05,11 C3.5,6.83 6.83,3.5 11,3.05 L11,1 L13,1 L13,3.05 C17.17,3.5 20.5,6.83 20.95,11 L23,11 L23,13 L20.95,13 C20.5,17.17 17.17,20.5 13,20.95 L13,23 L11,23 L11,20.95 C6.83,20.5 3.5,17.17 3.05,13 M12,5 C8.13400675,5 5,8.13400675 5,12 C5,15.8659932 8.13400675,19 12,19 C15.8659932,19 19,15.8659932 19,12 C19,8.13400675 15.8659932,5 12,5 L12,5 Z\" id=\"mdi:crosshairs-gps\" fill=\"#9E9E9E\" fill-rule=\"nonzero\"></path></g></svg>';\n            };\n\n            function error(err) {\n              console.warn(`ERROR(${err.code}): ${err.message}`);\n            };\n\n            var button_geoposition = document.createElement('button');\n            button_geoposition.innerHTML = '<?xml version=\"1.0\" encoding=\"UTF-8\"?><svg width=\"22px\" height=\"22px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"icon/material/crosshairs-question\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"22\" height=\"22\"></rect><path d=\"M3.05,13 L1,13 L1,11 L3.05,11 C3.5,6.83 6.83,3.5 11,3.05 L11,1 L13,1 L13,3.05 C17.17,3.5 20.5,6.83 20.95,11 L23,11 L23,13 L20.95,13 C20.5,17.17 17.17,20.5 13,20.95 L13,23 L11,23 L11,20.95 C6.83,20.5 3.5,17.17 3.05,13 M12,5 C8.13,5 5,8.13 5,12 C5,15.87 8.13,19 12,19 C15.87,19 19,15.87 19,12 C19,8.13 15.87,5 12,5 M11.13,17.25 L12.88,17.25 L12.88,15.5 L11.13,15.5 L11.13,17.25 M12,6.75 C10.07,6.75 8.5,8.32 8.5,10.25 L10.25,10.25 C10.25,9.28 11.03,8.5 12,8.5 C12.97,8.5 13.75,9.28 13.75,10.25 C13.75,12 11.13,11.78 11.13,14.63 L12.88,14.63 C12.88,12.66 15.5,12.44 15.5,10.25 C15.5,8.32 13.93,6.75 12,6.75 Z\" id=\"mdi:crosshairs-question\" fill=\"#9E9E9E\" fill-rule=\"nonzero\"></path></g></svg>';\n\n\n            button_geoposition.addEventListener('click', getCurrentPositionControl, false);\n\n            var custom_element_position = document.createElement('div');\n\n            if (popup_coordinates) {\n                custom_element_position.className = 'geoposition placemark-exist ol-control ol-unselectable';\n            }\n            else {\n                custom_element_position.className = 'geoposition ol-control ol-unselectable';\n            }\n            custom_element_position.appendChild(button_geoposition);\n\n            geoposition = new ol.control.Control({\n                className: 'myControl',\n                element: custom_element_position,\n                target: document.getElementById(\"myCustomControl\")\n            });\n\n            map.addControl(geoposition);\n\n            if (popup_coordinates) {\n                placemark.show(ol.proj.transform(popup_coordinates, 'EPSG:4326', 'EPSG:3857'));\n                $('.ol-zoom.ol-unselectable.ol-control').addClass('placemark-exist');\n                var getPlacemarkPositionControl = function (e) {\n                    map.getView().setCenter(ol.proj.transform(popup_coordinates, 'EPSG:4326', 'EPSG:3857'));\n                    map.getView().setZoom(15);\n                    $('.ol-location').show()\n\n                };\n\n                var button_placemark_position = document.createElement('button');\n                button_placemark_position.innerHTML = '<?xml version=\"1.0\" encoding=\"UTF-8\"?><svg width=\"22px\" height=\"22px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g id=\"icon/material/map-marker\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"36\" height=\"36\"></rect><path d=\"M12,11.5 C10.6192881,11.5 9.5,10.3807119 9.5,9 C9.5,8.33695878 9.7633921,7.70107399 10.232233,7.23223305 C10.701074,6.7633921 11.3369588,6.5 12,6.5 C13.3807119,6.5 14.5,7.61928813 14.5,9 C14.5,9.66304122 14.2366079,10.298926 13.767767,10.767767 C13.298926,11.2366079 12.6630412,11.5 12,11.5 M12,2 C8.13400675,2 5,5.13400675 5,9 C5,14.25 12,22 12,22 C12,22 19,14.25 19,9 C19,5.13400675 15.8659932,2 12,2 Z\" id=\"mdi:map-marker\" fill=\"#9E9E9E\" fill-rule=\"nonzero\"></path></g></svg>';\n\n\n                button_placemark_position.addEventListener('click', getPlacemarkPositionControl, false);\n\n                var custom_element_placemark_position = document.createElement('div');\n                custom_element_placemark_position.className = 'placemark-position ol-control ol-unselectable';\n                custom_element_placemark_position.appendChild(button_placemark_position);\n\n                placemark_position = new ol.control.Control({\n                    className: 'myControl',\n                    element: custom_element_placemark_position,\n                    target: document.getElementById(\"myCustomControl\")\n                });\n\n                map.addControl(placemark_position);\n\n                var custom_element_show_location_name = document.createElement('div');\n                custom_element_show_location_name.innerHTML = '{{location_name}}';\n\n\n                custom_element_show_location_name.className = 'ol-location ol-control ol-unselectable';\n\n                show_location_name = new ol.control.Control({\n                    className: 'myControl',\n                    element: custom_element_show_location_name,\n                    target: document.getElementById(\"myCustomControl\")\n                });\n\n                map.addControl(show_location_name);\n\n            }\n\n            if (!popup_coordinates) {\n\n                var send_buttom = document.createElement('button');\n                send_buttom.className = 'btn-apply mdi mdi-28px mdi-send';\n\n                var send_address_div = document.createElement('div');\n                send_address_div.setAttribute(\"id\", \"send_address\");\n                send_address_div.className = 'ol-send-address';\n\n                var send_div = document.createElement('div');\n                send_div.setAttribute(\"id\", \"send_text\");\n                send_div.className = 'ol-send-text';\n\n                var custom_element_send = document.createElement('div');\n                custom_element_send.className = 'ol-send ol-control ol-unselectable';\n                custom_element_send.appendChild(send_address_div);\n                custom_element_send.appendChild(send_div);\n                custom_element_send.appendChild(send_buttom);\n\n                send = new ol.control.Control({\n                    className: 'myControl',\n                    element: custom_element_send,\n                    target: document.getElementById(\"myCustomControl\")\n                });\n\n                map.addControl(send);\n\n                var sLayer = new ol.layer.Vector({\n                    source: new ol.source.Vector(),\n                    style: new ol.style.Style({\n                        image: new ol.style.Circle({\n                            radius: 5,\n                            stroke: new ol.style.Stroke ({\n                                color: 'rgb(255,165,0)',\n                                width: 3\n                            }),\n                            fill: new ol.style.Fill({\n                                color: 'rgba(255,165,0,.3)'\n                            })\n                        }),\n                        stroke: new ol.style.Stroke ({\n                            color: 'rgb(255,165,0)',\n                            width: 3\n                        }),\n                        fill: new ol.style.Fill({\n                            color: 'rgba(255,165,0,.3)'\n                        })\n                    })\n                });\n\n                map.addLayer(sLayer);\n\n                var search = new ol.control.SearchNominatim (\n                    {\t//target: $(\".options\").get(0),\n                        polygon: $(\"#polygon\").prop(\"checked\"),\n                        reverse: true,\n                        position: true\t// Search, with priority to geo position\n                    });\n\n                map.addControl (search);\n\n                search.on('select', function(e){\n                    sLayer.getSource().clear();\n                    // Check if we get a geojson to describe the search\n                    if (e.search.geojson) {\n                        var format = new ol.format.GeoJSON();\n                        var f = format.readFeature(e.search.geojson, { dataProjection: \"EPSG:4326\", featureProjection: map.getView().getProjection() });\n                        sLayer.getSource().addFeature(f);\n                        var view = map.getView();\n                        var resolution = view.getResolutionForExtent(f.getGeometry().getExtent(), map.getSize());\n                        var zoom = view.getZoomForResolution(resolution);\n                        var center = ol.extent.getCenter(f.getGeometry().getExtent());\n                        // redraw before zoom\n                        setTimeout(function(){\n                                view.animate({\n                                center: center,\n                                zoom: Math.min (zoom, 16)\n                            });\n                        }, 100);\n                    }\n                    else {\n                        map.getView().animate({\n                            center:e.coordinate,\n                            zoom: Math.max (map.getView().getZoom(),16)\n                        });\n                    }\n                });\n\n                function reverseGeocode(json) {\n                    if (!json[0].error) {\n                        let house_number = json[0].address.house_number ? ' ' + json[0].address.house_number : '',\n                            road = json[0].address.road ? json[0].address.road + house_number + ', ' : '',\n                            state = json[0].address.state ? json[0].address.state + ', ' : '',\n                            neighbourhood = json[0].address.neighbourhood ? json[0].address.neighbourhood + ', ' : '',\n                            allotments = json[0].address.allotments ? json[0].address.allotments + ', ' : '',\n                            village = json[0].address.village ? json[0].address.village + ', ' : '',\n                            city = json[0].address.city ? json[0].address.city + ', ' : '',\n                            country = json[0].address.country ? state + json[0].address.country : '',\n                            final_text = ''\n                        if ( !road ){\n                            final_text = neighbourhood + allotments + village + city + country\n                        }\n                        else {\n                            final_text = road + neighbourhood + allotments + village + city + state.replace(', ','')\n                        }\n                        $('#send_address').text(final_text);\n                    }\n                    else {\n                        $('#send_address').text(xabber.getString(\"location_fragment__address_error__title\"));\n                    }\n                }\n\n                map.on('click', function(e) {\n                    placemark.show(e.coordinate);\n                    search.reverseGeocode(e.coordinate, reverseGeocode);\n                    let coordinates = ol.proj.transform(e.coordinate, map.getView().getProjection(), 'EPSG:4326');\n                    $('.ol-control.ol-send').show();\n                    $('#send_text').text(coordinates[1].toFixed(6) + ':' + coordinates[0].toFixed(6));\n                    $('#output').text('geo:' + coordinates[1] + ',' + coordinates[0]);\n                    $('#lat').text(coordinates[1]);\n                    $('#lon').text(coordinates[0]);\n                  });\n            }\n            window.setTimeout(function () { map.updateSize(); }, 200)\n        </script>\n    </div>\n</div>"}),define("text!templates/chats/subscription_buttons.html",[],function(){return"<div class=\"subscription-buttons\">\n    <div class=\"subscription-info\"></div>\n    <div class=\"button text-color-500 btn-add\">{[print(xabber.getString(\"contact_add\"))]}</div>\n    <div class=\"button btn-block\">{[print(xabber.getString(\"contact_bar_block\"))]}</div>\n    <div class=\"button text-color-500 btn-allow\">{[print(xabber.getString(\"chat_allow\"))]}</div>\n    <div class=\"button text-color-500 btn-subscribe\">{[print(xabber.getString(\"chat_subscribe\"))]}</div>\n    <i class=\"mdi-close btn-decline mdi mdi-24px\"/>\n</div>"}),define("text!templates/chats/forward_panel.html",[],function(){return"<div class=\"modal-header noselect\">\n    <div class=\"panel-header\">\n        <span class=\"header\">{[print(xabber.getString(\"dialog_forward_message__header\"))]}</span>\n    </div>\n</div>\n<div class=\"modal-content noselect\">\n    <div class=\"chats-search-form search-form\">\n        <i class=\"search-icon mdi mdi-20px mdi-magnify\"></i>\n        <input type=\"text\" class=\"search-input simple-input-field\" placeholder='{[print(xabber.getString(\"search\"))]}'>\n        <i class=\"close-search-icon mdi mdi-20px mdi-close\"></i>\n    </div>\n    <div class=\"chat-list-wrap\">\n    </div>\n    <div class=\"error hidden\">{[print(xabber.getString(\"placeholder_no_matches\"))]}</div>\n</div>\n"}),define("text!templates/chats/chat_placeholder.html",[],function(){return"<div class=\"text\">{[print(xabber.getString(\"chat_list__placeholder\"))]}</div>\n"}),define("text!templates/chats/message_item.html",[],function(){return"<div class=\"account-indicator ground-color-700\"></div>\n<div class=\"circle-avatar\"></div>\n<div class=\"chat-icon hidden\"></div>\n<div class=\"recent-chat-info\">\n    <div class=\"chat-title-wrap\">\n        <p class=\"chat-title one-line\"></p>\n        <p class=\"last-msg-date\"></p>\n    </div>\n    <p class=\"last-msg one-line\"></p>\n</div>\n"}),define("text!templates/chats/messages/main.html",[],function(){return"<div class=\"chat-message main {{classlist}}\"  {[if (avatar_id) {]} data-avatar=\"{{avatar_id}}\" {[}]} {[if (avatar_url) {]} data-avatar-url=\"{{avatar_url}}\" {[}]} data-time=\"{{timestamp}}\" data-uniqueid=\"{{unique_id}}\" {[if (from_id) {]} data-from-id=\"{{from_id}}\" {[}]} data-from=\"{{from_jid}}\">\n    <div class=\"left-side noselect\">\n        <div class=\"circle-avatar\"></div>\n    </div>\n\n    <div class=\"msg-wrap\">\n        <div class=\"chat-msg-author-wrap\">\n            <div class=\"chat-msg-author text-color-700 one-line\">{{username}}</div>\n            {[if (badge) {]} <div class=\"chat-msg-author-badge one-line\">{{badge}}</div>\n            {[ } if (role && (role.toLowerCase() != 'member')) {]} <div class=\"chat-msg-author-role ground-color-700 one-line\">{{role}}</div> {[}]}\n        </div>\n        <div class=\"fwd-msgs-block\"></div>\n        <div class=\"chat-msg-content chat-text-content\">{{message}}</div>\n        <div class=\"chat-msg-media-content\"></div>\n        <div class=\"chat-msg-location-content no-title\" title=\"{[print(xabber.getString('location_fragment__address_error__title'))]}\"></div>\n    </div>\n\n    <div class=\"right-side noselect\">\n        <div class=\"msg-time selectable-text\" title=\"{{time}}\">{{short_time}}</div>\n        <div class=\"edited-info one-line hidden\"></div>\n        {[ if (is_sender) { ]}\n            <i class=\"msg-delivering-state mdi mdi-14px\" data-state=\"{{state}}\" title=\"{{verbose_state}}\" data-activates=\"retry-send-msg-{{msgid}}\"></i>\n            <div id=\"retry-send-msg-{{msgid}}\" class=\"dropdown-content retry-send-message noselect\"><div class=\"btn-retry-send-message\">{[print(xabber.getString(\"chat_screen__message__button_retry_send\"))]}</div></div>\n        {[ } ]}\n        <div class=\"msg-copy-link\" title='{[print(xabber.getString(\"action_copy_link\"))]}'><i class=\"mdi mdi-link-variant\" data-image=\"{{is_image}}\"></i></div>\n        <div class=\"msg-copy-location\"  title='{[print(xabber.getString(\"action_copy_location\"))]}'><div class=\"msg-copy-location-content\" data-location=\"false\"></div></div>\n    </div>\n</div>\n"}),define("text!templates/chats/messages/searched.html",[],function(){return"<div class=\"chat-message main {{classlist}}\"  {[if (avatar_id) {]} data-avatar=\"{{avatar_id}}\" {[}]} {[if (avatar_url) {]} data-avatar-url=\"{{avatar_url}}\" {[}]} data-time=\"{{timestamp}}\" data-uniqueid=\"{{unique_id}}\" {[if (from_id) {]} data-from-id=\"{{from_id}}\" {[}]} data-from=\"{{from_jid}}\">\n    <div class=\"left-side noselect\">\n        <div class=\"circle-avatar\"></div>\n    </div>\n\n    <div class=\"msg-wrap\">\n        <div class=\"chat-msg-author-wrap\">\n            <div class=\"chat-msg-author text-color-700 one-line\">{{username}}</div>\n            {[if (badge) {]} <div class=\"chat-msg-author-badge one-line\">{{badge}}</div>\n            {[ } if (role && (role.toLowerCase() != 'member')) {]} <div class=\"chat-msg-author-role ground-color-700 one-line\">{{role}}</div> {[}]}\n        </div>\n        <div class=\"chat-msg-content chat-text-content\">{{message}}</div>\n    </div>\n\n    <div class=\"right-side noselect\">\n        <div class=\"msg-time selectable-text\" title=\"{{time}}\">{{msg_time}}</div>\n    </div>\n</div>\n"}),define("text!templates/chats/messages/forwarded.html",[],function(){return"<div class=\"fwd-message\" data-time=\"{{timestamp}}\" data-uniqueid=\"{{unique_id}}\" {[if (avatar_id) {]} data-avatar=\"{{avatar_id}}\" {[}]} {[if (avatar_url) {]} data-avatar-url=\"{{avatar_url}}\" {[}]} data-from-id=\"{{from_id}}\" data-from=\"{{from_jid}}\">\n    <div class=\"fwd-left-side noselect\">\n        <div class=\"circle-avatar\"></div>\n    </div>\n    <div class=\"msg-wrap\">\n        <div class=\"fwd-msg-author-wrap\">\n            <div class=\"fwd-msg-author text-color-700 one-line\">{{username}}</div>\n            {[if (badge) {]} <div class=\"chat-msg-author-badge one-line\">{{badge}}</div>\n            {[ } if ((role)&&(role != 'Member')) {]} <div class=\"chat-msg-author-role ground-color-700 one-line\">{{role}}</div> {[}]}\n            <div class=\"msg-time selectable-text one-line\" title=\"{{time}}\">{{short_time}}</div>\n        </div>\n        <div class=\"fwd-msgs-block\"></div>\n        <div class=\"chat-msg-content chat-text-content\">{{message}}</div>\n        <div class=\"chat-msg-media-content\"></div>\n        <div class=\"chat-msg-location-content no-title\" title=\"{[print(xabber.getString('location_fragment__address_error__title'))]}\"></div>\n    </div>\n</div>\n"}),define("text!templates/chats/messages/system.html",[],function(){return"<div class=\"chat-message system\"  data-time=\"{{timestamp}}\" data-uniqueid=\"{{unique_id}}\" data-from=\"{{from_jid}}\">\n    <div class=\"msg-wrap\">\n        <div class=\"chat-msg-content chat-text-content\">{{message}}</div>\n    </div>\n\n    <div class=\"right-side noselect\">\n        <div class=\"msg-time selectable-text\" title=\"{{time}}\">{{short_time}}</div>\n    </div>\n</div>\n"}),define("text!templates/chats/messages/file_upload.html",[],function(){return"<div class=\"chat-message {[if (encrypted) {]}encrypted{[}]} file-upload noselect\" {[if (avatar_id) {]} data-avatar=\"{{avatar_id}}\" {[}]} {[if (avatar_url) {]} data-avatar-url=\"{{avatar_url}}\" {[}]} data-time=\"{{timestamp}}\" data-from=\"{{from_jid}}\" data-uniqueid=\"{{unique_id}}\">\n    <div class=\"left-side noselect\">\n        <div class=\"circle-avatar\"></div>\n    </div>\n\n    <div class=\"msg-wrap\">\n        <div class=\"chat-msg-author-wrap\">\n            <div class=\"chat-msg-author text-color-700 one-line\">{{username}}</div>\n            {[if (badge) {]} <div class=\"chat-msg-author-badge one-line\">{{badge}}</div>\n            {[ } if (role && (role != 'Member')) {]} <div class=\"chat-msg-author-role ground-color-700 one-line\">{{role}}</div> {[}]}\n        </div>\n        <div class=\"chat-msg-content chat-file-content\">\n            <div class=\"chat-file-info\">\n                <div class=\"filename text-color-700 one-line\">{{files[0].name}}</div>\n                <div class=\"filesize grey-text one-line\"></div>\n                <div class=\"status-area\">\n                    <div class=\"status one-line text-color-700\" style=\"display: none\"></div>\n                    <div class=\"repeat-upload text-color-700\" style=\"display: none;\">Resend</div>\n                </div>\n                <div class=\"progress-area\">\n                    <div class=\"progress ground-color-100\">\n                        <div class=\"determinate ground-color-700\" style=\"width: 0%\"></div>\n                    </div>\n                    <div class=\"cancel-upload text-color-700\">Cancel</div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"right-side noselect\">\n        <div class=\"msg-time selectable-text\" title=\"{{time}}\">{{short_time}}</div>\n        <i class=\"msg-delivering-state mdi mdi-14px\" data-state=\"pending\" title=\"{{verbose_state}}\" data-activates=\"retry-send-msg-{{msgid}}\"></i>\n        <div id=\"retry-send-msg-{{msgid}}\" class=\"dropdown-content retry-send-message noselect\"><div class=\"btn-retry-send-message\">retry</div><div class=\"btn-delete-message\">delete</div></div>\n        <div class=\"msg-copy-link\" title=\"Copy link\"><i class=\"mdi mdi-link-variant\" data-image=\"{{is_image}}\"></i></div>\n    </div>\n</div>"}),define("text!templates/chats/messages/file.html",[],function(){return"<div class=\"one-file-wrap link-file\">\n    <i class=\"mdi {{mdi_icon}}\"></i>\n    <div class=\"file-container\">\n        <div class=\"file-info one-line\">\n            <span class=\"file-name\">{{name}}</span>{[ if (is_audio && duration) { ]}, {{duration}}{[ } ]},  <span class=\"file-size\">{{size}}</span>\n        </div>\n        <a href=\"{{sources[0]}}\" class=\"file-link-download\">{[print(xabber.getString(\"action_download\"))]}</a>\n    </div>\n</div>"}),define("text!templates/chats/messages/video.html",[],function(){return"<div class=\"video-file-wrap\">\n    <div class=\"video-metadata\">\n        {{video.name}}, {{video.pretty_size}}\n    </div>\n    <div class=\"video-container\">\n    </div>\n    <div class=\"video-controls control\">\n        <div class=\"progress-bar\">\n            <span class=\"time-bar\"></span>\n        </div>\n        <div class=\"bottom-wrapper no-select\">\n            <div class=\"play-button mini\" title=\"Play/Pause Video\">\n                <i class=\"mdi mdi-20px mdi-play\"></i>\n            </div>\n            <div class=\"time\">\n                <span class=\"current\">00:00</span> / <span class=\"duration\">00:00</span>\n            </div>\n            <div class=\"sound-button sound-med\" title=\"Mute/Unmute sound\">\n                <i class=\"mdi mdi-20px mdi-volume-high\"></i>\n            </div>\n            <div class=\"volume\" title=\"Set volume\">\n                <span class=\"volume-bar\"></span>\n            </div>\n            <div class=\"video-fullscreen\" title=\"Switch to full screen\">\n                <i class=\"mdi mdi-20px mdi-fullscreen\"></i>\n            </div>\n        </div>\n    </div>\n</div>\n</div>"}),define("text!templates/chats/messages/location.html",[],function(){return"    <div id=\"{{id}}\" class=\"text-color-700\" style=\"width:350px; height:300px;pointer-events: none;\" data-type='map'><img id=\"img_{{ id }}\" ></div>\n\n\n    <script type=\"text/javascript\">\n    let map{{id}} = new ol.Map\n        ({\ttarget: '{{id}}',\n        \tview: new ol.View\n            ({\tzoom: 15,\n                center: ol.proj.transform([{{lon}}, {{lat}}], 'EPSG:4326', 'EPSG:3857')\n            }),\n            interactions: ol.interaction.defaults({\n                altShiftDragRotate:false,\n                doubleClickZoom:false,\n                keyboard:false,\n                mouseWheelZoom:false,\n                shiftDragZoom:false,\n                dragPan:false,\n                pinchRotate:false,\n                pinchZoom:false\n            }),\n            layers: [ new ol.layer.Tile({ source: new ol.source.OSM() }) ],\n        });\n\n    map{{id}}.once('rendercomplete', function(event) {\n        const mapCanvas = document.createElement('canvas');\n        const size = map{{id}}.getSize();\n        mapCanvas.width = size[0];\n        mapCanvas.height = size[1];\n        const mapContext = mapCanvas.getContext('2d');\n        Array.prototype.forEach.call(\n          document.querySelectorAll('#{{id}} .ol-layer canvas'),\n          function (canvas) {\n            if (canvas.width > 0) {\n              const opacity = canvas.parentNode.style.opacity;\n              mapContext.globalAlpha = opacity === '' ? 1 : Number(opacity);\n              const transform = canvas.style.transform;\n              // Get the transform parameters from the style's transform matrix\n              const matrix = transform\n                .match(/^matrix\\(([^\\(]*)\\)$/)[1]\n                .split(',')\n                .map(Number);\n              // Apply the transform to the export map context\n              CanvasRenderingContext2D.prototype.setTransform.apply(\n                mapContext,\n                matrix\n              );\n              path = new Path2D('M 18 17.25 C 15.9289 17.25 14.25 15.5711 14.25 13.5 C 14.25 12.5054 14.6451 11.5516 15.3483 10.8483 C 16.0516 10.1451 17.0054 9.75 18 9.75 C 20.0711 9.75 21.75 11.4289 21.75 13.5 C 21.75 14.4946 21.3549 15.4484 20.6517 16.1517 C 19.9484 16.8549 18.9946 17.25 18 17.25 M 18 3 C 12.201 3 7.5 7.701 7.5 13.5 C 7.5 21.375 18 33 18 33 C 18 33 28.5 21.375 28.5 13.5 C 28.5 7.701 23.799 3 18 3 Z');\n              mapContext.fillStyle = getComputedStyle(document.querySelector('#{{id}}')).color;\n              mapContext.drawImage(canvas, 0, 0);\n              mapContext.translate(157, 117);\n\n              mapContext.fill(path);\n            }\n          }\n        );\n        if (navigator.msSaveBlob) {\n          // link download attribute does not work on MS browsers\n          navigator.msSaveBlob(mapCanvas.msToBlob(), 'map.png');\n        } else {\n          var img = document.getElementById('img_{{ id }}');\n          dataURL = mapCanvas.toDataURL('image/png');\n          map{{id}}.setTarget(null)\n          map{{id}} = null;\n          img.src= dataURL\n        }\n    });\n    </script>\n</div>"}),define("text!templates/chats/messages/audio_file.html",[],function(){return"<div class=\"one-file-wrap link-file\">\n    <i class=\"mdi mdi-play no-uploaded\"></i>\n    <i class=\"mdi mdi-pause\"></i>\n    <div class=\"file-container\">\n        <div class=\"file-info one-line\">\n            <span class=\"file-name\">{{name}}</span>{[ if (duration) { ]}, {{duration}}{[ } ]},  <span class=\"file-size\">{{size}}</span>\n        </div>\n        <a href=\"{{sources[0]}}\" class=\"file-link-download\">{[print(xabber.getString(\"action_download\"))]}</a>\n        <a class=\"voice-message-play\">Play</a>\n    </div>\n</div>"}),define("text!templates/chats/messages/audio_file_waveform.html",[],function(){return"<div class=\"waveform\" id=\"{{waveform_id}}\"></div>\n<div class=\"audio-control-panel\">\n    <span class=\"voice-msg-current-time\">0:00</span> /\n    <span class=\"voice-msg-total-time\">0:00</span>\n    <input value=\"50\" type=\"range\" class=\"voice-message-volume\">\n</div>"}),define("text!templates/chats/messages/auth_request.html",[],function(){return"<div class=\"chat-message system auth-request\" data-time=\"{{timestamp}}\" data-uniqueid=\"{{unique_id}}\" data-from=\"{{from_jid}}\">\n    <div class=\"left-side noselect\">\n        <div class=\"circle-avatar\"><img></div>\n    </div>\n\n    <div class=\"msg-wrap\">\n        <div class=\"chat-msg-author-wrap\">\n            <div class=\"chat-msg-author text-color-700 one-line\">{{username}}</div>\n        </div>\n        <div class=\"chat-msg-content chat-text-content\">{{message}}<span class=\"accept-request\">Accept</span><span class=\"decline-request\">Decline</span><span class=\"block-request\">Block</span></div>\n    </div>\n\n    <div class=\"right-side noselect\">\n        <div class=\"msg-time selectable-text\" title=\"{{time}}\">{{short_time}}</div>\n    </div>\n</div>\n"}),define("text!templates/chats/messages/group_request.html",[],function(){return"<div class=\"chat-message system auth-request\" data-time=\"{{timestamp}}\" data-uniqueid=\"{{unique_id}}\" data-from=\"{{from_jid}}\">\n    <div class=\"left-side noselect\">\n        <div class=\"circle-avatar\"></div>\n    </div>\n\n    <div class=\"msg-wrap\">\n        <div class=\"chat-msg-author-wrap\">\n            <div class=\"chat-msg-author text-color-700 one-line\">{{username}}</div>\n        </div>\n        <div class=\"chat-msg-content chat-text-content\">{{message}}<div><span class=\"accept-request-group\">Accept</span><span class=\"decline-request-group\">Decline</span><span class=\"block-request-group\">Block</span></div></div>\n    </div>\n\n    <div class=\"right-side noselect\">\n        <div class=\"msg-time selectable-text\" title=\"{{time}}\">{{short_time}}</div>\n    </div>\n</div>\n"}),define("text!templates/chats/messages/template-for-2.html",[],function(){return"<div class=\"image-collection zoom-gallery\"><div class=\"img-content-template template-for-2\"><img src=\"{{images[0].sources[0]}}\" title=\"{{images[0].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[0].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-2\"><img src=\"{{images[1].sources[0]}}\" title=\"{{images[1].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[1].sources[0]}}\"></div></div>"}),define("text!templates/chats/messages/template-for-3.html",[],function(){return"<div class=\"image-collection zoom-gallery\"><div class=\"img-content-template template-for-3 main\"><img src=\"{{images[0].sources[0]}}\" title=\"{{images[0].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[0].sources[0]}}\"></div>\n<div class=\"template-for-3 minor-images\"><div class=\"img-content-template template-for-3 minor\"><img src=\"{{images[1].sources[0]}}\" title=\"{{images[1].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[1].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-3 minor\"><img src=\"{{images[2].sources[0]}}\" title=\"{{images[2].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[2].sources[0]}}\"></div></div></div>"}),define("text!templates/chats/messages/template-for-4.html",[],function(){return"<div class=\"image-collection zoom-gallery\"><div class=\"img-content-template template-for-4 main\"><img src=\"{{images[0].sources[0]}}\" title=\"{{images[0].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[0].sources[0]}}\"></div><div class=\"template-for-4 minor-images\">\n<div class=\"img-content-template template-for-4 minor\"><img src=\"{{images[1].sources[0]}}\" title=\"{{images[1].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[1].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-4 minor\"><img src=\"{{images[2].sources[0]}}\" title=\"{{images[2].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[2].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-4 minor\"><img src=\"{{images[3].sources[0]}}\" title=\"{{images[3].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[3].sources[0]}}\"></div></div></div>"}),define("text!templates/chats/messages/template-for-5.html",[],function(){return"<div class=\"image-collection zoom-gallery template-for-5\"><div class=\"img-content-wrap template-for-5 main\"><div class=\"img-content-template template-for-5\"><img src=\"{{images[0].sources[0]}}\" title=\"{{images[0].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[0].sources[0]}}\"></div><div class=\"img-content-template template-for-5\"><img src=\"{{images[1].sources[0]}}\" title=\"{{images[1].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[1].sources[0]}}\"></div></div>\n<div class=\"img-content-wrap template-for-5 minor-images\"><div class=\"img-content-template template-for-5\"><img src=\"{{images[2].sources[0]}}\" title=\"{{images[2].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[2].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-5\"><img src=\"{{images[3].sources[0]}}\" title=\"{{images[3].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[3].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-5\"><img src=\"{{images[4].sources[0]}}\" title=\"{{images[4].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[4].sources[0]}}\"></div></div></div>"}),define("text!templates/chats/messages/template-for-6.html",[],function(){return"<div class=\"image-collection zoom-gallery template-for-6\"><div class=\"img-content-wrap template-for-6 main-row\"><div class=\"img-content-template template-for-6 main\"><img src=\"{{images[0].sources[0]}}\" title=\"{{images[0].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[0].sources[0]}}\"></div><div class=\"template-for-6 minor-1\"><div class=\"img-content-template template-for-6\"><img src=\"{{images[1].sources[0]}}\" title=\"{{images[1].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[1].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-6\"><img src=\"{{images[2].sources[0]}}\" title=\"{{images[2].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[2].sources[0]}}\"></div></div></div>\n<div class=\"template-for-6 minor-2\"><div class=\"img-content-template template-for-6\"><img src=\"{{images[3].sources[0]}}\" title=\"{{images[3].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[3].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-6\"><img src=\"{{images[4].sources[0]}}\" title=\"{{images[4].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[4].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-6 last-image\"><img src=\"{{images[5].sources[0]}}\" title=\"{{images[5].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[5].sources[0]}}\">\n{[ if (images.length > 6) { ]}<span class=\"image-counter\"></span>{[ for (var i=6; i < images.length; i++) {]} <div class=\"img-content-template hidden\"><img src=\"{{images[i].sources[0]}}\" title=\"{{images[i].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[i].sources[0]}}\"></div> {[}} ]}</div></div></div>\n"}),define("text!templates/chats/messages/hidden-template-for-2.html",[],function(){return"<div class=\"image-collection zoom-gallery\"><div class=\"img-content-template template-for-2\"><img title=\"{{images[0].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[0].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-2\"><img title=\"{{images[1].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[1].sources[0]}}\"></div></div>"}),define("text!templates/chats/messages/hidden-template-for-3.html",[],function(){return"<div class=\"image-collection zoom-gallery\"><div class=\"img-content-template template-for-3 main\"><img title=\"{{images[0].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[0].sources[0]}}\"></div>\n<div class=\"template-for-3 minor-images\"><div class=\"img-content-template template-for-3 minor\"><img title=\"{{images[1].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[1].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-3 minor\"><img title=\"{{images[2].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[2].sources[0]}}\"></div></div></div>"}),define("text!templates/chats/messages/hidden-template-for-4.html",[],function(){return"<div class=\"image-collection zoom-gallery\"><div class=\"img-content-template template-for-4 main\"><img title=\"{{images[0].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[0].sources[0]}}\"></div><div class=\"template-for-4 minor-images\">\n<div class=\"img-content-template template-for-4 minor\"><img title=\"{{images[1].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[1].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-4 minor\"><img title=\"{{images[2].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[2].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-4 minor\"><img title=\"{{images[3].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[3].sources[0]}}\"></div></div></div>"}),define("text!templates/chats/messages/hidden-template-for-5.html",[],function(){return"<div class=\"image-collection zoom-gallery template-for-5\"><div class=\"img-content-wrap template-for-5 main\"><div class=\"img-content-template template-for-5\"><img title=\"{{images[0].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[0].sources[0]}}\"></div><div class=\"img-content-template template-for-5\"><img title=\"{{images[1].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[1].sources[0]}}\"></div></div>\n<div class=\"img-content-wrap template-for-5 minor-images\"><div class=\"img-content-template template-for-5\"><img title=\"{{images[2].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[2].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-5\"><img title=\"{{images[3].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[3].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-5\"><img title=\"{{images[4].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[4].sources[0]}}\"></div></div></div>"}),define("text!templates/chats/messages/hidden-template-for-6.html",[],function(){return"<div class=\"image-collection zoom-gallery template-for-6\"><div class=\"img-content-wrap template-for-6 main-row\"><div class=\"img-content-template template-for-6 main\"><img title=\"{{images[0].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[0].sources[0]}}\"></div><div class=\"template-for-6 minor-1\"><div class=\"img-content-template template-for-6\"><img title=\"{{images[1].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[1].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-6\"><img title=\"{{images[2].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[2].sources[0]}}\"></div></div></div>\n<div class=\"template-for-6 minor-2\"><div class=\"img-content-template template-for-6\"><img title=\"{{images[3].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[3].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-6\"><img title=\"{{images[4].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[4].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-6 last-image\"><img title=\"{{images[5].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[5].sources[0]}}\">\n{[ if (images.length > 6) { ]}<span class=\"image-counter\"></span>{[ for (var i=6; i < images.length; i++) {]} <div class=\"img-content-template hidden\"><img title=\"{{images[i].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[i].sources[0]}}\"></div> {[}} ]}</div></div></div>\n"}),define("text!templates/chats/messages/images_details.html",[],function(){return"<div class=\"images-details\">\n    <div class=\"images-details-header\">\n        {[print(xabber.getString(\"privacy_risk_images_header\"))]}\n    </div>\n    {[img_information.images.forEach((image) => {]}\n        <div class=\"image-details\">\n            {{image.name}} <span>{{image.pretty_size}}, {{image.height}}x{{image.width}}</span>\n        </div>\n    {[})]}\n</div>\n<div class=\"image-servers-details\">\n    {[if (img_information.servers.length === 1) {]}\n        <div class=\"images-details-header\">\n            {[print(xabber.getString(\"privacy_risk_server_header\", [img_information.servers[0]]))]}\n        </div>\n    {[} else {]}\n        <div class=\"images-details-header\">\n            {[print(xabber.getString(\"privacy_risk_servers_header\"))]}\n        </div>\n        {[img_information.servers.forEach((server) => {]}\n            <div class=\"server-details\">\n                {{server}}\n            </div>\n        {[})]}\n    {[}]}\n</div>"}),define("text!templates/chats/messages/saved_main.html",[],function(){return"<div class=\"chat-message saved-main main {{classlist}}\" data-time=\"{{timestamp}}\" data-uniqueid=\"{{unique_id}}\" data-from=\"{{from_jid}}\">\n    <div class=\"fwd-msgs-block\"></div>\n    <div class=\"right-side noselect\">\n        <div class=\"msg-time selectable-text\" title=\"{{time}}\">{{short_time}}</div>\n        <i class=\"msg-delivering-state mdi mdi-14px\" data-state=\"{{state}}\" title=\"{{verbose_state}}\" data-activates=\"retry-send-msg-{{msgid}}\"></i>\n        <div class=\"edited-info one-line hidden\"></div>\n    </div>\n</div>\n"}),define("text!templates/chats/group_chats/pinned_message_panel.html",[],function(){return"<div class=\"modal-content full-pinned-message\"></div>\n"}),define("text!templates/chats/group_chats/add_group_chat.html",[],function(){return"<div class=\"modal-header\">\n    <span>{[print(xabber.getString(\"create_groupchat\"))]}</span>\n    <div class=\"account-dropdown-wrap\" data-activates=\"select-account-for-creating-groupchat\">\n        <div class=\"dropdown-button\">\n            <div class=\"account-item-wrap\">\n                <div class=\"circle-avatar noselect\">\n                    <img>\n                </div>\n            </div>\n        </div>\n        <div id=\"select-account-for-creating-groupchat\" class=\"dropdown-content noselect\">\n        </div>\n    </div>\n</div>\n<div class=\"modal-content\">\n    <div class=\"row name-field\">\n        <div class=\"input-field input-group-chat-name\">\n            <label for=\"new_chat_name\">{[print(xabber.getString(\"groupchat_name\"))]}</label>\n            <input id=\"new_chat_name\" type=\"text\" name=\"chat_name\" placeholder='{[print(xabber.getString(\"group_is_empty\"))]}' required>\n        </div>\n    </div>\n    <div class=\"row jid-field\">\n        <label for=\"new_chat_jid\">{[print(xabber.getString(\"groupchat_xmpp_jid\"))]}</label>\n        <div class=\"input-field input-group-chat-jid\">\n            <input id=\"new_chat_jid\" type=\"text\" placeholder='{[print(xabber.getString(\"groupchat_xmpp_jid\"))]}' name=\"chat_jid\">\n            <div class=\"property-field xmpp-server-dropdown-wrap\">\n                <div class=\"select-xmpp-server\">\n                    <div data-activates=\"select-xmpp-server\" class=\"xmpp-server-item-wrap property-wrap\"><div class=\"jid-at\">@</div><div class=\"field-jid one-line property-value\"></div></div>\n                    <div class=\"input-field input-group-chat-domain hidden\">\n                        <input id=\"new_chat_domain\" type=\"text\" placeholder='{[print(xabber.getString(\"groupchat__hint_domain\"))]}' name=\"chat_domain\">\n                    </div>\n                    <div data-activates=\"select-xmpp-server\" class=\"caret\">\n                        <i class=\"mdi mdi-20px mdi-menu-up\"></i>\n                        <i class=\"mdi mdi-20px mdi-menu-down\"></i>\n                    </div>\n                </div>\n                <div id=\"select-xmpp-server\" class=\"dropdown-content noselect\">\n                    <div class=\"property-variant set-custom-domain\">{[print(xabber.getString(\"groupchat_custom_server\"))]}</div>\n                </div>\n            </div>\n        </div>\n        <span class=\"errors\"></span>\n    </div>\n    <div class=\"row incognito-field hidden\">\n        <i class=\"field-icon mdi mdi-24px mdi-incognito\"></i>\n        <div class=\"property-field incognito-dropdown-wrap\">\n           <div class=\"public-item-wrap property-wrap\"><div data-value=\"public\" class=\"property-value\">{[print(xabber.getString(\"groupchat_privacy_type_public\"))]}</div></div>\n           <div class=\"incognito-item-wrap property-wrap\"><div data-value=\"incognito\" class=\"property-value\">{[print(xabber.getString(\"groupchat_privacy_type_incognito\"))]}</div></div>\n        </div>\n    </div>\n    <div class=\"row group-radio-fields\">\n        <div class=\"property-radio-field membership-dropdown-wrap\">\n            <div class=\"membership-item-wrap property-wrap\">\n                <div class=\"property-radio-label\">{[print(xabber.getString(\"groupchat_membership\"))]}</div>\n            </div>\n            <div class=\"property-radio-wrap\">\n                <div class=\"property-radio\">\n                    <input checked id=\"membership_open\" data-value=\"open\" name=\"group_membership\" type=\"radio\" class=\"with-gap\" required=\"\">\n                    <label class=\"membership-label\" for=\"membership_open\">{[print(xabber.getString(\"groupchat_membership_type_open\"))]}</label>\n                </div>\n                <div class=\"property-radio\">\n                    <input id=\"membership_member_only\" data-value=\"member-only\" name=\"group_membership\" type=\"radio\" class=\"with-gap\" required=\"\">\n                    <label class=\"membership-label\" for=\"membership_member_only\">{[print(xabber.getString(\"groupchat_membership_type_members_only\"))]}</label>\n                </div>\n            </div>\n        </div>\n        <div class=\"property-radio-field global-dropdown-wrap\">\n            <div class=\"global-item-wrap property-wrap\">\n                <div class=\"property-radio-label\">{[print(xabber.getString(\"groupchat_index\"))]}</div>\n            </div>\n            <div class=\"property-radio-wrap\">\n                <div class=\"property-radio\">\n                    <input checked id=\"index_none\" data-value=\"none\" name=\"group_index\" type=\"radio\" class=\"with-gap\" required=\"\">\n                    <label class=\"index-label\" for=\"index_none\">{[print(xabber.getString(\"groupchat_index_type_none\"))]}</label>\n                </div>\n                <div class=\"property-radio\">\n                    <input id=\"index_local\" data-value=\"local\" name=\"group_index\" type=\"radio\" class=\"with-gap\" required=\"\">\n                    <label class=\"index-label\" for=\"index_local\">{[print(xabber.getString(\"groupchat_index_type_local\"))]}</label>\n                </div>\n                <div class=\"property-radio\">\n                    <input id=\"index_global\" data-value=\"global\" name=\"group_index\" type=\"radio\" class=\"with-gap\" required=\"\">\n                    <label class=\"index-label\" for=\"index_global\">{[print(xabber.getString(\"groupchat_index_type_global\"))]}</label>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"row description-field\">\n        <div class=\"input-field input-message\">\n            <label class=\"description-label\">{[print(xabber.getString(\"groupchat_description\"))]}</label>\n            <div class=\"rich-textarea-wrap notranslate\">\n                <div class=\"rich-textarea\" tabindex=\"2\" contenteditable=\"\"></div>\n                <div class=\"placeholder\">{[print(xabber.getString(\"groupchat_example_description\"))]}</div>\n            </div>\n        </div>\n    </div>\n</div>\n</div>\n<div class=\"modal-footer\">\n    <button class=\"btn-flat btn-main text-color-700 non-active btn-add\">{[print(xabber.getString(\"create\"))]}</button>\n    <button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button>\n</div>"}),define("text!templates/chats/group_chats/invitation_panel_view.html",[],function(){return"<div class=\"modal-header noselect\">\n    <div class=\"panel-header\">\n        <span class=\"header\">{[print(xabber.getString(\"groupchat_invite_users\"))]}</span>\n    </div>\n</div>\n<div class=\"modal-content noselect\">\n    <div class=\"chats-search-form search-form\">\n        <i class=\"search-icon mdi mdi-20px mdi-magnify\"></i>\n        <input type=\"text\" class=\"search-input simple-input-field\" placeholder='{[print(xabber.getString(\"search\"))]}'>\n        <i class=\"close-search-icon mdi mdi-20px mdi-close\"></i>\n    </div>\n    <div class=\"contacts-list-wrap\">\n    </div>\n    <div class=\"error hidden\">{[print(xabber.getString(\"placeholder_no_matches\"))]}</div>\n</div>\n<div class=\"modal-footer\">\n    <button class=\"btn-flat btn-main btn-add\"><span class=\"counter hidden\"></span>{[print(xabber.getString(\"groupchat_invite\"))]}</button>\n    <button class=\"btn-flat btn-dark btn-main btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button>\n    <span class=\"errors\"></span>\n</div>"}),define("text!templates/chats/group_chats/mention_item.html",[],function(){return"<div class=\"list-item mention-item\" data-jid=\"{{jid}}\" data-id=\"{{id}}\" data-nickname=\"{{nickname}}\">\n    <div class=\"circle-avatar\"></div>\n    <div class=\"participant-info\">\n        <span class=\"one-line nickname\">{{nickname}}</span>\n        <span class=\"one-line jid\">{{jid}}</span>\n    </div>\n</div>"}),define("text!templates/chats/encryption_warning.html",[],function(){return"<div class=\"warning-wrap\">\n    <p class=\"warning-message\">{{message}}</p>\n    <button class=\"btn-manage-devices btn-flat btn-main btn-dark ground-color-{{color}}-100 hover-ground-color-{{color}}-300\">{[print(xabber.getString(\"omemo__alert_new_device__button_manage_devices\"))]}</button>\n</div>"}),define("text!templates/chats/content_encryption_warning.html",[],function(){return"<div>\n    <i class=\"mdi mdi-36px mdi-alert-circle\"></i>\n</div>\n<div class=\"warning-message\">{{message}}</div>\n<button class=\"btn-manage-devices btn-flat btn-main btn-dark hover-ground-color-amber-300\">{[print(xabber.getString(\"omemo__alert_new_device__button_manage_devices\"))]}</button>"}),define("text!templates/mentions/mentions_panel.html",[],function(){return"<div class=\"mentions-panel noselect\">\n    <div class=\"chats-search-form search-form panel-head\">\n        <div class=\"account-indicator\"></div>\n        <i class=\"search-icon mdi mdi-24px mdi-magnify\"></i>\n        <input type=\"text\" class=\"search-input simple-input-field\" tabindex=\"1\" placeholder='{[print(xabber.getString(\"search\"))]}'>\n        <i class=\"close-search-icon mdi mdi-24px mdi-close\"></i>\n    </div>\n    <div class=\"mentions-list-wrap left-panel-list-wrap\">\n        <div class=\"mentions-list item-list\">\n        </div>\n        <div class=\"searched-lists-wrap\">\n            <div class=\"chats-list-wrap hidden\">\n                <div class=\"account-indicator\"></div>\n                <div class=\"chats-title\">{[print(xabber.getString(\"search__header_chats\"))]}</div>\n                <div class=\"chats-list roster-left-container\"></div>\n            </div>\n            <div class=\"contacts-list-wrap hidden\">\n                <div class=\"account-indicator\"></div>\n                <div class=\"contacts-title\">{[print(xabber.getString(\"category_title_contacts\"))]}</div>\n                <div class=\"contacts-list roster-left-container\"></div>\n            </div>\n            <div class=\"messages-list-wrap hidden\">\n                <div class=\"account-indicator\"></div>\n                <div class=\"messages-title\">{[print(xabber.getString(\"search__header_messages\"))]}</div>\n                <div class=\"messages-list roster-left-container\"></div>\n            </div>\n        </div>\n    </div>\n</div>\n"}),define("text!templates/mentions/mentions_placeholder.html",[],function(){return"<div class=\"text\">{[print(xabber.getString(\"mentions_list__placeholder\"))]}</div>"}),define("text!templates/mentions/mention_item.html",[],function(){return"<div class=\"group-chat-title-wrap hidden\">\n    <div class=\"account-indicator ground-color-700\"></div>\n    <div class=\"contact-icon\">\n        <img class=\"server-icon hidden\" src=\"./images/BotIcon20x20@2x.png\">\n        <img class=\"group-chat-icon hidden\" src=\"./images/GroupchatIcon20x20@2x.png\">\n    </div>\n    <div class=\"group-chat-name one-line\"></div>\n</div>\n<div class=\"mention-info-wrap\">\n<div class=\"account-indicator ground-color-700\"></div>\n<div class=\"circle-avatar\"></div>\n<div class=\"mention-info\">\n    <div class=\"chat-title-wrap\">\n        <p class=\"chat-title one-line\"></p>\n        <p class=\"last-msg-date\"></p>\n    </div>\n    <p class=\"last-msg one-line\"></p>\n    <span class=\"msg-counter hidden\"></span>\n</div>\n</div>"}),define("text!templates/svg/ic-jabber.html",[],function(){return"<path\n     style=\"fill-rule:evenodd\"\n     inkscape:connector-curvature=\"0\"\n     id=\"path5\"\n     d=\"m 5.2462478,6.4309194 c 0,0 0.2534497,0.5323027 1.6195791,-0.2126538 C 9.2126105,5.0708821 11.67437,4.0095 14.785441,5.5382202 17.009904,6.7924 17.27733,10.360371 13.864368,13.369134 c -1.679464,1.609494 -1.887868,4.226006 -1.825254,4.993295 -0.128246,1.561168 0.259655,1.837265 0.594912,1.938246 0.335257,0.100981 1.461445,-0.04379 1.305934,-1.000087 -0.193265,-1.461227 -0.06192,-2.413209 0.855267,-4.044829 0.758763,-1.162942 2.123721,-1.871086 3.273016,-4.211889 C 18.840748,9.1444158 18.891207,6.503336 17.479328,4.894053 16.152845,3.3821059 14.670099,2.4131656 12.422552,2.4210559 9.8716741,2.446853 8.13424,2.8374168 6.751418,3.5206351 4.5012489,4.730324 4.2973099,4.8714754 5.2462478,6.4309194 z\"\n     clip-rule=\"evenodd\"\n     sodipodi:nodetypes=\"cccccscccsccc\" />\n<path\n     style=\"fill-rule:evenodd\"\n     inkscape:connector-curvature=\"0\"\n     id=\"path7\"\n     d=\"M 10.393116,10.546893 C 10.179036,9.8582024 9.6418168,9.5037588 9.1268128,9.5037588 c -0.686671,0 -1.6386388,0.1373222 -1.6546508,1.5832442 0,0 0.5308711,2.944458 1.5235151,2.93234 0.364542,-0.004 0.7403587,-0.28287 0.017892,-1.856769 0,0 -0.4395592,-0.974022 -0.1380497,-1.193301 0.5440269,-0.394487 0.5911749,0.418754 0.9156116,1.069105 0.674692,0.328471 1.06244,-0.702948 1.201092,-0.722298 1.026124,-0.142524 -0.130551,1.372622 -0.2386,1.539241 -0.467844,0.515308 -1.3020963,1.251877 -0.614252,1.612091 0.864686,0.205725 1.292561,-0.492065 1.464229,-0.658684 0.2663,-0.37565 0.549622,-0.820112 0.721289,-1.133153 0.877971,-1.468145 0.834305,-2.8722146 -0.558429,-2.9011876 -0.515004,0 -0.814918,0.2302366 -1.373344,0.7725056 z\"\n     clip-rule=\"evenodd\"\n     sodipodi:nodetypes=\"cscccccccccccc\" />\n<path\n     sodipodi:nodetypes=\"cssccsccccssccssc\"\n     style=\"fill-rule:evenodd\"\n     inkscape:connector-curvature=\"0\"\n     id=\"path9\"\n     d=\"m 6.8360046,14.735541 c -0.2526865,-0.134842 -0.341246,-0.148685 -0.556785,-0.125105 -0.4758127,0.05205 -0.712045,0.475393 -0.6165306,0.901178 0.2727696,1.215955 1.0359093,1.641989 2.25985,2.132257 1.2530682,0.41756 2.475738,0.396638 3.398493,-0.0757 0.298412,-0.05064 0.287556,-0.683612 0.292618,-1.034981 0.006,-0.414484 -0.327129,-0.528727 -0.651454,-0.493243 -0.82369,0.222079 -0.891361,0.338578 -1.882259,0.248554 -1.1996954,-0.369888 -1.6284239,-0.589257 -2.2439324,-1.55296 z m -0.596727,2.884244 c -0.1641271,-0.121 -0.2921232,-0.08347 -0.442594,-0.06701 -0.3893935,0.0426 -0.727761,0.382603 -0.6463412,0.81143 0.2795655,1.472433 3.2776659,2.179707 4.6014193,2.113323 1.0831623,-0.05044 1.6865703,-0.273231 1.7646093,-1.16247 -0.03364,-0.366114 -0.266964,-0.659232 -0.720411,-0.609623 -0.432095,0.04727 -0.373883,0.118182 -1.0438868,0.191485 C 8.563559,19.026954 7.5842504,18.723225 6.2392776,17.619785 z\"\n     clip-rule=\"evenodd\" />\n"}),define("text!templates/svg/xmpp.html",[],function(){return"<path\n     inkscape:connector-curvature=\"0\"\n     d=\"m 17.765357,5.9248618 c 0.009,0.1518861 -0.206601,0.1119764 -0.206601,0.2652514 0,4.4595198 -5.17314,11.2012628 -10.3933633,12.5152538 v 0.136731 C 14.101125,18.204712 21.825325,11.114777 22,4.2839629 l -4.233831,1.6413619 z\"\n     id=\"path4-5\" />\n<path\n     inkscape:connector-curvature=\"0\"\n     d=\"m 15.907561,6.3610856 c 0.009,0.1518861 0.014,0.3045804 0.014,0.4578554 0,4.459522 -3.55133,10.468554 -8.7715528,11.783009 v 0.189367 C 13.982554,18.349079 19.389945,11.500913 19.389945,6.1592263 c 0,-0.2747361 -0.01446,-0.5470438 -0.04292,-0.8162264 l -3.439122,1.017508 z\"\n     id=\"path6\" />\n<path\n     inkscape:connector-curvature=\"0\"\n     d=\"m 6.2332547,5.9248618 c -0.00886,0.1518861 0.2067174,0.1119764 0.2067174,0.2652514 0,4.4595198 5.3857609,11.2631498 10.6063279,12.5777208 V 18.95743 C 10.11103,18.318886 2.1746761,11.11443 2,4.2836157 l 4.2337177,1.6413618 z\"\n     id=\"path8\" />\n<path\n     inkscape:connector-curvature=\"0\"\n     d=\"M 8.3307389,6.473525 C 8.3219828,6.6254111 8.31686,6.7777591 8.31686,6.9312646 c 0,4.4595214 3.551213,10.4685544 8.771549,11.7830104 v 0.189596 C 10.258286,18.581129 4.8484667,11.613351 4.8484667,6.2717814 c 0,-0.2747361 0.014805,-0.5470427 0.042915,-0.8162284 l 3.4391228,1.0177415 z\"\n     id=\"path10\" />\n<path\n     inkscape:connector-curvature=\"0\"\n     d=\"m 4.8583007,5.3920472 0.8811221,0.3148763 c -0.00473,0.111283 -0.00765,0.2607395 -0.00765,0.3730642 0,4.7681513 4.3114542,11.3600893 10.0954942,12.3914783 0.375377,0.125857 0.871982,0.240263 1.264595,0.339052 V 19 C 9.5433961,18.356828 4.2400023,10.686651 4.857725,5.3915852 z\"\n     id=\"path12\" />\n<path\n     inkscape:connector-curvature=\"0\"\n     d=\"m 19.390639,5.2968432 -0.906108,0.3036565 c 0.0047,0.1113977 0.02208,0.2548387 0.02208,0.3670476 0,4.7681497 -4.311569,11.3602047 -10.0957226,12.3914777 -0.3751445,0.125972 -0.8719856,0.240267 -1.2643666,0.33917 v 0.189596 C 15.052467,17.886018 20.00767,10.591448 19.389946,5.2967275 z\"\n     id=\"path14\" />\n"}),define("text!templates/svg/account-outline.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/account-outline</title>\n    <g id=\"icon/material/account-outline\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M19,19 L5,19 L5,5 L19,5 M19,3 L5,3 C3.8954305,3 3,3.8954305 3,5 L3,19 C3,20.1045695 3.8954305,21 5,21 L19,21 C20.1045695,21 21,20.1045695 21,19 L21,5 C21,3.89 20.1,3 19,3 M16.5,16.25 C16.5,14.75 13.5,14 12,14 C10.5,14 7.5,14.75 7.5,16.25 L7.5,17 L16.5,17 M12,12.25 C13.2426407,12.25 14.25,11.2426407 14.25,10 C14.25,8.75735931 13.2426407,7.75 12,7.75 C10.7573593,7.75 9.75,8.75735931 9.75,10 C9.75,11.2426407 10.7573593,12.25 12,12.25 Z\" id=\"mdi:account-box-outline\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/qrcode.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/qrcode</title>\n    <g id=\"icon/material/qrcode\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M3,11 L5,11 L5,13 L3,13 L3,11 M11,5 L13,5 L13,9 L11,9 L11,5 M9,11 L13,11 L13,15 L11,15 L11,13 L9,13 L9,11 M15,11 L17,11 L17,13 L19,13 L19,11 L21,11 L21,13 L19,13 L19,15 L21,15 L21,19 L19,19 L19,21 L17,21 L17,19 L13,19 L13,21 L11,21 L11,17 L15,17 L15,15 L17,15 L17,13 L15,13 L15,11 M19,19 L19,15 L17,15 L17,19 L19,19 M15,3 L21,3 L21,9 L15,9 L15,3 M17,5 L17,7 L19,7 L19,5 L17,5 M3,3 L9,3 L9,9 L3,9 L3,3 M5,5 L5,7 L7,7 L7,5 L5,5 M3,15 L9,15 L9,21 L3,21 L3,15 M5,17 L5,19 L7,19 L7,17 L5,17 Z\" id=\"mdi:qrcode\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/id-outline.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/id-outline</title>\n    <g id=\"icon/material/id-outline\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M12,2 C15.8659932,2 19,5.13400675 19,9 C19,11.38 17.81,13.47 16,14.74 L16,17 C16,17.5522847 15.5522847,18 15,18 L9,18 C8.44771525,18 8,17.5522847 8,17 L8,14.74 C6.19,13.47 5,11.38 5,9 C5,5.13400675 8.13400675,2 12,2 M9,21 L9,20 L15,20 L15,21 C15,21.5522847 14.5522847,22 14,22 L10,22 C9.44771525,22 9,21.5522847 9,21 M12,4 C9.23857625,4 7,6.23857625 7,9 C7,11.05 8.23,12.81 10,13.58 L10,16 L14,16 L14,13.58 C15.77,12.81 17,11.05 17,9 C17,6.23857625 14.7614237,4 12,4 L12,4 Z\" id=\"mdi:lightbulb-outline\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/clock-outline.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/clock-outline</title>\n    <g id=\"icon/material/clock-outline\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M12,20 C16.418278,20 20,16.418278 20,12 C20,7.581722 16.418278,4 12,4 C7.581722,4 4,7.581722 4,12 C4,16.418278 7.581722,20 12,20 M12,2 C14.6521649,2 17.195704,3.0535684 19.0710678,4.92893219 C20.9464316,6.80429597 22,9.3478351 22,12 C22,17.5228475 17.5228475,22 12,22 C6.47,22 2,17.5 2,12 C2,6.4771525 6.4771525,2 12,2 M12.5,7 L12.5,12.25 L17,14.92 L16.25,16.15 L11,13 L11,7 L12.5,7 Z\" id=\"mdi:clock-outline\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/index.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/index</title>\n    <g id=\"icon/material/index\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M12,2 C7.581722,2 4,5.581722 4,10 C4,14.03 7,17.42 11,17.93 L11,19 L10,19 C9.44771525,19 9,19.4477153 9,20 L2,20 L2,22 L9,22 C9,22.5522847 9.44771525,23 10,23 L14,23 C14.5522847,23 15,22.5522847 15,22 L22,22 L22,20 L15,20 C15,19.4477153 14.5522847,19 14,19 L13,19 L13,17.93 C17,17.43 20,14.03 20,10 C20,5.581722 16.418278,2 12,2 M12,4 C12,4 12.74,5.28 13.26,7 L10.74,7 C11.26,5.28 12,4 12,4 M9.77,4.43 C9.5,4.93 9.09,5.84 8.74,7 L6.81,7 C7.5,5.84 8.5,4.93 9.77,4.43 M14.23,4.44 C15.5,4.94 16.5,5.84 17.19,7 L15.26,7 C14.91,5.84 14.5,4.93 14.23,4.44 M6.09,9 L8.32,9 C8.28,9.33 8.25,9.66 8.25,10 C8.25,10.34 8.28,10.67 8.32,11 L6.09,11 C5.96891098,10.3388318 5.96891098,9.66116821 6.09,9 M10.32,9 L13.68,9 C13.72,9.33 13.75,9.66 13.75,10 C13.75,10.34 13.72,10.67 13.68,11 L10.32,11 C10.28,10.67 10.25,10.34 10.25,10 C10.25,9.66 10.28,9.33 10.32,9 M15.68,9 L17.91,9 C18.031089,9.66116821 18.031089,10.3388318 17.91,11 L15.68,11 C15.72,10.67 15.75,10.34 15.75,10 C15.75,9.66 15.72,9.33 15.68,9 M6.81,13 L8.74,13 C9.09,14.16 9.5,15.07 9.77,15.56 C8.5,15.06 7.5,14.16 6.81,13 M10.74,13 L13.26,13 C12.74,14.72 12,16 12,16 C12,16 11.26,14.72 10.74,13 M15.26,13 L17.19,13 C16.5,14.16 15.5,15.07 14.23,15.57 C14.5,15.07 14.91,14.16 15.26,13 Z\" id=\"mdi:wan\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/restrictions-outline.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/restrictions-outline</title>\n    <g id=\"icon/material/restrictions-outline\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M18.5,8 C18.33,8 18.16,8 18,8.05 L18,4.5 C18,3.11928813 16.8807119,2 15.5,2 C15.31,2 15.13,2 14.96,2.06 C14.7461874,0.868716938 13.7103179,0.0012815407 12.5,0 C11.44,0 10.54,0.66 10.17,1.59 C9.41693202,1.38051444 8.60922719,1.53531349 7.98697307,2.00838366 C7.36471894,2.48145383 6.99954575,3.21833807 7,4 L7,4.55 C6.84,4.5 6.67,4.5 6.5,4.5 C5.11928813,4.5 4,5.61928813 4,7 L4,15.5 C4,20.19 7.81,24 12.5,24 C17.19,24 21,20.19 21,15.5 L21,10.5 C21,9.11928813 19.8807119,8 18.5,8 M19,15.5 C19,19.0898509 16.0898509,22 12.5,22 C8.91014913,22 6,19.0898509 6,15.5 L6,7 C6,6.72 6.22,6.5 6.5,6.5 C6.78,6.5 7,6.72 7,7 L7,12 L9,12 L9,4 C9,3.72 9.22,3.5 9.5,3.5 C9.78,3.5 10,3.72 10,4 L10,11 L12,11 L12,2.5 C12,2.22 12.22,2 12.5,2 C12.78,2 13,2.22 13,2.5 L13,11 L15,11 L15,4.5 C15,4.22 15.22,4 15.5,4 C15.78,4 16,4.22 16,4.5 L16,13.42 C14.23,14.19 13,15.95 13,18 L15,18 C15,16.34 16.34,15 18,15 L18,10.5 C18,10.22 18.22,10 18.5,10 C18.78,10 19,10.22 19,10.5 L19,15.5 Z\" id=\"mdi:hand-front-right-outline\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/history.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/history</title>\n    <g id=\"icon/material/history\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M13.5,8 L12,8 L12,13 L16.28,15.54 L17,14.33 L13.5,12.25 L13.5,8 M13,3 C8.02943725,3 4,7.02943725 4,12 L1,12 L4.96,16.03 L9,12 L6,12 C6,8.13400675 9.13400675,5 13,5 C16.8659932,5 20,8.13400675 20,12 C20,15.8659932 16.8659932,19 13,19 C11.07,19 9.32,18.21 8.06,16.94 L6.64,18.36 C8.31963558,20.0581063 10.6115589,21.0094707 13,21.00007 C17.9705627,21.00007 22,16.9705627 22,12 C22,7.02943725 17.9705627,3 13,3\" id=\"mdi:history\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/chevron-down.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/chevron-down</title>\n    <g id=\"icon/material/chevron-down\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <polygon id=\"mdi:chevron-down\" fill=\"#000000\" fill-rule=\"nonzero\" points=\"7.41 8.58 12 13.17 16.59 8.58 18 10 12 16 6 10\"></polygon>\n    </g>\n</svg>"}),define("text!templates/svg/camera-retake.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/camera-retake</title>\n    <g id=\"icon/material/camera-retake\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M20,5 L17,5 L15,3 L9,3 L7,5 L4,5 C2.8954305,5 2,5.8954305 2,7 L2,19 C2,20.1045695 2.8954305,21 4,21 L20,21 C21.1045695,21 22,20.1045695 22,19 L22,7 C22,5.8954305 21.1045695,5 20,5 M12,18.0000026 C10.92,18.0000026 9.86,17.65 9,17 L10.44,15.56 C10.91,15.85 11.45,16 12,16 C13.6568542,16 15,14.6568542 15,13 C15,11.3431458 13.6568542,10 12,10 C10.74,10 9.6,10.8 9.18,12 L11,12 L8,15 L5,12 L7.1,12 C7.36424064,10.6999079 8.13463224,9.5582575 9.24136868,8.82668596 C10.3481051,8.09511441 11.7003328,7.83367752 13,8.1 C15.5173928,8.61117175 17.2378687,10.9467344 16.9797109,13.5024961 C16.7215532,16.0582577 14.5687655,18.0025816 12,18.0000026 L12,18.0000026 Z\" id=\"mdi:camera-retake\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/membership-outline.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/membership-outline</title>\n    <g id=\"icon/material/membership-outline\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M12,2 C6.4771525,2 2,6.4771525 2,12 C2,14.6521649 3.0535684,17.195704 4.92893219,19.0710678 C6.80429597,20.9464316 9.3478351,22 12,22 C17.5228475,22 22,17.5228475 22,12 C22,6.4771525 17.5228475,2 12,2 M7.07,18.28 C7.5,17.38 10.12,16.5 12,16.5 C13.88,16.5 16.5,17.38 16.93,18.28 C15.5293835,19.3960251 13.7908746,20.0025637 12,20 C10.14,20 8.43,19.36 7.07,18.28 M18.36,16.83 C16.93,15.09 13.46,14.5 11.9999999,14.5 C10.54,14.5 7.07,15.09 5.64,16.83 C4.57618516,15.4446232 3.99966563,13.7467029 3.99999985,12 C3.99999985,7.59 7.59,4 11.9999999,4 C16.41,4 19.9999999,7.59 19.9999999,12 C19.9999999,13.82 19.38,15.5 18.36,16.83 M12,6 C10.06,6 8.5,7.56 8.5,9.5 C8.5,11.44 10.06,13 12,13 C13.94,13 15.5,11.44 15.5,9.5 C15.5,7.56 13.94,6 12,6 M12,11 C11.1715729,11 10.5,10.3284271 10.5,9.5 C10.5,8.67157288 11.1715729,8 12,8 C12.8284271,8 13.5,8.67157288 13.5,9.5 C13.5,10.3284271 12.8284271,11 12,11 Z\" id=\"mdi:account-circle-outline\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/invite-outline.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/invite-outline</title>\n    <g id=\"icon/material/invite-outline\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M12,2 L15.77,4.36 L19,4.36 L19,6.36 L21.03,7.65 C21.5653846,7.97307692 21.9388757,8.53473373 21.993168,9.19339554 L22,9.36 L22,19.36 C22,20.4195455 21.1890702,21.2786364 20.1499371,21.3545464 L20,21.36 L4,21.36 C2.9456382,21.36 2.08183488,20.5441222 2.00548574,19.5092623 L2,19.36 L2,9.36 C2,8.68615385 2.33230769,8.09751479 2.83961766,7.73565772 L5,6.36 L5,4.36 L8.23,4.36 L12,2 Z M20,11.36 L12,16.36 L4,11.36 L4,19.36 L20,19.36 L20,11.36 Z M17,6.36 L7,6.36 L7,11.24 L12,14.36 L17,11.24 L17,6.36 Z M16,9.86 L16,11.36 L8,11.36 L8,9.86 L16,9.86 Z M19,8.74 L19,9.99 L20,9.36 L19,8.74 Z M5,8.74 L4,9.36 L5,9.99 L5,8.74 Z M16,7.36 L16,8.86 L8,8.86 L8,7.36 L16,7.36 Z\" id=\"xabber:invite-outline\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/chevron-right-variant.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/chevron-right-variant</title>\n    <g id=\"icon/material/chevron-right-variant\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <polygon id=\"xabber:chevron-right\" fill=\"#000000\" fill-rule=\"nonzero\" points=\"8 18.5 14.5 12 8 5.5 9.25 4.25 17 12 9.25 19.75\"></polygon>\n    </g>\n</svg>"}),define("text!templates/svg/chevron-left-variant.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/chevron-left-variant</title>\n    <g id=\"icon/material/chevron-left-variant\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <polygon id=\"xabber:chevron-right\" fill=\"#000000\" fill-rule=\"nonzero\" transform=\"translate(11.500000, 12.000000) scale(-1, 1) translate(-11.500000, -12.000000) \" points=\"7 18.5 13.5 12 7 5.5 8.25 4.25 16 12 8.25 19.75\"></polygon>\n    </g>\n</svg>"}),define("text!templates/svg/subscription-to.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/subscription-to</title>\n    <g id=\"icon/material/subscription-to\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M13.9994979,8.00000002 C17.3137085,8.00000002 20,10.6862915 20,14 C20,17.3137085 17.3137085,20 14,20 C10.7616031,20 8.12242824,17.4344251 8.00413847,14.2249383 L8,13.999 L10,14 L10,14 C10,16.209139 11.790861,18 14,18 C16.209139,18 18,16.209139 18,14 C18,11.8578046 16.3160315,10.1089211 14.1996403,10.0048953 L13.999,10 L13.9994979,8.00000002 Z M4.91421356,3.5 L10,8.585 L10,5 L12,5 L12,12 L5,12 L5,10 L8.585,10 L3.5,4.91421356 L4.91421356,3.5 Z\" id=\"xabber:subscribe-to\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/subscription-from.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/subscription-from</title>\n    <g id=\"icon/material/subscription-from\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M14,8 C17.3137085,8 20,10.6862915 20,14 C20,17.3137085 17.3137085,20 14,20 C10.6862915,20 8,17.3137085 8,14 C8,13.462632 8.07064283,12.9417636 8.20314833,12.4461748 L9.67168223,13.9143229 C9.77459988,14.0172246 9.8859413,14.1065666 10.0034864,14.1823489 L10.0048953,14.1996403 C10.1089211,16.3160315 11.8578046,18 14,18 C16.209139,18 18,16.209139 18,14 C18,11.851413 16.3059677,10.0984884 14.180685,10.0040081 C14.1065666,9.8859413 14.0172246,9.77459988 13.9143229,9.67168223 L12.4461748,8.20314833 C12.9417636,8.07064283 13.462632,8 14,8 Z M11,4 L11,6 L7.415,6 L12.5,11.0857864 L11.0857864,12.5 L6,7.415 L6,11 L4,11 L4,4 L11,4 Z\" id=\"xabber:subscribe-from\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/status-outline.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/status-outline</title>\n    <g id=\"icon/material/status-outline\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M16.06,2.2 L17.74,6.26 L21.8,7.94 L20.12,12 L21.8,16.06 L17.74,17.74 L16.06,21.8 L12,20.12 L7.94,21.8 L6.26,17.74 L2.2,16.06 L3.88,12 L2.2,7.94 L6.26,6.26 L7.94,2.2 L12,3.88 L16.06,2.2 Z M15,4.81 L12,6.05 L9,4.81 L7.79,7.79 L4.81,9 L6.05,12 L4.81,15 L7.79,16.21 L9,19.19 L12,17.95 L15,19.19 L16.21,16.21 L19.19,15 L17.95,12 L19.19,9 L16.21,7.79 L15,4.81 Z M13.5,7 L12,11 L15,11 L11.5,17 L10.5,17 L12,13 L9,13 L12.5,7 L13.5,7 Z\" id=\"xabber:status-outline\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/birthday-outline.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/birthday-outline</title>\n    <g id=\"icon/material/birthday-outline\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M12,6 C13.1045695,6 14,5.1045695 14,4 C14,3.62 13.9,3.27 13.71,2.97 L12,0 L10.29,2.97 C10.1,3.27 10,3.62 10,4 C10,5.1 10.9,6 12,6 M18,9 L13,9 L13,7 L11,7 L11,9 L6,9 C4.34,9 3,10.34 3,12 L3,21 C3,21.55 3.45,22 4,22 L20,22 C20.55,22 21,21.55 21,21 L21,12 C21,10.34 19.66,9 18,9 M19,20 L5,20 L5,17 C5.9,17 6.76,16.63 7.4,16 L8.5,14.92 L9.56,16 C10.87,17.3 13.15,17.29 14.45,16 L15.53,14.92 L16.6,16 C17.24,16.63 18.1,17 19,17 L19,20 M19,15.5 C18.5,15.5 18,15.3 17.65,14.93 L15.5,12.8 L13.38,14.93 C12.64,15.67 11.35,15.67 10.61,14.93 L8.5,12.8 L6.34,14.93 C6,15.29 5.5,15.5 5,15.5 L5,12 C5,11.45 5.45,11 6,11 L18,11 C18.55,11 19,11.45 19,12 L19,15.5 Z\" id=\"mdi:cake-variant-outline\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/job-outline.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/job-outline</title>\n    <g id=\"icon/material/job-outline\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M20,6 C20.58,6 21.05,6.2 21.42,6.59 C21.8,7 22,7.45 22,8 L22,19 C22,19.55 21.8,20 21.42,20.41 C21.05,20.8 20.58,21 20,21 L4,21 C3.42,21 2.95,20.8 2.58,20.41 C2.2,20 2,19.55 2,19 L2,8 C2,7.45 2.2,7 2.58,6.59 C2.95,6.2 3.42,6 4,6 L8,6 L8,4 C8,3.42 8.2,2.95 8.58,2.58 C8.95,2.2 9.42,2 10,2 L14,2 C14.58,2 15.05,2.2 15.42,2.58 C15.8,2.95 16,3.42 16,4 L16,6 L20,6 M4,8 L4,19 L20,19 L20,8 L4,8 M14,6 L14,4 L10,4 L10,6 L14,6 Z\" id=\"mdi:briefcase-outline\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/address-outline.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/address-outline</title>\n    <g id=\"icon/material/address-outline\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M12,6.5 C13.3807119,6.5 14.5,7.61928813 14.5,9 C14.5,9.66304122 14.2366079,10.298926 13.767767,10.767767 C13.298926,11.2366079 12.6630412,11.5 12,11.5 C10.6192881,11.5 9.5,10.3807119 9.5,9 C9.5,8.33695878 9.7633921,7.70107399 10.232233,7.23223305 C10.701074,6.7633921 11.3369588,6.5 12,6.5 M12,2 C15.8659932,2 19,5.13400675 19,9 C19,14.25 12,22 12,22 C12,22 5,14.25 5,9 C5,5.13400675 8.13400675,2 12,2 M12,4 C9.23857625,4 7,6.23857625 7,9 C7,10 7,12 12,18.71 C17,12 17,10 17,9 C17,6.23857625 14.7614237,4 12,4 L12,4 Z\" id=\"mdi:map-marker-outline\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/email-outline.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/email-outline</title>\n    <g id=\"icon/material/email-outline\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M22,6 C22,4.9 21.1,4 20,4 L4,4 C2.9,4 2,4.9 2,6 L2,18 C2,19.1 2.9,20 4,20 L20,20 C21.1,20 22,19.1 22,18 L22,6 M20,6 L12,11 L4,6 L20,6 M20,18 L4,18 L4,8 L12,13 L20,8 L20,18 Z\" id=\"mdi:email-outline\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/description-outline.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/description-outline</title>\n    <g id=\"icon/material/description-outline\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M5,3 C3.89,3 3,3.89 3,5 L3,19 C3,20.11 3.89,21 5,21 L19,21 C20.11,21 21,20.11 21,19 L21,5 C21,3.89 20.11,3 19,3 L5,3 M5,5 L19,5 L19,19 L5,19 L5,5 M7,7 L7,9 L17,9 L17,7 L7,7 M7,11 L7,13 L17,13 L17,11 L7,11 M7,15 L7,17 L14,17 L14,15 L7,15 Z\" id=\"mdi:text-box-outline\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/call-outline.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/call-outline</title>\n    <g id=\"icon/material/call-outline\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M20,15.5 C18.8,15.5 17.5,15.3 16.4,14.9 C16.3,14.9 16.2,14.9 16.1,14.9 C15.8,14.9 15.6,15 15.4,15.2 L13.2,17.4 C10.4,15.9 8,13.6 6.6,10.8 L8.8,8.6 C9.1,8.3 9.2,7.9 9,7.6 C8.7,6.5 8.5,5.2 8.5,4 C8.5,3.5 8,3 7.5,3 L4,3 C3.5,3 3,3.5 3,4 C3,13.4 10.6,21 20,21 C20.5,21 21,20.5 21,20 L21,16.5 C21,16 20.5,15.5 20,15.5 L20,15.5 Z M5,5 L6.5,5 C6.6,5.9 6.8,6.8 7,7.6 L5.8,8.8 C5.4,7.6 5.1,6.3 5,5 L5,5 Z M19,19 C17.7,18.9 16.4,18.6 15.2,18.2 L16.4,17 C17.2,17.2 18.1,17.4 19,17.4 L19,19 Z\" id=\"mdi:phone-outline\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/call.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/call</title>\n    <g id=\"icon/material/call\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M6.62,10.79 C8.06,13.62 10.38,15.94 13.21,17.38 L15.41,15.18 C15.69,14.9 16.08,14.82 16.43,14.93 C17.55,15.3 18.75,15.5 20,15.5 C20.5522847,15.5 21,15.9477153 21,16.5 L21,20 C21,20.5522847 20.5522847,21 20,21 C10.6111593,21 3,13.3888407 3,4 C3,3.73478351 3.10535684,3.4804296 3.29289322,3.29289322 C3.4804296,3.10535684 3.73478351,3 4,3 L7.5,3 C8.05228475,3 8.5,3.44771525 8.5,4 C8.5,5.25 8.7,6.45 9.07,7.57 C9.18,7.92 9.1,8.31 8.82,8.59 L6.62,10.79 Z\" id=\"mdi:phone\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/search.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/search</title>\n    <defs>\n        <path d=\"M15.5,14 L14.71,14 L14.43,13.73 C15.41,12.59 16,11.11 16,9.5 C16,5.91 13.09,3 9.5,3 C5.91,3 3,5.91 3,9.5 C3,13.09 5.91,16 9.5,16 C11.11,16 12.59,15.41 13.73,14.43 L14,14.71 L14,15.5 L19,20.49 L20.49,19 L15.5,14 Z M9.5,14 C7.01,14 5,11.99 5,9.5 C5,7.01 7.01,5 9.5,5 C11.99,5 14,7.01 14,9.5 C14,11.99 11.99,14 9.5,14 Z\" id=\"path-1\"></path>\n    </defs>\n    <g id=\"icon/material/search\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <mask id=\"mask-2\" fill=\"white\">\n            <use xlink:href=\"#path-1\"></use>\n        </mask>\n        <use id=\"mdi:search\" fill=\"#000000\" fill-rule=\"nonzero\" xlink:href=\"#path-1\"></use>\n    </g>\n</svg>"}),define("text!templates/svg/devices.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/devices</title>\n    <g id=\"icon/material/devices\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M23,11 L18,11 C17.4477153,11 17,11.4477153 17,12 L17,21 C17,21.5522847 17.4477153,22 18,22 L23,22 C23.5522847,22 24,21.5522847 24,21 L24,12 C24,11.4477153 23.5522847,11 23,11 M23,20 L18,20 L18,13 L23,13 L23,20 M20,2 L2,2 C0.89,2 0,2.89 0,4 L0,16 C0,17.1045695 0.8954305,18 2,18 L9,18 L9,20 L7,20 L7,22 L15,22 L15,20 L13,20 L13,18 L15,18 L15,16 L2,16 L2,4 L20,4 L20,9 L22,9 L22,4 C22,2.8954305 21.1045695,2 20,2 Z\" id=\"mdi:monitor-cellphone\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/bell.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/bell</title>\n    <g id=\"icon/material/bell\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M21,19 L21,20 L3,20 L3,19 L5,17 L5,11 C4.99920557,7.90366232 7.0327335,5.17466784 10,4.29 C9.99507868,4.19339597 9.99507868,4.09660403 10,4 C10,2.8954305 10.8954305,2 12,2 C13.1045695,2 14,2.8954305 14,4 C14.005,4.097 14.005,4.193 14,4.29 C16.9672665,5.17466784 19.0007944,7.90366232 19,11 L19,17 L21,19 L21,19 Z M14,21 C14,22.1045695 13.1045695,23 12,23 C10.8954305,23 10,22.1045695 10,21 L14,21 Z\" id=\"mdi:bell\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/bell-sleep.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/bell-sleep</title>\n    <g id=\"icon/material/bell-sleep\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M10,21 L14,21 C14,22.1045695 13.1045695,23 12,23 C10.8954305,23 10,22.1045695 10,21 Z M21,19 L21,20 L3,20 L3,19 L5,17 L5,11 C4.99920557,7.90366232 7.0327335,5.17466784 10,4.29 C9.99507868,4.19339597 9.99507868,4.09660403 10,4 C10,2.8954305 10.8954305,2 12,2 C13.1045695,2 14,2.8954305 14,4 C14.005,4.097 14.005,4.193 14,4.29 C16.9672665,5.17466784 19.0007944,7.90366232 19,11 L19,17 L21,19 L21,19 Z M15,9 L9,9 L9,11 L12.24,11 L9,13.7 L9,16 L15,16 L15,14 L11.76,14 L15,11.3 L15,9 Z\" id=\"mdi:bell-sleep\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/bell-off.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/bell-off</title>\n    <g id=\"icon/material/bell-off\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M20.84,22.73 L18.11,20 L3,20 L3,19 L5,17 L5,11 C5.00430327,9.85524651 5.28929416,8.72901748 5.83,7.72 L1.11,3 L2.39,1.73 L22.11,21.46 L20.84,22.73 Z M19.0000002,15.8 L19.0000002,11 C19.0007944,7.90366232 16.9672665,5.17466784 14,4.29 C14.0049007,4.19339544 14.0049007,4.09660456 14,4 C14,2.8954305 13.1045695,2 12,2 C10.8954305,2 10,2.8954305 10,4 C9.99507868,4.09660403 9.99507868,4.19339597 10,4.29 C9.385,4.474 8.8,4.743 8.26,5.09 L19.0000002,15.8 Z M12,23 C13.1045695,23 14,22.1045695 14,21 L10,21 C10,22.1045695 10.8954305,23 12,23 Z\" id=\"mdi:bell-off\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/cancel.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/cancel</title>\n    <g id=\"icon/material/cancel\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M12,2 C14.6521649,2 17.195704,3.0535684 19.0710678,4.92893219 C20.9464316,6.80429597 22,9.3478351 22,12 C22,17.5228475 17.5228475,22 12,22 C9.3478351,22 6.80429597,20.9464316 4.92893219,19.0710678 C3.0535684,17.195704 2,14.6521649 2,12 C2,9.3478351 3.0535684,6.80429597 4.92893219,4.92893219 C6.80429597,3.0535684 9.3478351,2 12,2 M12,3.99999926 C7.581722,3.99999926 4,7.581722 4,11.9999993 C4,13.85 4.63,15.55 5.68,16.91 L16.91,5.68 C15.505295,4.59031127 13.7778124,3.99923779 12,3.99999926 M12,20.0000007 C16.418278,20.0000007 20,16.418278 20,12 C20,10.15 19.37,8.45 18.32,7.09 L7.09,18.32 C8.49470497,19.4096887 10.2221876,20.0007622 12,20.0000007 L12,20.0000007 Z\" id=\"mdi:cancel\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/edit.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/edit</title>\n    <g id=\"icon/material/edit\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M20.71,7.04 C21.1,6.65 21.1,6 20.71,5.63 L18.37,3.29 C18,2.9 17.35,2.9 16.96,3.29 L15.12,5.12 L18.87,8.87 M3,17.25 L3,21 L6.75,21 L17.81,9.93 L14.06,6.18 L3,17.25 Z\" id=\"mdi:pencil\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/edit-outline.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/edit-outline</title>\n    <g id=\"icon/material/edit-outline\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M14.06,9 L15,9.94 L5.92,19 L5,19 L5,18.08 L14.06,9 M17.66,3 C17.41,3 17.15,3.1 16.96,3.29 L15.13,5.12 L18.88,8.87 L20.71,7.04 C21.1,6.65 21.1,6 20.71,5.63 L18.37,3.29 C18.17,3.09 17.92,3 17.66,3 M14.06,6.19 L3,17.25 L3,21 L6.75,21 L17.81,9.94 L14.06,6.19 Z\" id=\"mdi:pencil-outline\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/blocked-add.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/blocked-add</title>\n    <g id=\"icon/material/blocked-add\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M20,15 L20,18 L23,18 L23,20 L20,20 L20,23 L18,23 L18,20 L15,20 L15,18 L18,18 L18,15 L20,15 Z M12,2 C17.5,2 22,6.5 22,12 C22,12.5859564 21.9489239,13.1605626 21.851004,13.7195862 C21.2621133,13.4007388 20.6141835,13.1778427 19.9277796,13.0712956 C19.9754227,12.7216453 20,12.3635535 20,12 C20,10.1 19.4,8.4 18.3,7.1 L7.1,18.3 C8.5,19.3 10.2,20 12,20 C12.3635535,20 12.7216453,19.9754227 13.0726961,19.9278476 C13.1778427,20.6141835 13.4007388,21.2621133 13.719191,21.8507762 C13.1605626,21.9489239 12.5859564,22 12,22 C6.5,22 2,17.5 2,12 C2,6.5 6.5,2 12,2 Z M12,4 C7.6,4 4,7.6 4,12 C4,13.7882353 4.53148789,15.399308 5.51109302,16.6664767 L5.7,16.9 L16.9,5.7 C15.6,4.6 13.9,4 12,4 Z\" id=\"xabber:block-add\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/information-outline.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/information-outline</title>\n    <g id=\"icon/material/information-outline\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M11,9 L13,9 L13,7 L11,7 M12,20 C7.59,20 4,16.41 4,12 C4,7.59 7.59,4 12,4 C16.41,4 20,7.59 20,12 C20,16.41 16.41,20 12,20 M12,2 C6.4771525,2 2,6.4771525 2,12 C2,14.6521649 3.0535684,17.195704 4.92893219,19.0710678 C6.80429597,20.9464316 9.3478351,22 12,22 C17.5228475,22 22,17.5228475 22,12 C22,6.4771525 17.5228475,2 12,2 M11,17 L13,17 L13,11 L11,11 L11,17 Z\" id=\"mdi:information-outline\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/fullname.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/fullname</title>\n    <g id=\"icon/material/fullname\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M22,4 L14,4 L14,7 L10,7 L10,4 L2,4 C0.8954305,4 0,4.8954305 0,6 L0,20 C0,21.1045695 0.8954305,22 2,22 L22,22 C23.1045695,22 24,21.1045695 24,20 L24,6 C24,4.8954305 23.1045695,4 22,4 M8,9 C9.1045695,9 10,9.8954305 10,11 C10,12.1045695 9.1045695,13 8,13 C6.8954305,13 6,12.1045695 6,11 C6,9.8954305 6.8954305,9 8,9 M12,17 L4,17 L4,16 C4,14.67 6.67,14 8,14 C9.33,14 12,14.67 12,16 L12,17 M20,18 L14,18 L14,16 L20,16 L20,18 M20,14 L14,14 L14,12 L20,12 L20,14 M20,10 L14,10 L14,8 L20,8 L20,10 M13,6 L11,6 L11,2 L13,2 L13,6 Z\" id=\"mdi:badge-account-horizontal\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/fullname-outline.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/fullname-outline</title>\n    <g id=\"icon/material/fullname-outline\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M8,9 C9.1045695,9 10,9.8954305 10,11 C10,12.1045695 9.1045695,13 8,13 C6.8954305,13 6,12.1045695 6,11 C6,9.8954305 6.8954305,9 8,9 M12,17 L4,17 L4,16 C4,14.67 6.67,14 8,14 C9.33,14 12,14.67 12,16 L12,17 M20,8 L14,8 L14,10 L20,10 L20,8 M20,12 L14,12 L14,14 L20,14 L20,12 M20,16 L14,16 L14,18 L20,18 L20,16 M22,4 L14,4 L14,6 L22,6 L22,20 L2,20 L2,6 L10,6 L10,4 L2,4 C0.8954305,4 0,4.8954305 0,6 L0,20 C0,21.1045695 0.8954305,22 2,22 L22,22 C23.1045695,22 24,21.1045695 24,20 L24,6 C24,4.8954305 23.1045695,4 22,4 M13,6 L11,6 L11,2 L13,2 L13,6 Z\" id=\"mdi:badge-account-horizontal-outline\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/ic-at.html",[],function(){return"<path fill=\"#9E9E9E\" d=\"M12,15C12.81,15 13.5,14.7 14.11,14.11C14.7,13.5 15,12.81 15,12C15,11.19 14.7,10.5 14.11,9.89C13.5,9.3 12.81,9 12,9C11.19,9 10.5,9.3 9.89,9.89C9.3,10.5 9,11.19 9,12C9,12.81 9.3,13.5 9.89,14.11C10.5,14.7 11.19,15 12,15M12,2C14.75,2 17.1,3 19.05,4.95C21,6.9 22,9.25 22,12V13.45C22,14.45 21.65,15.3 21,16C20.3,16.67 19.5,17 18.5,17C17.3,17 16.31,16.5 15.56,15.5C14.56,16.5 13.38,17 12,17C10.63,17 9.45,16.5 8.46,15.54C7.5,14.55 7,13.38 7,12C7,10.63 7.5,9.45 8.46,8.46C9.45,7.5 10.63,7 12,7C13.38,7 14.55,7.5 15.54,8.46C16.5,9.45 17,10.63 17,12V13.45C17,13.86 17.16,14.22 17.46,14.53C17.76,14.84 18.11,15 18.5,15C18.92,15 19.27,14.84 19.57,14.53C19.87,14.22 20,13.86 20,13.45V12C20,9.81 19.23,7.93 17.65,6.35C16.07,4.77 14.19,4 12,4C9.81,4 7.93,4.77 6.35,6.35C4.77,7.93 4,9.81 4,12C4,14.19 4.77,16.07 6.35,17.65C7.93,19.23 9.81,20 12,20H17V22H12C9.25,22 6.9,21 4.95,19.05C3,17.1 2,14.75 2,12C2,9.25 3,6.9 4.95,4.95C6.9,3 9.25,2 12,2Z\" />"}),define("text!templates/svg/ic-searching.html",[],function(){return"<path fill=\"#9E9E9E\" d=\"M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M19.35,8.03C21.95,8.22 24,10.36 24,13C24,14.64 23.21,16.1 22,17V16.5A6.5,6.5 0 0,0 15.5,10A6.5,6.5 0 0,0 9,16.5C9,17 9.06,17.5 9.17,18H6A6,6 0 0,1 0,12C0,8.9 2.34,6.36 5.35,6.03C6.6,3.64 9.11,2 12,2C15.64,2 18.67,4.59 19.35,8.03Z\" />"}),define("text!templates/svg/blocked.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/blocked</title>\n    <g id=\"badge/icon/blocked\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M8,1 C11.8659932,1 15,4.13400675 15,8 C15,11.8659932 11.8659932,15 8,15 C4.13400675,15 1,11.8659932 1,8 C1,4.13400675 4.13400675,1 8,1 Z M12.3574649,4.64359326 L4.64359326,12.3574649 C5.57228864,13.073866 6.73637986,13.5 8,13.5 C11.0375661,13.5 13.5,11.0375661 13.5,8 C13.5,6.73637986 13.073866,5.57228864 12.3574649,4.64359326 Z M8,2.5 C4.96243388,2.5 2.5,4.96243388 2.5,8 C2.5,9.26408031 2.92644441,10.4285592 3.64331784,11.3574212 L11.3574212,3.64331784 C10.4285592,2.92644441 9.26408031,2.5 8,2.5 Z\" id=\"blocked\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/bot.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/bot</title>\n    <g id=\"badge/icon/bot\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M8.5,2.9 C8.83137085,2.9 9.1,3.16862915 9.1,3.5 C9.1,3.6775201 9.02290618,3.83703397 8.9003726,3.94688754 L8.899,4.999 L11,5 C11.5522847,5 12,5.44771525 12,6 L12,7 C12.2761424,7 12.5,7.22385763 12.5,7.5 L12.5,8.5 C12.5,8.77614237 12.2761424,9 12,9 L12,11 C12,11.5522847 11.5522847,12 11,12 L5,12 C4.44771525,12 4,11.5522847 4,11 L4,9 C3.72385763,9 3.5,8.77614237 3.5,8.5 L3.5,7.5 C3.5,7.22385763 3.72385763,7 4,7 L4,6 C4,5.44771525 4.44771525,5 5,5 L8.1,4.999 L8.0996274,3.94688754 C7.99996676,3.85753997 7.93036502,3.73534156 7.90785299,3.59732312 L7.9,3.5 C7.9,3.16862915 8.16862915,2.9 8.5,2.9 Z M9.5,10 L6.5,10 C6.22385763,10 6,10.2238576 6,10.5 C6,10.7761424 6.22385763,11 6.5,11 L6.5,11 L9.5,11 C9.77614237,11 10,10.7761424 10,10.5 C10,10.2238576 9.77614237,10 9.5,10 L9.5,10 Z M6.5,6 C6.22385763,6 6,6.22385763 6,6.5 L6,6.5 L6,7 L5.5,7 C5.22385763,7 5,7.22385763 5,7.5 C5,7.77614237 5.22385763,8 5.5,8 L5.5,8 L6,8 L6,8.5 C6,8.77614237 6.22385763,9 6.5,9 C6.77614237,9 7,8.77614237 7,8.5 L7,8.5 L7,8 L7.5,8 C7.77614237,8 8,7.77614237 8,7.5 C8,7.22385763 7.77614237,7 7.5,7 L7.5,7 L7,7 L7,6.5 C7,6.22385763 6.77614237,6 6.5,6 Z M9.5,7 C9.22385763,7 9,7.22385763 9,7.5 C9,7.77614237 9.22385763,8 9.5,8 C9.77614237,8 10,7.77614237 10,7.5 C10,7.22385763 9.77614237,7 9.5,7 Z\" id=\"bot\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/bot-variant.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/bot-variant</title>\n    <g id=\"badge/icon/bot-variant\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M8,3.5 C9.8685634,3.5 11.3951264,4.9642776 11.4948211,6.8079648 L11.5,7 L11.5,9.5 C11.5,11.1568542 9.93299662,12.5 8,12.5 C6.13365843,12.5 4.60850439,11.2478879 4.50554054,9.67023745 L4.5,9.5 L4.5,7 L4.50517886,6.8079648 C4.60487355,4.9642776 6.1314366,3.5 8,3.5 Z M3.5,6 C3.77614237,6 4,6.22385763 4,6.5 L4,9.5 C4,9.77614237 3.77614237,10 3.5,10 C3.22385763,10 3,9.77614237 3,9.5 L3,6.5 C3,6.22385763 3.22385763,6 3.5,6 Z M12.5,6 C12.7761424,6 13,6.22385763 13,6.5 L13,9.5 C13,9.77614237 12.7761424,10 12.5,10 C12.2238576,10 12,9.77614237 12,9.5 L12,6.5 C12,6.22385763 12.2238576,6 12.5,6 Z M8,5 C6.99835629,5 6.16869161,5.73632971 6.0227694,6.69722565 L6.00548574,6.85073766 L6,7 L6,8 L6.00662994,8.12302332 C6.0900659,8.89390548 6.95065898,9.5 8,9.5 C9.04934102,9.5 9.9099341,8.89390548 9.99337006,8.12302332 L10,8 L10,7 L9.99451426,6.85073766 C9.91816512,5.81587779 9.0543618,5 8,5 Z\" id=\"Bot\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/group-incognito.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/group-incognito</title>\n    <g id=\"badge/icon/group-incognito\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M10,8.00704958 C10.9597902,8.00704958 12.8474987,8.64533875 12.9912872,9.91524601 L13,10.0706662 L13,11.0070496 L10.7492023,11.0070496 L10.75,9.875 C10.75,9.10242267 10.3751421,8.46914598 9.75414509,8.01828756 L9.88054216,8.01011295 L10,8.00704958 Z M7,8 C8.71428571,8 10,8.75 10,9.875 L10,11 L4,11 L4,9.875 C4,8.75 5.28571429,8 7,8 Z M7,8.75 C5.68529006,8.75 4.83790401,9.22876096 4.75645218,9.78636102 L4.75,9.875 L4.75,10.25 L9.25,10.25 L9.25,9.875 C9.25,9.31020891 8.46834945,8.80320839 7.20365867,8.75392032 L7,8.75 Z M10.5,4 C11.3284271,4 12,4.67157288 12,5.5 C12,6.32842712 11.3284271,7 10.5,7 C10.0309641,7 9.61220865,6.78472342 9.33715065,6.44758714 C9.59948544,6.02690214 9.75,5.53102835 9.75,5 C9.75,4.7455993 9.71545544,4.49926692 9.65080116,4.2654377 C9.89064982,4.09777196 10.183907,4 10.5,4 Z M7,3 C8.1045695,3 9,3.8954305 9,5 C9,6.1045695 8.1045695,7 7,7 C5.8954305,7 5,6.1045695 5,5 C5,3.8954305 5.8954305,3 7,3 Z M7,3.75 C6.30964406,3.75 5.75,4.30964406 5.75,5 C5.75,5.69035594 6.30964406,6.25 7,6.25 C7.69035594,6.25 8.25,5.69035594 8.25,5 C8.25,4.30964406 7.69035594,3.75 7,3.75 Z\" id=\"incognito\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/group-invite.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/group-invite</title>\n    <g id=\"badge/icon/group-invite\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M4.8,5 L11.2,5 C11.64,5 12,5.33981818 12,5.76363636 L12,10.2363636 C12,10.6581084 11.6418278,11 11.2,11 L4.8,11 C4.3581722,11 4,10.6581084 4,10.2363636 L4,5.76363636 C4,5.33981818 4.356,5 4.8,5 Z M4.57142857,5.81818182 L4.57142857,6.90909091 L8,9.09090909 L11.4285714,6.90909091 L11.4285714,5.81818182 L8,8 L4.57142857,5.81818182 Z\" id=\"invitation\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/group-public.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/group-public</title>\n    <g id=\"badge/icon/group-public\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M10.500501,8 C11.3287776,8 11.995,7.328 11.995,6.5 C11.995,5.672 11.3287776,5 10.500501,5 C9.67222445,5 9,5.672 9,6.5 C9,7.328 9.67222445,8 10.500501,8 Z M6.5,7 C7.33,7 7.995,6.33 7.995,5.5 C7.995,4.67 7.33,4 6.5,4 C5.67,4 5,4.67 5,5.5 C5,6.33 5.67,7 6.5,7 Z M10.5,9 C9.66818182,9 8,9.46 8,10.375 L8,10.9989178 L13,10.9989178 L13,10.375 C13,9.46 11.3318182,9 10.5,9 Z M6.50474946,7.99186821 C4.77490105,7.99186821 3,8.585 3,9.75 L3,11 L7,11 L7,10 C7,9.24841871 7.73828683,8.72461975 8.70884076,8.35916117 C8.08932051,8.04219075 6.85693708,7.99186821 6.50474946,7.99186821 Z\" id=\"xabber:group-public\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/task.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/circle/task</title>\n    <g id=\"badge/circle/task\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <circle id=\"Circle\" fill=\"#000000\" fill-rule=\"nonzero\" cx=\"8\" cy=\"8\" r=\"7\"></circle>\n        <g id=\"icon16/bot-variant\">\n            <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n            <polygon id=\"Path\" fill=\"#FFFFFF\" fill-rule=\"nonzero\" points=\"7 12.5 2.75 8.25 4 7 7 10 12 5 13.25 6.25\"></polygon>\n        </g>\n    </g>\n</svg>"}),define("text!templates/svg/group-private.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/group-private</title>\n    <g id=\"badge/icon/group-private\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M10.45296,9.00001406 C11.2484973,9.00015914 11.9605655,9.50273575 12.2400509,10.2613541 C12.5195363,11.0199725 12.3078467,11.8755937 11.7087696,12.4087226 C11.1096925,12.9418515 10.2488201,13.0407214 9.5482222,12.6568582 C8.84762429,12.272995 8.45417618,11.4868729 8.56077817,10.683913 C8.38677817,10.6450242 8.19859635,10.6155798 7.99841453,10.6144687 C7.79823271,10.6139132 7.61005089,10.6450242 7.43605089,10.683913 C7.54265288,11.4868729 7.14920477,12.272995 6.44860686,12.6568582 C5.74800895,13.0407214 4.88713659,12.9418515 4.28805949,12.4087226 C3.68898239,11.8755937 3.4772928,11.0199725 3.75677818,10.2613541 C4.03626356,9.50273575 4.74833179,9.00015914 5.54386908,9.00001406 C6.32349136,8.99699984 7.02602967,9.47872777 7.31659635,10.2155808 C7.49059635,10.1616921 7.69841453,10.1111366 7.99841453,10.1111366 C8.22964016,10.109582 8.45968538,10.1448214 8.68023271,10.2155808 C8.97079939,9.47872777 9.6733377,8.99699984 10.45296,9.00001406 Z M5.54386908,9.55558244 C4.79075351,9.55558244 4.18023271,10.1774076 4.18023271,10.9444679 C4.18023271,11.7115282 4.79075351,12.3333534 5.54386908,12.3333534 C6.29698464,12.3333534 6.90750544,11.7115282 6.90750544,10.9444679 C6.90750544,10.1774076 6.29698464,9.55558244 5.54386908,9.55558244 Z M10.45296,9.55558244 C9.69984442,9.55558244 9.08932362,10.1774076 9.08932362,10.9444679 C9.08932362,11.7115282 9.69984442,12.3333534 10.45296,12.3333534 C11.2060756,12.3333534 11.8165963,11.7115282 11.8165963,10.9444679 C11.8165963,10.1774076 11.2060756,9.55558244 10.45296,9.55558244 Z M8,7 C8.29622378,7 8.61657343,7.01098373 8.94081475,7.02872667 L9.33047735,7.05299226 C10.5621226,7.13839497 11.7330909,7.297 11.7330909,7.297 C12.2062901,7.40997808 12.6727414,7.54549536 13.1305455,7.703 C13.6858182,7.877 14,8 14,8 L14,8 L2,8 C2,8 2.31418182,7.877 2.86945455,7.703 C3.32163107,7.54577794 3.78243762,7.41026088 4.25,7.297 C4.39345455,7.268 6.512,7 8,7 Z M8,3 C9.46836364,3.001 10.5058182,3.6095 10.5058182,3.6095 L10.5058182,3.6095 L11.2727273,6 L4.72727273,6 L5.49418182,3.6095 C5.49418182,3.6095 6.53163636,3.0015 8,3 Z\" id=\"private\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/channel.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/channel</title>\n    <g id=\"badge/icon/channel\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M6.5,12.5 C6.5,12.7761424 6.27614237,13 6,13 L5,13 C4.72385763,13 4.5,12.7761424 4.5,12.5 L4.5,9.997 L4.02563513,9.99796942 C3.49695533,9.99796942 3.06170233,9.63379568 3.00601829,9.10979782 L3,8.99514074 L3,7 C3,6.44278422 3.50172034,6 4.02563513,6 L4.02563513,6 L8,6 L11,4 L11,12 L8,9.99796942 L6.5,9.997 L6.5,12.5 Z M12,6 C12.7835446,6.37375602 13.2808221,7.14951331 13.2820439,8 C13.2882682,8.85255761 12.7887168,9.63186239 12,10 L12,6 Z\" id=\"Horn\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/rss.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/rss</title>\n    <g id=\"badge/icon/rss\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M4.75,10 C5.44035594,10 6,10.5596441 6,11.25 C6,11.9403559 5.44035594,12.5 4.75,12.5 C4.05964406,12.5 3.5,11.9403559 3.5,11.25 C3.5,10.5596441 4.05964406,10 4.75,10 Z M5.11116669,7.54639605 C6.82660407,7.80940186 8.1830606,9.16218778 8.45158391,10.8758014 L7.23152342,11.1795044 C7.08441894,9.91212418 6.07561709,8.9075227 4.80628203,8.7668642 L5.11116669,7.54639605 Z M5.72009926,5.11432766 C8.32885675,5.60976503 10.3855062,7.6642481 10.8841422,10.2718714 L9.66858256,10.5739265 C9.28406621,8.41337145 7.57799724,6.7100586 5.41602734,6.32963962 L5.72009926,5.11432766 Z M6.32787101,2.68573625 C9.83044069,3.40831848 12.5892971,6.16611302 13.3134345,9.66811414 L12.0989255,9.96960741 C11.4871421,6.91510726 9.07973668,4.50930363 6.02438684,3.89987406 L6.32787101,2.68573625 Z\" id=\"Channel-variant\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/rss-variant.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/rss-variant</title>\n    <g id=\"badge/icon/rss-variant\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M5,10 C5.55228475,10 6,10.4477153 6,11 C6,11.5412844 5.55045872,12 5,12 C4.4587156,12 4,11.5412844 4,11 C4,10.4477153 4.44771525,10 5,10 M4,4 C8.418278,4 12,7.581722 12,12 L10.5449871,12 C10.5449871,8.38530341 7.61469659,5.45501285 4,5.45501285 L4,4 M4,7 C6.76142375,7 9,9.23857625 9,12 L7.57070707,12 C7.57070707,11.0529896 7.19450866,10.1447663 6.52487118,9.47512882 C5.85523371,8.80549134 4.9470104,8.42929293 4,8.42929293 L4,7 Z\" id=\"rss-variant\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/server.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/server</title>\n    <g id=\"badge/icon/server\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M10.1428571,13 L5.85714286,13 C5.38571429,13 5,12.625 5,12.1666667 L5,3.83333333 C5,3.375 5.38571429,3 5.85714286,3 L10.1428571,3 C10.6142857,3 11,3.375 11,3.83333333 L11,12.1666667 C11,12.625 10.6142857,13 10.1428571,13 Z M10,5 L6,5 L6,6 L10,6 L10,5 Z M10,7 L6,7 L6,8 L10,8 L10,7 Z M10,11 L9,11 L9,12 L10,12 L10,11 Z\" id=\"Server\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/volume-off-variant.html",[],function(){return"<g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n    <g id=\"Mobile-Portrait\" transform=\"translate(-41.000000, -4.000000)\">\n        <g id=\"volume-off-variant\" transform=\"translate(34.000000, 0.000000)\">\n            <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n            <polygon id=\"Path-2\" points=\"7 9 7 15 11 15 16 20 16 16.5 8.5 9\"></polygon>\n            <polygon id=\"Path-3\" points=\"7 6 18.5 17.5 19.5 16.5 16 13 16 4 11.5 8.5 8 5\"></polygon>\n        </g>\n    </g>\n</g>\n"}),define("text!templates/svg/message-group.html",[],function(){return"<g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n    <g id=\"message-group-variant2\" fill=\"#000000\">\n        <path d=\"M14.2526206,6 L21.4947588,6 C22.3260806,6 23,6.6752491 23,7.49824524 L23,24 L19,20 L8.50524116,20 C7.67391942,20 7,19.3247509 7,18.5017548 L7,17 L17.0005775,17 C18.6556493,17 20,15.6542582 20,13.9942017 L20,6 L14.2526206,6 Z\" id=\"Message2\"></path>\n        <path d=\"M1,2.49824524 C1,1.67078724 1.66642015,1 2.50863659,1 L16.4913634,1 C17.3245604,1 18,1.6752491 18,2.49824524 L18,13.5017548 C18,14.3292128 17.3335799,15 16.4913634,15 L5,15 L1,19 L1,2.49824524 Z M4,10 L4,12 L12,12 L12,10 L4,10 Z M4,7 L4,9 L15,9 L15,7 L4,7 Z M4,4 L4,6 L15,6 L15,4 L4,4 Z\" id=\"Combined-Shape\"></path>\n    </g>\n</g>\n"}),define("text!templates/svg/xabber-offline.html",[],function(){return"<g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n    <g id=\"Xabber-Offline\" fill=\"#000000\">\n        <path d=\"M13.4146471,22.5 L14.009222,22.5 C14.5490248,22.5 15,22.0522847 15,21.5 C15,20.9438648 14.5564136,20.5 14.009222,20.5 L9.99077797,20.5 C9.45097518,20.5 9,20.9477153 9,21.5 C9,22.0561352 9.44358641,22.5 9.99077797,22.5 L10.5853529,22.5 C10.7912711,23.0825962 11.3468906,23.5 12,23.5 C12.6531094,23.5 13.2087289,23.0825962 13.4146471,22.5 Z\" id=\"Base\"></path>\n        <rect id=\"Middle-base\" x=\"8\" y=\"17.75\" width=\"8\" height=\"2\" rx=\"1\"></rect>\n        <path d=\"M17.5099945,14.8015103 L17.5099945,14.8015103 C17.1966102,15.1049344 17.0013821,15.5296633 17,16 C17,16.5522847 16.5443356,17 16.0046024,17 L7.99539757,17 C7.44565467,17 7,16.5561352 6.99998649,16 C6.99861167,15.5296664 6.80338616,15.10494 6.49000549,14.8015163 L6.49000549,14.8000192 C4.95622884,13.3424727 4,11.282906 4,9 C4,4.581722 7.581722,1 12,1 C16.418278,1 20,4.581722 20,9 C20,11.282906 19.0437712,13.3424727 17.5099945,14.8000192 L17.5099945,14.8015103 Z M8.86088543,15 L15.1391084,15 C15.3021338,14.4253123 15.6014858,13.895093 16,13.472213 C17.2274987,12.3735719 18,10.7769996 18,9 C18,5.6862915 15.3137085,3 12,3 C8.6862915,3 6,5.6862915 6,9 C6,10.7769996 6.77250128,12.3735719 8,13.472213 C8.39851111,13.8950917 8.69786083,14.4253152 8.86088543,15 Z\" id=\"Bulb-shape\"></path>\n    </g>\n</g>\n"}),define("text!templates/svg/xabber-online.html",[],function(){return"<g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n    <g id=\"Xabber-Online\" fill=\"#000000\">\n        <path d=\"M13.4146471,22.5 L14.009222,22.5 C14.5490248,22.5 15,22.0522847 15,21.5 C15,20.9438648 14.5564136,20.5 14.009222,20.5 L9.99077797,20.5 C9.45097518,20.5 9,20.9477153 9,21.5 C9,22.0561352 9.44358641,22.5 9.99077797,22.5 L10.5853529,22.5 C10.7912711,23.0825962 11.3468906,23.5 12,23.5 C12.6531094,23.5 13.2087289,23.0825962 13.4146471,22.5 Z\" id=\"Base\"></path>\n        <rect id=\"Middle-base\" x=\"8\" y=\"17.75\" width=\"8\" height=\"2\" rx=\"1\"></rect>\n        <path d=\"M17.5099945,14.8015103 L17.5099945,14.8000192 C19.0437712,13.3424727 20,11.282906 20,9 C20,4.581722 16.418278,1 12,1 C7.581722,1 4,4.581722 4,9 C4,11.282906 4.95622884,13.3424727 6.49000549,14.8000192 L6.49000549,14.8015163 C6.80338616,15.10494 6.99861167,15.5296664 6.99998649,16 C7,16.5561352 7.44565467,17 7.99539757,17 L16.0046024,17 C16.5443356,17 17,16.5522847 17,16 C17.0013821,15.5296633 17.1966102,15.1049344 17.5099945,14.8015103 L17.5099945,14.8015103 Z\" id=\"Bulb-shape\"></path>\n    </g>\n</g>\n"}),define("text!templates/svg/saved-messages.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/saved-messages</title>\n    <g id=\"icon/material/saved-messages\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M17.1666667,1 C17.9487847,1 18.6165365,1.26855469 19.1699219,1.80566406 C19.7233073,2.34277344 20,2.99088542 20,3.75 L20,21.625 C20,21.9973958 19.8634983,22.3196615 19.5904948,22.5917969 C19.3174913,22.8639323 18.9817708,23 18.5833333,23 L12,18.1875 L5.41666667,23 C5.01822917,23 4.68250868,22.8639323 4.40950521,22.5917969 C4.13650174,22.3196615 4,21.9973958 4,21.625 L4,3.75 C4,2.99088542 4.27669271,2.34277344 4.83007812,1.80566406 C5.38346354,1.26855469 6.05121528,1 6.83333333,1 L17.1666667,1 Z M12.0016667,4.4375 L10.2972396,8.1328125 L6.335,8.6484375 L9.256875,11.4199219 L8.50427083,15.4375 L12.0016667,13.4609375 L15.4990625,15.4375 L14.7464583,11.4199219 L17.6683333,8.6484375 L13.7060938,8.1328125 L12.0016667,4.4375 Z\" id=\"xabber:saved-messages\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/palette.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/palette</title>\n    <g id=\"icon/material/palette\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M17.5,12 C16.6715729,12 16,11.3284271 16,10.5 C16,9.67157288 16.6715729,9 17.5,9 C18.3284271,9 19,9.67157288 19,10.5 C19,11.3284271 18.3284271,12 17.5,12 M14.5,8 C13.6715729,8 13,7.32842712 13,6.5 C13,5.67157288 13.6715729,5 14.5,5 C15.3284271,5 16,5.67157288 16,6.5 C16,7.32842712 15.3284271,8 14.5,8 M9.5,8 C8.67157288,8 8,7.32842712 8,6.5 C8,5.67157288 8.67157288,5 9.5,5 C10.3284271,5 11,5.67157288 11,6.5 C11,7.32842712 10.3284271,8 9.5,8 M6.5,12 C5.67157288,12 5,11.3284271 5,10.5 C5,9.67157288 5.67157288,9 6.5,9 C7.32842712,9 8,9.67157288 8,10.5 C8,11.3284271 7.32842712,12 6.5,12 M12,3 C7.02943725,3 3,7.02943725 3,12 C3,16.9705627 7.02943725,21 12,21 C12.8284271,21 13.5,20.3284271 13.5,19.5 C13.5,19.11 13.35,18.76 13.11,18.5 C12.88,18.23 12.73,17.88 12.73,17.5 C12.73,16.6715729 13.4015729,16 14.23,16 L16,16 C18.7614237,16 21,13.7614237 21,11 C21,6.58 16.97,3 12,3 L12,3 Z\" id=\"mdi:palette\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/circles.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/circles</title>\n    <g id=\"icon/material/circles\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M8.61510772,4.31938417 C8.28417501,5.13922603 8.07752033,6.02134442 8.01792471,6.94352205 L7.91776678,6.99321105 C5.73983381,8.11301495 4.25,10.3825228 4.25,13 C4.25,16.7279221 7.27207794,19.75 11,19.75 C13.6571359,19.75 15.9556781,18.2146777 17.0568945,15.9827652 C17.9787775,15.9224511 18.8608306,15.7158021 19.6796219,15.3853225 C18.6352051,19.1981743 15.1448033,22 11,22 C6.02943725,22 2,17.9705627 2,13 C2,8.85508685 4.80197429,5.36460986 8.61510772,4.31938417 Z M16.5,1 C20.0898509,1 23,3.91014913 23,7.5 C23,11.0898509 20.0898509,14 16.5,14 C12.9101491,14 10,11.0898509 10,7.5 C10,3.91014913 12.9101491,1 16.5,1 Z M16.5,3 C14.0147186,3 12,5.01471863 12,7.5 C12,9.98528137 14.0147186,12 16.5,12 C18.9852814,12 21,9.98528137 21,7.5 C21,5.01471863 18.9852814,3 16.5,3 Z\" id=\"xabber:circles\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/translate.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/translate</title>\n    <g id=\"icon/material/translate\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M12.87,15.07 L10.33,12.56 L10.36,12.53 C12.0541502,10.6471017 13.3198948,8.41925464 14.07,6 L17,6 L17,4 L10,4 L10,2 L8,2 L8,4 L1,4 L1,6 L12.17,6 C11.5,7.92 10.44,9.75 9,11.35 C8.07,10.32 7.3,9.19 6.69,8 L4.69,8 C5.42,9.63 6.42,11.17 7.67,12.56 L2.58,17.58 L4,19 L9,14 L12.11,17.11 L12.87,15.07 M18.5,10 L16.5,10 L12,22 L14,22 L15.12,19 L19.87,19 L21,22 L23,22 L18.5,10 M15.88,17 L17.5,12.67 L19.12,17 L15.88,17 L15.88,17 Z\" id=\"mdi:translate\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/crosshairs-gps.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/crosshairs-gps</title>\n    <g id=\"icon/material/crosshairs-gps\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M12,8 C14.209139,8 16,9.790861 16,12 C16,14.209139 14.209139,16 12,16 C9.790861,16 8,14.209139 8,12 C8,9.790861 9.790861,8 12,8 M3.05,13 L1,13 L1,11 L3.05,11 C3.5,6.83 6.83,3.5 11,3.05 L11,1 L13,1 L13,3.05 C17.17,3.5 20.5,6.83 20.95,11 L23,11 L23,13 L20.95,13 C20.5,17.17 17.17,20.5 13,20.95 L13,23 L11,23 L11,20.95 C6.83,20.5 3.5,17.17 3.05,13 M12,5 C8.13400675,5 5,8.13400675 5,12 C5,15.8659932 8.13400675,19 12,19 C15.8659932,19 19,15.8659932 19,12 C19,8.13400675 15.8659932,5 12,5 L12,5 Z\" id=\"mdi:crosshairs-gps\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/crosshairs-question.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/crosshairs-question</title>\n    <g id=\"icon/material/crosshairs-question\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M3.05,13 L1,13 L1,11 L3.05,11 C3.5,6.83 6.83,3.5 11,3.05 L11,1 L13,1 L13,3.05 C17.17,3.5 20.5,6.83 20.95,11 L23,11 L23,13 L20.95,13 C20.5,17.17 17.17,20.5 13,20.95 L13,23 L11,23 L11,20.95 C6.83,20.5 3.5,17.17 3.05,13 M12,5 C8.13,5 5,8.13 5,12 C5,15.87 8.13,19 12,19 C15.87,19 19,15.87 19,12 C19,8.13 15.87,5 12,5 M11.13,17.25 L12.88,17.25 L12.88,15.5 L11.13,15.5 L11.13,17.25 M12,6.75 C10.07,6.75 8.5,8.32 8.5,10.25 L10.25,10.25 C10.25,9.28 11.03,8.5 12,8.5 C12.97,8.5 13.75,9.28 13.75,10.25 C13.75,12 11.13,11.78 11.13,14.63 L12.88,14.63 C12.88,12.66 15.5,12.44 15.5,10.25 C15.5,8.32 13.93,6.75 12,6.75 Z\" id=\"mdi:crosshairs-question\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/crosshairs.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/crosshairs</title>\n    <g id=\"icon/material/crosshairs\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M3.05,13 L1,13 L1,11 L3.05,11 C3.5,6.83 6.83,3.5 11,3.05 L11,1 L13,1 L13,3.05 C17.17,3.5 20.5,6.83 20.95,11 L23,11 L23,13 L20.95,13 C20.5,17.17 17.17,20.5 13,20.95 L13,23 L11,23 L11,20.95 C6.83,20.5 3.5,17.17 3.05,13 M12,5 C8.13400675,5 5,8.13400675 5,12 C5,15.8659932 8.13400675,19 12,19 C15.8659932,19 19,15.8659932 19,12 C19,8.13400675 15.8659932,5 12,5 L12,5 Z\" id=\"mdi:crosshairs\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/map-marker-outline.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/map-marker-outline</title>\n    <g id=\"icon/material/map-marker-outline\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M12,6.5 C13.3807119,6.5 14.5,7.61928813 14.5,9 C14.5,9.66304122 14.2366079,10.298926 13.767767,10.767767 C13.298926,11.2366079 12.6630412,11.5 12,11.5 C10.6192881,11.5 9.5,10.3807119 9.5,9 C9.5,8.33695878 9.7633921,7.70107399 10.232233,7.23223305 C10.701074,6.7633921 11.3369588,6.5 12,6.5 M12,2 C15.8659932,2 19,5.13400675 19,9 C19,14.25 12,22 12,22 C12,22 5,14.25 5,9 C5,5.13400675 8.13400675,2 12,2 M12,4 C9.23857625,4 7,6.23857625 7,9 C7,10 7,12 12,18.71 C17,12 17,10 17,9 C17,6.23857625 14.7614237,4 12,4 L12,4 Z\" id=\"mdi:map-marker-outline\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/map-marker.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/map-marker</title>\n    <g id=\"icon/material/map-marker\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M12,11.5 C10.6192881,11.5 9.5,10.3807119 9.5,9 C9.5,8.33695878 9.7633921,7.70107399 10.232233,7.23223305 C10.701074,6.7633921 11.3369588,6.5 12,6.5 C13.3807119,6.5 14.5,7.61928813 14.5,9 C14.5,9.66304122 14.2366079,10.298926 13.767767,10.767767 C13.298926,11.2366079 12.6630412,11.5 12,11.5 M12,2 C8.13400675,2 5,5.13400675 5,9 C5,14.25 12,22 12,22 C12,22 19,14.25 19,9 C19,5.13400675 15.8659932,2 12,2 Z\" id=\"mdi:map-marker\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/minus.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/minus</title>\n    <g id=\"icon/material/minus\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <polygon id=\"mdi:minus\" fill=\"#000000\" fill-rule=\"nonzero\" points=\"19 13 5 13 5 11 19 11\"></polygon>\n    </g>\n</svg>"}),define("xabber-templates",["underscore","jquery","text!templates/base/dialog.html","text!templates/base/fingerprints.html","text!templates/base/fingerprint_item.html","text!templates/base/jingle_message_calling.html","text!templates/base/input_widget.html","text!templates/base/toolbar.html","text!templates/base/settings.html","text!templates/base/about.html","text!templates/base/omemo_enable.html","text!templates/base/backgrounds_gallery.html","text!templates/base/color_picker.html","text!templates/base/color_scheme.html","text!templates/api_service/xabber_login.html","text!templates/api_service/xabber_login_by_email.html","text!templates/api_service/xabber_account.html","text!templates/api_service/linked_email_item.html","text!templates/api_service/add_xabber_account.html","text!templates/api_service/sync_settings.html","text!templates/api_service/sync_settings_account_item.html","text!templates/accounts/xmpp_login.html","text!templates/accounts/add_account.html","text!templates/accounts/change_password.html","text!templates/accounts/toolbar_item.html","text!templates/accounts/settings_left.html","text!templates/accounts/settings_right.html","text!templates/accounts/existing_groupchat_item.html","text!templates/accounts/resource.html","text!templates/accounts/resource_right.html","text!templates/accounts/webcam_panel.html","text!templates/accounts/emoji_panel.html","text!templates/accounts/emoji_picker.html","text!templates/accounts/emoji_picker_tabs.html","text!templates/accounts/emojis.json","text!templates/accounts/global_settings_item.html","text!templates/accounts/change_status.html","text!templates/accounts/token_item.html","text!templates/accounts/current_token_item.html","text!templates/vcard/vcard.html","text!templates/vcard/vcard_edit.html","text!templates/vcard/vcard_right.html","text!templates/searching/searching_wide.html","text!templates/searching/searching_account_item.html","text!templates/searching/existing_groupchat_item.html","text!templates/searching/existing_groupchat_details_view.html","text!templates/contacts/roster_right.html","text!templates/contacts/roster_left.html","text!templates/contacts/account_roster_right.html","text!templates/contacts/account_roster_left.html","text!templates/contacts/roster_left.html","text!templates/contacts/group_right.html","text!templates/contacts/group_left.html","text!templates/contacts/add_contact.html","text!templates/contacts/contact_right_item.html","text!templates/contacts/contact_left_item.html","text!templates/contacts/contact_blocked_item.html","text!templates/contacts/contact_details.html","text!templates/contacts/contact_details_right.html","text!templates/contacts/roster_settings.html","text!templates/contacts/group_settings.html","text!templates/contacts/groups_checkbox_list.html","text!templates/contacts/groups_checkbox_list_contact.html","text!templates/contacts/groups_new_group.html","text!templates/contacts/groups_list.html","text!templates/contacts/add_contact_account_item.html","text!templates/contacts/contact_placeholder.html","text!templates/contacts/groups.html","text!templates/contacts/edit_contact.html","text!templates/contacts/edit_group.html","text!templates/contacts/preloader.html","text!templates/contacts/group_chats/group_chat_properties.html","text!templates/contacts/group_chats/group_chat_properties_right.html","text!templates/contacts/group_chats/group_chat_details.html","text!templates/contacts/group_chats/group_chat_details_right.html","text!templates/contacts/group_chats/invitation.html","text!templates/contacts/group_chats/group_chat_properties_edit.html","text!templates/contacts/group_chats/default_restrictions.html","text!templates/contacts/group_chats/default_restrictions_right.html","text!templates/contacts/group_chats/group_member_item.html","text!templates/contacts/group_chats/group_member_item_right.html","text!templates/contacts/group_chats/description_input_widget.html","text!templates/contacts/group_chats/group_name_input_widget.html","text!templates/contacts/group_chats/participant_badge_input_widget.html","text!templates/contacts/group_chats/invited_member_item.html","text!templates/contacts/group_chats/add_blocked_participant_form.html","text!templates/contacts/group_chats/participant_details_right.html","text!templates/contacts/group_chats/participant_rights.html","text!templates/contacts/group_chats/restriction_item.html","text!templates/contacts/group_chats/right_expire_variants.html","text!templates/contacts/group_chats/pinned_message.html","text!templates/contacts/group_chats/participant_details_item.html","text!templates/contacts/group_chats/participant_details_item_right.html","text!templates/contacts/group_chats/participants.html","text!templates/contacts/group_chats/participants_right_panel.html","text!templates/contacts/group_chats/badge_edit_view.html","text!templates/contacts/group_chats/private_participant_details.html","text!templates/contacts/group_chats/private_participant_details_item_right.html","text!templates/contacts/group_chats/set_status.html","text!templates/contacts/group_chats/status_item.html","text!templates/contacts/group_chats/group_status.html","text!templates/contacts/group_chats/group_status_right.html","text!templates/contacts/group_chats/media_item.html","text!templates/contacts/group_chats/file_item.html","text!templates/chats/chats_panel.html","text!templates/chats/add_chat_account_item.html","text!templates/chats/chat_item.html","text!templates/chats/chat_head.html","text!templates/chats/saved_chat_head.html","text!templates/chats/chat_content.html","text!templates/chats/chat_content_contact.html","text!templates/chats/chat_bottom.html","text!templates/chats/location_popup.html","text!templates/chats/subscription_buttons.html","text!templates/chats/forward_panel.html","text!templates/chats/chat_placeholder.html","text!templates/chats/message_item.html","text!templates/chats/messages/main.html","text!templates/chats/messages/searched.html","text!templates/chats/messages/forwarded.html","text!templates/chats/messages/system.html","text!templates/chats/messages/file_upload.html","text!templates/chats/messages/file.html","text!templates/chats/messages/video.html","text!templates/chats/messages/location.html","text!templates/chats/messages/audio_file.html","text!templates/chats/messages/audio_file_waveform.html","text!templates/chats/messages/auth_request.html","text!templates/chats/messages/group_request.html","text!templates/chats/messages/template-for-2.html","text!templates/chats/messages/template-for-3.html","text!templates/chats/messages/template-for-4.html","text!templates/chats/messages/template-for-5.html","text!templates/chats/messages/template-for-6.html","text!templates/chats/messages/hidden-template-for-2.html","text!templates/chats/messages/hidden-template-for-3.html","text!templates/chats/messages/hidden-template-for-4.html","text!templates/chats/messages/hidden-template-for-5.html","text!templates/chats/messages/hidden-template-for-6.html","text!templates/chats/messages/images_details.html","text!templates/chats/messages/saved_main.html","text!templates/chats/group_chats/pinned_message_panel.html","text!templates/chats/group_chats/add_group_chat.html","text!templates/chats/group_chats/invitation_panel_view.html","text!templates/chats/group_chats/mention_item.html","text!templates/chats/encryption_warning.html","text!templates/chats/content_encryption_warning.html","text!templates/mentions/mentions_panel.html","text!templates/mentions/mentions_placeholder.html","text!templates/mentions/mention_item.html","text!templates/svg/ic-jabber.html","text!templates/svg/xmpp.html","text!templates/svg/account-outline.html","text!templates/svg/qrcode.html","text!templates/svg/id-outline.html","text!templates/svg/clock-outline.html","text!templates/svg/index.html","text!templates/svg/restrictions-outline.html","text!templates/svg/history.html","text!templates/svg/chevron-down.html","text!templates/svg/camera-retake.html","text!templates/svg/membership-outline.html","text!templates/svg/invite-outline.html","text!templates/svg/chevron-right-variant.html","text!templates/svg/chevron-left-variant.html","text!templates/svg/subscription-to.html","text!templates/svg/subscription-from.html","text!templates/svg/status-outline.html","text!templates/svg/birthday-outline.html","text!templates/svg/job-outline.html","text!templates/svg/address-outline.html","text!templates/svg/email-outline.html","text!templates/svg/description-outline.html","text!templates/svg/call-outline.html","text!templates/svg/call.html","text!templates/svg/search.html","text!templates/svg/devices.html","text!templates/svg/bell.html","text!templates/svg/bell-sleep.html","text!templates/svg/bell-off.html","text!templates/svg/cancel.html","text!templates/svg/edit.html","text!templates/svg/edit-outline.html","text!templates/svg/blocked-add.html","text!templates/svg/information-outline.html","text!templates/svg/fullname.html","text!templates/svg/fullname-outline.html","text!templates/svg/ic-at.html","text!templates/svg/ic-searching.html","text!templates/svg/blocked.html","text!templates/svg/bot.html","text!templates/svg/bot-variant.html","text!templates/svg/group-incognito.html","text!templates/svg/group-invite.html","text!templates/svg/group-public.html","text!templates/svg/task.html","text!templates/svg/group-private.html","text!templates/svg/channel.html","text!templates/svg/rss.html","text!templates/svg/rss-variant.html","text!templates/svg/server.html","text!templates/svg/volume-off-variant.html","text!templates/svg/message-group.html","text!templates/svg/xabber-offline.html","text!templates/svg/xabber-online.html","text!templates/svg/saved-messages.html","text!templates/svg/palette.html","text!templates/svg/circles.html","text!templates/svg/translate.html","text!templates/svg/crosshairs-gps.html","text!templates/svg/crosshairs-question.html","text!templates/svg/crosshairs.html","text!templates/svg/map-marker-outline.html","text!templates/svg/map-marker.html","text!templates/svg/minus.html"],function(e,t){e.templateSettings={evaluate:/\{\[([\s\S]+?)\]\}/g,interpolate:/\{\{([\s\S]+?)\}\}/g};let a={},i=function(e){let i=t("<div/>").html(e);return i.find(".mdi-svg-template").each(function(){let e=t(this),i=e.data("svgname");e.removeClass("mdi-svg-template").addClass("mdi-"+i).attr("data-svgname",null),e.html(a.svg[i]())}),i.html()},n=function(t,n){n||(n={});let s=t.split("."),o=e.template(require("text!templates/"+s.join("/")+".html")),d=s.pop(),r=a;e.each(s,function(e){r[e]||(r[e]={}),r=r[e]}),r[d]=n.is_svg?o:function(e){return i(o(e))}},s=function(t){let n=t.split("."),s=e.template(require("text!templates/"+n.join("/")+".json")),o=n.pop(),d=a;e.each(n,function(e){d[e]||(d[e]={}),d=d[e]}),d[o]=function(e){return i(s(e))}},o=function(e){n(e,{is_svg:!1})},d=function(e){n(e,{is_svg:!0})};return o("base.dialog"),o("base.fingerprints"),o("base.fingerprint_item"),o("base.jingle_message_calling"),o("base.input_widget"),o("base.toolbar"),o("base.settings"),o("base.about"),o("base.omemo_enable"),o("base.backgrounds_gallery"),o("base.color_picker"),o("base.color_scheme"),o("api_service.xabber_login"),o("api_service.xabber_login_by_email"),o("api_service.add_xabber_account"),o("api_service.xabber_account"),o("api_service.linked_email_item"),o("api_service.sync_settings"),o("api_service.sync_settings_account_item"),o("accounts.xmpp_login"),o("accounts.add_account"),o("accounts.change_password"),o("accounts.toolbar_item"),o("accounts.settings_left"),o("accounts.settings_right"),o("accounts.existing_groupchat_item"),o("accounts.resource"),o("accounts.resource_right"),o("accounts.webcam_panel"),o("accounts.emoji_panel"),o("accounts.emoji_picker"),o("accounts.emoji_picker_tabs"),o("accounts.global_settings_item"),o("accounts.change_status"),o("accounts.token_item"),o("accounts.current_token_item"),o("vcard.vcard"),o("vcard.vcard_edit"),o("vcard.vcard_right"),o("searching.searching_wide"),o("searching.searching_account_item"),o("searching.existing_groupchat_item"),o("searching.existing_groupchat_details_view"),o("contacts.roster_right"),o("contacts.roster_left"),o("contacts.account_roster_right"),o("contacts.account_roster_left"),o("contacts.group_right"),o("contacts.group_left"),o("contacts.add_contact"),o("contacts.contact_right_item"),o("contacts.contact_left_item"),o("contacts.contact_blocked_item"),o("contacts.contact_details"),o("contacts.contact_details_right"),o("contacts.roster_settings"),o("contacts.group_settings"),o("contacts.groups_checkbox_list"),o("contacts.groups_checkbox_list_contact"),o("contacts.groups_new_group"),o("contacts.groups_list"),o("contacts.add_contact_account_item"),o("contacts.contact_placeholder"),o("contacts.groups"),o("contacts.edit_contact"),o("contacts.edit_group"),o("contacts.preloader"),o("contacts.group_chats.group_chat_properties"),o("contacts.group_chats.group_chat_properties_right"),o("contacts.group_chats.group_chat_details"),o("contacts.group_chats.group_chat_details_right"),o("contacts.group_chats.invitation"),o("contacts.group_chats.group_chat_properties_edit"),o("contacts.group_chats.default_restrictions"),o("contacts.group_chats.default_restrictions_right"),o("contacts.group_chats.group_member_item"),o("contacts.group_chats.group_member_item_right"),o("contacts.group_chats.description_input_widget"),o("contacts.group_chats.group_name_input_widget"),o("contacts.group_chats.participant_badge_input_widget"),o("contacts.group_chats.invited_member_item"),o("contacts.group_chats.add_blocked_participant_form"),o("contacts.group_chats.participant_details_right"),o("contacts.group_chats.participant_rights"),o("contacts.group_chats.restriction_item"),o("contacts.group_chats.right_expire_variants"),o("contacts.group_chats.pinned_message"),o("contacts.group_chats.participant_details_item_right"),o("contacts.group_chats.participant_details_item"),o("contacts.group_chats.participants"),o("contacts.group_chats.participants_right_panel"),o("contacts.group_chats.badge_edit_view"),o("contacts.group_chats.private_participant_details"),o("contacts.group_chats.private_participant_details_item_right"),o("contacts.group_chats.set_status"),o("contacts.group_chats.status_item"),o("contacts.group_chats.group_status"),o("contacts.group_chats.group_status_right"),o("contacts.group_chats.media_item"),o("contacts.group_chats.file_item"),o("chats.chats_panel"),o("chats.add_chat_account_item"),o("chats.chat_item"),o("chats.chat_head"),o("chats.saved_chat_head"),o("chats.chat_content"),o("chats.chat_content_contact"),o("chats.chat_bottom"),o("chats.location_popup"),o("chats.subscription_buttons"),o("chats.forward_panel"),o("chats.chat_placeholder"),o("chats.message_item"),o("chats.messages.main"),o("chats.messages.searched"),o("chats.messages.forwarded"),o("chats.messages.system"),o("chats.messages.file_upload"),o("chats.messages.file"),o("chats.messages.video"),o("chats.messages.location"),o("chats.messages.audio_file"),o("chats.messages.audio_file_waveform"),o("chats.messages.auth_request"),o("chats.messages.group_request"),o("chats.messages.template-for-2"),o("chats.messages.template-for-3"),o("chats.messages.template-for-4"),o("chats.messages.template-for-5"),o("chats.messages.template-for-6"),o("chats.messages.hidden-template-for-2"),o("chats.messages.hidden-template-for-3"),o("chats.messages.hidden-template-for-4"),o("chats.messages.hidden-template-for-5"),o("chats.messages.hidden-template-for-6"),o("chats.messages.images_details"),o("chats.messages.saved_main"),o("chats.group_chats.pinned_message_panel"),o("chats.group_chats.add_group_chat"),o("chats.group_chats.invitation_panel_view"),o("chats.group_chats.mention_item"),o("chats.encryption_warning"),o("chats.content_encryption_warning"),o("mentions.mentions_panel"),o("mentions.mentions_placeholder"),o("mentions.mention_item"),d("svg.ic-jabber"),d("svg.xmpp"),d("svg.account-outline"),d("svg.qrcode"),d("svg.id-outline"),d("svg.clock-outline"),d("svg.index"),d("svg.restrictions-outline"),d("svg.history"),d("svg.chevron-down"),d("svg.camera-retake"),d("svg.membership-outline"),d("svg.invite-outline"),d("svg.chevron-right-variant"),d("svg.chevron-left-variant"),d("svg.subscription-to"),d("svg.subscription-from"),d("svg.cancel"),d("svg.status-outline"),d("svg.birthday-outline"),d("svg.job-outline"),d("svg.address-outline"),d("svg.email-outline"),d("svg.description-outline"),d("svg.call-outline"),d("svg.call"),d("svg.search"),d("svg.devices"),d("svg.bell"),d("svg.bell-sleep"),d("svg.bell-off"),d("svg.cancel"),d("svg.edit"),d("svg.edit-outline"),d("svg.blocked-add"),d("svg.information-outline"),d("svg.fullname"),d("svg.fullname-outline"),d("svg.ic-at"),d("svg.ic-searching"),d("svg.blocked"),d("svg.bot"),d("svg.bot-variant"),d("svg.group-incognito"),d("svg.group-invite"),d("svg.group-public"),d("svg.task"),d("svg.group-private"),d("svg.channel"),d("svg.rss"),d("svg.rss-variant"),d("svg.server"),d("svg.volume-off-variant"),d("svg.message-group"),d("svg.xabber-offline"),d("svg.xabber-online"),d("svg.saved-messages"),d("svg.palette"),d("svg.circles"),d("svg.translate"),d("svg.crosshairs-gps"),d("svg.crosshairs-question"),d("svg.crosshairs"),d("svg.map-marker-outline"),d("svg.map-marker"),d("svg.minus"),s("accounts.emojis"),a}),define("xabber-emoji-utils",["jquery","underscore"],function(e,t){var a=String.prototype,i=String.fromCharCode,n={smiles_and_people:[{code:128512,x:9,y:3},{code:128515,x:12,y:3},{code:128516,x:13,y:3},{code:128513,x:10,y:3},{code:128518,x:1,y:4},{code:128517,x:0,y:4},{code:129315,x:6,y:10},{code:128514,x:11,y:3},{code:128578,x:5,y:8},{code:128579,x:6,y:8},{code:128521,x:4,y:4},{code:128522,x:5,y:4},{code:128519,x:2,y:4},{code:128525,x:8,y:4},{code:129321,x:12,y:10},{code:128535,x:4,y:5},{code:9786,x:14,y:5},{code:128538,x:7,y:5},{code:128537,x:6,y:5},{code:128523,x:6,y:4},{code:128539,x:8,y:5},{code:128540,x:9,y:5},{code:129322,x:13,y:10},{code:128541,x:10,y:5},{code:129297,x:10,y:9},{code:129303,x:2,y:10},{code:129325,x:2,y:11},{code:129323,x:0,y:11},{code:129300,x:13,y:9},{code:129296,x:9,y:9},{code:129320,x:11,y:10},{code:128528,x:11,y:4},{code:128529,x:12,y:4},{code:128566,x:7,y:7},{code:128527,x:10,y:4},{code:128530,x:13,y:4},{code:128580,x:7,y:8},{code:128556,x:11,y:6},{code:129317,x:8,y:10},{code:128524,x:7,y:4},{code:128532,x:1,y:5},{code:128554,x:9,y:6},{code:129316,x:7,y:10},{code:128564,x:5,y:7},{code:128567,x:8,y:7},{code:129298,x:11,y:9},{code:129301,x:0,y:10},{code:129314,x:5,y:10},{code:129326,x:3,y:11},{code:129319,x:10,y:10},{code:129397,x:7,y:12},{code:129398,x:8,y:12},{code:129396,x:6,y:12},{code:128565,x:6,y:7},{code:129327,x:4,y:11},{code:129312,x:3,y:10},{code:129395,x:5,y:12},{code:128526,x:9,y:4},{code:129299,x:12,y:9},{code:129488,x:1,y:13},{code:128533,x:2,y:5},{code:128543,x:12,y:5},{code:128577,x:4,y:8},{code:9785,x:14,y:4},{code:128558,x:13,y:6},{code:128559,x:0,y:7},{code:128562,x:3,y:7},{code:128563,x:4,y:7},{code:129402,x:9,y:12},{code:128550,x:5,y:6},{code:128551,x:6,y:6},{code:128552,x:7,y:6},{code:128560,x:1,y:7},{code:128549,x:4,y:6},{code:128546,x:1,y:6},{code:128557,x:12,y:6},{code:128561,x:2,y:7},{code:128534,x:3,y:5},{code:128547,x:2,y:6},{code:128542,x:11,y:5},{code:128531,x:0,y:5},{code:128553,x:8,y:6},{code:128555,x:10,y:6},{code:128548,x:3,y:6},{code:128545,x:0,y:6},{code:128544,x:13,y:5},{code:129324,x:1,y:11},{code:128520,x:3,y:4},{code:128127,x:9,y:2},{code:128128,x:10,y:2},{code:9760,x:14,y:3},{code:128169,x:4,y:3},{code:129313,x:4,y:10},{code:128121,x:3,y:2},{code:128122,x:4,y:2},{code:128123,x:5,y:2},{code:128125,x:7,y:2},{code:128126,x:8,y:2},{code:129302,x:1,y:10},{code:128570,x:11,y:7},{code:128568,x:9,y:7},{code:128569,x:10,y:7},{code:128571,x:12,y:7},{code:128572,x:13,y:7},{code:128573,x:0,y:8},{code:128576,x:3,y:8},{code:128575,x:2,y:8},{code:128574,x:1,y:8},{code:128584,x:11,y:8},{code:128585,x:12,y:8},{code:128586,x:13,y:8},{code:128118,x:0,y:2},{code:129490,x:3,y:13},{code:128102,x:12,y:0},{code:128103,x:13,y:0},{code:128113,x:9,y:1},{code:129492,x:5,y:13},{code:129491,x:4,y:13},{code:128116,x:12,y:1},{code:128117,x:13,y:1},{code:128589,x:1,y:9},{code:128590,x:2,y:9},{code:128581,x:8,y:8},{code:128582,x:9,y:8},{code:128129,x:11,y:2},{code:128587,x:0,y:9},{code:128583,x:10,y:8},{code:129318,x:9,y:10},{code:129335,x:10,y:11},{code:128110,x:6,y:1},{code:128373,x:6,y:3},{code:128130,x:12,y:2},{code:128119,x:1,y:2},{code:129332,x:7,y:11},{code:128120,x:2,y:2},{code:128115,x:11,y:1},{code:128114,x:10,y:1},{code:129493,x:6,y:13},{code:129333,x:8,y:11},{code:128112,x:8,y:1},{code:129328,x:5,y:11},{code:129329,x:6,y:11},{code:128124,x:6,y:2},{code:127877,x:0,y:0},{code:129334,x:9,y:11},{code:129464,x:10,y:12},{code:129465,x:11,y:12},{code:129497,x:10,y:13},{code:129498,x:11,y:13},{code:129499,x:12,y:13},{code:129500,x:13,y:13},{code:129501,x:14,y:0},{code:129502,x:14,y:1},{code:129503,x:14,y:2},{code:128134,x:0,y:3},{code:128135,x:1,y:3},{code:128694,x:6,y:9},{code:127939,x:2,y:0},{code:128131,x:13,y:2},{code:128378,x:7,y:3},{code:128372,x:5,y:3},{code:128111,x:7,y:1},{code:129494,x:7,y:13},{code:129495,x:8,y:13},{code:129338,x:13,y:11},{code:127943,x:4,y:0},{code:9975,x:14,y:6},{code:127938,x:1,y:0},{code:127948,x:7,y:0},{code:127940,x:3,y:0},{code:128675,x:3,y:9},{code:127946,x:5,y:0},{code:9977,x:14,y:7},{code:127947,x:6,y:0},{code:128692,x:4,y:9},{code:128693,x:5,y:9},{code:129336,x:11,y:11},{code:129340,x:0,y:12},{code:129341,x:1,y:12},{code:129342,x:2,y:12},{code:129337,x:12,y:11},{code:129496,x:9,y:13},{code:128704,x:7,y:9},{code:128716,x:8,y:9},{code:128109,x:5,y:1},{code:128107,x:3,y:1},{code:128108,x:4,y:1},{code:128143,x:2,y:3},{code:128145,x:3,y:3},{code:128106,x:2,y:1},{code:128483,x:8,y:3},{code:128100,x:10,y:0},{code:128101,x:11,y:0},{code:128099,x:9,y:0}],body_and_clothes:[{code:128075,x:3,y:1},{code:129306,x:10,y:7},{code:128400,x:7,y:6},{code:9995,x:9,y:10},{code:128406,x:9,y:6},{code:128076,x:4,y:1},{code:9996,x:10,y:10},{code:129310,x:3,y:8},{code:129311,x:4,y:8},{code:129304,x:8,y:7},{code:129305,x:9,y:7},{code:128072,x:0,y:1},{code:128073,x:1,y:1},{code:128070,x:9,y:0},{code:128405,x:8,y:6},{code:128071,x:10,y:0},{code:9757,x:6,y:10},{code:128077,x:5,y:1},{code:128078,x:6,y:1},{code:9994,x:8,y:10},{code:128074,x:2,y:1},{code:129307,x:0,y:8},{code:129308,x:1,y:8},{code:128079,x:7,y:1},{code:128588,x:2,y:7},{code:128080,x:8,y:1},{code:129330,x:5,y:8},{code:129309,x:2,y:8},{code:128591,x:3,y:7},{code:9997,x:11,y:0},{code:128133,x:6,y:3},{code:129331,x:6,y:8},{code:128170,x:9,y:5},{code:129461,x:2,y:9},{code:129462,x:3,y:9},{code:128066,x:5,y:0},{code:128067,x:6,y:0},{code:129504,x:6,y:9},{code:129463,x:4,y:9},{code:129460,x:1,y:9},{code:128064,x:3,y:0},{code:128069,x:8,y:0},{code:128068,x:7,y:0},{code:128139,x:7,y:3},{code:128140,x:8,y:3},{code:128152,x:5,y:4},{code:128157,x:10,y:4},{code:128150,x:3,y:4},{code:128151,x:4,y:4},{code:128147,x:0,y:4},{code:128158,x:0,y:5},{code:128149,x:2,y:4},{code:128159,x:1,y:5},{code:10083,x:11,y:1},{code:128148,x:1,y:4},{code:10084,x:11,y:2},{code:129505,x:7,y:9},{code:128155,x:8,y:4},{code:128154,x:7,y:4},{code:128153,x:6,y:4},{code:128156,x:9,y:4},{code:128420,x:10,y:6},{code:128175,x:3,y:6},{code:128162,x:2,y:5},{code:128165,x:5,y:5},{code:128171,x:10,y:5},{code:128166,x:6,y:5},{code:128168,x:8,y:5},{code:128371,x:5,y:6},{code:128163,x:3,y:5},{code:128172,x:0,y:6},{code:128065,x:4,y:0},{code:128488,x:0,y:7},{code:128495,x:1,y:7},{code:128173,x:1,y:6},{code:128164,x:4,y:5},{code:128083,x:0,y:2},{code:128374,x:6,y:6},{code:129405,x:9,y:8},{code:129404,x:8,y:8},{code:128084,x:1,y:2},{code:128085,x:2,y:2},{code:128086,x:3,y:2},{code:129507,x:9,y:9},{code:129508,x:10,y:9},{code:129509,x:0,y:10},{code:129510,x:1,y:10},{code:128087,x:4,y:2},{code:128088,x:5,y:2},{code:128089,x:6,y:2},{code:128090,x:7,y:2},{code:128091,x:8,y:2},{code:128092,x:9,y:2},{code:128093,x:10,y:2},{code:128717,x:4,y:7},{code:127890,x:0,y:0},{code:128094,x:0,y:3},{code:128095,x:1,y:3},{code:129406,x:10,y:8},{code:129407,x:0,y:9},{code:128096,x:2,y:3},{code:128097,x:3,y:3},{code:128098,x:4,y:3},{code:128081,x:9,y:1},{code:128082,x:10,y:1},{code:127913,x:2,y:0},{code:127891,x:1,y:0},{code:129506,x:8,y:9},{code:9937,x:7,y:10},{code:128255,x:4,y:6},{code:128132,x:5,y:3},{code:128141,x:9,y:3},{code:128142,x:10,y:3}],animals_and_nature:[{code:128053,x:6,y:6},{code:128018,x:4,y:3},{code:129421,x:2,y:9},{code:128054,x:7,y:6},{code:128021,x:7,y:3},{code:128041,x:6,y:5},{code:128058,x:0,y:7},{code:129418,x:10,y:8},{code:129437,x:7,y:10},{code:128008,x:5,y:2},{code:129409,x:1,y:8},{code:128047,x:1,y:6},{code:128005,x:2,y:2},{code:128006,x:3,y:2},{code:128052,x:5,y:6},{code:128014,x:0,y:3},{code:129412,x:4,y:8},{code:129427,x:8,y:9},{code:129420,x:1,y:9},{code:128046,x:0,y:6},{code:128002,x:10,y:1},{code:128003,x:0,y:2},{code:128004,x:1,y:2},{code:128055,x:8,y:6},{code:128022,x:9,y:3},{code:128023,x:10,y:3},{code:128061,x:3,y:7},{code:128015,x:1,y:3},{code:128017,x:3,y:3},{code:128016,x:2,y:3},{code:128042,x:7,y:5},{code:128043,x:8,y:5},{code:129433,x:3,y:10},{code:129426,x:7,y:9},{code:128024,x:0,y:4},{code:129423,x:4,y:9},{code:129435,x:5,y:10},{code:128045,x:10,y:5},{code:128001,x:9,y:1},{code:128e3,x:8,y:1},{code:128057,x:10,y:6},{code:128048,x:2,y:6},{code:128007,x:4,y:2},{code:128063,x:5,y:7},{code:129428,x:9,y:9},{code:129415,x:7,y:8},{code:128059,x:1,y:7},{code:128040,x:5,y:5},{code:128060,x:2,y:7},{code:129432,x:2,y:10},{code:129441,x:11,y:0},{code:128062,x:4,y:7},{code:129411,x:3,y:8},{code:128020,x:6,y:3},{code:128019,x:5,y:3},{code:128035,x:0,y:5},{code:128036,x:1,y:5},{code:128037,x:2,y:5},{code:128038,x:3,y:5},{code:128039,x:4,y:5},{code:128330,x:7,y:7},{code:129413,x:5,y:8},{code:129414,x:6,y:8},{code:129442,x:11,y:1},{code:129417,x:9,y:8},{code:129434,x:4,y:10},{code:129436,x:6,y:10},{code:128056,x:9,y:6},{code:128010,x:7,y:2},{code:128034,x:10,y:4},{code:129422,x:3,y:9},{code:128013,x:10,y:2},{code:128050,x:3,y:6},{code:128009,x:6,y:2},{code:129429,x:10,y:9},{code:129430,x:0,y:10},{code:128051,x:4,y:6},{code:128011,x:8,y:2},{code:128044,x:9,y:5},{code:128031,x:7,y:4},{code:128032,x:8,y:4},{code:128033,x:9,y:4},{code:129416,x:8,y:8},{code:128025,x:1,y:4},{code:128026,x:2,y:4},{code:128012,x:9,y:2},{code:129419,x:0,y:9},{code:128027,x:3,y:4},{code:128028,x:4,y:4},{code:128029,x:5,y:4},{code:128030,x:6,y:4},{code:129431,x:1,y:10},{code:128375,x:8,y:7},{code:128376,x:9,y:7},{code:129410,x:2,y:8},{code:129439,x:9,y:10},{code:129440,x:10,y:10},{code:128144,x:6,y:7},{code:127800,x:6,y:0},{code:127989,x:7,y:1},{code:127801,x:7,y:0},{code:129344,x:10,y:7},{code:127802,x:8,y:0},{code:127803,x:9,y:0},{code:127804,x:10,y:0},{code:127799,x:5,y:0},{code:127793,x:0,y:0},{code:127812,x:6,y:1},{code:127794,x:1,y:0},{code:127795,x:2,y:0},{code:127796,x:3,y:0},{code:127797,x:4,y:0},{code:127806,x:0,y:1},{code:127807,x:1,y:1},{code:9752,x:11,y:8},{code:127808,x:2,y:1},{code:127809,x:3,y:1},{code:127810,x:4,y:1},{code:127811,x:5,y:1},{code:129408,x:0,y:8},{code:129438,x:8,y:10},{code:129424,x:5,y:9},{code:129425,x:6,y:9}],food_and_drinks:[{code:127815,x:8,y:0},{code:127816,x:9,y:0},{code:127817,x:0,y:1},{code:127818,x:1,y:1},{code:127819,x:2,y:1},{code:127820,x:3,y:1},{code:127821,x:4,y:1},{code:129389,x:10,y:0},{code:127822,x:5,y:1},{code:127823,x:6,y:1},{code:127824,x:7,y:1},{code:127825,x:8,y:1},{code:127826,x:9,y:1},{code:127827,x:0,y:2},{code:129373,x:4,y:8},{code:127813,x:6,y:0},{code:129381,x:2,y:9},{code:129361,x:2,y:7},{code:127814,x:7,y:0},{code:129364,x:5,y:7},{code:129365,x:6,y:7},{code:127805,x:5,y:0},{code:127798,x:4,y:0},{code:129362,x:3,y:7},{code:129388,x:9,y:9},{code:129382,x:3,y:9},{code:129372,x:3,y:8},{code:127792,x:3,y:0},{code:127838,x:1,y:3},{code:129360,x:1,y:7},{code:129366,x:7,y:7},{code:129384,x:5,y:9},{code:129391,x:10,y:2},{code:129374,x:5,y:8},{code:129472,x:10,y:3},{code:127830,x:3,y:2},{code:127831,x:4,y:2},{code:129385,x:6,y:9},{code:129363,x:4,y:7},{code:127828,x:1,y:2},{code:127839,x:2,y:3},{code:127829,x:2,y:2},{code:127789,x:0,y:0},{code:129386,x:7,y:9},{code:127790,x:1,y:0},{code:127791,x:2,y:0},{code:129369,x:0,y:8},{code:129370,x:1,y:8},{code:127859,x:2,y:5},{code:129368,x:9,y:7},{code:127858,x:1,y:5},{code:129379,x:0,y:9},{code:129367,x:8,y:7},{code:127871,x:4,y:6},{code:129474,x:10,y:5},{code:129387,x:8,y:9},{code:127857,x:0,y:5},{code:127832,x:5,y:2},{code:127833,x:6,y:2},{code:127834,x:7,y:2},{code:127835,x:8,y:2},{code:127836,x:9,y:2},{code:127837,x:0,y:3},{code:127840,x:3,y:3},{code:127842,x:5,y:3},{code:127843,x:6,y:3},{code:127844,x:7,y:3},{code:127845,x:8,y:3},{code:129390,x:10,y:1},{code:127841,x:4,y:3},{code:129375,x:6,y:8},{code:129376,x:7,y:8},{code:129377,x:8,y:8},{code:127846,x:9,y:3},{code:127847,x:0,y:4},{code:127848,x:1,y:4},{code:127849,x:2,y:4},{code:127850,x:3,y:4},{code:127874,x:5,y:6},{code:127856,x:9,y:4},{code:129473,x:10,y:4},{code:129383,x:4,y:9},{code:127851,x:4,y:4},{code:127852,x:5,y:4},{code:127853,x:6,y:4},{code:127854,x:7,y:4},{code:127855,x:8,y:4},{code:127868,x:1,y:6},{code:129371,x:2,y:8},{code:9749,x:4,y:10},{code:127861,x:4,y:5},{code:127862,x:5,y:5},{code:127870,x:3,y:6},{code:127863,x:6,y:5},{code:127864,x:7,y:5},{code:127865,x:8,y:5},{code:127866,x:9,y:5},{code:127867,x:0,y:6},{code:129346,x:8,y:6},{code:129347,x:9,y:6},{code:129380,x:1,y:9},{code:129378,x:9,y:8},{code:127869,x:2,y:6},{code:127860,x:3,y:5},{code:129348,x:0,y:7},{code:128298,x:7,y:6},{code:127994,x:6,y:6}],travel_and_places:[{code:127757,x:13,y:0},{code:127758,x:0,y:1},{code:127759,x:1,y:1},{code:127760,x:2,y:1},{code:128506,x:0,y:8},{code:128510,x:4,y:8},{code:129517,x:12,y:12},{code:127956,x:9,y:3},{code:9968,x:14,y:8},{code:127755,x:11,y:0},{code:128507,x:1,y:8},{code:127957,x:10,y:3},{code:127958,x:11,y:3},{code:127964,x:3,y:4},{code:127965,x:4,y:4},{code:127966,x:5,y:4},{code:127967,x:6,y:4},{code:127963,x:2,y:4},{code:127959,x:12,y:3},{code:129521,x:13,y:12},{code:127960,x:13,y:3},{code:127962,x:1,y:4},{code:127968,x:7,y:4},{code:127969,x:8,y:4},{code:127970,x:9,y:4},{code:127971,x:10,y:4},{code:127972,x:11,y:4},{code:127973,x:12,y:4},{code:127974,x:13,y:4},{code:127976,x:0,y:5},{code:127977,x:1,y:5},{code:127978,x:2,y:5},{code:127979,x:3,y:5},{code:127980,x:4,y:5},{code:127981,x:5,y:5},{code:127983,x:6,y:5},{code:127984,x:7,y:5},{code:128146,x:9,y:5},{code:128508,x:2,y:8},{code:128509,x:3,y:8},{code:9962,x:14,y:7},{code:128332,x:0,y:6},{code:128333,x:1,y:6},{code:9961,x:14,y:6},{code:128331,x:13,y:5},{code:9970,x:14,y:10},{code:9978,x:0,y:14},{code:127745,x:1,y:0},{code:127747,x:3,y:0},{code:127961,x:0,y:4},{code:127748,x:4,y:0},{code:127749,x:5,y:0},{code:127750,x:6,y:0},{code:127751,x:7,y:0},{code:127753,x:9,y:0},{code:9832,x:14,y:0},{code:127904,x:1,y:3},{code:127905,x:2,y:3},{code:127906,x:3,y:3},{code:128136,x:8,y:5},{code:127914,x:5,y:3},{code:128642,x:8,y:8},{code:128643,x:9,y:8},{code:128644,x:10,y:8},{code:128645,x:11,y:8},{code:128646,x:12,y:8},{code:128647,x:13,y:8},{code:128648,x:0,y:9},{code:128649,x:1,y:9},{code:128650,x:2,y:9},{code:128669,x:7,y:10},{code:128670,x:8,y:10},{code:128651,x:3,y:9},{code:128652,x:4,y:9},{code:128653,x:5,y:9},{code:128654,x:6,y:9},{code:128656,x:8,y:9},{code:128657,x:9,y:9},{code:128658,x:10,y:9},{code:128659,x:11,y:9},{code:128660,x:12,y:9},{code:128661,x:13,y:9},{code:128662,x:0,y:10},{code:128663,x:1,y:10},{code:128664,x:2,y:10},{code:128665,x:3,y:10},{code:128666,x:4,y:10},{code:128667,x:5,y:10},{code:128668,x:6,y:10},{code:127950,x:8,y:3},{code:127949,x:7,y:3},{code:128757,x:4,y:12},{code:128690,x:4,y:11},{code:128756,x:3,y:12},{code:128761,x:7,y:12},{code:128655,x:7,y:9},{code:128739,x:9,y:11},{code:128740,x:10,y:11},{code:128738,x:8,y:11},{code:9981,x:1,y:14},{code:128680,x:3,y:11},{code:128677,x:0,y:11},{code:128678,x:1,y:11},{code:128721,x:6,y:11},{code:128679,x:2,y:11},{code:9875,x:14,y:1},{code:9973,x:14,y:13},{code:128758,x:5,y:12},{code:127907,x:4,y:3},{code:128676,x:13,y:10},{code:128755,x:2,y:12},{code:9972,x:14,y:12},{code:128741,x:11,y:11},{code:128674,x:12,y:10},{code:9992,x:2,y:14},{code:128745,x:12,y:11},{code:128747,x:13,y:11},{code:128748,x:0,y:12},{code:128186,x:11,y:5},{code:128641,x:7,y:8},{code:128671,x:9,y:10},{code:128672,x:10,y:10},{code:128673,x:11,y:10},{code:128752,x:1,y:12},{code:128640,x:6,y:8},{code:128760,x:6,y:12},{code:128718,x:5,y:11},{code:129523,x:0,y:13},{code:8987,x:3,y:13},{code:9203,x:7,y:13},{code:8986,x:2,y:13},{code:9200,x:4,y:13},{code:9201,x:5,y:13},{code:9202,x:6,y:13},{code:128368,x:12,y:7},{code:128347,x:13,y:6},{code:128359,x:11,y:7},{code:128336,x:2,y:6},{code:128348,x:0,y:7},{code:128337,x:3,y:6},{code:128349,x:1,y:7},{code:128338,x:4,y:6},{code:128350,x:2,y:7},{code:128339,x:5,y:6},{code:128351,x:3,y:7},{code:128340,x:6,y:6},{code:128352,x:4,y:7},{code:128341,x:7,y:6},{code:128353,x:5,y:7},{code:128342,x:8,y:6},{code:128354,x:6,y:7},{code:128343,x:9,y:6},{code:128355,x:7,y:7},{code:128344,x:10,y:6},{code:128356,x:8,y:7},{code:128345,x:11,y:6},{code:128357,x:9,y:7},{code:128346,x:12,y:6},{code:128358,x:10,y:7},{code:127761,x:3,y:1},{code:127762,x:4,y:1},{code:127763,x:5,y:1},{code:127764,x:6,y:1},{code:127765,x:7,y:1},{code:127766,x:8,y:1},{code:127767,x:9,y:1},{code:127768,x:10,y:1},{code:127769,x:11,y:1},{code:127770,x:12,y:1},{code:127771,x:13,y:1},{code:127772,x:0,y:2},{code:127777,x:5,y:2},{code:9728,x:8,y:13},{code:127773,x:1,y:2},{code:127774,x:2,y:2},{code:11088,x:4,y:14},{code:127775,x:3,y:2},{code:127776,x:4,y:2},{code:127756,x:12,y:0},{code:9729,x:9,y:13},{code:9925,x:14,y:4},{code:9928,x:14,y:5},{code:127780,x:6,y:2},{code:127781,x:7,y:2},{code:127782,x:8,y:2},{code:127783,x:9,y:2},{code:127784,x:10,y:2},{code:127785,x:11,y:2},{code:127786,x:12,y:2},{code:127787,x:13,y:2},{code:127788,x:0,y:3},{code:127744,x:0,y:0},{code:127752,x:8,y:0},{code:127746,x:2,y:0},{code:9730,x:10,y:13},{code:9748,x:13,y:13},{code:9969,x:14,y:9},{code:9889,x:14,y:2},{code:10052,x:3,y:14},{code:9731,x:11,y:13},{code:9924,x:14,y:3},{code:9732,x:12,y:13},{code:128293,x:12,y:5},{code:128167,x:10,y:5},{code:127754,x:10,y:0}],events:[{code:127875,x:4,y:0},{code:127876,x:5,y:0},{code:127878,x:6,y:0},{code:127879,x:7,y:0},{code:129512,x:5,y:6},{code:10024,x:9,y:3},{code:127880,x:8,y:0},{code:127881,x:0,y:1},{code:127882,x:1,y:1},{code:127883,x:2,y:1},{code:127885,x:3,y:1},{code:127886,x:4,y:1},{code:127887,x:5,y:1},{code:127888,x:6,y:1},{code:127889,x:7,y:1},{code:129511,x:4,y:6},{code:127872,x:2,y:0},{code:127873,x:3,y:0},{code:127895,x:0,y:2},{code:127903,x:1,y:2},{code:127915,x:3,y:2},{code:127894,x:8,y:1},{code:127942,x:7,y:3},{code:127941,x:6,y:3},{code:129351,x:4,y:5},{code:129352,x:5,y:5},{code:129353,x:6,y:5},{code:9917,x:8,y:8},{code:9918,x:9,y:0},{code:129358,x:2,y:6},{code:127936,x:5,y:3},{code:127952,x:2,y:4},{code:127944,x:8,y:3},{code:127945,x:0,y:4},{code:127934,x:3,y:3},{code:129359,x:3,y:6},{code:127923,x:1,y:3},{code:127951,x:1,y:4},{code:127953,x:3,y:4},{code:127954,x:4,y:4},{code:129357,x:1,y:6},{code:127955,x:5,y:4},{code:127992,x:6,y:4},{code:129354,x:7,y:5},{code:129355,x:8,y:5},{code:129349,x:3,y:5},{code:9971,x:9,y:1},{code:9976,x:9,y:2},{code:127933,x:2,y:3},{code:127935,x:4,y:3},{code:128759,x:2,y:5},{code:129356,x:0,y:6},{code:127919,x:6,y:2},{code:127921,x:8,y:2},{code:128302,x:8,y:4},{code:129535,x:1,y:7},{code:127918,x:5,y:2},{code:128377,x:0,y:5},{code:127920,x:7,y:2},{code:127922,x:0,y:3},{code:129513,x:6,y:6},{code:129528,x:0,y:7},{code:9824,x:4,y:8},{code:9829,x:6,y:8},{code:9830,x:7,y:8},{code:9827,x:5,y:8},{code:9823,x:3,y:8},{code:127183,x:1,y:0},{code:126980,x:0,y:0},{code:127917,x:4,y:2},{code:128444,x:1,y:5},{code:127912,x:2,y:2},{code:129525,x:7,y:6},{code:129526,x:8,y:6}],objects:[{code:128263,x:1,y:7},{code:128264,x:2,y:7},{code:128265,x:3,y:7},{code:128266,x:4,y:7},{code:128226,x:3,y:5},{code:128227,x:4,y:5},{code:128239,x:3,y:6},{code:128276,x:1,y:8},{code:128277,x:2,y:8},{code:127932,x:2,y:1},{code:127925,x:8,y:0},{code:127926,x:9,y:0},{code:127897,x:0,y:0},{code:127898,x:1,y:0},{code:127899,x:2,y:0},{code:127908,x:4,y:0},{code:127911,x:6,y:0},{code:128251,x:11,y:6},{code:127927,x:10,y:0},{code:127928,x:11,y:0},{code:127929,x:12,y:0},{code:127930,x:0,y:1},{code:127931,x:1,y:1},{code:129345,x:6,y:11},{code:128241,x:5,y:6},{code:128242,x:6,y:6},{code:9742,x:13,y:3},{code:128222,x:12,y:4},{code:128223,x:0,y:5},{code:128224,x:1,y:5},{code:128267,x:5,y:7},{code:128268,x:6,y:7},{code:128187,x:4,y:2},{code:128421,x:5,y:9},{code:128424,x:6,y:9},{code:9e3,x:13,y:2},{code:128433,x:7,y:9},{code:128434,x:8,y:9},{code:128189,x:6,y:2},{code:128190,x:7,y:2},{code:128191,x:8,y:2},{code:128192,x:9,y:2},{code:129518,x:2,y:12},{code:127909,x:5,y:0},{code:127902,x:3,y:0},{code:128253,x:0,y:7},{code:127916,x:7,y:0},{code:128250,x:10,y:6},{code:128247,x:7,y:6},{code:128248,x:8,y:6},{code:128249,x:9,y:6},{code:128252,x:12,y:6},{code:128269,x:7,y:7},{code:128270,x:8,y:7},{code:128367,x:12,y:8},{code:128161,x:8,y:1},{code:128294,x:5,y:8},{code:127982,x:3,y:1},{code:128212,x:3,y:4},{code:128213,x:4,y:4},{code:128214,x:5,y:4},{code:128215,x:6,y:4},{code:128216,x:7,y:4},{code:128217,x:8,y:4},{code:128218,x:9,y:4},{code:128211,x:2,y:4},{code:128210,x:1,y:4},{code:128195,x:12,y:2},{code:128220,x:10,y:4},{code:128196,x:0,y:3},{code:128240,x:4,y:6},{code:128478,x:4,y:10},{code:128209,x:0,y:4},{code:128278,x:3,y:8},{code:127991,x:4,y:1},{code:128176,x:9,y:1},{code:128180,x:11,y:1},{code:128181,x:12,y:1},{code:128182,x:0,y:2},{code:128183,x:1,y:2},{code:128184,x:2,y:2},{code:128179,x:10,y:1},{code:129534,x:13,y:0},{code:128185,x:3,y:2},{code:9993,x:1,y:13},{code:128231,x:8,y:5},{code:128232,x:9,y:5},{code:128233,x:10,y:5},{code:128228,x:5,y:5},{code:128229,x:6,y:5},{code:128230,x:7,y:5},{code:128235,x:12,y:5},{code:128234,x:11,y:5},{code:128236,x:0,y:6},{code:128237,x:1,y:6},{code:128238,x:2,y:6},{code:128499,x:6,y:10},{code:9999,x:2,y:13},{code:10002,x:3,y:13},{code:128395,x:2,y:9},{code:128394,x:1,y:9},{code:128396,x:3,y:9},{code:128397,x:4,y:9},{code:128221,x:11,y:4},{code:128188,x:5,y:2},{code:128193,x:10,y:2},{code:128194,x:11,y:2},{code:128450,x:9,y:9},{code:128197,x:1,y:3},{code:128198,x:2,y:3},{code:128466,x:0,y:10},{code:128467,x:1,y:10},{code:128199,x:3,y:3},{code:128200,x:4,y:3},{code:128201,x:5,y:3},{code:128202,x:6,y:3},{code:128203,x:7,y:3},{code:128204,x:8,y:3},{code:128205,x:9,y:3},{code:128206,x:10,y:3},{code:128391,x:0,y:9},{code:128207,x:11,y:3},{code:128208,x:12,y:3},{code:9986,x:0,y:13},{code:128451,x:10,y:9},{code:128452,x:11,y:9},{code:128465,x:12,y:9},{code:128274,x:12,y:7},{code:128275,x:0,y:8},{code:128271,x:9,y:7},{code:128272,x:10,y:7},{code:128273,x:11,y:7},{code:128477,x:3,y:10},{code:128296,x:7,y:8},{code:9935,x:13,y:11},{code:9874,x:13,y:4},{code:128736,x:3,y:11},{code:128481,x:5,y:10},{code:9876,x:13,y:5},{code:128299,x:9,y:8},{code:127993,x:5,y:1},{code:128737,x:4,y:11},{code:128295,x:6,y:8},{code:128297,x:8,y:8},{code:9881,x:13,y:8},{code:128476,x:2,y:10},{code:9878,x:13,y:6},{code:128279,x:4,y:8},{code:9939,x:13,y:12},{code:129520,x:4,y:12},{code:129522,x:5,y:12},{code:9879,x:13,y:7},{code:129514,x:12,y:11},{code:129515,x:0,y:12},{code:129516,x:1,y:12},{code:128300,x:10,y:8},{code:128301,x:11,y:8},{code:128225,x:2,y:5},{code:128137,x:6,y:1},{code:128138,x:7,y:1},{code:128682,x:8,y:10},{code:128719,x:1,y:11},{code:128715,x:0,y:11},{code:128701,x:10,y:10},{code:128703,x:11,y:10},{code:128705,x:12,y:10},{code:129524,x:6,y:12},{code:129527,x:7,y:12},{code:129529,x:8,y:12},{code:129530,x:9,y:12},{code:129531,x:10,y:12},{code:129532,x:11,y:12},{code:129533,x:12,y:12},{code:129519,x:3,y:12},{code:128722,x:2,y:11},{code:128684,x:9,y:10},{code:9904,x:13,y:9},{code:9905,x:13,y:10},{code:128511,x:7,y:10}],signs:[{code:128686,x:4,y:8},{code:128688,x:6,y:8},{code:9855,x:3,y:13},{code:128697,x:11,y:8},{code:128698,x:12,y:8},{code:128699,x:13,y:8},{code:128700,x:14,y:8},{code:128702,x:0,y:9},{code:128706,x:1,y:9},{code:128707,x:2,y:9},{code:128708,x:3,y:9},{code:128709,x:4,y:9},{code:127975,x:13,y:4},{code:9888,x:7,y:13},{code:128696,x:10,y:8},{code:9940,x:11,y:13},{code:128683,x:2,y:8},{code:128691,x:8,y:8},{code:128685,x:3,y:8},{code:128687,x:5,y:8},{code:128689,x:7,y:8},{code:128695,x:9,y:8},{code:128245,x:7,y:5},{code:128286,x:7,y:6},{code:9762,x:10,y:11},{code:9763,x:11,y:11},{code:11014,x:15,y:5},{code:8599,x:14,y:9},{code:10145,x:14,y:14},{code:8600,x:0,y:10},{code:11015,x:15,y:6},{code:8601,x:1,y:10},{code:11013,x:15,y:4},{code:8598,x:13,y:9},{code:8597,x:12,y:9},{code:8596,x:11,y:9},{code:8617,x:2,y:10},{code:8618,x:3,y:10},{code:10548,x:15,y:2},{code:10549,x:15,y:3},{code:128259,x:12,y:5},{code:128260,x:13,y:5},{code:128281,x:2,y:6},{code:128282,x:3,y:6},{code:128283,x:4,y:6},{code:128284,x:5,y:6},{code:128285,x:6,y:6},{code:128720,x:5,y:9},{code:9883,x:5,y:13},{code:128329,x:14,y:7},{code:10017,x:1,y:14},{code:9784,x:1,y:12},{code:9775,x:0,y:12},{code:10013,x:0,y:14},{code:9766,x:12,y:11},{code:9770,x:13,y:11},{code:9774,x:14,y:11},{code:128334,x:0,y:8},{code:128303,x:14,y:6},{code:9800,x:4,y:12},{code:9801,x:5,y:12},{code:9802,x:6,y:12},{code:9803,x:7,y:12},{code:9804,x:8,y:12},{code:9805,x:9,y:12},{code:9806,x:10,y:12},{code:9807,x:11,y:12},{code:9808,x:12,y:12},{code:9809,x:13,y:12},{code:9810,x:14,y:12},{code:9811,x:0,y:13},{code:9934,x:10,y:13},{code:128256,x:9,y:5},{code:128257,x:10,y:5},{code:128258,x:11,y:5},{code:9654,x:3,y:11},{code:9193,x:5,y:10},{code:9197,x:9,y:10},{code:9199,x:11,y:10},{code:9664,x:4,y:11},{code:9194,x:6,y:10},{code:9198,x:10,y:10},{code:128316,x:12,y:7},{code:9195,x:7,y:10},{code:128317,x:13,y:7},{code:9196,x:8,y:10},{code:9208,x:12,y:10},{code:9209,x:13,y:10},{code:9210,x:14,y:10},{code:9167,x:4,y:10},{code:127910,x:11,y:4},{code:128261,x:14,y:5},{code:128262,x:0,y:6},{code:128246,x:8,y:5},{code:128243,x:5,y:5},{code:128244,x:6,y:5},{code:9792,x:2,y:12},{code:9794,x:3,y:12},{code:10006,x:14,y:13},{code:10133,x:11,y:14},{code:10134,x:12,y:14},{code:10135,x:13,y:14},{code:9854,x:2,y:13},{code:8252,x:6,y:9},{code:8265,x:7,y:9},{code:10067,x:7,y:14},{code:10068,x:8,y:14},{code:10069,x:9,y:14},{code:10071,x:10,y:14},{code:12336,x:15,y:10},{code:128177,x:2,y:5},{code:128178,x:3,y:5},{code:9877,x:4,y:13},{code:9851,x:1,y:13},{code:9884,x:6,y:13},{code:128305,x:1,y:7},{code:128219,x:4,y:5},{code:128304,x:0,y:7},{code:11093,x:15,y:9},{code:9989,x:12,y:13},{code:9745,x:9,y:11},{code:10004,x:13,y:13},{code:10060,x:5,y:14},{code:10062,x:6,y:14},{code:10160,x:15,y:0},{code:10175,x:15,y:1},{code:12349,x:15,y:11},{code:10035,x:2,y:14},{code:10036,x:3,y:14},{code:10055,x:4,y:14},{code:169,x:12,y:0},{code:174,x:13,y:0},{code:8482,x:9,y:9},{code:128288,x:9,y:6},{code:128289,x:10,y:6},{code:128290,x:11,y:6},{code:128291,x:12,y:6},{code:128292,x:13,y:6},{code:127344,x:14,y:0},{code:127374,x:3,y:1},{code:127345,x:0,y:1},{code:127377,x:4,y:1},{code:127378,x:5,y:1},{code:127379,x:6,y:1},{code:8505,x:10,y:9},{code:127380,x:7,y:1},{code:9410,x:0,y:11},{code:127381,x:8,y:1},{code:127382,x:9,y:1},{code:127358,x:1,y:1},{code:127383,x:10,y:1},{code:127359,x:2,y:1},{code:127384,x:11,y:1},{code:127385,x:12,y:1},{code:127386,x:13,y:1},{code:127489,x:10,y:3},{code:127490,x:11,y:3},{code:127543,x:4,y:4},{code:127542,x:3,y:4},{code:127535,x:13,y:3},{code:127568,x:8,y:4},{code:127545,x:6,y:4},{code:127514,x:12,y:3},{code:127538,x:14,y:3},{code:127569,x:9,y:4},{code:127544,x:5,y:4},{code:127540,x:1,y:4},{code:127539,x:0,y:4},{code:12951,x:15,y:12},{code:12953,x:15,y:13},{code:127546,x:7,y:4},{code:127541,x:2,y:4},{code:128308,x:4,y:7},{code:128309,x:5,y:7},{code:9899,x:9,y:13},{code:9898,x:8,y:13},{code:11036,x:15,y:8},{code:9724,x:6,y:11},{code:9723,x:5,y:11},{code:9726,x:8,y:11},{code:9725,x:7,y:11},{code:9642,x:1,y:11},{code:9643,x:2,y:11},{code:128310,x:6,y:7},{code:128311,x:7,y:7},{code:128312,x:8,y:7},{code:128313,x:9,y:7},{code:128314,x:10,y:7},{code:128315,x:11,y:7},{code:128160,x:1,y:5},{code:128280,x:1,y:6},{code:128307,x:3,y:7},{code:128306,x:2,y:7},{code:127937,x:12,y:4},{code:128681,x:1,y:8},{code:127884,x:10,y:4},{code:127988,x:0,y:5},{code:127987,x:14,y:4},{code:127462,x:14,y:1},{code:127463,x:0,y:2},{code:127464,x:1,y:2},{code:127465,x:2,y:2},{code:127466,x:3,y:2},{code:127467,x:4,y:2},{code:127468,x:5,y:2},{code:127469,x:6,y:2},{code:127470,x:7,y:2},{code:127471,x:8,y:2},{code:127472,x:9,y:2},{code:127473,x:10,y:2},{code:127474,x:11,y:2},{code:127475,x:12,y:2},{code:127476,x:13,y:2},{code:127477,x:14,y:2},{code:127478,x:0,y:3},{code:127479,x:1,y:3},{code:127480,x:2,y:3},{code:127481,x:3,y:3},{code:127482,x:4,y:3},{code:127483,x:5,y:3},{code:127484,x:6,y:3},{code:127485,x:7,y:3},{code:127486,x:8,y:3},{code:127487,x:9,y:3}]},s=function(e){if(65536>e)return i(e);var t=e-65536;return i(55296+(t>>10))+i(56320+(1023&t))},o={},d={};for(var r in n)t.each(n[r],function(e){var t=s(e.code);o[t]=e,d[r]||(d[r]=[]),d[r].push(t)});var c=/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/g;return a.emojify=function(e){e||(e={});var t=e.sprite,a=t?e.tag_name||"span":"img",i=e.emoji_size||20,n=e.href?` href="#${e.href}" `:"",s=e.title?` title="${e.title}" `:"";return this.replace(c,function(e){let d=o[e],r=d&&(+d.code).toString(16);if(d){4>r.length&&(r="0".repeat(4-r.length)+r);let o="img"===a?t?" src=\"images/emoji/blank.gif\"":"  src=\"images/emoji/svg32/emoji_u"+r+".svg\"":"";return"<"+a+o+n+s+" class=\"emoji emoji-w"+i+(t?" sprite-"+t+"\" style=\"background-position: -"+i*d.x+"px -"+i*d.y+"px;\" ":"\" ")+"alt=\""+e+"\" data-emoji=\""+e+"\"/>"}return e})},a.removeEmoji=function(){return this.replace(c,function(e){var t=o[e];return t?"":e})},a.replaceEmoji=function(){return this.replace(c,function(e){var t=o[e];return t?" ":e})},e.fn.emojify=function(t,a){return this.find(t).each(function(){var t=e(this).html();e(this).html(t.emojify(a))}),this},{all:d,get:s,getByIndex:function(e){var t;for(var a in n)if(n[a][e]){t=n[a][e];break}return s(t.code)}}}),define("xabber-image-utils",["xabber-dependencies"],function(e){var t=Math.floor,a=e._,i=e.$,n=e.SHA1.b64_sha1,s={},o=["#1abc9c","#16a085","#f1c40f","#f39c12","#2ecc71","#27ae60","#e67e22","#d35400","#3498db","#2980b9","#e74c3c","#c0392b","#9b59b6","#8e44ad","#bdc3c7","#34495e","#2c3e50","#95a5a6","#7f8c8d","#ec87bf","#d870ad","#f69785","#9ba37e","#b49255","#a94136"],d=function(e,t,a){t=t||"",a=a||512;for(var n=atob(e),s=[],o=0;o<n.length;o+=a){for(var d=n.slice(o,o+a),r=Array(d.length),c=0;c<d.length;c++)r[c]=d.charCodeAt(c);var l=new Uint8Array(r);s.push(l)}var p=new Blob(s,{type:t});return p},r=function(e){return this.url=window.URL.createObjectURL(d(e)),s[e]=this,this},c=function(e){if(e instanceof r)return e;if(e&&(a.isString(e)&&0==e.indexOf("http")||a.isObject(e)&&e.url&&0==e.url.indexOf("http"))){if(a.isString(e))return{url:e};if(a.isObject(e))return e}return s[e]||new r(e)},l=function(e){var a=e?e.trim():"",i=t(n(a).charCodeAt(0)%o.length);return o[i]},p=function(e,t){return e.width>e.height?e.width>t&&(e.height*=t/e.width,e.width=t):e.height>t&&(e.width*=t/e.height,e.height=t),e},m=function(e,t){var a=i(e),n={backgroundImage:"url(\""+t.url+"\")",backgroundSize:"cover",backgroundColor:"#FFF"};a.css(n)};return i.fn.setAvatar=function(e,t){var a=c(e);m(this,a,t)},{getCachedImage:c,getBlobImage:d,getDefaultAvatar:function(e,t,a,i,n){var s=document.createElement("canvas"),o=s.getContext("2d"),d=e?e.trim():"",r=d.split(" ",2),c,p,m,u;c=r[0],p=1<r.length?r[1]:"",m=c[0]||"",u=p?p[0]:1<c.length?c[1]:"",s.width=i||256,s.height=n||256,o.rect(0,0,i||256,n||256),o.fillStyle=t||l(e),o.fill(),o.font=a||"bold 100px sans-serif",o.fillStyle="#FFF",o.textAlign="center",a?(o.textBaseline="ideographic",o.fillText(d,i/2||128,n/2+.28*n||160)):o.fillText(m.toUpperCase()+u.toUpperCase(),128,160);var g=s.toDataURL().replace(/^data:image\/(png|gif|jpg|webp|jpeg);base64,/,"");return g},getAvatarFromFile:function(e){var t=new Image,a=window.URL.createObjectURL(e),n=new i.Deferred;return t.onload=function(){t.onload=null;var i=document.createElement("canvas"),s=i.getContext("2d"),o=t.naturalWidth,d=t.naturalHeight,r=p({width:o,height:d},200),c,l;i.width=r.width,i.height=r.height,s.drawImage(t,0,0,i.width,i.height),c=i.toDataURL().replace(/^data:image\/(png|gif|jpg|webp|jpeg);base64,/,""),window.URL.revokeObjectURL(a),i.toBlob(e=>{var t=new FileReader;t.onload=function(){c=t.result.replace(/^data:image\/(png|gif|jpg|webp|jpeg);base64,/,"");let e=atob(c),a=new Uint8Array(e.length);for(let t=0;t<e.length;t++)a[t]=e.charCodeAt(t);l=sha1(a),n.resolve(c,l,e.length)}.bind(this),t.readAsDataURL(e)},e.type,.8)},t.onerror=function(){t.onerror=null,window.URL.revokeObjectURL(a),n.resolve(!1,!1,!1)},t.src=a,n.promise()},getDefaultColor:l,getCachedBackground:function(e){return 0==e.indexOf("http")?e:c(e.replace(/^data:image\/(png|gif|jpg|webp|jpeg);base64,/,"")).url},compressImage:function(e){var t=new Image,a=window.URL.createObjectURL(e),n=new i.Deferred;return t.onload=function(){t.onload=null;var i=document.createElement("canvas"),s=i.getContext("2d"),o=t.naturalWidth,d=t.naturalHeight,r=e.type,c=e.name,l=p({width:o,height:d},1280);"image/svg+xml"===e.type&&(e.width=o,e.height=d,n.resolve(e)),i.width=l.width,i.height=l.height,s.drawImage(t,0,0,l.width,l.height),i.toBlob(e=>{const t=new File([e],c,{type:r,lastModified:Date.now()});n.resolve(t)},r,.8),window.URL.revokeObjectURL(a)},t.onerror=function(){t.onerror=null,window.URL.revokeObjectURL(a),n.resolve(!1)},t.src=a,n.promise()}}}),define("xabber-modal-utils",["xabber-dependencies","xabber-templates"],function(e,t){var a=e._,i=e.$,n=i("<div>").attr("id","modals").appendTo("body"),s=[],o=function(e,t){this.$modal=e instanceof Function?i(e()):i(e),this.options=t||{},this.closed=new i.Deferred};let d=function(t,a){return e.xabber_i18next.exists(t)?e.xabber_i18next.t(t,{postProcess:"sprintf",sprintf:a}).replace(/\\'/g,"'").replace(/%+\d+[$]/g,"%").replace(/\\n/g,"&#10;"):e.xabber_i18next.default_lang?e.xabber_i18next.default_lang(t,{postProcess:"sprintf",sprintf:a}).replace(/\\'/g,"'").replace(/%+\d+[$]/g,"%").replace(/\\n/g,"&#10;"):""};return a.extend(o.prototype,{open:function(){return this.options.use_queue?(s.push(this),1===s.length&&this.throw()):this.throw(),setTimeout(()=>{document.addEventListener("keyup",this.clickHandler.bind(this))},500),this.closed.promise()},throw:function(){this.$modal.appendTo(n).prop("modal",this);var e=a.omit(this.options,["use_queue"]);a.extend(e,{is_default_complete:!0,complete_data:null}),this.options.use_queue&&this.$modal.one("modal_close",function(e,t){this.$modal.detach(),this.closed.resolve(t.value),s.shift(),s.length&&s[0].throw()}.bind(this)),this.$modal._openModal(e)},close:function(e){var t=a.omit(e,["use_queue","is_default_complete","complete_data"]);a.extend(t,{complete:function(){if(this.options.use_queue){var t=a.isUndefined(e.complete_data)?null:e.complete_data;this.complete(t)}e.is_default_complete?"function"==typeof this.options.complete&&this.options.complete():(this.options.use_queue&&this.complete(),"function"==typeof e.complete&&e.complete())}.bind(this)}),this.$modal.prop("modal",null),this.$modal._closeModal(t)},complete:function(e){document.removeEventListener("keyup",this.clickHandler),this.$modal.trigger("modal_close",{value:e})},clickHandler:function(e){13===e.keyCode&&(this.$modal.find(".modal-footer button.ok-button").click(),e.preventDefault())}}),i.fn._openModal=i.fn.openModal,i.fn.openModal=function(e){var t=new o(this,e);return t.open()},i.fn._closeModal=i.fn.closeModal,i.fn.closeModal=function(e){var t=this.prop("modal");t?t.close(e):this._closeModal(e)},{Modal:o,clear_queue:function(){s=[]},dialogs:{common:function(e,n,s,r,c){var l=new o(function(){s||(s={}),r||(r=[]);var a=s.ok_button,i=s.cancel_button,o=(s.optional_buttons||[]).reverse();return a&&(a={text:a.text||d("ok")}),i&&(i={text:i.text||d("cancel")}),t.base.dialog({header:e,text:n,ok_button:a,cancel_button:i,optional_buttons:o,dialog_options:r,flag:c||""})},{use_queue:!0});return r.modal_class&&l.$modal.addClass(r.modal_class),r.inverted_buttons&&(l.$modal.find(".dialog-options-wrap").html(""),l.$modal.find(".cancel-button").removeClass("btn-dark"),l.$modal.find(".ok-button").addClass("btn-dark"),l.$modal.find(".modal-footer").addClass("inverted-buttons")),r.img_details&&(l.$modal.find(".modal-content").append("<div class=\"modal-images-details\"/>").append("<div class=\"modal-images-details-btn btn-flat btn-dark btn-main\"/>"),l.$modal.find(".modal-images-details-btn").text(xabber.getString("details")),l.$modal.find(".modal-images-details").append("<div class=\"image-details-container hidden\"/>"),l.$modal.find(".image-details-container").html(r.img_details),l.$modal.find(".modal-images-details-btn").click(function(){l.$modal.find(".image-details-container").switchClass("hidden",!l.$modal.find(".image-details-container").hasClass("hidden"))})),r.blob_image_from_clipboard&&(l.$modal.find(".dialog-options-wrap").html(""),l.$modal.find(".img-from-clipboard")[0].src=r.blob_image_from_clipboard,l.$modal.find(".container-for-img").removeClass("hidden")),r.canvas&&(l.$modal.find(".dialog-options-wrap").html(""),l.$modal.find(".container-for-img").html("").removeClass("hidden")[0].appendChild(r.canvas),r.bottom_text&&i("<div class=\"dialog-bottom-text\"/>").html(r.bottom_text).appendTo(l.$modal.find(".container-for-img"))),r.escape_button&&l.$modal.find(".modal-header").append("<i class=\"close-modal mdi mdi-close mdi-24px\"></i>"),(r.input_placeholder_value||r.input_value)&&l.$modal.find(".dialog-options-wrap").html(i("<input type=\"text\" placeholder=\""+r.input_placeholder_value+"\" id=\"user_value\"/>").val(r.input_value)),l.$modal.find(".modal-footer button").click(function(e){var t=i(e.target).data("option"),n=l.$modal.find(".dialog-option"),s=l.$modal.find("#user_value");if(t&&n.length){var o={};a.each(n,function(e){var t=i(e);o[t.data("name")]=t.find("input").prop("checked")}),l.close({complete_data:o})}else if(!s.length)l.close({complete_data:t});else if(i(e.target).hasClass("btn-cancel"))l.close({complete_data:!1});else if(i(e.target).hasClass("optional-button"))l.close({complete_data:t});else{var d=s.val();l.close({complete_data:d})}}),l.$modal.find(".modal-header .close-modal").click(function(){l.close({complete_data:!1})}),l.open()},warning:function(e,t){return this.common(d("warning"),e,{ok_button:!0},t)},error:function(e,t){return this.common(d("xabber_account__login__dialog_error__header"),e,{ok_button:!0},t)},ask:function(e,t,a,i,n){var s,o;return i&&(s=i.ok_button_text,o=i.cancel_button_text),this.common(e,t,{ok_button:{text:s},cancel_button:{text:o}},a,n)},ask_extended:function(e,t,a,i){var n,s;return i&&(n=i.ok_button_text,s=!!i.optional_button&&[{value:i.optional_button,name:i.optional_button_text}]),this.common(e,t,{ok_button:{text:n},cancel_button:!0,optional_buttons:s},a,"extended")},ask_enter_value:function(e,t,a,i){var n,s;return i&&(n=i.ok_button_text,s=!!i.resend_button_text&&[{value:i.resend_to,name:i.resend_button_text}]),this.common(e,t,{ok_button:{text:n},optional_buttons:s,cancel_button:!0},a)},notify:function(e,t){return this.common(e,t,{ok_button:!0})}}}}),define("xabber-textarea-utils",["xabber-dependencies"],function(e){var t=e._,a=e.$;return a.fn.placeCaretAtEnd=function(){if(!this.length)return this;var e=this[0];if(e.focus(),!t.isUndefined(window.getSelection)&&!t.isUndefined(document.createRange)){var a=document.createRange();a.selectNodeContents(e),a.collapse(!1);var i=window.getSelection();i.removeAllRanges(),i.addRange(a)}else if(!t.isUndefined(document.body.createTextRange)){var n=document.body.createTextRange();n.moveToElementText(e),n.collapse(!1),n.select()}return this},a.fn.updateRichTextarea=function(){var e=this.getTextFromRichTextarea();return e||this.html(""),this},a.fn.flushRichTextarea=function(){return this.html(""),this},a.fn.pasteHtmlAtCaret=function(e){var t,a;if(this[0].focus(),!window.getSelection)document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(e);else if(t=window.getSelection(),t.getRangeAt&&t.rangeCount){a=t.getRangeAt(0),a.deleteContents();var i=document.createElement("div");i.innerHTML=e;for(var n=document.createDocumentFragment(),s,o;s=i.firstChild;)o=n.appendChild(s);a.insertNode(n),o&&(a=a.cloneRange(),a.setStartAfter(o),a.collapse(!0),t.removeAllRanges(),t.addRange(a))}return this},a.fn.getTextFromRichTextarea=function(){var e=a("<div>").html(this.html());return e.find(".emoji").each(function(){a(this).replaceWith(a(this).data("emoji"))}),e.find("p").each(function(){a(this).replaceWith(a(this).html()+"\n")}),e.find("span").each(function(){a(this).replaceWith(a(this).html())}),e.find("div").each(function(){var e=a(this);e.find("br").remove();var t=e.html();e.hasClass("emoji")?e.replaceWith(t):e.replaceWith("\n"+t)}),e.text()},null}),define("xabber-utils",["xabber-dependencies","xabber-emoji-utils","xabber-image-utils","xabber-modal-utils","xabber-constants","xabber-textarea-utils"],function(e,t,a,i,n){var s=Math.trunc,o=e.$,d=e._,r=e.moment;o.fn.switchClass=function(e,t){return 1===arguments.length&&(t=!this.hasClass(e)),t?this.addClass(e):this.removeClass(e),this},o.fn.showIf=function(e){return this.switchClass("hidden",!e)},o.fn.hideIf=function(e){return this.switchClass("hidden",e)};var c=function(t){var a=0===t.indexOf("http://")||0===t.indexOf("https://")?"":"http://",i="";try{i=encodeURI(decodeURI(t)).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")}catch(a){i=t}try{t=decodeURI(t)}catch(t){}return"<a target='_blank' class='msg-hyperlink' href='"+a+i+"'>"+t+"</a>"};o.fn.hyperlinkify=function(e){e||(e={});var t=e.selector?this.find(e.selector):this;return t.each(function(t,a){var n=o(a),s="";n[0].childNodes.forEach(function(a){let i=o(a),n=a.outerHTML;if("A"===a.tagName)return void(s+=n);else{"#text"===a.nodeName&&(n=d.escape(i.text()));let o=n&&n.match(/(((ftp|http|https):\/\/)|(www\.))(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/g);if(!o)return void(s+=n);if(1===o.length&&o[0]===n)s+=e.decode_uri?decodeURI(n):c(n);else{for(t=0;t<o.length;t++)n=n.replace(o[t],e.decode_uri?decodeURI(o[t]):c(o[t]));s+=n}}}.bind(this)),n.html(s)}),this};var l={uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),a="x"==e?t:8|3&t;return a.toString(16)})},utoa:function(e){return window.btoa(d.unescape(encodeURIComponent(e)))},atou:function(e){return decodeURIComponent(d.escape(window.atob(e)))},now:function(){return Math.floor(r.now()/1e3)},pretty_time:function(e){var t=e?r(e):r();return t.format("HH:mm:ss")},pretty_date:function(e,t){var a=e?r(e):r();return a.format(t||"dddd, MMMM D, YYYY")},pretty_datetime:function(e,t){var a=e?r(e):r();return a.format(t||"MMMM D, YYYY HH:mm:ss")},pretty_short_datetime_recent_chat:function(e){return e=+(e?r(e):r()),r(e).startOf("day").isSame(r().startOf("day"))||+(r().subtract(12,"hours")<e)?r(e).format("HH:mm:ss"):+r().subtract(12,"hours")>e&&+r().subtract(7,"days")<=e?r(e).format("ddd"):+r().subtract(7,"days")>e&&+r().subtract(1,"year")<=e?r(e).format("MMM D"):e&&+r().subtract(1,"year")>e?r(e).format("D MMM YYYY"):void 0},pretty_short_datetime:function(e){var t=e?r(e):r(),a=r(t).startOf("day"),i=r(t).startOf("year");return a.isSame(r().startOf("day"))?t.format("HH:mm:ss"):i.isSame(r().startOf("year"))?t.format("MMM D"):t.format("DD/MM/gg")},pretty_short_month_date:function(e){var t=e?r(e):r(),a=r(t).startOf("day");return a.isSame(r().startOf("day"))?t.format("HH:mm:ss"):t.format("MMM D, YYYY HH:mm:ss")},isImageType:function(e){return!!(-1<e.indexOf("image"))},isVideoType:function(e){return!!(-1<e.indexOf("video"))},file_type_icon:function(e){let t=l.pretty_file_type(e);return"image"===t?"mdi-image":"audio"===t?"mdi-music-note":"video"===t?"mdi-filmstrip":"document"===t?"mdi-file-document-box":"presentation"===t?"mdi-presentation":"archive"===t?"mdi-zip-box":"file"===t?"mdi-file":"pdf"===t?"mdi-file-pdf":"mdi-file"},pretty_file_type:function(e){return n.MIME_TYPES.image.includes(e)?"image":n.MIME_TYPES.audio.includes(e)?"audio":n.MIME_TYPES.video.includes(e)?"video":n.MIME_TYPES.document.includes(e)?"document":n.MIME_TYPES.pdf.includes(e)?"pdf":n.MIME_TYPES.presentation.includes(e)?"presentation":n.MIME_TYPES.archive.includes(e)?"archive":n.MIME_TYPES.table.includes(e)?"electronic table":"file"},pretty_file_type_with_article:function(e){let t=l.pretty_file_type(e);return"pdf"===t&&(t="document"),["a","e","i","o","u"].includes(t[0])?"an "+t:"a "+t},pretty_size:function(e){return e?d.isNaN(+e)?e:1024>e?e+" B":1048576>e?(e/1024).toFixed(2)+" KiB":1073741824>e?(e/1048576).toFixed(2)+" MiB":(e/1073741824).toFixed(2)+" GiB":""},pretty_duration:function(e){return d.isNaN(+e)?e:d.isUndefined(e)||""===e?"":10>e?"0:0"+e:60>e?"0:"+e:60<=e?s(e/60)+":"+(10>e%60?"0"+e%60:e%60):void 0},pretty_name:function(e){return e?e[0].toUpperCase()+e.replace(/-/," ").substr(1).toLowerCase():""},getKeyByValue:function(e,t){return Object.keys(e).find(a=>e[a]===t)},slice_string:function(e,t,a){return a=d.isNumber(a)?a:[...e].length,e.length===[...e].length?e.slice(t,a):Array.from(e).slice(t,a).join("")},slice_pretty_body:function(t,a){if(!a||!a.length)return t;t=t||"",a=a.filter(e=>"groupchat"===e.type||"forward"===e.type);let i=Array.from(e.Strophe.xmlescape(t));return a&&a.forEach(function(e){for(let t=e.start;t<e.end;t++)i[t]=""}.bind(this)),e.Strophe.xmlunescape(i.join("").trim())},markupBodyMessage:function(t,a){let i=d.clone(t.attributes),s=i.mentions||[],o=i.markups||[],r=i.mutable_content||[],c=i.blockquotes||[],l=Array.from(e.Strophe.xmlescape(i.original_message||i.message||""));return a||(a="span"),r.forEach(function(e){for(let t=e.start;t<e.end;t++)l[t]=""}.bind(this)),s.forEach(function(e){let t=e.start,i=e.end>l.length-1?l.length-1:e.end-1,n=e.target;if(!(t>l.length-1)){if(e.is_gc){let t=n.match(/\?id=\w*/),a=n.match(/\?jid=.*/);t?n=t[0].slice(4):a?n=a[0].slice(5):(n="",e.me=!0)}else n=n.slice(5);return"mention"===a?(l[t]="<"+a+" data-target=\"?jid="+n+"\">"+l[t],void(l[i]+="</"+a+">")):void(l[t]="<"+a+" data-target=\""+n+"\" class=\"mention"+(e.me?" ground-color-100":"")+"\">"+l[t],l[i]+="</"+a+">")}}.bind(this)),o.forEach(function(e){let t=e.start,a=e.end>l.length-1?l.length-1:e.end-1;if(!(t>l.length-1)&&e.markup.length){let i="",n="";e.markup.forEach(function(e){"object"==typeof e?(i="<a target=\"_blank\" class=\"msg-hyperlink\" href=\""+e.uri+"\">"+i,n+="</a>"):(i="<"+e[0].toLowerCase()+">"+i,n+="</"+e[0].toLowerCase()+">")}.bind(this)),l[t]=i+l[t],l[a]+=n}}.bind(this)),c.forEach(function(e){let t=e.end>l.length-1?l.length-1:e.end-1;for(let a=e.start;a<e.start+n.QUOTE_MARKER.length;a++)l[a]=a===t?"<br>":"";for(let a=e.start;a<t;a++)if("\n"===l[a]){for(let e=a+1;e<=a+n.QUOTE_MARKER.length;e++)l[e]="";a+=n.QUOTE_MARKER.length-1}return"mention"===a?(l[e.start]="<blockquote>",void(l[t]+="</blockquote>")):void(l[e.start]="<div class=\"quote\">",l[t]+="</div>")}.bind(this)),l.join("").trim()},getOS:function(){let e=window.navigator.platform,t=null;return-1===["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(e)?-1===["Win32","Win64","Windows","WinCE"].indexOf(e)?!t&&/Linux/.test(e)&&(t="Linux"):t="Windows":t="Mac OS",t},render_data_form:function(e){let t=o("<div class=\"data-form\"/>");return e.fields.forEach(function(e){if("hidden"!==e.type){if("fixed"===e.type){let a=o("<div class=\"data-form-field fixed-field\"/>");e.label&&a.append(o("<div class=\"label\"/>").text(e.label)),e.values.forEach(function(e){let t=o("<div class=\"value\"/>").text(e);a.append(t)}.bind(this)),t.append(a)}if("boolean"===e.type){let a=o(`<button id=${e.var} class="data-form-field ground-color-100 btn-dark btn-flat btn-main boolean-field"/>`).text(e.label);t.append(a)}}}.bind(this)),t},copyTextToClipboard:function(e,t,a){window.navigator.clipboard&&window.navigator.clipboard.writeText(e).then(function(){if(t){this.callback_popup_message(t,1500)}}.bind(this),function(){if(a){this.callback_popup_message(a,1500)}}.bind(this))},callback_popup_message:function(e,t){let a=o(document.body),i=o("<div class=\"callback-popup-message\"/>").text(e);t=t||3e3,a.find(".callback-popup-message").remove(),a.append(i),setTimeout(function(){i.remove()},t)},emoji_size:function(e){let t;switch(e){case 1:t=56;break;case 2:t=44;break;case 3:t=32;break;case 4:t=24;break;case 5:t=22;break;default:t=20;}return t},openWindow:function(e,t){let a=window.open(e,"_blank");a?a.focus():t&&t()},clearSelection:function(){var e=window.getSelection();e.empty?e.empty():e.removeAllRanges&&e.removeAllRanges()},getCookie:function(e){let t=window.document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},isMobile:{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}},fromBase64toArrayBuffer:function(e){return Uint8Array.from(atob(e),e=>e.charCodeAt(0)).buffer},ArrayBuffertoBase64:function(e){return btoa(String.fromCharCode(...new Uint8Array(e)))},generateHOTPKey:async function(e,t){let a=window.crypto.subtle,i=this.padCounter(t),n=await a.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-1"}},!1,["sign"]),s=await a.sign("HMAC",n,i);return s},padCounter:function(e){let t=new ArrayBuffer(8),a=new DataView(t),i="0".repeat(64),n=(i+e.toString(2)).slice(-64);for(let t=0,i;64>t;t+=8)i=parseInt(n.slice(t,t+8),2),a.setUint8(t/8,i);return t},DT:function(e){let t=15&e[19],a=(127&e[t])<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],i=a.toString(2);return i},truncate:function(e){let t=this.DT(e),a=parseInt(t,2);return a},generateHOTP:async function(e,t){let a=await this.generateHOTPKey(e,t),i=new Uint8Array(a),n=this.truncate(i),s=("000000"+n%100000000).slice(-8);return s},hmacSha256:async function(e,t){let a=await crypto.subtle.sign({name:"HMAC",hash:"SHA-256"}.name,e,t);return a},stringToArrayBuffer:function(e){let{length:t}=e,a=new Uint8Array(t);for(let n=0;n<t;n++)a[n]=e.charCodeAt(n);return a},AES:{ALGO_NAME:"AES-GCM",decoder:new window.TextDecoder("utf-8"),encoder:new window.TextEncoder("utf-8"),decrypt:async function(e,t,a){let i=await window.crypto.subtle.importKey("raw",e,{name:"HKDF"},!1,["deriveKey","deriveBits"]),n={name:"HKDF",salt:new Uint8Array(32),info:l.stringToArrayBuffer("OMEMO Payload"),hash:"SHA-256"},s=await window.crypto.subtle.deriveBits(n,i,640);s=new Uint8Array(s);let o=s.slice(0,32),d=s.slice(32,64),r=s.slice(64);d=await crypto.subtle.importKey("raw",d,{name:"HMAC",hash:"SHA-256"},!1,["sign","verify"]);let c=await l.hmacSha256(d,a);if(c=c.slice(0,c.byteLength-16),l.ArrayBuffertoBase64(t)===l.ArrayBuffertoBase64(c)){o=await window.crypto.subtle.importKey("raw",o,{name:"AES-CBC"},!0,["decrypt"]);let e=await window.crypto.subtle.decrypt({name:"AES-CBC",iv:r},o,a);return l.AES.decoder.decode(e)}},encrypt:async function(e){let t=window.crypto.getRandomValues(new Uint8Array(32)),a=await window.crypto.subtle.importKey("raw",t,{name:"HKDF"},!1,["deriveKey","deriveBits"]),i={name:"HKDF",salt:new Uint8Array(32),info:l.stringToArrayBuffer("OMEMO Payload"),hash:"SHA-256"},n=await window.crypto.subtle.deriveBits(i,a,640);n=new Uint8Array(n);let s=n.slice(0,32),o=n.slice(32,64),d=n.slice(64);s=await window.crypto.subtle.importKey("raw",s,{name:"AES-CBC"},!0,["encrypt"]);let r=await l.AES.generateAESencryptedMessage(d,s,e);o=await crypto.subtle.importKey("raw",o,{name:"HMAC",hash:"SHA-256"},!1,["sign","verify"]);let c=await l.hmacSha256(o,r);c=c.slice(0,c.byteLength-16);let p=new Uint8Array([...t,...new Uint8Array(c)]);return{keydata:p.buffer,payload:r}},generateAESencryptedMessage:async function(e,t,a){let i=l.AES.encoder.encode(a),n=await window.crypto.subtle.encrypt({name:"AES-CBC",iv:e},t,i);return n},arrayBufferConcat:function(){let e=0,t=null;for(let a in arguments)t=arguments[a],e+=t.byteLength;let a=new Uint8Array(e),n=0;for(let e in arguments)t=arguments[e],a.set(new Uint8Array(t),n),n+=t.byteLength;return a.buffer},generateAESKey:async function(){let e={name:l.AES.ALGO_NAME,length:n.AES_KEY_LENGTH},t=await window.crypto.subtle.generateKey(e,n.AES_EXTRACTABLE,["encrypt","decrypt"]);return t}},getBrowser:function(){let e=navigator.userAgent,t=-1<e.indexOf("Chrome"),a=-1<e.indexOf("MSIE")||-1<e.indexOf("Windows NT:"),i=-1<e.indexOf("Firefox"),n=-1<e.indexOf("Safari");t&&n&&(n=!1);let s=-1<e.indexOf("OP");return t&&s&&(t=!1),n?"Safari":t?"Chrome":a?"IE":s?"Opera":i?"Firefox":"Unknown browser"},emoji:t,images:a,modals:i,dialogs:i.dialogs};return l});let client_translation_progress={en:100,ar:28,az:2,be:13,bg:57,bs:0,ca:25,cs:99,cy:0,da:0,de:50,el:29,"es-ES":34,"es-latin":7,et:0,fa:4,fi:9,fil:14,fr:36,"ga-IE":0,he:21,hi:0,hr:0,hu:15,"hy-AM":8,id:68,is:0,it:73,ja:20,ka:0,kmr:0,ko:1,ku:2,ky:5,"la-LA":0,lb:0,lt:4,me:0,mk:0,mn:0,mr:0,ms:6,nb:21,"ne-NP":0,nl:20,no:0,oc:13,"pa-IN":0,pl:67,"pt-BR":71,"pt-PT":15,"qya-AA":0,ro:16,ru:70,sat:1,sco:0,"si-LK":38,sk:20,sl:28,sq:3,sr:13,"sr-Cyrl-ME":0,"sv-SE":38,sw:1,ta:1,te:0,tg:0,tk:0,"tlh-AA":0,tr:67,uk:28,uz:0,vi:13,yo:0,"zh-CN":38,"zh-TW":11,zu:0};"function"==typeof define&&define("xabber-translations-info",[],()=>client_translation_progress),define("xabber-version",[],function(){return JSON.parse("{\"version_number\":\"2.3.2.78\",\"version_description\":\"added video files player in chat\"}")}),define("xabber-environment",["xabber-dependencies","xabber-constants","xabber-templates","xabber-utils","xabber-translations-info","xabber-version"],function(e,t,a,i,n,s){return _.extend({constants:t,templates:a,client_translation_progress:n,utils:i,uuid:i.uuid},s,e)}),function(e,t){define("xabber-core",["xabber-environment"],function(e){return t(e)})}(this,function(e){var t=Math.trunc,a=String.prototype;let i=e.constants,n=e._,s=e.$,o=e.xabber_i18next,d=e.xabber_i18next_sprintf,r=e.uuid,c=e.utils,l=new BroadcastChannel("xabber-web");l.onmessage=e=>{`1`!==e.data||l.disabled_client||l.postMessage(`2`),`2`===e.data&&(l.disabled_client=!0)},l.postMessage(`1`);let p=Backbone.Model.extend({defaults:{version_number:e.version_number,actual_version_number:e.version_number,audio:!1,video:!1,client_id:r().substring(0,8),client_name:"Xabber for Web"},initialize:function(){this.env=e,this.fetchURLParams(),this.cleanUpStorage(),this.initDefaultLanguage(),this.detectMediaDevices(),window.navigator.mediaDevices&&(window.navigator.mediaDevices.ondevicechange=this.detectMediaDevices.bind(this)),this._settings=new this.Settings({id:"settings"},{storage_name:this.getStorageName(),fetch:"before"}),this.settings=this._settings.attributes;let t=window.location.host+window.location.pathname.replace(/\//g,"-");"-"==t[t.length-1]&&t.slice(0,t.length-1),this._cache=new Backbone.ModelWithStorage({id:`cache-${t}`},{storage_name:this.getStorageName(),fetch:"before"}),this.cache=this._cache.attributes,this.cache.client_id&&this.set("client_id",this.cache.client_id),this._cache.save("client_id",this.get("client_id")),this.cacheFavicons(),this.extendFunction(),this.check_config=new s.Deferred,this.on("change:actual_version_number",this.throwNewVersion,this),this.on("quit",this.onQuit,this),this._version_interval=setInterval(this.readActualVersion.bind(this),6e5)},initDefaultLanguage:function(){let e=window.navigator.language,t=Object.keys(client_translation_progress).find(t=>!e.indexOf(t))||i.languages_another_locales[e]&&Object.keys(client_translation_progress).find(t=>!i.languages_another_locales[e].indexOf(t));100!=t&&(e="en"),this.set("default_language",e)},loadTranslations:async function(e){return new Promise(t=>{let a={};return a.lang=e,a.lang||(a.lang=this.settings.language),"default"==a.lang&&this.default_translation?(a.lang=this.get("default_language"),a.translation=this.default_translation,void t(a)):void require([`./translations/${a.lang.replace(/-/g,"-r")}.js`],e=>{a.translation=e,t(a)},()=>{t(a)})})},setLocale:function(t,a){let i=this.get("default_language"),n={[i]:{translation:this.default_translation}};t&&(n[t]={translation:a}),o.use(d),o.init({lng:i,debug:!1,pluralSeparator:"-",resources:n}),t&&(o.changeLanguage(t),e.moment.locale(t)),o.default_lang=o.getFixedT(i)},getOneLiners:function(){return o.exists("motivating_oneliner")?o.t("motivating_oneliner").replace(/\\'/g,"'").split("\n"):o.default_lang?o.default_lang("motivating_oneliner").replace(/\\'/g,"'").split("\n"):[]},getString:function(e,t){return o.exists(e)?o.t(e,{postProcess:"sprintf",sprintf:t}).replace(/\\'/g,"'").replace(/%+\d+[$]/g,"%").replace(/\\n/g,"&#10;"):o.default_lang?o.default_lang(e,{postProcess:"sprintf",sprintf:t}).replace(/\\'/g,"'").replace(/%+\d+[$]/g,"%").replace(/\\n/g,"&#10;"):""},getQuantityString:function(e,t,a){let i=o.language,n=o.services.pluralResolver.getRule(i);if(!n)return this.getString(`${e}_plural_0`,a||[t]);let s=parseInt(t,10);o.services.pluralResolver.options.compatibilityJSON="v0";let d=o.services.pluralResolver.getSuffix(i,s);return d=d.replace(/-/g,"_"),"en"!=o.language&&o.exists(`${e}_plural${d}`)||(d=o.services.pluralResolver.getSuffix("en",s),d=d&&(!d||d.length)?"_1":"_0"),this.getString(`${e}_plural${d}`,a||[t])},error:function(e){i.LOG_LEVEL>=i.LOG_LEVEL_ERROR&&console.error(e)},warn:function(e){i.LOG_LEVEL>=i.LOG_LEVEL_WARN&&console.warn(e)},info:function(e){i.LOG_LEVEL>=i.LOG_LEVEL_INFO&&console.log(e)},debug:function(e){i.LOG_LEVEL>=i.LOG_LEVEL_DEBUG&&console.log(e)},pretty_last_seen:function(a){return 0<=a&&120>=a?this.getString("last_seen_now"):120<a&&3600>a?this.getString("last_seen_minutes",[t(a/60)]):3600<=a&&7200>a?this.getString("last_seen_hours"):345600<=a?this.getString("last_seen_date",[e.moment().subtract(a,"seconds").format("LL")]):this.getString("last_seen_date",[e.moment().subtract(a,"seconds").calendar().toLowerCase()])},readActualVersion:function(){if(!i.CHECK_VERSION)return;let e=new XMLHttpRequest;e.open("GET","version.js?"+r(),!0),e.onreadystatechange=()=>{if(4===e.readyState&&200===e.status){let t,a;e.onreadystatechange=null;try{t=e.responseText,a=JSON.parse(t.split("\n")[1].slice(1,-1))}catch(t){return}this.set({actual_version_number:a.version_number,version_description:a.version_description})}},e.send()},extendFunction:function(){a.trimStart||(a.trimStart=function(){return this.replace(/^\s+/,"")}),a.trimEnd||(a.trimEnd=function(){return Array.from(Array.from(this).reverse().join("").trimStart(/\s$/,"")).reverse().join("")})},onQuit:function(){window.indexedDB.databases?window.indexedDB.databases().then(e=>{e.forEach(e=>{window.indexedDB.deleteDatabase(e.name)})}):this.accounts.forEach(e=>{indexedDB.deleteDatabase(e.cached_roster.database.name)});let e=xabber.getStorageName();for(let t in window.localStorage)(t.startsWith(e)||t.startsWith(i.STORAGE_NAME+"-"+i.STORAGE_VERSION+"-"+this.cache.id))&&window.localStorage.removeItem(t)},cacheFavicons:async function(){this._cache.save("favicon",URL.createObjectURL(await fetch(i.FAVICON_DEFAULT).then(e=>e.blob()))),this._cache.save("favicon_message",URL.createObjectURL(await fetch(i.FAVICON_MESSAGE).then(e=>e.blob())))},detectMediaDevices:function(){this.getMediaDevices(e=>{this.set(e)})},getMediaDevices:function(e,t){window.navigator&&window.navigator.mediaDevices&&window.navigator.mediaDevices.enumerateDevices().then(t=>{let a={audio:!1,video:!1};t.find(e=>"audioinput"===e.kind)&&(a.audio=!0),t.find(e=>"videoinput"===e.kind)&&(a.video=!0),e&&e(a)}).catch(e=>{t&&t(e)})},throwNewVersion:function(){if(i.CHECK_VERSION){let e=this.get("actual_version_number"),t=this.get("version_description");c.dialogs.common(this.getString("dialog_version_update__header",[i.CLIENT_NAME]),`${this.getString("dialog_version_update__confirm_text__new_version",[e])}<div class="new-version-description">${t}</div>${this.getString("dialog_version_update__confirm_text__question_reload_page")}`,{ok_button:{text:this.getString("dialog_version_update__button_reload")},cancel_button:{text:this.getString("dialog_version_update__option_not_now")}}).done(e=>{e&&window.location.reload(!0)})}},Settings:Backbone.ModelWithStorage.extend({defaults:{max_connection_retries:-1,notifications:!0,notifications_private:!0,notifications_group:!0,notifications_volume:.5,message_preview_private:!1,message_preview_group:!1,private_sound:!0,group_sound:!0,background:{type:"default"},side_panel:{theme:"dark",blur:!1,transparency:50},appearance:{blur:0,vignetting:0,color:"#E0E0E0"},main_color:"default",sound_on_private_message:"beep_up",sound_on_group_message:"beep_up",call_attention:!0,load_media:"default",typing_notifications:"default",mapping_service:"default",sound_on_call:"call",sound_on_dialtone:"call",sound_on_connection:"connecting",sound_on_attention:"attention",sound_on_auth_request:"beep_a",hotkeys:"enter",avatar_shape:"circle",language:"default",load_history:!0,mam_requests_limit:200,mam_messages_limit_start:1,mam_messages_limit:20,ping_interval:60,reconnect_interval:120}}),start:function(){this.check_config.done(e=>{this.check_config=void 0,e&&this.trigger("start")})},configure:function(t){this.loadTranslations(this.get("default_language")).then(e=>(this.default_translation=e.translation,this.loadTranslations())).then(a=>{this.setLocale(a.lang,a.translation),n.extend(i,n.pick(t,["CONNECTION_URL","PERSONAL_AREA_URL","LOG_LEVEL","SYNCHRONIZATION_RSM_MAX","XABBER_ACCOUNT_URL","REGISTER_XMPP_ACCOUNT","REGISTER_XMPP_ACCOUNT_URL","REGISTER_XMPP_ACCOUNT_TEXT","API_SERVICE_URL","USE_SOCIAL_AUTH","CONTAINER","CHECK_VERSION","DEFAULT_LOGIN_SCREEN","STORAGE_NAME_ENDING","CLIENT_NAME","SHORT_CLIENT_NAME","CLIENT_LOGO","TOOLBAR_LOGO","ENABLE_XABBER_ACCOUNT","SCREEN_ABOUT","DISABLE_LOOKUP_WS","PRIVACY_LOAD_MEDIA","PRIVACY_TYPING_NOTIFICATIONS","PRIVACY_MAPPING_SERVICE"]));let s=i["LOG_LEVEL_"+i.LOG_LEVEL];if(i.LOG_LEVEL=s||i.LOG_LEVEL_ERROR,i.MATERIAL_COLORS.includes(t.MAIN_COLOR)&&(i.MAIN_COLOR=t.MAIN_COLOR),"default"==this._settings.get("main_color")&&this._settings.set("main_color",i.MAIN_COLOR),this.trigger("update_main_color"),"default"===this._settings.get("load_media")&&null!=t.PRIVACY_LOAD_MEDIA?this._settings.set("load_media",t.PRIVACY_LOAD_MEDIA):"default"===this._settings.get("load_media")&&this._settings.set("load_media",!0),"default"===this._settings.get("typing_notifications")&&null!=t.PRIVACY_TYPING_NOTIFICATIONS?this._settings.set("typing_notifications",t.PRIVACY_TYPING_NOTIFICATIONS):"default"===this._settings.get("typing_notifications")&&this._settings.set("typing_notifications",!0),"default"===this._settings.get("mapping_service")&&null!=t.PRIVACY_MAPPING_SERVICE?this._settings.set("mapping_service",t.PRIVACY_MAPPING_SERVICE):"default"===this._settings.get("mapping_service")&&this._settings.set("mapping_service",!0),window.xabber=this,n.extend(window,e),t.SYNCHRONIZATION_RSM_MAX&&(i.SYNCHRONIZATION_RSM_MAX=t.SYNCHRONIZATION_RSM_MAX),t.REGISTRATION_DOMAINS&&(i.REGISTRATION_DOMAINS=t.REGISTRATION_DOMAINS),t.LOGIN_DOMAINS&&(i.LOGIN_DOMAINS=t.LOGIN_DOMAINS),t.TRUSTED_DOMAINS&&(i.TRUSTED_DOMAINS=t.TRUSTED_DOMAINS),t.RECOMMENDED_DOMAIN&&(i.RECOMMENDED_DOMAIN=t.RECOMMENDED_DOMAIN),null!=t.REGISTRATION_BUTTON&&(i.REGISTRATION_BUTTON=t.REGISTRATION_BUTTON),null!=t.REGISTRATION_CUSTOM_DOMAIN&&(i.REGISTRATION_CUSTOM_DOMAIN=t.REGISTRATION_CUSTOM_DOMAIN),null!=t.LOGIN_CUSTOM_DOMAIN&&(i.LOGIN_CUSTOM_DOMAIN=t.LOGIN_CUSTOM_DOMAIN),t.SHORT_CLIENT_DESCRIPTION&&(i.SHORT_CLIENT_DESCRIPTION=t.SHORT_CLIENT_DESCRIPTION),t.CLIENT_NAME&&!t.SHORT_CLIENT_NAME?i.SHORT_CLIENT_NAME=t.CLIENT_NAME:!t.CLIENT_NAME&&t.SHORT_CLIENT_NAME&&(i.CLIENT_NAME=t.SHORT_CLIENT_NAME),t.TURN_SERVERS_LIST&&(n.isArray(t.TURN_SERVERS_LIST)?n.extend(i,{TURN_SERVERS_LIST:t.TURN_SERVERS_LIST}):n.isObject(t.TURN_SERVERS_LIST)&&Object.keys(t.TURN_SERVERS_LIST).length&&n.extend(i,{TURN_SERVERS_LIST:[t.TURN_SERVERS_LIST]})),c.isMobile.any()){let e=this.getString("warning__client_not_support_ios_browser",[i.CLIENT_NAME]),t=this.getString("warning__client_not_support_android_browser"),a=this.getString("warning__client_not_support_mobile",[i.CLIENT_NAME]),n;return n=c.isMobile.iOS()?e:c.isMobile.Android()?a+t:a,c.dialogs.error(n),void this.check_config.resolve(!1)}if(!i.CONNECTION_URL)return c.dialogs.error(this.getString("client_error__missing_connection_url")),void this.check_config.resolve(!1);if(l.disabled_client)return c.dialogs.error(this.getString("client_error__another_tab_active")),void this.check_config.resolve(!1);let o=this;Backbone.useLocalStorage||this.cache.ignore_localstorage_warning||c.dialogs.warning(this.getString("client_warning__no_local_storage"),[{name:this.getString("ignore"),text:this.getString("client_error__option_show_msg_again")}]).done(function(e){e&&e.ignore&&o._cache.save("ignore_localstorage_warning",!0)}),this.requestNotifications().done(function(e){o._cache.save("notifications",e),e&&"serviceWorker"in navigator&&"PushManager"in window?o.setUpPushNotifications().done(function(){o.check_config.resolve(!0)}):(o._cache.save("endpoint_key",void 0),o.check_config.resolve(!0))})})},fetchURLParams:function(){let e=window.location.href.split(/[?#]/),t=window.location.href.split("#");if(this.url_params={},1<e.length){let t=e[1].split("&"),a,i;for(a=0;a<t.length;a++)i=t[a].split("="),this.url_params[i[0]]=1===i.length?null:i[1]}1<t.length&&(this.url_params.anchor=e[1]),window.history.pushState(null,null,window.location.pathname)},getStorageName:function(){let e=i.STORAGE_NAME+"-"+i.STORAGE_VERSION;return i.STORAGE_NAME_ENDING&&(e=e+"-"+i.STORAGE_NAME_ENDING),e},cleanUpStorage:function(){let e=i.STORAGE_NAME+"-"+i.STORAGE_VERSION;for(let t in window.localStorage)t.startsWith("xabber")&&!t.startsWith(e)&&window.localStorage.removeItem(t)},requestNotifications:function(){let e=new s.Deferred,t=this;return window.Notification?"granted"===window.Notification.permission?e.resolve(!0):(!t.cache.ignore_notifications_warning&&(t.notifications_placeholder=new t.NotificationsPlaceholder),e.resolve(!1)):e.resolve(null),e.promise()},setUpPushNotifications:function(){let e=new s.Deferred,t=this;return firebase.initializeApp({apiKey:i.GCM_API_KEY,messagingSenderId:i.GCM_SENDER_ID}),navigator.serviceWorker.register("./firebase-messaging-sw.js").then(a=>{firebase.messaging().useServiceWorker(a),t.messaging=firebase.messaging(),t.messaging.requestPermission().then(function(){t.messaging.getToken().then(function(a){t._cache.save("endpoint_key",a||void 0),e.resolve(!!a||"No Instance ID token available.")}).catch(function(t){e.resolve(t)}),t.messaging.onTokenRefresh(function(){t.messaging.getToken().then(function(e){t._cache.save("endpoint_key",e)}).catch(function(){})}),navigator.serviceWorker.addEventListener("message",function(e){let a=e.data;if("push-msg-received"===a["firebase-messaging-msg-type"]){let n=a["firebase-messaging-msg-data"];if(n&&n.data&&n.from===i.GCM_SENDER_ID){let a;try{a=JSON.parse(atob(n.data.body))}catch(t){a=n.data}t.trigger("push_message",a)}}})}).catch(function(t){e.resolve({error:t})})}),e.promise()},extendWith:function(){return n.reduce(arguments,function(e,t){return t(e)},this)}});return new p}),define("xabber-views",[],function(){var e=Math.abs,t=Math.min;return function(a){let i=a.env,n=i.constants,s=i.templates.base,o=i.utils,d=i.uuid,r=i.$,c=i._;return a.ViewPath=function(e){this.path=e.split("."),this.applyTo=function(e){let t=e;for(let a=0;a<this.path.length;a++)if(!(t=c.result(t,this.path[a])))return null;return t}},a.BasicView=Backbone.View.extend({template:function(){return""},initialize:function(e){e||(e={}),this.parent=e.parent,this.vname=e.vname,this.children={},this.$el.addClass(e.classlist),e.el||this.$el.html(this.template(c.extend({view:this},n))),c.isUndefined(this.ps_selector)||(this.ps_container=this.$(this.ps_selector),this.ps_container.length&&this.ps_container.perfectScrollbar(c.extend(this.ps_settings||{},a.ps_settings))),this.data=new Backbone.Model({visible:!1}),this.data.on("change:visible",this.onChangedVisibility,this),a.on("update_css",function(e){this.updateCSS&&this.updateCSS(),e&&e.size_changed&&this.windowResized&&this.windowResized()},this),this._initialize&&this._initialize(e),this.__initialize&&this.__initialize(e)},isVisible:function(){return this.data.get("visible")},onChangedVisibility:function(){},show:function(){this.onShow.apply(this,arguments),this.data.set("visible",!0),this.trigger("after_show",this),this.updateScrollBar()},hide:function(){this.trigger("before_hide",this),this.data.set("visible",!1),this.onHide.apply(this,arguments)},onShow:function(){this.render.apply(this,arguments),c.each(this.children,function(e){e.render.apply(e,arguments)})},onHide:function(){c.each(this.children,function(e){e.onHide.apply(e,arguments)})},detach:function(){this.$el.detach()},child:function(e){return this.children[e]},addChild:function(e,t,a){let i;return t instanceof Backbone.View?(i=t,i.parent=this):i=new t(c.extend({parent:this,vname:e},a)),this.children[e]=i,i},removeChild:function(e,t){t||(t={});let a=this.children[e];a&&(delete this.children[e],t.soft?a.detach():a.trigger("remove")&&a.remove())},removeChildren:function(){c.each(c.keys(this.children),e=>{this.removeChild(e)})},setCustomCss:function(e){this.$el.css(e)},removeCustomCss:function(){this.$el.removeAttr("style")},saveScrollBarOffset:function(){if(this.ps_container&&this.isVisible()){let e=this.data.get("scroll_top");"undefined"==typeof e&&this.data.set("scroll_top",this.getScrollTop())}},updateScrollBar:function(){if(this.ps_container&&this.isVisible()){let e=this.data.get("scroll_top");"undefined"==typeof e?this.ps_container.perfectScrollbar("update"):(this.data.set("scroll_top",void 0),this.scrollTo(e))}return this},scrollTo:function(e){this.ps_container[0].scrollTop=e,this.ps_container.perfectScrollbar("update")},scrollToTop:function(){this.scrollTo(0)},scrollToBottom:function(){let e=this.ps_container[0].scrollHeight,t=this.ps_container[0].offsetHeight;this.scrollTo(e-t)},scrollToChild:function(e){let t=c.reduce(e.prevAll(),function(e,t){return e+t.offsetHeight+2},0);this.scrollTo(t)},getScrollTop:function(){return this.ps_container[0].scrollTop},getScrollBottom:function(){let e=this.ps_container[0].scrollTop,t=this.ps_container[0].scrollHeight,a=this.ps_container[0].offsetHeight;return t-(e+a)},getPercentScrolled:function(){if(this.isScrolledToTop())return 0;let e=this.ps_container[0].scrollTop,t=this.ps_container[0].scrollHeight,a=this.ps_container[0].offsetHeight;return e/(t-a)},isScrolledToTop:function(){return 0===this.getScrollTop()},isScrolledToBottom:function(){let e=this.ps_container[0].scrollTop,t=this.ps_container[0].scrollHeight,a=this.ps_container[0].offsetHeight;return t===e+a}}),a.NodeView=a.BasicView.extend({onShow:function(e,t){return c.each(this.children,function(e){e.hide()}),this.$el.children().detach(),t=this.patchTree(t,e)||t,c.each(this.children,(a,i)=>{c.has(t,i)&&("login"!==i&&this.$el.append(a.$el),this.$el.switchClass("hidden","login"===i),a.show(e,t[i]))}),this.render(e)},onHide:function(e){c.each(this.children,function(t){t.hide(e)})},patchTree:function(){}}),a.Container=a.BasicView.extend({className:"container",render:function(e,t){let a=t.applyTo(e);return this.$el.children().detach(),this.view!==a&&this.onHide(e),this.view=a,this.view&&(this.$el.append(this.view.$el),this.view.show(e)),this},onHide:function(e){this.view&&this.view.hide(e),this.view=null}}),a.SearchView=a.BasicView.extend({events:{"keydown .search-input":"keyUpOnSearch","focusout .search-input":"clearSearchSelection","click .close-search-icon":"clearSearch","click .list-item":"onClickItem"},keyUpOnSearch:function(e){e.stopPropagation(),this.ids=this.$(".list-item:not(.hidden)").map(function(){return r(this).data("id")}).toArray();let t=this.getSelectedItem();if(e.keyCode===n.KEY_ARROW_DOWN)return this.selectNextItem();if(e.keyCode===n.KEY_ARROW_UP)return this.selectPreviousItem();if(e.keyCode===n.KEY_ENTER&&t.length)return e.preventDefault(),this.onEnterPressed(t);if(e.keyCode===n.KEY_ESCAPE&&!a.body.screen.get("right_contact")){if(e.preventDefault(),r(e.target).val())return this.clearSearch();this.close()}this.updateSearch()},getSelectedItem:function(){return this.$(".list-item[data-id=\""+this.selection_id+"\"]")},selectItem:function(e,t){if(!e)return;this.clearSearchSelection();let a=this.$(".list-item[data-id=\""+e+"\"]");a.length?this.selection_id=e:(this.ps_container[0].scrollTop=0,a=this.$(".list-item:visible").first(),this.selection_id=a.data("id")),"down"===t&&(a[0].clientHeight+a[0].offsetTop>=this.ps_container[0].clientHeight+this.ps_container[0].scrollTop||a[0].clientHeight+a[0].offsetTop<this.ps_container[0].scrollTop)&&(this.ps_container[0].scrollTop=a[0].offsetTop),"up"===t&&(a[0].offsetTop<=this.ps_container[0].scrollTop||a[0].offsetTop>this.ps_container[0].scrollTop+this.ps_container[0].clientHeight)&&(this.ps_container[0].scrollTop=a[0].offsetTop),a.addClass("selected")},selectNextItem:function(){this.selectItem(this.ids[this.ids.indexOf(this.selection_id)+1],"down")},selectPreviousItem:function(){this.selectItem(this.ids[this.ids.indexOf(this.selection_id)-1],"up")},updateSearch:function(){if(!this._update_search_timeout){let e=this.$(".search-input").val();this.$(".search-form").switchClass("active",e),this.clearSearchSelection(),e?this.search(e.toLowerCase()):(this.$(".list-item").removeClass("hidden"),this.onEmptyQuery()),this.updateScrollBar(),this.query=!1,this._update_search_timeout=setTimeout(()=>{this._update_search_timeout=null,this.query&&this.updateSearch()},150)}else this.query=!0},clearSearch:function(e){e&&e.preventDefault(),this.$(".search-input").val(""),this.updateSearch()},clearSearchSelection:function(){this.selection_id=null,this.$(".list-item.selected").removeClass("selected")},searchAll:function(){this.$(".list-item").removeClass("hidden")},keyUpOnSearchWithQuery:function(){},close:function(){},search:function(){},onEnterPressed:function(){},onEmptyQuery:function(){},onClickItem:function(){}}),a.SearchPanelView=a.SearchView.extend({events:{"keydown .search-input":"keyUpOnSearch","focusout .search-input":"clearSearchSelection","click .close-search-icon":"clearSearch","click .list-item":"onClickItem","click .btn-search-messages":"updateSearchWithMessages"},updateSearchWithMessages:function(){this.search_messages=!0,this.updateSearch()},keyUpOnSearch:function(e){if(e.stopPropagation(),r(e.target).val())return void this.keyUpOnSearchWithQuery(e);this.ids=this.$(".list-item:not(.hidden)").map(function(){return r(this).data("id")}).toArray();let t=this.getSelectedItem();if(e.keyCode===n.KEY_ARROW_DOWN)return this.selectNextItem();if(e.keyCode===n.KEY_ARROW_UP)return this.selectPreviousItem();if(e.keyCode===n.KEY_ENTER&&t.length)return e.preventDefault(),this.onEnterPressed(t);if(e.keyCode===n.KEY_ESCAPE&&!a.body.screen.get("right_contact")){if(e.preventDefault(),r(e.target).val())return this.clearSearch();this.close()}this.updateSearch()},onScrollY:function(e){if(a.all_searched_messages&&a.all_searched_messages.length&&this.queryid&&!this._loading_messages&&!this._messages_loaded&&this.isScrolledToBottom()){this._loading_messages=!0,e=e||{},this.queryid=d(),e.query_id=this.queryid;let t=a.accounts.connected;t.forEach(t=>{let i=a.all_searched_messages.find(e=>e.account.get("jid")===t.get("jid"));!i||t.searched_msgs_loaded||(e.account=t,e.before=i.get("archive_id"),this.MAMRequest(this.query_text,e,i=>{c.each(i,i=>{let n=t.chats.receiveChatMessage(i,c.extend({is_searched:!0},e)),s=a.all_searched_messages.indexOf(n),o;n&&(o=new a.MessageItemView({model:n}),0===s?o.$el.appendTo(this.$(".messages-list-wrap .messages-list")):o.$el.insertBefore(this.$(".messages-list-wrap .message-item").eq(-s)))}),this.$(".messages-list-wrap").switchClass("hidden",!this.$(".messages-list").children().length),this.updateScrollBar(),this._loading_messages=!1}))}),t.filter(e=>e.searched_msgs_loaded).length===t.length&&(this._messages_loaded=!0)}},onScroll:function(){},keyUpOnSearchWithQuery:function(e){e.stopPropagation(),this.ids=this.$(".searched-lists-wrap .list-item:not(.hidden)").map(function(){return r(this).data("id")}).toArray();let t=this.getSelectedItemWithQuery();if(e.keyCode===n.KEY_ARROW_DOWN)return this.selectNextItemWithQuery();if(e.keyCode===n.KEY_ARROW_UP)return this.selectPreviousItemWithQuery();if(e.keyCode===n.KEY_ENTER&&t.length)return e.preventDefault(),this.onEnterPressed(t);if(e.keyCode===n.KEY_ENTER&&(this.search_messages=!0),e.keyCode===n.KEY_ESCAPE&&!a.body.screen.get("right_contact")){if(e.preventDefault(),r(e.target).val())return this.clearSearch();this.close()}this.updateSearch()},getSelectedItemWithQuery:function(){return this.$(".searched-lists-wrap .list-item[data-id=\""+this.selection_id+"\"]")},selectItemWithQuery:function(e,t){if(!e)return void(this.isScrolledToBottom()&&this.onScrollY());this.clearSearchSelection();let a=this.$(".searched-lists-wrap .list-item[data-id=\""+e+"\"]");a.length?this.selection_id=e:(this.ps_container[0].scrollTop=0,a=this.$(".searched-lists-wrap .list-item:visible").first(),this.selection_id=a.data("id")),"down"===t&&(a[0].clientHeight+a[0].offsetTop+a.parent().parent()[0].offsetTop>=this.ps_container[0].clientHeight+this.ps_container[0].scrollTop||a[0].clientHeight+a[0].offsetTop+a.parent().parent()[0].offsetTop<this.ps_container[0].scrollTop)&&(this.ps_container[0].scrollTop=a[0].offsetTop+a.parent().parent()[0].offsetTop),"up"===t&&(a[0].offsetTop+a.parent().parent()[0].offsetTop<=this.ps_container[0].scrollTop||a[0].offsetTop+a.parent().parent()[0].offsetTop>this.ps_container[0].scrollTop+this.ps_container[0].clientHeight)&&(this.ps_container[0].scrollTop=a[0].offsetTop+a.parent().parent()[0].offsetTop),a.addClass("selected")},selectNextItemWithQuery:function(){this.selectItemWithQuery(this.ids[this.ids.indexOf(this.selection_id)+1],"down")},selectPreviousItemWithQuery:function(){this.selectItemWithQuery(this.ids[this.ids.indexOf(this.selection_id)-1],"up")},search:function(e){this.$(this.main_container).addClass("hidden"),clearTimeout(this.keyup_timeout),this.keyup_timeout=null,this.query_text=e,this.$(".contacts-list").html(""),this.$(".chats-list").html(""),a.accounts.connected.forEach(e=>{let t=e.chats.getSavedChat();t.set("opened",!0),t.item_view.updateLastMessage()});let t=c.clone(a.chats);t.comparator="timestamp",t.sort("timestamp").forEach(t=>{let i=t.get("jid").toLowerCase(),n=t.contact?t.contact.get("roster_name")||t.contact.get("name"):t.get("name");if(n&&(n=n.toLowerCase()),(t.get("timestamp")||t.get("saved"))&&(-1<n.indexOf(e)||-1<i.indexOf(e))){let i=-1<n.indexOf(e)?"by-name":"by-jid",s=a.chats_view.child(t.get("id"));s&&(s=s.$el.clone().addClass(i)),s&&(this.$(".chats-list-wrap").removeClass("hidden"),"by-name"===i?this.$(".chats-list").prepend(s):this.$(".chats-list .by-jid").length?s.insertBefore(this.$(".chats-list .by-jid").first()):this.$(".chats-list").append(s),s.click(()=>{this.$(".list-item.active").removeClass("active"),a.chats_view.openChat(t.item_view,{screen:a.body.screen.get("name")}),s.addClass("active")}))}}),a.accounts.each(t=>{t.contacts.each(i=>{let n=i.get("jid").toLowerCase(),s=i.get("roster_name")||i.get("name"),o=t.chats.get(i.hash_id),d=o&&o.id;if(s&&(s=s.toLowerCase()),(!d||d&&!this.$(".chat-item[data-id=\""+d+"\"]").length)&&(-1<s.indexOf(e)||-1<n.indexOf(e))){let o=-1<s.indexOf(e)?"by-name":"by-jid",d=a.contacts_view.$(`.account-roster-wrap[data-jid="${t.get("jid")}"] .list-item[data-jid="${n}"]`).first().clone().data("account-jid",t.get("jid"));d.attr({"data-color":t.settings.get("color"),"data-account":t.get("jid")}).addClass(o).prepend(r("<div class=\"account-indicator ground-color-700\"/>")),"by-name"==o?this.$(".contacts-list").prepend(d):this.$(".contacts-list .by-jid").length?d.insertBefore(this.$(".contacts-list .by-jid").first()):this.$(".contacts-list").append(d),d.click(()=>{this.$(".list-item.active").removeClass("active");let e=t.chats.getChat(i);e&&a.chats_view.openChat(e.item_view,{clear_search:!1,screen:a.body.screen.get("name")}),d.addClass("active")})}})}),this.$(".chats-list-wrap").switchClass("hidden",!this.$(".chats-list").children().length),this.$(".pinned-chat-list").switchClass("hidden",e),this.$(".contacts-list-wrap").switchClass("hidden",!this.$(".contacts-list").children().length),this.$(".messages-list-wrap").addClass("hidden").find(".messages-list").html(""),2<=e.length&&this.search_messages?(this.search_messages=!1,this.queryid=d(),this.searchMessages(e,{query_id:this.queryid})):2<=e.length&&!this.search_messages&&this.$(".btn-search-messages").showIf(e)},searchMessages:function(e,t){this._loading_messages=!0,this._messages_loaded=!1,this.$(".messages-list-wrap").showIf(e),this.$(".btn-search-messages").hideIf(e),this.$(".messages-list-wrap .messages-list").html(i.templates.contacts.preloader()),t=t||{},t.max||(t.max=a.settings.mam_messages_limit),t.before||(t.before=""),a.all_searched_messages=new a.SearchedMessages;let n=a.accounts.connected;n.forEach(i=>{i.searched_msgs_loaded=!1,t.account=i,this.MAMRequest(e,t,e=>{this.$(".messages-list-wrap .messages-list").html(""),this.query_text&&(c.each(e,e=>{if(!this.query_text)return;let n=i.chats.receiveChatMessage(e,c.extend({is_searched:!0},t)),s=a.all_searched_messages.indexOf(n),o;n&&(o=new a.MessageItemView({model:n}),0===s?o.$el.appendTo(this.$(".messages-list-wrap .messages-list")):o.$el.insertBefore(this.$(".messages-list-wrap .message-item").eq(-s)))}),this.$(".messages-list-wrap").switchClass("hidden",!this.$(".messages-list").children().length),this.updateScrollBar(),this._loading_messages=!1)})}),n.filter(e=>e.searched_msgs_loaded).length===n.length&&(this._messages_loaded=!0)},MAMRequest:function(e,t,a,n){let s=[],o=t.account,c=d(),l=$iq({from:o.get("jid"),type:"set"}).c("query",{xmlns:Strophe.NS.MAM,queryid:c}).c("x",{xmlns:Strophe.NS.DATAFORM,type:"submit"}).c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t(Strophe.NS.MAM).up().up().c("field",{var:"withtext"}).c("value").t(e).up().up().up().cnode(new Strophe.RSM(t).toXML()),p=o.connection.addHandler(e=>{let a=r(e);return a.find("result").attr("queryid")===c&&t.query_id===this.queryid&&s.push(e),!0},i.Strophe.NS.MAM);o.sendIQ(l,function(e){o.connection.deleteHandler(p);let t=r(e).find(`fin[xmlns="${Strophe.NS.MAM}"]`);if(t.length&&t.attr("queryid")===c){let e="true"===t.attr("complete");e&&(o.searched_msgs_loaded=!0)}a&&a(s)},function(){o.connection.deleteHandler(p),n&&n()})},clearSearch:function(e){e&&e.preventDefault(),this.$(".search-input").val(""),this.updateSearch(),this.onEmptyQuery()},onEmptyQuery:function(){a.accounts.forEach(function(e){e.searched_msgs_loaded=!1}),this.query_text=null,this.queryid=null,this._messages_loaded=!1,this._loading_messages=!1,this.$(this.main_container).removeClass("hidden"),this.$(".chats-list-wrap").addClass("hidden"),this.$(".pinned-chat-list").removeClass("hidden"),this.$(".contacts-list-wrap").addClass("hidden"),this.$(".messages-list-wrap").addClass("hidden")}}),a.InputWidget=Backbone.View.extend({field_type:"text",template:s.input_widget,events:{"click .field-text":"showInput","click .btn-rename":"showInput","keydown .field-input":"keyDown","keyup .field-input":"keyUp","focusout .field-input":"changeValue"},initialize:function(){this.$el.html(this.template({field_name:this.field_name,field_type:this.field_type,placeholder:this.placeholder})),this.$value=this.$(".field-text"),this.$btn=this.$(".btn-rename"),this.$input=this.$(".field-input"),this.updateValue(),this.data=new Backbone.Model({input_mode:!1}),this.data.on("change:input_mode",this.onChangedInputMode,this),this.bindModelEvents()},bindModelEvents:function(){this.model.on("change:"+this.model_field,this.updateValue,this)},showInput:function(){this.data.set("input_mode",!0),this.updateValue()},onChangedInputMode:function(){let e=this.data.get("input_mode");this.$value.hideIf(e),this.$btn.hideIf(e),this.$input.showIf(e).focus()},keyDown:function(e){e.stopPropagation();let t=this.getValue();e.keyCode===n.KEY_ENTER?this.changeValue():e.keyCode===n.KEY_ESCAPE&&!a.body.screen.get("right_contact")&&(this.$input.removeClass("changed").val(t),this.data.set("input_mode",!1))},keyUp:function(){let e=this.getValue();this.$input.switchClass("changed",this.$input.val()!==e)},getValue:function(){return this.model.get(this.model_field)},setValue:function(e){this.model.save(this.model_field,e)},changeValue:function(){let e=this.getValue(),t=this.$input.removeClass("changed").val();t!==e&&this.setValue(t),this.data.set("input_mode",!1)},updateValue:function(){let e=this.getValue();this.$value.text(e),this.$input.val(e)}}),a.Body=a.NodeView.extend({className:"client-body-wrap",_initialize:function(){this.vname="body",this.data.set("visible",!0),this.screen=new Backbone.Model,this.screen_map=new Backbone.Model,this.screen.on("change",this.update,this),this.screen_map.on("change",this.onScreenMapChanged,this),r("body").append(this.$el),this.updateBackground(),this.updateMainColor(),this.updateAvatarShape(),r("#modals").insertAfter(this.$el),a.on("update_main_color",this.updateMainColor,this),a.on("update_avatar_shape",this.updateAvatarShape,this)},addScreen:function(e,t){this.screen_map.set(e,t)},updateMainColor:function(){this.$el.attr("data-main-color",a.settings.main_color),this.$el.siblings("#modals").attr("data-main-color",a.settings.main_color),r(window.document).find(".login-container").attr("data-main-color",a.settings.main_color)},updateAvatarShape:function(){let e=a.settings.avatar_shape;r("body").switchClass("non-circle-avatars","circle"!=e),r("body").switchClass("octagon-avatars","octagon"===e),r("body").switchClass("hexagon-avatars","hexagon"===e),r("body").switchClass("pentagon-avatars","pentagon"===e),r("body").switchClass("rounded-avatars","rounded"===e),r("body").switchClass("star-avatars","star"===e),r("body").switchClass("squircle-avatars","squircle"===e)},updateBackground:function(){let e=a.settings.background||{};e.image?"repeating-pattern"===e.type?this.$el.css({"background-repeat":"repeat","background-size":"unset","background-image":`url("${o.images.getCachedBackground(e.image)}")`}):"image"===e.type&&this.$el.css({"background-repeat":"no-repeat","background-size":"cover","background-image":`url("${o.images.getCachedBackground(e.image)}")`}):this.$el.css({"background-repeat":"repeat","background-size":"unset","background-image":`url("${n.BACKGROUND_IMAGE}")`,"box-shadow":"none"}),this.updateBoxShadow(a.settings.appearance.vignetting)},updateBoxShadow:function(e){e=+e,e?this.$el.css({"box-shadow":`${e}px 0 100px 1px rgba(0, 0, 0, 0.7) inset, -${e}px 0 100px -1px rgba(0, 0, 0, 0.7) inset`}):this.$el.css({"box-shadow":`unset`})},updateBlur:function(e){e=+e,a.blur_overlay.$el.css({"backdrop-filter":`blur(${e}px)`,"-webkit-backdrop-filter":`blur(${e}px)`})},setScreen:function(e,t,i){i=i||{},r(window).unbind("keydown.contact_panel"),a.notifications_placeholder&&a.main_panel.$el.addClass("notifications-request"),r("body").switchClass("xabber-login","login"===e),r("body").switchClass("on-xabber-login","login"!==e);let n={stamp:c.uniqueId()};e&&!this.isScreen(e)&&(n.name=e),n.right_contact=t&&t.right&&"group_invitation"===t.right||"settings"===e||"account_settings"===e?null:a.body.screen.get("right_contact"),(!t&&a.body.screen.get("right")||t&&!t.right&&null!==t.right&&a.body.screen.get("right"))&&(n.right=a.body.screen.get("right")),this.screen.set(c.extend(n,t),i)},isScreen:function(e){return this.screen.get("name")===e},onScreenMapChanged:function(){let e=this.screen.get("name");c.has(this.screen_map.changed,e)&&this.update()},update:function(){let e=this.screen.attributes,t=this.screen_map.get(e.name);"undefined"!=typeof t&&(this.onShow(e,t),this.model.trigger("update_screen",this.screen.get("name")),this.model.trigger("update_layout",{screen_changed:e.name}))}}),a.ToolbarView=a.BasicView.extend({className:"toolbar noselect",ps_selector:".accounts",ps_settings:{theme:"item-list"},template:s.toolbar,events:{"click .all-chats":"showAllChats","click .chats":"showChats","click .group-chats":"showGroupChats","click .contacts":"showContacts","click .search":"showSearch","click .archive-chats":"showArchive","click .mentions":"showMentions","click .settings":"showSettings","click .add-variant.contact":"showAddContactView","click .add-variant.account":"showAddAccountView","click .add-variant.public-groupchat":"showAddPublicGroupChatView","click .add-variant.incognito-groupchat":"showAddIncognitoGroupChatView","click .about":"showAbout"},_initialize:function(){this.$(".add-something").on("change_state",function(e,t){r(this).switchClass("active",t).find(".mdi").switchClass("mdi-close",t).switchClass("mdi-plus",!t),t?(this.setAttribute("data-title",this.getAttribute("title")),this.setAttribute("title","")):(this.setAttribute("title",this.getAttribute("data-title")),this.removeAttribute("data-title"))}),a.on("update_screen",this.onUpdatedScreen,this),this.data.on("change:all_msg_counter",this.onChangedAllMessageCounter,this),this.data.on("change:group_msg_counter",this.onChangedGroupMessageCounter,this),this.data.on("change:mentions_counter",this.onChangedMentionsCounter,this),this.data.on("change:msg_counter",this.onChangedMessageCounter,this),this.data.set({msg_counter:0}),this.data.set({group_msg_counter:0}),this.data.set({all_msg_counter:0}),this.data.set({mentions_counter:0})},render:function(){this.$(".add-something").dropdown({inDuration:50,outDuration:50,constrainWidth:!1,hover:!1,alignment:"left"}),this.$(".add-variant.account").hideIf(!n.LOGIN_CUSTOM_DOMAIN&&!n.LOGIN_DOMAINS.length)},updateColor:function(e){this.$(".toolbar-icon").css("color",e),this.$(".toolbar-icon path").css("fill",e)},onUpdatedScreen:function(e){"account_settings"===e||"all-chats"===e&&(this.$(".toolbar-item.all-chats").hasClass("active")||this.$(".toolbar-item.group-chats").hasClass("active")||this.$(".toolbar-item.chats").hasClass("active")||this.$(".toolbar-item.account-item").hasClass("active")||this.$(".toolbar-item.archive-chats").hasClass("active"))||(this.$(".toolbar-item").removeClass("active unread"),c.contains(["all-chats","contacts","mentions","settings","search","about"],e)&&this.$(".toolbar-item."+e).addClass("active"))},showAllChats:function(e){let t=r(e.target).closest(".toolbar-item"),i=t.hasClass("active")&&!t.hasClass("unread");this.$(".toolbar-item").removeClass("active unread").filter(".all-chats").addClass("active").switchClass("unread",i),a.body.setScreen("all-chats"),a.trigger("show_all_chats")},showChats:function(e){let t=r(e.target).closest(".toolbar-item"),i=t.hasClass("active")&&!t.hasClass("unread");this.$(".toolbar-item").removeClass("active unread").filter(".chats").addClass("active").switchClass("unread",i),a.body.setScreen("all-chats"),a.trigger("show_chats")},showGroupChats:function(e){let t=r(e.target).closest(".toolbar-item"),i=t.hasClass("active")&&!t.hasClass("unread");this.$(".toolbar-item").removeClass("active unread").filter(".group-chats").addClass("active").switchClass("unread",i),a.body.setScreen("all-chats"),a.trigger("show_group_chats")},showArchive:function(){this.$(".toolbar-item").removeClass("active unread").filter(".archive-chats").addClass("active"),a.body.setScreen("all-chats"),a.trigger("show_archive_chats")},showChatsByAccount:function(e){this.$(".toolbar-item").removeClass("active unread").filter(".account-item[data-jid=\""+e.get("jid")+"\"]").addClass("active"),a.body.setScreen("all-chats",{right_contact_save:!0}),a.trigger("show_account_chats",[e])},showSearch:function(){a.body.setScreen("search")},showContacts:function(){a.body.setScreen("contacts",{right_contact:null})},showMentions:function(){a.body.setScreen("mentions")},showSettings:function(){a.body.setScreen("settings")},showAddContactView:function(){a.trigger("add_contact",{right:null})},showAddAccountView:function(){a.trigger("add_account",{right:null})},showAddIncognitoGroupChatView:function(){a.trigger("add_group_chat",{incognito:!0,right:null})},showAddPublicGroupChatView:function(){a.trigger("add_group_chat",{public:!0,right:null})},showAbout:function(){a.about_view||(a.about_view=a.wide_panel.addChild("about",a.AboutView,{model:a})),a.body.setScreen("about")},setAllMessageCounter:function(){let e=0,t=0,i=0,n=0;return a.accounts.each(a=>{a.chats.each(a=>{a.contact&&!a.isMuted()&&(t+=a.get("unread")+a.get("const_unread"),a.contact.get("group_chat")?i+=a.get("unread")+a.get("const_unread"):e+=a.get("unread")+a.get("const_unread"))});let s=a.contacts.filter(e=>e.get("invitation")||e.get("subscription_request_in")&&"both"!=e.get("subscription")).length;t+=s,n+=a.unread_mentions.length}),{msgs:e,all_msgs:t,group_msgs:i,mentions:n}},recountAllMessageCounter:function(){let e=this.setAllMessageCounter();this.data.set("all_msg_counter",e.all_msgs),this.data.set("msg_counter",e.msgs),this.data.set("group_msg_counter",e.group_msgs),this.data.set("mentions_counter",e.mentions)},onChangedMessageCounter:function(){let e=this.data.get("msg_counter");this.$(".msg-indicator").switchClass("unread",e).text()},onChangedGroupMessageCounter:function(){let e=this.data.get("group_msg_counter");this.$(".group-msg-indicator").switchClass("unread",e).text()},onChangedMentionsCounter:function(){let e=this.data.get("mentions_counter");this.$(".mentions-indicator").switchClass("unread",e).text()},onChangedAllMessageCounter:function(){let e=this.data.get("all_msg_counter");this.$(".all-msg-indicator").switchClass("unread",e).text(e)}}),a.JingleMessageView=a.BasicView.extend({className:"modal main-modal jingle-message-view",template:s.jingle_message_calling,avatar_size:n.AVATAR_SIZES.XABBER_VOICE_CALL_VIEW,events:{click:"clickOnWindow","click .btn-accept":"accept","click .btn-share-screen":"shareScreen","click .btn-microphone":"toggleMicrophone","click .btn-video":"videoCall","click .btn-volume":"toggleVolume","click .btn-collapse":"collapse","click .btn-cancel":"cancel","click .btn-full-screen":"setFullScreen"},_initialize:function(e){this.model=e.model,this.model.on("destroy",this.onDestroy,this),this.contact=this.model.contact,this.account=this.contact.account,this.model.on("change:state",this.updateCallingStatus,this),this.model.on("change:status",this.updateBackground,this),this.model.on("change:volume_on",this.updateButtons,this),this.model.on("change:video",this.updateButtons,this),this.model.on("change:video_live",this.updateButtons,this),this.model.on("change:video_screen",this.updateButtons,this),this.model.on("change:video_in",this.updateCollapsedWindow,this),this.model.on("change:audio",this.updateButtons,this)},render:function(e){e=e||{},this.updateName(),this.updateCallingStatus(e.status),"in"===e.status?this.updateStatusText(a.getString("dialog_jingle_message__status_calling")):this.model.set("status","calling"),this.updateAccountJid(),this.updateButtons(),this.$el.openModal({dismissible:!1,ready:()=>{this.updateAvatar()},complete:()=>{this.$el.detach(),this.data.set("visible",!1)}})},setFullScreen:function(){let e=this.$el.find(".webrtc-remote-video")[0],t=this.$el.find(".webrtc-local-video")[0],a=this.$el.find(".buttons-panel")[0];e&&(e.requestFullScreen?(e.requestFullScreen(),t.requestFullScreen(),a.requestFullScreen()):e.webkitRequestFullScreen?(e.webkitRequestFullScreen(),t.webkitRequestFullScreen(),a.webkitRequestFullScreen()):e.mozRequestFullScreen?(e.mozRequestFullScreen(),t.mozRequestFullScreen(),a.mozRequestFullScreen()):e.msRequestFullScreen&&(e.msRequestFullScreen(),t.msRequestFullScreen(),a.msRequestFullScreen()))},cancelFullScreen:function(){if(document.exitFullscreen){let e=document.fullscreenElement;e&&document.exitFullscreen().then(()=>{document.fullscreenElement&&this.cancelFullScreen()})}else if(document.mozCancelFullScreen){let e=document.mozFullScreenElement;e&&document.mozCancelFullScreen(),document.mozFullScreenElement&&this.cancelFullScreen()}else if(document.webkitExitFullscreen){let e=document.webkitCurrentFullScreenElement;e&&document.webkitExitFullscreen(),document.webkitCurrentFullScreenElement&&this.cancelFullScreen()}else if(document.msExitFullscreen){let e=document.msFullscreenElement;e&&document.msExitFullscreen(),document.msFullscreenElement&&this.cancelFullScreen()}},windowResized:function(){this.$el.hasClass("collapsed")&&this.$el.css("right",parseInt(a.main_panel.$el.css("margin-right"))+8+"px")},updateButtons:function(){this.$(".btn-video .video").switchClass("hidden",!this.model.get("video")),this.$(".btn-share-screen").switchClass("active",this.model.get("video_screen")),this.$(".btn-full-screen").switchClass("hidden",!this.model.get("video_in")),this.$(".btn-video").switchClass("mdi-video active",this.model.get("video_live")).switchClass("mdi-video-off",!this.model.get("video_live")),this.$(".btn-volume").switchClass("mdi-volume-high active",this.model.get("volume_on")).switchClass("mdi-volume-off",!this.model.get("volume_on")),this.$(".btn-microphone").switchClass("active mdi-microphone",this.model.get("audio")).switchClass("mdi-microphone-off",!this.model.get("audio"))},updateAvatar:function(){let e=this.contact.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)},updateBackground:function(){let e=this.model.get("status");this.$el.attr("data-state",e)},updateCallingStatus:function(e){this.$(".buttons-wrap").switchClass("incoming","in"===e)},updateStatusText:function(e){this.$(".calling-status").text(e||"")},updateName:function(){this.$(".name").text(this.contact.get("name"))},updateAccountJid:function(){this.$(".modal-footer .contact-info .jid").text(this.contact.get("jid"))},close:function(){this.$el.closeModal({complete:this.hide.bind(this)})},shareScreen:function(){this.model.set("video_screen",!this.model.get("video_screen"))},isFullScreen:function(){return!!document.fullscreenElement||!!document.webkitFullscreenElement||!!document.mozFullScreenElement},accept:function(){this.model.accept(),this.updateCallingStatus(n.JINGLE_MSG_ACCEPT),this.model.initSession()},clickOnWindow:function(){this.$el.hasClass("collapsed")&&this.$el.hasClass("collapsed-video")&&this.collapse()},collapse:function(e){if(e&&e.stopPropagation(),this.isFullScreen())return void this.cancelFullScreen();let t=this.$el.closest("#modals").siblings("#"+this.$el.data("overlayId"));t.toggle(),this.$el.toggleClass("collapsed"),this.$el.hasClass("collapsed")?this.$el.switchClass("collapsed-video",this.model.get("video")||this.model.get("video_in")):this.$el.css("right",""),this.windowResized()},updateCollapsedWindow:function(){this.updateButtons(),this.$el.hasClass("collapsed")&&this.$el.switchClass("collapsed-video",this.model.get("video")||this.model.get("video_in"))},toggleMicrophone:function(){this.model.set("audio",!this.model.get("audio"))},onDestroy:function(){this.updateStatusText(a.getString("device_busy"==this.model.get("status")?"dialog_jingle_message__status_device_busy":"busy"==this.model.get("status")?"dialog_jingle_message__status_busy":"dialog_jingle_message__status_disconnected")),setTimeout(()=>{this.close(),this.$el.detach()},3e3)},videoCall:function(){this.model.set("video_live",!this.model.get("video_live"))},toggleVolume:function(e){let t=r(e.target);t.switchClass(this.model.set("volume_on",!this.model.get("volume_on")))},cancel:function(){this.model.reject(),this.close()}}),a.SettingsView=a.BasicView.extend({className:"settings-panel",template:s.settings,ps_selector:".panel-content",events:{"click .settings-tabs-wrap .settings-tab":"jumpToBlock","click .btn-add-account":"showAddAccountView","click .setting.notifications label":"setNotifications","click .setting.private-notifications label":"setPrivateNotifications","click .setting.group-notifications label":"setGroupNotifications","click .setting.message-preview.private-preview label":"setPrivateMessagePreview","click .setting.message-preview.group-preview label":"setGroupMessagePreview","click .setting.call-attention label":"setCallAttention","click .setting.load-media label":"setLoadMedia","click .setting.typing-notifications label":"setTypingNotifications","click .setting.mapping-service label":"setMappingService","change .sound input[type=radio][name=private_sound]":"setPrivateSound","change .sound input[type=radio][name=group_sound]":"setGroupSound","change .sound input[type=radio][name=call_sound]":"setCallSound","change .sound input[type=radio][name=dialtone_sound]":"setDialtoneSound","change .sound input[type=radio][name=attention_sound]":"setAttentionSound","change .languages-list input[type=radio][name=language]":"changeLanguage","change #vignetting":"changeVignetting","change #blur":"changeBlur","change #notifications_volume":"changeNotificationsVolume","change #transparency":"changeTransparency","change #blur_switch":"switchBlur","change #vignetting_switch":"switchVignetting","click .selected-color-wrap":"openColorPicker","click .current-main-color-wrap":"openMainColorPicker","change .background input[type=radio][name=background]":"setBackground","change .background input[type=radio][name=side-panel]":"setSidePanelTheme","change #side_panel_blur_switch":"setSidePanelBlur","change #transparency_switch":"switchTransparency","click .current-background-wrap":"changeBackgroundImage","change .hotkeys input[type=radio][name=hotkeys]":"setHotkeys","change .avatar-shape input[type=radio][name=avatar_shape]":"setAvatarShape","click .settings-tab.delete-all-accounts":"deleteAllAccounts"},_initialize:function(){this.$(".xabber-info-wrap .version").text(a.get("version_number")),a.on("update_main_color",this.updateMainColor,this)},render:function(){let e=this.model.attributes,t=e.language;this.$(".notifications input[type=checkbox]").prop({checked:e.notifications&&a._cache.get("notifications")}),this.$(".private-notifications input[type=checkbox]").prop({checked:e.notifications_private}),this.$(".sound input[type=radio][name=private_sound]").prop("disabled",!e.notifications_private),this.$(".group-notifications input[type=checkbox]").prop({checked:e.notifications_group}),this.$(".sound input[type=radio][name=group_sound]").prop("disabled",!e.notifications_group),this.$(".message-preview.private-preview input[type=checkbox]").prop({checked:e.message_preview_private}),this.$(".message-preview.group-preview input[type=checkbox]").prop({checked:e.message_preview_group}),this.$(".call-attention input[type=checkbox]").prop({checked:e.call_attention}),this.$(".load-media input[type=checkbox]").prop({checked:e.load_media}),this.$(".typing-notifications input[type=checkbox]").prop({checked:e.typing_notifications}),this.$(".mapping-service input[type=checkbox]").prop({checked:e.mapping_service});let i=e.private_sound?e.sound_on_private_message:"";this.$(`.sound input[type=radio][name=private_sound][value="${i}"]`).prop("checked",!0);let n=e.group_sound?e.sound_on_group_message:"";this.$(`.sound input[type=radio][name=group_sound][value="${n}"]`).prop("checked",!0),this.$(`.sound input[type=radio][name=call_sound][value="${e.sound_on_call}"]`).prop("checked",!0),this.$(`.sound input[type=radio][name=dialtone_sound][value="${e.sound_on_dialtone}"]`).prop("checked",!0),this.$(`.sound input[type=radio][name=attention_sound][value="${e.sound_on_attention}"]`).prop("checked",!0),this.$(`.hotkeys input[type=radio][name=hotkeys][value=${e.hotkeys}]`).prop("checked",!0),this.$(`.avatar-shape input[type=radio][name=avatar_shape][value=${e.avatar_shape}]`).prop("checked",!0),t==a.get("default_language")&&(t="default"),this.$(`.languages-list input[type=radio][name=language][value="${t}"]`).prop("checked",!0);let s=isNaN(e.notifications_volume)?100:100*e.notifications_volume;return this.$(`#notifications_volume`).val(s),this.$(".settings-panel-head span").text(this.$(".settings-block-wrap:not(.hidden)").attr("data-header")),this.updateDescription(),this.updateBackgroundSetting(),this.updateColor(),this.updateMainColor(),this.updateSidePanelSetting(),this.$(".toolbar-main-color-setting-wrap .dropdown-button").dropdown({inDuration:100,outDuration:100,belowOrigin:!0,hover:!1}),this},updateMainColor:function(){this.$(".toolbar-main-color-setting").attr("data-color",this.model.get("main_color")),this.$(".toolbar-main-color-setting .color-name").text(a.getString(`account_color_name_${this.model.get("main_color").replace(/-/g,"_")}`).replace(/-/g," "))},updateBackgroundSetting:function(){this.$(`.background input[type=radio][name=background][value=${this.model.get("background").type}]`).prop("checked",!0),this.model.get("background").image&&this.$(".current-background").css("background-image",`url(${o.images.getCachedBackground(this.model.get("background").image)})`),this.$(".current-background-wrap").switchClass("hidden",!this.model.get("background").image);let e=this.model.get("appearance"),t=!1!==e.blur,a=!1!==e.vignetting;this.$("#blur_switch")[0].checked=t,this.$(".blur-setting .disabled").switchClass("hidden",t),this.$("#blur")[0].value=t?e.blur:n.BLUR_VALUE,this.$("#vignetting_switch")[0].checked=a,this.$(".vignetting-setting .disabled").switchClass("hidden",a),this.$("#vignetting")[0].value=a?e.vignetting:n.VIGNETTING_VALUE,this.updateScrollBar()},updateColor:function(){let e=this.model.get("appearance").color||"#E0E0E0";this.$(".selected-color-item").css("background-color",e),this.$(".selected-color-hex").text(e);let t=a.ColorPicker.prototype.materialColors.find(t=>t.variations.find(t=>t.hex.toLowerCase()==e.toLowerCase()));if(t){let i=t.variations.find(t=>t.hex.toLowerCase()==e.toLowerCase());this.$(".selected-color-name").text(a.getString(`account_color_name_${t.color.replace(/-/g,"_")}`).replace(/-/g," ")+` ${i.weight}`)}else this.$(".selected-color-name").text(a.getString("settings__section_appearance__hint_custom_color"));a.toolbar_view.updateColor(e)},updateSidePanelSetting:function(){let e=this.model.get("side_panel"),t=!1!==e.transparency;this.$("#side_panel_blur_switch")[0].checked=e.blur,this.$("#transparency_switch")[0].checked=t,this.$(".transparency-setting .disabled").switchClass("hidden",t),this.$("#transparency")[0].value=t?e.transparency:n.TRANSPARENCY_VALUE,this.$(`#${this.cid}-${e.theme}-side-panel`)[0].checked=!0},jumpToBlock:function(e){let t=r(e.target).closest(".settings-tab"),a=this.$(".settings-block-wrap."+t.data("block-name"));return this.$(".btn-add-account").hideIf("xmpp-accounts"!=t.data("block-name")),t.hasClass("link-button")?(t.parent().siblings().removeClass("active"),void this.scrollTo(0)):void(this.$(".settings-block-wrap").addClass("hidden"),a.removeClass("hidden"),this.$(".settings-panel-head span").text(a.attr("data-header")),t.addClass("active").siblings().removeClass("active"),this.scrollToChild(a))},setNotifications:function(e){let t=this.model.get("notifications"),i=r(e.target);e.preventDefault(),null===t?o.callback_popup_message(a.getString("notifications__toast_notifications_not_supported"),1500):(t=t&&a._cache.get("notifications"),a._cache.get("notifications")?(t=!t,this.model.save("notifications",t),i.closest(".setting.notifications").find("input").prop("checked",t)):window.Notification.requestPermission(e=>{a._cache.save({notifications:"granted"===e,ignore_notifications_warning:!0}),a.notifications_placeholder&&a.notifications_placeholder.close(),t="granted"===e,this.model.save("notifications",t?t:this.model.get("notifications")),i.closest(".setting.notifications").find("input").prop("checked",t)}))},setPrivateNotifications:function(e){let t=!this.model.get("notifications_private");this.model.save("notifications_private",t),e.preventDefault(),this.$(".sound input[type=radio][name=private_sound]").prop("disabled",!t),r(e.target).closest(".setting.private-notifications").find("input").prop("checked",t)},setGroupNotifications:function(e){let t=!this.model.get("notifications_group");this.model.save("notifications_group",t),e.preventDefault(),this.$(".sound input[type=radio][name=group_sound]").prop("disabled",!t),r(e.target).closest(".setting.group-notifications").find("input").prop("checked",t)},setPrivateMessagePreview:function(e){let t=!this.model.get("message_preview_private");this.model.save("message_preview_private",t),e.preventDefault(),r(e.target).closest(".setting.message-preview").find("input").prop("checked",t)},setGroupMessagePreview:function(e){let t=!this.model.get("message_preview_group");this.model.save("message_preview_group",t),e.preventDefault(),r(e.target).closest(".setting.message-preview").find("input").prop("checked",t)},setCallAttention:function(e){let t=!this.model.get("call_attention");this.model.save("call_attention",t),e.preventDefault(),r(e.target).closest(".setting.call-attention").find("input").prop("checked",t)},setLoadMedia:function(e){let t=!this.model.get("load_media");this.model.save("load_media",t),e.preventDefault(),r(e.target).closest(".setting.load-media").find("input").prop("checked",t)},setTypingNotifications:function(e){let t=!this.model.get("typing_notifications");this.model.save("typing_notifications",t),e.preventDefault(),r(e.target).closest(".setting.typing-notifications").find("input").prop("checked",t)},setMappingService:function(e){let t=!this.model.get("mapping_service");this.model.save("mapping_service",t),e.preventDefault(),r(e.target).closest(".setting.mapping-service").find("input").prop("checked",t)},setPrivateSound:function(e){let t=e.target.value;t?(this.current_sound&&this.current_sound.pause(),this.current_sound=a.playAudio(t,!1,this.model.get("notifications_volume")),this.model.save({private_sound:!0,sound_on_private_message:t})):this.model.save("private_sound",!1)},setGroupSound:function(e){let t=e.target.value;t?(this.current_sound&&this.current_sound.pause(),this.current_sound=a.playAudio(t,!1,this.model.get("notifications_volume")),this.model.save({group_sound:!0,sound_on_group_message:t})):this.model.save("group_sound",!1)},setCallSound:function(e){let t=e.target.value;this.current_sound&&this.current_sound.pause(),this.current_sound=a.playAudio(t,!1),this.model.save({sound_on_call:t})},setDialtoneSound:function(e){let t=e.target.value;this.current_sound&&this.current_sound.pause(),this.current_sound=a.playAudio(t,!1),this.model.save({sound_on_dialtone:t})},setAttentionSound:function(e){let t=e.target.value;this.current_sound&&this.current_sound.pause(),this.current_sound=a.playAudio(t,!1),this.model.save({sound_on_attention:t})},setBackground:function(e){let t=e.target.value;if("default"==t)this.model.save("background",{type:"default"}),a.body.updateBackground(),this.updateBackgroundSetting();else if("repeating-pattern"==t||"image"==t){let e=new a.SetBackgroundView;e.render({type:t,model:this.model})}},setSidePanelTheme:function(e){let t=e.target.value,i=this.model.get("side_panel");this.model.save("side_panel",c.extend(i,{theme:t})),a.roster_view.updateTheme(t)},setSidePanelBlur:function(){let e=this.$("#side_panel_blur_switch")[0].checked,t=this.model.get("side_panel");this.model.save("side_panel",c.extend(t,{blur:e})),a.roster_view.updateBlur(e)},changeBackgroundImage:function(){let e=this.model.get("background").type;if("repeating-pattern"==e||"image"==e){let t=new a.SetBackgroundView;t.render({type:e,model:this.model})}},openColorPicker:function(){this.colorPicker||(this.colorPicker=new a.ColorPicker({model:this.model})),this.colorPicker.render()},openMainColorPicker:function(){this.mainColorPicker||(this.mainColorPicker=new a.mainColorPicker({model:this.model})),this.mainColorPicker.render()},changeBlur:function(){let e=this.$("#blur")[0].value,t=this.model.get("appearance");a.body.updateBlur(e),this.model.save("appearance",c.extend(t,{blur:e}))},switchTransparency:function(){let e=this.$("#transparency_switch")[0].checked,t=this.model.get("side_panel"),i=!!e&&n.TRANSPARENCY_VALUE;this.$(".transparency-setting .disabled").switchClass("hidden",e),this.$("#transparency")[0].value=n.TRANSPARENCY_VALUE,this.model.save("side_panel",c.extend(t,{transparency:i})),a.roster_view.updateTransparency(i)},changeNotificationsVolume:function(){let e=this.$("#notifications_volume")[0].value/100,t=this.$(".sound input[type=radio][name=private_sound]:checked").val()||this.$(".sound input[type=radio][name=group_sound]:checked").val();this.model.save("notifications_volume",e),t&&(this.current_sound&&this.current_sound.pause(),this.current_sound=a.playAudio(t,!1,e))},changeTransparency:function(){let e=this.$("#transparency")[0].value,t=this.model.get("side_panel");this.model.save("side_panel",c.extend(t,{transparency:e})),a.roster_view.updateTransparency(e)},changeVignetting:function(){let e=this.$("#vignetting")[0].value,t=this.model.get("appearance");a.body.updateBoxShadow(e),this.model.save("appearance",c.extend(t,{vignetting:e}))},switchVignetting:function(){let e=this.$("#vignetting_switch:checked").length,t=this.model.get("appearance"),i=!!e&&n.VIGNETTING_VALUE;this.$(".vignetting-setting .disabled").switchClass("hidden",e),this.$("#vignetting")[0].value=n.VIGNETTING_VALUE,this.model.save("appearance",c.extend(t,{vignetting:i})),a.body.updateBoxShadow(i)},switchBlur:function(){let e=this.$("#blur_switch:checked").length,t=this.model.get("appearance"),i=!!e&&n.BLUR_VALUE;this.$(".blur-setting .disabled").switchClass("hidden",e),this.$("#blur")[0].value=n.BLUR_VALUE,this.model.save("appearance",c.extend(t,{blur:i})),a.body.updateBlur(i)},setHotkeys:function(e){this.model.save("hotkeys",e.target.value)},setAvatarShape:function(e){this.model.save("avatar_shape",e.target.value),a.trigger("update_avatar_shape")},deleteAllAccounts:function(){o.dialogs.ask(a.getString("button_quit"),a.getString("settings__dialog_quit_client__confirm",[n.CLIENT_NAME]),null,{ok_button_text:a.getString("button_quit")}).done(e=>{e&&a.trigger("quit")})},changeLanguage:function(e){let t=e.target.value;o.dialogs.ask(a.getString("settings__dialog_change_language__header"),a.getString("settings__dialog_change_language__confirm"),null,{ok_button_text:a.getString("settings__dialog_change_language__button_change")}).done(e=>{e?(this.model.save("language",t),window.location.reload(!0)):this.$(`.languages-list input[type=radio][name=language][value="${this.model.get("language")}"]`).prop("checked",!0)})},showAddAccountView:function(){a.trigger("add_account",{right:null})},updateDescription:function(){let e=window.navigator.language,t=Object.keys(client_translation_progress).find(t=>!e.indexOf(t))||n.languages_another_locales[e]&&Object.keys(client_translation_progress).find(t=>!n.languages_another_locales[e].indexOf(t));if("default"!=e&&e.indexOf("en")||(t=100),!c.isUndefined(t)){let e,i;100==t?(e=a.getString("settings__interface_language__text_description_full_translation",[n.SHORT_CLIENT_NAME,n.SHORT_CLIENT_NAME]),i=a.getString("settings__interface_language__text_description_full_translation_platform",[`<a target="_blank" href='${a.getString("settings__section_interface_language__text_description___link")}'>${a.getString("settings__section_interface_language__text_description__text_link")}</a>`])):0==t?(e=a.getString("settings__section_interface_language__text_description_no_translations",[n.SHORT_CLIENT_NAME,n.SHORT_CLIENT_NAME]),i=a.getString("settings__interface_language__text_description_no_translation_platform",[`<a target="_blank" href='${a.getString("settings__section_interface_language__text_description___link")}'>${a.getString("settings__section_interface_language__text_description__text_link")}</a>`])):(e=a.getString("settings__interface_language__text_description_unfull_translation",[n.SHORT_CLIENT_NAME,n.SHORT_CLIENT_NAME]),i=a.getString("settings__section_interface_language__text_description_translation_platform",[`<a target="_blank" href='${a.getString("settings__section_interface_language__text_description___link")}'>${a.getString("settings__section_interface_language__text_description__text_link")}</a>`,n.EMAIL_FOR_JOIN_TRANSLATION])),this.$(".description").html(`${e}<br><br>${i}`)}}}),a.mainColorPicker=a.BasicView.extend({className:"modal main-modal main-color-picker",template:s.color_scheme,ps_selector:".modal-content",ps_settings:{theme:"item-list"},events:{"click .color-value":"setColor"},_initialize:function(e){this.model=e.model},render:function(){this.$el.openModal({ready:()=>{this.$(".modal-content").css("max-height",t(r(window).height()-341,456)).perfectScrollbar({theme:"item-list"})},complete:this.close.bind(this)})},setColor:function(e){let t=r(e.target).closest(".color-value").attr("data-value");this.model.save("main_color",t),a.trigger("update_main_color"),this.close()},close:function(){this.$el.closeModal({complete:()=>{this.$el.detach(),this.data.set("visible",!1)}})}}),a.ColorPicker=a.BasicView.extend({className:"modal main-modal color-picker",materialColors:[{color:"red",variations:[{weight:50,hex:"#FFEBEE"},{weight:100,hex:"#FFCDD2"},{weight:200,hex:"#EF9A9A"},{weight:300,hex:"#E57373"},{weight:400,hex:"#EF5350"},{weight:500,hex:"#F44336"},{weight:600,hex:"#E53935"},{weight:700,hex:"#D32F2F"},{weight:800,hex:"#C62828"},{weight:900,hex:"#B71C1C"}]},{color:"pink",variations:[{weight:50,hex:"#FCE4EC"},{weight:100,hex:"#F8BBD0"},{weight:200,hex:"#F48FB1"},{weight:300,hex:"#F06292"},{weight:400,hex:"#EC407A"},{weight:500,hex:"#E91E63"},{weight:600,hex:"#D81B60"},{weight:700,hex:"#C2185B"},{weight:800,hex:"#AD1457"},{weight:900,hex:"#880E4F"}]},{color:"purple",variations:[{weight:50,hex:"#F3E5F5"},{weight:100,hex:"#E1BEE7"},{weight:200,hex:"#CE93D8"},{weight:300,hex:"#BA68C8"},{weight:400,hex:"#AB47BC"},{weight:500,hex:"#9C27B0"},{weight:600,hex:"#8E24AA"},{weight:700,hex:"#7B1FA2"},{weight:800,hex:"#6A1B9A"},{weight:900,hex:"#4A148C"}]},{color:"deep-purple",variations:[{weight:50,hex:"#EDE7F6"},{weight:100,hex:"#D1C4E9"},{weight:200,hex:"#B39DDB"},{weight:300,hex:"#9575CD"},{weight:400,hex:"#7E57C2"},{weight:500,hex:"#673AB7"},{weight:600,hex:"#5E35B1"},{weight:700,hex:"#512DA8"},{weight:800,hex:"#4527A0"},{weight:900,hex:"#311B92"}]},{color:"indigo",variations:[{weight:50,hex:"#E8EAF6"},{weight:100,hex:"#C5CAE9"},{weight:200,hex:"#9FA8DA"},{weight:300,hex:"#7986CB"},{weight:400,hex:"#5C6BC0"},{weight:500,hex:"#3F51B5"},{weight:600,hex:"#3949AB"},{weight:700,hex:"#303F9F"},{weight:800,hex:"#283593"},{weight:900,hex:"#1A237E"}]},{color:"blue",variations:[{weight:50,hex:"#E3F2FD"},{weight:100,hex:"#BBDEFB"},{weight:200,hex:"#90CAF9"},{weight:300,hex:"#64B5F6"},{weight:400,hex:"#42A5F5"},{weight:500,hex:"#2196F3"},{weight:600,hex:"#1E88E5"},{weight:700,hex:"#1976D2"},{weight:800,hex:"#1565C0"},{weight:900,hex:"#0D47A1"}]},{color:"light-blue",variations:[{weight:50,hex:"#E1F5FE"},{weight:100,hex:"#B3E5FC"},{weight:200,hex:"#81D4FA"},{weight:300,hex:"#4FC3F7"},{weight:400,hex:"#29B6F6"},{weight:500,hex:"#03A9F4"},{weight:600,hex:"#039BE5"},{weight:700,hex:"#0288D1"},{weight:800,hex:"#0277BD"},{weight:900,hex:"#01579B"}]},{color:"cyan",variations:[{weight:50,hex:"#E0F7FA"},{weight:100,hex:"#B2EBF2"},{weight:200,hex:"#80DEEA"},{weight:300,hex:"#4DD0E1"},{weight:400,hex:"#26C6DA"},{weight:500,hex:"#00BCD4"},{weight:600,hex:"#00ACC1"},{weight:700,hex:"#0097A7"},{weight:800,hex:"#00838F"},{weight:900,hex:"#006064"}]},{color:"teal",variations:[{weight:50,hex:"#E0F2F1"},{weight:100,hex:"#B2DFDB"},{weight:200,hex:"#80CBC4"},{weight:300,hex:"#4DB6AC"},{weight:400,hex:"#26A69A"},{weight:500,hex:"#009688"},{weight:600,hex:"#00897B"},{weight:700,hex:"#00796B"},{weight:800,hex:"#00695C"},{weight:900,hex:"#004D40"}]},{color:"green",variations:[{weight:50,hex:"#E8F5E9"},{weight:100,hex:"#C8E6C9"},{weight:200,hex:"#A5D6A7"},{weight:300,hex:"#81C784"},{weight:400,hex:"#66BB6A"},{weight:500,hex:"#4CAF50"},{weight:600,hex:"#43A047"},{weight:700,hex:"#388E3C"},{weight:800,hex:"#2E7D32"},{weight:900,hex:"#1B5E20"}]},{color:"light-green",variations:[{weight:50,hex:"#F1F8E9"},{weight:100,hex:"#DCEDC8"},{weight:200,hex:"#C5E1A5"},{weight:300,hex:"#AED581"},{weight:400,hex:"#9CCC65"},{weight:500,hex:"#8BC34A"},{weight:600,hex:"#7CB342"},{weight:700,hex:"#689F38"},{weight:800,hex:"#558B2F"},{weight:900,hex:"#33691E"}]},{color:"lime",variations:[{weight:50,hex:"#F9FBE7"},{weight:100,hex:"#F0F4C3"},{weight:200,hex:"#E6EE9C"},{weight:300,hex:"#DCE775"},{weight:400,hex:"#D4E157"},{weight:500,hex:"#CDDC39"},{weight:600,hex:"#C0CA33"},{weight:700,hex:"#AFB42B"},{weight:800,hex:"#9E9D24"},{weight:900,hex:"#827717"}]},{color:"yellow",variations:[{weight:50,hex:"#FFFDE7"},{weight:100,hex:"#FFF9C4"},{weight:200,hex:"#FFF59D"},{weight:300,hex:"#FFF176"},{weight:400,hex:"#FFEE58"},{weight:500,hex:"#FFEB3B"},{weight:600,hex:"#FDD835"},{weight:700,hex:"#FBC02D"},{weight:800,hex:"#F9A825"},{weight:900,hex:"#F57F17"}]},{color:"amber",variations:[{weight:50,hex:"#FFF8E1"},{weight:100,hex:"#FFECB3"},{weight:200,hex:"#FFE082"},{weight:300,hex:"#FFD54F"},{weight:400,hex:"#FFCA28"},{weight:500,hex:"#FFC107"},{weight:600,hex:"#FFB300"},{weight:700,hex:"#FFA000"},{weight:800,hex:"#FF8F00"},{weight:900,hex:"#FF6F00"}]},{color:"orange",variations:[{weight:50,hex:"#FFF3E0"},{weight:100,hex:"#FFE0B2"},{weight:200,hex:"#FFCC80"},{weight:300,hex:"#FFB74D"},{weight:400,hex:"#FFA726"},{weight:500,hex:"#FF9800"},{weight:600,hex:"#FB8C00"},{weight:700,hex:"#F57C00"},{weight:800,hex:"#EF6C00"},{weight:900,hex:"#E65100"}]},{color:"deep-orange",variations:[{weight:50,hex:"#FBE9E7"},{weight:100,hex:"#FFCCBC"},{weight:200,hex:"#FFAB91"},{weight:300,hex:"#FF8A65"},{weight:400,hex:"#FF7043"},{weight:500,hex:"#FF5722"},{weight:600,hex:"#F4511E"},{weight:700,hex:"#E64A19"},{weight:800,hex:"#D84315"},{weight:900,hex:"#BF360C"}]},{color:"brown",variations:[{weight:50,hex:"#EFEBE9"},{weight:100,hex:"#D7CCC8"},{weight:200,hex:"#BCAAA4"},{weight:300,hex:"#A1887F"},{weight:400,hex:"#8D6E63"},{weight:500,hex:"#795548"},{weight:600,hex:"#6D4C41"},{weight:700,hex:"#5D4037"},{weight:800,hex:"#4E342E"},{weight:900,hex:"#3E2723"}]},{color:"grey",variations:[{weight:50,hex:"#FAFAFA"},{weight:100,hex:"#F5F5F5"},{weight:200,hex:"#EEEEEE"},{weight:300,hex:"#E0E0E0"},{weight:400,hex:"#BDBDBD"},{weight:500,hex:"#9E9E9E"},{weight:600,hex:"#757575"},{weight:700,hex:"#616161"},{weight:800,hex:"#424242"},{weight:900,hex:"#212121"}]},{color:"blue-grey",variations:[{weight:50,hex:"#ECEFF1"},{weight:100,hex:"#CFD8DC"},{weight:200,hex:"#B0BEC5"},{weight:300,hex:"#90A4AE"},{weight:400,hex:"#78909C"},{weight:500,hex:"#607D8B"},{weight:600,hex:"#546E7A"},{weight:700,hex:"#455A64"},{weight:800,hex:"#37474F"},{weight:900,hex:"#263238"}]}],ps_selector:".material-color-picker-wrap",events:{"click .color-palette-item":"selectColor","click .selected-color-hex":"updateInputField","focusout .selected-color-hex-input":"focusoutInputField","keyup .selected-color-hex-input":"keyUpInput","click .btn-set":"setColor"},_initialize(e){this.model=e.model,this.$el.html(s.color_picker({materialColors:this.materialColors}))},render:function(){this.$el.openModal({ready:()=>{let e=this.$(".selected-color-hex-input"),t=this.$(".selected-color-hex"),i=this.model.get("appearance").color||"#E0E0E0",n=this.materialColors.find(e=>e.variations.find(e=>e.hex.toLowerCase()==i.toLowerCase()));if(n){let e=n.variations.find(e=>e.hex.toLowerCase()==i.toLowerCase());this.$(".selected-color-name").text(a.getString(`account_color_name_${n.color.replace(/-/g,"_")}`).replace(/-/g," ")+` ${e.weight}`)}else this.$(".selected-color-name").text(a.getString("settings__section_appearance__hint_custom_color"));i&&(this.$(".selected-color-wrap").removeClass("hidden"),e.addClass("hidden"),t.removeClass("hidden").text(i),i&&this.$(".selected-color-item").css("background-color",i))},complete:this.close.bind(this)})},updateInputField:function(){let e=this.$(".selected-color-hex-input"),t=this.$(".selected-color-hex");e.removeClass("hidden"),e[0].value=t.text(),t.addClass("hidden")},keyUpInput:function(e){e.keyCode==n.KEY_ENTER&&(e.preventDefault(),this.focusoutInputField());let t=this.$(".selected-color-hex-input"),i=t[0].value.trim();this.$(".selected-color-item").css("background-color",i);let s=this.materialColors.find(e=>e.variations.find(e=>e.hex.toLowerCase()==i.toLowerCase()));if(s){let e=s.variations.find(e=>e.hex.toLowerCase()==i.toLowerCase());this.$(".selected-color-name").text(a.getString(`account_color_name_${s.color.replace(/-/g,"_")}`).replace(/-/g," ")+` ${e.weight}`)}else this.$(".selected-color-name").text(a.getString("settings__section_appearance__hint_custom_color"))},focusoutInputField:function(){let e=this.$(".selected-color-hex-input"),t=this.$(".selected-color-hex"),i=e[0].value.trim(),n=this.materialColors.find(e=>e.variations.find(e=>e.hex.toLowerCase()==i.toLowerCase()));if(n){let e=n.variations.find(e=>e.hex.toLowerCase()==i.toLowerCase());this.$(".selected-color-name").text(a.getString(`account_color_name_${n.color.replace(/-/g,"_")}`).replace(/-/g," ")+` ${e.weight}`)}else this.$(".selected-color-name").text(a.getString("settings__section_appearance__hint_custom_color"));e.addClass("hidden"),t.removeClass("hidden").text(i),this.$(".selected-color-item").css("background-color",i)},selectColor:function(e){let t=r(e.target),i=t.attr("data-hex"),n=t.closest(".color-palette-wrapper").attr("data-color-name").replace(/-/g,"_"),s=t.attr("data-weight");this.$(".selected-color-wrap").removeClass("hidden"),this.$(".selected-color-item").css("background-color",i),this.$(".selected-color-name").text(a.getString(`account_color_name_${n}`).replace(/-/g," ").replace(/-/g," ")+` ${s}`),this.$(".selected-color-hex").text(i);let o=this.$(".selected-color-hex-input"),d=this.$(".selected-color-hex");o.addClass("hidden"),d.removeClass("hidden")},setColor:function(){this.close();let e=this.model.get("appearance");this.model.save("appearance",c.extend(e,{color:this.$(".selected-color-hex").text()}))},close:function(){this.$el.closeModal({complete:()=>{this.$el.detach(),this.data.set("visible",!1),a.settings_view.updateColor()}})}}),a.SetBackgroundView=a.BasicView.extend({className:"modal main-modal settings-background background-panel",template:s.backgrounds_gallery,ps_selector:".modal-content",ps_settings:{theme:"item-list"},events:{"click .menu-btn":"updateActiveMenu","click .library-wrap .image-item":"setActiveImage",'change input[type="file"]':"onFileInputChanged","keyup input.url":"onInputChanged","click .btn-add":"addBackground","click .btn-cancel":"close"},_initialize:function(){this.$("input.url")[0].onpaste=this.onPaste.bind(this),this.ps_container.on("ps-scroll-y",this.onScrollY.bind(this))},render:function(e){this.model=e.model,this.type=e.type,this.createLibrary(),this.$(".menu-btn").removeClass("active"),this.$(".menu-btn[data-screen-name=\"library\"]").addClass("active"),"repeating-pattern"==this.type?this.$(".modal-header span").text(a.getString("settings__dialog_background__header_pattern")):this.$(".modal-header span").text(a.getString("settings__dialog_background__header_image")),this.$el.openModal({ready:()=>{this.$(".modal-content").css("max-height",t(r(window).height()-341,456)).perfectScrollbar({theme:"item-list"})},complete:this.close.bind(this)});let i=this.$(".upload-wrap");i[0].ondragenter=function(e){e.preventDefault(),i.addClass("file-drop")},i[0].ondragover=function(e){e.preventDefault()},i[0].ondragleave=function(e){r(e.relatedTarget).closest(".upload-wrap").length||(e.preventDefault(),i.removeClass("file-drop"))},i[0].ondrop=e=>{e.preventDefault(),e.stopPropagation(),i.removeClass("file-drop");let t=e.dataTransfer.files||[],a;for(let n=0;n<t.length;n++)if(o.isImageType(t[n].type)){a=t[n];break}a&&this.addFile(a)}},onScrollY:function(){"library"===this.$(".screen-wrap:not(.hidden)").attr("data-screen")&&5>this.getScrollBottom()&&this.loadMoreImages()},getImagesFromXML:function(e){if("repeating-pattern"==this.type&&this.model.patterns_library||"images"==this.type&&this.model.img_library)return void(e&&e());let t={type:"GET",contentType:"application/xml",dataType:"xml",success:t=>{"repeating-pattern"==this.type?this.onGetPatternsCallback(t):this.onGetImagesCallback(t),e&&e()}};t.url="repeating-pattern"==this.type?"./background-patterns.xml":"./background-images.xml",r.ajax(t)},onGetPatternsCallback:function(e){let t=[];r(e).find("image").each((e,a)=>{t.push({thumbnail:r(a).text()})}),this.model.patterns_library=t},onGetImagesCallback:function(e){let t=[];r(e).find("image").each((e,a)=>{let i=r(a),n=i.children("thumbnail").text(),s=i.children("fullscreen-image").text();t.push({thumbnail:n,fs_img:s})}),this.model.img_library=t},onPaste:function(e){let t=e.clipboardData.getData("text").trim();this.$(".image-preview img")[0].onload=()=>{this.$(".image-preview img").removeClass("hidden"),this.updateActiveButton()},this.$(".image-preview img").addClass("hidden")[0].src=t,this.updateActiveButton()},updateActiveMenu:function(e){let t=e.target.getAttribute("data-screen-name");this.$(".menu-btn").removeClass("active"),this.$(`.menu-btn[data-screen-name="${t}"]`).addClass("active"),this.updateScreen(t)},updateScreen:function(e){this.$(".screen-wrap").addClass("hidden"),this.$(`.screen-wrap[data-screen="${e}"]`).removeClass("hidden"),this.scrollToTop(),this.updateActiveButton()},updateActiveButton:function(){let e=this.$(".screen-wrap:not(.hidden)"),t=!0;"library"==e.attr("data-screen")?e.find("div.active").length&&(t=!1):e.find("img:not(.hidden)").length&&(t=!1),this.$(".modal-footer .btn-add").switchClass("non-active",t)},createLibrary:function(){this.getImagesFromXML(()=>{this.loadMoreImages(40)})},loadMoreImages:function(e){e||(e=20);let t=this.$(`.image-item`).length;if(!("repeating-pattern"==this.type&&t>=this.model.patterns_library.length||"images"==this.type&&t>=this.model.img_library.length))for(let a=t;a<t+e;a++){let e=r(`<div class="image-item"/>`),t="repeating-pattern"==this.type?this.model.patterns_library[a]:this.model.img_library[a];if(!t)break;e.css("background-image",`url("${t.thumbnail}")`),e.attr("data-src","repeating-pattern"==this.type?t.thumbnail:t.fs_img),this.$(".library-wrap").append(e)}},setActiveImage:function(e){let t=r(e.target);t.hasClass("active")?t.removeClass("active"):(this.$(".library-wrap>div").removeClass("active"),t.addClass("active")),this.updateActiveButton()},onFileInputChanged:function(e){let t=e.target,a;for(let n=0;n<t.files.length;n++)if(o.isImageType(t.files[n].type)){a=t.files[n];break}a&&this.addFile(a),r(t).val("")},addFile:function(e){let t=new FileReader;t.onload=t=>{let e=new Image,a=t.target.result;e.src=a,this.$(".screen-wrap[data-screen=\"upload\"] img").detach(),this.$(".screen-wrap[data-screen=\"upload\"]").prepend(e),this.updateActiveButton()},t.readAsDataURL(e)},onInputChanged:function(e){if(e.target.value.trim()!=this.$(".image-preview img")[0].src)if(e.target.value.trim()&&e.keyCode!==n.KEY_CTRL&&e.keyCode!==n.KEY_SHIFT&&e.keyCode!==n.KEY_ARROW_UP&&e.keyCode!==n.KEY_ARROW_DOWN&&e.keyCode!==n.KEY_ARROW_RIGHT&&e.keyCode!==n.KEY_ARROW_LEFT){let t=e.target.value.trim();this.$(".image-preview img")[0].onload=()=>{this.$(".image-preview img").removeClass("hidden"),this.updateActiveButton()},this.$(".image-preview img").addClass("hidden")[0].src=t,this.updateActiveButton()}else this.$(".image-preview img").addClass("hidden")[0].src="",this.updateActiveButton()},addBackground:function(){if(this.$(".btn-add").hasClass("non-active"))return;let e=new r.Deferred,t=this.$(".screen-wrap:not(.hidden)"),i;if(e.done(e=>{e?this.model.save("background",{type:this.type,image:e}):this.model.save("background",{type:"default"}),a.body.updateBackground(),this.close()}),"library"==t.attr("data-screen"))i=t.find("div.active").attr("data-src"),e.resolve(i);else if(i=t.find("img:not(.hidden)")[0].src,"web-address"==t.attr("data-screen")){let t={type:"GET",url:i,headers:{"Access-Control-Allow-Origin":"*"},dataType:"blob",success:function(t){i=t,e.resolve(i)},error:()=>{e.resolve(i)}};r.ajax(t)}else e.resolve(i)},close:function(){a.settings_view.updateBackgroundSetting(),this.$el.closeModal({complete:()=>{this.$el.detach(),this.data.set("visible",!1)}})}}),a.AboutView=a.BasicView.extend({className:"settings-panel about-panel",template:s.about,ps_selector:".panel-content",_initialize:function(){this.$(".xabber-info-wrap .version").text(this.model.get("version_number"))},render:function(){}}),a.DragManager=Backbone.Model.extend({initialize:function(){window.document.onmousedown=this.onMouseDown.bind(this),window.document.onmousemove=this.onMouseMove.bind(this),window.document.onmouseup=this.onMouseUp.bind(this)},onMouseDown:function(e){if(1==e.which){let t=e.target.closest(".drag-handle"),a=t&&t.closest(".draggable");return a?void this.set({elem:a,draghandle_elem:t,downX:e.pageX,downY:e.pageY}):this.resetElem()}},onMouseMove:function(t){if(!this.get("elem"))return;let a=this.get("avatar");if(!a){if(3>e(t.pageX-this.get("downX"))&&3>e(t.pageY-this.get("downY")))return;if(a=this.createAvatar(t),!a)return this.resetElem();this.set("avatar",a);let i=this.getCoords(a);this.set({shiftX:this.get("downX")-i.left,shiftY:this.get("downY")-i.top}),this.startDrag(t)}a.style.left=t.pageX-this.get("shiftX")+"px",a.style.top=t.pageY-this.get("shiftY")+"px";let i=this.findDropElem(t);this.updateDropElem(i)},onMouseUp:function(e){let t=document.querySelector(".recording");return t?void r(t).removeClass("recording"):void(this.get("avatar")&&this.finishDrag(e),this.resetElem())},resetElem:function(){this.set({elem:null,draghandle_elem:null,avatar:null})},getCoords:function(e){let t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},createAvatar:function(){let e=this.get("elem"),t=r(e),a=this.get("draghandle_elem"),i={parent:e.parentNode,nextSibling:e.nextSibling,position:e.position||"",left:e.left||"",top:e.top||"",zIndex:e.zIndex||"",avatar_cursor:e.style.cursor||"",draghandle_elem_cursor:a.style.cursor||""};return t.addClass("dragging"),e.style.cursor="-webkit-grabbing",a.style.cursor="-webkit-grabbing",e.rollback=function(){i.parent.insertBefore(e,i.nextSibling),t.removeClass("dragging"),e.style.position=i.position,e.style.left=i.left,e.style.top=i.top,e.style.zIndex=i.zIndex,e.style.cursor=i.avatar_cursor,a.style.cursor=i.draghandle_elem_cursor},e},startDrag:function(){let e=this.get("avatar");window.document.body.appendChild(e),e.style.zIndex=9999,e.style.position="absolute"},finishDrag:function(e){let t=this.get("elem"),a=this.get("avatar"),i=this.findDropElem(e);a.rollback(),this.updateDropElem(null),t&&i&&(r(t).trigger("drag_to",i),r(i).trigger("drag_from",t))},findDropElem:function(e){let t=this.get("avatar");t.hidden=!0;let a=window.document.elementFromPoint(e.clientX,e.clientY);return t.hidden=!1,a?a.closest(".droppable"):null},updateDropElem:function(e){let t=this.get("drop_elem");this.set("drop_elem",e),t&&r(t).removeClass("drag-on"),e&&r(e).addClass("drag-on")}}),c.extend(a,{modal_settings:{open:{in_duration:50,out_duration:100,opacity:.4},close:{out_duration:100}},ps_settings:{minScrollbarLength:40,suppressScrollX:!0,wheelSpeed:.5},startBlinkingFavicon:function(){this._blink_interval||(this._blink_interval=setInterval(()=>{let e=r("link[rel='shortcut icon']"),t;t=-1<e.attr("href").indexOf(this.cache.favicon)||-1<e.attr("href").indexOf(n.FAVICON_DEFAULT)?this.cache.favicon_message||n.FAVICON_MESSAGE:this.cache.favicon||n.FAVICON_DEFAULT,e.attr("href",t)},1e3))},stopBlinkingFavicon:function(){if(this._blink_interval){clearInterval(this._blink_interval),this._blink_interval=null;let e=this.cache.favicon||n.FAVICON_DEFAULT;r("link[rel='shortcut icon']").attr("href",e)}},onChangedAllMessageCounter:function(){this.get("all_msg_counter")?(this.startBlinkingFavicon(),window.document.title=a.getString("notofications__desktop_notification__text",[this.get("all_msg_counter")])):(this.stopBlinkingFavicon(),window.document.title=n.CLIENT_NAME)},setAllMessageCounter:function(){let e=0;return a.accounts.each(t=>{t.chats.each(t=>{t.contact&&!t.isMuted()&&(e+=t.get("unread")+t.get("const_unread"))})}),e},recountAllMessageCounter:function(){this.set("all_msg_counter",this.setAllMessageCounter())},resetMessageCounter:function(){this.set("all_msg_counter",0)},onChangedFocusState:function(){this.get("focused")&&this.resetMessageCounter()},openWindow:function(e){o.openWindow(e,()=>{o.dialogs.error(a.getString("notifications__error__text_could_not_open_new_tab"))})},popupNotification:function(e){let t=new window.Notification(e.title,{body:e.text,icon:e.icon});return setTimeout(t.close.bind(t),5e3),t},playAudio:function(e,t,a){(a||0===a)&&!isNaN(a)||(a=1),t=t||!1;let i=n.SOUNDS[e];if(i){let e=new window.Audio(i);return e.loop=t,e.volume=a,e.play(),e}},stopAudio:function(e){e&&(e.pause(),e.remove())},registerDOMEvents:function(){let e=this;r(window).on("blur focus",function(t){e.set("focused","focus"===t.type)}),r(window).on("resize",function(){e.set({width:window.innerWidth,height:window.innerHeight}),e.trigger("update_layout",{size_changed:!0})}),window.document.body.ondragover=e=>{e.preventDefault()},window.document.body.ondrop=e=>{e.preventDefault()}}}),a.once("start",function(){this.set("all_msg_counter",0),this.on("change:all_msg_counter",this.onChangedAllMessageCounter,this),this.on("change:focused",this.onChangedFocusState,this),this.set({focused:window.document.hasFocus(),width:window.innerWidth,height:window.innerHeight}),this.registerDOMEvents(),Materialize.modalSettings=this.modal_settings,this.drag_manager=new this.DragManager,this.body=new this.Body({model:this}),this.login_page=this.body.addChild("login",this.NodeView,{classlist:"login-page-wrap",el:r(document).find(".login-container")[0]}),this.toolbar_view=this.body.addChild("toolbar",this.ToolbarView),this.settings.appearance.color&&this.toolbar_view.updateColor(this.settings.appearance.color),this.blur_overlay=this.body.addChild("blur_overlay",this.NodeView,{classlist:"blur-overlay"}),this.main_panel=this.body.addChild("main",this.NodeView,{classlist:"main-wrap"}),this.body.updateBlur(this.settings.appearance.blur),this.left_panel=this.main_panel.addChild("left",this.NodeView,{classlist:"panel-wrap left-panel-wrap"}),this.right_panel=this.main_panel.addChild("right",this.NodeView,{classlist:"panel-wrap right-panel-wrap"}),this.right_contact_panel=this.main_panel.addChild("right_contact",this.NodeView,{classlist:"panel-wrap right-contact-panel-wrap"}),this.wide_panel=this.main_panel.addChild("wide",this.NodeView,{classlist:"panel-wrap wide-panel-wrap"}),this.placeholders_wrap=this.main_panel.addChild("placeholders",this.NodeView,{classlist:"wide-placeholders-wrap"}),this.settings_view=this.wide_panel.addChild("settings",this.SettingsView,{model:this._settings})},a),a}}),define("xabber-api-service",[],function(){return function(e){let t=e.env,a=t.constants,i=t.templates.api_service,n=t.utils,s=t.$,o=t._;return e.AccountSettings=Backbone.Model.extend({idAttribute:"jid",defaults:{timestamp:0,to_sync:!1,synced:!1,deleted:!1},update_timestamp:function(){this.save("timestamp",n.now())},update_settings:function(e){this.save(o.extend({timestamp:n.now()},e))},request_data:function(){return{jid:this.get("jid"),timestamp:this.get("timestamp"),settings:o.omit(this.attributes,["jid","timestamp","order","to_sync","synced","deleted"])}}}),e.AccountSettingsList=Backbone.CollectionWithStorage.extend({model:e.AccountSettings,create_from_server:function(e){let t=this.create(o.extend({jid:e.jid,timestamp:e.timestamp,to_sync:!0,synced:!0},e.settings));return this.trigger("add_settings",t),t}}),e.AccountsOrderTimestamp=Backbone.ModelWithStorage.extend({defaults:{timestamp:0}}),e.APIAccount=Backbone.ModelWithStorage.extend({defaults:{token:null,sync_all:!0},_initialize:function(t,a){if(this.list=a.settings_list,this.save({connected:!1,sync_request:"silent"}),this.on("change:connected",function(){this.get("connected")?this.fcm_subscribe():this.fcm_unsubscribe()},this),this.on("change:token",function(){null!==this.get("token")&&this.save({sync_all:!0,sync_request:this.list.length?"window":"silent"})},this),this.list.on("change:to_sync",function(e){this.get("sync_all")&&!e.get("to_sync")&&this.save("sync_all",!1)},this),e.on("push_message",function(e){this.get("connected")&&e.username===this.get("username")&&e.from_token!==this.get("token")&&"settings_updated"===e.action&&(this.synchronize_main_settings(),this.synchronize_order_settings()),this.get("connected")&&e.username===this.get("username")&&e.from_token!==this.get("token")&&"account_updated"===e.action&&this.get_settings()},this),this.ready=new s.Deferred,e.url_params.social_auth){let t=e.url_params.social_auth;delete e.url_params.social_auth;try{let e=JSON.parse(atob(t));return this.save("token",null),void this.social_login(e)}catch(t){}}e.url_params.token&&(this.save("token",e.url_params.token),delete e.url_params.token),this.get("token")?this.login_by_token():this.ready.resolve()},_call_method:function(e,t,i,n,o){let d={type:e,url:a.API_SERVICE_URL+t,headers:{Authorization:"Token "+this.get("token")},context:this,contentType:"application/json",dataType:"json",success:e=>{n&&n(e)},error:e=>{this.onAPIError(e,o)}};i&&(d.data=JSON.stringify(i)),s.ajax(d)},add_source:function(t){return o.extend({source:`${a.CLIENT_NAME} ${e.get("version_number")}`},t)},get_settings:function(){null===this.get("token")?this.trigger("settings_result",null):this._call_method("GET","/accounts/current/",null,t=>{"registered"===t.account_status?(this.onUserData(t),this._call_method("GET","/accounts/current/client-settings/",null,this.onSettings.bind(this),this.onSettingsFailed.bind(this))):(n.dialogs.error(e.getString("xabber_account__sync__error_no_permission_to_sync")),this.save({token:null,connected:!1}),this.trigger("settings_result",null))},this.onSettingsFailed.bind(this))},delete_settings:function(e){this.get("connected")?this._call_method("DELETE","/accounts/current/client-settings/",{jid:e},this.onSettings.bind(this),this.onSettingsFailed.bind(this)):this.trigger("settings_result",null)},synchronize_main_settings:function(){if(this.get("connected")){let e=o.map(this.list.where({to_sync:!0}),function(e){return e.request_data()});e.length?this._call_method("PATCH","/accounts/current/client-settings/",{settings_data:e},this.onSettings.bind(this),this.onSettingsFailed.bind(this)):this.get_settings()}else this.trigger("settings_result",null)},synchronize_order_settings:function(){if(this.get("connected")&&this.get("sync_all")){let e=this.list.order_timestamp.get("timestamp"),t=this.list.map(function(e){return{jid:e.get("jid"),order:e.get("order")}});this._call_method("PATCH","/accounts/current/client-settings/",{order_data:{settings:t,timestamp:e}},this.onSettings.bind(this),this.onSettingsFailed.bind(this))}else this.trigger("settings_result",null)},fetch_from_server:function(e){let t=e.deleted,a=e.settings_data,i=e.order_data.timestamp,s=e.order_data.settings,d=this.list,r=this.get("sync_all");if(o.each(t,e=>{let t=d.get(e.jid);t&&t.get("to_sync")&&t.get("timestamp")<=e.timestamp&&t.trigger("delete_account",!0)}),o.each(a,function(e){let t=d.get(e.jid);t&&(t.get("to_sync")?t.save(o.extend({timestamp:e.timestamp,deleted:!1,synced:!0},e.settings)):t.save("synced",e.timestamp>=t.get("timestamp"))),!t&&r&&(t=d.create_from_server(e))}),r){let e={},t=1;o.each(s,function(a){e[a.jid]=a.order,a.order>t&&(t=a.order)}),d.order_timestamp.save("timestamp",i),d.each(a=>{let i=a.get("jid"),n=e[i];n||(t+=1,n=t),a.save("order",n)})}this.trigger("settings_result",e),this.save("last_sync",n.now())},onAPIError:function(t,a){let i=t.status,s=t.responseJSON;403===i&&(this.save({connected:!1,token:null}),"Invalid token"===s.detail&&("not_found"===s.reason||("revoked"===s.reason?o.each(this.list.where({to_sync:!0}),function(e){e.trigger("delete_account",!0)}):"expired"===s.reason&&n.dialogs.common(e.getString("xabber_account__login__dialog_error__header"),e.getString("xabber_account__login__dialog_error__text"),{ok_button:{text:e.getString("yes")},cancel_button:{text:e.getString("dialog_version_update__option_not_now")}}).done(e=>{e&&this.trigger("relogin")})))),a&&a(s,i)},_login:function(e,t,i){let o={type:"POST",url:a.API_SERVICE_URL+"/accounts/login/",contentType:"application/json",dataType:"json",data:JSON.stringify(this.add_source()),success:t,error:e=>{this.onAPIError(e,i)}};if(e.token)o.headers={Authorization:"Token "+e.token};else{let t=e.username,a=e.password;o.headers={Authorization:"Basic "+n.utoa(t+":"+a)}}s.ajax(o)},login:function(e,t){this._login({username:e,password:t},this.onLogin.bind(this),this.onLoginFailed.bind(this))},login_by_token:function(){this._login({token:this.get("token")},this.onLoginByToken.bind(this),this.onLoginByTokenFailed.bind(this))},social_login:function(e){s.ajax({type:"POST",url:a.API_SERVICE_URL+"/accounts/social_auth/",contentType:"application/json",dataType:"json",data:JSON.stringify(this.add_source(e)),success:this.onSocialLogin.bind(this),error:e=>{this.onAPIError(e,this.onSocialLoginFailed.bind(this))}})},revoke_token:function(){let e=this.get("token");null!==e&&this._call_method("delete","/accounts/current/tokens/",{token:e}),this.save({connected:!1,token:null}),this.storage.clear()},onLoginByToken:function(e){this.save({token:e.token,connected:!0,sync_request:"silent"}),this.get_settings(),this.ready.resolve()},onLoginByTokenFailed:function(){this.save("connected",!1),this.ready.resolve()},onLogin:function(e){this.save({token:e.token,connected:!0}),this.get_settings()},onLoginFailed:function(e){this.save("connected",!1),this.trigger("login_failed",e)},onSocialLogin:function(t){this.save({token:t.token,connected:!0}),e.body.setScreen("settings"),this.ready.resolve()},onSocialLoginFailed:function(){this.save("connected",!1),e.body.setScreen("settings"),n.dialogs.error(e.getString("xabber_account__login__error_auth_failed")),this.ready.resolve()},onUserData:function(e){let t,a;t=e.first_name&&e.last_name?e.first_name+" "+e.last_name:e.username,e.xmpp_binding&&(a=e.xmpp_binding.jid),this.save({username:e.full_id,name:t,linked_email_list:e.email_list,linked_social:e.social_bindings,xmpp_binding:a})},onSettings:function(t){let a=this.get("sync_request");this.save("sync_request",void 0),"window"===a?(!e.sync_settings_view&&(e.sync_settings_view=new e.SyncSettingsView({model:this})),this.trigger("open_sync_window",t)):this.fetch_from_server(t)},onSettingsFailed:function(){this.trigger("settings_result",null)},logout:function(){n.dialogs.ask(e.getString("button_quit"),e.getString("logout_summary"),[{name:"delete_accounts",checked:!0,text:e.getString("xabber_account__dialog_logout__option_delete_accounts")}],{ok_button_text:e.getString("button_quit")}).done(t=>{t&&(0<e.accounts.connected.length&&o.each(e.accounts.connected,e=>{e.set("auto_login_xa",!1),e.save("auto_login_xa",!1)}),this.revoke_token(),t.delete_accounts&&o.each(this.list.where({to_sync:!0}),e=>{e.trigger("delete_account",!0)}))})},start:function(){this.get("connected")||this.fcm_unsubscribe(),this.get_settings()},fcm_subscribe:function(){this._call_method("post","/fcm/subscription/",{endpoint_key:e.cache.endpoint_key})},fcm_unsubscribe:function(){s.ajax({type:"DELETE",url:a.API_SERVICE_URL+"/fcm/subscription/",contentType:"application/json",dataType:"json",data:JSON.stringify({endpoint_key:e.cache.endpoint_key})})}}),e.APIAccountAuthView=e.BasicView.extend({_initialize:function(){return this.$username_input=this.$("input[name=username]"),this.$password_input=this.$("input[name=password]"),this.data.on("change:authentication",this.onChangeAuthenticationState,this),this},onRender:function(){this.authFeedback({}),Materialize.updateTextFields(),this.$username_input.val("").focus(),this.$password_input.val(""),this.updateButtons()},keyUp:function(e){e.keyCode===a.KEY_ENTER&&this.submit()},submit:function(){if(this.data.get("authentication"))return void this.cancel();this.data.set("authentication",!0),this.authFeedback({});let t=this.$username_input.val(),a=this.$password_input.val();return t?(t=t.trim(),a?void(a=a.trim(),this.authFeedback({password:e.getString("account_auth__feedback__text_authentication")}),this.model.login(t,a)):this.errorFeedback({password:e.getString("dialog_change_password__error__text_input_pass")})):this.errorFeedback({username:e.getString("account_auth__error__text_input_username")})},cancel:function(){this.data.set("authentication",!1),this.onRender()},authFeedback:function(e){this.$username_input.switchClass("invalid",e.username).siblings("span.errors").text(e.username||""),this.$password_input.switchClass("invalid",e.password).siblings("span.errors").text(e.password||"")},errorFeedback:function(e){this.authFeedback(e),this.data.set("authentication",!1)},updateButtons:function(){let e=this.data.get("authentication");this.$(".btn-log-in").switchClass("disabled",e)},onChangeAuthenticationState:function(){this.updateButtons(),this.data.get("authentication")?(this.model.on("change:connected",this.onChangeConnected,this),this.model.on("login_failed",this.onLoginFailed,this)):(this.model.off("change:connected",this.onChangeConnected,this),this.model.off("login_failed",this.onLoginFailed,this))},onChangeConnected:function(){this.model.get("connected")&&this.successFeedback()},onLoginFailed:function(t){this.errorFeedback({password:t&&t.detail||e.getString("connection__error__text_authentication_failed_short")})},socialAuth:function(t){let i=window.location.href,n=s(t.target).closest(".btn-social").data("provider");"email"==n?(this.closeModal(),e.email_auth_view.show()):window.location.href=a.XABBER_ACCOUNT_URL+"/social/login/"+n+"/?origin="+i+"&source=Xabber Web"}}),e.XabberLoginByEmailPanel=e.APIAccountAuthView.extend({className:"login-panel add-xabber-account-panel",template:i.xabber_login_by_email,events:{"click .btn-cancel":"close","click .btn-log-in":"submit","keyup input[name=password]":"keyUp"},render:function(){this.$el.openModal({opacity:.9,ready:this.onRender.bind(this),complete:this.close.bind(this)})},successFeedback:function(){this.authFeedback({}),this.data.set("authentication",!1),this.close()},onRender:function(){Materialize.updateTextFields(),this.$username_input.val("").focus(),this.$password_input.val("")},close:function(){this.$el.closeModal({complete:this.hide.bind(this)})}}),e.XabberLoginPanel=e.APIAccountAuthView.extend({className:"login-panel",template:i.xabber_login,events:{"click .login-type":"changeLoginType","click .btn-log-in":"submit","click .btn-social":"socialAuth","click .btn-escape":"openXmppLoginPanel","keyup input[name=password]":"keyUp"},render:function(){this.onRender()},successFeedback:function(){this.authFeedback({}),this.data.set("authentication",!1),e.body.setScreen("all-chats")},changeLoginType:function(){e.body.setScreen("login",{login_screen:"xmpp"})},openXmppLoginPanel:function(){e.body.setScreen("login",{login_screen:"xmpp"})}}),e.AddAPIAccountView=e.APIAccountAuthView.extend({className:"login-panel add-xabber-account-panel",template:i.add_xabber_account,events:{"click .account-field .dropdown-content":"selectAccount","click .btn-add":"loginXabberAccount","keyup input[name=password]":"keyUp","click .btn-social":"socialAuth","click .btn-cancel":"closeModal"},render:function(t){if(!e.accounts.connected.length)return void n.dialogs.error(e.getString("dialog_add_contact__error__text_no_accounts"));t||(t={});let a=e.accounts.connected,i=t.jid||"";return this.$("input[name=\"username\"]").val(i).attr("readonly",!!i).removeClass("invalid"),this.$(".single-acc").showIf(1===a.length),this.$(".multiple-acc").hideIf(1===a.length),this.$(".account-field .dropdown-content").empty(),o.each(a,e=>{this.$(".account-field .dropdown-content").append(this.renderAccountItem(e))}),this.bindAccount(a[0]),this.$("span.errors").text(""),this.$el.openModal({opacity:.9,ready:()=>{this.onRender.bind(this),this.$(".account-field .dropdown-button").dropdown({inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"})},complete:this.closeModal.bind(this)}),this},bindAccount:function(e){this.$(".account-field .dropdown-button .account-item-wrap").replaceWith(this.renderAccountItem(e))},renderAccountItem:function(e){let a=s(t.templates.contacts.add_contact_account_item({jid:e.get("jid")}));return a.find(".circle-avatar").setAvatar(e.cached_image,this.avatar_size),a},selectAccount:function(t){let a=s(t.target).closest(".account-item-wrap"),i=e.accounts.get(a.data("jid"));this.bindAccount(i),this.loginXabberAccount(i)},loginXabberAccount:function(e){e.set("auto_login_xa",!0),e.authXabberAccount(),this.closeModal()},successFeedback:function(){this.authFeedback({}),this.data.set("authentication",!1),this.closeModal()},onHide:function(){this.$el.detach()},closeModal:function(){this.$el.closeModal({complete:this.hide.bind(this)})}}),e.SyncSettingsView=e.BasicView.extend({className:"modal main-modal sync-settings-modal noselect",template:i.sync_settings,ps_selector:".modal-content",avatar_size:a.AVATAR_SIZES.SYNCHRONIZE_ACCOUNT_ITEM,events:{"click .btn-sync":"syncSettings","click .btn-cancel":"close","change .sync-all":"changeSyncAll","change .sync-one":"changeSyncOne","click .sync-icon":"changeSyncWay"},_initialize:function(){this.settings=null,this.to_sync_map=null,this.model.on("open_sync_window",this.render,this)},render:function(e){this.settings=e,this.sync_all=this.model.get("sync_all"),this.accounts=[],this.$el.openModal({ready:this.onRender.bind(this),complete:this.close.bind(this)})},onRender:function(){this.$(".accounts-wrap").empty();let e=this.model.list,t={},a={},i={},n={};o.each(this.settings.settings_data,function(e){i[e.jid]=e}),this.settings_map=i,o.each(this.settings.order_data.settings,function(e){n[e.jid]=e.order}),o.each(this.settings.deleted,function(e){a[e.jid]=e.timestamp}),o.each(i,(a,i)=>{e.get(i)||(t[i]=o.extend({jid:i,to_sync:this.sync_all,sync_way:"from_server"},a))}),e.each(e=>{let n=e.get("jid"),s=i[n],d;o.has(a,n)?(d=a[n]>=e.get("timestamp")?"delete":"to_server",t[n]=o.extend({sync_way:d,sync_choose:["delete","to_server"]},o.omit(e.attributes,["order"])),e.save("synced",!1)):s?(d=s.timestamp>e.get("timestamp")?"from_server":s.timestamp<e.get("timestamp")?"to_server":"no",t[n]=o.extend({jid:n,to_sync:e.get("to_sync"),sync_way:d,sync_choose:"no"!==d&&["from_server","to_server"]},s.settings),e.save("synced","no"===d)):(t[n]=o.extend({sync_way:"to_server"},o.omit(e.attributes,["order"])),e.save("synced",!1))});let s=o.max(n)||0;o.each(n,(e,a)=>{t[a].order=e}),e.each(e=>{let a=e.get("jid");t[a].order||(t[a].order=++s)}),this.accounts_map=t,this.accounts=o.map(t,function(e){return e}),this.accounts.sort(function(e,t){return e.order-t.order}),o.each(this.accounts,this.addAccountHtml.bind(this)),this.updateSyncOptions()},addAccountHtml:function(e){let t=e.jid,a=s(i.sync_settings_account_item({jid:t,view:this}));this.$(".accounts-wrap").append(a)},updateAccountHtml:function(t){let i=s(t),n=i.data("jid"),o=this.accounts_map[n];this.sync_all&&(o.to_sync=!0),i.switchClass("sync",o.to_sync),i.find(".sync-one").prop("checked",o.to_sync);let d=o.to_sync?o.sync_way:this.model.list.get(n)?"off_local":"off_remote";let r=a.SYNC_WAY_DATA[d].icon,c=i.find(".sync-icon");c.removeClass(c.attr("data-mdiclass")).attr("data-mdiclass",r).addClass(r),i.find(".sync-tip").text(e.getString(a.SYNC_WAY_DATA[d].tip))},updateSyncOptions:function(){let e=this.model.list,t=this.sync_all,a=this.accounts_map;this.$(".sync-all").prop("checked",t?"checked":""),this.$(".sync-one").prop("disabled",t?"disabled":""),this.$(".account-wrap").each((e,t)=>{this.updateAccountHtml(t)})},changeSyncAll:function(e){let t=s(e.target),a=t.prop("checked");this.sync_all=a,this.$(".sync-one").prop("disabled",a?"disabled":""),a&&(o.each(this.accounts,e=>{e.to_sync=!0}),this.$(".account-wrap").each((e,t)=>{this.updateAccountHtml(t)}))},changeSyncOne:function(e){let t=s(e.target),a=t.prop("checked"),i=t.closest(".account-wrap"),n=i.data("jid");this.accounts_map[n].to_sync=a,this.updateAccountHtml(i)},changeSyncWay:function(e){let t=s(e.target).closest(".account-wrap"),a=t.data("jid"),i=this.accounts_map[a];if(!i.to_sync||!i.sync_choose)return;let n=i.sync_choose,o=n.indexOf(i.sync_way)+1;o===n.length&&(o=0),i.sync_way=n[o],this.updateAccountHtml(t)},syncSettings:function(){let e=this.model.list,t=this.sync_all;this.model.save("sync_all",this.sync_all),o.each(this.accounts,function(a){let i=a.jid,n=e.get(i);if(n){n.save("to_sync",a.to_sync),t&&n.save("order",a.order);let e=a.sync_way;"to_server"===e?n.update_timestamp():("from_server"===e||"delete"===e)&&n.save("timestamp",0)}!n&&a.to_sync&&(n=e.create_from_server(o.omit(a,["sync_way","sync_choose"])))}),this.model.synchronize_main_settings(),this.do_sync=!0,this.close()},onHide:function(){this.$el.detach(),e.body.isScreen("blank")&&e.body.setScreen("all-chats")},close:function(){this.do_sync||this.model.trigger("settings_result",null),this.do_sync=null,this.settings=null,this.settings_map=null,this.closeModal()},closeModal:function(){this.$el.closeModal({complete:this.hide.bind(this)})}}),e.APIAccountView=e.BasicView.extend({className:"setting xabber-account",template:i.xabber_account,avatar_size:a.AVATAR_SIZES.XABBER_ACCOUNT,events:{"click .account-info-wrap":"openAccount","click .btn-login":"login","click .btn-logout":"logout","click .btn-set-password":"setPassword","click .btn-sync-settings":"synchronize","click .social-linked-header":"changeExpanded","click .btn-unlink":"unlinkSocial","click .btn-link":"linkSocial","click .btn-verify-email":"verifyEmail"},_initialize:function(){this.$el.appendTo(this.parent.$(".settings-block-wrap.xabber-account")),this.$tab=this.parent.$(".xabber-account-tab"),this.updateForConnectedStatus(),this.default_color=n.images.getDefaultColor(this.model.get("username")),this.model.on("change:username",this.updateName,this),this.model.on("change:name",this.updateAvatar,this),this.model.on("change:connected",this.updateForConnectedStatus,this),this.model.on("change:last_sync",this.updateLastSyncInfo,this),this.model.on("change:linked_email_list",this.updateSocialBindings,this),this.model.on("change:linked_social",this.updateSocialBindings,this),this.model.on("relogin",this.login,this),this.data.on("change:sync",this.updateSyncButton,this),this.data.on("change:expanded",this.updateExpanded,this),this.data.set("expanded",!1)},render:function(){this.data.set("sync",!1),this.$("span.errors ").html(""),this.updateLastSyncInfo(),this.updateSocialBindings(),this.$(".btn-more").dropdown({inDuration:100,outDuration:100,hover:!1})},changeExpanded:function(){this.data.set("expanded",!this.data.get("expanded"))},updateExpanded:function(){let e=this.data.get("expanded");this.$(".arrow").switchClass("mdi-chevron-down",e),this.$(".arrow").switchClass("mdi-chevron-right",!e),this.$(".social-linked-wrap").showIf(e)},updateSocialBindings:function(){let t=this.model.get("linked_email_list"),a=this.model.get("linked_social");this.$(".email-linked").remove(),this.$(".social-account").each(function(t,a){let i=s(a);i.addClass("not-linked"),i.find(".synced-info").text(e.getString("title_not_linked_account")),i.find(".btn-link").text(e.getString("action_connect")).removeClass("btn-unlink")}),o.each(t,e=>{let t=e.id,a=e.email,n=e.verified,o=s(i.linked_email_item({email_id:t,email:a,verified:n,color:this.default_color}));o.insertBefore(this.$("#email.not-linked"))}),o.each(a,t=>{let a=t.provider,i=t.first_name+" "+t.last_name;this.$("."+a+"-linked").removeClass("not-linked"),this.$("."+a+"-linked .btn-link").text(e.getString("action_disconnect")).addClass("btn-unlink"),this.$("."+a+"-linked .synced-info").html(s(`<div class="name one-line">${i}</div><div class="verified-status one-line">${e.getString("title_linked_account",[a])}</div>`))})},linkSocial:function(t){if(this.model.get("token")&&!s(t.target).hasClass("btn-unlink")){let a=s(t.target).closest(".social-linked-item-wrap"),i=a.attr("id");"email"===i?n.dialogs.ask_enter_value(e.getString("xabber_account__dialog_add_email__header"),null,{input_placeholder_value:e.getString("xabber_account__dialog_add_email__hint_enter_email")},{ok_button_text:e.getString("action_connect")}).done(e=>{e&&this.model._call_method("POST","/accounts/current/email_list/",{email:e},e=>{let t=this.model.get("linked_email_list");t.push(e),this.model.set("linked_email_list",t),this.updateSocialBindings()},e=>{this.$("span.errors ").text(e.email[0])})}):this.openAccount()}},verifyEmail:function(t){let a=s(t.target),i=a.closest(".social-linked-item-wrap"),o=i.data("email");n.dialogs.ask_enter_value(e.getString("title_email_confirm"),null,{input_placeholder_value:e.getString("xabber_account__dialog_confirm_email__hint_enter_code")},{ok_button_text:e.getString("button_confirm"),resend_button_text:e.getString("button_resend_link"),resend_to:o}).done(e=>{e&&(e===o?this.model._call_method("POST","/accounts/current/email_list/",{email:e}):this.model._call_method("POST","/accounts/email_confirmation/",{code:e},e=>{let t=e.email_list;this.model.set("linked_email_list",t),this.updateSocialBindings()},e=>{this.$("span.errors").text(e.code[0])}))})},unlinkSocial:function(t){let a=s(t.target);if(!a.hasClass("btn-verify-email")){let t=a.closest(".social-linked-item-wrap"),i=t.attr("id"),s=t.data("email");if(s){t.data("email");n.dialogs.ask(e.getString("xabber_account__dialog_unlink_email__header"),e.getString("title_delete_email"),null,{ok_button_text:e.getString("action_disconnect")}).done(e=>{e&&this.model._call_method("DELETE","/accounts/current/email_list/"+t.data("id")+"/",null,()=>{let e=this.model.get("linked_email_list"),a=e.indexOf(e.find(e=>e.id===t.data("id")));e.splice(a,1),this.model.set("linked_email_list",e),this.updateSocialBindings()},()=>{this.model.get_settings()})})}else"email"!==i&&n.dialogs.ask(e.getString("xabber_account__dialog_unlink_social__header"),e.getString("title_delete_social",[i]),null,{ok_button_text:e.getString("action_disconnect")}).done(e=>{e&&this.model._call_method("POST","/accounts/current/social_unbind/",{provider:i},()=>{let e=this.model.get("linked_social"),t=e.indexOf(e.find(e=>e.provider===i));e.splice(t,1),this.model.set("linked_social",e),this.updateSocialBindings()},()=>{this.model.get_settings()})})}},updateName:function(){this.$(".account-info-wrap .name").text(this.model.get("username")),this.default_color=n.images.getDefaultColor(this.model.get("username"))},updateAvatar:function(){let e=this.model.get("name"),t=this.model.get("image")||n.images.getDefaultAvatar(e);this.$(".circle-avatar").setAvatar(n.images.getCachedImage(t),this.avatar_size)},updateForConnectedStatus:function(){let e=this.model.get("connected");this.$tab.switchClass("online",e).switchClass("offline",!e),this.$(".linked-social-accounts-and-emails").showIf(e),this.$(".account-info-wrap").showIf(e),this.$(".sync-wrap").showIf(e),e&&(this.updateName(),this.updateAvatar(),this.updateSyncButton(),this.updateLastSyncInfo()),this.$(".btn-login").hideIf(e),this.$(".btn-more").showIf(e)},updateSyncButton:function(){let e=this.data.get("sync");this.$(".btn-sync .button").hideIf(e),this.$(".btn-sync .preloader-wrapper").showIf(e)},updateLastSyncInfo:function(){let a=this.model.get("last_sync");if(a){let i=n.now()-a;this.$(".last-sync-info").text(e.getString("xabber_account__last_sync__text",[t.moment(t.moment.now()-1e3*i).fromNow()]))}else this.$(".last-sync-info").text(e.getString("xabber_account__last_sync__not_synced"))},synchronize:function(){this.data.get("sync")||(this.data.set("sync",!0),this.model.once("settings_result",function(){this.data.set("sync",!1)},this),this.model.save("sync_request","window"),this.model.get_settings())},login:function(){if(e.add_api_account_view&&1<e.accounts.connected.length)e.add_api_account_view.show();else{let t=e.accounts.connected[0];t&&(t.set("auto_login_xa",!0),t.authXabberAccount())}},logout:function(){this.model.logout()},onPasswordResetFailed:function(){n.dialogs.error(e.getString("password_reset_need_email"))},setPassword:function(){let t=this.model.get("linked_email_list");if(t){let i=t.find(e=>!0===e.verified);-1==t.indexOf(i)?this.onPasswordResetFailed():s.ajax({type:"POST",url:a.API_SERVICE_URL+"/accounts/password_reset_request/",contentType:"application/json",dataType:"json",data:JSON.stringify({email:i.email}),success:()=>{n.dialogs.notify(e.getString("button_reset_pass"),e.getString("password_reset_success",[i.email]))},error:this.onPasswordResetFailed.bind(this)})}else this.onPasswordResetFailed()},openAccount:function(){n.openWindow(a.XABBER_ACCOUNT_URL+"/?token="+this.model.get("token"))}}),e.once("start",function(){this.account_settings_list=new this.AccountSettingsList(null,{storage_name:this.getStorageName()+"-account-settings"}),this.account_settings_list.fetch(),this.account_settings_list.order_timestamp=new this.AccountsOrderTimestamp({id:"accounts-order-timestamp"},{storage_name:this.getStorageName(),fetch:"after"}),a.ENABLE_XABBER_ACCOUNT&&(this.api_account=new this.APIAccount({id:"api-account"},{storage_name:this.getStorageName(),fetch:"before",settings_list:this.account_settings_list})),this.xabber_login_panel=e.login_page.addChild("xabber_login",this.XabberLoginPanel,{model:this.api_account}),a.ENABLE_XABBER_ACCOUNT&&(this.settings_view.addChild("api-account",this.APIAccountView,{model:this.api_account}),this.add_api_account_view=new this.AddAPIAccountView({model:this.api_account}),this.email_auth_view=new e.XabberLoginByEmailPanel({parent:this.add_api_account_view,model:this.api_account}))},e),e}}),define("xabber-strophe",[],function(){var e=String.fromCharCode,t=Math.max;return function(a){let n=a.env,s=n.uuid,o=n.$iq,d=n.utils,r=n.Strophe,c=n.constants;r.log=function(e,t){let a=c.LOG_LEVEL===c.LOG_LEVEL_DEBUG||c.LOG_LEVEL>=c.LOG_LEVEL_WARN&&e>=r.LogLevel.WARN||c.LOG_LEVEL>=c.LOG_LEVEL_ERROR&&e>=r.LogLevel.ERROR;a&&(console.info("Strophe log: "),console.info(t)),t&&t.includes("policy-violation")&&e===r.LogLevel.ERROR&&d.dialogs.error(t)},r.addConnectionPlugin("register",{_connection:null,init:function(e){this._connection=e;let a=0;Object.keys(r.Status).forEach(function(e){a=t(a,r.Status[e])}),r.addNamespace("REGISTER","jabber:iq:register"),r.Status.REGIFAIL=a+1,r.Status.REGISTER=a+2,r.Status.REGISTERED=a+3,r.Status.CONFLICT=a+4,r.Status.NOTACCEPTABLE=a+5,e.disco&&(e.disco.addFeature&&e.disco.addFeature(r.NS.REGISTER),e.disco.addNode&&e.disco.addNode(r.NS.REGISTER,{items:[]}));var n=this,s=e.reset.bind(e);e.reset=function(){s(),n.instructions="",n.fields={},n.registered=!1};var o=e._connect_cb.bind(e);e._connect_cb=function(t,a,i){if(!!n._registering)n._check_user?n._register_cb_check_user(t,a,i)&&(n.processed_features=!0,delete n._registering):(n._connect_cb_data={req:t,raw:i},n._register_cb(t,a,i)&&(n.processed_features=!0,delete n._registering));else if(n.processed_features){var s=e.xmlInput;e.xmlInput=r.Connection.prototype.xmlInput;var d=e.rawInput;e.rawInput=r.Connection.prototype.rawInput,o(t,a,i),e.xmlInput=s,e.rawInput=d,delete n.processed_features}else o(t,a,i)};var d=e.authenticate.bind(e);e.authenticate=function(e){if("undefined"==typeof e){var t=this._connection;if(!this.fields.username||!this.domain||!this.fields.password)return void r.info("Register a JID first!");var a=this.fields.username+"@"+this.domain;t.jid=a,t.authzid=r.getBareJidFromJid(t.jid),t.authcid=r.getNodeFromJid(t.jid),t.pass=this.fields.password;var i=this._connect_cb_data.req,n=t.connect_callback,s=this._connect_cb_data.raw;t._connect_cb(i,n,s)}else d(e)}.bind(this)},connect:function(e,t,a,i,n){var s=this._connection;this.domain=r.getDomainFromJid(e),this.instructions="",this.fields={},this.registered=!1,this._registering=!0,s.connect(this.domain,"",t,a,i,n)},connect_check_user:function(e,t,a,i,n){var s=this._connection;this.domain=r.getDomainFromJid(e),this.instructions="",this.fields={},this.registered=!1,this._registering=!0,this._check_user=!0,s.connect(this.domain,"",t,a,i,n)},connect_change_password:function(e,t,a,i,n,s){var o=this._connection;this.domain=r.getDomainFromJid(e),this.instructions="",this.fields={},o.registerSASLMechanisms([r.SASLAnonymous,r.SASLExternal,r.SASLMD5,r.SASLPlain,r.SASLSHA1]),o.connect(e,t,a,i,n,s)},_register_cb:function(e,t,a){var i=this._connection;r.info("_register_cb was called"),i.connected=!0;var n=i._proto._reqToData(e);if(n){i.xmlInput!==r.Connection.prototype.xmlInput&&(n.nodeName===i._proto.strip&&n.childNodes.length?i.xmlInput(n.childNodes[0]):i.xmlInput(n)),i.rawInput!==r.Connection.prototype.rawInput&&(a?i.rawInput(a):i.rawInput(r.serialize(n)));var d=i._proto._connect_cb(n);if(d===r.Status.CONNFAIL)return!1;var c=n.getElementsByTagName("register"),l=n.getElementsByTagName("mechanism");return 0===c.length&&0===l.length?(i._proto._no_auth_received(t),!1):0===c.length?(i._changeConnectStatus(r.Status.REGIFAIL,null),!0):(i._addSysHandler(this._get_register_cb.bind(this),null,"iq",null,null),i.send(o({type:"get",id:s(),to:this.domain}).c("query",{xmlns:r.NS.REGISTER}).tree()),!0)}},_register_cb_check_user:function(e,t,a){var i=this._connection;r.info("_register_cb was called"),i.connected=!0;var n=i._proto._reqToData(e);if(n){i.xmlInput!==r.Connection.prototype.xmlInput&&(n.nodeName===i._proto.strip&&n.childNodes.length?i.xmlInput(n.childNodes[0]):i.xmlInput(n)),i.rawInput!==r.Connection.prototype.rawInput&&(a?i.rawInput(a):i.rawInput(r.serialize(n)));var s=i._proto._connect_cb(n);if(s===r.Status.CONNFAIL)return!1;var o=n.getElementsByTagName("register"),d=n.getElementsByTagName("mechanism");return 0===o.length&&0===d.length?(i._proto._no_auth_received(t),!1):0===o.length?(i._changeConnectStatus(r.Status.REGIFAIL,null),!0):(i._changeConnectStatus(r.Status.REGISTER,null),!0)}},_get_register_cb:function(e){var t=this._connection,a,n,s;if(n=e.getElementsByTagName("query"),1!==n.length)return t._changeConnectStatus(r.Status.REGIFAIL,"unknown"),!1;for(n=n[0],a=0;a<n.childNodes.length;a++){if(s=n.childNodes[a],"instructions"===s.tagName.toLowerCase()){t.register.instructions=r.getText(s);continue}else if("x"===s.tagName.toLowerCase())continue;t.register.fields[s.tagName.toLowerCase()]=r.getText(s)}return t._changeConnectStatus(r.Status.REGISTER,null),!1},submit:function(){var e=a.settings.language;"default"===e&&(e=a.get("default_language"));var t=this._connection,n,d,c,l;for(c=o({type:"set","xml:lang":e,id:s()}).c("query",{xmlns:r.NS.REGISTER}),l=Object.keys(this.fields),n=0;n<l.length;n++)d=l[n],c.c(d).t(this.fields[d]).up();t._addSysHandler(this._submit_cb.bind(this),null,"iq",null,null),t.send(c)},_submit_cb:function(e){var t=null,a=this._connection,n,s,o;if(s=e.getElementsByTagName("query"),0<s.length)for(s=s[0],n=0;n<s.childNodes.length;n++){if(o=s.childNodes[n],"instructions"===o.tagName.toLowerCase()){this.instructions=r.getText(o);continue}this.fields[o.tagName.toLowerCase()]=r.getText(o)}if("error"===e.getAttribute("type")){t=e.getElementsByTagName("error");let i=e.getElementsByTagName("text");if(0<i.length&&(i=i[0].innerHTML),1!==t.length)return a._changeConnectStatus(r.Status.REGIFAIL,"unknown"),!1;r.info("Registration failed."),t=t[0].firstChild.tagName.toLowerCase(),"conflict"===t?a._changeConnectStatus(r.Status.CONFLICT,t,i):"not-acceptable"===t?a._changeConnectStatus(r.Status.NOTACCEPTABLE,t,i):a._changeConnectStatus(r.Status.REGIFAIL,t,i)}else r.info("Registration successful."),a._changeConnectStatus(r.Status.REGISTERED,null);return!1}});let l=function(t){let a="",n=t.length,s,o;for(s=0;s<n;s++)o=t.charCodeAt(s),0<=o&&127>=o?a+=t.charAt(s):2047<o?(a+=e(224|15&o>>12),a+=e(128|63&o>>6),a+=e(128|63&o>>0)):(a+=e(192|31&o>>6),a+=e(128|63&o>>0));return a};return r.SASLHOTP=function(){},r.SASLHOTP.prototype=new r.SASLMechanism("HOTP",!0,100),r.SASLHOTP.prototype.test=function(){return!0},r.SASLHOTP.prototype.onChallenge=function(t){let a=e(0)+t.authcid+e(0)+t.hotp_pass;return l(a)},r.ConnectionManager=function(e,t){t=t||{},this.connection=new r.Connection(e,t)},r.ConnectionManager.prototype={connect:function(e,t,a,i){if(this.connection.mechanisms={},this.auth_type=e||"password","password"===this.auth_type)this.connection.registerSASLMechanisms([r.SASLAnonymous,r.SASLExternal,r.SASLMD5,r.SASLPlain,r.SASLSHA1]);else{if("x-token"===this.auth_type)return this.connection.registerSASLMechanism(r.SASLHOTP),delete this.connection._sasl_data["server-signature"],void d.generateHOTP(d.fromBase64toArrayBuffer(a),this.connection.counter).then(e=>{this.connection.hotp_pass=e}).then(()=>{this.connection.connect(t,a,i)});this.connection.registerSASLMechanisms([r.SASLXOAuth2]),delete this.connection._sasl_data["server-signature"]}this.connection.connect(t,a,i)},reconnect:function(e){return"x-token"===this.auth_type?(this.connection.mechanisms.HOTP||(this.connection.registerSASLMechanism(r.SASLHOTP),delete this.connection._sasl_data["server-signature"]),this.connection.account&&this.connection.account.get("hotp_counter")&&(this.connection.counter=this.connection.account.get("hotp_counter")),void d.generateHOTP(d.fromBase64toArrayBuffer(this.connection.pass),this.connection.counter).then(e=>{this.connection.hotp_pass=e}).then(()=>{this.connection.connect(this.connection.jid,this.connection.pass,e)})):void this.connection.connect(this.connection.jid,this.connection.pass,e)}},_.extend(r.Connection.prototype,{_attemptSASLAuth:function(e){e=this.sortMechanismsByPriority(e||[]);let t=0,a=!1;for(t=0;t<e.length;++t){if(!e[t].prototype.test(this))continue;this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=new e[t],this._sasl_mechanism.onStart(this);let i=$build("auth",{xmlns:r.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){let e=this._sasl_mechanism.onChallenge(this,null);i.t(btoa(e))}this.send(i.tree()),a=!0,this.account&&this.counter&&this.account.get("x_token")&&"HOTP"===this._sasl_mechanism.name&&(this.counter++,this.account.save({hotp_counter:this.counter}));break}return a},_sasl_auth1_cb:function(e){this.features=e;let t,a;for(t=0;t<e.childNodes.length;t++)a=e.childNodes[t],"bind"===a.nodeName&&(this.do_bind=!0),"session"===a.nodeName&&(this.do_session=!0),"devices"===a.nodeName&&a.namespaceURI===r.NS.AUTH_DEVICES&&this.options["x-token"]&&(this.x_token_auth=!0),"synchronization"===a.nodeName&&a.namespaceURI===r.NS.SYNCHRONIZATION&&(this.account.server_features.create({var:a.namespaceURI,from:this.domain}),this.do_synchronization=!0);return this.do_bind?(this.x_token_auth&&(!this.x_token||1e3*parseInt(this.x_token.expire)<n.moment.now())?this.getXToken(e=>{let t=$(e).find("secret").text(),a=$(e).find("expire").text(),i=$(e).find("device").attr("id");this.x_token={token:t,expire:a,token_uid:i},this.counter=1,this.pass=t,this._send_auth_bind(),this.account&&this.account.save({hotp_counter:this.counter})},()=>{this._send_auth_bind()}):this._send_auth_bind(),!1):(this._changeConnectStatus(r.Status.AUTHFAIL,null),!1)},_send_auth_bind(){this._addSysHandler(this._sasl_bind_cb.bind(this),null,null,null,"_bind_auth_2");let e=r.getResourceFromJid(this.jid);e?this.send(o({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:r.NS.BIND}).c("resource",{}).t(e).tree()):this.send(o({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:r.NS.BIND}).tree())},getXToken:function(e,t){let i=s(),c=o({type:"set",to:this.domain,id:i}).c("register",{xmlns:r.NS.AUTH_DEVICES}).c("device",{xmlns:r.NS.AUTH_DEVICES}).c("client").t(a.get("client_name")).up().c("info").t(`PC, ${d.getOS()}, ${n.utils.getBrowser()}`);handler=function(a){let i=a.getAttribute("type");if("result"==i)e&&e(a);else if("error"==i)t&&t(a);else throw{name:"StropheError",message:"Got bad IQ type of "+i}},this._addSysHandler(handler.bind(this),r.NS.AUTH_DEVICES,"iq","result",i),this.send(c.tree())}}),r.xmlunescape=function(e){let t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":"\"","&apos;":"'"},a="(?:"+_.keys(t).join("|")+")",i=RegExp(a),n=RegExp(a,"g");return e=null==e?"":""+e,i.test(e)?e.replace(n,function(e){return t[e]}):e},r.addNamespace("ATTENTION","urn:xmpp:attention:0"),r.addNamespace("CARBONS","urn:xmpp:carbons:2"),r.addNamespace("FORWARD","urn:xmpp:forward:0"),r.addNamespace("HASH","urn:xmpp:hashes:2"),r.addNamespace("HINTS","urn:xmpp:hints"),r.addNamespace("SCE","urn:xmpp:sce:1"),r.addNamespace("RECEIPTS","urn:xmpp:receipts"),r.addNamespace("JINGLE","urn:xmpp:jingle:1"),r.addNamespace("JINGLE_SECURITY_STUB","urn:xmpp:jingle:security:stub:0"),r.addNamespace("JINGLE_MSG","urn:xmpp:jingle-message:0"),r.addNamespace("JINGLE_RTP","urn:xmpp:jingle:apps:rtp:1"),r.addNamespace("JINGLE_TRANSPORTS_ICE","urn:xmpp:jingle:transports:ice-udp:1"),r.addNamespace("ADDRESS","http://jabber.org/protocol/address"),r.addNamespace("CHATSTATES","http://jabber.org/protocol/chatstates"),r.addNamespace("EXTENDED_CHATSTATES","https://xabber.com/protocol/extended-chatstates"),r.addNamespace("HTTP_AUTH","http://jabber.org/protocol/http-auth"),r.addNamespace("AUTH_TOKENS","https://xabber.com/protocol/auth-tokens"),r.addNamespace("AUTH_DEVICES","https://xabber.com/protocol/devices"),r.addNamespace("SYNCHRONIZATION","https://xabber.com/protocol/synchronization"),r.addNamespace("SYNCHRONIZATION_REGULAR_CHAT","https://xabber.com/protocol/synchronization#chat"),r.addNamespace("SYNCHRONIZATION_CHANNEL","https://xabber.com/protocol/channels"),r.addNamespace("SYNCHRONIZATION_OLD_OMEMO","urn:xmpp:omemo:1"),r.addNamespace("SYNCHRONIZATION_OMEMO","urn:xmpp:omemo:2"),r.addNamespace("DELIVERY","https://xabber.com/protocol/delivery"),r.addNamespace("ARCHIVE","https://xabber.com/protocol/archive"),r.addNamespace("MAM","urn:xmpp:mam:2"),r.addNamespace("RSM","http://jabber.org/protocol/rsm"),r.addNamespace("DATAFORM","jabber:x:data"),r.addNamespace("CHAT_MARKERS","urn:xmpp:chat-markers:0"),r.addNamespace("VCARD_UPDATE","vcard-temp:x:update"),r.addNamespace("HTTP_UPLOAD","urn:xmpp:http:upload"),r.addNamespace("BLOCKING","urn:xmpp:blocking"),r.addNamespace("SEARCH","jabber:iq:search"),r.addNamespace("PRIVATE_STORAGE","jabber:iq:private"),r.addNamespace("MEDIA","urn:xmpp:media-element"),r.addNamespace("LAST","jabber:iq:last"),r.addNamespace("GROUP_CHAT","https://xabber.com/protocol/groups"),r.addNamespace("GROUP_CHAT_INVITE","https://xabber.com/protocol/groups#invite"),r.addNamespace("GROUP_CHAT_INVITE_HTTP","http://xabber.com/protocol/groups#invite"),r.addNamespace("WEBCHAT","https://xabber.com/protocol/webchat"),r.addNamespace("INDEX","https://xabber.com/protocol/index"),r.addNamespace("PUBSUB","http://jabber.org/protocol/pubsub"),r.addNamespace("PUBSUB_AVATAR_DATA","urn:xmpp:avatar:data"),r.addNamespace("PUBSUB_AVATAR_METADATA","urn:xmpp:avatar:metadata"),r.addNamespace("REWRITE","https://xabber.com/protocol/rewrite"),r.addNamespace("REFERENCE","https://xabber.com/protocol/references"),r.addNamespace("GEOLOC","http://jabber.org/protocol/geoloc"),r.addNamespace("MARKUP","https://xabber.com/protocol/markup"),r.addNamespace("VOICE_MESSAGE","https://xabber.com/protocol/voice-messages"),r.addNamespace("FILES","https://xabber.com/protocol/files"),a}}),define("xabber-vcard",[],function(){return function(e){let t=e.env,a=t.constants,i=t.templates.vcard,n=t.$,s=t._,o=t.moment,d=t.Strophe,r=t.$iq,c=t.$build,l=t.utils,p=function(e){let t={nickname:e.find("NICKNAME").text().trim(),fullname:e.find("FN").text().trim(),first_name:e.find("N GIVEN").text().trim(),middle_name:e.find("N MIDDLE").text().trim(),last_name:e.find("N FAMILY").text().trim(),birthday:e.find("BDAY").text().trim(),job_title:e.find("TITLE").text().trim(),role:e.find("ROLE").text().trim(),url:e.find("URL").text().trim(),description:e.find("DESC").text().trim(),jabber_id:e.find("JABBERID").text().trim(),org:{},photo:{},phone:{},address:{},email:{}};(e.find("X-PRIVACY").length||e.find("X-MEMBERSHIP").length||e.find("X-INDEX").length)&&(t.group_info={jid:t.jabber_id,description:t.description,name:t.nickname,anonymous:e.find("X-PRIVACY").text().trim(),searchable:e.find("X-INDEX").text().trim(),model:e.find("X-MEMBERSHIP").text().trim(),status_msg:e.find("X-STATUS").text().trim(),members_num:e.find("X-MEMBERS").text().trim()});let a=e.find("ORG");a.length&&(t.org.name=a.find("ORGNAME").text().trim(),t.org.unit=a.find("ORGUNIT").text().trim());let i=e.find("PHOTO");return i.length&&(t.photo.image=i.find("BINVAL").text().trim(),t.photo.type=i.find("TYPE").text().trim()),e.find("TEL").each(function(){let e=n(this),a=e.find("NUMBER").text().trim();a&&(e.find("WORK").length?t.phone.work=a:e.find("HOME").length?t.phone.home=a:e.find("MOBILE").length?t.phone.mobile=a:t.phone.default=a)}),e.find("EMAIL").each(function(){let e=n(this),a=e.find("USERID").text().trim();a&&(e.find("WORK").length?t.email.work=a:e.find("HOME").length?t.email.home=a:t.email.default=a)}),e.find("ADR").each(function(){let e=n(this),a={pobox:e.find("POBOX").text().trim(),extadd:e.find("EXTADR").text().trim(),street:e.find("STREET").text().trim(),locality:e.find("LOCALITY").text().trim(),region:e.find("REGION").text().trim(),pcode:e.find("PCODE").text().trim(),country:e.find("CTRY").text().trim()};e.find("WORK").length?t.address.work=a:e.find("HOME").length?t.address.home=a:t.address.default=a}),t},m=function(e){let t=c("vCard",{xmlns:d.NS.VCARD});return e.nickname&&t.c("NICKNAME").t(e.nickname).up(),e.fullname&&t.c("FN").t(e.fullname).up(),(e.first_name||e.last_name||e.middle_name)&&(t.c("N"),e.first_name&&t.c("GIVEN").t(e.first_name).up(),e.last_name&&t.c("FAMILY").t(e.last_name).up(),e.middle_name&&t.c("MIDDLE").t(e.middle_name).up(),t.up()),e.birthday&&t.c("BDAY").t(e.birthday).up(),e.job_title&&t.c("TITLE").t(e.job_title).up(),e.role&&t.c("ROLE").t(e.role).up(),(e.org.name||e.org.unit)&&(t.c("ORG"),e.org.name&&t.c("ORGNAME").t(e.org.name).up(),e.org.unit&&t.c("ORGUNIT").t(e.org.unit).up(),t.up()),e.url&&t.c("URL").t(e.url).up(),e.photo.image&&(t.c("PHOTO").c("BINVAL").t(e.photo.image).up(),t.c("TYPE").t(e.photo.type||"image/jpeg").up(),t.up()),e.description&&t.c("DESC").t(e.description).up(),e.jabber_id&&t.c("JABBERID").t(e.jabber_id).up(),s.each(e.phone,function(e,a){t.c("TEL").c("NUMBER").t(e).up(),"default"!==a&&t.c(a.toUpperCase()).up(),t.up()}),s.each(e.email,function(e,a){t.c("EMAIL").c("USERID").t(e).up(),"default"!==a&&t.c(a.toUpperCase()).up(),t.up()}),s.each(e.address,function(e,a){t.c("ADR"),"default"!==a&&t.c(a.toUpperCase()).up(),e.pobox&&t.c("POBOX").t(e.pobox).up(),e.extadd&&t.c("EXTADR").t(e.extadd).up(),e.street&&t.c("STREET").t(e.street).up(),e.locality&&t.c("LOCALITY").t(e.locality).up(),e.region&&t.c("REGION").t(e.region).up(),e.pcode&&t.c("PCODE").t(e.pcode).up(),e.country&&t.c("CTRY").t(e.country).up(),t.up()}),t.tree()};return d.addConnectionPlugin("vcard",{_connection:null,init:function(e){return this._connection=e,d.addNamespace("VCARD","vcard-temp")},get:function(e,t,a){let i=r({type:"get",to:e}).c("vCard",{xmlns:d.NS.VCARD});this._connection.sendIQ(i,function(a){if(t){let i=p(n(a).find("vCard[xmlns="+d.NS.VCARD+"]"));return i.jabber_id||(i.jabber_id=e),t(i)}},a)},set:function(e,t,a,i){t.jabber_id||(t.jabber_id=e);let n=r({type:"set",to:e}).cnode(m(t));this._connection.sendIQ(n,a,i)}}),l.vcard={getBlank:function(e){let t=p(n("<div/>"));return t.jabber_id=e,t}},e.VCardView=e.BasicView.extend({template:i.vcard,_initialize:function(){this.$el.html(this.template()),this.model.on("change:vcard_updated",this.update,this),this.data.on("change:refresh",this.updateRefreshButton,this)},render:function(){this.$(".block-header .block-name").text(this.model.get("group_chat")?"Group chat details":e.getString("vcard_screen__header")),this.data.set("refresh",!1),this.model.getVCard(()=>{this.update()})},update:function(){let e=this.model.get("vcard"),t;t=this.$(".jid-info-wrap"),t.find(".jabber-id").showIf(e.jabber_id).find(".value").text(e.jabber_id),t.showIf(e.jabber_id),t=this.$(".personal-info-wrap"),t.find(".fullname").showIf(e.fullname).find(".value").text(e.fullname),t.find(".first-name").showIf(e.first_name).find(".value").text(e.first_name),t.find(".middle-name").showIf(e.middle_name).find(".value").text(e.middle_name),t.find(".last-name").showIf(e.last_name).find(".value").text(e.last_name),t.showIf(e.fullname||e.first_name||e.middle_name||e.last_name),t=this.$(".nickname-info-wrap"),t.find(".nickname").showIf(e.nickname).find(".value").text(e.nickname),t.showIf(e.nickname),t=this.$(".birthday-info-wrap"),t.find(".birthday").showIf(e.birthday).find(".value").text(e.birthday),t.showIf(e.birthday),t=this.$(".job-info-wrap"),t.find(".role").showIf(e.role).find(".value").text(e.role),t.find(".job-title").showIf(e.job_title).find(".value").text(e.job_title),t.find(".org-name").showIf(e.org.name).find(".value").text(e.org.name),t.find(".org-unit").showIf(e.org.unit).find(".value").text(e.org.unit),t.showIf(e.role||e.job_title||e.org.name||e.org.unit),t=this.$(".site-info-wrap"),t.find(".url").showIf(e.url).find(".value").text(e.url).hyperlinkify(),t.showIf(e.url),t=this.$(".description-info-wrap"),t.find(".description").showIf(e.description).find(".value").text(e.description),t.showIf(e.description);let a=this.$(".address-info-wrap"),i=s.clone(e.address),n=!1;a.find(".info").addClass("hidden"),s.each(i,function(e,i){t=a.find(".address-"+i),t.find(".pobox").showIf(e.pobox).text(e.pobox),t.find(".extadd").showIf(e.extadd).text(e.extadd),t.find(".street").showIf(e.street).text(e.street),t.find(".locality").showIf(e.locality).text(e.locality),t.find(".region").showIf(e.region).text(e.region),t.find(".pcode").showIf(e.pcode).text(e.pcode),t.find(".country").showIf(e.country).text(e.country);let s=e.pobox||e.extadd||e.street||e.locality||e.region||e.pcode||e.country;s&&(n=!0),t.showIf(s)}),a.showIf(n),t=this.$(".phone-info-wrap");let o=e.phone;o&&(t.find(".phone-work").showIf(o.work).find(".value").text(o.work),t.find(".phone-home").showIf(o.home).find(".value").text(o.home),t.find(".phone-mobile").showIf(o.mobile).find(".value").text(o.mobile),t.find(".phone-default").showIf(o.default).find(".value").text(o.default)),t.showIf(o&&(o.work||o.home||o.mobile||o.default)),t=this.$(".email-info-wrap");let d=e.email;d&&(t.find(".email-work").showIf(d.work).find(".value").text(d.work),t.find(".email-home").showIf(d.home).find(".value").text(d.home),t.find(".email-default").showIf(d.default).find(".value").text(d.default)),t.showIf(d&&(d.work||d.home||d.default)),this.parent.updateScrollBar()},onClickIcon:function(t){let a=n(t.target).closest(".info-wrap"),i=a.find(".value"),s="";i.each((t,a)=>{let i=n(a),o=i.text();o&&""!=s&&(s+="\n"),o&&(s+=o),s&&l.copyTextToClipboard(s,e.getString("toast__copied_in_clipboard"),e.getString("toast__not_copied_in_clipboard"))})},updateRefreshButton:function(){this.$(".btn-vcard-refresh .button").hideIf(this.data.get("refresh")),this.$(".btn-vcard-refresh .preloader-wrapper").showIf(this.data.get("refresh"))},refresh:function(){this.data.get("refresh")||(this.data.set("refresh",!0),this.model.getVCard(()=>{this.data.set("refresh",!1)}))}}),e.VCardRightView=e.VCardView.extend({template:i.vcard_right,__initialize:function(){this.ps_container=this.$(".full-vcard-content"),this.ps_container.length&&this.ps_container.perfectScrollbar(s.extend(this.ps_settings||{},e.ps_settings)),this.ps_container.on("ps-scroll-up ps-scroll-down",this.onScroll.bind(this)),this.model.set("vcard_hidden",!0)},render:function(){this.data.set("refresh",!1),this.update(),this.$(".full-vcard-wrap").hideIf(this.model.get("vcard_hidden")),this.parent.ps_container.length&&(this.model.get("vcard_hidden")?this.parent.ps_container.perfectScrollbar(s.extend(this.parent.ps_settings||{},e.ps_settings)):this.parent.ps_container.perfectScrollbar("destroy")),this.model.updateName(),this.model.updateAvatar(),this.model.getVCard(()=>{this.update()})},update:function(){let e=this.model.get("vcard"),t;t=this.$(".jid-info-wrap"),t.find(".jabber-id").showIf(e.jabber_id).find(".value").text(e.jabber_id),t.showIf(e.jabber_id),t=this.$(".vcard-wrap .personal-info-wrap"),t.find(".first-name").showIf(e.first_name).find(".value").text(e.first_name),t.find(".last-name").showIf(e.last_name).find(".value").text(e.last_name),t.showIf(e.first_name||e.last_name),t=this.$(".full-vcard-wrap .personal-info-wrap"),t.find(".fullname").showIf(e.fullname).find(".value").text(e.fullname),t.find(".first-name").showIf(e.first_name).find(".value").text(e.first_name),t.find(".middle-name").showIf(e.middle_name).find(".value").text(e.middle_name),t.find(".last-name").showIf(e.last_name).find(".value").text(e.last_name),t.showIf(e.fullname||e.first_name||e.middle_name||e.last_name),t=this.$(".nickname-info-wrap"),t.find(".nickname").showIf(e.nickname).find(".value").text(e.nickname),t.showIf(e.nickname),t=this.$(".birthday-info-wrap"),t.find(".birthday").showIf(e.birthday).find(".value").text(e.birthday),t.showIf(e.birthday),t=this.$(".job-info-wrap"),t.find(".role").showIf(e.role).find(".value").text(e.role),t.find(".job-title").showIf(e.job_title).find(".value").text(e.job_title),t.find(".org-name").showIf(e.org.name).find(".value").text(e.org.name),t.find(".org-unit").showIf(e.org.unit).find(".value").text(e.org.unit),t.showIf(e.role||e.job_title||e.org.name||e.org.unit),t=this.$(".site-info-wrap"),t.find(".url").showIf(e.url).find(".value").text(e.url).hyperlinkify(),t.showIf(e.url),t=this.$(".description-info-wrap"),t.find(".description").showIf(e.description).find(".value").text(e.description),t.showIf(e.description);let a=this.$(".address-info-wrap"),i=s.clone(e.address),n=!1;a.find(".info").addClass("hidden"),s.each(i,function(e,i){t=a.find(".address-"+i),t.find(".pobox").showIf(e.pobox).text(e.pobox),t.find(".extadd").showIf(e.extadd).text(e.extadd),t.find(".street").showIf(e.street).text(e.street),t.find(".locality").showIf(e.locality).text(e.locality),t.find(".region").showIf(e.region).text(e.region),t.find(".pcode").showIf(e.pcode).text(e.pcode),t.find(".country").showIf(e.country).text(e.country);let s=e.pobox||e.extadd||e.street||e.locality||e.region||e.pcode||e.country;s&&(n=!0),t.showIf(s)}),a.showIf(n),t=this.$(".phone-info-wrap");let o=e.phone;o&&(t.find(".phone-work").showIf(o.work).find(".value").text(o.work),t.find(".phone-home").showIf(o.home).find(".value").text(o.home),t.find(".phone-mobile").showIf(o.mobile).find(".value").text(o.mobile),t.find(".phone-default").showIf(o.default).find(".value").text(o.default)),t.showIf(o&&(o.work||o.home||o.mobile||o.default)),t=this.$(".email-info-wrap");let d=e.email;d&&(t.find(".email-work").showIf(d.work).find(".value").text(d.work),t.find(".email-home").showIf(d.home).find(".value").text(d.home),t.find(".email-default").showIf(d.default).find(".value").text(d.default)),t.showIf(d&&(d.work||d.home||d.default)),this.parent.updateScrollBar()},onScroll:function(){170<=this.ps_container[0].scrollTop?(this.$(".vcard-header-title").addClass("fixed-scroll"),this.$(".vcard-header-title").css({"background-color":"rgba(255,255,255,1)"})):40<=this.ps_container[0].scrollTop?(this.$(".vcard-header-title").removeClass("fixed-scroll"),this.$(".vcard-header-title").css({"background-color":"rgba(255,255,255,0.5)"})):(this.$(".vcard-header-title").removeClass("fixed-scroll"),this.$(".vcard-header-title").css({"background-color":"rgba(255,255,255,0)"}))},onClickIcon:function(t){let a=n(t.target),i=a.find(".value"),s="";i.each((t,a)=>{let i=n(a),o=i.text();o&&""!=s&&(s+="\n"),o&&(s+=o),s&&l.copyTextToClipboard(s,e.getString("toast__copied_in_clipboard"),e.getString("toast__not_copied_in_clipboard"))})}}),e.VCardEditView=e.BasicView.extend({className:"account-vcard-edit-wrap",template:i.vcard_edit,ps_selector:".panel-content",events:{"keyup input":"keyUp","keyup textarea":"keyUp","input .first-name input":"changePlaceholder","input .middle-name input":"changePlaceholder","input .last-name input":"changePlaceholder","click .btn-vcard-save":"save","click .btn-vcard-back":"render"},_initialize:function(){let e=this,t=this.$(".datepicker").pickadate({selectMonths:!0,selectYears:100,autoOk:!1,min:new Date(o.now()-31536e8),max:new Date(o.now()-864e5),format:"dd.mm.yyyy",allowKeyboardControl:!1,today:"",onClose:function(){n(document.activeElement).blur(),e.$(".btn-vcard-back").removeClass("hidden"),e.$(".btn-vcard-save").removeClass("hidden")},klass:{weekday_display:"picker__weekday-display ground-color-700",date_display:"picker__date-display ground-color-500",navPrev:"picker__nav--prev hover-ground-color-100",navNext:"picker__nav--next hover-ground-color-100",selected:"picker__day--selected ground-color-500",now:"picker__day--today text-color-700",buttonClear:"btn-flat btn-main btn-dark",buttonClose:"btn-flat btn-main text-color-700"}});t.on("mousedown",function(e){e.preventDefault()}),this.data.on("change:saving",this.updateSaveButton,this)},render:function(){this.data.set("saving",!1),this.setData(),Materialize.updateTextFields(),this.changePlaceholder(),this.updateScrollBar(),this.$(".btn-vcard-back").addClass("hidden"),this.$(".btn-vcard-save").addClass("hidden")},changePlaceholder:function(){let e=((this.$(".first-name input").val()+" "+this.$(".middle-name input").val()).trim()+" "+this.$(".last-name input").val()).trim()||this.model.get("jid");this.$(".nickname input").attr("placeholder",e)},setData:function(){let e=this.model.get("vcard");this.$(".nickname input").val(e.nickname),this.$(".fullname input").val(e.fullname),this.$(".first-name input").val(e.first_name),this.$(".last-name input").val(e.last_name),this.$(".middle-name input").val(e.middle_name),this.$(".birthday input").val(e.birthday),this.$(".role input").val(e.role),this.$(".job-title input").val(e.job_title),this.$(".org-name input").val(e.org.name),this.$(".org-unit input").val(e.org.unit),this.$(".url input").val(e.url),this.$(".description textarea").val(e.description),this.$(".phone-work input").val(e.phone.work),this.$(".phone-home input").val(e.phone.home),this.$(".phone-mobile input").val(e.phone.mobile),this.$(".email-work input").val(e.email.work),this.$(".email-home input").val(e.email.home);let t=e.address.work||{},a=this.$(".address-work-wrap");a.find(".pobox input").val(t.pobox),a.find(".extadd input").val(t.extadd),a.find(".street input").val(t.street),a.find(".locality input").val(t.locality),a.find(".region input").val(t.region),a.find(".pcode input").val(t.pcode),a.find(".country input").val(t.country),t=e.address.home||{},a=this.$(".address-home-wrap"),a.find(".pobox input").val(t.pobox),a.find(".extadd input").val(t.extadd),a.find(".street input").val(t.street),a.find(".locality input").val(t.locality),a.find(".region input").val(t.region),a.find(".pcode input").val(t.pcode),a.find(".country input").val(t.country)},getData:function(){let e=l.vcard.getBlank(this.model.get("jid"));e.nickname=this.$(".nickname input").val(),e.fullname=this.$(".fullname input").val(),e.first_name=this.$(".first-name input").val(),e.last_name=this.$(".last-name input").val(),e.middle_name=this.$(".middle-name input").val(),e.birthday=this.$(".birthday input").val(),e.role=this.$(".role input").val(),e.job_title=this.$(".job-title input").val(),e.org.name=this.$(".org-name input").val(),e.org.unit=this.$(".org-unit input").val(),e.url=this.$(".url input").val(),e.description=this.$(".description textarea").val(),e.phone.work=this.$(".phone-work input").val(),e.phone.home=this.$(".phone-home input").val(),e.phone.mobile=this.$(".phone-mobile input").val(),e.email.work=this.$(".email-work input").val(),e.email.home=this.$(".email-home input").val(),e.address.work={};let t=e.address.work,a=this.$(".address-work-wrap");return t.pobox=a.find(".pobox input").val(),t.extadd=a.find(".extadd input").val(),t.street=a.find(".street input").val(),t.locality=a.find(".locality input").val(),t.region=a.find(".region input").val(),t.pcode=a.find(".pcode input").val(),t.country=a.find(".country input").val(),e.address.home={},t=e.address.home,a=this.$(".address-home-wrap"),t.pobox=a.find(".pobox input").val(),t.extadd=a.find(".extadd input").val(),t.street=a.find(".street input").val(),t.locality=a.find(".locality input").val(),t.region=a.find(".region input").val(),t.pcode=a.find(".pcode input").val(),t.country=a.find(".country input").val(),e},updateSaveButton:function(){this.$(".btn-vcard-save").text(this.data.get("saving")?e.getString("saving"):e.getString("vcard_edit__button_save"))},save:function(){this.data.get("saving")||(this.data.set("saving",!0),this.model.setVCard(this.getData(),()=>{this.model.getVCard(),this.data.set("saving",!1),this.$(".btn-vcard-back").addClass("hidden"),this.$(".btn-vcard-save").addClass("hidden")},function(){l.dialogs.error(e.getString("account_user_info_save_fail")),this.data.set("saving",!1)}))},keyUp:function(){this.$(".btn-vcard-back").removeClass("hidden"),this.$(".btn-vcard-save").removeClass("hidden")}}),e}}),define("xabber-accounts",[],function(){var e=Math.PI;return function(t){let a=t.env,i=a.constants,n=a.templates.accounts,s=a.utils,o=a.$,d=a.$iq,r=a.$pres,c=a.Strophe,l=a._,p=a.moment,m=s.images,u=e=>s.pretty_datetime(e,("ru-RU"==t.settings.language||"default"==t.settings.language&&"ru-RU"==t.get("default_language"))&&"D MMMM YYYY HH:mm:ss");return t.Account=Backbone.Model.extend({idAttribute:"jid",defaults:{enabled:!0,auth_type:"password",status:"online",status_message:"",priority:67,auto_login_xa:!0,groupchat_servers_list:[]},initialize:function(e,a){if(this.retraction_version=null,a||(a={}),e.is_new&&!a.auth_view)return this.is_invalid=!0,void this.on("destroy",this.onDestroy,this);this.last_msg_timestamp=0,this.settings=t.account_settings_list.get(e.jid),this.settings||(this.settings=t.account_settings_list.create({jid:e.jid,timestamp:s.now(),auto_login_xa:this.get("auto_login_xa"),to_sync:t.api_account&&t.api_account.get("sync_all")}));let n=l.clone(this.settings.attributes);n.color||(n.color=this.collection.getDefaultColor()),n.order||(n.order=this.collection.getLastOrder()+1),this.settings.save(n),this.settings.on("delete_account",this.deleteAccount,this);let d=l.clone(e);d.name||(d.name=d.jid),d.image||(d.image=m.getDefaultAvatar(d.name)),this.cached_image=m.getCachedImage(d.image),d.vcard=s.vcard.getBlank(d.jid),d.photo_hash="",this.save(d),this.auth_view=a.auth_view||null,this.session=new Backbone.Model({connected:!1,reconnected:!1,conn_retries:0,conn_feedback:t.getString("connection__error__text_disconnected")}),this._waiting_code=!1,this.code_requests=[],this.xabber_auth={},this.session.on("change:connected",this.onChangedConnected,this),this.CONNECTION_URL=e.websocket_connection_url||i.CONNECTION_URL,this.conn_manager=new c.ConnectionManager(this.CONNECTION_URL,{"x-token":!0}),this.connection=this.conn_manager.connection,this.get("x_token")&&(this.connection.x_token=this.get("x_token")),this.connection.x_token&&this.connection.x_token.counter&&!this.get("hotp_counter")&&this.save({hotp_counter:this.connection.x_token.counter}),this.get("hotp_counter")&&(this.connection.counter=this.get("hotp_counter")),this.on("destroy",this.onDestroy,this),this._added_pres_handlers=[],this._pending_stanzas=[],this._pending_messages=[],this.dfd_presence=new o.Deferred,this.resources=new t.AccountResources(null,{account:this}),this.password_view=new t.ChangePasswordView({model:this}),this.vcard_edit=new t.VCardEditView({model:this}),this.updateColorScheme(),this.settings.on("change:color",this.updateColorScheme,this),this.on("change:photo_hash",this.getVCard,this),l.each(this._init_plugins,e=>{e.call(this)}),this.connection.xmlInput=function(e){t.info("input"),t.info(e)},this.connection.xmlOutput=function(e){t.info("output"),t.info(e)},this.once("start",this.start,this),t.api_account?t.api_account.on("settings_result",function(e){e&&this.settings.get("token")&&this.save({auth_type:"token"}),this.trigger("start")},this):t.on("bind_xmpp_accounts",()=>{this.settings.get("token")&&this.save({auth_type:"token"}),this.trigger("start")},this)},start:function(){this.get("enabled")&&this.isOnline()&&this.connect()},_init_plugins:[],getPassword:function(){try{return s.atou(this.get("password"))}catch(t){return""}},isConnected:function(){return this.session&&this.session.get("connected")},isOnline:function(){return"offline"!==this.get("status")},sendMsg:function(e,t){let a=this.connection.authenticated&&"offline"!==this.get("status");return a?(this.connection.send(e),t&&t()):this._pending_stanzas.push({stanza:e,callback:t}),a},sendMsgFast:function(e,t){let a=this.fast_connection&&this.fast_connection.authenticated&&this.fast_connection.connected&&"offline"!==this.get("status");return a?(this.fast_connection.send(e),t&&t(),a):this.sendMsg(e,t)},sendIQFast:function(){let e=this.fast_connection&&this.fast_connection.authenticated&&this.fast_connection.connected&&"offline"!==this.get("status");return e?(this.fast_connection.sendIQ.apply(this.fast_connection,arguments),e):this.sendIQ.apply(this,arguments)},sendFast:function(e,t,a){o(e.nodeTree).first().is("message")?this.sendMsgFast(e,t):this.sendIQFast(e,t,a)},pubAvatar:function(e,t,a){if(!e)return void this.removeAvatar(t,a);let i=e.hash||sha1(e.base64),n=d({from:this.get("jid"),type:"set"}).c("pubsub",{xmlns:c.NS.PUBSUB}).c("publish",{node:c.NS.PUBSUB_AVATAR_DATA}).c("item",{id:i}).c("data",{xmlns:c.NS.PUBSUB_AVATAR_DATA}).t(e.base64),s=d({from:this.get("jid"),type:"set"}).c("pubsub",{xmlns:c.NS.PUBSUB}).c("publish",{node:c.NS.PUBSUB_AVATAR_METADATA}).c("item",{id:i}).c("metadata",{xmlns:c.NS.PUBSUB_AVATAR_METADATA}).c("info",{bytes:e.size,id:i,type:e.type});this.sendIQinBackground(n,()=>{this.sendIQinBackground(s,()=>{t&&t(i)},function(e){a&&a(e)})},e=>{a&&a(e)})},removeAvatar:function(e,t){let a=d({from:this.get("jid"),type:"set"}).c("pubsub",{xmlns:c.NS.PUBSUB}).c("publish",{node:c.NS.PUBSUB_AVATAR_METADATA}).c("item").c("metadata",{xmlns:c.NS.PUBSUB_AVATAR_METADATA});this.sendIQinBackground(a,()=>{e&&e()},function(){t&&t()})},getAvatar:function(e,a,i){let n=d({from:this.get("jid"),type:"get",to:this.get("jid")}).c("pubsub",{xmlns:c.NS.PUBSUB}).c("items",{node:c.NS.PUBSUB_AVATAR_DATA}).c("item",{id:e});this.sendIQinBackground(n,e=>{let n=o(e).find("data").text();""==n?i&&i(t.getString("pubsub__error__text_empty_node")):a&&a(n)})},sendIQ:function(){let e=this.connection.authenticated&&"offline"!==this.get("status");if(e){let e=arguments[0];if("function"==typeof e.tree&&"get"==e.tree().getAttribute("type")){let a=t.settings.language;"default"==a&&(a=t.get("default_language")),e.tree().setAttribute("xml:lang",a)}this.connection.sendIQ.apply(this.connection,arguments)}else this._pending_stanzas.push({stanza:arguments});return e},sendIQinBackground:function(){let e=this.background_connection&&this.background_connection.authenticated&&this.background_connection.connected&&"offline"!==this.get("status");return e?(this.background_connection.sendIQ.apply(this.background_connection,arguments),e):this.sendIQ.apply(this,arguments)},parseDataForm:function(e,t){t=t||{};let a=e.attr("type"),i=e.children("title").text(),n=e.children("instructions").text(),s=[],d={};return e.children("field").each((e,t)=>{let a=o(t),i={},n=a.attr("var"),d=a.attr("type"),r=a.attr("label"),c=[],l=[];a.children("value").each((e,t)=>{c.push(o(t).text())}),a.children("option").each((e,t)=>{let a=o(t),i=a.children("value").text(),n=a.attr("label");l.push({value:i,label:n})}),n&&(i.var=n),d&&(i.type=d),r&&(i.label=r),c.length&&(i.values=c),l.length&&(i.options=l),s.push(i)}),a&&(d.type=a),i&&(d.title=i),n&&(d.instructions=n),s.length&&(d.fields=s),d},addDataFormToStanza:function(e,t){return e.c("x",{xmlns:c.NS.DATAFORM,type:"submit"}),t.title&&e.c("title").t(t.title).up(),t.instructions&&e.c("instructions").t(t.instructions).up(),t.fields.forEach(t=>{let a=l.clone(t);delete a.values,delete a.options,e.c("field",a),t.values&&t.values.forEach(t=>{e.c("value").t(t).up()}),e.up()}),e},sendPres:function(e){return this.connection.authenticated?this.connection.send(e):this._pending_stanzas.push({stanza:e}),this.connection.authenticated},verifyXabberAccount:function(e,t){let a={type:"POST",url:i.API_SERVICE_URL+"/accounts/xmpp_auth/",contentType:"application/json",dataType:"json",data:JSON.stringify({code:e,jid:this.connection.jid}),success:function(e){t&&t(e.token)}};o.ajax(a)},createBackgroundConnection:function(){let e=this.get("jid"),t=this.fast_conn_manager.auth_type,a;if(a="token"===t?this.settings.get("token"):"x-token"===t?this.get("x_token")&&(1e3*+this.get("x_token").expire>p.now()||!this.get("x_token").expire)?this.get("x_token").token:void 0:this.getPassword(),!a){let e={login:!0};return options.token_invalidated&&(e.token_invalidated=!0),void this.password_view.show(e)}if(!this.background_conn_manager)this.background_conn_manager=new c.ConnectionManager(this.CONNECTION_URL),this.background_connection=this.background_conn_manager.connection,this.background_connection.account=this;else return this.background_connection.disconnect(),this.createBackgroundConnection();"x-token"===t&&this.background_connection&&(this.background_connection.x_token=this.get("x_token"),this.background_connection.counter=this.get("hotp_counter"),this.background_connection.x_token_auth=!0),this.background_conn_manager.connect(t,e,a,this.onBackgroundConnected.bind(this))},createFastConnection:function(){let e=this.get("jid"),t=this.conn_manager.auth_type,a;if(a="token"===t?this.settings.get("token"):"x-token"===t?this.get("x_token")&&(1e3*+this.get("x_token").expire>p.now()||!this.get("x_token").expire)?this.get("x_token").token:void 0:this.getPassword(),!a){let e={login:!0};return options.token_invalidated&&(e.token_invalidated=!0),void this.password_view.show(e)}if(!this.fast_conn_manager)this.fast_conn_manager=new c.ConnectionManager(this.CONNECTION_URL),this.fast_connection=this.fast_conn_manager.connection,this.fast_connection.account=this;else return this.fast_connection.disconnect(),this.createFastConnection();"x-token"===t&&this.fast_connection&&(this.fast_connection.x_token=this.get("x_token"),this.fast_connection.counter=this.get("hotp_counter"),this.fast_connection.x_token_auth=!0),this.fast_conn_manager.connect(t,e,a,this.onFastConnected.bind(this))},connect:function(e){e=e||{};let a=this.get("jid"),i=this.get("auth_type"),n;if(a+="/xabber-web-"+t.get("client_id"),this.connection.x_token=this.get("x_token"),this.connection.counter=this.get("hotp_counter"),this.connection.account=this,this.connection.x_token&&!this.connection.counter&&(this.connection.counter=0),n="token"===i?this.settings.get("token"):"x-token"===i?this.get("x_token")&&(1e3*+this.get("x_token").expire>p.now()||!this.get("x_token").expire)?this.get("x_token").token:void 0:this.getPassword(),!n){let t={login:!0};return e.token_invalidated&&(t.token_invalidated=!0),void this.password_view.show(t)}this.session.set({connected:!1,reconnected:!1,reconnecting:!1,conn_retries:0,conn_feedback:t.getString("application_state_connecting"),auth_failed:!1}),this.restoreStatus(),this.conn_manager.connect(i,a,n,this.connectionCallback.bind(this))},reconnect:function(){let e=this.session.get("conn_retries"),a=3>e?i.RECONNECTION_TIMEOUTS[e]:2e4;this.connection.reset(),this.session.set({connected:!1,reconnected:!1,reconnecting:!0,conn_retries:++e,conn_feedback:t.getString("application_state_reconnect_after_some_seconds",[a/1e3]),auth_failed:!1}),this.get("x_token")&&(this.connection.x_token=this.get("x_token")),this.connection.account=this,setTimeout(()=>{this.connFeedback(t.getString("application_state_connecting")),this.restoreStatus(),this.conn_manager.reconnect(this.reconnectionCallback.bind(this))},a)},connectionCallback:function(e,a){if(this.session.get("reconnecting"))return void t.info("ignore connection callback for status: "+i.CONN_STATUSES[e]);if(this.auth_view&&this.loginCallback(e,a),this.session.set({conn_status:e,conn_condition:a}),e!==c.Status.ERROR||"conflict"!==a||this.session.get("delete")||this.onConnectionConflict(),e===c.Status.CONNECTED){if(this.session.set("on_token_revoked",!1),this.connection.x_token&&this.save({auth_type:"x-token",x_token:this.connection.x_token,hotp_counter:this.connection.counter}),this.get("registration_nickname")){let e=s.vcard.getBlank(this.get("jid"));e.nickname=this.get("registration_nickname"),this.setVCard(e,()=>{this.getVCard(),this.set("registration_nickname",null)},function(){s.dialogs.error(t.getString("account_user_info_save_fail")),this.set("registration_nickname",null)})}this.createFastConnection(),this.connection.x_token&&(this.conn_manager.auth_type="x-token"),this.session.set({connected:!0,reconnected:!1}),t.api_account&&!t.api_account.get("connected")&&this.get("auto_login_xa")&&!t.api_account.get("token")&&i.ENABLE_XABBER_ACCOUNT&&this.connectXabberAccount()}else if(e===c.Status.AUTHFAIL)"x-token"===this.get("auth_type")||this.connection.x_token?3>=this.session.get("conn_retries")?this.reconnect():this.onTokenRevoked():this.onAuthFailed();else if(e===c.Status.DISCONNECTED){if(this.session.get("on_token_revoked"))return;this.connection.flush(),this.session.set({connected:!1})}},connectXabberAccount:function(){let e=d({type:"get"}).c("query",{xmlns:c.NS.PRIVATE_STORAGE}).c("storage",{xmlns:"xabber:options"});this.sendIQ(e,e=>{"bind"==o(e).find("option").attr("type")&&1==o(e).find("option").text()&&this.authXabberAccount()})},authXabberAccount:function(e){this.requestPassword(a=>{if(this.xabber_auth={api_jid:a.api_jid,request_id:a.request_id},0<this.code_requests.length){let a=this.code_requests.find(e=>e.jid===this.xabber_auth.api_jid&&e.id===this.xabber_auth.request_id);if(a){let i=this.code_requests.indexOf(a);-1<i&&this.code_requests.splice(i,1),this.verifyXabberAccount(a.code,a=>{this._waiting_code=!1;let i=d({type:"set"}).c("query",{xmlns:c.NS.PRIVATE_STORAGE}).c("storage",{xmlns:"xabber:options"}).c("option",{type:"bind"}).t(1);t.api_account&&(t.api_account.save("token",a),t.api_account.login_by_token()),this.sendIQ(i),e&&e()})}if(this.code_requests.length){({from_jid:this.code_requests[0].jid,message:t.getString("xmpp_confirm__text_message__verification_code_is",[+this.code_requests[0].code]),is_archived:!1});this.createMessageFromIQ(msg_attr)}}})},requestPassword:function(e){let t={type:"POST",url:i.API_SERVICE_URL+"/accounts/xmpp_code_request/",contentType:"application/json",dataType:"json",data:JSON.stringify({jid:this.connection.jid,type:"iq"}),success:function(t){e&&e(t)}};this._waiting_code=!0,o.ajax(t)},reconnectionCallback:function(e,a){if(!this.session.get("reconnecting"))return void t.info("ignore reconnection callback for status: "+i.CONN_STATUSES[e]);if(this.session.set({conn_status:e,conn_condition:a}),e===c.Status.CONNECTED)this.session.set("on_token_revoked",!1),this.connection.x_token&&this.save({auth_type:"x-token",x_token:this.connection.x_token,hotp_counter:this.connection.counter}),this.createFastConnection(),this.connection.connect_callback=this.connectionCallback.bind(this),this.session.set({connected:!0,reconnected:!0,reconnecting:!1,conn_retries:0});else if(e===c.Status.AUTHFAIL)("x-token"===this.get("auth_type")||this.connection.x_token)&&(3<this.session.get("conn_retries")?this.onTokenRevoked():this.onAuthFailed());else if(e===c.Status.DISCONNECTED){if(this.session.get("on_token_revoked"))return;this.connection.flush();let e=t.settings.max_connection_retries;-1===e||this.session.get("conn_retries")<e?this.reconnect():this.connFeedback(t.getString("connection__error__connection_lost"))}},registerCallback:function(e,a,i){if(e===c.Status.REGISTER)this.connection.register.fields.username=c.getNodeFromJid(this.get("jid")),this.connection.register.fields.password=this.getPassword(),t.url_params&&t.url_params.rkey&&(this.connection.register.fields.key=t.url_params.rkey),this.connection.register.submit();else if(e===c.Status.REGISTERED){let e=this.auth_view.$nickname_input.val();this.auth_view.data.set("step",6),e&&this.set("registration_nickname",e)}else e===c.Status.CONFLICT?(this.auth_view.errorRegistrationFeedback({jid:t.getString("label_xmpp_id")}),this.auth_view.data.set("step",3)):e===c.Status.NOTACCEPTABLE?(i?this.auth_view.errorRegistrationFeedback({password:i}):(a=a?": "+a:"",this.auth_view.errorRegistrationFeedback({password:t.getString("xmpp_login__registration_not_filled")+a})),this.auth_view.data.set("step",4)):e===c.Status.REGIFAIL&&(i?this.auth_view.errorRegistrationFeedback({password:i}):(a=a?": "+a:"",this.auth_view.errorRegistrationFeedback({password:t.getString("xmpp_login__registration_failed")+a})),this.auth_view.data.set("step",4))},changePasswordCallback:function(e,a){this.settings_right&&this.settings_right.children&&this.settings_right.children.account_password_view&&(e===c.Status.REGISTERED?this.settings_right.children.account_password_view.successFeedback():e===c.Status.CONFLICT||e===c.Status.NOTACCEPTABLE||e===c.Status.REGIFAIL?(a=a?": "+a:"",this.settings_right.children.account_password_view.errorFeedback({password:t.getString("password_changed_fail")+a})):e===c.Status.AUTHFAIL?this.settings_right.children.account_password_view.errorFeedback({old_password:t.getString("AUTHENTICATION_FAILED")}):e===c.Status.CONNECTED?(this.change_password_connection.register.fields.username=c.getNodeFromJid(this.get("jid")),this.change_password_connection.register.fields.password=this.settings_right.children.account_password_view.$password_input.val().trim(),this.change_password_connection.register.submit()):e===c.Status.DISCONNECTED&&(this.change_password_connection_manager=void 0,this.change_password_connection=void 0))},loginCallback:function(e,a){if(e===c.Status.CONNECTING)this.auth_view.stepped_auth&&this.auth_view.resetAuthStepper();else if(e===c.Status.CONNECTED)this.save("is_new",void 0),this.auth_view.stepped_auth&&!this.auth_view.data.get("registration")?this.auth_view.authStepperStart():this.auth_view.endAuth();else if(l.contains(i.BAD_CONN_STATUSES,e)){let i=!1;e===c.Status.ERROR?e=t.getString("CONNECTION_FAILED"):e===c.Status.CONNFAIL?e=t.getString("CONNECTION_FAILED"):e===c.Status.AUTHFAIL?(e=t.getString("AUTHENTICATION_FAILED"),i=!0):e===c.Status.DISCONNECTED?e=t.getString("connection__error__text_disconnected"):e===c.Status.CONNTIMEOUT&&(e=t.getString("connection__error__text_timeout_expired")),a=a?": "+a:"",this.auth_view.stepped_auth?this.auth_view.authStepperError(i,{password:e+a}):this.auth_view.errorFeedback({password:e+a}),this.get("is_new")&&this.destroy()}},onAuthFailed:function(){this.auth_view||s.dialogs.error(t.getString("connection__error__text_authentication_failed",[this.get("jid")])),this.session.set({auth_failed:!0,no_reconnect:!0}),this.trigger("deactivate",this),this.connFeedback(t.getString("connection__error__text_authentication_failed_short"))},onConnectionConflict:function(){s.dialogs.error(t.getString("connection__error__text_connection_conflict",[this.get("jid")])),this.session.set({auth_failed:!0,no_reconnect:!0}),this.trigger("deactivate",this),this.connFeedback(t.getString("connection__error__text_connection_conflict_short"))},getAllXTokens:function(){let e=[],t=d({from:this.get("jid"),type:"get",to:this.connection.domain}).c("query",{xmlns:`${c.NS.AUTH_DEVICES}#items`});this.sendIQ(t,t=>{o(t).find("device").each((t,a)=>{let i=o(a),n=i.find("client").text(),s=i.find("info").text(),d=i.find("description").text(),r=i.attr("id"),c=1e3*+i.find("expire").text(),l=1e3*+i.find("last-auth").text(),p=i.find("ip").text();e.push({client:n,device:s,description:d,token_uid:r,last_auth:l,expire:c,ip:p})}),this.x_tokens_list=e,this.settings_right&&this.settings_right.updateXTokens()})},onTokenRevoked:function(){return t.api_account&&t.api_account.get("xmpp_binding")===this.get("jid")?void t.trigger("quit_accounts"):void(!this.auth_view&&s.dialogs.error(t.getString("connection__error__text_token_invalidated",[this.get("jid")])),this.session.set({on_token_revoked:!0,auth_failed:!0,connected:!1,no_reconnect:!0}),this.save({auth_type:"password",password:null,x_token:null}),this.connection.pass="",this.trigger("deactivate",this),this.connFeedback(t.getString("connection__error__text_token_invalidated_short")))},onChangedConnected:function(){this.isConnected()?this.session.get("reconnected")?this.onReconnected():this.onConnected():this.onDisconnected()},onConnected:function(){this.connFeedback(t.getString("account_state_connected")),this.jid=this.connection.jid,this.resource=c.getResourceFromJid(this.jid),this.domain=c.getDomainFromJid(this.jid),this.trigger("activate",this),this.session.get("no_reconnect")&&this.session.set("no_reconnect",!1),this.afterConnected(),l.each(this._after_connected_plugins,e=>{e.call(this)})},onBackgroundConnected:function(e){e===c.Status.CONNECTED?(this.background_connection.x_token&&(this.save({x_token:this.background_connection.x_token,hotp_counter:this.background_connection.counter}),this.background_conn_manager.auth_type="x-token",this.background_connection.x_token_auth=!0,this.fast_connection&&this.fast_connection.pass?this.background_connection.pass=this.fast_connection.pass:this.connection&&this.connection.pass&&(this.background_connection.pass=this.connection.pass)),l.each(this._after_background_connected_plugins,e=>{e.call(this)})):(e===c.Status.AUTHFAIL||e===c.Status.DISCONNECTED)&&(this.background_conn_manager=void 0,this.background_connection=void 0)},onFastConnected:function(e){e===c.Status.CONNECTED?(this.fast_connection.x_token&&(this.save({x_token:this.fast_connection.x_token,hotp_counter:this.fast_connection.counter}),this.fast_conn_manager.auth_type="x-token",this.fast_connection.x_token_auth=!0,this.connection&&this.connection.pass&&(this.fast_connection.pass=this.connection.pass)),this.createBackgroundConnection(),l.each(this._after_fast_connected_plugins,e=>{e.call(this)})):(e===c.Status.AUTHFAIL||e===c.Status.DISCONNECTED)&&(this.fast_conn_manager=void 0,this.fast_connection=void 0)},onReconnected:function(){this.connFeedback(t.getString("account_state_connected")),this.afterConnected(),l.each(this._after_reconnected_plugins,e=>{e.call(this)})},afterConnected:function(){this.registerPresenceHandler(),this.enableCarbons(),this.getVCard(),this.sendPendingStanzas()},getAllMessageRetractions:function(e,t){let a={xmlns:c.NS.REWRITE,version:e&&this.omemo?this.omemo.getRetractVersion():this.retraction_version};e&&(a.type="encrypted");let i=d({type:"get"}).c("query",a);this.sendIQ(i,t)},sendPendingStanzas:function(){l.each(this._pending_stanzas,e=>{e.stanza instanceof c.Builder?(this.connection.send(e.stanza),e.callback&&e.callback()):this.connection.sendIQ.apply(this.connection,e.stanza)}),this._pending_stanzas=[]},sendPendingMessages:function(){l.each(this._pending_messages,e=>{let t=this.messages.get(e.msg_id),a;t&&(a=t.get("xml"))&&t.set("state",i.MSG_PENDING),a&&this.sendMsg(a)})},_after_connected_plugins:[],_after_reconnected_plugins:[],_after_background_connected_plugins:[],_after_fast_connected_plugins:[],onDisconnected:function(){if(this.disconnected_timestamp=this.last_stanza_timestamp,this.session.get("delete"))return void this.destroy();let e=this.session.get("deactivate");e?(this.connFeedback(t.getString("settings_account__label_state_disconnected")),this.session.set("deactivate",null),"set_off"===e&&this.trigger("deactivate",this)):this.session.get("no_reconnect")?this.session.set("no_reconnect",!1):(this.fast_connection&&this.fast_connection.connected&&this.fast_connection.disconnect(),this.background_connection&&this.background_connection.connected&&this.background_connection.disconnect(),this.reconnect())},connFeedback:function(e){this.session.set("conn_feedback",e)},enableCarbons:function(){let e=d({type:"set"}).c("enable",{xmlns:c.NS.CARBONS});this.sendIQ(e)},getVCard:function(e){let t=this.get("jid"),a=l.isFunction(e);this.connection&&this.connection.connected&&(this.background_connection&&this.background_connection.connected?this.background_connection:this.connection).vcard.get(t,n=>{let s={vcard:n,vcard_updated:p.now()};s.name=n.nickname||(n.first_name+" "+n.last_name).trim()||n.fullname||t,(!this.get("avatar_priority")||this.get("avatar_priority")<=i.AVATAR_PRIORITIES.VCARD_AVATAR)&&(n.photo.image?(s.avatar_priority=i.AVATAR_PRIORITIES.VCARD_AVATAR,s.image=n.photo.image):s.image=m.getDefaultAvatar(s.name),this.cached_image=m.getCachedImage(s.image)),this.save(s),a&&e(n)},function(){a&&e(null)})},setVCard:function(e,t,a){let i=l.extend(l.clone(this.get("vcard")),e);this.connection.vcard.set(this.get("jid"),i,()=>{this.vcardPhotoUpdated(i.photo.image),t&&t()},a)},getStatusMessage:function(){return this.get("status_message")||t.getString([this.get("status")])},setStatus:function(e,t){let a={status_updated:p.now()};null!==e&&(a.status=e),null!==t&&(a.status_message=t||""),"offline"===e&&"offline"!==this.get("status")&&(a.status_prev=this.get("status")),this.save(a),this.get("enabled")&&("offline"===e?this.deactivate("set_offline"):this.isConnected()?this.sendPresence():this.activate())},restoreStatus:function(){"offline"===this.get("status")&&this.save({status_updated:p.now(),status:this.get("status_prev")||"online",status_prev:void 0})},getAvatarHash:function(e){let t=e||this.get("vcard").photo.image;if(t){let e=atob(t),a=Uint8Array.from(Array.prototype.map.call(e,function(e){return e.charCodeAt(0)}));return sha1(a)}return""},vcardPhotoUpdated:function(e){let t=r().c("x",{xmlns:c.NS.VCARD_UPDATE}).c("photo").t(this.getAvatarHash(e)).up().up();return this.sendPres(t)},sendPresence:function(e,t){e=e||this.get("status");let a=t||this.get("status_message"),i=r();return"offline"===e?i.attrs({type:"unavailable"}):("online"!==e&&i.c("show").t(e).up(),i.c("status").t(a).up(),i.c("priority").t(this.get("priority")).up(),this.get("x_token")&&i.c("device",{xmlns:c.NS.AUTH_DEVICES,id:this.get("x_token").token_uid}).up()),i.cnode(this.connection.caps.createCapsNode({node:"https://www.xabber.com/clients/xabber/web"}).tree()),this.sendPres(i)},showSettings:function(e,a){let i=!l.isUndefined(this.settings_right);this.settings_left||(this.settings_left=new t.AccountSettingsLeftView({model:this})),i||(this.settings_right=new t.AccountSettingsRightView({model:this})),this.updateColorScheme(),t.body.setScreen("account_settings",{account:this,right:e,block_name:a}),this.trigger("open_settings"),i||(this.trigger("render_settings"),this.settings_right.addChild("blocklist",t.BlockListView,{account:this,el:this.settings_right.$(".blocklist-info")[0]}),this.settings_right.addChild("account_password_view",t.ChangeAccountPasswordView,{model:this,el:this.settings_right.$(".change-password-container")[0]}))},updateColorScheme:function(){let e=this.settings.get("color");this.settings_left&&this.settings_left.$el.attr("data-color",e),this.settings_right&&this.settings_right.$el.attr("data-color",e),this.vcard_edit.$el.attr("data-color",e)},revokeXToken:function(e,t){let a=d({from:this.get("jid"),type:"set",to:this.connection.domain}).c("revoke",{xmlns:c.NS.AUTH_DEVICES});for(let i=0;i<e.length;i++)a.c("device",{id:e[i]}).up();this.sendIQ(a,()=>{t&&t()})},revokeAllXTokens:function(e,t){let a=d({from:this.get("jid"),type:"set",to:this.connection.domain}).c("revoke-all",{xmlns:c.NS.AUTH_DEVICES});this.sendIQ(a,t=>{e&e(t)},function(e){t&&t(e)})},deleteAccount:function(e){this.show_settings_after_delete=e,t.body.setScreen("all_chats",{right_contact:""}),this.get("x_token")&&this.revokeXToken([this.get("x_token").token_uid]),this.session.set("delete",!0),this.deactivate(),t.api_account&&t.api_account.get("xmpp_binding")===this.get("jid")&&t.trigger("quit_accounts")},activate:function(){this.isConnected()||this.connect()},deactivate:function(e){e||(e="set_off"),this.session.set("deactivate",e),this.isConnected()?(this.connFeedback(t.getString("settings_account__label_state_disconnecting")),this.sendPresence("offline"),this.connection.disconnect(),this.fast_conn_manager&&this.fast_connection.disconnect(),this.background_conn_manager&&this.background_connection.disconnect()):this.onDisconnected()},onDestroy:function(){this.connection&&!this.connection.register._registering&&(this.connection.connect_callback=null),this.settings&&this.settings.destroy(),this.isConnected()&&(this.connection.disconnect(),this.fast_conn_manager&&this.fast_connection.disconnect(),this.background_conn_manager&&this.background_connection.disconnect()),this.trigger("remove_saved_chat")},registerIQHandler:function(){this.connection.deleteHandler(this._stanza_handler),this._stanza_handler=this.connection.addHandler(e=>(this.onGetIQ(e),!0),null,"iq","get")},registerSyncedIQHandler:function(){this.connection.deleteHandler(this._synced_stanza_handler),this._synced_stanza_handler=this.connection.addHandler(this.onSyncedIQ.bind(this),c.NS.SYNCHRONIZATION,"iq","set")},registerPresenceHandler:function(){this.connection.deleteHandler(this._pres_handler),this._pres_handler=this.connection.addHandler(e=>(this.onPresence(e),!0),null,"presence",null)},onSyncedIQ:function(e){return this.roster.syncConversations(e),!0},onGetIQ:function(e){let a=o(e),n=a.find(`confirm[xmlns="${c.NS.HTTP_AUTH}"]`),s=a.find(`query[xmlns="${c.NS.JINGLE_MSG}"]`),r=a.attr("from"),l;if(n.length)if(l=n.attr("id"),this._waiting_code&&n.attr("url")===i.XABBER_ACCOUNT_URL+"/auth/login/")this.xabber_auth.api_jid&&this.xabber_auth.request_id?a.attr("id")===this.xabber_auth.request_id&&r===this.xabber_auth.api_jid&&this.verifyXabberAccount(l,e=>{this._waiting_code=!1,this.get("auto_login_xa")&&(t.api_account.save("token",e),t.api_account.login_by_token())}):this.code_requests.push({jid:r,id:a.attr("id"),code:l});else{({from_jid:r,message:t.getString("xmpp_confirm__text_message__verification_code_is",[l]),is_archived:!1});this.createMessageFromIQ(msg_attr)}if(s.length){let e=s.children("session").attr("id"),i;e&&t.current_voip_call&&e===t.current_voip_call.get("session_id")&&!t.current_voip_call.get("state")?(i=d({from:this.get("jid"),to:r,type:"result",id:a.attr("id")}).c("query",{xmlns:c.NS.JINGLE_MSG}).c("session",{id:e}),t.current_voip_call.updateStatus(t.getString("dialog_jingle_message__status_calling"))):i=d({from:this.get("jid"),to:r,type:"error",id:a.attr("id")}).c("error",{xmlns:c.NS.JINGLE_MSG}),this.sendIQ(i)}},createMessageFromIQ:function(e){let t=this.contacts.mergeContact(e.from_jid),a=this.chats.getChat(t);a.messages.create(e)},onPresence:function(e){let t=o(e),a=e.getAttribute("type");if("error"===a)return;let n=e.getAttribute("from"),s=c.getBareJidFromJid(n);if(s!==this.get("jid"))return void l.each(this._added_pres_handlers,function(t){t(e,s)});let d=c.getResourceFromJid(n),r=+t.find("priority").text(),p=t.find("show").text()||"online",m=t.find("status").text();l.isNaN(r)&&(r=0);let u=t.find(`x[xmlns="${c.NS.VCAD_UPDATE}"]`);if(u.length&&this.get("avatar_priority")&&this.get("avatar_priority")<=i.AVATAR_PRIORITIES.VCARD_AVATAR&&this.save("photo_hash",u.find("photo").text()),d){let e=this.resources.get(d);if("unavailable"===a)e&&e.destroy();else{let a={resource:d,priority:r,status:p,status_message:m},i=t.find(`device[xmlns="${c.NS.AUTH_DEVICES}"]`);i&&this.x_tokens_list&&i.attr("id")&&(a.token_uid=i.attr("id")),e?e.set(a):e=this.resources.create(a)}}}},{addInitPlugin:function(e){this.prototype._init_plugins.push(e)},addConnPlugin:function(e,t,a){t&&this.prototype._after_connected_plugins.push(e),a&&this.prototype._after_reconnected_plugins.push(e)},addBackgroundConnPlugin:function(e,t){t&&this.prototype._after_background_connected_plugins.push(e)},addFastConnPlugin:function(e,t){t&&this.prototype._after_fast_connected_plugins.push(e)}}),t.Accounts=Backbone.CollectionWithStorage.extend({model:t.Account,comparator:function(e,t){return e.settings.get("order")<t.settings.get("order")?-1:1},_initialize:function(){this.settings_list=t.account_settings_list,this.getEnabledList(),this.getConnectedList(),this.on("add",this.onAdd,this),this.on("destroy",this.onDestroy,this),this.on("change:enabled",this.getEnabledList,this),this.on("update_order",this.onUpdatedOrder,this),this.on("add destroy activate deactivate",this.onListChanged,this),this.on("destroy deactivate",this.onAccountDisconnected,this),t.on("quit",this.onQuit,this),t.on("quit_accounts",this.onQuitAccounts,this),this.settings_list.on("add_settings",this.onSettingsAdded,this),t.api_account&&t.api_account.on("settings_result",function(e){e&&this.trigger("update_order")},this)},onQuit:function(){t.api_account&&t.api_account.revoke_token(),l.each(l.clone(this.models),function(e){e.deleteAccount(),e.password_view.closeModal(),s.modals.clear_queue()}),this.models.length||t.body.setScreen("login")},onQuitAccounts:function(){t.api_account&&t.api_account.revoke_token(),l.each(l.clone(this.models),function(e){e.settings.get("to_sync")&&(e.deleteAccount(),e.password_view.closeModal(),s.modals.clear_queue())}),this.models.length||t.body.setScreen("login")},getEnabledList:function(){this.enabled=this.filter(e=>e.get("enabled"))},getConnectedList:function(){this.connected=this.filter(e=>e.isConnected())},onListChanged:function(){this.getEnabledList(),this.getConnectedList(),this.trigger("list_changed",this)},onAdd:function(e){e.is_invalid&&e.destroy()},onDestroy:function(e){if(!e.get("is_new")){let a=!(this.length||t.api_account&&t.api_account.get("connected"));a?t.body.setScreen("login"):e.show_settings_after_delete?t.body.setScreen("settings"):(t.body.setScreen("all-chats"),t.chats_view.showAllChats())}},onAccountDisconnected:function(){t.toolbar_view.recountAllMessageCounter(),t.recountAllMessageCounter()},onSettingsAdded:function(e){let t=e.get("jid");this.get(t)||this.create({jid:t})},onUpdatedOrder:function(){this.sort(),this.getEnabledList(),this.getConnectedList()},getLastOrder:function(){return this.length?this.last().settings.get("order"):0},getDefaultColor:function(){let e={},t=i.MATERIAL_COLORS;this.each(function(t){e[t.settings.get("color")]=!0});for(let a=0;a<t.length;a++)if(!e[t[a]])return t[a];return"red"},moveBefore:function(e,t){let a=this.indexOf(t),i=0<a?this.at(a-1).settings.get("order"):0;e.settings.save("order",(t.settings.get("order")+i)/2),this._updateOrder()},moveToBottom:function(e){e.settings.save("order",this.getLastOrder()+1),this._updateOrder()},_updateOrder:function(){this.sort(),this.each(function(e,t){e.settings.save({order:t+1})}),this.trigger("update_order"),t.api_account&&t.api_account.get("connected")&&(this.settings_list.order_timestamp.save("timestamp",s.now()),t.api_account.synchronize_order_settings())}}),t.AccountToolbarItemView=t.BasicView.extend({className:"toolbar-item account-item",template:n.toolbar_item,avatar_size:i.AVATAR_SIZES.TOOLBAR_ACCOUNT_ITEM,events:{"click .filter-chats":"filterChats","click .circle-avatar":"showSettings"},_initialize:function(){this.updateConnected(),this.updateAuthState(),this.updateStatus(),this.updateAvatar(),this.updateColorScheme(),this.$el.attr("data-jid",this.model.get("jid")),this.model.session.on("change:auth_failed",this.updateAuthState,this),this.model.session.on("change:connected",this.updateConnected,this),this.model.on("change:status",this.updateStatus,this),this.model.on("change:image",this.updateAvatar,this),this.model.settings.on("change:color",this.updateColorScheme,this),this.model.on("filter_chats",this.setActive,this),this.model.on("open_settings",this.setActive,this)},updateConnected:function(){this.$el.switchClass("disconnected",!this.model.isConnected())},updateAuthState:function(){let e=this.model.session.get("auth_failed");this.$(".status").hideIf(e),this.$(".auth-failed").showIf(e)},updateStatus:function(){this.$(".status").attr("data-status",this.model.get("status"))},updateAvatar:function(){let e=this.model.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)},updateColorScheme:function(){this.$el.attr("data-color",this.model.settings.get("color"))},showSettings:function(){let e=t.toolbar_view.getScrollTop();this.model.showSettings(),t.toolbar_view.scrollTo(e)},filterChats:function(e){let a=t.toolbar_view.getScrollTop();e.stopPropagation(),t.chats_view.showChatsByAccount(this.model),this.model.trigger("filter_chats"),t.toolbar_view.scrollTo(a)},setActive:function(){t.toolbar_view.$(".toolbar-item").removeClass("active"),this.$el.addClass("active")}}),t.ToolbarAccountsBlockView=t.BasicView.extend({_initialize:function(){this.updateList(),this.model.on("add change:enabled",this.updateOneInList,this),this.model.on("update_order",this.updateList,this),this.model.on("destroy",this.onAccountRemoved,this)},updateList:function(){l.each(this.children,function(e){e.detach()}),l.each(this.model.enabled,e=>{let a=e.get("jid"),i=this.child(a);i||(i=this.addChild(a,t.AccountToolbarItemView,{model:e})),this.$el.append(i.$el)}),this.parent.updateScrollBar()},updateOneInList:function(e){let a=e.get("jid");if(e.get("enabled")){let i=this.child(a);i?i.$el.detach():i=this.addChild(a,t.AccountToolbarItemView,{model:e});let n=this.model.enabled.indexOf(e);0===n?this.$el.prepend(i.$el):this.$(".account-item").eq(n-1).after(i.$el)}else e.last_msg_timestamp=0,this.removeChild(a);this.parent.updateScrollBar()},onAccountRemoved:function(e){this.removeChild(e.get("jid")),this.parent.updateScrollBar()}}),t.Resource=Backbone.Model.extend({idAttribute:"resource",defaults:{priority:0}}),t.ResourceView=t.BasicView.extend({className:"resource-wrap",template:n.resource,_initialize:function(){this.update(),this.model.on("change",this.update,this)},update:function(){let e=this.model.attributes;return this.$(".status").attr("data-status",e.status),this.$(".status-message").text(e.status_message||t.getString(e.status)),this.$(".client").text(e.client||t.getString("please_wait")),this.$(".resource").text(e.resource),this.$(".priority").text(e.priority),this}}),t.ResourceRightView=t.BasicView.extend({className:"resource-wrap",template:n.resource_right,_initialize:function(){this.update(),this.model.on("change",this.update,this)},update:function(){let e=this.model.attributes;return this.$(".status").attr("data-status",e.status),this.$(".status-message").text(e.status_message||t.getString(e.status)),this.$(".client").text(e.client||t.getString("please_wait")),this.$(".resource").text(e.resource),this.$(".priority").text(e.priority),this}}),t.Resources=Backbone.Collection.extend({model:t.Resource,comparator:function(e,t){let a=e.get("priority"),i=t.get("priority");return a>i?-1:a<i?1:0},requestInfo:function(e,t){let a=this.jid+"/"+e.get("resource");this.connection&&this.connection.connected&&this.connection.disco.info(a,null,a=>{let i=o(a).find("identity[category=client]");i.length&&e.set("client",i.attr("name")),this.attention_supported=this.isFeatureSupported(a,c.NS.ATTENTION),t&&t()})},isFeatureSupported:function(e,t){let a=o(e),i=!1;return a.find("feature").each(function(){let e=o(this).attr("var");e===t&&(i=!0)}),i}}),t.ResourcesView=t.BasicView.extend({_initialize:function(){this.renderByInit(),this.model.on("add",this.onResourceAdded,this),this.model.on("remove",this.onResourceRemoved,this),this.model.on("reset",this.onReset,this),this.model.on("change:priority",this.onPriorityChanged,this)},renderByInit:function(){this.model.each(e=>{this.onResourceAdded(e)})},onResourceAdded:function(e){this.model.requestInfo(e),this.addChild(e.get("resource"),t.ResourceView,{model:e}),this.updatePosition(e),this.$el.removeClass("hidden"),this.parent.updateScrollBar()},onPriorityChanged:function(e){this.model.sort(),this.updatePosition(e)}}),t.AccountResources=t.Resources.extend({initialize:function(e,t){this.jid=t.account.get("jid"),this.connection=t.account.connection}}),t.AccountResourcesView=t.ResourcesView.extend({onResourceRemoved:function(e){this.removeChild(e.get("resource")),this.parent.updateScrollBar()},onReset:function(){this.removeChildren(),this.parent.updateScrollBar()},updatePosition:function(e){let t=this.child(e.get("resource"));if(t){t.$el.detach();let a=this.model.indexOf(e);0===a?this.$(".main-resource").after(t.$el):this.$(".resource-wrap").eq(a).after(t.$el),this.updateScrollBar()}}}),t.AccountVCardView=t.VCardView.extend({events:{"click .btn-vcard-refresh":"refresh","click .btn-vcard-edit":"showEditView","click .details-icon":"onClickIcon"},__initialize:function(){this.updateButtons(),this.model.on("activate deactivate",this.updateButtons,this)},updateButtons:function(){let e=this.model.isConnected();this.$(".btn-vcard-edit").showIf(e),this.$(".btn-vcard-refresh").showIf(e)},showEditView:function(){this.model.showSettings("vcard_edit")}}),t.AccountSettingsLeftView=t.BasicView.extend({className:"account-settings-left-wrap",template:n.settings_left,avatar_size:i.AVATAR_SIZES.ACCOUNT_SETTINGS_LEFT,events:{"change .main-info-wrap .circle-avatar input":"changeAvatar","click .btn-choose-image":"chooseAvatar","click .btn-emoji-panel":"openEmojiPanel","click .btn-selfie":"openWebcamPanel","click .main-info-wrap .status":"openChangeStatus","click .settings-tabs-wrap .settings-tab":"jumpToBlock","click .settings-tab.delete-account":"deleteAccount"},_initialize:function(){this.status_field=new t.StatusMessageWidget({el:this.$(".status-wrap")[0],model:this.model}),this.updateName(),this.updateStatus(),this.updateAvatar(),this.updateBlocks(),this.model.on("change:name",this.updateName,this),this.model.on("change:status_updated",this.updateStatus,this),this.model.on("change:image",this.updateAvatar,this),this.model.on("activate deactivate",this.updateBlocks,this),this.model.on("destroy",this.remove,this)},render:function(e){return e.block_name||(e.block_name="connection"),this.$el.switchClass("vcard-edit","vcard_edit"==e.right),this.$(".settings-tab[data-block-name=\"tokens\"]").hideIf("x-token"!==this.model.get("auth_type")),this.$(".settings-tab").removeClass("active"),this.$(`.settings-tab[data-block-name="${e.block_name}"]`).addClass("active"),this.$(".circle-avatar.dropdown-button").dropdown({inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"}),this.updateCSS(),this},updateName:function(){this.$(".name").text(this.model.get("name")),this.updateNameCSS()},updateStatus:function(){this.$(".main-info-wrap .status").attr("data-status",this.model.get("status"))},updateAvatar:function(){let e=this.model.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)},updateBlocks:function(){let e=this.model.isConnected();this.$(".main-info-wrap").switchClass("disconnected",!e),this.$(".settings-tab[data-block-name=\"server-info\"]").showIf(e),this.$(".settings-tab[data-block-name=\"blocklist\"]").showIf(e),this.$(".settings-tab[data-block-name=\"groups-info\"]").showIf(e),this.updateScrollBar()},updateNameCSS:function(){if(!this.isVisible())return;let e=this.$(".name");e.removeAttr("style");let t=this.$(".name-wrap").width(),a=e.width(),i=22;for(;a>t&&12<i;)e.css({"font-size":i}),a=e.width(),i-=2;e.css({"margin-left":(t-a)/2})},chooseAvatar:function(){this.$(".main-info-wrap .circle-avatar input").click()},openEmojiPanel:function(){let e=new t.EmojiProfileImageView;e.open({model:this.model})},openWebcamPanel:function(){let e=new t.WebcamProfileImageView;e.open({model:this.model})},changeAvatar:function(e){let a=e.target;if(!a.files.length)return;let n=a.files[0];return(a.value="",n.size>i.MAX_AVATAR_FILE_SIZE)?void s.dialogs.error(t.getString("group_settings__error__avatar_too_large")):n.type.startsWith("image")?void(this.$(".circle-avatar").find(".preloader-wrap").addClass("visible").find(".preloader-wrapper").addClass("active"),s.images.getAvatarFromFile(n).done((e,a,i)=>{e?this.model.pubAvatar({base64:e,hash:a,size:i,type:n.type},()=>{this.$(".circle-avatar").setAvatar(e,this.avatar_size),this.$(".circle-avatar").find(".preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active")},()=>{this.$(".circle-avatar").find(".preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active"),s.dialogs.error(t.getString("group_settings__error__wrong_image"))}):s.dialogs.error(t.getString("group_settings__error__wrong_image"))})):void s.dialogs.error(t.getString("group_settings__error__wrong_image"))},updateCSS:function(){this.updateNameCSS()},openChangeStatus:function(){t.change_status_view||(t.change_status_view=new t.ChangeStatusView),t.change_status_view.open(this.model)},jumpToBlock:function(e){let t=o(e.target).closest(".settings-tab"),a=t.data("block-name");"vcard_edit"===a?(this.model.showSettings(a,"vcard"),this.$(".settings-tab").removeClass("active"),t.addClass("active")):this.model.showSettings(null,a)},deleteAccount:function(){let e=[];t.api_account&&t.api_account.get("connected")&&(e=[{name:"delete_settings",checked:this.model.settings.get("to_sync"),text:t.getString("dialog_delete_account__label_delete_synced_settings")}]),s.dialogs.ask(t.getString("settings_account__button_quit_account"),t.getString("dialog_quit_account__confirm"),e,{ok_button_text:t.getString("button_quit")}).done(e=>{e&&(e.delete_settings&&t.api_account&&(t.api_account.get("xmpp_binding")===this.model.get("jid")?t.api_account._call_method("DELETE","/accounts/current/client-settings/",{jid:this.model.get("jid")}):t.api_account.delete_settings(this.model.get("jid"))),this.model.deleteAccount())})}}),t.AccountSettingsRightView=t.BasicView.extend({className:"account-settings-right-wrap",template:n.settings_right,ps_selector:".panel-content",events:{"change .enabled-state input":"setEnabled","change .setting-send-chat-states input":"setTypingNotification","change .setting-use-omemo input":"setEnabledOmemo","click .btn-change-password":"showPasswordView","click .btn-reconnect":"reconnect",click:"hideResources","click .last-auth.resource":"showResources","change .sync-account":"changeSyncSetting","click .btn-delete-settings":"deleteSettings","change .color-scheme input[type=radio][name=account_color]":"changeColor","click .token-wrap .btn-revoke-token":"revokeXToken","click .tokens .btn-revoke-all-tokens":"revokeAllXTokens","click .omemo-info .btn-manage-devices":"openDevicesWindow","click .btn-block":"openBlockWindow","click .btn-unblock-selected":"unblockSelected","click .btn-deselect-blocked":"deselectBlocked","click .omemo-info .btn-purge-keys":"purgeKeys"},_initialize:function(){this.vcard_view=this.addChild("vcard",t.AccountVCardView,{model:this.model,el:this.$(".vcard")[0]}),this.$(".account-name .value").text(this.model.get("jid")),this.updateStatus(),this.updateView(),this.showConnectionStatus(),this.updateSynchronizationBlock(),this.model.resources.on("change",this.updateXTokens,this),this.model.resources.on("add",this.updateXTokens,this),this.model.resources.on("destroy",this.updateXTokens,this),this.model.session.on("change:reconnecting",this.updateReconnectButton,this),this.model.session.on("change:conn_feedback",this.showConnectionStatus,this),this.model.settings.on("change:to_sync",this.updateSyncOption,this),this.model.settings.on("change:deleted",this.updateDelSettingsButton,this),this.model.settings.on("change:to_sync change:synced",this.updateSyncState,this),t.api_account&&t.api_account.on("change:connected",this.updateSynchronizationBlock,this),this.model.on("change:enabled",this.updateEnabled,this),this.model.settings.on("change:omemo",this.updateEnabledOmemo,this),this.model.settings.on("change:encrypted_chatstates",this.updateEncryptedChatstates,this),this.model.on("change:status_updated",this.updateStatus,this),this.model.on("activate deactivate",this.updateView,this),this.model.on("destroy",this.remove,this)},render:function(e){return e.block_name||(e.block_name="connection"),this.updateEnabledOmemo(),this.updateEncryptedChatstates(),this.updateEnabled(),this.updateXTokens(),this.$(".connection-wrap .buttons-wrap .btn-change-password").hideIf("x-token"===this.model.get("auth_type")),this.$(".connection-wrap .buttons-wrap .btn-reconnect").hideIf("x-token"===this.model.get("auth_type")),this.$(".main-resource .client").text(t.get("client_name")),this.$(".main-resource .resource").text(this.model.resource),this.$(".main-resource .priority").text(this.model.get("priority")),this.$(`.color-scheme input[type=radio][name=account_color][value="${this.model.settings.get("color")}"]`).prop("checked",!0),e.block_name&&(this.$(".settings-block-wrap").addClass("hidden"),this.$(".settings-block-wrap."+e.block_name).removeClass("hidden"),this.$(".settings-panel-head span.settings-panel-head-title").text(this.$(".settings-block-wrap."+e.block_name).attr("data-header")),this.$(".btn-block").switchClass("hidden2","blocklist-info"!=e.block_name)),this.scrollToChild(this.$(".settings-block-wrap."+e.block_name)),this.$(".panel-content-wrap").removeClass("hidden"),this},updateStatus:function(){let e=this.model,t=e.get("status"),a=e.getStatusMessage();this.$(".main-resource .status").attr("data-status",t),this.$(".main-resource .status-message").text(a)},updateView:function(){let e=this.model.isConnected();this.$(".server-info").showIf(e),this.$(".blocklist").showIf(e),this.$(".groups-info").showIf(e),this.updateScrollBar()},updateSynchronizationBlock:function(){this.$(".xabber-account-features-wrap").showIf(t.api_account&&t.api_account.get("connected")),this.updateSyncState(),this.updateSyncOption(),this.updateDelSettingsButton()},showResources:function(e){this.$(`.token-resource-wrap`).hideIf(!0);let t=o(e.target).attr("data-resource-id");this.$(`.token-resource-wrap[data-resource-id="${t}"]`).hideIf(!1)},hideResources:function(e){o(e.target).hasClass("last-auth")&&o(e.target).hasClass("resource")||0<o(e.target).closest(".token-resource-wrap").length||this.$(`.token-resource-wrap`).hideIf(!0)},renderAllXTokens:function(){this.$(".panel-content-wrap .tokens .sessions-wrap").html(""),o(l.sortBy(this.model.x_tokens_list),"last_auth").each((e,t)=>{let a={resource_obj:void 0,client:t.client,device:t.device,token_uid:t.token_uid,ip:t.ip,last_auth:u(t.last_auth),expire:u(t.expire)},i=this.model.resources.findWhere({token_uid:t.token_uid});if(i&&(a.resource_obj=i.toJSON()),this.model.get("x_token")&&this.model.get("x_token").token_uid==t.token_uid){let e=o(n.current_token_item(a));return void this.$(".panel-content-wrap .tokens .current-session").append(e)}let s=o(n.token_item(a));this.$(".panel-content-wrap .tokens .all-sessions").append(s)}),this.$(".panel-content-wrap .tokens .all-sessions").children().length?this.$(".panel-content-wrap .tokens .all-sessions-wrap").removeClass("hidden"):this.$(".panel-content-wrap .tokens .all-sessions-wrap").addClass("hidden")},updateXTokens:function(){return"x-token"===this.model.get("auth_type")?void(this.$(".panel-content-wrap .tokens .sessions-wrap").html(""),this.model.x_tokens_list&&this.model.x_tokens_list.length&&this.renderAllXTokens()):(this.$(".panel-content-wrap .tokens").addClass("hidden"),void this.$(".panel-content-wrap .tokens .sessions-wrap").children().html(""))},revokeXToken:function(e){let t=o(e.target).closest(".token-wrap"),a=t.data("token-uid");this.model.revokeXToken([a],()=>this.model.get("x_token")&&this.model.get("x_token").token_uid===a?void this.model.deleteAccount():void this.model.getAllXTokens())},revokeAllXTokens:function(){s.dialogs.ask(t.getString("settings_account__dialog_terminate_sessions__header"),t.getString("terminate_all_sessions_title"),null,{ok_button_text:t.getString("button_terminate")}).done(e=>{e&&this.model.x_tokens_list&&this.model.revokeAllXTokens(()=>{this.model.getAllXTokens()})})},updateSyncState:function(){let e;e=this.model.settings.get("to_sync")?this.model.settings.get("synced")?"yes":"no":"off",this.$(".sync-status").text(t.getString(i.SYNCED_STATUS_DATA[e].tip));let a=i.SYNCED_STATUS_DATA[e].icon,n=this.$(".sync-status-icon");n.removeClass(n.attr("data-mdiclass")).attr("data-mdiclass",a).addClass(a)},updateSyncOption:function(){this.$(".sync-account").prop("checked",this.model.settings.get("to_sync"))},updateDelSettingsButton:function(){this.$(".btn-delete-settings").hideIf(this.model.settings.get("deleted"))},updateEnabled:function(){let e=this.model.get("enabled");this.$(".enabled-state input[type=checkbox]").prop("checked",e)},updateEnabledOmemo:function(){let e=this.model.settings.get("omemo"),a=!1;if(this.model.omemo)a=Object.keys(this.model.omemo.get("prekeys")).length;else{let e=new t.Omemo({id:"omemo"},{account:this.model,storage_name:t.getStorageName()+"-omemo-settings-"+this.model.get("jid"),fetch:"before"});a=Object.keys(e.get("prekeys")).length,e.destroy()}l.isUndefined(e)&&(e=!1),e&&this.model.omemo_enable_view&&this.model.omemo_enable_view.close(),this.$(".setting-use-omemo input[type=checkbox]").prop("checked",e),this.$(".omemo-settings-wrap .setting-wrap:not(.omemo-enable)").switchClass("hidden",!e),this.$(".omemo-settings-wrap .setting-wrap.purge-keys").switchClass("hidden",!a)},updateEncryptedChatstates:function(){let e=this.model.settings.get("encrypted_chatstates");this.$(".setting-send-chat-states input[type=checkbox]").prop("checked",e)},updateReconnectButton:function(){this.$(".btn-reconnect").switchClass("disabled",this.model.session.get("reconnecting"))},setEnabled:function(){let e=this.$(".enabled-state input").prop("checked");this.model.save("enabled",e),e?this.model.activate():this.model.deactivate()},setEnabledOmemo:function(){let e=this.$(".setting-use-omemo input").prop("checked");this.model.settings.save("omemo",e),this.$(".omemo-settings-wrap .setting-wrap:not(.omemo-enable)").switchClass("hidden",!e),e?this.initOmemo():this.destroyOmemo()},setTypingNotification:function(){let e=this.$(".setting-send-chat-states input").prop("checked");this.model.settings.save("encrypted_chatstates",e)},initOmemo:function(){this.model.omemo=new t.Omemo({id:"omemo"},{account:this.model,storage_name:t.getStorageName()+"-omemo-settings-"+this.model.get("jid"),fetch:"before"}),setTimeout(()=>{this.model.omemo.onConnected()},1e3)},destroyOmemo:function(){this.model.omemo.destroy(),this.model.omemo=void 0},openDevicesWindow:function(){this.model.omemo?(!this.omemo_devices&&(this.omemo_devices=new t.Fingerprints({model:this.model.omemo})),this.omemo_devices.open()):s.dialogs.error(t.getString("omemo__chat__placeholder_encryption_disabled"))},purgeKeys:function(){s.dialogs.ask(t.getString("omemo__dialog_purge_keys__header"),t.getString("omemo__dialog_purge_keys__text"),null,{ok_button_text:t.getString("omemo__dialog_purge_keys__button_purge_keys")}).done(e=>{if(e){if(this.model.omemo){let e=this.model.omemo.get("device_id");this.model.omemo.save("prekeys",{}),this.model.omemo.bundle&&(this.model.omemo.bundle.preKeys=[]),this.model.omemo.own_devices[e]&&(this.model.omemo.own_devices[e].preKeys=[],this.model.omemo.own_devices[e].set({ik:null,fingerprint:null})),this.model.connection.omemo&&this.model.connection.omemo.removeItemFromNode(`${c.NS.OMEMO}:bundles`,e)}else{let e=new t.Omemo({id:"omemo"},{account:this.model,storage_name:t.getStorageName()+"-omemo-settings-"+this.model.get("jid"),fetch:"before"});e.save("prekeys",{}),this.model.connection.omemo&&this.model.connection.omemo.removeItemFromNode(`${c.NS.OMEMO}:bundles`,e.get("device_id")),e.destroy()}this.$(".omemo-settings-wrap .setting-wrap.purge-keys").switchClass("hidden",!0)}})},showConnectionStatus:function(){this.$(".conn-status").text(this.model.session.get("conn_feedback"))},showPasswordView:function(){this.model.password_view.show()},reconnect:function(){this.model.session.get("reconnecting")||(this.model.save("enabled",!0),this.model.connection.connected?this.model.connection.disconnect():this.model.connect())},changeSyncSetting:function(e){let a=o(e.target).prop("checked"),i=this.model.settings;i.save("to_sync",a),a&&(i.update_timestamp(),t.api_account&&t.api_account.synchronize_main_settings())},deleteSettings:function(){s.dialogs.ask(t.getString("progress_title_delete_settings"),t.getString("delete_settings_summary"),[{name:"delete_account",checked:this.model.settings.get("to_sync"),text:t.getString("delete_settings__optional_button__delete_synced_account")}],{ok_button_text:t.getString("delete")}).done(e=>{e&&(e.delete_account?!this.model.settings.get("to_sync")&&this.model.deleteAccount(!0):this.model.settings.save("to_sync",!1),t.api_account&&t.api_account.delete_settings(this.model.get("jid")))})},changeColor:function(e){let t=e.target.value;this.model.settings.update_settings({color:t})},openBlockWindow:function(){s.dialogs.ask_enter_value(t.getString("dialog_block_xmpp_address__text"),null,{modal_class:"account-add-blocked",input_placeholder_value:t.getString("dialog_block_xmpp_address__hint_address")},{ok_button_text:t.getString("contact_bar_block")}).done(e=>{if(e){let t=this.model.contacts.get(e);t?t.block():this.model.contacts.blockContact(e)}})},unblockSelected:function(){this.children&&this.children.blocklist&&this.children.blocklist.unblockSelected()},deselectBlocked:function(){this.children&&this.children.blocklist&&this.children.blocklist.deselectBlocked()}}),t.StatusMessageWidget=t.InputWidget.extend({field_name:"status-message",placeholder:"Set custom status",bindModelEvents:function(){this.model.on("change:status_updated",this.updateValue,this)},getValue:function(){return this.model.getStatusMessage()},setValue:function(e){this.model.setStatus(null,e)}}),t.AccountSettingsItemView=t.BasicView.extend({className:"xmpp-account draggable droppable",template:n.global_settings_item,avatar_size:i.AVATAR_SIZES.SETTINGS_ACCOUNT_ITEM,events:{"click .account-info-wrap":"showSettings","change .enabled-state input":"setEnabled"},_initialize:function(){this.$(".jid").text(this.model.get("jid")),this.updateEnabled(),this.updateAvatar(),this.updateColorScheme(),this.updateSyncState(),this.showConnectionStatus(),this.model.on("change:enabled",this.updateEnabled,this),this.model.settings.on("change:omemo",this.updateEnabledOmemo,this),this.model.on("change:image",this.updateAvatar,this),this.model.settings.on("change:color",this.updateColorScheme,this),this.model.session.on("change:conn_feedback",this.showConnectionStatus,this),this.$el.on("drag_to",this.onDragTo.bind(this)),this.$(".move-account-to-this").on("move_xmpp_account",this.onMoveAccount.bind(this)),this.model.settings.on("change:to_sync",this.updateSyncState,this)},updateAvatar:function(){let e=this.model.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)},updateColorScheme:function(){this.$el.attr("data-color",this.model.settings.get("color"))},showConnectionStatus:function(){this.$(".conn-status").text(this.model.session.get("conn_feedback"))},updateEnabled:function(){let e=this.model.get("enabled");this.$el.switchClass("disabled",!e),this.$(".enabled-state input[type=checkbox]").prop("checked",e)},setEnabled:function(){let e=this.$(".enabled-state input").prop("checked");this.model.save("enabled",e),e?this.model.activate():this.model.deactivate()},onDragTo:function(e,t){t&&o(t).trigger("move_xmpp_account",this.model)},onMoveAccount:function(e,t){this.model.collection.moveBefore(t,this.model)},updateSyncState:function(){let e=t.api_account&&t.api_account.get("connected");this.$(".sync-marker-wrap").showIf(e),this.$el.find(".sync-marker").showIf(this.model.settings.get("to_sync"))},showSettings:function(){this.model.showSettings()}}),t.SettingsAccountsBlockView=t.BasicView.extend({_initialize:function(){this.updateList(),this.updateSyncState(),this.model.on("add",this.updateOneInList,this),this.model.on("update_order",this.updateList,this),this.model.on("destroy",this.onAccountRemoved,this),t.api_account&&t.api_account.on("change:connected",this.updateSyncState,this),this.$(".move-account-to-bottom").on("move_xmpp_account",this.onMoveAccountToBottom.bind(this))},updateList:function(){l.each(this.children,function(e){e.detach()}),this.model.each(e=>{let a=e.get("jid"),i=this.child(a);i||(i=this.addChild(a,t.AccountSettingsItemView,{model:e})),this.$(".no-accounts-tip").before(i.$el)}),this.updateHtml(),this.parent.updateScrollBar()},updateOneInList:function(e){let a=e.get("jid"),i=this.child(a);i?i.$el.detach():i=this.addChild(a,t.AccountSettingsItemView,{model:e});let n=this.model.indexOf(e);0===n?this.$(".accounts-head-wrap").after(i.$el):this.$(".xmpp-account").eq(n-1).after(i.$el),this.updateHtml(),this.parent.updateScrollBar()},onAccountRemoved:function(e){this.removeChild(e.get("jid")),this.updateHtml(),this.parent.updateScrollBar()},render:function(){this.updateHtml(),l.each(this.children,function(e){e.updateEnabled()})},updateHtml:function(){this.$(".no-accounts-tip").hideIf(this.model.length),this.$(".accounts-head-wrap").showIf(this.model.length),this.parent.$(".settings-tab[data-block-name=\"xmpp-accounts\"] .settings-block-name").text(1===this.model.length?t.getString("account"):t.getString("settings__menu_item__xmpp_account"))},updateSyncState:function(){let e=t.api_account&&t.api_account.get("connected");this.$(".sync-head").showIf(e),this.$(".sync-marker-wrap").showIf(e),this.$(".sync-head").hideIf(!e),this.$(".sync-marker-wrap").hideIf(!e)},onMoveAccountToBottom:function(e,t){this.model.moveToBottom(t)}}),t.ChangeStatusView=t.BasicView.extend({className:"modal main-modal change-status-modal",template:n.change_status,events:{"click .status-values li":"changeStatus","click .status-message-wrap .clear-input":"clearStatusMessageInput","keyup .status-message":"keyUp","change .apply-to-all":"changeApplyToAll"},open:function(e){this.account=e,this.highlightStatus(e.get("status")),this.restoreStatusMessageInput(),this.show()},highlightStatus:function(e){this.$(".status-values li[data-value=\""+e+"\"]").addClass("active").siblings().removeClass("active")},changeStatus:function(e){let t=o(e.target).closest("li").data("value");this.highlightStatus(t),this.do_change(),this.closeModal()},restoreStatusMessageInput:function(){let e=this.account.get("status_message");this.$(".status-message").val(e).switchClass("filled",e),e||this.$(".status-message").attr("placeholder",this.account.getStatusMessage())},clearStatusMessageInput:function(){let e=t.getString(this.account.get("status"));this.$(".status-message").val("").attr("placeholder",e).removeClass("filled")},keyUp:function(e){if(e.keyCode===i.KEY_ENTER)this.do_change(),this.closeModal();else{let e=this.$(".status-message").val();this.$(".status-message").switchClass("filled",e)}},do_change:function(){let e=this.$(".status-values li.active").data("value"),a=this.$(".status-message").val();this.apply_to_all?t.accounts.each(function(t){t.setStatus(e,a)}):this.account.setStatus(e,a)},changeApplyToAll:function(e){this.apply_to_all=o(e.target).prop("checked")},render:function(){this.$el.openModal({ready:this.onRender.bind(this),complete:this.close.bind(this)})},onRender:function(){Materialize.updateTextFields()},onHide:function(){this.$el.detach()},close:function(){let e=this.$(".status-message").val();e||this.do_change(),this.closeModal()},closeModal:function(){this.$el.closeModal({complete:this.hide.bind(this)})}}),t.WebcamProfileImageView=t.BasicView.extend({className:"modal main-modal webcam-panel",template:n.webcam_panel,events:{"click .btn-save":"saveAvatar","click .btn-cancel":"close"},open:function(e){this.account=e.model,this.registration=e.registration,this.registration_view=e.registration_view,this.width=171,this.height=128,this.streaming=!1,this.video=null,this.canvas=null,this.photo=null,this.startbutton=null,this.show(),this.startupStream()},render:function(){this.$el.openModal({complete:this.close.bind(this)})},onHide:function(){if(this.video&&this.video.srcObject&&this.video.srcObject.getTracks()){let e=this.video.srcObject.getTracks();e.forEach(function(e){e.stop()}),this.video.srcObject=null}this.$el.detach()},close:function(){this.closeModal()},closeModal:function(){this.$el.closeModal({complete:this.hide.bind(this)})},startupStream:function(){this.video=this.$(".webcam-video")[0],this.canvas=this.$("#canvas")[0],this.photo=this.$(".webcam-photo")[0],this.startbutton=this.$(".btn-take-photo")[0],navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(e=>{this.video.srcObject=e,this.video.play()}).catch(e=>{console.log("An error occurred: "+e)}),this.video.addEventListener("canplay",()=>{this.streaming||(isNaN(this.height)&&(this.height=this.width/(4/3)),this.video.setAttribute("width",this.width),this.video.setAttribute("height",this.height),this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this.streaming=!0)},!1),this.startbutton.addEventListener("click",e=>{this.takePicture(),e.preventDefault()},!1),this.$(".circle-icon")[0].addEventListener("click",e=>{o(e.target).closest(".circle-icon").hasClass("disabled")||(this.clearPhoto(),e.preventDefault())},!1),this.clearPhoto()},clearPhoto:function(){let e=this.canvas.getContext("2d");e.fillStyle="#AAA",e.fillRect(0,0,this.canvas.width,this.canvas.height);let t=this.canvas.toDataURL("image/png");this.photo.setAttribute("src",t),this.$(".btn-take-photo").hideIf(!1),this.$(".btn-save").hideIf(!0),this.$(".output").hideIf(!0)},takePicture:function(){let t=this.canvas.getContext("2d");if(this.$(".btn-take-photo").hideIf(!0),this.$(".btn-save").hideIf(!1),this.$(".output").hideIf(!1),this.width&&this.height){this.canvas.width=this.width,this.canvas.height=this.height,t.drawImage(this.video,0,0,this.width,this.height),t.globalCompositeOperation="destination-in",t.beginPath(),t.arc(this.width/2,this.height/2,this.height/2,0,2*e),t.closePath(),t.fill();let a=this.canvas.toDataURL("image/png");this.photo.setAttribute("src",a)}else this.clearPhoto()},saveAvatar:function(){let e=m.getBlobImage(this.canvas.toDataURL("image/png").replace(/^data:image\/(png|gif|jpg|webp|jpeg);base64,/,"")),i=new File([e],"avatar",{type:"image/png"});i.base64=this.canvas.toDataURL("image/png").replace(/^data:image\/(png|gif|jpg|webp|jpeg);base64,/,""),i&&i.base64&&(this.registration&&this.registration_view?(this.registration_view.avatar=i,this.registration_view.$(".btn-next").prop("disabled",!1),this.registration_view.$(".circle-avatar").addClass("changed"),this.registration_view.$(".circle-avatar").setAvatar(this.canvas.toDataURL("image/png").replace(/^data:image\/(png|gif|jpg|webp|jpeg);base64,/,""),this.member_details_avatar_size),this.close()):(this.$(".modal-preloader-wrap").html(a.templates.contacts.preloader()),this.$(".btn-save").addClass("hidden-disabled"),this.$(".circle-icon").addClass("disabled"),this.account.pubAvatar(i,()=>{this.close()},()=>{s.dialogs.error(t.getString("group_settings__error__wrong_image"))})))}}),t.EmojiProfileImageView=t.BasicView.extend({className:"modal main-modal emoji-panel",template:n.emoji_panel,events:{"click .profile-image-background-color":"changeColor","click .avatar-wrap":"openEmojiPicker","click .close-modal":"close","click .btn-save":"saveAvatar","click .btn-cancel":"close"},open:function(e){this.account=e.model,this.registration=e.registration,this.registration_view=e.registration_view,this.emoji_panel_view=this.addChild("emoji_picker_panel",t.EmojiPickerView,{}),this.show()},render:function(){this.$el.openModal({complete:this.close.bind(this)})},onHide:function(){this.$el.detach()},close:function(){this.closeModal()},closeModal:function(){this.$el.closeModal({complete:this.hide.bind(this)})},openEmojiPicker:function(){this.emoji_panel_view.open(this)},changeColor:function(e){let t=o(e.target).data("value");this.$(".profile-image-background-color").removeClass("chosen-background-color"),o(e.target).addClass("chosen-background-color"),this.$(".circle-avatar").attr("class","circle-avatar"),this.$(".circle-avatar").attr("data-value",t),this.$(".circle-avatar").addClass("ground-color-"+t+"-100")},saveAvatar:function(){let e=m.getDefaultAvatar(this.$(".chosen-emoji").data("value"),this.$(".circle-avatar").css("background-color"),"bold 96px sans-serif",176,176),i=new File([e],"avatar",{type:"image/png"});i.base64=e,i&&i.base64&&(this.registration&&this.registration_view?(this.registration_view.avatar=i,this.registration_view.$(".btn-next").prop("disabled",!1),this.registration_view.$(".circle-avatar").addClass("changed"),this.registration_view.$(".circle-avatar").setAvatar(e,this.member_details_avatar_size),t._settings.save("main_color",this.$(".circle-avatar").attr("data-value")),t.trigger("update_main_color"),this.close()):(this.$(".modal-preloader-wrap").html(a.templates.contacts.preloader()),this.$(".btn-save").addClass("hidden-disabled"),this.account.pubAvatar(i,()=>{this.close()},()=>{s.dialogs.error(t.getString("group_settings__error__wrong_image"))})))}}),t.EmojiPickerView=t.BasicView.extend({className:"modal main-modal emoji-panel emoji-picker",template:n.emoji_picker,events:{"click .emojis-bottom-tab-selector":"pickEmojiTab","click .emoji-picker-emoji":"pickEmoji","click .close-modal":"close"},open:function(){this.$el.openModal({complete:this.close.bind(this)}),this.readEmojisJSON(),this.show()},readEmojisJSON:function(){this.emojis=JSON.parse(n.emojis()),this.emojis.length&&(this.$(".emoji-picker-wrap").html(n.emoji_picker_tabs({emojis:this.emojis})),this.ps_container=this.$(".emojis-tab"),this.ps_container.length&&this.ps_container.perfectScrollbar(l.extend(this.ps_settings||{},t.ps_settings)))},render:function(){},onHide:function(){this.$el.detach()},close:function(){this.closeModal()},closeModal:function(){this.$el.closeModal({complete:this.hide.bind(this)})},scrollTo:function(e){this.ps_container.each(t=>{this.ps_container[t].scrollTop=e}),this.ps_container.perfectScrollbar("update")},scrollToTop:function(){this.scrollTo(0)},pickEmojiTab:function(e){let t=o(e.target).data("value");this.$(".emojis-bottom-tab-selector").removeClass("chosen-emoji-selector"),o(e.target).addClass("chosen-emoji-selector"),this.$(".emojis-tab").removeClass("chosen-emoji-tab").addClass("hidden"),this.$(`.emojis-tab[data-value="${t}"]`).removeClass("hidden").addClass("chosen-emoji-tab"),this.scrollToTop()},pickEmoji:function(e){let t=o(e.target).closest(".emoji-picker-emoji").data("value");this.parent.$(".chosen-emoji").attr("data-value",t).text(t),this.close()}}),t.ChangePasswordView=t.BasicView.extend({className:"modal main-modal change-password-modal",template:n.change_password,events:{"click .btn-change":"submit","click .btn-cancel":"close","keyup input[name=password]":"keyUp"},_initialize:function(){return this.$("input[name=jid]").val(this.model.get("jid")),this.$password_input=this.$("input[name=password]"),this.data.on("change:authentication",this.updateButtons,this),t.on("quit",this.onQuit,this),this},render:function(e){e||(e={}),this.is_login=e.login,this.token_invalidated=e.token_invalidated,this.$(".modal-header span").text(this.is_login?t.getString("xabber_account__social_links__button_log_in"):t.getString("button_set_pass")),this.$(".btn-cancel").text(this.is_login?t.getString("skip"):t.getString("cancel")),this.$(".btn-change").text(this.is_login?t.getString("xabber_account__social_links__button_log_in"):t.getString("set")),this.$el.openModal({use_queue:!0,ready:this.onRender.bind(this),complete:this.close.bind(this)})},onRender:function(){Materialize.updateTextFields(),this.authFeedback({}),this.$password_input.val("").focus()},getActionName:function(){return this.is_login?t.getString("login"):t.getString("set")},keyUp:function(e){e.keyCode===i.KEY_ENTER&&this.submit()},submit:function(){if(this.data.get("authentication"))return void this.cancel();this.data.set("authentication",!0),this.authFeedback({});let e=this.model.get("jid"),a=this.$password_input.val();return a?void(a=a.trim(),this.authFeedback({password:t.getString("dialog_change_password__feedback__text_auth_with_pass")}),this.model.connection.connected?(this.model.once("deactivate",()=>{this.setPassword(a)}),this.model.deactivate()):this.setPassword(a)):this.errorFeedback({password:t.getString("dialog_change_password__error__text_input_pass")})},setPassword:function(e){this.model.last_msg_timestamp=0,this.model.save({auth_type:"password",password:s.utoa(e),enabled:!0}),this.model.auth_view=this,this.model.connect()},cancel:function(){this.data.set("authentication",!1)},updateButtons:function(){let e=this.data.get("authentication");this.$(".btn-change").text(e?t.getString("stop"):this.getActionName())},authFeedback:function(e){this.$password_input.switchClass("invalid",e.password).siblings("span.errors").text(e.password||"")},errorFeedback:function(e){this.authFeedback(e),this.data.set("authentication",!1)},successFeedback:function(){this.data.set("authentication",!1),this.closeModal()},endAuth:function(){this.model.save("is_new",void 0),this.successFeedback(this.model),this.model.auth_view=null},onHide:function(){this.$el.detach()},onQuit:function(){this.closeModal()},close:function(){this.is_login&&this.model.save("enabled",!1),this.token_invalidated&&this.model.deleteAccount(),this.cancel(),this.closeModal()},closeModal:function(){this.model.auth_view=null,this.$el.closeModal({complete:this.hide.bind(this)})}}),t.ChangeAccountPasswordView=t.BasicView.extend({events:{"click .btn-change":"submit","click .btn-cancel":"render","keyup input":"keyUp"},_initialize:function(){return this.account=this.model,this.$old_password_input=this.$("input[name=old_password]"),this.$password_input=this.$("input[name=password]"),this.$password_confirm_input=this.$("input[name=password_confirm]"),this},render:function(){this.authFeedback({}),this.$password_input.val(""),this.$password_confirm_input.val(""),this.$old_password_input.val("").focus()},keyUp:function(e){e.keyCode===i.KEY_ENTER&&this.submit()},submit:function(){this.authFeedback({});let e=this.account.get("jid"),a=this.$old_password_input.val(),i=this.$password_input.val(),n=this.$password_confirm_input.val();return a?i?i==n?void(a=a.trim(),this.authFeedback({password_confirm:t.getString("dialog_change_password__feedback__text_auth_with_pass")}),!this.account.change_password_connection_manager&&(this.account.change_password_connection_manager=new c.ConnectionManager(this.account.CONNECTION_URL),this.account.change_password_connection=this.account.change_password_connection_manager.connection,this.account.change_password_connection.account=this.account,this.account.change_password_connection.register.connect_change_password(e,a,this.account.changePasswordCallback.bind(this.account)))):this.errorFeedback({password_confirm:t.getString("settings_account__alert_passwords_do_not_match")}):this.errorFeedback({password:t.getString("dialog_change_password__error__text_input_pass")}):this.errorFeedback({old_password:t.getString("dialog_change_password__error__text_input_pass")})},authFeedback:function(e){this.$password_input.switchClass("invalid",e.password).siblings("span.errors").text(e.password||""),this.$old_password_input.switchClass("invalid",e.old_password).siblings("span.errors").text(e.old_password||""),this.$password_confirm_input.switchClass("invalid",e.password_confirm).siblings("span.errors").text(e.password_confirm||"")},errorFeedback:function(e){this.account.change_password_connection&&this.account.change_password_connection.disconnect(),this.authFeedback(e)},successFeedback:function(){this.account.change_password_connection&&this.account.change_password_connection.disconnect(),this.render()}}),t.AuthView=t.BasicView.extend({_initialize:function(){return this.$jid_input=this.$("input[name=jid]"),this.$password_input=this.$("input[name=password]"),this.data.on("change:authentication",this.updateButtons,this),this},render:function(){this.onRender()},onRender:function(){this.account=null,this.authFeedback({}),Materialize.updateTextFields(),this.$jid_input.val("").focus(),this.$password_input.val(""),this.updateButtons(),this.updateOptions&&this.updateOptions()},keyUp:function(e){e.keyCode===i.KEY_ENTER&&this.submit()},submit:function(){if(this.data.get("authentication"))return void this.cancel();this.data.set("authentication",!0),this.authFeedback({});let e=this.$jid_input.val(),a=this.$password_input.val();if(this.data.get("registration")){let a=this.$("#new_account_domain").val()||this.$(".xmpp-server-dropdown-wrap .select-xmpp-server .property-value").text();if(!i.REGISTRATION_CUSTOM_DOMAIN&&!(-1<i.REGISTRATION_DOMAINS.indexOf(a)))return this.errorRegistrationFeedback({domain:t.getString("account_auth__error__registration_custom_domain")});e=e+"@"+a}else if(this.$(".input-field-jid .xmpp-server-dropdown-wrap").length&&!this.$(".input-field-jid .xmpp-server-dropdown-wrap").hasClass("hidden")&&(this.$("#sign_in_domain")&&this.$("#sign_in_domain").val()||this.$(".xmpp-server-dropdown-wrap .select-auth-xmpp-server .property-value").text())){let t=this.$("#sign_in_domain").val()||this.$(".xmpp-server-dropdown-wrap .select-auth-xmpp-server .property-value").text();e=e+"@"+t}if(!e)return this.data.get("registration")?this.errorRegistrationFeedback({jid:t.getString("account_auth__error__text_input_username")}):this.errorFeedback({jid:t.getString("account_auth__error__text_input_username")});if(e=e.trim(),!a)return this.data.get("registration")?this.errorRegistrationFeedback({password:t.getString("dialog_change_password__error__text_input_pass")}):this.errorFeedback({password:t.getString("dialog_change_password__error__text_input_pass")});if(!this.data.get("registration")&&!i.LOGIN_CUSTOM_DOMAIN&&!(-1<i.LOGIN_DOMAINS.indexOf(c.getDomainFromJid(e))))return this.errorFeedback({jid:t.getString("account_auth__error__login_custom_domain")});a=a.trim();let n=e.indexOf("@");if(0>=n||n===e.length-1)return this.data.get("registration")?this.errorRegistrationFeedback({jid:t.getString("account_auth__error__text_wrong_username")}):this.errorFeedback({jid:t.getString("account_auth__error__text_wrong_username")});e=c.getBareJidFromJid(e).toLowerCase();let o=t.accounts.get(e);if(o){if(this.data.get("registration"))return this.errorRegistrationFeedback({jid:t.getString("settings_account__alert_account_exists")});this.errorFeedback({jid:t.getString("settings_account__alert_account_exists")})}else this.data.get("registration")?this.registerFeedback({registration_success:!0,password:t.getString("account_registration__feedback__text_registration")}):this.authStepperShow(),this.getWebsocketURL(e,n=>{this.account=t.accounts.create({jid:e,websocket_connection_url:n||i.CONNECTION_URL,password:s.utoa(a),is_new:!0},{auth_view:this}),this.data.get("registration")?this.account.connection.register.connect(e,this.account.registerCallback.bind(this.account)):this.account.trigger("start")})},getWebsocketURL:function(e,t){if(!i.DISABLE_LOOKUP_WS){let a=c.getDomainFromJid(e),i={type:"GET",url:window.location.protocol+"//"+a+"/.well-known/host-meta",dataType:"xml",success:e=>{let a=o(e).find("Link").attr("href");a?t&&t(a):t&&t(null)},error:()=>{t&&t(null)},timeout:5e3};o.ajax(i)}else t&&t(null)},cancel:function(){this.data.set("authentication",!1),this.onRender(),this.account&&(this.account.destroy(),this.account=null)},authFeedback:function(e){this.$jid_input.switchClass("invalid",e.jid).siblings("span.errors").text(e.jid||""),this.$password_input.switchClass("invalid",e.password).siblings("span.errors").text(e.password||"")},errorFeedback:function(e){this.authFeedback(e),this.data.set("authentication",!1)},authStepperShow:function(){this.authFeedback({password:t.getString("account_auth__feedback__text_authentication")})},endAuth:function(){this.account.save("is_new",void 0),this.successFeedback(this.account),this.account.auth_view=null},socialAuth:function(e){let a=window.location.href,n=o(e.target).closest(".btn-social").data("provider");"email"==n?t.body.setScreen("login",{login_screen:"xabber"}):window.location.href=i.XABBER_ACCOUNT_URL+"/social/login/"+n+"/?origin="+a+"&source=Xabber Web"}}),t.XmppLoginPanel=t.AuthView.extend({className:"login-panel",template:n.xmpp_login,events:{"click .btn-log-in":"login","click .btn-sign-up-instead":"logoutAndRegister","click .btn-register-form":"openRegisterForm","click .btn-login-form":"openLoginForm","click .btn-register":"register","click .btn-cancel":"cancel","click .btn-go-back-menu":"openButtonsMenu","click .btn-go-back":"openPreviousStep","click .btn-next":"openNextStep","click .btn-skip":"registerWithoutAvatar","click .btn-finish-log-in":"endAuth","keyup input[name=register_nickname]":"keyUpNickname","keyup input[name=register_jid]":"keyUpJid","keyup input[name=jid]":"keyUpLogin","keyup input[name=password]":"keyUpLogin","keyup input[name=sign_in_domain]":"keyUpLogin","keyup input[name=register_domain]":"keyUpDomain","focusout input[name=register_domain]":"focusoutDomain","keyup input[name=register_password]":"keyUpPassword","change .circle-avatar input":"changeAvatar","click .btn-choose-image":"chooseAvatar","click .btn-emoji-panel":"openEmojiPanel","click .btn-selfie":"openWebcamPanel","click #select-xmpp-server .property-variant":"changePropertyValueRegistration","click #select-auth-xmpp-server .property-variant":"changePropertyValueAuth"},__initialize:function(){return this.$nickname_input=this.$("input[name=register_nickname]"),this.$domain_input=this.$("input[name=register_domain]"),this.data.on("change:step",this.handleRegistrationStep,this),this},onRender:function(){this.data.set("step",1),this.account=null,this.stepped_auth=!0,this.stepped_auth_complete=!1,this.authFeedback({}),this.registerFeedback({}),Materialize.updateTextFields(),this.$(".btn-go-back").hideIf(!1),this.$(".btn-skip").hideIf(!0),this.$nickname_input.val(""),this.$jid_input.val(""),this.$password_input.val(""),this.$(".circle-avatar").css({"background-image":""}),this.$(".circle-avatar").css({"background-color":""}),this.updateButtons(),this.updateDomains(),this.updateAuthDomains();let e={inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"};this.$(".property-field .select-xmpp-server .caret").dropdown(e),this.$(".property-field .select-xmpp-server .xmpp-server-item-wrap").dropdown(e),this.$(".property-field .select-auth-xmpp-server .caret").dropdown(e),this.$(".property-field .select-auth-xmpp-server .xmpp-server-item-wrap").dropdown(e),this.$(".avatar-wrap.dropdown-button").dropdown(e),this.$(".btn-register-form").hideIf(!i.REGISTRATION_BUTTON),this.$(".btn-login-form").hideIf(!i.LOGIN_CUSTOM_DOMAIN&&!i.LOGIN_DOMAINS.length),this.$(".register-form-jid .dropdown-content .set-custom-domain").hideIf(!i.REGISTRATION_CUSTOM_DOMAIN),this.$(".login-form-jid .dropdown-content .set-custom-domain").hideIf(!i.LOGIN_CUSTOM_DOMAIN),this.updateOptions&&this.updateOptions(),this.$("#select-xmpp-server").hideIf(t.url_params.rkey),this.$(".select-xmpp-server .caret").hideIf(t.url_params.rkey),"signup"==t.url_params.anchor||t.url_params.rkey?this.data.set("step",2):"signin"==t.url_params.anchor&&this.data.set("step",0)},openButtonsMenu:function(){this.data.set("step",1)},register:function(){return this.data.get("registration")?void this.cancel():void(this.data.set("registration",!0),this.$jid_input.prop("disabled",!0),this.$password_input.prop("disabled",!0),this.submit())},login:function(){this.submit()},keyUpNickname:function(e){this.$nickname_input.val()?this.$(".btn-next").prop("disabled",!1):this.$(".btn-next").prop("disabled",!0),this.$nickname_input.val()&&e&&e.keyCode===i.KEY_ENTER&&this.openNextStep()},keyUpJid:function(e){if(clearTimeout(this._check_user_timeout),!this.$(".btn-next").prop("disabled")&&e&&e.keyCode===i.KEY_ENTER)return void this.openNextStep();if(this.$jid_input.val()&&this.$jid_input.val().includes("@")&&i.REGISTRATION_CUSTOM_DOMAIN)return this.setCustomDomainRegistration(this.$(".register-form-jid .property-field.xmpp-server-dropdown-wrap .property-value")),this.$domain_input.val(this.$jid_input.val().split("@")[1]),this.$jid_input.val(this.$jid_input.val().split("@")[0]),void this.$domain_input.focus();if(this.$(".btn-next").prop("disabled",!0),this.$jid_input.val()){let e=this.$domain_input.val()||this.$(".register-form-jid .xmpp-server-dropdown-wrap .property-value").text();if(!/^(([^<>()[\]\\.,;:\s%@\"]+(\.[^<>()[\]\\.,;:\s%@\"]+)*)|(\".+\"))$/.test(this.$jid_input.val()))return this.registerFeedback({jid:t.getString("account_add__alert_localpart_invalid")});if(!/^((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e))return this.registerFeedback({domain:t.getString("account_add__alert_invalid_domain")});if(this.registerFeedback({}),!i.REGISTRATION_CUSTOM_DOMAIN&&!(-1<i.REGISTRATION_DOMAINS.indexOf(e)))return this.registerFeedback({domain:t.getString("account_auth__error__registration_custom_domain")});this._check_user_timeout=setTimeout(()=>{e=this.$domain_input.val()||this.$(".register-form-jid .xmpp-server-dropdown-wrap .property-value").text(),this.$(".btn-next").prop("disabled",!0),this._registration_username=this.$jid_input.val(),this._registration_domain=e,e?(this.auth_connection&&this.auth_connection.domain!=e&&this.auth_connection.disconnect(),this.auth_connection?this.auth_connection&&this.auth_connection.connected&&(this.auth_connection.register._connection._addSysHandler(this.handleRegisterStanza.bind(this.auth_connection.register),null,"iq",null,null),this.auth_connection.register._connection.send(d({type:"get",id:uuid(),to:this.auth_connection.register.domain}).c("query",{xmlns:c.NS.REGISTER}).c("username").t(this._registration_username.trim()).tree())):this.getWebsocketURL(e,t=>{this.CONNECTION_URL=t||i.CONNECTION_URL,this.auth_conn_manager=new c.ConnectionManager(this.CONNECTION_URL),this.auth_connection=this.auth_conn_manager.connection,this.auth_connection.register.connect_check_user(e,this.checkUserCallback.bind(this))})):this.registerFeedback({jid:t.getString("account_add__alert_invalid_domain")})},1e3)}else this.registerFeedback({})},keyUpPassword:function(e){this.$password_input.val()?this.$(".btn-next").prop("disabled",!1):this.$(".btn-next").prop("disabled",!0),this.$password_input.val()&&e&&e.keyCode===i.KEY_ENTER&&this.openNextStep()},keyUpDomain:function(){},keyUpLogin:function(e){this.$jid_input.val()&&this.$password_input.val()?this.$(".btn-log-in").prop("disabled",!1):this.$(".btn-log-in").prop("disabled",!0),this.$(".login-step-wrap").hideIf(!0),this.authFeedback({}),this.$(".input-field-jid .xmpp-server-dropdown-wrap").hideIf(this.$jid_input.val()&&this.$jid_input.val().includes("@")&&i.LOGIN_CUSTOM_DOMAIN),this.$jid_input.val()&&this.$jid_input.val().includes("@")&&i.LOGIN_CUSTOM_DOMAIN?this.$(".input-field-jid").addClass("input-field-jid-borders"):this.$(".input-field-jid").removeClass("input-field-jid-borders"),e&&this.$jid_input.val()&&this.$password_input.val()&&e.keyCode===i.KEY_ENTER&&this.login()},focusoutDomain:function(){this.$jid_input.val()&&(this.$domain_input.val()||this.$(".register-form-jid .xmpp-server-dropdown-wrap .property-value").text())&&this.keyUpJid()},handleRegisterStanza:function(e){let t=this._connection,a,n,s,o;if(n=e.getElementsByTagName("query"),1!==n.length)return t._changeConnectStatus(c.Status.REGIFAIL,"unknown"),!1;for(n=n[0],a=0;a<n.childNodes.length;a++){if(s=n.childNodes[a],"instructions"===s.tagName.toLowerCase()){t.register.instructions=c.getText(s);continue}else if("username"===s.tagName.toLowerCase()){c.getText(s)&&(this._supports_check_user=!0);continue}else if("registered"===s.tagName.toLowerCase()){o=!0;continue}else if("x"===s.tagName.toLowerCase())continue;t.register.fields[s.tagName.toLowerCase()]=c.getText(s)}return this._supports_check_user?o?t._changeConnectStatus(c.Status.CONFLICT,null):t._changeConnectStatus(c.Status.REGISTERED,null):t._changeConnectStatus(c.Status.REGIFAIL,"not-supported"),!1},checkUserCallback:function(e,a){(e===c.Status.REGISTER||e===c.Status.REGIFAIL)&&(!this.$(".select-xmpp-server .property-variant[data-value=\""+this.auth_connection.register.domain+"\"]").length&&i.REGISTRATION_CUSTOM_DOMAIN&&o("<div/>",{class:"field-jid property-variant set-default-domain"}).text(this.auth_connection.register.domain).attr("data-value",this.auth_connection.register.domain).insertBefore(this.$(".register-form-jid .dropdown-content .set-custom-domain")),this.$(".select-xmpp-server .input-group-chat-domain").addClass("hidden"),this.$("#new_account_domain").val(""),this.$(".select-xmpp-server .xmpp-server-item-wrap .property-value").text(this.auth_connection.register.domain).removeClass("hidden").attr("data-value",this.auth_connection.register.domain)),e===c.Status.REGISTER?this.auth_connection&&this.auth_connection.connected&&(this.auth_connection.register._connection._addSysHandler(this.handleRegisterStanza.bind(this.auth_connection.register),null,"iq",null,null),this.auth_connection.register._connection.send(d({type:"get",id:uuid(),to:this.auth_connection.register.domain}).c("query",{xmlns:c.NS.REGISTER}).c("username").t(this._registration_username.trim()).tree())):e===c.Status.REGISTERED?(this.registerFeedback({user_success:!0,jid:t.getString("xmpp_login__registration_jid_available")}),this.$(".btn-next").prop("disabled",!1)):e===c.Status.CONFLICT?(this.registerFeedback({jid:t.getString("xmpp_login__registration_jid_occupied")}),this.$(".btn-next").prop("disabled",!0)):e===c.Status.CONNFAIL?(this.registerFeedback({jid:t.getString("CONNECTION_FAILED")+": "+a}),this.$(".btn-next").prop("disabled",!0)):e===c.Status.REGIFAIL?("not-supported"===a?(this.registerFeedback({}),this.$(".btn-next").prop("disabled",!1)):(this.registerFeedback({jid:t.getString("xmpp_login__registration_jid_not_supported")}),this.$(".btn-next").prop("disabled",!0)),this.auth_connection.disconnect()):e===c.Status.CONNECTING?(clearTimeout(this._check_user_connection_timeout),this._check_user_connection_timeout=setTimeout(()=>{this.auth_connection&&!this.auth_connection.connected&&(this.auth_connection._no_response=!0,this.auth_connection.disconnect())},1e4)):e===c.Status.DISCONNECTED&&(this.auth_connection&&this.auth_connection._no_response&&(this.registerFeedback({jid:t.getString("account_add__alert_invalid_domain")}),this.$(".btn-next").prop("disabled",!0)),this.auth_conn_manager=void 0,this.auth_connection=void 0)},openPreviousStep:function(){let e=this.data.get("step");"number"==typeof e&&(e--,this.data.set("step",e))},openNextStep:function(){let e=this.data.get("step");"number"==typeof e&&(e++,this.data.set("step",e))},handleRegistrationStep:function(){let e=this.data.get("step");if(-1===e&&(this.$(`.server-feature .preloader-wrapper`).addClass("active").addClass("visible"),this.$(`.server-feature .mdi`).hideIf(!0),this.$(`.server-feature`).removeClass("active-feature"),this.$(`.server-feature .mdi`).addClass(".mdi-alert").removeClass("mdi-checkbox-marked-circle"),this.$(".login-form-header").text(t.getString("signin_server_features")),this.$(".login-form-server-features .register-form-step-header").text(t.getString("signin_checking_features_message",[this.account.domain])),this.$(".btn-go-back-menu").hideIf(!0),this.$(".login-form-jid").hideIf(!0),this.$(".login-form-server-features").hideIf(!1),this.$(".btn-log-in").hideIf(!0),this.checkFeaturesStepper()),0===e)this.$jid_input=this.$("input[name=jid]"),this.$password_input=this.$("input[name=password]"),this.$domain_input=this.$("input[name=sign_in_domain]"),this.$domain_input.val(""),this.$jid_input.val(""),this.$password_input.val(""),this.keyUpLogin(),this.$(".login-step-wrap").hideIf(!0),this.authFeedback({}),this.resetAuthStepper(),this.$(".login-panel-form.xmpp-login-form .buttons-wrap").removeClass("server-features-additional-button"),this.$(".login-form-header").text(t.getString("title_login_xabber_account")),this.$(".btn-go-back-menu").hideIf(!1),this.$(".login-panel-intro").hideIf(!0),this.$(".register-form").hideIf(!0),this.$(".xmpp-login-form").hideIf(!1),this.$(".login-form-jid").hideIf(!1),this.$(".login-form-server-features").hideIf(!0),this.$(".btn-log-in").hideIf(!1),this.$(".btn-finish-log-in").hideIf(!0),this.$(".btn-sign-up-instead").hideIf(!0),this.$jid_input.focus();else if(1===e)this.$(".login-panel-intro").hideIf(!1),this.$(".register-form").hideIf(!0),this.$(".xmpp-login-form").hideIf(!0);else if(2===e)this.$jid_input=this.$("input[name=register_jid]"),this.$password_input=this.$("input[name=register_password]"),this.$domain_input=this.$("input[name=register_domain]"),this.keyUpNickname(),this.$(".login-form-header").text(t.getString("title_register_xabber_account")),this.$(".login-form-url").hideIf(!1),this.$(".login-panel-intro").hideIf(!0),this.$(".register-form").hideIf(!1),this.$(".xmpp-login-form").hideIf(!0),this.$(".register-form-nickname").hideIf(!1),this.$(".register-form-jid").hideIf(!0),this.$(".register-form-password").hideIf(!0),this.$(".register-form-picture").hideIf(!0),this.$nickname_input.focus();else if(3===e){if(this.$nickname_input.val())this.$(".login-form-header").text(t.getString("hint_username")),this.$(".register-form-nickname").hideIf(!0),this.$(".register-form-jid").hideIf(!1),this.$(".register-form-password").hideIf(!0),this.$(".register-form-picture").hideIf(!0),this.keyUpJid(),this.$jid_input.focus(),this.$password_input.val("");else return this.registerFeedback({nickname:t.getString("dialog_add_circle__error__text_input_name")}),this.data.set("step",2);}else if(4===e){if(this.$jid_input.val())this.$(".login-form-header").text(t.getString("hint_pass")),this.$(".register-form-nickname").hideIf(!0),this.$(".register-form-jid").hideIf(!0),this.$(".register-form-password").hideIf(!1),this.$(".register-form-picture").hideIf(!0),this.keyUpPassword(),this.$password_input.focus();else return this.registerFeedback({jid:t.getString("account_auth__error__text_input_username")}),this.data.set("step",3);}else if(5!==e)6===e?(this.$(".login-form-header").text(t.getString("xmpp_login__registration_header_avatar")),this.$(".login-form-url").hideIf(!0),this.$(".btn-go-back").hideIf(!0),this.$(".btn-skip").hideIf(!1),this.$(".register-form-nickname").hideIf(!0),this.$(".register-form-jid").hideIf(!0),this.$(".register-form-password").hideIf(!0),this.$(".register-form-picture").hideIf(!1),this.$(".btn-next").prop("disabled",!0)):7<=e&&(this.avatar&&this.account.pubAvatar(this.avatar,()=>{},()=>{s.dialogs.error(t.getString("group_settings__error__wrong_image"))}),this.successRegistrationFeedback());else if(this.$password_input.val())this.register();else return this.registerFeedback({password:t.getString("dialog_change_password__error__text_input_pass")}),this.data.set("step",4)},registerWithoutAvatar:function(){this.successRegistrationFeedback()},logoutAndRegister:function(){this.account.session.set("delete",!0),this.account.deactivate(),this.openRegisterForm()},openRegisterForm:function(){this.data.set("step",2)},openLoginForm:function(){this.data.set("step",0)},updateButtons:function(){let e=this.data.get("authentication");this.$(".btn-log-in").prop("disabled",e)},updateDomains:function(){let e=i.REGISTRATION_DOMAINS;if(t.url_params.rkey&&e.length)for(let a=e.length-1;0<=a;a--)sha1(e[a]).substr(0,10).includes(t.url_params.rkey.substr(0,10))||e.splice(a,1);this.$(".register-form-jid .field-jid.property-variant").remove(),e.length?this.$(".register-form-jid .xmpp-server-dropdown-wrap .field-jid").text(e[0]):this.setCustomDomainRegistration(this.$(".register-form-jid .property-field.xmpp-server-dropdown-wrap .property-value")),this.$(".register-form-jid .modal-content .jid-field .set-default-domain").remove();for(let t=0;t<e.length;t++)o("<div/>",{class:"field-jid property-variant set-default-domain"}).text(e[t]).attr("data-value",e[t]).insertBefore(this.$(".register-form-jid .dropdown-content .set-custom-domain"))},updateAuthDomains:function(){let e=i.LOGIN_DOMAINS;this.$(".login-form-jid .field-jid.property-variant").remove(),e.length?this.$(".login-form-jid .xmpp-server-dropdown-wrap .field-jid").text(e[0]):this.setCustomDomainAuth(this.$(".login-form-jid .property-field.xmpp-server-dropdown-wrap .property-value")),this.$(".login-form-jid .modal-content .jid-field .set-default-domain").remove();for(let t=0;t<e.length;t++)o("<div/>",{class:"field-jid property-variant set-default-domain"}).text(e[t]).attr("data-value",e[t]).insertBefore(this.$(".login-form-jid .dropdown-content .set-custom-domain"))},setCustomDomainRegistration:function(e){this.$("#new_account_domain").val(""),e.addClass("hidden").text(""),this.$(".select-xmpp-server .caret").addClass("hidden"),this.$(".select-xmpp-server .input-group-chat-domain").removeClass("hidden")},setCustomDomainAuth:function(e){this.$("#sign_in_domain").val(""),e.addClass("hidden").text(""),this.$(".select-auth-xmpp-server .caret").addClass("hidden"),this.$(".select-auth-xmpp-server .input-group-chat-domain").removeClass("hidden")},changePropertyValueRegistration:function(e){let t=o(e.target),a=t.closest(".property-field").find(".property-value");return t.hasClass("set-custom-domain")?void this.setCustomDomainRegistration(a):void(t.hasClass("set-default-domain")&&(this.$(".select-xmpp-server .input-group-chat-domain").addClass("hidden"),this.$("#new_account_domain").val("")),a.text(t.text()),a.removeClass("hidden").attr("data-value",t.attr("data-value")),this.$(".select-xmpp-server .caret").removeClass("hidden"),this.$jid_input.val()&&(this.$domain_input.val()||this.$(".register-form-jid .xmpp-server-dropdown-wrap .property-value").text())&&this.keyUpJid())},changePropertyValueAuth:function(e){let t=o(e.target),a=t.closest(".property-field").find(".property-value");return t.hasClass("set-custom-domain")?void this.setCustomDomainAuth(a):void(t.hasClass("set-default-domain")&&(this.$(".select-auth-xmpp-server .input-group-chat-domain").addClass("hidden"),this.$("#sign_in_domain").val("")),a.text(t.text()),a.removeClass("hidden").attr("data-value",t.attr("data-value")),this.$(".select-auth-xmpp-server .caret").removeClass("hidden"))},chooseAvatar:function(){this.$(".circle-avatar input").click()},openEmojiPanel:function(){let e=new t.EmojiProfileImageView;e.open({model:this.account,registration:!0,registration_view:this})},openWebcamPanel:function(){let e=new t.WebcamProfileImageView;e.open({model:this.account,registration:!0,registration_view:this})},changeAvatar:function(e){let a=e.target;if(!a.files.length)return;let n=a.files[0];return(a.value="",n.size>i.MAX_AVATAR_FILE_SIZE)?void s.dialogs.error(t.getString("group_settings__error__avatar_too_large")):n.type.startsWith("image")?void s.images.getAvatarFromFile(n).done(e=>{e&&(n.base64=e,this.avatar=n,this.$(".btn-next").prop("disabled",!1),this.$(".circle-avatar").addClass("changed"),this.$(".circle-avatar").setAvatar(e,this.member_details_avatar_size))}):void s.dialogs.error(t.getString("group_settings__error__wrong_image"))},successFeedback:function(){this.data.set("step",-1)},checkFeaturesStepper:function(){this.$(".server-features-error").text("");let e=1e3;setTimeout(()=>{this.account.server_features.get(c.NS.MAM)?(this.$(`.server-feature[data-xmlns="${c.NS.MAM}"]`).addClass("active-feature"),this.$(`.server-feature[data-xmlns="${c.NS.MAM}"] .mdi`).hideIf(!1).removeClass(".mdi-alert").addClass("mdi-checkbox-marked-circle")):this.$(`.server-feature[data-xmlns="${c.NS.MAM}"] .mdi`).hideIf(!1).addClass(".mdi-alert").removeClass("mdi-checkbox-marked-circle"),this.$(`.server-feature[data-xmlns="${c.NS.MAM}"] .preloader-wrapper`).removeClass("active").removeClass("visible"),setTimeout(()=>{this.account.server_features.get(c.NS.SYNCHRONIZATION)?(this.$(`.server-feature[data-xmlns="${c.NS.SYNCHRONIZATION}"]`).addClass("active-feature"),this.$(`.server-feature[data-xmlns="${c.NS.SYNCHRONIZATION}"] .mdi`).hideIf(!1).removeClass(".mdi-alert").addClass("mdi-checkbox-marked-circle")):this.$(`.server-feature[data-xmlns="${c.NS.SYNCHRONIZATION}"] .mdi`).hideIf(!1).addClass(".mdi-alert").removeClass("mdi-checkbox-marked-circle"),this.$(`.server-feature[data-xmlns="${c.NS.SYNCHRONIZATION}"] .preloader-wrapper`).removeClass("active").removeClass("visible"),setTimeout(()=>{this.account.server_features.get(c.NS.REWRITE)?(this.$(`.server-feature[data-xmlns="${c.NS.REWRITE}"]`).addClass("active-feature"),this.$(`.server-feature[data-xmlns="${c.NS.REWRITE}"] .mdi`).hideIf(!1).removeClass(".mdi-alert").addClass("mdi-checkbox-marked-circle")):this.$(`.server-feature[data-xmlns="${c.NS.REWRITE}"] .mdi`).hideIf(!1).addClass(".mdi-alert").removeClass("mdi-checkbox-marked-circle"),this.$(`.server-feature[data-xmlns="${c.NS.REWRITE}"] .preloader-wrapper`).removeClass("active").removeClass("visible"),setTimeout(()=>{this.account.server_features.get(c.NS.AUTH_DEVICES)?(this.$(`.server-feature[data-xmlns="${c.NS.AUTH_DEVICES}"]`).addClass("active-feature"),this.$(`.server-feature[data-xmlns="${c.NS.AUTH_DEVICES}"] .mdi`).hideIf(!1).removeClass(".mdi-alert").addClass("mdi-checkbox-marked-circle")):this.$(`.server-feature[data-xmlns="${c.NS.AUTH_DEVICES}"] .mdi`).hideIf(!1).addClass(".mdi-alert").removeClass("mdi-checkbox-marked-circle"),this.$(`.server-feature[data-xmlns="${c.NS.AUTH_DEVICES}"] .preloader-wrapper`).removeClass("active").removeClass("visible"),setTimeout(()=>{this.account.server_features.get(c.NS.PUBSUB)?(this.$(`.server-feature[data-xmlns="${c.NS.PUBSUB}"]`).addClass("active-feature"),this.$(`.server-feature[data-xmlns="${c.NS.PUBSUB}"] .mdi`).hideIf(!1).removeClass(".mdi-alert").addClass("mdi-checkbox-marked-circle")):this.$(`.server-feature[data-xmlns="${c.NS.PUBSUB}"] .mdi`).hideIf(!1).addClass(".mdi-alert").removeClass("mdi-checkbox-marked-circle"),this.$(`.server-feature[data-xmlns="${c.NS.PUBSUB}"] .preloader-wrapper`).removeClass("active").removeClass("visible"),setTimeout(()=>{this.account.server_features.get(c.NS.HTTP_UPLOAD)?(this.$(`.server-feature[data-xmlns="${c.NS.HTTP_UPLOAD}"]`).addClass("active-feature"),this.$(`.server-feature[data-xmlns="${c.NS.HTTP_UPLOAD}"] .mdi`).hideIf(!1).removeClass(".mdi-alert").addClass("mdi-checkbox-marked-circle")):this.$(`.server-feature[data-xmlns="${c.NS.HTTP_UPLOAD}"] .mdi`).hideIf(!1).addClass(".mdi-alert").removeClass("mdi-checkbox-marked-circle"),this.$(`.server-feature[data-xmlns="${c.NS.HTTP_UPLOAD}"] .preloader-wrapper`).removeClass("active").removeClass("visible"),setTimeout(()=>{i.RECOMMENDED_DOMAIN&&6!=this.$(".server-feature.active-feature").length&&(this.$(".server-features-error").text(t.getString("signin_not_all_features",[i.RECOMMENDED_DOMAIN])),this.$(".login-panel-form.xmpp-login-form .buttons-wrap").addClass("server-features-additional-button"),this.$(".btn-sign-up-instead").hideIf(!1)),6==this.$(".server-feature.active-feature").length?(this.$(".btn-finish-log-in").text(t.getString("xaccount_next")),this.$(".btn-finish-log-in").removeClass("btn-main").addClass("btn-main-filled")):(this.$(".btn-finish-log-in").text(t.getString("signin_proceed_anyway")),this.$(".btn-finish-log-in").addClass("btn-main").removeClass("btn-main-filled")),this.$(".btn-finish-log-in").hideIf(!1)},e)},e)},e)},e)},e)},e)},1000)},endAuth:function(){this.account.save("is_new",void 0),this.data.set("registration",!1),this.data.set("authentication",!1),t.body.setScreen("all-chats",{right:null}),this.account.trigger("ready_to_get_roster"),this.account.auth_view=null},authFeedback:function(e){this.$jid_input.switchClass("invalid",e.jid),this.$(".login-form-jid .login-jid-error").text(e.jid||"").showIf(e.jid),this.$password_input.switchClass("invalid",e.password),this.$(".login-form-jid .login-password-error").text(e.password||"").showIf(e.password),this.$(".login-form-jid .register-form-step-description").hideIf(e.password||e.jid)},resetAuthStepper:function(){this.$(`.login-step .preloader-wrapper`).addClass("active").addClass("visible"),this.$(`.login-step .mdi`).hideIf(!0),this.$(`.login-step`).removeClass("active-feature"),this.$(`.login-step .mdi`).addClass("mdi-alert-circle").removeClass("mdi-checkbox-marked-circle")},authStepperShow:function(){this.$(".login-step-wrap").hideIf(!1),this.$(`.login-step`).hideIf(!0)},authStepperStart:function(){this.$(`.login-step.connecting-step`).hideIf(!1);let e=1e3;setTimeout(()=>{this.$(`.login-step.connecting-step`).addClass("active-feature"),this.$(`.login-step.connecting-step .preloader-wrapper`).removeClass("active").removeClass("visible"),this.$(`.login-step.connecting-step .mdi`).hideIf(!1).removeClass("mdi-alert-circle").addClass("mdi-checkbox-marked-circle"),this.$(`.login-step.credentials-step`).hideIf(!1),setTimeout(()=>{this.$(`.login-step.credentials-step`).addClass("active-feature"),this.$(`.login-step.credentials-step .preloader-wrapper`).removeClass("active").removeClass("visible"),this.$(`.login-step.credentials-step .mdi`).hideIf(!1).removeClass("mdi-alert-circle").addClass("mdi-checkbox-marked-circle"),setTimeout(()=>{-1<i.TRUSTED_DOMAINS.indexOf(this.account.connection.domain)?this.endAuth():(this.stepped_auth_complete=!0,this.first_features_received&&this.successFeedback())},e)},e)},1000)},authStepperError:function(e,t){this.$(".login-step-wrap").hideIf(!1),this.$(`.login-step.connecting-step`).hideIf(!1),setTimeout(()=>{if(e)this.$(`.login-step.connecting-step`).addClass("active-feature"),this.$(`.login-step.connecting-step .preloader-wrapper`).removeClass("active").removeClass("visible"),this.$(`.login-step.connecting-step .mdi`).hideIf(!1).removeClass("mdi-alert-circle").addClass("mdi-checkbox-marked-circle"),this.$(`.login-step.credentials-step`).hideIf(!1);else return this.$(`.login-step.connecting-step .preloader-wrapper`).removeClass("active").removeClass("visible"),this.$(`.login-step.connecting-step .mdi`).hideIf(!1),void this.errorFeedback(t);setTimeout(()=>{this.$(`.login-step.credentials-step .preloader-wrapper`).removeClass("active").removeClass("visible"),this.$(`.login-step.credentials-step .mdi`).hideIf(!1),this.errorFeedback(t)},1e3)},1000)},registerFeedback:function(e){e.user_success?(this.$(".register-form-jid .register-form-step-error").addClass("available").text(e.jid||"").showIf(e.jid),this.$jid_input.removeClass("invalid"),this.$(".register-form-jid .register-form-step-description").hideIf(e.jid)):e.registration_success?(this.$(".register-form-password .register-form-step-error").addClass("available").text(e.password||"").showIf(e.password),this.$password_input.removeClass("invalid"),this.$(".register-form-password .register-form-step-description").hideIf(e.password)):(this.$nickname_input.switchClass("invalid",e.nickname),this.$(".register-form-nickname.register-form-step-error").text(e.nickname||"").showIf(e.nickname),this.$(".register-form-nickname .register-form-step-description").hideIf(e.nickname),this.$jid_input.switchClass("invalid",e.jid),this.$domain_input.switchClass("invalid",e.domain),this.$(".register-form-jid .register-form-step-error").removeClass("available").text(e.jid||e.domain||"").showIf(e.jid||e.domain),this.$(".register-form-jid .register-form-step-description").hideIf(e.jid||e.domain),this.$password_input.switchClass("invalid",e.password),this.$(".register-form-password .register-form-step-error").removeClass("available").text(e.password||"").showIf(e.password),this.$(".register-form-password .register-form-step-description").hideIf(e.password))},errorRegistrationFeedback:function(e){this.registerFeedback(e),this.data.set("registration",!1),this.data.set("authentication",!1),this.$jid_input.prop("disabled",!1),this.$password_input.prop("disabled",!1),this.account&&this.account.destroy()},successRegistrationFeedback:function(){this.$jid_input.prop("disabled",!1),this.$password_input.prop("disabled",!1),this.account.trigger("start")}}),t.AddAccountView=t.XmppLoginPanel.extend({className:"modal main-modal add-account-modal",template:n.add_account,events:{"click .login-type":"changeLoginType","click .btn-log-in":"login","click .btn-cancel":"logout","click .btn-go-back-menu":"close","click .btn-finish-log-in":"endAuth","keyup input[name=jid]":"keyUpLogin","keyup input[name=password]":"keyUpLogin","keyup input[name=sign_in_domain]":"keyUpLogin","click .property-variant":"changePropertyValueAuth"},render:function(){this.$el.openModal({ready:this.onRender.bind(this),complete:this.close.bind(this)})},onRender:function(){this.data.set("step",0),this.account=null,this.stepped_auth=!0,this.stepped_auth_complete=!1,this.authFeedback({}),this.$jid_input=this.$("input[name=jid]"),this.$password_input=this.$("input[name=password]"),this.$domain_input=this.$("input[name=sign_in_domain]"),this.$jid_input.val(""),this.$password_input.val(""),this.keyUpLogin(),this.updateAuthDomains(),this.$(".login-step-wrap").hideIf(!0),this.resetAuthStepper(),this.$(".login-panel-form.xmpp-login-form .buttons-wrap").removeClass("server-features-additional-button"),this.$(".modal-header").text(t.getString("account_add")),this.$(".login-form-jid").hideIf(!1),this.$(".login-form-server-features").hideIf(!0),this.$(".btn-log-in").hideIf(!1),this.$(".btn-cancel").hideIf(!0),this.$(".btn-finish-log-in").hideIf(!0);let e={inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"};this.$(".property-field .select-auth-xmpp-server .caret").dropdown(e),this.$(".property-field .select-auth-xmpp-server .xmpp-server-item-wrap").dropdown(e),this.$(".login-form-jid .dropdown-content .set-custom-domain").hideIf(!i.LOGIN_CUSTOM_DOMAIN),Materialize.updateTextFields(),this.updateButtons(),this.updateOptions&&this.updateOptions()},handleRegistrationStep:function(){let e=this.data.get("step");-1===e&&(this.$(`.server-feature .preloader-wrapper`).addClass("active").addClass("visible"),this.$(`.server-feature .mdi`).hideIf(!0),this.$(`.server-feature`).removeClass("active-feature"),this.$(`.server-feature .mdi`).addClass(".mdi-alert").removeClass("mdi-checkbox-marked-circle"),this.$(".modal-header").text(t.getString("signin_server_features")),this.$(".login-form-jid").hideIf(!0),this.$(".login-form-server-features").hideIf(!1),this.$(".btn-log-in").hideIf(!0),this.checkFeaturesStepper())},logout:function(){this.account.session.set("delete",!0),this.account.deactivate(),this.closeModal()},endAuth:function(){this.account.save("is_new",void 0),this.data.set("authentication",!1),t.body.setScreen("all-chats",{right:null}),this.account.trigger("ready_to_get_roster"),this.account.auth_view=null,this.closeModal()},checkFeaturesStepper:function(){this.$(".server-features-error").text("");let e=1e3;setTimeout(()=>{this.account.server_features.get(c.NS.MAM)?(this.$(`.server-feature[data-xmlns="${c.NS.MAM}"]`).addClass("active-feature"),this.$(`.server-feature[data-xmlns="${c.NS.MAM}"] .mdi`).hideIf(!1).removeClass(".mdi-alert").addClass("mdi-checkbox-marked-circle")):this.$(`.server-feature[data-xmlns="${c.NS.MAM}"] .mdi`).hideIf(!1).addClass(".mdi-alert").removeClass("mdi-checkbox-marked-circle"),this.$(`.server-feature[data-xmlns="${c.NS.MAM}"] .preloader-wrapper`).removeClass("active").removeClass("visible"),setTimeout(()=>{this.account.server_features.get(c.NS.SYNCHRONIZATION)?(this.$(`.server-feature[data-xmlns="${c.NS.SYNCHRONIZATION}"]`).addClass("active-feature"),this.$(`.server-feature[data-xmlns="${c.NS.SYNCHRONIZATION}"] .mdi`).hideIf(!1).removeClass(".mdi-alert").addClass("mdi-checkbox-marked-circle")):this.$(`.server-feature[data-xmlns="${c.NS.SYNCHRONIZATION}"] .mdi`).hideIf(!1).addClass(".mdi-alert").removeClass("mdi-checkbox-marked-circle"),this.$(`.server-feature[data-xmlns="${c.NS.SYNCHRONIZATION}"] .preloader-wrapper`).removeClass("active").removeClass("visible"),setTimeout(()=>{this.account.server_features.get(c.NS.REWRITE)?(this.$(`.server-feature[data-xmlns="${c.NS.REWRITE}"]`).addClass("active-feature"),this.$(`.server-feature[data-xmlns="${c.NS.REWRITE}"] .mdi`).hideIf(!1).removeClass(".mdi-alert").addClass("mdi-checkbox-marked-circle")):this.$(`.server-feature[data-xmlns="${c.NS.REWRITE}"] .mdi`).hideIf(!1).addClass(".mdi-alert").removeClass("mdi-checkbox-marked-circle"),this.$(`.server-feature[data-xmlns="${c.NS.REWRITE}"] .preloader-wrapper`).removeClass("active").removeClass("visible"),setTimeout(()=>{this.account.server_features.get(c.NS.AUTH_DEVICES)?(this.$(`.server-feature[data-xmlns="${c.NS.AUTH_DEVICES}"]`).addClass("active-feature"),this.$(`.server-feature[data-xmlns="${c.NS.AUTH_DEVICES}"] .mdi`).hideIf(!1).removeClass(".mdi-alert").addClass("mdi-checkbox-marked-circle")):this.$(`.server-feature[data-xmlns="${c.NS.AUTH_DEVICES}"] .mdi`).hideIf(!1).addClass(".mdi-alert").removeClass("mdi-checkbox-marked-circle"),this.$(`.server-feature[data-xmlns="${c.NS.AUTH_DEVICES}"] .preloader-wrapper`).removeClass("active").removeClass("visible"),setTimeout(()=>{this.account.server_features.get(c.NS.PUBSUB)?(this.$(`.server-feature[data-xmlns="${c.NS.PUBSUB}"]`).addClass("active-feature"),this.$(`.server-feature[data-xmlns="${c.NS.PUBSUB}"] .mdi`).hideIf(!1).removeClass(".mdi-alert").addClass("mdi-checkbox-marked-circle")):this.$(`.server-feature[data-xmlns="${c.NS.PUBSUB}"] .mdi`).hideIf(!1).addClass(".mdi-alert").removeClass("mdi-checkbox-marked-circle"),this.$(`.server-feature[data-xmlns="${c.NS.PUBSUB}"] .preloader-wrapper`).removeClass("active").removeClass("visible"),setTimeout(()=>{this.account.server_features.get(c.NS.HTTP_UPLOAD)?(this.$(`.server-feature[data-xmlns="${c.NS.HTTP_UPLOAD}"]`).addClass("active-feature"),this.$(`.server-feature[data-xmlns="${c.NS.HTTP_UPLOAD}"] .mdi`).hideIf(!1).removeClass(".mdi-alert").addClass("mdi-checkbox-marked-circle")):this.$(`.server-feature[data-xmlns="${c.NS.HTTP_UPLOAD}"] .mdi`).hideIf(!1).addClass(".mdi-alert").removeClass("mdi-checkbox-marked-circle"),this.$(`.server-feature[data-xmlns="${c.NS.HTTP_UPLOAD}"] .preloader-wrapper`).removeClass("active").removeClass("visible"),setTimeout(()=>{i.RECOMMENDED_DOMAIN&&6!=this.$(".server-feature.active-feature").length&&this.$(".server-features-error").text(t.getString("signin_not_all_features",[i.RECOMMENDED_DOMAIN])),6==this.$(".server-feature.active-feature").length?this.$(".btn-finish-log-in").text(t.getString("xaccount_next")):this.$(".btn-finish-log-in").text(t.getString("signin_proceed_anyway")),this.$(".btn-finish-log-in").hideIf(!1),this.$(".btn-cancel").hideIf(!1)},e)},e)},e)},e)},e)},e)},1000)},onHide:function(){this.$el.detach()},close:function(){this.cancel(),this.closeModal()},closeModal:function(){this.$el.closeModal({complete:this.hide.bind(this)})}}),t.once("start",function(){this.xmpp_login_panel=t.login_page.addChild("xmpp_login",this.XmppLoginPanel),this.account_settings=t.wide_panel.addChild("account_settings",this.NodeView,{classlist:"settings-panel account-settings-panel"}),this.acc_settings_left=t.account_settings.addChild("left",this.Container,{classlist:"account-settings-left-container"}),this.acc_settings_right=t.account_settings.addChild("right",this.Container,{classlist:"account-settings-right-container"}),this.accounts=new this.Accounts(null,{storage_name:this.getStorageName()+"-accounts"}),this.accounts.fetch(),this.toolbar_view.addChild("accounts",this.ToolbarAccountsBlockView,{model:this.accounts,el:this.toolbar_view.$(".accounts")[0]}),this.settings_view.addChild("accounts",this.SettingsAccountsBlockView,{model:this.accounts,el:this.settings_view.$(".xmpp-accounts")[0]}),this.on("add_account",function(){this.add_account_view||(this.add_account_view=new this.AddAccountView),this.add_account_view.show()},this),o(window).bind("beforeunload",function(){t.current_voip_call&&t.current_voip_call.reject()}),window.onbeforeunload=()=>{l.each(this.accounts.connected,function(e){e.sendPresence("offline")})},this.login_page.patchTree=function(e,t){let a=t.login_screen||i.DEFAULT_LOGIN_SCREEN;return"xmpp"===a?{xmpp_login:null}:{xabber_login:null}},this.servers=new t.Servers},t),t}}),define("xabber-discovery",[],function(){return function(e){let t=e.env,a=t.$,i=t._,n=t.moment,s=t.Strophe,o=t.$iq;return e.ClientFeature=Backbone.Model.extend({idAttribute:"namespace"}),e.FeatureView=e.BasicView.extend({className:"client-feature",template:function(){this.$el.append("<div class=\"feature-name one-line\"/>").append("<div class=\"supports\"/>")},_initialize:function(){this.render(),this.$el.appendTo(this.model.collection.account.settings_right.$(".capabilities")),this.model.on("change",this.render,this),this.model.on("destroy",this.remove,this)},render:function(){let t=this.model.get("verbose_name"),a=this.model.get("supports");this.$(".feature-name").text(t),this.$(".supports").text(a?e.getString("account_settings__server_info__status_available"):e.getString("account_settings__server_info__status_unavailable"))}}),e.ClientFeatures=Backbone.Collection.extend({model:e.ClientFeature,initialize:function(t,a){this.account=a.account,this.account.on("render_settings",this.render,this),this.connection=this.account.connection,this.connection.disco.addIdentity("client","web",e.get("client_name"),"en"),this.addFeature(s.NS.LAST,"XEP-0012: Last Activity"),this.addFeature(s.NS.VCARD,"XEP-0054: vCard-temp"),this.addFeature(s.NS.RSM,"XEP-0059: Result Set Management"),this.connection.disco.addFeature(s.NS.CHATSTATES),this.addFeature(s.NS.BLOCKING,"XEP-0191: Blocking Command"),this.addFeature(s.NS.PING,"XEP-0199: XMPP Ping"),this.connection.disco.addFeature(s.NS.ATTENTION,"XEP-0244: Attention"),this.addFeature(s.NS.CARBONS,"XEP-0280: Message carbons"),this.addFeature(s.NS.MAM,"XEP-0313: Message archive management"),this.connection.disco.addFeature(s.NS.CHAT_MARKERS),this.connection.disco.addFeature(s.NS.PUBSUB_AVATAR_METADATA+"+notify"),this.addFeature(s.NS.HTTP_UPLOAD,"XEP-0363: HTTP File Upload"),this.addFeature(s.NS.SYNCHRONIZATION,"XEP-SYNC: Client Synchronization"),this.addFeature(s.NS.AUTH_DEVICES,"XEP-DEVICES: HOTP and Device Management"),this.addFeature(s.NS.GEOLOC,"XEP-0080: User Location"),this.addFeature(s.NS.PUBSUB,"XEP-0060: Publish-Subscribe"),this.addFeature(s.NS.ARCHIVE,"XEP-ARCHIVED: Archived Chats"),this.addFeature(s.NS.DELIVERY,"XEP-DELIVERY: Reliable message delivery"),this.addFeature(s.NS.GROUP_CHAT,"XEP-GROUPS: Groups"),this.addFeature(s.NS.REWRITE,"XEP-RETRACT: Message Delete and Rewrite"),this.addFeature(s.NS.REGISTER,"XEP-0077: In-Band Registration")},addFeature:function(e,t){this.create({namespace:e,verbose_name:t});this.connection.disco.addFeature(e)},render:function(){this.models.forEach(t=>{new e.FeatureView({model:t})})}}),e.ServerFeature=Backbone.Model.extend({idAttribute:"var"}),e.ServerFeatures=Backbone.Collection.extend({model:e.ServerFeature,initialize:function(e,t){this.account=t.account,this.connection=this.account.connection,this.on("add",this.onFeatureAdded,this)},request:function(){this.connection.disco.info(this.account.domain,null,this.onInfo.bind(this)),this.connection.disco.items(this.account.domain,null,this.onItems.bind(this))},onItems:function(e){let t=[];a(e).find("query item").each((e,i)=>{let n=a(i).attr("jid"),o=a(i).attr("name"),d=a(i).attr("node");d===s.NS.GROUP_CHAT&&(t.push(n),this.account.set("groupchat_servers_list",t)),this.connection.disco.addItem(n,o,d,()=>{}),this.connection.disco.info(n,null,this.onInfo.bind(this))})},onInfo:function(e){let t=a(e),i=t.attr("from"),n=this;t.find("feature").each(function(){let e=a(this).attr("var");n.create({var:e,from:i}),e===s.NS.AUTH_DEVICES&&n.account.getAllXTokens()}),this.account.auth_view&&!(-1<constants.TRUSTED_DOMAINS.indexOf(this.account.connection.domain))&&(this.account.auth_view.first_features_received=!0,this.account.auth_view.stepped_auth_complete&&this.account.auth_view.successFeedback())},onFeatureAdded:function(e){let t=e.get("var"),a=this.account.client_features.get(t);a&&a.set("supports",!0);let n=e.get("preferences")||{};t===s.NS.MAM&&"always"!==n.default&&this.account.sendIQ(o({type:"get"}).c("prefs",{xmlns:s.NS.MAM}),i.bind(this.receiveMAMPreferences,this,e))},receiveMAMPreferences:function(e,t){let i=a(t).find("prefs[xmlns=\""+s.NS.MAM+"\"]"),n=i.attr("default");if("always"!==n){let t=o({type:"set"}).c("prefs",{xmlns:s.NS.MAM,default:"always"});i.children().each(function(e,a){t.cnode(a).up()}),this.account.sendIQ(t,function(){e.set("preferences",{default:"always"})})}else e.set("preferences",{default:"always"})}}),e.ServerInfo=Backbone.Collection.extend({model:e.ServerFeature,initialize:function(e){this.domain=e.domain,this.account=e.account,this.connection=this.account.connection},request:function(){this.connection.disco.info(this.domain,null,this.onInfo.bind(this))},onInfo:function(e){let t=a(e),i=t.attr("from"),n=this;t.find("feature").each(function(){let e=a(this).attr("var");n.create({var:e,from:i})})}}),e.Server=Backbone.Model.extend({idAttribute:"domain",initialize:function(t){this.account=t.account,this.set("domain",t.domain||this.account.domain),this.server_features=new e.ServerInfo({account:this.account,domain:this.get("domain")}),this.getServerInfo()},getServerInfo:function(){this.server_features.request()}}),e.Servers=Backbone.Collection.extend({model:e.Server}),e.Account.addInitPlugin(function(){this.client_features=new e.ClientFeatures(null,{account:this}),this.server_features=new e.ServerFeatures(null,{account:this})}),e.Account.addConnPlugin(function(){this.last_stanza_timestamp=n.now(),this.connection.deleteHandler(this._last_stanza_handler),this._last_stanza_handler=this.connection.addHandler(()=>(this.last_stanza_timestamp=n.now(),!0)),this.connection.deleteHandler(this._pong_handler),this._pong_handler=this.connection.ping.addPingHandler(e=>(this.last_stanza_timestamp=n.now(),this.connection.ping.pong(e),!0)),this.connection.deleteTimedHandler(this._ping_handler),this._ping_handler=this.connection.addTimedHandler(3e4,()=>{let t=n.now()-this.last_stanza_timestamp;return t/1e3>(e.settings.reconnect_interval||120)?(this.connection.connected?this.connection.disconnect():this.connect(),!1):(t/1e3>(e.settings.ping_interval||60)&&this.connection.ping.ping(this.get("jid")),!0)}),this.server_features.request()},!0,!0),e.Account.addBackgroundConnPlugin(function(){this.last_background_stanza_timestamp=n.now(),this.background_connection.deleteHandler(this._last_background_stanza_handler),this._last_background_stanza_handler=this.background_connection.addHandler(()=>(this.last_background_stanza_timestamp=n.now(),!0)),this.background_connection.deleteHandler(this._background_pong_handler),this._background_pong_handler=this.background_connection.ping.addPingHandler(e=>(this.last_background_stanza_timestamp=n.now(),this.background_connection.ping.pong(e),!0)),this.background_connection.deleteTimedHandler(this._background_ping_handler),this._background_ping_handler=this.background_connection.addTimedHandler(3e4,()=>{let t=n.now()-this.last_background_stanza_timestamp;return t/1e3>(e.settings.reconnect_interval||120)?(this.background_connection.connected?this.background_connection.disconnect():this.background_connection.connect("password",this.background_connection.jid,this.background_connection.pass),!1):(t/1e3>(e.settings.ping_interval||60)&&this.background_connection.ping.ping(this.background_connection.jid),!0)})},!0,!0),e.Account.addFastConnPlugin(function(){this.last_fast_stanza_timestamp=n.now(),this.fast_connection.deleteHandler(this._last_fast_stanza_handler),this._last_fast_stanza_handler=this.fast_connection.addHandler(()=>(this.last_fast_stanza_timestamp=n.now(),!0)),this.fast_connection.deleteHandler(this._fast_pong_handler),this._fast_pong_handler=this.fast_connection.ping.addPingHandler(e=>(this.last_fast_stanza_timestamp=n.now(),this.fast_connection.ping.pong(e),!0)),this.fast_connection.deleteTimedHandler(this._fast_ping_handler),this._fast_ping_handler=this.fast_connection.addTimedHandler(3e4,()=>{let t=n.now()-this.last_fast_stanza_timestamp;return t/1e3>(e.settings.reconnect_interval||120)?(this.fast_connection.connected?this.fast_connection.disconnect():this.fast_connection.connect("password",this.fast_connection.jid,this.fast_connection.pass),!1):(t/1e3>(e.settings.ping_interval||60)&&this.fast_connection.ping.ping(this.fast_connection.jid),!0)})},!0,!0),e.Account.addConnPlugin(function(){let e=this.connection.disco;this.connection.addHandler(e._onDiscoInfo.bind(e),s.NS.DISCO_INFO,"iq","get",null,null),this.connection.addHandler(e._onDiscoItems.bind(e),s.NS.DISCO_ITEMS,"iq","get",null,null)},!1,!0),e}}),define("xabber-contacts",[],function(){var e=Math.trunc,t=Math.round,a=Math.max;return function(i){let n=i.env,s=n.constants,o=n.templates.contacts,d=n.utils,r=n.$,c=n.$iq,l=n.$pres,p=n.Strophe,m=n._,u=n.moment,g=n.uuid,h=d.images,v=d.emoji,f=e=>d.pretty_datetime(e,("ru-RU"==i.settings.language||"default"==i.settings.language&&"ru-RU"==i.get("default_language"))&&"D MMMM YYYY HH:mm:ss");return i.Contact=Backbone.Model.extend({idAttribute:"jid",defaults:{status:"offline",status_message:"",subscription:void 0,subscription_request_in:!1,subscription_request_out:!1,groups:[],group_chat:!1},initialize:function(e,t){this.on("change:group_chat",this.onChangedGroupchat,this),this.account=t.account,e.avatar&&(e.image=e.avatar,delete e.avatar);let a=m.clone(e);a.resource?a.full_jid=a.jid+"/"+a.resource:a.group_chat&&(a.full_jid=a.jid+"/Group"),this.account&&this.account.domain===a.jid&&m.extend(a,{server:!0,status:"online"}),a.name=a.roster_name||a.name||a.jid,a.image||(a.photo_hash="",a.image=h.getDefaultAvatar(a.name)),this.account.blocklist.isBlocked(a.jid)&&(a.blocked=!0),this.cached_image=h.getCachedImage(a.image),a.vcard=d.vcard.getBlank(a.jid),this.set(a),this.onChangedGroupchat(),this.domain=p.getDomainFromJid(this.get("jid")),this.get("group_chat")||this.set("group_chat",m.contains(this.account.chat_settings.get("group_chat"),this.get("jid"))),this.hash_id=n.b64_sha1(this.account.get("jid")+"-"+a.jid),this.resources=new i.ContactResources(null,{contact:this}),this.on("update_avatar",this.updateAvatar,this),this.on("change:full_jid",this.updateCachedInfo,this),this.on("change:roster_name",this.updateName,this),i.servers.get(this.domain)||i.servers.create({domain:this.domain,account:this.account}),this.account.dfd_presence.done(()=>{this.get("blocked")||this.get("vcard_updated")||this.getVCard()})},getStatusMessage:function(){let e=this.get("subscription"),t=this.get("subscription_request_in"),a=this.get("subscription_request_out"),n="";return this.get("blocked")?n=i.getString("action_contact_blocked"):this.get("group_chat")?this.get("group_info")?(this.get("group_info").members_num&&(n+=i.getQuantityString("contact_groupchat_status_member",this.get("group_info").members_num)),0<this.get("group_info").online_members_num&&(n+=i.getString("contact_groupchat_status_online",[this.get("group_info").online_members_num||0]))):e?n=this.get("status_message")||i.getString(this.get("status")):n=i.getString("contact_state_no_subscriptions"):"from"===e?a?n=i.getString("contact_state_outgoing_request"):n=i.getString("contact_state_subscribed_to_account"):e?n=this.get("status_message")||i.getString(this.get("status")):a?n=i.getString("contact_state_outgoing_request"):t?n=i.getString("contact_state_incoming_request"):m.isNull(e)?n=i.getString("contact_state_no_subscriptions"):n=i.getString("contact_state_not_in_contact_list"),n},getSubscriptionStatuses:function(){let e=this.get("subscription"),t=this.get("subscription_request_in"),a=this.get("subscription_request_out"),n="",s="",o="",d="",r="";return this.get("blocked")&&(d=i.getString("action_contact_blocked")),"both"===e?(d=i.getString("subscription_status_out_to"),r=i.getString("subscription_status_in_from"),n=i.getString("subscription_status_description_both")):"from"===e?a?(d=i.getString("subscription_status_out_requested"),r=i.getString("subscription_status_in_from"),n=i.getString("subscription_status_description_out_requested_in_from")):(d=i.getString("subscription_status_out_none"),r=i.getString("subscription_status_in_from"),n=i.getString("subscription_status_description_out_none_in_from")):"to"===e?t?(d=i.getString("subscription_status_out_to"),r=i.getString("subscription_status_in_request_incoming"),n=i.getString("subscription_status_description_out_to_in_request_incoming")):(d=i.getString("subscription_status_out_to"),r=i.getString("subscription_status_in_not_allowed"),n=i.getString("subscription_status_description_out_to_in_not_allowed")):!e&&(a&&t?(d=i.getString("subscription_status_out_requested"),r=i.getString("subscription_status_in_request_incoming"),n=i.getString("subscription_status_description_out_requested_in_request_incoming")):a?(d=i.getString("subscription_status_out_requested"),r=i.getString("subscription_status_in_not_allowed"),n=i.getString("subscription_status_description_out_requested_in_not_allowed")):t?(d=i.getString("subscription_status_out_none"),r=i.getString("subscription_status_in_request_incoming"),n=i.getString("subscription_status_description_out_none_in_request_incoming")):m.isNull(e)?(d=i.getString("subscription_status_out_none"),r=i.getString("subscription_status_in_not_allowed"),n=i.getString("subscription_status_description_out_none_in_not_allowed")):d=i.getString("contact_add")),a&&(s="request"),t&&(o="request"),"to"===e&&(s="subbed"),"from"===e&&(o="subbed"),"both"===e&&(s="subbed",o="subbed"),{status_out:d,status_in:r,status_out_color:s,status_in_color:o,status_description:n}},getIcon:function(){return this.get("blocked")?"blocked":this.get("invitation")?"group-invite":this.get("group_chat")?this.get("jid").includes("redmine_issue_")?"task":this.get("private_chat")?"group-private":this.get("incognito_chat")?"group-incognito":"group-public":this.get("server")?"server":this.get("bot")?"bot":void 0},updateAvatar:function(){this.account.cached_roster.getFromRoster(this.get("jid"),e=>{e&&this.get("photo_hash")===e.photo_hash||this.getVCard()})},getVCard:function(e){let t=this.get("jid"),a=m.isFunction(e);(this.account.background_connection&&this.account.background_connection.connected?this.account.background_connection:this.account.connection).vcard.get(t,i=>{if(i.group_info){let e=this.get("group_info")||{};e=m.extend(e,i.group_info),this.set({group_info:e}),delete i.group_info}let n={vcard:i,vcard_updated:u.now(),name:this.get("roster_name")};n.name||(this.get("group_chat")?n.name=i.nickname||this.get("name"):n.name=i.nickname||(i.first_name+" "+i.last_name).trim()||i.fullname||t),(!this.get("avatar_priority")||this.get("avatar_priority")<=s.AVATAR_PRIORITIES.VCARD_AVATAR)&&(i.photo.image?(n.avatar_priority=s.AVATAR_PRIORITIES.VCARD_AVATAR,n.image=i.photo.image):n.image=h.getDefaultAvatar(n.name),this.cached_image=h.getCachedImage(n.image)),this.set(n),this.get("in_roster")&&this.updateCachedInfo(),a&&e(i)},function(){a&&e(null)})},updateCachedInfo:function(){let e={jid:this.get("jid"),in_roster:this.get("in_roster"),groups:this.get("groups"),subscription:this.get("subscription"),roster_name:this.get("roster_name"),subscription_request_out:this.get("subscription_request_out"),subscription_request_in:this.get("subscription_request_in"),name:this.get("name"),vcard_updated:this.get("vcard_updated")},t=this.get("full_jid");(this.get("photo_hash")||this.get("image"))&&m.extend(e,{photo_hash:this.get("photo_hash")||this.account.getAvatarHash(this.get("image")),avatar_priority:this.get("avatar_priority"),avatar:this.get("image")}),t&&(e.resource=p.getResourceFromJid(t)),this.account.cached_roster.putInRoster(e)},onChangedGroupchat:function(){this.get("group_chat")&&(this.updateCounters(),this.participants=new i.Participants(null,{contact:this}))},getBlockedParticipants:function(e,t){let a=c({type:"get",to:this.get("full_jid")||this.get("jid")}).c("query",{xmlns:p.NS.GROUP_CHAT+"#block"});this.account.sendFast(a,e,t)},updateCounters:function(){i.toolbar_view.recountAllMessageCounter()},getLastSeen:function(){if("offline"==this.get("status")){if(!p.getNodeFromJid(this.get("jid")))return void this.set({status_message:"Server"});let e=c({from:this.account.get("jid"),type:"get",to:this.get("jid")}).c("query",{xmlns:p.NS.LAST});this.account.sendIQ(e,e=>{let t=this.getLastSeenStatus(e);return"offline"==this.get("status")&&this.set({status_message:t}),this})}},getMyInfo:function(e){this.participants.participantsRequest({id:"",properties:!0},t=>{let a=r(r(t).find("query user")),i=this.account.chat_settings.getAvatarInfoById(a.find("id").text());a.length&&this.participants&&this.participants.createFromStanza(a),i&&i.avatar_hash==this.my_info.get("avatar")&&this.my_info.set("b64_avatar",i.avatar_b64),this.trigger("update_my_info"),this.participants.participantsRequest({id:""},t=>{let a=this.account.parseDataForm(r(t).find(`x[xmlns="${p.NS.DATAFORM}"]`));this.my_rights=a,this.trigger("permissions_changed"),e&&e()})})},getAvatar:function(e,t,a,n){let s=this.get("group_chat")?this.get("full_jid"):this.get("jid"),o=c({from:this.account.get("jid"),type:"get",to:s}).c("pubsub",{xmlns:p.NS.PUBSUB}).c("items",{node:t}).c("item",{id:e});this.account.sendIQinBackground(o,e=>{let t=r(e).find("data").text();""==t?n&&n(i.getString("pubsub__error__text_empty_node")):a&&a(t)})},pubAvatar:function(e,t,a,i){let n=sha1(e.base64),s=c({from:this.account.get("jid"),type:"set",to:this.get("jid")}).c("pubsub",{xmlns:p.NS.PUBSUB}).c("publish",{node:p.NS.PUBSUB_AVATAR_DATA+t}).c("item",{id:n}).c("data",{xmlns:p.NS.PUBSUB_AVATAR_DATA}).t(e.base64),o=c({from:this.account.get("jid"),type:"set",to:this.get("jid")}).c("pubsub",{xmlns:p.NS.PUBSUB}).c("publish",{node:p.NS.PUBSUB_AVATAR_METADATA+t}).c("item",{id:n}).c("metadata",{xmlns:p.NS.PUBSUB_AVATAR_METADATA}).c("info",{bytes:e.size,id:n,type:e.type});this.account.sendIQinBackground(s,()=>{this.account.sendIQinBackground(o,()=>{a&&a(n)},function(e){i&&i(e)})},e=>{i&&i(e)})},getLastSeenStatus:function(e){let t=r(e).children("query").attr("seconds"),a=u.now()-1e3*t;return this.set({last_seen:a}),i.pretty_last_seen(t)},pres:function(e){let t=l({to:this.get("jid"),from:this.account.jid,type:e});return this.account.sendPres(t),this},pushInRoster:function(e,t,a){e||(e={});let i=e.name||this.get("roster_name"),n=e.groups||this.get("groups"),s=c({type:"set"}).c("query",{xmlns:p.NS.ROSTER}).c("item",{jid:this.get("jid"),name:i});return m.each(n,function(e){s.c("group").t(e).up()}),this.account.sendIQ(s,t,a),this.set("known",!0),this.set("removed",!1),this},removeFromRoster:function(e,t){if(!this.get("removed")){let a=c({type:"set"}).c("query",{xmlns:p.NS.ROSTER}).c("item",{jid:this.get("jid"),subscription:"remove"});this.account.cached_roster.removeFromRoster(this.get("jid")),this.account.sendIQ(a,e,t),this.set("known",!1),this.set("removed",!0)}return this},acceptRequest:function(e){this.pres("subscribed"),e&&e()},askRequest:function(e){this.pres("subscribe"),e&&e()},blockRequest:function(e){this.block(e)},declineRequest:function(e){this.pres("unsubscribed"),this.removeFromRoster(e)},declineSubscription:function(){this.pres("unsubscribe"),this.set("subscription_request_out",!1)},declineSubscribe:function(){this.pres("unsubscribed"),this.set("subscription_preapproved",!1)},deleteWithDialog:function(){let e=this.get("group_chat"),t=e?i.getString("group_remove"):i.getString("remove_contact"),a=e?i.getString("group_remove_confirm",[this.get("name").bold()]):i.getString("contact_delete_confirm_short",[this.get("name").bold()]),n=e?null:[{name:"delete_history",checked:!1,text:i.getString("delete_contact__label_delete_history")}];d.dialogs.ask(t,a,n,{ok_button_text:i.getString("delete")}).done(t=>{if(t)if(e){let e=this.domain,t=p.getNodeFromJid(this.get("jid")),a=c({to:e,type:"set"}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#delete`}).t(t);this.account.sendIQ(a,()=>{this.declineSubscription(),this.removeFromRoster();let e=this.account.chats.getChat(this);e.trigger("close_chat"),i.body.setScreen("all-chats",{right_contact:"",right:void 0})})}else{if(this.removeFromRoster(),t.delete_history){let e=this.account.chats.getChat(this);e.retractAllMessages(!1),e.deleteFromSynchronization(),i.body.setScreen("all-chats",{right_contact:"",right:void 0})}i.trigger("clear_search")}})},blockWithDialog:function(){let e=this.get("group_chat"),t=this,a=e?i.getString("block_group__header"):i.getString("contact_block"),n={ok_button_text:i.getString("contact_bar_block")},s=i.getString("block_contact_confirm_short",[this.get("name").bold()]);e||(n.optional_button=i.getString("contact_block_and_delete"),s+=`\n${i.getString("block_contact_warning",[this.get("jid")])}`),d.dialogs.ask(a,s,null,n).done(function(a){if(a){if(!e){let e=t.account.chats.getChat(t);"block & delete"===a&&(t.removeFromRoster(),e.retractAllMessages(!1),e.deleteFromSynchronization(),e.set("active",!1))}t.blockRequest(),i.trigger("clear_search"),e||i.body.setScreen("all-chats",{right_contact:"",right:void 0})}})},unblockWithDialog:function(){let e=this;d.dialogs.ask(i.getString("chat_settings__button_unblock_contact"),i.getString("unblock_contact_confirm_short",[this.get("name")]),null,{ok_button_text:i.getString("contact_bar_unblock")}).done(function(t){t&&(e.unblock(),i.trigger("clear_search"))})},block:function(e,t){let a=c({type:"set"}).c("block",{xmlns:p.NS.BLOCKING}).c("item",{jid:this.get("jid")});this.account.sendIQ(a,e,t),this.set("blocked",!0),this.set("known",!1)},unblock:function(e,t){let a=c({type:"set"}).c("unblock",{xmlns:p.NS.BLOCKING}).c("item",{jid:this.get("jid")});this.account.sendIQ(a,e,t),this.set("blocked",!1)},sendPresent:function(){let e=l({from:this.account.connection.jid,to:this.get("jid")}).c("x",{xmlns:`${p.NS.GROUP_CHAT}#present`});this.account.sendPres(e),clearInterval(this._sending_present_interval),this._sending_present_interval=setInterval(()=>{this.account.sendPres(e)},s.PRESENT_INTERVAL)},sendNotPresent:function(){let e=l({from:this.account.connection.jid,to:this.get("jid")}).c("x",{xmlns:`${p.NS.GROUP_CHAT}#not-present`});this.account.sendPres(e),clearInterval(this._sending_present_interval)},handlePresence:function(e){let t=r(e),a=e.getAttribute("type"),n=t.find(`x[xmlns="${p.NS.VCARD_UPDATE}"]`);n.length&&this.get("avatar_priority")&&this.get("avatar_priority")<=s.AVATAR_PRIORITIES.VCARD_AVATAR&&(this.set("photo_hash",n.find("photo").text()),this.trigger("update_avatar"));let o=r(e).find(`x[xmlns="${p.NS.GROUP_CHAT}"]`);if(0<o.length&&o.children().length){this.set("full_jid",t.attr("from")),this.get("group_chat")||(this.set("group_chat",!0),this.account.chat_settings.updateGroupChatsList(this.get("jid"),this.get("group_chat"))),this.details_view&&!this.details_view.child("participants")&&(this.details_view=new i.GroupChatDetailsView({model:this}));let a=this.parseGroupInfo(r(e)),n=this.get("group_info")||{};this.details_view&&this.details_view.isVisible()&&a.online_members_num!=n.online_members_num&&this.trigger("update_participants"),m.extend(n,a),this.set("group_info",n),this.get("roster_name")||n.name===this.get("name")||this.set("name",n.name),this.set({status:n.status,status_updated:u.now(),status_message:n.members_num+" members"+i.getString("contact_groupchat_status_online",[n.online_members_num||0])})}if("subscribe"===a)this.set("subscription_request_in",!0),this.get("subscription_preapproved")?this.pres("subscribed"):this.trigger("presence",this,"subscribe");else if("subscribed"===a)this.get("group_chat")&&(this.get("subscription_request_out")||"to"===this.get("subscription")),"to"===this.get("subscription"),this.trigger("presence",this,"subscribed");else if("unsubscribe"===a){if(this.set("subscription_request_in",!1),this.get("group_chat")){this.removeFromRoster();let e=this.account.chats.getChat(this);this.get("sync_deleted")?(e.trigger("close_chat"),this.destroy()):e.deleteFromSynchronization(()=>{e.trigger("close_chat"),this.destroy()},()=>{e.trigger("close_chat"),this.destroy()})}}else if("unsubscribed"===a)this.set("subscription_request_out",!1);else{let i=e.getAttribute("from"),n=p.getResourceFromJid(i),s=+t.find("priority").text(),o=t.find("show").text()||"online",d=t.find("status"),r=d.text();m.isNaN(s)&&(s=0),clearTimeout(this._reset_status_timeout);let c=this.resources.get(n);if("unavailable"===a)this.set({last_seen:u.now()}),c&&c.destroy();else{this.set({last_seen:void 0});let e={resource:n,priority:s,status:o};d.length&&(e.status_message=r),c?c.set(e):c=this.resources.create(e)}}},parseGroupInfo:function(e){let t=this.get("jid"),a=e.find(`x[xmlns="${p.NS.GROUP_CHAT}"]`),n=a.find("name").text(),s=a.find("membership"),o=e.children("show").text()||("unavailable"===e.attr("type")?"unavailable":"online"),d=e.children("status").text(),r=a.find("privacy").text(),c=a.find("index"),l=a.find("description"),m=+a.find("pinned-message").text(),u=this.get("pinned_message")?this.get("pinned_message").get("stanza_id"):0,g=a.find("parent-chat").text()||!1,h=+a.find("members").text(),v=a.find("present"),f={jid:t,name:n,status_msg:d,privacy:r,status:o,members_num:h};c.length&&(f.searchable=c.text()),s.length&&(f.model=s.text()),l.length&&(f.description=l.text()),v.length&&(f.online_members_num=+v.text()),g&&this.set("private_chat",g),"incognito"===r&&this.set("incognito_chat",!0);let b=this.account.chats.get(this.hash_id),A;return a.find("pinned-message").length&&u!=m&&(b&&(b.item_view&&!b.item_view.content&&(b.item_view.content=new i.ChatContentView({chat_item:b.item_view})),A=b.item_view.content.$pinned_message),A&&(m?this.getMessageByStanzaId(m,e=>{this.parsePinnedMessage(e,A)}):(this.set("pinned_message",void 0),this.parsePinnedMessage(void 0,A)))),f},getAllRights:function(e){let t=iq=c({from:this.account.get("jid"),type:"get",to:this.get("full_jid")||this.get("jid")}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#rights`});this.account.sendIQ(t,t=>{let a=r(t).find("permission"),i=r(t).find("restriction");this.all_rights={permissions:a,restrictions:i},e&&e()})},getMessageByStanzaId:function(e,t){let a=g(),i=c({type:"set",to:this.get("full_jid")||this.get("jid")}).c("query",{xmlns:p.NS.MAM,queryid:a}).c("x",{xmlns:p.NS.DATAFORM,type:"submit"}).c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t(p.NS.MAM).up().up().c("field",{var:"{urn:xmpp:sid:0}stanza-id"}).c("value").t(e),n=this.account.connection.addHandler(e=>{let i=r(e);return i.find("result").attr("queryid")===a&&t&&t(i),!0},p.NS.MAM);this.account.sendIQ(i,()=>{this.account.connection.deleteHandler(n)},()=>{this.account.connection.deleteHandler(n)})},parsePinnedMessage:function(e,t){if(!e)this.renderPinnedMessage(null,t);else{let a=e.find("result message").first();if(this.get("pinned_message")&&this.get("pinned_message").stanza_id===a.find("stanza-id").attr("id"))return;let i=this.account.chats.receiveChatMessage(e,{pinned_message:!0});this.set("pinned_message",i),this.renderPinnedMessage(i,t)}},renderPinnedMessage:function(e,t){if(!e)t.html(""),t.siblings(".chat-content").css({height:"100%"});else{let a=e.get("images"),n=e.get("files"),s=e.get("locations"),d=e.get("forwarded_message"),c=null,l=m.escape(e.get("message"));if(d){let e=d[0].get("user_info")||{};l||(1<d.length?l=i.getQuantityString("forwarded_messages_count",d.length):(l=d[0].get("message")||d[0].get("forwarded_message")&&i.getString("forwarded_messages_count_plural_0",[d[0].get("forwarded_message").length]),c=e.nickname||d[0].get("from_jid")||e.id))}a&&n?l=`<span class=text-color-500>${i.getString("recent_chat__last_message__attachments",[a.length+n.length])}</span>`:(a&&(1==a.length&&(l=`<span class=text-color-500>${i.getString("recent_chat__last_message__images_plural_0")}: </span>`+a[0].name),1<a.length&&(l=`<span class=text-color-500>${i.getQuantityString("recent_chat__last_message__images",a.length)}</span>`)),n&&(1==n.length&&(l=`<span class=text-color-500>${i.getString("recent_chat__last_message__files_plural_0")}: </span>`+n[0].name+" ("+n[0].size+")"),1<n.length&&(l=`<span class=text-color-500>${i.getQuantityString("recent_chat__last_message__files",n.length)}</span>`))),s&&(1==s.length&&(l=`<span class=text-color-500>${i.getString("recent_chat__last_message__locations_plural_0")}</span>`),1<s.length&&(l=`<span class=text-color-500>${i.getQuantityString("recent_chat__last_message__locations",s.length)}</span>`));let p=e.get("user_info")||{},u=this.account.chats.get(this.hash_id).item_view.content,g=u.isScrolledToBottom(),h=p.nickname||e.get("from_jid")||p.id,v={author:h,time:f(e.get("time")),message:l,fwd_author:c},b=r(o.group_chats.pinned_message(v));t.html(b).emojify(".chat-msg-content",{emoji_size:18});let A=t.height();t.siblings(".chat-content").css({height:"calc(100% - "+A+"px)"}),g&&u.scrollToBottom(),t.attr("data-uniqueid",e.get("unique_id"))}},resetStatus:function(e){clearTimeout(this._reset_status_timeout),this._reset_status_timeout=setTimeout(()=>{this.set({status_updated:u.now(),status:"offline",status_message:""})},e||5e3)},searchByParticipants:function(e,t){if(!this.participants.version)this.participants.participantsRequest({},()=>{let a=this.participants.search(e);t&&t(a)});else{let a=this.participants.search(e);t&&t(a)}},updateName:function(){this.get("roster_name")&&this.get("name")!==this.get("roster_name")&&this.set("name",this.get("roster_name"))},showDetails:function(e){this.details_view||(this.details_view=this.get("group_chat")?new i.GroupChatDetailsView({model:this}):new i.ContactDetailsView({model:this})),e||(e="contacts"),i.body.setScreen(e,{right:"contact_details",contact:this})},showDetailsRight:function(e,t){let a=this.account.chats.getChat(this),n,s;a&&!a.item_view.content&&(a.item_view.content=new i.ChatContentView({chat_item:a.item_view})),s=a.item_view.content.getScrollTop(),i.chats_view&&(n=i.chats_view.getScrollTop()),t=t||{},this.details_view_right||t.encrypted||(this.details_view_right=this.get("group_chat")?new i.GroupChatDetailsViewRight({model:this}):new i.ContactDetailsViewRight({model:this})),!this.details_view_right_encrypted&&t.encrypted&&(this.details_view_right_encrypted=new i.ContactDetailsViewRight({model:this,encrypted:!0})),e||(e="contacts"),i.body.screen.get("right_contact")&&"search"!=t.type&&"members"!=t.type&&"participant"!=t.type&&!t.right_saved?(this.set("search_hidden",!0),i.body.setScreen(e,{right_contact:"",contact:this})):(t.encrypted?i.body.setScreen(e,{right_contact:"contact_details_encrypted",contact:this}):i.body.setScreen(e,{right_contact:"contact_details",contact:this}),this.details_view_right&&this.details_view_right.contact_searched_messages_view&&(this.details_view_right.contact_searched_messages_view.hideSearch(),"search"===t.type&&(this.details_view_right.contact_searched_messages_view.clearSearch(),this.details_view_right.showSearchMessages()),"members"===t.type&&this.details_view_right.$(".tabs:not(.participant-tabs) .list-variant[data-value=\"participants\"]").click(),this.details_view_right.onScroll())),s&&a.item_view.content.scrollTo(s),n&&i.chats_view.scrollTo(n)}}),i.SetGroupchatStatusView=i.BasicView.extend({className:"modal main-modal change-status-modal",template:o.group_chats.set_status,events:{"click .status-values li":"changeStatus"},open:function(e){this.contact=e,this.account=this.contact.account,this.show(),this.getStatuses()},updateIcons:function(){let e=this.contact.getIcon();this.$(".status-bulb").addClass("hidden"),e&&this.$(".status-bulb").removeClass("hidden").switchClass(e,"server"==e||"blocked"==e).html(n.templates.svg[e]())},highlightStatus:function(e){this.$(`.status-values li[data-value="${e}"]`).addClass("active").siblings().removeClass("active"),this.updateIcons()},getStatuses:function(){let e=c({to:this.contact.get("full_jid")||this.contact.get("jid"),type:"get"}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#status`});this.account.sendFast(e,e=>{this.data_form=this.account.parseDataForm(r(e).find("x[xmlns=\""+p.NS.DATAFORM+"\"]"));let t=this.data_form.fields.find(e=>"status"==e.var),a=(this.data_form.fields.find(e=>"status"==e.var)||[]).options||[];return a.length&&"fixed"!=t.type?void this.renderStatuses(a):(this.closeModal(),void d.dialogs.error(i.getString("groupchat_you_have_no_permissions_to_do_it")))},()=>(this.closeModal(),void d.dialogs.error(i.getString("set_group_status__error__service_unavailable"))))},renderStatuses:function(e){this.$(".status-values").html(""),e.forEach(e=>{let t=e,a=this.data_form.fields.find(e=>e.var==t.value);t.show=a?a.values[0]:t.value;let i=r(o.group_chats.status_item({status:t}));this.$(".status-values").append(i)}),this.highlightStatus(this.contact.get("status"))},changeStatus:function(e){let t=r(e.target).closest("li").data("value");this.highlightStatus(t),this.do_change(),this.closeModal()},do_change:function(){let e=this.$(".status-values li.active").data("value");this.setStatus(e)},render:function(){this.$el.openModal({complete:this.close.bind(this)})},setStatus:function(e){if(!this.data_form||this.contact.get("group_info").status===e)return;let t=c({to:this.contact.get("full_jid")||this.contact.get("jid"),type:"set"}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#status`}),a=this.data_form.fields.find(e=>"status"===e.var),i=this.data_form.fields.indexOf(a);a.values=[e],this.data_form.fields[i]=a,t=this.account.addDataFormToStanza(t,this.data_form),this.account.sendFast(t)},onHide:function(){this.$el.detach()},close:function(){let e=this.$(".status-message").val();e||this.do_change(),this.closeModal()},closeModal:function(){this.$el.closeModal({complete:this.hide.bind(this)})}}),i.ContactItemView=i.BasicView.extend({className:"roster-contact list-item",_initialize:function(){this.account=this.model.account,this.$el.attr({"data-id":g(),"data-jid":this.model.get("jid")}),this.$(".jid").text(this.model.get("jid")),this.interval_last,this.updateName(),this.updateStatus(),this.updateAvatar(),this.selectView(),this.updateGroupChat(),this.updateIcon(),this.model.on("change:name",this.updateName,this),this.model.on("change:image",this.updateAvatar,this),this.model.on("change:status_updated",this.updateStatus,this),this.model.on("change:private_chat",this.updateIcon,this),this.model.on("change:incognito_chat",this.updateIcon,this),this.model.on("change:bot",this.updateIcon,this),this.model.on("change:blocked",this.onBlocked,this),this.model.on("change:status_message",this.updateStatusMsg,this),this.model.on("change:last_seen",this.lastSeenUpdated,this),this.model.on("change:group_chat",this.updateGroupChat,this)},updateName:function(){this.$(".name").text(this.model.get("name"))},updateAvatar:function(){this.$(".circle-avatar").setAvatar(this.model.cached_image,this.avatar_size)},updateStatus:function(){if(this.$(".status").attr("data-status",this.model.get("status")),this.$(".chat-icon").attr("data-status",this.model.get("status")),this.$(".status-message").text(this.model.getStatusMessage()),"offline"==this.model.get("status")){if(!p.getNodeFromJid(this.model.get("jid")))return void this.model.set({status_message:"Server"});if(this.model.get("last_seen")){let e=(u.now()-this.model.get("last_seen"))/1e3,t=i.pretty_last_seen(e);this.model.set({status_message:t})}}},onBlocked:function(){this.updateIcon(),this.$el.switchClass("blocked",this.model.get("blocked"))},selectView:function(){this.model.get("group_chat")&&(this.$(".private-chat").addClass("hidden"),this.$(".group_chat").removeClass("hidden"))},lastSeenUpdated:function(){"offline"==this.model.get("status")&&this.model.get("last_seen")&&m.isUndefined(this.interval_last)?this.interval_last=setInterval(()=>{let e=(u.now()-this.model.get("last_seen"))/1e3,t=i.pretty_last_seen(e);this.model.set({status_message:t})},6e4):clearInterval(this.interval_last)},updateGroupChat:function(){let e=this.model.get("group_chat");this.$(".status").hideIf(e),this.updateIcon()},updateIcon:function(){let e=this.model.getIcon();this.$(".chat-icon").addClass("hidden"),this.model.get("invitation")||e&&this.$(".chat-icon").removeClass("hidden").switchClass(e,"server"==e||"blocked"==e).html(n.templates.svg[e]())},updateStatusMsg:function(){this.$(".status-message").text(this.model.getStatusMessage())}}),i.ContactItemRightView=i.ContactItemView.extend({template:o.contact_right_item,avatar_size:s.AVATAR_SIZES.CONTACT_RIGHT_ITEM,events:{click:"clickOnItem",mouseover:"showJid",mouseleave:"hideJid"},showJid:function(){this.$(".name").text()!==this.model.get("jid")&&(this.$(".status-message").addClass("hidden"),this.$(".jid").removeClass("hidden"))},hideJid:function(){this.$(".jid").addClass("hidden"),this.$(".status-message").removeClass("hidden")},clickOnItem:function(){this.model.trigger("open_chat",this.model)}}),i.ContactItemLeftView=i.ContactItemView.extend({template:o.contact_left_item,avatar_size:s.AVATAR_SIZES.CONTACT_LEFT_ITEM,events:{click:"clickOnItem"},__initialize:function(){this.updateDisplayStatus(),this.updateBlockedState(),this.updateMutedState(),this.updateGroupChat(),this.model.on("change:display",this.updateDisplayStatus,this),this.model.on("change:blocked",this.updateBlockedState,this),this.model.on("change:group_chat",this.updateGroupChat,this)},updateDisplayStatus:function(){this.$el.switchClass("active",this.model.get("display"))},updateBlockedState:function(){this.$el.switchClass("blocked",this.model.get("blocked"))},updateMutedState:function(){this.$(".muted-icon").hide()},clickOnItem:function(){let e={};i.chats_view.active_chat&&i.chats_view.active_chat.model.get("jid")===this.model.get("jid")&&i.chats_view.active_chat.model.get("encrypted")&&(e.encrypted=!0),this.model.trigger("open_chat",this.model,e)}}),i.ContactResources=i.Resources.extend({initialize:function(e,t){this.contact=t.contact,this.jid=t.contact.get("jid"),this.connection=t.contact.account.connection,this.on("add change",this.onResourceUpdated,this),this.on("remove",this.onResourceRemoved,this)},onResourceUpdated:function(e){e===this.first()&&this.contact.set({status_updated:u.now(),status:e.get("status"),status_message:e.get("status_message")})},onResourceRemoved:function(){let e={status_updated:u.now()};this.length?(e.status=this.first().get("status"),e.status_message=this.first().get("status_message")):(e.status="offline",e.status_message=""),this.contact.set(e)}}),i.ContactResourcesView=i.ResourcesView.extend({onResourceAdded:function(e){this.addChild(e.get("resource"),i.ResourceView,{model:e}),this.updatePosition(e),this.$el.removeClass("hidden"),this.parent.updateScrollBar()},onResourceRemoved:function(e){this.removeChild(e.get("resource")),this.$el.showIf(this.model.length),this.parent.updateScrollBar()},onReset:function(){this.removeChildren(),this.$el.addClass("hidden"),this.parent.updateScrollBar()},updatePosition:function(e){let t=this.child(e.get("resource"));if(t){t.$el.detach();let a=this.model.indexOf(e);0===a?this.$(".resources-wrap").prepend(t.$el):this.$(".resource-wrap").eq(a-1).after(t.$el),this.updateScrollBar()}}}),i.ContactResourcesRightView=i.ResourcesView.extend({className:"modal main-modal resource-modal",_initialize:function(){this.model.on("add",this.onResourceAdded,this),this.model.on("remove",this.onResourceRemoved,this),this.model.on("reset",this.onReset,this),this.model.on("change:priority",this.onPriorityChanged,this)},renderByInit:function(){this.model.each(e=>{this.onResourceAdded(e)})},open:function(){this.model.length&&this.$el.openModal({ready:()=>{this.$el.html("<svg class=\"details-icon mdi mdi-24px \"></svg><div class=\"resources-wrap\"></div>"),this.$el.find(".details-icon").html(n.templates.svg["ic-jabber"]()),this.renderByInit()}})},onResourceAdded:function(e){this.model.requestInfo(e),this.addChild(e.get("resource"),i.ResourceRightView,{model:e}),this.updatePosition(e),this.$el.removeClass("hidden")},onResourceRemoved:function(e){this.removeChild(e.get("resource")),this.$el.showIf(this.model.length)},onReset:function(){this.removeChildren(),this.$el.addClass("hidden")},updatePosition:function(e){let t=this.child(e.get("resource"));if(t){t.$el.detach();let a=this.model.indexOf(e);0===a?this.$(".resources-wrap").prepend(t.$el):this.$(".resource-wrap").eq(a-1).after(t.$el),this.updateScrollBar()}}}),i.ContactVCardView=i.VCardView.extend({events:{"click .btn-vcard-refresh":"refresh","click .details-icon":"onClickIcon"}}),i.ContactRightVCardView=i.VCardRightView.extend({events:{"click .btn-vcard-refresh":"refresh","click .info-hover":"onClickIcon","click .info-wrap.more":"showVCard","click .btn-back":"hideVCard"},showVCard:function(){this.model.set("vcard_hidden",!1),this.$(".full-vcard-wrap").hideIf(this.model.get("vcard_hidden")),this.model.getVCard(()=>{this.updateName(),this.update()}),this.parent.$(".main-info").removeClass("fixed-scroll"),this.$(".vcard-header").css({width:i.right_contact_panel.$el.find(".details-panel-right").width()}),this.parent.scrollToTop(),this.parent.ps_container.length&&this.parent.ps_container.perfectScrollbar("destroy")},hideVCard:function(){this.model.set("vcard_hidden",!0),this.parent.ps_container.length&&this.parent.ps_container.perfectScrollbar(m.extend(this.parent.ps_settings||{},i.ps_settings)),this.scrollToTop(),this.onScroll(),this.parent.onScroll(),this.$(".full-vcard-wrap").hideIf(this.model.get("vcard_hidden"))},updateName:function(){this.$(".main-info .name-wrap").text(this.model.get("name")),this.model.get("name")==this.model.get("roster_name")?this.$(".main-info .name-wrap").removeClass("name-is-custom"):this.$(".main-info .name-wrap").addClass("name-is-custom")}}),i.ContactDetailsView=i.BasicView.extend({className:"details-panel contact-details-panel",template:o.contact_details,ps_selector:".panel-content-wrap",avatar_size:s.AVATAR_SIZES.CONTACT_DETAILS,events:{"click .btn-escape":"openChat","click .btn-chat":"openChat","click .btn-voice-call":"voiceCall","click .btn-add":"addContact","click .btn-delete":"deleteContact","click .btn-block":"blockContact","click .btn-qr-code":"showQRCode","click .btn-unblock":"unblockContact","click .btn-mute":"changeNotifications","click .btn-auth-request":"requestAuthorization","change .subscription-info-wrap input":"onChangedSubscription"},_initialize:function(){this.account=this.model.account,this.name_field=new i.ContactNameWidget({el:this.$(".name-wrap")[0],model:this.model}),this.resources_view=this.addChild("resources",i.ContactResourcesView,{model:this.model.resources,el:this.$(".resources-block-wrap")[0]}),this.vcard_view=this.addChild("vcard",i.ContactVCardView,{model:this.model,el:this.$(".vcard")[0]}),this.edit_groups_view=this.addChild("groups",i.ContactEditGroupsView,{el:this.$(".groups-block-wrap")[0]}),this.updateName(),this.updateStatus(),this.updateAvatar(),this.updateButtons(),this.model.on("change",this.update,this),i.on("change:video",this.updateJingleButtons,this),i.on("change:audio",this.updateJingleButtons,this)},render:function(){this.model.get("vcard_updated")||this.vcard_view.refresh();this.$(".main-info .dropdown-button").dropdown({inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"right"}),this.updateSubscriptions(),this.updateJingleButtons(),this.updateStatusMsg(),this.updateName(),this.setButtonsWidth(),this.model.resources.models.forEach(e=>{this.model.resources.requestInfo(e)})},setButtonsWidth:function(){let e=[];this.$(".main-info .button-wrap").each((t,a)=>{e.push(a.clientWidth)}),this.$(".main-info .button-wrap").css("width",`${a.apply(null,e)}px`)},onChangedVisibility:function(){this.model.set("display",this.isVisible())},updateJingleButtons:function(){this.$(".btn-voice-call").switchClass("non-active",!i.get("audio"))},update:function(){let e=this.model.changed;m.has(e,"name")&&this.updateName(),m.has(e,"image")&&this.updateAvatar(),m.has(e,"status_updated")&&this.updateStatus(),m.has(e,"subscription")&&this.updateSubscriptions(),m.has(e,"subscription_request_in")&&this.updateSubscriptions(),m.has(e,"blocked")&&this.updateStatusMsg(),m.has(e,"status_message")&&this.updateStatusMsg(),(m.has(e,"in_roster")||m.has(e,"blocked")||m.has(e,"subscription"))&&this.updateButtons()},updateName:function(){this.$(".main-info .contact-name").text(this.model.get("name")),this.model.get("name")==this.model.get("roster_name")?this.$(".main-info .contact-name").removeClass("name-is-custom"):this.$(".main-info .contact-name").addClass("name-is-custom")},updateStatus:function(){this.$(".main-info .status").attr("data-status",this.model.get("status")),this.$(".main-info .status-message").text(this.model.getStatusMessage())},updateStatusMsg:function(){this.$(".main-info .status-message").text(this.model.getStatusMessage())},updateAvatar:function(){let e=this.model.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)},updateButtons:function(){let e=this.model.get("in_roster"),t=this.model.get("blocked"),a=this.model.get("server"),n=this.model.get("subscription");this.$(".btn-add").hideIf(e),this.$(".btn-delete").showIf(e),this.$(".btn-block-wrap i").switchClass("btn-block",!t).switchClass("btn-unblock",t),this.$(".btn-block-wrap .btn-name").text(t?i.getString("contact_bar_unblock"):i.getString("contact_bar_block")),this.$(".buttons-wrap .button-wrap:not(.btn-block-wrap)").switchClass("non-active",t),this.$(".btn-auth-request").showIf(!a&&e&&!t&&"both"!==n&&"to"!==n)},showQRCode:function(){let e=new VanillaQR({url:"xmpp:"+this.model.get("jid"),noBorder:!0});d.dialogs.ask(i.getString("dialog_show_qr_code__header"),null,{escape_button:!0,canvas:e.domElement,bottom_text:"<div class=\"name\">"+this.model.get("name")+"</div><div class=\"jid\">"+this.model.get("jid")+"</div>"},{cancel_button_text:" ",ok_button_text:" "},"hidden").done(()=>{})},updateSubscriptions:function(){let e=this.model.get("subscription"),t=this.model.get("subscription_request_in"),a=this.model.get("subscription_request_out"),n=this.$("label[for=\"outcoming-subscription\"]"),s=this.$("label[for=\"incoming-subscription\"]");"both"===e?(s.text(i.getString("contact_subscription_send")).prev("input").prop("checked",!0),n.text(i.getString("contact_subscription_receive")).prev("input").prop("checked",!0)):"from"===e?(s.text(i.getString("contact_subscription_send")).prev("input").prop("checked",!0),n.text(i.getString("contact_subscription_ask")).prev("input").prop("checked",!1)):"to"===e?(s.text(i.getString("contact_subscription_accept")).prev("input").prop("checked",!!this.model.get("subscription_preapproved")),n.text(i.getString("contact_subscription_receive")).prev("input").prop("checked",!0)):!e&&(s.text(i.getString("contact_subscription_accept")).prev("input").prop("checked",!!this.model.get("subscription_preapproved")),n.text(i.getString("contact_subscription_ask")).prev("input").prop("checked",!1)),t&&"both"!==e&&s.text(i.getString("contact_subscription_send")).prev("input").prop("checked",!1),a&&n.text(i.getString("contact_subscription_ask")).prev("input").prop("checked",!0)},onChangedSubscription:function(e){let t=this.model,a=r(e.target),i=a.prop("checked");i?"outcoming-subscription"===a.attr("id")?t.askRequest():(t.set("subscription_preapproved",!0),t.acceptRequest()):"outcoming-subscription"===a.attr("id")?t.declineSubscription():t.declineSubscribe()},openChat:function(e){if(!(e&&(r(e.target).closest(".button-wrap").hasClass("non-active")||r(e.target).closest(".button-wrap").length&&this.model.get("blocked")))){let e={};i.chats_view.active_chat&&i.chats_view.active_chat.model.get("jid")===this.model.get("jid")&&i.chats_view.active_chat.model.get("encrypted")&&(e.encrypted=!0),this.model.trigger("open_chat",this.model,e)}},voiceCall:function(e){r(e.target).closest(".button-wrap").hasClass("non-active")||this.model.get("blocked")||i.get("audio")&&this.initCall(e)},initCall:function(){if(i.current_voip_call)return void d.callback_popup_message(i.getString("jingle__error__call_in_progress"),1e3);this.openChat();let e=this.account.chats.getChat(this.model);e.item_view.content||(e.item_view.content=new i.ChatContentView({chat_item:e.item_view})),e.item_view.content.initJingleMessage()},deleteContact:function(){this.model.deleteWithDialog()},blockContact:function(){this.model.blockWithDialog()},unblockContact:function(){this.model.unblockWithDialog()},changeNotifications:function(e){if(!(r(e.target).closest(".button-wrap").hasClass("non-active")||this.model.get("blocked"))){let e=this.account.chats.getChat(this.model);e.muteChat()}},addContact:function(){i.add_contact_view.show({account:this.account,jid:this.model.get("jid")})},requestAuthorization:function(){this.model.pres("subscribe"),this.model.trigger("presence",this.model,"subscribe_from"),this.openChat()}}),i.ContactDetailsViewRight=i.ContactDetailsView.extend({className:"details-panel-right contact-details-panel",template:o.contact_details_right,avatar_size:s.AVATAR_SIZES.CONTACT_DETAILS,events:{"click .btn-escape:not(.btn-top)":"openChat","click .btn-escape.btn-top":"scrollToTopSmooth","click .btn-edit":"showEdit","click .btn-chat":"openChat","click .panel-background-clickable":"openChat","click .btn-search":"showSearchMessages","click .btn-voice-call":"voiceCall","click .btn-add":"addContact","click .btn-delete":"deleteContact","click .btn-block":"blockContact","click .btn-qr-code":"showQRCode","click .btn-unblock":"unblockContact","click .btn-mute-dropdown":"muteChat","click .btn-mute.muted":"unmuteChat","click .list-variant":"changeList","click .btn-auth-request":"requestAuthorization"},_initialize:function(e){this.encrypted=e.encrypted,this.ps_container=this.$(".panel-content-wrap"),this.account=this.model.account,this.chat=this.account.chats.getChat(this.model,e.encrypted&&"encrypted"),this.name_field=new i.ContactNameWidget({el:this.$(".name-wrap")[0],model:this.model}),this.name_field.$(".contact-name-input").prop("disabled",!0),this.encrypted||(this.contact_edit_view=this.addChild("edit",i.ContactEditView,{model:this.model,el:this.$(".edit-block-wrap")[0]}),this.contact_searched_messages_view=this.addChild("search",i.ContactSearchedMessagesView,{model:this.account.chats.getChat(this.model),query_text:"1",el:this.$(".search-messages-block-wrap")[0]})),this.vcard_view=this.addChild("vcard",i.ContactRightVCardView,{model:this.model,el:this.$(".vcard")[0]}),this.edit_groups_view=this.addChild("groups",i.ContactEditGroupsView,{el:this.$(".groups-block-wrap")[0]}),this.updateName(),this.updateStatus(),this.updateAvatar(),this.updateButtons(),this.updateColorScheme(),this.account.settings.on("change:color",this.updateColorScheme,this),this.ps_container.on("ps-scroll-up ps-scroll-down",this.onScroll.bind(this)),this.model.on("change",this.update,this),this.chat.on("change:muted",this.updateNotifications,this),i.on("change:video",this.updateJingleButtons,this),i.on("change:audio",this.updateJingleButtons,this)},render:function(){this.model.get("vcard_updated")||this.vcard_view.refresh(),this.model.get("saved_search_panel")?this.ps_container.perfectScrollbar("destroy"):this.ps_container.length&&this.ps_container.perfectScrollbar(m.extend(this.ps_settings||{},i.ps_settings)),this.$(".btn-mute").dropdown({inDuration:100,outDuration:100,hover:!1}),this.encrypted&&(this.$(".btn-search-messages").remove(),this.$(".btn-edit").remove(),this.$(".btn-qr-code").remove()),this.updateChilds(),this.updateSubscriptions(),this.updateJingleButtons(),this.updateStatusMsg(),this.updateName(),this.updateNotifications(),this.setButtonsWidth(),this.updateList("media"),i.once("update_css",this.updateIndicator,this),this.onScroll(),this.model.resources.models.forEach(e=>{this.model.resources.requestInfo(e)}),r(window).bind("keydown.contact_panel",this.keydownHandler.bind(this))},updateChilds:function(){this.vcard_view&&!this.model.get("vcard_hidden")&&this.vcard_view.hideVCard(),this.contact_edit_view&&!this.model.get("edit_hidden")&&this.contact_edit_view.hideEdit()},updateIndicator:function(){this.$(".tabs .indicator").remove(),this.$(".tabs").tabs(),this.$(".indicator").addClass("ground-color-500")},keydownHandler:function(e){i.body.$el.siblings(".mfp-ready").length||r.magnificPopup.instance.isOpen||e.keyCode!==s.KEY_ESCAPE||i.body.$el.siblings("#modals").children(".open").length||(this.model.showDetailsRight("all-chats"),r(window).unbind("keydown.contact_panel"))},openChat:function(){this.model.showDetailsRight("all-chats")},updateColorScheme:function(){this.$el.attr("data-color",this.account.settings.get("color"))},scrollToTopSmooth:function(){this.ps_container.animate({scrollTop:0},400,()=>{this.onScroll()})},setButtonsWidth:function(){let e=[];this.$(".main-info .button-wrap").each((t,a)=>{e.push(a.clientWidth)}),this.$(".main-info .button-wrap").css("width",`${a.apply(null,e)}px`)},onChangedVisibility:function(){this.model.set("display",this.isVisible())},updateJingleButtons:function(){this.$(".btn-voice-call").switchClass("non-active",!i.get("audio"))},update:function(){let e=this.model.changed;m.has(e,"name")&&this.updateName(),m.has(e,"image")&&this.updateAvatar(),m.has(e,"status_updated")&&this.updateStatus(),m.has(e,"subscription")&&this.updateSubscriptions(),m.has(e,"subscription_request_in")&&this.updateSubscriptions(),m.has(e,"blocked")&&this.updateStatusMsg(),m.has(e,"status_message")&&this.updateStatusMsg(),(m.has(e,"in_roster")||m.has(e,"blocked")||m.has(e,"subscription"))&&this.updateButtons()},updateName:function(){this.$(".main-info .name-wrap").text(this.model.get("name")),this.model.get("roster_name")&&this.model.get("name")!=this.model.get("roster_name")?this.$(".main-info .name-wrap").addClass("name-is-custom"):this.$(".main-info .name-wrap").removeClass("name-is-custom")},onScroll:function(){if(this.model.get("saved_search_panel")&&!this.model.get("search_hidden"))return this.ps_container.perfectScrollbar("destroy"),!0;let e;this.$(".bottom-block:not(.edit-bottom-block)")&&(e=this.$(".bottom-block:not(.edit-bottom-block)").get(0).getBoundingClientRect().top),200<=this.ps_container[0].scrollTop?(this.$(".header-buttons").css({"background-color":"rgba(255,255,255,1)"}),this.$(".main-info").addClass("fixed-scroll"),this.$(".main-info").css({width:i.right_contact_panel.$el.find(".details-panel-right").width()}),this.$(".block-wrap.vcard").css({"padding-top":"340px"}),this.$(".main-info .block-name:not(.second-text)").removeClass("fade-out"),this.$(".main-info .block-name.second-text").addClass("fade-out")):40<=this.ps_container[0].scrollTop?(this.$(".header-buttons").css({"background-color":"rgba(255,255,255,0.5)"}),this.$(".main-info").removeClass("fixed-scroll"),this.$(".block-wrap.vcard").css({"padding-top":"0"}),this.$(".main-info .block-name").addClass("fade-out")):(this.$(".header-buttons").css({"background-color":"rgba(255,255,255,0)"}),this.$(".main-info").removeClass("fixed-scroll"),this.$(".block-wrap.vcard").css({"padding-top":"0"}),this.$(".main-info .block-name").addClass("fade-out")),e&&150>e?(this.$(".bottom-block:not(.edit-bottom-block) .tabs").addClass("fixed-scroll"),this.$(".btn-escape").addClass("btn-top"),this.$(".btn-escape i").addClass("mdi-arrow-right").removeClass("mdi-close"),this.$(".bottom-block:not(.edit-bottom-block) .participants-search-form").addClass("fixed-scroll"),this.$(".buttons-wrap").hideIf(!0),this.$(".btn-edit").hideIf(!0),this.$(".btn-qr-code").hideIf(!0),this.$(".main-info .block-name:not(.second-text)").addClass("fade-out"),this.$(".main-info .block-name.second-text").removeClass("fade-out"),this.$(".main-info .block-name.second-text").text(this.$(".list-variant .active").text())):(this.$(".btn-escape").removeClass("btn-top"),this.$(".btn-escape i").addClass("mdi-close").removeClass("mdi-arrow-right"),this.$(".bottom-block:not(.edit-bottom-block) .tabs").removeClass("fixed-scroll"),this.$(".bottom-block:not(.edit-bottom-block) .participants-search-form").removeClass("fixed-scroll"),this.$(".buttons-wrap").hideIf(!1),this.$(".btn-edit").hideIf(!1),this.$(".btn-qr-code").hideIf(!1))},updateStatus:function(){this.$(".main-info .status").attr("data-status",this.model.get("status")),this.$(".main-info .status-message").text(this.model.getStatusMessage())},updateStatusMsg:function(){this.$(".main-info .status-message").text(this.model.getStatusMessage())},updateAvatar:function(){let e=this.model.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)},updateButtons:function(){let e=this.model.get("in_roster"),t=this.model.get("blocked"),a=this.model.get("server"),n=this.model.get("subscription");this.$(".btn-add").hideIf(e),this.$(".btn-block-wrap .contact-btn").switchClass("btn-block",!t).switchClass("btn-unblock",t),this.$(".btn-block-wrap .btn-name").text(t?i.getString("contact_bar_unblock"):i.getString("contact_bar_block")),this.$(".buttons-wrap .button-wrap:not(.btn-block-wrap):not(.btn-search-messages)").switchClass("non-active",t),this.$(".contact-mute-dropdown").hideIf(t),this.$(".btn-auth-request").showIf(!a&&e&&!t&&"both"!==n&&"to"!==n)},updateNotifications:function(){this.chat.isMuted()?(48e8<this.chat.isMuted()?this.$(".btn-mute").html(n.templates.svg["bell-off"]()):this.$(".btn-mute").html(n.templates.svg["bell-sleep"]()),this.$(".btn-mute").addClass("muted").addClass("active")):(this.$(".btn-mute").html(n.templates.svg.bell()),this.$(".btn-mute").removeClass("muted")),this.$(".btn-mute-dropdown").hideIf(this.chat.isMuted()),this.$(".btn-unmute-dropdown").hideIf(!this.chat.isMuted())},showQRCode:function(){let e=new VanillaQR({url:"xmpp:"+this.model.get("jid"),noBorder:!0});d.dialogs.ask(i.getString("dialog_show_qr_code__header"),null,{escape_button:!0,canvas:e.domElement,bottom_text:"<div class=\"name\">"+this.model.get("name")+"</div><div class=\"jid\">"+this.model.get("jid")+"</div>"},{cancel_button_text:" ",ok_button_text:" "},"hidden").done(()=>{})},updateSubscriptions:function(){let e=this.model.get("subscription"),t=this.model.get("subscription_request_in"),a=this.model.get("subscription_request_out"),n=this.$("label[for=\"outcoming-subscription\"]"),s=this.$("label[for=\"incoming-subscription\"]");"both"===e?(s.text(i.getString("contact_subscription_send")).prev("input").prop("checked",!0),n.text(i.getString("contact_subscription_receive")).prev("input").prop("checked",!0)):"from"===e?(s.text(i.getString("contact_subscription_send")).prev("input").prop("checked",!0),n.text(i.getString("contact_subscription_ask")).prev("input").prop("checked",!1)):"to"===e?(s.text(i.getString("contact_subscription_accept")).prev("input").prop("checked",!!this.model.get("subscription_preapproved")),n.text(i.getString("contact_subscription_receive")).prev("input").prop("checked",!0)):!e&&(s.text(i.getString("contact_subscription_accept")).prev("input").prop("checked",!!this.model.get("subscription_preapproved")),n.text(i.getString("contact_subscription_ask")).prev("input").prop("checked",!1)),t&&"both"!==e&&s.text(i.getString("contact_subscription_send")).prev("input").prop("checked",!1),a&&n.text(i.getString("contact_subscription_ask")).prev("input").prop("checked",!0)},showEdit:function(){this.contact_edit_view.showEdit()},voiceCall:function(e){r(e.target).closest(".button-wrap").hasClass("non-active")||this.model.get("blocked")||i.get("audio")&&this.initCall(e)},initCall:function(){if(i.current_voip_call)return void d.callback_popup_message(i.getString("jingle__error__call_in_progress"),1e3);let e=this.account.chats.getChat(this.model);e.item_view.content||(e.item_view.content=new i.ChatContentView({chat_item:e.item_view})),e.item_view.content.initJingleMessage()},deleteContact:function(){this.model.deleteWithDialog()},blockContact:function(){this.model.blockWithDialog()},unblockContact:function(){this.model.unblockWithDialog()},muteChat:function(e){if(this.model.get("blocked"))return;let t=r(e.target).closest(".btn-mute-dropdown").data("mute"),a;"minutes15"===t&&(a=900),"hours1"===t&&(a=3600),"hours2"===t&&(a=7200),"day"===t&&(a=86400),"forever"===t&&(a=0),this.chat.muteChat(a)},unmuteChat:function(){this.model.get("blocked")||this.chat.muteChat("")},showSearchMessages:function(){this.scrollToTop(),this.ps_container.length&&this.ps_container.perfectScrollbar("destroy"),this.model.set("search_hidden",!1),this.$(".search-wrap").hideIf(this.model.get("search_hidden")),this.contact_searched_messages_view.$search_form.find("input").focus()},addContact:function(){i.add_contact_view.show({account:this.account,jid:this.model.get("jid")})},changeList:function(e){let t=r(e.target).closest(".list-variant"),a=t.data("value");this.$(".tabs").animate({scrollLeft:t.position().left},400),this.ps_container.animate({scrollTop:this.$(".bottom-block:not(.edit-bottom-block)").position().top+this.ps_container.scrollTop()-110},200,()=>{this.onScroll(),this.ps_container.animate({scrollTop:this.$(".bottom-block:not(.edit-bottom-block)").position().top+this.ps_container.scrollTop()-110},0)}),this.$(".header-buttons .block-name.second-text").text(t.text()),this.updateList(a)},updateList:function(e){let t=this.child(e);t||(t=this.addList(e)),t&&(this.$(".tabs .list-variant a").removeClass("active"),this.$(".tabs .list-variant[data-value=\""+e+"\"] a").addClass("active"),t._render())},addList:function(e){let t;return"media"===e?t=i.MediaView:"files"===e?t=i.FilesView:"links"===e?t=i.FilesView:"voice"===e?t=i.FilesView:"blocked"===e?t=i.BlockedView:"invitations"===e?t=i.InvitationsView:void 0,t?this.addChild(e,t,{model:this.model,el:this.$(".participants-wrap")[0]}):void 0},requestAuthorization:function(){this.model.pres("subscribe"),this.model.trigger("presence",this.model,"subscribe_from"),this.openChat()}}),i.GroupChatDetailsView=i.BasicView.extend({className:"details-panel groupchat-details-panel",template:o.group_chats.group_chat_details,ps_selector:".panel-content-wrap",avatar_size:s.AVATAR_SIZES.CONTACT_DETAILS,member_avatar_size:s.AVATAR_SIZES.GROUPCHAT_MEMBER_ITEM,events:{"click .btn-mute":"changeNotifications","click .btn-qr-code":"showQRCode","click .btn-leave":"leaveGroupChat","click .btn-invite":"inviteUser","click .btn-delete-group":"deleteGroup","click .btn-edit-settings":"editProperties","click .btn-default-restrictions":"editDefaultRestrictions","click .btn-chat":"openChat","click .btn-escape":"openChat","click .btn-clear-history":"retractAllMessages","change .circle-avatar input":"changeAvatar","click .list-variant":"changeList"},_initialize:function(){this.account=this.model.account,this.name_field=new i.ContactNameWidget({el:this.$(".name-wrap")[0],model:this.model}),this.participants=this.addChild("participants",i.ParticipantsView,{model:this.model,el:this.$(".participants-wrap")[0]}),this.edit_groups_view=this.addChild("groups",i.ContactEditGroupsView,{el:this.$(".groups-block-wrap")[0]}),this.group_chat_properties=this.addChild("properties_view",i.GroupChatPropertiesView,{model:this.model,el:this.$(".group-chat-properties-wrap")[0]}),this.group_chat_status=this.addChild("status_view",i.GroupChatStatusView,{model:this.model,el:this.$(".status-block-wrap")[0]}),this.group_chat_properties_edit=new i.GroupChatPropertiesEditView({model:this.model}),this.default_restrictions_edit=new i.DefaultRestrictionsView({model:this.model}),this.updateName(),this.updateStatus(),this.updateAvatar(),this.updateColorScheme(),this.account.settings.on("change:color",this.updateColorScheme,this),this.model.on("change",this.update,this),this.model.on("permissions_changed",this.updateButtons,this),this.model.on("change:subscription",this.updateButtons,this)},render:function(){this.updateName(),this.updateButtons(),this.model.my_rights||this.model.getMyInfo(()=>{this.updateButtons()}),this.$(".btn-delete").showIf("both"===this.model.get("subscription")),this.$(".btn-join").showIf("both"!==this.model.get("subscription"));let e={inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"right"};return this.$(".select-users-list-wrap .dropdown-button").dropdown(e),this.$(".main-info .dropdown-button").dropdown(e),this.updateList("participants"),this.$(".tabs .indicator").remove(),this.$(".tabs").tabs(),this.$(".indicator").addClass("ground-color-500"),this.setButtonsWidth(),this},update:function(){let e=this.model.changed;m.has(e,"name")&&this.updateName(),m.has(e,"image")&&this.updateAvatar(),(m.has(e,"status_updated")||m.has(e,"status_message"))&&this.updateStatus()},updateColorScheme:function(){this.$el.attr("data-color",this.account.settings.get("color"))},setButtonsWidth:function(){let e=[];this.$(".main-info .button-wrap").each((t,a)=>{e.push(a.clientWidth)}),this.$(".main-info .button-wrap").css("width",`${a.apply(null,e)}px`)},updateButtons:function(){let e=this.model.my_rights&&this.model.my_rights.fields.find(e=>"owner"==e.var&&e.values),t=this.model.my_rights&&this.model.my_rights.fields.find(e=>"change-group"==e.var&&e.values),a=this.model.get("blocked");this.$(".btn-settings-wrap").switchClass("non-active",!e),this.$(".btn-edit-settings").switchClass("hidden",!(e||t)),this.$(".btn-leave-wrap").switchClass("non-active","both"!=this.model.get("subscription")),this.$(".btn-invite-wrap").switchClass("non-active",this.model.get("private_chat")||"both"!=this.model.get("subscription")),this.$(".btn-default-restrictions-wrap").switchClass("non-active",!e),this.$(".btn-block").hideIf(a),this.$(".btn-unblock").showIf(a)},updateName:function(){this.$(".main-info .contact-name").text(this.model.get("name")),this.model.get("name")==this.model.get("roster_name")?this.$(".main-info .contact-name").removeClass("name-is-custom"):this.$(".main-info .contact-name").addClass("name-is-custom")},changeNotifications:function(e){if(!(r(e.target).closest(".button-wrap").hasClass("non-active")||this.model.get("blocked"))){let e=this.account.chats.getChat(this.model);e.muteChat()}},showQRCode:function(){let e=new VanillaQR({url:"xmpp:"+this.model.get("jid"),noBorder:!0});d.dialogs.ask(i.getString("dialog_show_qr_code__header"),null,{escape_button:!0,canvas:e.domElement,bottom_text:"<div class=\"name\">"+this.model.get("name")+"</div><div class=\"jid\">"+this.model.get("jid")+"</div>"},{cancel_button_text:" ",ok_button_text:" "},"hidden").done(()=>{})},editProperties:function(e){if(!r(e.target).closest(".button-wrap").hasClass("non-active")){let e=c({to:this.model.get("full_jid")||this.model.get("jid"),type:"get"}).c("query",{xmlns:p.NS.GROUP_CHAT});this.account.sendIQ(e,e=>{let t=this.account.parseDataForm(r(e).find(`x[xmlns="${p.NS.DATAFORM}"]`));this.group_chat_properties_edit.open(t)},()=>{d.callback_popup_message(i.getString("groupchat_you_have_no_permissions_to_do_it"),3e3)})}},editDefaultRestrictions:function(e){r(e.target).closest(".button-wrap").hasClass("non-active")||this.default_restrictions_edit.open()},leaveGroupChat:function(e){if(r(e.target).closest(".button-wrap").hasClass("non-active"))return;let t=this.model;d.dialogs.ask(i.getString("groupchat_leave_full"),i.getString("groupchat_leave_confirm",[t.get("name")]),null,{ok_button_text:i.getString("groupchat_leave")}).done(e=>{if(e){t.declineSubscription(),t.removeFromRoster();let e=this.account.chats.getChat(t);e.deleteFromSynchronization(()=>{e.trigger("close_chat"),i.body.setScreen("all-chats",{right:void 0})},()=>{e.trigger("close_chat"),i.body.setScreen("all-chats",{right:void 0})})}})},inviteUser:function(e){r(e.target).closest(".button-wrap").hasClass("non-active")||(!i.invite_panel&&(i.invite_panel=new i.InvitationPanelView({model:i.opened_chats})),i.invite_panel.open(this.account,this.model))},changeList:function(e){let t=r(e.target).closest(".list-variant"),a=t.data("value");this.updateList(a)},updateList:function(e){let t=this.child(e);t||(t=this.addList(e)),t&&(this.$(".tabs .list-variant a").removeClass("active"),this.$(".tabs .list-variant[data-value=\""+e+"\"] a").addClass("active"),t._render())},addList:function(e){let t;return"blocked"===e?t=i.BlockedView:"invitations"===e?t=i.InvitationsView:void 0,t?this.addChild(e,t,{model:this.model,el:this.$(".participants-wrap")[0]}):void 0},getInvitations:function(e,t){let a=c({type:"get",to:this.model.get("full_jid")||this.model.get("jid")}).c("query",{xmlns:p.NS.GROUP_CHAT+"#invite"});this.account.sendFast(a,e,t)},deleteGroup:function(){this.model.deleteWithDialog()},blockContact:function(){this.model.blockWithDialog()},unblockContact:function(){this.model.unblockWithDialog()},updateStatus:function(){this.$(".main-info .status-message").text(this.model.getStatusMessage())},updateAvatar:function(){let e=this.model.cached_image;this.$(".main-info .circle-avatar").setAvatar(e,this.avatar_size)},openChat:function(){this.model.trigger("open_chat",this.model)},changeAvatar:function(e){let t=e.target;if(!t.files.length)return;let a=t.files[0];return(t.value="",a.size>s.MAX_AVATAR_FILE_SIZE)?void d.dialogs.error(i.getString("group_settings__error__avatar_too_large")):a.type.startsWith("image")?void(r(t).siblings(".preloader-wrap").addClass("visible").find(".preloader-wrapper").addClass("active"),d.images.getAvatarFromFile(a).done(e=>{e&&(a.base64=e,this.model.pubAvatar(a,"",function(){r(t).siblings(".preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active")},function(e){r(t).siblings(".preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active");let a=r(e).find("text").text()||i.getString("groupchat_you_have_no_permissions_to_do_it");d.dialogs.error(a)}))})):void d.dialogs.error(i.getString("group_settings__error__wrong_image"))},retractAllMessages:function(){let e=this.account.chats.getChat(this.model);d.dialogs.ask(i.getString("delete_messages__header"),i.getString("delete_messages__confirm"),null,{ok_button_text:i.getString("delete")}).done(t=>{t&&e.retractAllMessages(!0)})}}),i.GroupChatDetailsViewRight=i.BasicView.extend({className:"details-panel-right groupchat-details-panel",template:o.group_chats.group_chat_details_right,ps_selector:".panel-content-wrap",avatar_size:s.AVATAR_SIZES.CONTACT_DETAILS,member_avatar_size:s.AVATAR_SIZES.GROUPCHAT_MEMBER_ITEM,events:{"click .btn-mute-dropdown":"muteChat","click .btn-mute.muted":"unmuteChat","click .btn-edit":"showEdit","click .btn-search":"showSearchMessages","click .btn-clear-history-chat":"clearHistory","click .btn-qr-code":"showQRCode","click .btn-leave":"leaveGroupChat","click .btn-invite":"inviteUser","click .btn-delete-group":"deleteGroup","click .btn-edit-settings":"editProperties","click .btn-default-restrictions":"showRestrictions","click .btn-chat":"openChat","click .panel-background-clickable":"openChat","click .btn-escape:not(.btn-top)":"openChat","click .btn-escape.btn-top":"scrollToTopSmooth","click .btn-clear-history":"retractAllMessages","change .circle-avatar input":"changeAvatar","click .tabs:not(.participant-tabs) .list-variant":"changeList","click .edit-pictured-buttons .list-variant":"changeList"},_initialize:function(){this.account=this.model.account,this.chat=this.account.chats.getChat(this.model),this.name_field=new i.ContactNameWidget({el:this.$(".name-wrap")[0],model:this.model}),this.name_field.$(".contact-name-input").prop("disabled",!0),this.participants=this.addChild("participants",i.ParticipantsViewRight,{model:this.model,el:this.$(".participants-wrap")[0]}),this.edit_groups_view=this.addChild("groups",i.ContactEditGroupsView,{el:this.$(".groups-block-wrap")[0]}),this.contact_edit_view=this.addChild("edit",i.GroupEditView,{model:this.model,el:this.$(".edit-block-wrap")[0]}),this.group_chat_properties=this.addChild("properties_view",i.GroupChatPropertiesViewRight,{model:this.model,el:this.$(".group-chat-properties-wrap")[0]}),this.group_chat_status=this.addChild("status_view",i.GroupChatStatusViewRight,{model:this.model,el:this.$(".status-block-wrap")[0]}),this.contact_searched_messages_view=this.addChild("search",i.ContactSearchedMessagesView,{model:this.account.chats.getChat(this.model),query_text:"1",el:this.$(".search-messages-block-wrap")[0]}),this.group_chat_properties_edit=new i.GroupChatPropertiesEditView({model:this.model}),this.default_restrictions_edit_right=this.addChild("restrictions",i.DefaultRestrictionsRightView,{model:this.model,el:this.$(".restrictions-block-wrap")[0]}),this.updateName(),this.updateStatus(),this.updateAvatar(),this.updateColorScheme(),this.ps_container.on("ps-scroll-up ps-scroll-down",this.onScroll.bind(this)),this.account.settings.on("change:color",this.updateColorScheme,this),this.model.on("change",this.update,this),this.chat.on("change:muted",this.updateNotifications,this),this.model.on("permissions_changed",this.updateButtons,this),this.model.on("change:subscription",this.updateButtons,this)},render:function(){this.updateName(),this.updateButtons(),this.model.my_rights||this.model.getMyInfo(()=>{this.updateButtons()}),this.model.get("saved_search_panel")?this.ps_container.perfectScrollbar("destroy"):this.ps_container.length&&this.ps_container.perfectScrollbar(m.extend(this.ps_settings||{},i.ps_settings)),this.$(".btn-mute").dropdown({inDuration:100,outDuration:100,hover:!1}),this.$(".btn-delete").showIf("both"===this.model.get("subscription")),this.$(".btn-join").showIf("both"!==this.model.get("subscription"));let e={inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"right"};return this.$(".select-users-list-wrap .dropdown-button").dropdown(e),this.$(".main-info .dropdown-button").dropdown(e),this.onScroll(),this.updateChilds(),this.updateNotifications(),this.updateList("participants"),this.setButtonsWidth(),i.once("update_css",this.updateIndicator,this),r(window).bind("keydown.contact_panel",this.keydownHandler.bind(this)),this},updateIndicator:function(){this.$(".tabs.not-edit .indicator").remove(),this.$(".tabs.not-edit").tabs(),this.$(".tabs.not-edit .indicator").addClass("ground-color-500")},updateChilds:function(){this.model.get("vcard_hidden")||this.group_chat_properties.hideVCard(),this.model.get("edit_hidden")||this.contact_edit_view.hideEdit(),this.model.get("restrictions_hidden")||this.default_restrictions_edit_right.hideRestrictions(),this.model.set("participant_hidden",!0),this.$(".participant-details-wrap").hideIf(this.model.get("participant_hidden"))},showEdit:function(){this.contact_edit_view.showEdit()},showRestrictions:function(){this.default_restrictions_edit_right.showRestrictions()},hideRestrictions:function(){this.model.set("restrictions_hidden",!0),this.$(".restrictions-wrap").hideIf(this.model.get("restrictions_hidden")),this.showEdit()},keydownHandler:function(e){i.body.$el.siblings(".mfp-ready").length||r.magnificPopup.instance.isOpen||e.keyCode!==s.KEY_ESCAPE||i.body.$el.siblings("#modals").children(".open").length||(this.model.showDetailsRight("all-chats"),r(window).unbind("keydown.contact_panel"))},updateNotifications:function(){this.chat.isMuted()?(48e8<this.chat.isMuted()?this.$(".btn-mute").html(n.templates.svg["bell-off"]()):this.$(".btn-mute").html(n.templates.svg["bell-sleep"]()),this.$(".btn-mute").addClass("muted").addClass("active")):(this.$(".btn-mute").html(n.templates.svg.bell()),this.$(".btn-mute").removeClass("muted")),this.$(".btn-mute-dropdown").hideIf(this.chat.isMuted())},update:function(){let e=this.model.changed;m.has(e,"name")&&this.updateName(),m.has(e,"image")&&this.updateAvatar(),(m.has(e,"status_updated")||m.has(e,"status_message"))&&this.updateStatus()},updateColorScheme:function(){this.$el.attr("data-color",this.account.settings.get("color"))},setButtonsWidth:function(){let e=[];this.$(".main-info .button-wrap").each((t,a)=>{e.push(a.clientWidth)}),this.$(".main-info .button-wrap").css("width",`${a.apply(null,e)}px`)},updateButtons:function(){let e=this.model.my_rights&&this.model.my_rights.fields.find(e=>"owner"==e.var&&e.values),t=this.model.my_rights&&this.model.my_rights.fields.find(e=>"change-group"==e.var&&e.values),a=this.model.get("blocked");this.$(".btn-settings-wrap").switchClass("non-active",!e),this.$(".btn-edit-settings").switchClass("hidden",!(e||t)),this.$(".btn-leave-wrap").switchClass("non-active","both"!=this.model.get("subscription")),this.$(".btn-invite-wrap").switchClass("non-active",this.model.get("private_chat")||"both"!=this.model.get("subscription")),this.$(".btn-default-restrictions-wrap").switchClass("non-active",!e),this.$(".btn-block").hideIf(a),this.$(".btn-unblock").showIf(a)},updateName:function(){this.$(".main-info .contact-name").text(this.model.get("name"))},muteChat:function(e){if(this.model.get("blocked"))return;let t=r(e.target).closest(".btn-mute-dropdown").data("mute"),a;"minutes15"===t&&(a=900),"hours1"===t&&(a=3600),"hours2"===t&&(a=7200),"day"===t&&(a=86400),"forever"===t&&(a=0),this.chat.muteChat(a)},unmuteChat:function(){this.model.get("blocked")||this.chat.muteChat("")},showSearchMessages:function(){this.scrollToTop(),this.ps_container.length&&this.ps_container.perfectScrollbar("destroy"),this.model.set("search_hidden",!1),this.$(".search-wrap").hideIf(this.model.get("search_hidden")),this.contact_searched_messages_view.$search_form.find("input").focus()},onScroll:function(){if(this.model.get("saved_search_panel")&&!this.model.get("search_hidden"))return this.ps_container.perfectScrollbar("destroy"),!0;let e;this.$(".bottom-block:not(.edit-bottom-block):not(.participant-bottom-block)")&&(e=this.$(".bottom-block:not(.edit-bottom-block):not(.participant-bottom-block)").get(0).getBoundingClientRect().top),200<=this.ps_container[0].scrollTop?(this.$(".header-buttons").css({"background-color":"rgba(255,255,255,1)"}),this.$(".main-info").addClass("fixed-scroll"),this.$(".main-info").css({width:i.right_contact_panel.$el.find(".details-panel-right").width()}),this.$(".block-wrap.vcard").css({"padding-top":"340px"}),this.$(".header-buttons .block-name:not(.second-text)").removeClass("fade-out"),this.$(".header-buttons .block-name.second-text").addClass("fade-out")):40<=this.ps_container[0].scrollTop?(this.$(".header-buttons").css({"background-color":"rgba(255,255,255,0.5)"}),this.$(".main-info").removeClass("fixed-scroll"),this.$(".block-wrap.vcard").css({"padding-top":"0"}),this.$(".header-buttons .block-name").addClass("fade-out")):(this.$(".header-buttons").css({"background-color":"rgba(255,255,255,0)"}),this.$(".main-info").removeClass("fixed-scroll"),this.$(".block-wrap.vcard").css({"padding-top":"0"}),this.$(".header-buttons .block-name").addClass("fade-out")),e&&150>e?(this.$(".bottom-block:not(.edit-bottom-block):not(.participant-bottom-block) .tabs").addClass("fixed-scroll"),this.$(".btn-escape").addClass("btn-top"),this.$(".btn-escape i").addClass("mdi-arrow-right").removeClass("mdi-close"),this.$(".bottom-block:not(.edit-bottom-block):not(.participant-bottom-block) .participants-search-form").addClass("fixed-scroll"),this.$(".main-info .buttons-wrap").hideIf(!0),this.$(".btn-edit").hideIf(!0),this.$(".btn-qr-code").hideIf(!0),this.$(".header-buttons .block-name:not(.second-text)").addClass("fade-out"),this.$(".header-buttons .block-name.second-text").removeClass("fade-out"),this.$(".header-buttons .block-name.second-text").text(this.$(".tabs:not(.participant-tabs) .list-variant .active").text())):(this.$(".btn-escape").removeClass("btn-top"),this.$(".btn-escape i").addClass("mdi-close").removeClass("mdi-arrow-right"),this.$(".bottom-block:not(.edit-bottom-block):not(.participant-bottom-block) .tabs").removeClass("fixed-scroll"),this.$(".bottom-block:not(.edit-bottom-block):not(.participant-bottom-block) .participants-search-form").removeClass("fixed-scroll"),this.$(".main-info .buttons-wrap").hideIf(!1),this.$(".btn-edit").hideIf(!1),this.$(".btn-qr-code").hideIf(!1))},clearHistory:function(){this.chat&&this.chat.item_view&&this.chat.item_view.content&&this.chat.item_view.content.head&&this.chat.item_view.content.head.clearHistory()},showQRCode:function(){let e=new VanillaQR({url:"xmpp:"+this.model.get("jid"),noBorder:!0});d.dialogs.ask(i.getString("dialog_show_qr_code__header"),null,{escape_button:!0,canvas:e.domElement,bottom_text:"<div class=\"name\">"+this.model.get("name")+"</div><div class=\"jid\">"+this.model.get("jid")+"</div>"},{cancel_button_text:" ",ok_button_text:" "},"hidden").done(()=>{})},editProperties:function(e){if(!r(e.target).closest(".button-wrap").hasClass("non-active")){let e=c({to:this.model.get("full_jid")||this.model.get("jid"),type:"get"}).c("query",{xmlns:p.NS.GROUP_CHAT});this.account.sendIQ(e,e=>{let t=this.account.parseDataForm(r(e).find(`x[xmlns="${p.NS.DATAFORM}"]`));this.group_chat_properties_edit.open(t)},()=>{d.callback_popup_message(i.getString("groupchat_you_have_no_permissions_to_do_it"),3e3)})}},leaveGroupChat:function(e){if(r(e.target).closest(".button-wrap").hasClass("non-active"))return;let t=this.model;d.dialogs.ask(i.getString("groupchat_leave_full"),i.getString("groupchat_leave_confirm",[t.get("name")]),null,{ok_button_text:i.getString("groupchat_leave")}).done(e=>{if(e){t.declineSubscription(),t.removeFromRoster();let e=this.account.chats.getChat(t);e.deleteFromSynchronization(()=>{this.model.showDetailsRight("all-chats"),e.trigger("close_chat"),i.body.setScreen("all-chats",{right:void 0})},()=>{this.model.showDetailsRight("all-chats"),e.trigger("close_chat"),i.body.setScreen("all-chats",{right:void 0})})}})},inviteUser:function(e){r(e.target).closest(".button-wrap").hasClass("non-active")||(!i.invite_panel&&(i.invite_panel=new i.InvitationPanelView({model:i.opened_chats})),i.invite_panel.open(this.account,this.model))},scrollToTopSmooth:function(){this.ps_container.animate({scrollTop:0},400,()=>{this.onScroll()})},changeList:function(e){let t=r(e.target).closest(".list-variant"),a=t.data("value");"blocked"!=a&&"invitations"!=a&&(this.$(".main-info .header-buttons .block-name.second-text").text(t.text()),this.$(".tabs").animate({scrollLeft:t.position().left-80},400),this.ps_container.animate({scrollTop:this.$(".bottom-block:not(.edit-bottom-block):not(.participant-bottom-block)").position().top+this.ps_container.scrollTop()-110},400,()=>{this.onScroll(),this.ps_container.animate({scrollTop:this.$(".bottom-block:not(.edit-bottom-block):not(.participant-bottom-block)").position().top+this.ps_container.scrollTop()-110},0)})),this.updateList(a)},updateList:function(e){let t=this.child(e);t||(t=this.addList(e)),t&&("invitations"===e||"blocked"===e?(this.$(".edit-wrap .tabs .list-variant a").removeClass("active"),this.$(".edit-wrap .tabs .list-variant[data-value=\""+e+"\"] a").addClass("active")):(this.$(".tabs.not-edit .list-variant a").removeClass("active"),this.$(".tabs.not-edit .list-variant[data-value=\""+e+"\"] a").addClass("active")),t._render())},addList:function(e){let t,a;return"media"===e?t=i.MediaView:"files"===e?t=i.FilesView:"links"===e?t=i.FilesView:"voice"===e?t=i.FilesView:"blocked"===e?(t=i.BlockedView,a=!0):"invitations"===e?(t=i.InvitationsView,a=!0):void 0,t&&a?this.addChild(e,t,{model:this.model,el:this.$(".participants-edit-wrap")[0]}):t?this.addChild(e,t,{model:this.model,el:this.$(".participants-wrap")[0]}):void 0},getInvitations:function(e,t){let a=c({type:"get",to:this.model.get("full_jid")||this.model.get("jid")}).c("query",{xmlns:p.NS.GROUP_CHAT+"#invite"});this.account.sendFast(a,e,t)},deleteGroup:function(){this.model.deleteWithDialog()},blockContact:function(){this.model.blockWithDialog()},unblockContact:function(){this.model.unblockWithDialog()},updateStatus:function(){this.$(".main-info .status-message").text(this.model.getStatusMessage())},updateAvatar:function(){let e=this.model.cached_image;this.$(".main-info .circle-avatar").setAvatar(e,this.avatar_size)},openChat:function(){this.model.showDetailsRight("all-chats")},changeAvatar:function(e){let t=e.target;if(!t.files.length)return;let a=t.files[0];return(t.value="",a.size>s.MAX_AVATAR_FILE_SIZE)?void d.dialogs.error(i.getString("group_settings__error__avatar_too_large")):a.type.startsWith("image")?void(r(t).siblings(".preloader-wrap").addClass("visible").find(".preloader-wrapper").addClass("active"),d.images.getAvatarFromFile(a).done(e=>{e&&(a.base64=e,this.model.pubAvatar(a,"",function(){r(t).siblings(".preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active")},function(e){r(t).siblings(".preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active");let a=r(e).find("text").text()||i.getString("groupchat_you_have_no_permissions_to_do_it");d.dialogs.error(a)}))})):void d.dialogs.error(i.getString("group_settings__error__wrong_image"))},retractAllMessages:function(){let e=this.account.chats.getChat(this.model);d.dialogs.ask(i.getString("delete_messages__header"),i.getString("delete_messages__confirm"),null,{ok_button_text:i.getString("delete")}).done(t=>{t&&e.retractAllMessages(!0)})}}),i.GroupChatStatusView=i.BasicView.extend({template:o.group_chats.group_status,events:{"click .status-wrap":"setStatus","click .btn-edit-status":"setStatus"},_initialize:function(){this.$el.html(this.template()),this.render(),this.model.on("change:status",this.render,this),this.model.on("change:group_info",this.render,this)},render:function(){let e=this.model.get("group_info");e&&(this.$(".status").attr("data-status",e.status||this.model.get("status")),this.$(".status-message").text(e.status_msg))},setStatus:function(){let e=new i.SetGroupchatStatusView;e.open(this.model)}}),i.GroupChatStatusViewRight=i.BasicView.extend({template:o.group_chats.group_status_right,events:{"click .group-chat-status-wrap":"setStatus","click .btn-edit-status":"setStatus"},_initialize:function(){this.$el.html(this.template()),this.render(),this.model.on("change:status",this.render,this),this.model.on("change:group_info",this.render,this)},render:function(){let e=this.model.get("group_info");e&&(this.updateIcon(),this.$(".status").attr("data-status",e.status||this.model.get("status")),this.$(".status-message").text(e.status_msg))},updateIcon:function(){let e=this.model.getIcon();this.$(".status-bulb").addClass("hidden"),this.model.get("invitation")||e&&this.$(".status-bulb").removeClass("hidden").switchClass(e,"server"==e||"blocked"==e).html(n.templates.svg[e]())},setStatus:function(){let e=new i.SetGroupchatStatusView;e.open(this.model)}}),i.GroupChatPropertiesView=i.BasicView.extend({template:o.group_chats.group_chat_properties,events:{"click .group-chat-properties .details-icon":"onClickIcon"},_initialize:function(){this.$el.html(this.template()),this.contact=this.model,this.account=this.model.account,this.model.on("change:group_info",this.update,this),this.model.on("change:vcard_updated",this.update,this)},render:function(){!this.model.get("vcard_updated")&&this.model.vcard&&this.model.vcard.refresh(),this.update()},update:function(){let e=this.model.get("group_info")||{};this.$(".block-name").text(this.model.get("incognito_group")?i.getString("incognito_group_settings__header"):i.getString("public_group_settings__header")),this.$(".jabber-id .value").text(e.jid),this.$(".name .value").text(e.name),this.$(".description .value").text(e.description),this.$(".model .value").text(d.pretty_name(e.model)),this.$(".status .value").text(d.pretty_name(e.status)),this.$(".searchable .value").text("none"===e.searchable?i.getString("groupchat_index_type_none"):d.pretty_name(e.searchable)),this.$(".name-info-wrap").switchClass("hidden",!e.name),this.$(".description-info-wrap").switchClass("hidden",!e.description),this.$(".model-info-wrap").switchClass("hidden",!e.model),this.$(".status-info-wrap").switchClass("hidden",!e.status),this.$(".searchable-info-wrap").switchClass("hidden",!e.searchable)},onClickIcon:function(e){let t=r(e.target).closest(".info-wrap"),a=t.find(".value"),n="";a.each((e,a)=>{let s=r(a),o=s.text();if(t.hasClass("searchable-info-wrap")){let e=t.find(".label").first().text();o===i.getString("groupchat_index_type_none")&&(o+=" "+e.toLowerCase())}o&&""!=n&&(n+="\n"),o&&(n+=o),n&&d.copyTextToClipboard(n,i.getString("toast__copied_in_clipboard"),i.getString("toast__not_copied_in_clipboard"))})}}),i.GroupChatPropertiesViewRight=i.BasicView.extend({template:o.group_chats.group_chat_properties_right,events:{"click .btn-vcard-refresh":"refresh","click .info-hover":"onClickIcon","click .btn-back":"hideVCard"},_initialize:function(){this.$el.html(this.template()),this.contact=this.model,this.account=this.model.account,this.model.on("change:group_info",this.update,this),this.model.on("change:vcard_updated",this.update,this),this.ps_container=this.$(".full-vcard-content"),this.ps_container.length&&this.ps_container.perfectScrollbar(m.extend(this.ps_settings||{},i.ps_settings)),this.ps_container.on("ps-scroll-up ps-scroll-down",this.onScroll.bind(this)),this.model.set("vcard_hidden",!0)},render:function(){!this.model.get("vcard_updated")&&this.model.vcard&&this.model.vcard.refresh(),this.$(".full-vcard-wrap").hideIf(this.model.get("vcard_hidden")),this.parent.ps_container.length&&(this.model.get("vcard_hidden")?this.parent.ps_container.perfectScrollbar(m.extend(this.parent.ps_settings||{},i.ps_settings)):this.parent.ps_container.perfectScrollbar("destroy")),this.model.updateName(),this.model.updateAvatar(),this.hideMoreDescription(),this.model.getVCard(()=>{this.updateName(),this.update(),this.parent.contact_edit_view&&this.parent.contact_edit_view.update()})},onScroll:function(){170<=this.ps_container[0].scrollTop?(this.$(".vcard-header-title").addClass("fixed-scroll"),this.$(".vcard-header-title").css({"background-color":"rgba(255,255,255,1)"})):40<=this.ps_container[0].scrollTop?(this.$(".vcard-header-title").removeClass("fixed-scroll"),this.$(".vcard-header-title").css({"background-color":"rgba(255,255,255,0.5)"})):(this.$(".vcard-header-title").removeClass("fixed-scroll"),this.$(".vcard-header-title").css({"background-color":"rgba(255,255,255,0)"}))},hideMoreDescription:function(){this.$(".vcard-wrap .info.description").hasClass("short")||(this.$(".vcard-wrap .info.description").addClass("short"),this.$(".show-vcard").hideIf(!1))},showVCard:function(){this.model.set("vcard_hidden",!1),this.$(".full-vcard-wrap").hideIf(this.model.get("vcard_hidden")),this.model.getVCard(()=>{this.updateName(),this.update()}),this.parent.$(".main-info").removeClass("fixed-scroll"),this.$(".vcard-header").css({width:i.right_contact_panel.$el.find(".details-panel-right").width()}),this.parent.scrollToTop(),this.parent.ps_container.length&&this.parent.ps_container.perfectScrollbar("destroy")},hideVCard:function(){this.model.set("vcard_hidden",!0),this.parent.ps_container.length&&this.parent.ps_container.perfectScrollbar(m.extend(this.parent.ps_settings||{},i.ps_settings)),this.scrollToTop(),this.onScroll(),this.parent.onScroll(),this.$(".full-vcard-wrap").hideIf(this.model.get("vcard_hidden"))},updateName:function(){this.$(".main-info .name-wrap").text(this.model.get("name")),this.model.get("name")==this.model.get("roster_name")?this.$(".main-info .name-wrap").removeClass("name-is-custom"):this.$(".main-info .name-wrap").addClass("name-is-custom")},update:function(){let e=this.model.get("group_info")||{};this.$(".block-name").text(this.model.get("incognito_group")?i.getString("incognito_group_settings__header"):i.getString("public_group_settings__header")),this.$(".jabber-id .value").text(e.jid),this.$(".name .value").text(e.name),this.$(".description .value").text(e.description),this.$(".model .value").text(d.pretty_name(e.model)),this.$(".status .value").text(d.pretty_name(e.status)),this.$(".searchable .value").text("none"===e.searchable?i.getString("groupchat_index_type_none"):d.pretty_name(e.searchable)),this.$(".name-info-wrap").switchClass("hidden",!e.name),this.$(".description-info-wrap").switchClass("hidden",!e.description),this.$(".model-info-wrap").switchClass("hidden",!e.model),this.$(".status-info-wrap").switchClass("hidden",!e.status),this.$(".searchable-info-wrap").switchClass("hidden",!e.searchable)},onClickIcon:function(e){let t=r(e.target),a=t.find(".value"),n="";a.each((e,t)=>{let a=r(t),s=a.text();s&&""!=n&&(n+="\n"),s&&(n+=s),n&&d.copyTextToClipboard(n,i.getString("toast__copied_in_clipboard"),i.getString("toast__not_copied_in_clipboard"))})}}),i.GroupChatPropertiesEditView=i.BasicView.extend({className:"modal dialog-modal group-chat-properties-edit",events:{"click .btn-save":"saveChanges","click .btn-cancel":"close","change input":"updateSaveButton","keyup .property-wrap .text-field":"updateSaveButton"},_initialize:function(){this.account=this.model.account,this.contact=this.model,this.model.on("change:name",this.updateName,this)},open:function(e){this.data_form=e;let t=this.data_form.fields.filter(e=>"fixed"==e.type||"hidden"==e.type).length==this.data_form.fields.length;this.$el.html(o.group_chats.group_chat_properties_edit({all_fixed:t,fields:e.fields,privacy:this.contact.get("incognito_group"),jid:this.model.get("jid")})),this.$el.openModal({ready:()=>{this.$(".modal-content").css("height",this.$el.height()-115).perfectScrollbar({theme:"item-list"}),this.updateScrollBar()},complete:()=>{this.$el.detach(),this.$(".modal-content").css("height","100%"),this.data.set("visible",!1)}})},close:function(){this.$el.closeModal({complete:()=>{this.$el.detach(),this.$(".modal-content").css("height","100%"),this.data.set("visible",!1)}})},updateName:function(){this.$(".name-info-wrap").find(".name").find(".value").text(this.model.get("name"))},saveChanges:function(){if(this.$(".btn-save").hasClass("non-active"))return;let e=!1,t=c({type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("query",{xmlns:p.NS.GROUP_CHAT});this.data_form.fields.forEach(t=>{if("hidden"===t.type||"fixed"===t.type)return;let a=t.values?t.values[0]:null,i=this.$("."+t.var+"-field input:checked"),n=this.$("."+t.var+"-field input[type=\"text\"]"),s=this.$("."+t.var+"-field textarea"),o="";if(i.length&&(o=i[0].id),n.length&&(o=n.val()),s.length&&(o=s.val()),a!==o){let a=this.data_form.fields.indexOf(t);t.values=[o],this.data_form.fields[a]=t,e=!0}}),e?(t=this.account.addDataFormToStanza(t,this.data_form),this.account.sendIQ(t,e=>{let t=r(e),a=m.clone(this.contact.get("group_info")),i={name:t.find("field[var=\"name\"] value").text(),searchable:t.find("field[var=\"index\"]").children("value").text(),model:t.find("field[var=\"membership\"]").children("value").text(),description:t.find("field[var=\"description\"] value").text(),status:t.find("field[var=\"status\"]").children("value").text()};this.$("button").addClass("non-active"),this.close(),m.extend(a,i),this.model.set("group_info",a)},e=>{this.$("button").addClass("non-active");let t=r(e).find("error text").text()||i.getString("groupchat_you_have_no_permissions_to_do_it");this.close(),d.dialogs.error(t)})):this.$("button").removeClass("non-active")},updateSaveButton:function(){let e=!1;this.data_form.fields.forEach(t=>{if("hidden"===t.type||"fixed"===t.type)return;let a=t.values?t.values[0]:null,i=this.$("."+t.var+"-field input:checked"),n=this.$("."+t.var+"-field input[type=\"text\"]"),s=this.$("."+t.var+"-field textarea"),o="";i.length&&(o=i[0].id),n.length&&(o=n.val()),s.length&&(o=s.val()),a!==o&&(e=!0)}),this.$(".btn-save").switchClass("non-active",!e)}}),i.InvitationsView=i.BasicView.extend({events:{},status:"invitations",member_avatar_size:s.AVATAR_SIZES.GROUPCHAT_MEMBER_ITEM,_initialize:function(e){this.contact=e.model,this.contact.participants.on("participants_updated",this._render,this),this.contact.on("invitations_send",this._render,this),this.account=this.contact.account,this.$error=r("<p class=\"errors\"/>")},_render:function(){this.$el.length&&0==this.$el.closest("body").length&&(this.$el=this.parent.$(".participants-edit-wrap")),this.$el.html(r(o.preloader())),this.updateInvitations()},updateInvitations:function(){this.parent.$(".block-name-panel:not(.second-text)").html(i.getString("groupchat_invitations")),this.parent.getInvitations(e=>{this.$el.html(""),r(e).find("query").find("user").each((e,t)=>{let a={jid:r(t).attr("jid"),status:this.status},i=r(o.group_chats.invited_member_item(a)),n=h.getDefaultAvatar(a.jid);this.$el.append(i),i.find(".circle-avatar").setAvatar(n,this.member_avatar_size)}),r(e).find("query").find("user").length||this.$el.html(this.$error.text(i.getString("group_settings__invitations__no_pending_invitations"))),this.parent.contact_edit_view&&this.parent.contact_edit_view.showInviteButton()},e=>{this.$el.html(this.$error.text(r(e).find("text").text()||i.getString("groupchat_you_have_no_permissions_to_do_it")))})},revokeInvitation:function(e){let t=r(e.target).closest(".invitations-user"),a=t.data("jid"),n=c({from:this.account.get("jid"),to:this.contact.get("full_jid")||this.contact.get("jid"),type:"set"}).c("revoke",{xmlns:`${p.NS.GROUP_CHAT}#invite`}).c("jid").t(a);this.account.sendIQ(n,()=>{t.remove(),this.parent.contact_edit_view&&this.parent.contact_edit_view.updateRemoveParticipantButton(),this.$el.children().length||this.$el.html(this.$error.text(i.getString("group_settings__invitations__no_pending_invitations")))})},revokeInvitationByElement:function(e){let t=e.data("jid"),a=c({from:this.account.get("jid"),to:this.contact.get("full_jid")||this.contact.get("jid"),type:"set"}).c("revoke",{xmlns:`${p.NS.GROUP_CHAT}#invite`}).c("jid").t(t);this.account.sendIQ(a,()=>{e.remove(),this.$el.children().length||this.$el.html(this.$error.text(i.getString("group_settings__invitations__no_pending_invitations")))})}}),i.MediaView=i.BasicView.extend({events:{},status:"media",member_avatar_size:s.AVATAR_SIZES.GROUPCHAT_MEMBER_ITEM,_initialize:function(e){this.contact=e.model},_render:function(){this.$el.length&&0==this.$el.closest("body").length&&(this.$el=this.parent.$(".participants-details-media-wrap")),this.$el.html(r(o.preloader())),this.updateMedia(28)},updateMedia:function(e){this.$el.html("<div class='media-wrap'></div>");for(var t=0;t<e;t++){let e=r(o.group_chats.media_item());this.$el.find(".media-wrap").append(e)}}}),i.FilesView=i.BasicView.extend({events:{},status:"files",member_avatar_size:s.AVATAR_SIZES.GROUPCHAT_MEMBER_ITEM,_initialize:function(e){this.contact=e.model},_render:function(){this.$el.length&&0==this.$el.closest("body").length&&(this.$el=this.parent.$(".participants-details-media-wrap")),this.$el.html(r(o.preloader())),this.updateFiles(0)},updateFiles:function(e){if(this.$el.html("<div class='files-wrap'></div>"),e)for(var t=0;t<e;t++){let e=r(o.group_chats.file_item());this.$el.find(".media-wrap").append(e)}else this.$el.html("<div class='empty-files'>No files here yet</div>")}}),i.BlockedView=i.BasicView.extend({status:"blocked",member_avatar_size:s.AVATAR_SIZES.GROUPCHAT_MEMBER_ITEM,_initialize:function(e){this.contact=e.model,this.account=this.contact.account,this.$error=r("<p class=\"errors\"/>")},_render:function(){this.$el.length&&0==this.$el.closest("body").length&&(this.$el=this.parent.$(".participants-edit-wrap")),this.$el.html(r(o.preloader())),this.updateBlockedParticipants()},updateBlockedParticipants:function(){this.parent.$(".block-name-panel:not(.second-text)").html(i.getString("group_settings__block_list__header")),this.contact.getBlockedParticipants(e=>{this.$el.html(""),r(e).find("query").children().each((e,t)=>{let a=r(t).attr("jid")?r(t).attr("jid"):r(t).text(),i={jid:a,status:this.status},n=r(o.group_chats.invited_member_item(i)),s=h.getDefaultAvatar(i.jid);this.$el.append(n),n.find(".circle-avatar").setAvatar(s,this.member_avatar_size)}),r(e).find("query").children.length||this.$el.append(this.$error.text(i.getString("groupchat_blocklist_empty"))),this.parent.contact_edit_view&&this.parent.contact_edit_view.showBlockButton()},e=>{this.$el.html(this.$error.text(r(e).find("text").text()||i.getString("groupchat_you_have_no_permissions_to_do_it")))})},unblockUser:function(e){let t=r(e.target).closest(".blocked-user"),a=t.data("jid"),n=a.toString().includes("@")?"jid":"domain",s=c({type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("unblock",{xmlns:`${p.NS.GROUP_CHAT}#block`}).c(n).t(a);this.account.sendFast(s,()=>{t.remove(),this.parent.contact_edit_view&&this.parent.contact_edit_view.updateRemoveParticipantButton(),this.$el.children().length||this.$el.html(this.$error.text(i.getString("groupchat_blocklist_empty")))})},unblockUserByElement:function(e){let t=e.data("jid"),a=t.toString().includes("@")?"jid":"domain",n=c({type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("unblock",{xmlns:`${p.NS.GROUP_CHAT}#block`}).c(a).t(t);this.account.sendFast(n,()=>{e.remove(),this.$el.children().length||this.$el.html(this.$error.text(i.getString("groupchat_blocklist_empty")))})},blockId:function(){d.dialogs.ask_enter_value(i.getString("contact_bar_block"),i.getString("groupchat_dialog_block__text"),{input_placeholder_value:i.getString("groupchat_dialog_block__input_placeholder")},{ok_button_text:i.getString("contact_bar_block")}).done(e=>{if(e){let t=e.includes("@")?"jid":"domain",a=c({type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("block",{xmlns:`${p.NS.GROUP_CHAT}#block`}).c(t).t(e);this.account.sendIQ(a,()=>{this.updateBlockedParticipants()},function(){d.dialogs.error(i.getString("groupchat_you_have_no_permissions_to_do_it"))})}})}}),i.ParticipantsView=i.BasicView.extend({className:"overflow-visible",ps_selector:".members-list-wrap",ps_settings:{theme:"item-list"},template:o.group_chats.participants,member_avatar_size:s.AVATAR_SIZES.GROUPCHAT_MEMBER_ITEM,events:{"click .participant-wrap":"showParticipantProperties","keyup .participants-search-form":"keyUpSearch","click .close-search-icon":"clearSearch","click .btn-block":"blockParticipant","click .btn-kick":"kickParticipant"},_initialize:function(){this.account=this.model.account,this.participants=this.model.participants,this.participants.on("participants_updated",this.onParticipantsUpdated,this),this.model.on("change:status_updated",this.updateParticipantsList,this),this.$(this.ps_selector).perfectScrollbar(this.ps_settings)},_render:function(){return this.$el.html(this.template()).addClass("request-waiting"),this.participant_properties_panel=new i.ParticipantPropertiesView({model:this.model}),this.updateParticipants(),this.$(".members-list-wrap").perfectScrollbar({theme:"item-list"}),this.model.all_rights||this.model.getAllRights(),this},updateParticipants:function(){this.model.participants.participantsRequest({version:this.participants.version},e=>{let t=r(e),a=t.find("query").attr("version");return this.model.get("group_info")&&(0===this.participants.version&&(this.model.get("group_info").members_num=this.participants.length),this.participants.length!=this.model.get("group_info").members_num)?(this.account.groupchat_settings.resetParticipantsList(this.model.get("jid")),this.participants.resetParticipants(),void this.updateParticipants()):void(this.participants.version>a||(a&&this.account.groupchat_settings.setParticipantsListVersion(this.model.get("jid"),a),this.participants.version<a&&this.participants.updateVersion(),this.renderParticipants()))},()=>{this.$el.removeClass("request-waiting")})},updateParticipantsList:function(){this.$el.find(".members-list-wrap tbody").html(""),this.updateParticipants(),this.model.all_rights||this.model.getAllRights()},onParticipantsUpdated:function(){this.isVisible()&&this.renderParticipants()},renderParticipants:function(){this.participants.each(e=>{this.renderMemberItem(e)}),this.$el.removeClass("request-waiting")},blockParticipant:function(e){let t=r(e.target).closest(".participant-wrap");d.dialogs.ask(i.getString("groupchat__dialog_block_member__header"),i.getString("groupchat__dialog_block_member__confirm",[t.find(".participant-info .nickname").text()]),null,{ok_button_text:i.getString("groupchat_block")}).done(e=>{if(e){let e=this.participants.get(t.attr("data-id"));e&&e.block(()=>{t.remove(),this.parent.updateScrollBar()},e=>{r(e).find("not-allowed").length&&d.dialogs.error(i.getString("groupchat_you_have_no_permissions_to_do_it"))})}})},kickParticipant:function(e){let t=r(e.target).closest(".participant-wrap");d.dialogs.ask(i.getString("groupchat_kick_member"),i.getString("groupchat_do_you_really_want_to_kick_membername",[t.find(".participant-info .nickname").text()]),null,{ok_button_text:i.getString("groupchat_kick")}).done(e=>{if(e){let e=this.participants.get(t.attr("data-id"));e&&e.kick(()=>{t.remove(),this.parent.updateScrollBar()},e=>{r(e).find("not-allowed").length&&d.dialogs.error(i.getString("groupchat_you_have_no_permissions_to_do_it"))})}})},renderMemberItem:function(e){let t=m.clone(e.attributes);t.nickname=m.escape(t.nickname),t.badge=m.escape(t.badge),t.is_me=t.jid==this.account.get("jid"),t.pretty_present=t.present?u(t.present).isValid()?u(t.present).fromNow():u(t.present.substr(0,t.present.length-1)).fromNow():"";let a=r(o.group_chats.group_member_item(t)),i=this.$("tr[data-id=\""+t.id+"\"]");a.emojify(".badge",{emoji_size:16}),i.length?(i.hasClass("active")&&a.addClass("active"),a.insertBefore(i),i.detach()):t.is_me?a.prependTo(this.$(".members-list-wrap tbody")):a.appendTo(this.$(".members-list-wrap tbody")),this.updateMemberAvatar(t)},updateMemberAvatar:function(e){let t=h.getDefaultAvatar(e.nickname||e.jid||e.id),a=e.id?this.$("tr[data-id=\""+e.id+"\"] .circle-avatar"):this.$(".list-item[data-jid=\""+e.jid+"\"] .circle-avatar");if(a.setAvatar(t,this.member_avatar_size),e.avatar){let t=this.account.chat_settings.getB64Avatar(e.id);if(this.account.chat_settings.getHashAvatar(e.id)==e.avatar&&t)a.setAvatar(t,this.member_avatar_size);else if(e.avatar_url)this.account.chat_settings.updateCachedAvatars(e.id,e.avatar,e.avatar_url),this.$(".list-item[data-id=\""+e.id+"\"] .circle-avatar").setAvatar(e.avatar_url,this.member_avatar_size),this.account.get("jid")===e.jid&&(this.model.my_info.set({avatar:e.avatar,b64_avatar:e.avatar_url}),this.model.trigger("update_my_info"));else{let t=`${p.NS.PUBSUB_AVATAR_DATA}#${e.id}`;this.model.getAvatar(e.avatar,t,t=>{this.account.chat_settings.updateCachedAvatars(e.id,e.avatar,t),this.$(".list-item[data-id=\""+e.id+"\"] .circle-avatar").setAvatar(t,this.member_avatar_size),this.account.get("jid")===e.jid&&(this.model.my_info.set("b64_avatar",t),this.model.trigger("update_my_info"))})}}},showParticipantProperties:function(e){let t=r(e.target);if(t.closest(".buttons-wrap").length)return;let a=t.closest(".participant-wrap"),i=a.attr("data-id"),n=this.model.participants.get(i);a.attr("data-jid")&&a.attr("data-jid")===this.account.get("jid")&&(i=""),this.model.participants.participantsRequest({id:i},e=>{let t=this.account.parseDataForm(r(e).find(`x[xmlns="${p.NS.DATAFORM}"]`));this.participant_properties_panel.open(n,t)})},keyUpSearch:function(e){e.keyCode!==s.KEY_ESCAPE||i.body.screen.get("right_contact")?this.searchParticipant():this.clearSearch(e)},searchParticipant:function(){let e=this.$(".participants-search-form input").val().toLowerCase();this.$(".members-list-wrap .participant-wrap").each((t,a)=>{let i=r(a),n=i.data("id"),s=this.model.participants.find(e=>e.get("id")===n),o=s.get("jid").toLowerCase(),d=s.get("nickname").toLowerCase();i.hideIf(0>d.indexOf(e)&&0>o.indexOf(e))}),e?this.$(".close-search-icon").show():this.$(".close-search-icon").hide()},clearSearch:function(e){e&&e.preventDefault(),this.$(".search-input").val(""),this.searchParticipant()}}),i.ParticipantsViewRight=i.BasicView.extend({className:"overflow-visible",ps_settings:{theme:"item-list"},template:o.group_chats.participants_right_panel,member_avatar_size:s.AVATAR_SIZES.GROUPCHAT_MEMBER_ITEM,events:{"click .participant-wrap":"showParticipantProperties","keyup .participants-search-form":"keyUpSearch","click .close-search-icon":"clearSearch","click .btn-kick":"kickParticipantDialog","click .btn-edit-member":"showParticipantPropertiesEdit","click .btn-mute":"kickParticipantDialog"},_initialize:function(){this.account=this.model.account,this.participants=this.model.participants,this.participants.on("change",this.onParticipantsChanged,this),this.participants.on("participants_updated",this.onParticipantsUpdated,this),this.model.on("change:status_updated",this.updateParticipantsList,this),this.participant_properties_panel=this.addChild("participant_properties_panel",i.ParticipantPropertiesViewRight,{model:this.model,el:this.parent.$(".participant-view-wrap")[0],parent:this.parent})},_render:function(){return this.$el.html(this.template()).addClass("request-waiting"),this.updateParticipants(),this.model.all_rights||this.model.getAllRights(),this},updateParticipants:function(){this.model.participants.participantsRequest({version:this.participants.version},e=>{let t=r(e),a=t.find("query").attr("version");return this.model.get("group_info")&&(0===this.participants.version&&(this.model.get("group_info").members_num=this.participants.length),this.participants.length!=this.model.get("group_info").members_num)?(this.account.groupchat_settings.resetParticipantsList(this.model.get("jid")),this.participants.resetParticipants(),void this.updateParticipants()):void(this.participants.version>a||(a&&this.account.groupchat_settings.setParticipantsListVersion(this.model.get("jid"),a),this.participants.version<a&&this.participants.updateVersion(),this.renderParticipants()))},()=>{this.$el.removeClass("request-waiting")})},updateParticipantsList:function(){this.updateParticipants(),this.model.all_rights||this.model.getAllRights()},onParticipantsUpdated:function(){this.isVisible()&&this.renderParticipants()},onParticipantsChanged:function(){this.updateParticipants()},renderParticipants:function(){this.participants.each(e=>{this.renderMemberItem(e)}),this.$(".participants-search-form input").val()&&this.searchParticipant(),this.$el.removeClass("request-waiting")},blockParticipant:function(e){let t=r(e.target).closest(".participant-wrap");d.dialogs.ask(i.getString("groupchat__dialog_block_member__header"),i.getString("groupchat__dialog_block_member__confirm",[t.find(".participant-info .nickname").text()]),null,{ok_button_text:i.getString("groupchat_block")}).done(e=>{if(e){let e=this.participants.get(t.attr("data-id"));e&&e.block(()=>{t.remove(),this.parent.updateScrollBar()},e=>{r(e).find("not-allowed").length&&d.dialogs.error(i.getString("groupchat_you_have_no_permissions_to_do_it"))})}})},kickParticipant:function(e){let t=r(e.target).closest(".participant-wrap");d.dialogs.ask(i.getString("groupchat_kick_member"),i.getString("groupchat_do_you_really_want_to_kick_membername",[t.find(".participant-info .nickname").text()]),null,{ok_button_text:i.getString("groupchat_kick")}).done(e=>{if(e){let e=this.participants.get(t.attr("data-id"));e&&e.kick(()=>{t.remove(),this.parent.updateScrollBar()},e=>{r(e).find("not-allowed").length&&d.dialogs.error(i.getString("groupchat_you_have_no_permissions_to_do_it"))})}})},kickParticipantDialog:function(e){let t=r(e.target).closest(".participant-wrap");d.dialogs.ask_extended(i.getString("groupchat_kick_member"),i.getString("groupchat_do_you_really_want_to_kick_membername",[t.find(".participant-info .nickname").text()]),null,{ok_button_text:i.getString("groupchat_kick"),optional_button:"block",optional_button_text:i.getString("groupchat_block")}).done(e=>{if(e)if("block"===e){let e=this.participants.get(t.attr("data-id"));e&&e.block(()=>{t.remove(),this.parent.updateScrollBar()},e=>{r(e).find("not-allowed").length&&d.dialogs.error(i.getString("groupchat_you_have_no_permissions_to_do_it"))})}else{let e=this.participants.get(t.attr("data-id"));e.kick(()=>{t.remove(),this.parent.updateScrollBar()},e=>{r(e).find("not-allowed").length&&d.dialogs.error(i.getString("groupchat_you_have_no_permissions_to_do_it"))})}})},renderMemberItem:function(e){let t=m.clone(e.attributes);t.nickname=m.escape(t.nickname),t.badge=m.escape(t.badge),t.is_me=t.jid==this.account.get("jid"),t.pretty_present=t.present?u(t.present).isValid()?u(t.present).fromNow():u(t.present.substr(0,t.present.length-1)).fromNow():"";let a=r(o.group_chats.group_member_item_right(t)),i=this.$("tr[data-id=\""+t.id+"\"]");i.length?(i.hasClass("active")&&a.addClass("active"),a.insertBefore(i),i.detach()):t.is_me?a.prependTo(this.$(".members-list-wrap tbody")):a.appendTo(this.$(".members-list-wrap tbody")),this.updateMemberAvatar(t)},updateMemberAvatar:function(e){let t=h.getDefaultAvatar(e.nickname||e.jid||e.id),a=e.id?this.$("tr[data-id=\""+e.id+"\"] .circle-avatar"):this.$(".list-item[data-jid=\""+e.jid+"\"] .circle-avatar");if(a.setAvatar(t,this.member_avatar_size),e.avatar){let t=this.account.chat_settings.getB64Avatar(e.id);if(this.account.chat_settings.getHashAvatar(e.id)==e.avatar&&t)a.setAvatar(t,this.member_avatar_size);else if(e.avatar_url)this.account.chat_settings.updateCachedAvatars(e.id,e.avatar,e.avatar_url),this.$(".list-item[data-id=\""+e.id+"\"] .circle-avatar").setAvatar(e.avatar_url,this.member_avatar_size),this.account.get("jid")===e.jid&&(this.model.my_info.set({avatar:e.avatar,b64_avatar:e.avatar_url}),this.model.trigger("update_my_info"));else{let t=`${p.NS.PUBSUB_AVATAR_DATA}#${e.id}`;this.model.getAvatar(e.avatar,t,t=>{this.account.chat_settings.updateCachedAvatars(e.id,e.avatar,t),this.$(".list-item[data-id=\""+e.id+"\"] .circle-avatar").setAvatar(t,this.member_avatar_size),this.account.get("jid")===e.jid&&(this.model.my_info.set("b64_avatar",t),this.model.trigger("update_my_info"))})}}},showParticipantProperties:function(e){let t=r(e.target);if(t.closest(".buttons-wrap").length)return;let a=t.closest(".participant-wrap"),i=a.attr("data-id"),n=this.model.participants.get(i);a.attr("data-jid")&&a.attr("data-jid")===this.account.get("jid")&&(i=""),this.model.participants.participantsRequest({id:i},e=>{let t=this.account.parseDataForm(r(e).find(`x[xmlns="${p.NS.DATAFORM}"]`));this.participant_properties_panel.open(n,t)})},showParticipantPropertiesEdit:function(e){let t=r(e.target),a=t.closest(".participant-wrap"),i=a.attr("data-id"),n=this.model.participants.get(i);a.attr("data-jid")&&a.attr("data-jid")===this.account.get("jid")&&(i=""),this.model.participants.participantsRequest({id:i},e=>{let t=this.account.parseDataForm(r(e).find(`x[xmlns="${p.NS.DATAFORM}"]`));this.participant_properties_panel.open(n,t),this.participant_properties_panel.showNamePanel(),this.participant_properties_panel.changeBackButton()})},keyUpSearch:function(e){e.keyCode!==s.KEY_ESCAPE||i.body.screen.get("right_contact")?this.searchParticipant():this.clearSearch(e)},searchParticipant:function(){let e=this.$(".participants-search-form input").val().toLowerCase();this.$(".members-list-wrap .participant-wrap").each((t,a)=>{let i=r(a),n=i.data("id"),s=this.model.participants.find(e=>e.get("id")===n),o=s.get("jid").toLowerCase(),d=s.get("nickname").toLowerCase();i.hideIf(0>d.indexOf(e)&&0>o.indexOf(e))}),e?this.$(".close-search-icon").show():this.$(".close-search-icon").hide()},clearSearch:function(e){e&&e.preventDefault(),this.$(".search-input").val(""),this.searchParticipant()}}),i.ParticipantPropertiesView=i.BasicView.extend({className:"modal dialog-modal edit-rights",template:o.group_chats.participant_rights,member_details_avatar_size:s.AVATAR_SIZES.PARTICIPANT_DETAILS_ITEM,ps_selector:".modal-content",ps_settings:{theme:"item-list"},events:{"click .btn-cancel-changes":"close","change .clickable-field input":"changeRights","click .btn-save-user-rights":"saveRights","click .participant-details-item:not(.unsubscribed) .nickname":"editNickname","change .circle-avatar input":"changeAvatar","click .btn-block-participant":"block","click .btn-kick-participant":"kick","click .btn-set-badge":"editBadge","click .btn-participant-messages":"getMessages","click .btn-chat":"getPrivateChat","click .property-variant":"changeTimerValue","keydown .rich-textarea":"checkKeydown","keyup .rich-textarea":"checkKeyup"},_initialize:function(){this.contact=this.model,this.account=this.model.account},open:function(e,t){e&&(this.participant=e,this.participant.on("change:badge",this.onBadgeUpdated,this),this.data_form=t,this.render(),this.$el.openModal({ready:()=>{this.$el.css("height",""),.1*r(window).height()+this.$el.height()>r(window).height()&&this.$el.css("height",.9*r(window).height()),this.$(".modal-content").css("max-height","calc(100% - "+(64+this.$(".header").height())+"px)"),this.scrollToTop(),this.updateSaveButton();let e={inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"};this.$(".select-timer .dropdown-button").dropdown(e),this.$(".participant-details-item .dropdown-button").dropdown(m.extend(e,{alignment:"right"}))},complete:()=>{this.render(),this.$el.detach(),this.data.set("visible",!1)}}))},close:function(){this.$el.closeModal({complete:()=>{this.render(),this.$el.detach(),this.data.set("visible",!1)}})},render:function(){this.new_avatar="";let e=m.clone(this.participant.attributes);e.nickname=m.escape(e.nickname),e.blocked=e.blocked,e.subscription=null===e.subscription?null:"both",e.badge=m.escape(e.badge),e.is_myself=e.jid===this.account.get("jid"),e.is_blocked_contact=this.account.blocklist.isBlocked(e.jid),e.incognito_chat=!!(this.contact.get("group_info")&&"incognito"===this.contact.get("group_info").privacy);let t;this.contact.get("private_chat")?(this.$el.addClass("edit-rights-private"),t=r(o.group_chats.private_participant_details(e))):t=r(o.group_chats.participant_details_item(e)),this.$(".header").html(t),this.$(".buttons-wrap .button-wrap:not(.btn-chat-wrap):not(.btn-participant-messages-wrap)").switchClass("non-active",null===e.subscription),this.$(".btn-chat-wrap").switchClass("non-active",this.participant.get("jid")===this.account.get("jid")),this.updateMemberAvatar(this.participant),this.participant_messages=[],this.actual_rights=[],this.contact.get("private_chat")?(this.$(".modal-content").addClass("hidden"),this.$(".modal-footer").switchClass("hidden",this.participant.get("jid")!==this.account.get("jid"))):this.setActualRights(),this.updateScrollBar(),this.$(".participant-info #edit-nickname").on("focusout",()=>{let e=this.$("#edit-nickname").getTextFromRichTextarea().trim();""===e&&(e=this.participant.get("nickname")),this.$(".participant-info #edit-nickname").hide(),this.$(".participant-info .nickname").show(),this.updateNickname(e)}),this.$(".content").perfectScrollbar({theme:"item-list"})},updateMemberAvatar:function(e){let t=e.get("id"),a=this.$(`.participant-details-item[data-id="${t}"] .circle-avatar`);if(e.image=h.getDefaultAvatar(e.get("nickname")||e.get("jid")||t),a.setAvatar(e.image,this.member_details_avatar_size),this.$(".participant-details-item[data-id=\""+e.id+"\"]").emojify(".badge",{emoji_size:18}),!e.get("avatar"))this.account.chat_settings.getHashAvatar(t)&&a.setAvatar(this.account.chat_settings.getB64Avatar(t),this.member_details_avatar_size);else if(this.account.chat_settings.getHashAvatar(t)==e.get("avatar")&&this.account.chat_settings.getB64Avatar(t))a.setAvatar(this.account.chat_settings.getB64Avatar(t),this.member_details_avatar_size);else if(e.get("avatar_url"))a.setAvatar(e.get("avatar_url"),this.member_details_avatar_size);else{let a=p.NS.PUBSUB_AVATAR_DATA+"#"+t;this.contact.getAvatar(e.get("avatar"),a,e=>{this.$(`.circle-avatar`).setAvatar(e,this.member_details_avatar_size)})}},updateRightsView:function(e){r(e.target).hasClass("non-active")||this.render(this.participant)},getMessages:function(e){let t=this.account.chats.getChat(this.contact);t.messages_view=new i.ParticipantMessagesView({model:t,contact:this.contact,participant:this.participant.attributes}),t.messages_view.messagesRequest(e,()=>{this.close(),i.body.setScreen("all-chats",{right:"participant_messages",model:t})})},changeAvatar:function(e){let t=e.target;if(!t.files.length)return;let a=t.files[0];return(t.value="",a.size>s.MAX_AVATAR_FILE_SIZE)?void d.dialogs.error(i.getString("group_settings__error__avatar_too_large")):a.type.startsWith("image")?void d.images.getAvatarFromFile(a).done(e=>{e&&(a.base64=e,this.new_avatar=a,this.$(".circle-avatar").addClass("changed").setAvatar(e,this.member_details_avatar_size),this.updateSaveButton())}):void d.dialogs.error(i.getString("group_settings__error__wrong_image"))},changeTimerValue:function(e){let t=r(e.target),a=t.closest(".select-timer").find(".property-value"),n=t.closest(".right-item").find("input");t.attr("data-value")!==a.attr("data-value")&&(t.closest(".right-item").addClass("changed-timer changed"),this.updateSaveButton()),a.text(t.text()),a.attr("data-value",t.attr("data-value")),"0"===t.attr("data-value")?a.addClass("default-value").text(i.getString("dialog_rights__button_set_timer")):a.hasClass("default-value")&&a.removeClass("default-value"),n.prop("checked")||n.click()},onBadgeUpdated:function(e){let t=m.escape(e.get("badge"));this.updateBadge(t)},updateBadge:function(e){this.$(".badge").html(e).switchClass("hidden",!e),this.$(".participant-info").emojify(".badge")},updateButtons:function(e){this.$(".btn-save-user-rights").switchClass("non-active",!e)},updateSaveButton:function(){let e=this.$(".changed").length;this.updateButtons(e)},updateNickname:function(e){let t=this.$(".participant-details-item[data-id=\""+this.participant.get("id")+"\"]"),a=t.find(".nickname");a.html(p.xmlescape(e)),t.emojify(".nickname"),e===this.participant.get("nickname")?a.removeClass("changed"):a.addClass("changed"),this.updateSaveButton()},editNickname:function(){this.contact.get("private_chat")&&this.account.get("jid")!==this.participant.get("jid")||(this.$(".participant-info .nickname").hide(),this.$(".participant-info #edit-nickname").text(this.$(".participant-info .nickname").text()).show().placeCaretAtEnd())},editBadge:function(e){r(e.target).closest(".button-wrap").hasClass("non-active")||(this.edit_badge_panel=new i.EditBadgeView({model:this}))},checkKeydown:function(e){e&&e.keyCode===s.KEY_ENTER&&(e.preventDefault(),r(document.activeElement).blur())},checkKeyup:function(e){let t=r(e.target),a=t.getTextFromRichTextarea().trim();if("edit-nickname"===e.target.id){let e=a!==this.participant.get("nickname");this.updateButtons(e)}},retractUserMessages:function(){d.dialogs.ask(i.getString("dialog_delete_user_messages__header"),i.getString("dialog_delete_user_messages__header",[this.participant.get("nickname")||this.participant.get("jid")||this.participant.get("id")]),null,{ok_button_text:i.getString("delete")}).done(e=>{if(e&&this.participant.get("id")){let e=this.account.chats.getChat(this.contact);e.retractMessagesByUser(this.participant.get("id"))}})},block:function(){d.dialogs.ask(i.getString("groupchat__dialog_block_member__header"),i.getString("groupchat__dialog_block_member__confirm",[this.participant.get("nickname")]),null,{ok_button_text:i.getString("groupchat_block")}).done(e=>{e&&this.participant.block(()=>{this.close()},function(e){r(e).find("not-allowed").length&&d.dialogs.error(i.getString("groupchat_you_have_no_permissions_to_do_it"))})})},kick:function(e){r(e.target).closest(".button-wrap").hasClass("non-active")||d.dialogs.ask(i.getString("groupchat_kick_member"),i.getString("groupchat_do_you_really_want_to_kick_membername",[this.participant.get("nickname")]),null,{ok_button_text:i.getString("groupchat_kick")}).done(e=>{e&&this.participant.kick(()=>{this.close()},e=>{r(e).find("not-allowed").length&&d.dialogs.error(i.getString("groupchat_you_have_no_permissions_to_do_it"))})})},setActualRights:function(){this.$(".rights-wrap").html(""),this.data_form.fields&&this.data_form.fields.forEach(e=>{if(e=m.clone(e),"list-single"===e.type||"fixed"===e.type&&(!e.values||0==e.values[0])){e.values||(e.values=[]);let t={pretty_name:e.label,name:e.var,expires:e.values?e.values[0]:void 0},a=r(o.group_chats.restriction_item({name:t.name,pretty_name:t.pretty_name,type:e.type})),i;if(e.options&&(i=r(o.group_chats.right_expire_variants({right_name:"default-"+t.name,expire_options:e.options})),a.append(i)),this.$(".rights-wrap").append(a),t.expires&&(this.actual_rights.push({name:t.name,expires:t.expires}),this.$(".right-item #"+t.name).prop("checked",!0).addClass(t.expires),0!=t.expires)){let e=this.$(".right-item.restriction-"+t.name);e.find(".select-timer .property-value").attr("data-value",t.expires).removeClass("default-value").text(u(1e3*+t.expires).fromNow())}}else"fixed"===e.type&&e.values&&this.$(".rights-wrap").append(r("<div class=\"rights-header\"/>").text(e.values[0]))})},getPrivateChat:function(e){if(r(e.target).closest(".button-wrap").hasClass("non-active"))return;let t=this.participant.get("jid"),a=this.account.contacts.get(t);if(!t||this.contact.get("incognito_chat")){let e=c({to:this.contact.domain,type:"set"}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#create`}).c("peer-to-peer",{jid:this.contact.get("jid"),id:this.participant.get("id")});this.account.sendIQ(e,e=>{let t=r(e).find("query localpart").text()+"@"+this.contact.domain,a=this.account.contacts.mergeContact(t);a.set("group_chat",!0),a.set("subscription_preapproved",!0),a.pres("subscribed"),a.pushInRoster(null,()=>{a.pres("subscribe"),a.getMyInfo(),this.close(),a.sendPresent(),this.account.chats.openChat(a);let e=this.account.chats.getChat(a);e.messages.createSystemMessage({from_jid:t,message:i.getString("groupchat__private_chat__text_message_init",[this.participant.get("nickname"),this.contact.get("jid")])})})},e=>{let t=r(e),a=t.find(`x[xmlns="${p.NS.GROUP_CHAT}"] jid`).text();if(a){let e=this.account.contacts.mergeContact(a),t=this.account.chats.getChat(e);return this.close(),void(t&&t.trigger("open"))}let n=r(e).find("text[lang=\"en\"]").text()||r(e).find("text").first().text()||i.getString("groupchat_you_have_no_permissions_to_do_it");this.close(),d.dialogs.error(n)})}else{if(a&&a.get("in_roster"))return this.close(),void a.trigger("open_chat",a);this.close(),i.add_contact_view.show({account:this.account,jid:t})}},changeRights:function(e){let t=r(e.target),a=t.closest(".right-item"),n=t.prop("id");t.prop("checked")?this.actual_rights.find(e=>e.name===n)?a.hasClass("changed-timer")?a.addClass("changed"):a.removeClass("changed"):a.addClass("changed"):this.actual_rights.find(e=>e.name===n)?a.addClass("changed"):(a.removeClass("changed"),a.hasClass("changed-timer")&&a.find(".timer-item-wrap .property-value").addClass("default-value").text(i.getString("dialog_rights__button_set_timer")).attr("data-value","")),this.updateSaveButton()},saveRights:function(e){if(r(e.target).hasClass("non-active"))return;let t=r(e.target),a=this.account.get("jid"),n=this.participant.get("id"),s=this.$(".participant-details-item .circle-avatar"),o=this.$(".participant-info .nickname").text(),l=this.new_avatar,m=!1,u=!1,g=c({from:a,type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("query",{xmlns:p.NS.GROUP_CHAT+"#members"}).c("user",{xmlns:p.NS.GROUP_CHAT,id:n});if(this.$(".buttons-wrap .btn-save-user-rights").addClass("non-active"),l&&s.find(".preloader-wrap").addClass("visible").find(".preloader-wrapper").addClass("active"),o!=this.participant.get("nickname")&&(u=!0,g.c("nickname").t(o).up()),this.$(".right-item").each((e,t)=>{if(r(t).hasClass("changed")){let e=r(t),a=e.find(".field input")[0].id;if(e.find(".field input:checked").val()){let t=e.find(".select-timer .timer-item-wrap .property-value").attr("data-value"),i=this.data_form.fields.find(e=>e.var===a),n=this.data_form.fields.indexOf(i);i.values=[t],this.data_form.fields[n]=i,m=!0}else{let e=this.data_form.fields.find(e=>e.var===a);if(e.values.length){let t=this.data_form.fields.indexOf(e);e.values=[],this.data_form.fields[t]=e,m=!0}}}}),l&&this.contact.pubAvatar(l,"#"+n,()=>{this.$(".buttons-wrap button").removeClass("non-active"),s.find(".preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active"),this.$(`.participant-details-item[data-id="${n}"] .circle-avatar`).setAvatar(l.base64,this.member_details_avatar_size),this.close()},function(e){this.$(".buttons-wrap button").removeClass("non-active"),s.find(".preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active");let t=r(e).find("text").text()||i.getString("groupchat_you_have_no_permissions_to_do_it");u||d.dialogs.error(t)}),u&&this.account.sendIQ(g,()=>{this.$(".buttons-wrap button").removeClass("non-active"),this.participant.set("nickname",o),this.close()},e=>{this.$(".buttons-wrap button").removeClass("non-active"),this.close(),r(e).find("not-allowed").length&&d.dialogs.error(i.getString("groupchat_you_have_no_permissions_to_do_it"))}),m){let e=c({from:a,type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("query",{xmlns:p.NS.GROUP_CHAT+"#rights"});e=this.account.addDataFormToStanza(e,this.data_form),this.account.sendIQ(e,()=>{this.close()},e=>{this.close(),r(e).find("not-allowed").length&&d.dialogs.error(i.getString("groupchat_you_have_no_permissions_to_do_it"))})}t.blur()}}),i.ParticipantPropertiesViewRight=i.BasicView.extend({className:"modal dialog-modal edit-rights",template:o.group_chats.participant_details_right,member_details_avatar_size:s.AVATAR_SIZES.PARTICIPANT_DETAILS_ITEM,events:{"click .btn-back:not(.btn-top)":"close","click .btn-back.btn-top":"scrollToTopSmooth","click .btn-edit-participant":"showNamePanel","click .btn-back-name":"hidePanel","change .clickable-field input":"changeRights","click .btn-reset":"render","click .btn-reset-name":"resetPanel","click .btn-save-user-rights":"saveRights","change .circle-avatar input":"changeAvatar","click .btn-kick-participant":"kickParticipantDialog","click .btn-set-visibility-wrap":"setVisibility","click .info-hover":"onClickIcon","click .btn-set-badge":"editBadge","click .btn-participant-messages":"getMessages","click .btn-chat-participant":"getPrivateChat","click .property-variant":"changeTimerValue","click .set-groupchat-avatar-text":"clickAvatarInput","keydown .rich-textarea":"checkKeydown","keyup .rich-textarea":"checkKeyup","click .list-variant":"changeList"},_initialize:function(){this.contact=this.model,this.account=this.model.account},open:function(e,t){if(this.model.set("participant_hidden",!1),this.parent.scrollToTop(),this.parent.ps_container.length&&this.parent.ps_container.perfectScrollbar("destroy"),this.$(".participant-details-wrap").hideIf(this.model.get("participant_hidden")),!!e){this.participant=e,this.participant.on("change:badge",this.onBadgeUpdated,this),this.data_form=t,this.render(),this.updateSaveButton();let a={inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"};this.$(".select-timer .dropdown-button").dropdown(a),this.$(".participant-details-item .dropdown-button").dropdown(m.extend(a,{alignment:"right"}))}},close:function(){this.model.set("participant_hidden",!0),this.parent.ps_container.length&&(this.parent.ps_container.perfectScrollbar(m.extend(this.parent.ps_settings||{},i.ps_settings)),this.parent.onScroll()),this.ps_container&&this.ps_container.length&&this.ps_container.perfectScrollbar("destroy"),this.$(".participant-details-wrap").hideIf(this.model.get("participant_hidden"))},render:function(){this.$el.html(this.template(m.extend({view:this},s))),this.new_avatar="";let e=m.clone(this.participant.attributes);e.nickname=m.escape(e.nickname),e.blocked=e.blocked,e.pretty_present=e.present?u(e.present).isValid()?u(e.present).fromNow():u(e.present.substr(0,e.present.length-1)).fromNow():"",e.subscription=null===e.subscription?null:"both",e.badge=m.escape(e.badge),e.is_myself=e.jid===this.account.get("jid"),e.is_blocked_contact=this.account.blocklist.isBlocked(e.jid),e.incognito_chat=!!(this.contact.get("group_info")&&"incognito"===this.contact.get("group_info").privacy);let t;this.contact.get("private_chat")?(this.$el.addClass("edit-rights-private"),t=r(o.group_chats.private_participant_details_item_right(e))):t=r(o.group_chats.participant_details_item_right(e)),this.$(".participant-details-info-wrap").html(t),this.$(".buttons-wrap .button-wrap:not(.btn-chat-wrap):not(.btn-participant-messages-wrap)").switchClass("non-active",null===e.subscription),this.$(".btn-chat-wrap").switchClass("non-active",this.participant.get("jid")===this.account.get("jid")),this.updateMemberAvatar(this.participant),this.participant_messages=[],this.actual_rights=[],this.contact.get("private_chat")?(this.$(".modal-content").addClass("hidden"),this.$(".modal-footer").switchClass("hidden",this.participant.get("jid")!==this.account.get("jid"))):this.setActualRights(),this.updateScrollBar(),this.$(".participant-info #edit-nickname").on("focusout",()=>{let e=this.$("#edit-nickname").getTextFromRichTextarea().trim();""===e&&(e=this.participant.get("nickname")),this.$(".participant-info #edit-nickname").hide(),this.$(".participant-info .nickname").show(),this.updateNickname(e)}),this.ps_container=this.$(".participant-details-wrap"),this.ps_container.length&&this.ps_container.perfectScrollbar(m.extend(this.parent.ps_settings||{},i.ps_settings)),this.ps_container.on("ps-scroll-up ps-scroll-down",this.onScroll.bind(this)),this.onScroll(),this.participant_name_field=new i.ParticipantNameRightWidget({el:this.$(".edit-participant-name-wrap")[0],model:this.participant,parent:this}),this.participant_badge_field=new i.ParticipantBadgeRightWidget({el:this.$(".edit-participant-badge-wrap")[0],model:this.participant,parent:this}),this.updateList("media"),i.once("update_css",this.updateIndicator,this),this.updateIndicator(),this.$(".participant-details-edit-wrap").hideIf(!0),this.$(".block-name:not(.second-text)").hideIf(!0)},updateIndicator:function(){this.$(".tabs .indicator").remove(),this.$(".tabs").tabs(),this.$(".indicator").addClass("ground-color-500")},showNamePanel:function(){this.$(".participant-details-edit-wrap").hideIf(!1),this.$(".btn-edit-participant").hideIf(!0),this.$(".parent-btn").hideIf(!0),this.$(".child-btn").hideIf(!1),this.$(".block-header").css({"background-color":"rgba(255,255,255,0)"}),this.$(".block-name.second-text").text(""),this.$(".block-name:not(.second-text)").text(i.getString("groupchat_member_edit")),this.$(".block-name:not(.second-text)").hideIf(!1),this.ps_container&&this.ps_container.length&&this.ps_container.perfectScrollbar("destroy"),this.ps_container=this.$(".participant-details-edit-wrap"),this.ps_container.length&&this.ps_container.perfectScrollbar(m.extend(this.parent.ps_settings||{},i.ps_settings))},changeBackButton:function(){this.$(".parent-btn").hideIf(!1),this.$(".child-btn").hideIf(!0)},hidePanel:function(){this.$(".participant-details-edit-wrap").hideIf(!0),this.$(".btn-edit-participant").hideIf(!1),this.$(".parent-btn").hideIf(!1),this.$(".child-btn").hideIf(!0),this.$(".block-name:not(.second-text)").hideIf(!0),this.ps_container=this.$(".participant-details-wrap"),this.ps_container.length&&this.ps_container.perfectScrollbar(m.extend(this.parent.ps_settings||{},i.ps_settings)),this.ps_container&&this.ps_container.length&&this.ps_container.perfectScrollbar(m.extend(this.parent.ps_settings||{},i.ps_settings)),this.onScroll()},resetPanel:function(){this.participant_name_field.updateValue(!0),this.participant_badge_field.updateValue(!0),this.new_avatar="",this.updateMemberAvatar(this.participant),this.updateSaveButton()},changeList:function(e){let t=r(e.target).closest(".list-variant"),a=t.data("value");this.$(".tabs").animate({scrollLeft:t.position().left},400),this.updateList(a)},updateList:function(e){let t=this.child(e);t||(t=this.addList(e)),t&&(this.$(".tabs .list-variant a").removeClass("active"),this.$(".tabs .list-variant[data-value=\""+e+"\"] a").addClass("active"),t._render())},addList:function(e){let t;return"media"===e?t=i.MediaView:"files"===e?t=i.FilesView:"links"===e?t=i.FilesView:"voice"===e?t=i.FilesView:void 0,t?this.addChild(e,t,{model:this.model,el:this.$(".participants-details-media-wrap")[0]}):void 0},changeName:function(){this.updateSaveButton()},changeBadge:function(){this.updateSaveButton()},onClickIcon:function(e){let t=r(e.target),a=t.find(".value"),n="";a.each((e,t)=>{let a=r(t),s=a.text();s&&""!=n&&(n+="\n"),s&&(n+=s),n&&d.copyTextToClipboard(n,i.getString("toast__copied_in_clipboard"),i.getString("toast__not_copied_in_clipboard"))})},scrollToTopSmooth:function(){this.ps_container.animate({scrollTop:0},400,()=>{this.onScroll()})},onScroll:function(){220<=this.ps_container[0].scrollTop?(this.$(".block-header").css({"background-color":"rgba(255,255,255,1)"}),this.$(".block-name.second-text").text(this.participant.get("nickname")),this.$(".block-name.second-text").removeClass("fade-out"),this.$(".block-name:not(.second-text)").addClass("fade-out")):170<=this.ps_container[0].scrollTop?(this.$(".block-header").css({"background-color":"rgba(255,255,255,1)"}),this.$(".block-name.second-text").addClass("fade-out"),this.$(".block-name:not(.second-text)").removeClass("fade-out")):1<=this.ps_container[0].scrollTop?(this.$(".block-header").css({"background-color":"rgba(255,255,255,0.5)"}),this.$(".block-name.second-text").addClass("fade-out"),this.$(".block-name:not(.second-text)").removeClass("fade-out")):(this.$(".block-header").css({"background-color":"rgba(255,255,255,0)"}),this.$(".block-name.second-text").text(""),this.$(".block-name.second-text").addClass("fade-out"),this.$(".block-name:not(.second-text)").removeClass("fade-out"));let e;this.$(".bottom-block")&&(e=this.$(".bottom-block").get(0).getBoundingClientRect().top),e&&150>e?(this.$(".bottom-block .tabs").addClass("fixed-scroll"),this.$(".btn-back").addClass("btn-top"),this.$(".btn-back i").addClass("mdi-arrow-right").removeClass("mdi-close"),this.$(".bottom-block .participants-search-form").addClass("fixed-scroll"),this.$(".buttons-wrap").hideIf(!0),this.$(".btn-edit").hideIf(!0),this.$(".btn-qr-code").hideIf(!0),this.$(".header-buttons .block-name:not(.second-text)").addClass("fade-out"),this.$(".header-buttons .block-name.second-text").removeClass("fade-out"),this.$(".header-buttons .block-name.second-text").text(this.$(".tabs:not(.participant-tabs) .list-variant .active").text())):(this.$(".btn-back").removeClass("btn-top"),this.$(".btn-back i").addClass("mdi-close").removeClass("mdi-arrow-right"),this.$(".bottom-block .tabs").removeClass("fixed-scroll"),this.$(".bottom-block .participants-search-form").removeClass("fixed-scroll"),this.$(".buttons-wrap").hideIf(!1),this.$(".btn-edit").hideIf(!1),this.$(".btn-qr-code").hideIf(!1))},clickAvatarInput:function(){this.$(".circle-avatar input").click()},updateMemberAvatar:function(e){let t=e.get("id"),a=this.$(`.circle-avatar`);if(e.image=h.getDefaultAvatar(e.get("nickname")||e.get("jid")||t),a.setAvatar(e.image,this.member_details_avatar_size),a.removeClass("changed"),!e.get("avatar"))this.account.chat_settings.getHashAvatar(t)&&a.setAvatar(this.account.chat_settings.getB64Avatar(t),this.member_details_avatar_size);else if(this.account.chat_settings.getHashAvatar(t)==e.get("avatar")&&this.account.chat_settings.getB64Avatar(t))a.setAvatar(this.account.chat_settings.getB64Avatar(t),this.member_details_avatar_size);else if(e.get("avatar_url"))a.setAvatar(e.get("avatar_url"),this.member_details_avatar_size);else{let a=p.NS.PUBSUB_AVATAR_DATA+"#"+t;this.contact.getAvatar(e.get("avatar"),a,e=>{this.$(`.circle-avatar`).setAvatar(e,this.member_details_avatar_size)})}},updateRightsView:function(e){r(e.target).hasClass("non-active")||this.render(this.participant)},getMessages:function(e){let t=this.account.chats.getChat(this.contact);t.messages_view=new i.ParticipantMessagesView({model:t,contact:this.contact,participant:this.participant.attributes}),t.messages_view.messagesRequest(e,()=>{i.body.setScreen("all-chats",{right:"participant_messages",model:t}),this.open(this.participant,this.data_form)})},changeAvatar:function(e){let t=e.target;if(!t.files.length)return;let a=t.files[0];return(t.value="",a.size>s.MAX_AVATAR_FILE_SIZE)?void d.dialogs.error(i.getString("group_settings__error__avatar_too_large")):a.type.startsWith("image")?void d.images.getAvatarFromFile(a).done(e=>{e&&(a.base64=e,this.new_avatar=a,this.$(".participant-details-edit-wrap .circle-avatar").addClass("changed"),this.$(".circle-avatar").setAvatar(e,this.member_details_avatar_size),this.updateSaveButton())}):void d.dialogs.error(i.getString("group_settings__error__wrong_image"))},changeTimerValue:function(e){let t=r(e.target),a=t.closest(".select-timer").find(".property-value"),n=t.closest(".right-item").find("input");t.attr("data-value")!==a.attr("data-value")&&(t.closest(".right-item").addClass("changed-timer changed"),this.updateSaveButton()),a.text(t.text()),a.attr("data-value",t.attr("data-value")),"0"===t.attr("data-value")?a.addClass("default-value").text(i.getString("dialog_rights__button_set_timer")):a.hasClass("default-value")&&a.removeClass("default-value"),n.prop("checked")||n.click()},onBadgeUpdated:function(e){let t=m.escape(e.get("badge"));this.updateBadge(t)},updateBadge:function(e){this.$(".badge").html(e).switchClass("hidden",!e),this.$(".participant-info").emojify(".badge"),this.$(".participant-info").emojify(".participant-edit-badge")},updateButtons:function(e){this.$(".btn-save-user-rights").switchClass("non-active",!e),this.$(".btn-save-user-rights").switchClass("fade-out",!e),this.$(".btn-edit-participant").switchClass("fade-out",e),e?(this.$(".block-name.second-text").html(i.getString("edit_vcard")),this.$(".block-header .details-icon").removeClass("mdi-arrow-right").addClass("mdi-close"),this.$(".block-header .details-icon.parent-btn").removeClass("btn-back").addClass("btn-reset"),this.$(".block-header .details-icon.child-btn").removeClass("btn-back-name").addClass("btn-reset-name"),this.$(".block-header .block-name:not(.second-text)").addClass("fade-out"),this.$(".block-header .block-name.second-text").removeClass("fade-out")):(this.$(".block-header .details-icon").addClass("mdi-arrow-right").removeClass("mdi-close"),this.$(".block-header .details-icon.parent-btn").addClass("btn-back").removeClass("btn-reset"),this.$(".block-header .details-icon.child-btn").addClass("btn-back-name").removeClass("btn-reset-name"),this.$(".block-header .block-name:not(.second-text)").removeClass("fade-out"),this.$(".block-header .block-name.second-text").addClass("fade-out"))},updateSaveButton:function(){let e=this.$(".changed").length;this.updateButtons(e)},updateNickname:function(e){let t=this.$(".participant-details-item[data-id=\""+this.participant.get("id")+"\"]"),a=t.find(".nickname");a.html(p.xmlescape(e)),t.emojify(".nickname"),e===this.participant.get("nickname")?a.removeClass("changed"):a.addClass("changed"),this.updateSaveButton()},editNickname:function(){this.contact.get("private_chat")&&this.account.get("jid")!==this.participant.get("jid")||(this.$(".participant-info .nickname").hide(),this.$(".participant-info #edit-nickname").text(this.$(".participant-info .nickname").text()).show().placeCaretAtEnd())},editBadge:function(e){r(e.target).closest(".button-wrap").hasClass("non-active")||(this.edit_badge_panel=new i.EditBadgeView({model:this}))},checkKeydown:function(e){e&&e.keyCode===s.KEY_ENTER&&(e.preventDefault(),r(document.activeElement).blur())},checkKeyup:function(e){let t=r(e.target),a=t.getTextFromRichTextarea().trim();if("edit-nickname"===e.target.id){let e=a!==this.participant.get("nickname");this.updateButtons(e)}},retractUserMessages:function(){d.dialogs.ask(i.getString("dialog_delete_user_messages__header"),i.getString("dialog_delete_user_messages__header",[this.participant.get("nickname")||this.participant.get("jid")||this.participant.get("id")]),null,{ok_button_text:i.getString("delete")}).done(e=>{if(e&&this.participant.get("id")){let e=this.account.chats.getChat(this.contact);e.retractMessagesByUser(this.participant.get("id"))}})},block:function(){d.dialogs.ask(i.getString("groupchat__dialog_block_member__header"),i.getString("groupchat__dialog_block_member__confirm",[this.participant.get("nickname")]),null,{ok_button_text:i.getString("groupchat_block")}).done(e=>{e&&this.participant.block(()=>{this.close()},function(e){r(e).find("not-allowed").length&&d.dialogs.error(i.getString("groupchat_you_have_no_permissions_to_do_it"))})})},kick:function(e){r(e.target).closest(".button-wrap").hasClass("non-active")||d.dialogs.ask(i.getString("groupchat_kick_member"),i.getString("groupchat_do_you_really_want_to_kick_membername",[this.participant.get("nickname")]),null,{ok_button_text:i.getString("groupchat_kick")}).done(e=>{e&&this.participant.kick(()=>{this.close()},e=>{r(e).find("not-allowed").length&&d.dialogs.error(i.getString("groupchat_you_have_no_permissions_to_do_it"))})})},kickParticipantDialog:function(e){r(e.target).closest(".button-wrap").hasClass("non-active")||d.dialogs.ask_extended(i.getString("groupchat_kick_member"),i.getString("groupchat_do_you_really_want_to_kick_membername",[this.participant.get("nickname")]),null,{ok_button_text:i.getString("groupchat_kick"),optional_button:"block",optional_button_text:i.getString("groupchat_block")}).done(e=>{e&&("block"===e?this.participant.block(()=>{this.close()},function(e){r(e).find("not-allowed").length&&d.dialogs.error(i.getString("groupchat_you_have_no_permissions_to_do_it"))}):this.participant.kick(()=>{this.close()},e=>{r(e).find("not-allowed").length&&d.dialogs.error(i.getString("groupchat_you_have_no_permissions_to_do_it"))}))})},setVisibility:function(){d.dialogs.error("Feature not yet implemented")},setActualRights:function(){this.$(".rights-wrap").html(""),this.data_form.fields&&this.data_form.fields.forEach(e=>{if(e=m.clone(e),"list-single"===e.type||"fixed"===e.type&&(!e.values||0==e.values[0]||e.values&&e.label)){e.values||(e.values=[]);let t={pretty_name:e.label,name:e.var,expires:e.values?e.values[0]:void 0},a=r(o.group_chats.restriction_item({name:t.name,pretty_name:t.pretty_name,type:e.type})),i;if(e.options&&(i=r(o.group_chats.right_expire_variants({right_name:"default-"+t.name,expire_options:e.options})),a.append(i)),this.$(".rights-wrap").append(a),t.expires&&(this.actual_rights.push({name:t.name,expires:t.expires}),this.$(".right-item #"+t.name).prop("checked",!0).addClass(t.expires),0!=t.expires)){let e=this.$(".right-item.restriction-"+t.name);e.find(".select-timer .property-value").length?e.find(".select-timer .property-value").attr("data-value",t.expires).removeClass("default-value").text(u(1e3*+t.expires).fromNow()):(e.append(r("<div class=\"select-timer\"/>")),e.find(".select-timer").attr("data-value",t.expires).text(u(1e3*+t.expires).fromNow()))}}else"fixed"===e.type&&e.values&&this.$(".rights-wrap").append(r("<div class=\"rights-header\"/>").text(e.values[0]))})},getPrivateChat:function(e){if(r(e.target).closest(".button-wrap").hasClass("non-active"))return;let t=this.participant.get("jid"),a=this.account.contacts.get(t);if(!t||this.contact.get("incognito_chat")){let e=c({to:this.contact.domain,type:"set"}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#create`}).c("peer-to-peer",{jid:this.contact.get("jid"),id:this.participant.get("id")});this.account.sendIQ(e,e=>{let t=r(e).find("query localpart").text()+"@"+this.contact.domain,a=this.account.contacts.mergeContact(t);a.set("group_chat",!0),a.set("subscription_preapproved",!0),a.pres("subscribed"),a.pushInRoster(null,()=>{a.pres("subscribe"),a.getMyInfo(),this.close(),a.sendPresent(),this.account.chats.openChat(a);let e=this.account.chats.getChat(a);e.messages.createSystemMessage({from_jid:t,message:i.getString("groupchat__private_chat__text_message_init",[this.participant.get("nickname"),this.contact.get("jid")])})})},e=>{let t=r(e),a=t.find(`x[xmlns="${p.NS.GROUP_CHAT}"] jid`).text();if(a){let e=this.account.contacts.mergeContact(a),t=this.account.chats.getChat(e);return this.close(),void(t&&t.trigger("open"))}let n=r(e).find("text[lang=\"en\"]").text()||r(e).find("text").first().text()||i.getString("groupchat_you_have_no_permissions_to_do_it");this.close(),d.dialogs.error(n)})}else{if(a&&a.get("in_roster"))return this.close(),void a.trigger("open_chat",a);this.close(),i.add_contact_view.show({account:this.account,jid:t})}},changeRights:function(e){let t=r(e.target),a=t.closest(".right-item"),n=t.prop("id");t.prop("checked")?this.actual_rights&&!this.actual_rights.find(e=>e.name===n)?a.addClass("changed"):a.hasClass("changed-timer")?a.addClass("changed"):a.removeClass("changed"):this.actual_rights&&this.actual_rights.find(e=>e.name===n)?a.addClass("changed"):(a.removeClass("changed"),a.hasClass("changed-timer")&&a.find(".timer-item-wrap .property-value").addClass("default-value").text(i.getString("dialog_rights__button_set_timer")).attr("data-value","")),this.updateSaveButton()},saveRights:function(e){if(r(e.target).hasClass("non-active"))return;let t=r(e.target),a=this.account.get("jid"),n=this.participant.get("id"),s=this.$(".participant-details-item .circle-avatar"),o=this.$(".participant-name-input").val(),l=this.$(".participant-badge-input").val(),m=this.new_avatar,u=!1,g=!1,h=c({from:a,type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("query",{xmlns:p.NS.GROUP_CHAT+"#members"}).c("user",{xmlns:p.NS.GROUP_CHAT,id:n});if(this.$(".buttons-wrap .btn-save-user-rights").addClass("non-active"),m&&s.find(".preloader-wrap").addClass("visible").find(".preloader-wrapper").addClass("active"),o!=this.participant.get("nickname")&&(g=!0,h.c("nickname").t(o).up()),32<Array.from(l).length?d.dialogs.error(i.getString("groupchat__set_badge__error_length")):l!=this.participant.get("badge")&&(g=!0,h.c("badge").t(l).up()),this.$(".right-item").each((e,t)=>{if(r(t).hasClass("changed")){let e=r(t),a=e.find(".field input")[0].id;if(e.find(".field input:checked").val()){let t=e.find(".select-timer .timer-item-wrap .property-value").attr("data-value"),i=this.data_form.fields.find(e=>e.var===a),n=this.data_form.fields.indexOf(i);i.values=[t],this.data_form.fields[n]=i,u=!0}else{let e=this.data_form.fields.find(e=>e.var===a);if(e.values.length){let t=this.data_form.fields.indexOf(e);e.values=[],this.data_form.fields[t]=e,u=!0}}}}),m&&this.contact.pubAvatar(m,"#"+n,()=>{s.find(".preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active"),this.$(`.circle-avatar`).setAvatar(m.base64,this.member_details_avatar_size),this.close()},function(e){s.find(".preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active");let t=r(e).find("text").text()||i.getString("groupchat_you_have_no_permissions_to_do_it");g||d.dialogs.error(t),this.close()}),g&&this.account.sendIQ(h,()=>{this.$(".buttons-wrap button").removeClass("non-active"),this.participant.set("nickname",o),this.close()},e=>{this.$(".buttons-wrap button").removeClass("non-active"),this.close(),r(e).find("not-allowed").length&&d.dialogs.error(i.getString("groupchat_you_have_no_permissions_to_do_it"))}),u){let e=c({from:a,type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("query",{xmlns:p.NS.GROUP_CHAT+"#rights"});e=this.account.addDataFormToStanza(e,this.data_form),this.account.sendIQ(e,()=>{this.close()},e=>{this.close(),r(e).find("not-allowed").length&&d.dialogs.error(i.getString("groupchat_you_have_no_permissions_to_do_it"))})}t.blur()}}),i.EditBadgeView=i.BasicView.extend({className:"modal edit-badge",template:o.group_chats.badge_edit_view,events:{"click .btn-cancel":"close","click .btn-save":"saveNewBadge","keydown .badge-text":"checkKey"},_initialize:function(){this.account=this.model.account,this.contact=this.model.contact,this.participant=this.model.participant,this.$el.openModal({ready:()=>{this.participant.get("badge")?this.typeEmoticon(this.participant.get("badge")):this.$(".badge-text").focus()},complete:()=>{this.$el.detach(),this.data.set("visible",!1)}});let e=this.$(".insert-emoticon"),t=this.$(".emoticons-panel-wrap"),a=this.$(".emoticons-panel"),n;for(let e in v.all){let t=r(`<div class="emoji-list-wrap"/>`),n=e.replace(/ /g,"_");r(`<div id=${n} class="emoji-list-header">${i.getString(s.EMOJI_LIST_NAME(e))}</div>`).appendTo(t),m.each(v.all[e],function(e){r("<div class=\"emoji-wrap\"/>").html(e.emojify({emoji_size:24,sprite:n})).appendTo(t)}),t.appendTo(a),a.siblings(".emoji-menu").append(v.all[e][0].emojify({href:n,title:s.EMOJI_LIST_NAME(e),tag_name:"a",emoji_size:20}))}a.perfectScrollbar(m.extend({theme:"item-list"},i.ps_settings)),this.$(".emoji-menu .emoji").click(e=>{a[0].scrollTop=this.$(".emoji-list-wrap "+e.target.attributes.href.value)[0].offsetTop-4}),e.hover(e=>{e&&e.preventDefault&&e.preventDefault(),t.addClass("opened"),n&&clearTimeout(n),a.perfectScrollbar("update")},e=>{e&&e.preventDefault&&e.preventDefault(),n&&clearTimeout(n),n=setTimeout(function(){t.is(":hover")||t.removeClass("opened")},800)}),t.hover(null,e=>{e&&e.preventDefault&&e.preventDefault(),n&&clearTimeout(n),n=setTimeout(function(){t.removeClass("opened")},200)}),t.mousedown(e=>{if(e&&e.preventDefault&&e.preventDefault(),!e.button){let t=r(e.target).closest(".emoji-wrap").find(".emoji");t.length&&this.typeEmoticon(t.data("emoji"))}})},close:function(){this.$el.closeModal({complete:()=>{this.$el.detach(),this.data.set("visible",!1)}})},saveNewBadge:function(){let e=this.$(".badge-text").getTextFromRichTextarea();if(32<Array.from(e).length)this.$(".modal-content .error").text(i.getString("groupchat__set_badge__error_length"));else if(e!=this.participant.get("badge")){let t=c({from:this.account.get("jid"),type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#members`}).c("user",{xmlns:p.NS.GROUP_CHAT,id:this.participant.get("id")}).c("badge").t(e);this.account.sendIQ(t,()=>{this.model.updateBadge(e),this.close()},()=>{this.$(".modal-content .error").text(i.getString("groupchat_you_have_no_permissions_to_do_it"))})}},typeEmoticon:function(e){let t=e.emojify({tag_name:"span"}),a=this.$(".badge-text");a.focus().pasteHtmlAtCaret(t)},checkKey:function(e){e.keyCode===s.KEY_ENTER&&(e.preventDefault(),this.saveNewBadge())}}),i.DefaultRestrictionsView=i.BasicView.extend({className:"modal dialog-modal edit-default-restrictions",template:o.group_chats.default_restrictions,events:{"click .btn-default-restrictions-save":"saveChanges","click .btn-default-restrictions-cancel":"close","change #default_restriction_expires":"changeExpiresTime","click .group-info-editor .property-variant":"changePropertyValue","click .select-timer .property-variant":"changeTimerValue","click .clickable-field input":"changeRestriction","keyup .clickable-field input":"keyUpInput","change .clickable-field input":"updateSaveButton"},_initialize:function(){this.contact=this.model,this.account=this.contact.account},open:function(){this.update(()=>{this.$el.openModal({ready:()=>{this.$(".select-timer .dropdown-button").dropdown({inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"}),this.updateScrollBar()},complete:()=>{this.$el.detach(),this.data.set("visible",!1)}})})},close:function(){this.$el.closeModal({complete:()=>{this.hide.bind(this)}})},update:function(e){this.$(".btn-default-restrictions-save").addClass("non-active"),this.default_restrictions=[],this.actual_default_restrictions=[],this.$("button").blur();let t=c({from:this.account.get("jid"),type:"get",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#default-rights`});this.account.sendFast(t,t=>{this.showDefaultRestrictions(t),e&&e()},()=>{d.callback_popup_message(i.getString("groupchat_you_have_no_permissions_to_do_it"),3e3)})},updateSaveButton:function(){let e=!1;this.$(".default-restrictions-list-wrap .right-item").each((t,a)=>{let i=r(a),n=i.find("input").attr("id"),s=i.find(".select-timer .property-value").attr("data-value");n=n.slice(8,n.length),this.actual_default_restrictions.find(e=>e.name==n&&e.expires==s)||(i.find("input").prop("checked")?e=!0:this.actual_default_restrictions.find(e=>e.name==n)&&(e=!0))}),this.$(".btn-default-restrictions-save").switchClass("non-active",!e)},changeRestriction:function(e){let t=r(e.target);t.prop("checked")||t.closest(".right-item").find(".select-timer .property-value").attr("data-value","").addClass("default-value").text(i.getString("dialog_rights__button_set_timer"))},keyUpInput:function(e){e&&e.keyCode===s.KEY_ENTER&&r(e.target).click()},changePropertyValue:function(e){let t=r(e.target),a=t.closest(".property-field").find(".property-value");a.text(t.text()),a.attr("data-value",t.attr("data-value"))},changeTimerValue:function(e){let t=r(e.target),a=t.closest(".select-timer").find(".property-value"),n=t.closest(".right-item").find("input");a.text(t.text()),a.attr("data-value",t.attr("data-value")),0==t.attr("data-value")?(a.addClass("default-value"),a.text(i.getString("dialog_rights__button_set_timer"))):a.hasClass("default-value")&&a.removeClass("default-value"),n.prop("checked")||n.prop("checked",!0),this.updateSaveButton()},showDefaultRestrictions:function(e){let t=this.account.parseDataForm(r(e).find(`x[xmlns="${p.NS.DATAFORM}"]`));t&&(this.default_restrictions=m.clone(t)),t.fields.forEach(e=>{if("fixed"===e.type||"hidden"===e.type)return;let t={pretty_name:e.label,name:e.var,expires:e.values?e.values[0]:void 0},a=this.$(".default-restrictions-list-wrap .right-item.restriction-default-"+t.name),i=r(o.group_chats.restriction_item({name:"default-"+t.name,pretty_name:t.pretty_name,type:e.type})),n=r(o.group_chats.right_expire_variants({right_name:"default-"+t.name,expire_options:e.options}));if(a.length&&a.detach(),i.append(n),this.$(".default-restrictions-list-wrap").append(i),t.expires&&(this.actual_default_restrictions.push({name:t.name,expires:t.expires}),this.$(".right-item #default-"+t.name).prop("checked",!0).addClass(t.expires),0!=t.expires)){let a=this.$(".right-item.restriction-default-"+t.name);a.find(".select-timer .property-value").attr("data-value",t.expires).removeClass("default-value").text(e.options.find(e=>e.value===t.expires).label)}})},saveChanges:function(){if(this.$(".btn-default-restrictions-save").hasClass("non-active"))return;this.$("button").blur();let e=c({from:this.account.get("jid"),to:this.contact.get("full_jid")||this.contact.get("jid"),type:"set"}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#default-rights`}),t=!1,a=m.clone(this.default_restrictions);this.$(".default-restrictions-list-wrap .right-item").each((e,i)=>{let n=r(i),s=n.find("input").attr("id"),o=n.find(".select-timer .property-value").attr("data-value");if(s=s.slice(8,s.length),!this.actual_default_restrictions.find(e=>e.name==s&&e.expires==o))if(n.find("input").prop("checked")){let e=a.fields.find(e=>e.var===s),i=a.fields.indexOf(e);e.values=[o],a.fields[i]=e,t=!0}else if(this.actual_default_restrictions.find(e=>e.name==s)){let e=a.fields.find(e=>e.var===s),i=a.fields.indexOf(e);e.values=[""],a.fields[i]=e,t=!0}}),t&&(this.account.addDataFormToStanza(e,a),this.account.sendIQ(e,()=>{this.close()},e=>{let t=r(e).find("error text").text()||i.getString("groupchat_you_have_no_permissions_to_do_it");d.dialogs.error(t),this.close()}))},changeExpiresTime:function(e){let t=r(e.target),a=t.val(),n=t.prev();"0"==t.val()?n.find(".restriction-description").text(i.getString("groupchat__rights_timer__indefinitely")):n.find(".restriction-description").text(i.getString("groupchat__rights_timer__text_expire",[+a])),n.find("input").removeClass().addClass(a),t.remove()}}),i.DefaultRestrictionsRightView=i.BasicView.extend({className:"modal dialog-modal edit-default-restrictions",template:o.group_chats.default_restrictions_right,events:{"click .btn-default-restrictions-save":"saveChanges","click .btn-default-restrictions-cancel":"hideRestrictions","click .btn-back":"hideRestrictions","click .btn-reset":"showRestrictions","change #default_restriction_expires":"changeExpiresTime","click .group-info-editor .property-variant":"changePropertyValue","click .select-timer .property-variant":"changeTimerValue","click .clickable-field input":"changeRestriction","keyup .clickable-field input":"keyUpInput","change .clickable-field input":"updateSaveButton"},_initialize:function(){this.contact=this.model,this.account=this.contact.account,this.model.set("restrictions_hidden",!0)},render:function(){this.$el.html(this.template(m.extend({view:this},s))),this.$(".restrictions-wrap").hideIf(this.model.get("restrictions_hidden"))},showRestrictions:function(){this.model.set("restrictions_hidden",!1),this.update(()=>{this.$(".select-timer .dropdown-button").dropdown({inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"}),this.$(".restrictions-wrap").hideIf(this.model.get("restrictions_hidden")),this.updateSaveButton()})},hideRestrictions:function(){this.parent.hideRestrictions()},open:function(){this.update(()=>{this.$el.openModal({ready:()=>{this.$(".select-timer .dropdown-button").dropdown({inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"}),this.updateScrollBar()},complete:()=>{this.$el.detach(),this.data.set("visible",!1)}})})},update:function(e){this.$(".btn-default-restrictions-save").addClass("fade-out"),this.default_restrictions=[],this.actual_default_restrictions=[],this.$("button").blur();let t=c({from:this.account.get("jid"),type:"get",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#default-rights`});this.account.sendFast(t,t=>{this.showDefaultRestrictions(t),e&&e()},()=>{d.callback_popup_message(i.getString("groupchat_you_have_no_permissions_to_do_it"),3e3)})},updateSaveButton:function(){let e=!1;this.$(".default-restrictions-list-wrap .right-item").each((t,a)=>{let i=r(a),n=i.find("input").attr("id"),s=i.find(".select-timer .property-value").attr("data-value");n=n.slice(8,n.length),this.actual_default_restrictions.find(e=>e.name==n&&e.expires==s)||(i.find("input").prop("checked")?e=!0:this.actual_default_restrictions.find(e=>e.name==n)&&(e=!0))}),this.$(".btn-default-restrictions-save").switchClass("fade-out",!e),e?(this.$(".block-name.second-text").html(i.getString("edit_vcard")),this.$(".restrictions-header .details-icon").removeClass("mdi-arrow-right").addClass("mdi-close"),this.$(".restrictions-header .details-icon").removeClass("btn-back").addClass("btn-reset"),this.$(".restrictions-header .block-name:not(.second-text)").addClass("fade-out"),this.$(".restrictions-header .block-name.second-text").removeClass("fade-out")):(this.$(".restrictions-header .details-icon").addClass("mdi-arrow-right").removeClass("mdi-close"),this.$(".restrictions-header .details-icon").addClass("btn-back").removeClass("btn-reset"),this.$(".restrictions-header .block-name:not(.second-text)").removeClass("fade-out"),this.$(".restrictions-header .block-name.second-text").addClass("fade-out"))},changeRestriction:function(e){let t=r(e.target);t.prop("checked")||t.closest(".right-item").find(".select-timer .property-value").attr("data-value","").addClass("default-value").text(i.getString("dialog_rights__button_set_timer"))},keyUpInput:function(e){e&&e.keyCode===s.KEY_ENTER&&r(e.target).click()},changePropertyValue:function(e){let t=r(e.target),a=t.closest(".property-field").find(".property-value");a.text(t.text()),a.attr("data-value",t.attr("data-value"))},changeTimerValue:function(e){let t=r(e.target),a=t.closest(".select-timer").find(".property-value"),n=t.closest(".right-item").find("input");a.text(t.text()),a.attr("data-value",t.attr("data-value")),0==t.attr("data-value")?(a.addClass("default-value"),a.text(i.getString("dialog_rights__button_set_timer"))):a.hasClass("default-value")&&a.removeClass("default-value"),n.prop("checked")||n.prop("checked",!0),this.updateSaveButton()},showDefaultRestrictions:function(e){let t=this.account.parseDataForm(r(e).find(`x[xmlns="${p.NS.DATAFORM}"]`));t&&(this.default_restrictions=m.clone(t)),t.fields.forEach(e=>{if("fixed"===e.type||"hidden"===e.type)return;let t={pretty_name:e.label,name:e.var,expires:e.values?e.values[0]:void 0},a=this.$(".default-restrictions-list-wrap .right-item.restriction-default-"+t.name),i=r(o.group_chats.restriction_item({name:"default-"+t.name,pretty_name:t.pretty_name,type:e.type})),n=r(o.group_chats.right_expire_variants({right_name:"default-"+t.name,expire_options:e.options}));if(a.length&&a.detach(),i.append(n),this.$(".default-restrictions-list-wrap").append(i),t.expires&&(this.actual_default_restrictions.push({name:t.name,expires:t.expires}),this.$(".right-item #default-"+t.name).prop("checked",!0).addClass(t.expires),0!=t.expires)){let a=this.$(".right-item.restriction-default-"+t.name);a.find(".select-timer .property-value").attr("data-value",t.expires).removeClass("default-value").text(e.options.find(e=>e.value===t.expires).label)}})},saveChanges:function(){if(this.$(".btn-default-restrictions-save").hasClass("fade-out"))return;this.$(".btn-default-restrictions-save").addClass("fade-out"),this.$(".edit-save-preloader.preloader-wrap").addClass("visible").find(".preloader-wrapper").addClass("active"),this.$("button").blur();let e=c({from:this.account.get("jid"),to:this.contact.get("full_jid")||this.contact.get("jid"),type:"set"}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#default-rights`}),t=!1,a=m.clone(this.default_restrictions);this.$(".default-restrictions-list-wrap .right-item").each((e,i)=>{let n=r(i),s=n.find("input").attr("id"),o=n.find(".select-timer .property-value").attr("data-value");if(s=s.slice(8,s.length),!this.actual_default_restrictions.find(e=>e.name==s&&e.expires==o))if(n.find("input").prop("checked")){let e=a.fields.find(e=>e.var===s),i=a.fields.indexOf(e);e.values=[o],a.fields[i]=e,t=!0}else if(this.actual_default_restrictions.find(e=>e.name==s)){let e=a.fields.find(e=>e.var===s),i=a.fields.indexOf(e);e.values=[""],a.fields[i]=e,t=!0}}),t&&(this.account.addDataFormToStanza(e,a),this.account.sendIQ(e,()=>{this.$(".edit-save-preloader.preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active"),this.hideRestrictions()},e=>{let t=r(e).find("error text").text()||i.getString("groupchat_you_have_no_permissions_to_do_it");d.dialogs.error(t),this.$(".edit-save-preloader.preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active"),this.hideRestrictions()}))},changeExpiresTime:function(e){let t=r(e.target),a=t.val(),n=t.prev();"0"==t.val()?n.find(".restriction-description").text(i.getString("groupchat__rights_timer__indefinitely")):n.find(".restriction-description").text(i.getString("groupchat__rights_timer__text_expire",[+a])),n.find("input").removeClass().addClass(a),t.remove()}}),i.Participant=Backbone.Model.extend({idAttribute:"id",initialize:function(e,t){let a=m.clone(e);this.model=t.model,this.contact=t.contact?t.contact:this.model.contact,this.account=this.contact.account,this.on("change:avatar",this.getBase64Avatar,this),this.set(a),this.getBase64Avatar()},getBase64Avatar:function(){if(this.get("id")&&this.get("avatar")){let e=this.account.chat_settings.getAvatarInfoById(this.get("id"));if(e&&e.avatar_hash==this.get("avatar"))return this.set("b64_avatar",e.avatar_b64),void(this.get("jid")===this.account.get("jid")&&this.contact.trigger("update_my_info"));if(this.get("avatar_url"))this.account.chat_settings.updateCachedAvatars(this.get("id"),this.get("avatar"),this.get("avatar_url")),this.set("b64_avatar",this.get("avatar_url")),this.get("jid")===this.account.get("jid")&&this.contact.trigger("update_my_info");else{let e=p.NS.PUBSUB_AVATAR_DATA+"#"+this.get("id");this.contact.getAvatar(this.get("avatar"),e,e=>{this.account.chat_settings.updateCachedAvatars(this.get("id"),this.get("avatar"),e),this.set("b64_avatar",e),this.get("jid")===this.account.get("jid")&&this.contact.trigger("update_my_info")})}}},kick:function(e,t){let a=this.get("id"),i=this.get("jid"),n=c({type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("kick",{xmlns:p.NS.GROUP_CHAT});i?n.c("jid").t(i):n.c("id").t(a),this.account.sendIQ(n,()=>{e&&e()},e=>{t&&t(e)})},block:function(e,t){let a=this.get("id"),i=c({type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("block",{xmlns:`${p.NS.GROUP_CHAT}#block`}).c("id").t(a);this.account.sendIQ(i,()=>{e&&e()},function(e){t&&t(e)})}}),i.Participants=Backbone.Collection.extend({model:i.Participant,comparator:"nickname",initialize:function(e,t){this.contact=t.contact,this.account=this.contact.account,this.version=this.account.groupchat_settings.getParticipantsListVersion(this.contact.get("jid")),this.getCachedParticipants(),this.contact.on("update_participants",this.updateParticipants,this),this.on("change:nickname",this.sort,this)},updateVersion:function(){this.version=this.account.groupchat_settings.getParticipantsListVersion(this.contact.get("jid"))||this.version},getCachedParticipants:function(){this.account.groupchat_settings.getParticipantsList(this.contact.get("jid")).forEach(e=>{this.mergeParticipant(e)})},mergeParticipant:function(e){"object"!=typeof e&&(e={id:e});let t=this.get(e.id);return t?t.set(e):t=this.create(e,{model:this}),t},resetParticipants:function(){this.version=0,m.each(m.clone(this.models),function(e){e.destroy()})},getRights:function(e){let t=[];return r(e).each((e,a)=>{let i=r(a).attr("name"),n=r(a).attr("translation"),s=r(a).attr("issued-at"),o=r(a).attr("expires");t.push({name:i,pretty_name:n,issued_time:s,expires_time:o})}),t},updateParticipants:function(){this.participantsRequest({version:this.version},()=>{this.trigger("participants_updated"),chat=this.account.chats.getChat(this.contact),chat.item_view&&(!chat.item_view.content&&(chat.item_view.content=new i.ChatContentView({chat_item:chat.item_view})),chat.item_view.content.updatePinnedMessage())})},participantsRequest:function(e,t,a){e=e||{};let i=e.id,n=e.version||0,s=c({to:this.contact.get("full_jid"),type:"get"});null==i?s.c("query",{xmlns:`${p.NS.GROUP_CHAT}#members`,version:n}):e.properties?s.c("query",{xmlns:`${p.NS.GROUP_CHAT}#members`,id:i}):s.c("query",{xmlns:`${p.NS.GROUP_CHAT}#rights`}).c("user",{xmlns:p.NS.GROUP_CHAT,id:i}),this.account.sendFast(s,e=>{let a=r(e),i=a.find("query").attr("version");i&&(this.version=+i),a.find(`query user`).each((e,t)=>{let a=r(t),i=a.find("subscription").text(),n=a.find("id").text();"none"===i?(this.get(n)&&this.get(n).destroy(),this.account.groupchat_settings.removeParticipantFromList(this.get("jid"),n)):this.createFromStanza(a)}),t&&t(e)},e=>{a&&a(e)})},search:function(e){let t=[];return this.models.forEach(a=>{let i=a.get("jid");if(e){e=e.toLowerCase();let n=a.get("nickname");(i&&-1<i.toLowerCase().indexOf(e)||n&&-1<n.toLowerCase().indexOf(e))&&t.push(a)}else t.push(a)}),t},createFromStanza:function(e){let t=e.find("jid").text(),a=e.find("nickname").text(),i=e.attr("id"),n=e.find("badge").text(),s=e.find("present").text(),o=e.find(`metadata[xmlns="${p.NS.PUBSUB_AVATAR_METADATA}"]`).find("info").attr("id"),d=e.find(`metadata[xmlns="${p.NS.PUBSUB_AVATAR_METADATA}"]`).find("info").attr("url"),r=e.find("role").text();a.trim().length||(a=t||i);let c={jid:t,id:i,avatar:o,avatar_url:d,nickname:a,badge:n,present:s,role:r},l=this.mergeParticipant(c);return this.account.get("jid")===l.get("jid")&&(this.contact.my_info=l)&&this.contact.trigger("update_my_info"),this.account.groupchat_settings.updateParticipant(this.contact.get("jid"),c),l}}),i.GroupChatSettings=Backbone.ModelWithStorage.extend({defaults:{participants_lists:[]},getParticipantsListVersion:function(e){let t=m.clone(this.get("participants_lists")),a=t.find(t=>t.jid===e);return a?a.version:0},setParticipantsListVersion:function(e,t){let a=m.clone(this.get("participants_lists")),i=a.find(t=>t.jid===e),n=a.indexOf(i);-1!=n&&a.splice(n,1),i?i.version=t:i={jid:e,participants_list:[],version:0},a.push(i),this.save("participants_lists",a)},getParticipantsList:function(e){let t=m.clone(this.get("participants_lists")),a=t.find(t=>t.jid===e);return a&&a.participants_list?a.participants_list:[]},updateParticipant:function(e,t){let a=m.clone(this.get("participants_lists")),i=a.find(t=>t.jid===e),n=i&&i.version||0,s=i&&i.participants_list||[],o=a.indexOf(i);if(s.length){let e=s.find(e=>e.id===t.id),a=s.indexOf(e);-1==a?s.push(t):s[a]=t}else s.push(t);-1!=o&&a.splice(o,1),a.push({jid:e,participants_list:s,version:n}),this.save("participants_lists",a)},setParticipantsList:function(e,t){let a=m.clone(this.get("participants_lists")),i=a.find(t=>t.jid===e)||[],n=a.indexOf(i);-1!=n&&a.splice(n,1),a.push({jid:e,participants_list:t,version:i.version}),this.save("participants_lists",a)},removeParticipantFromList:function(e,t){let a=this.getParticipantsList(e);if(a.length){let i=a.indexOf(a.find(e=>e.id===t));-1!=i&&a.splice(i,1),this.setParticipantsList(e,a)}},resetParticipantsList:function(e){let t=m.clone(this.get("participants_lists")),a=t.indexOf(t.find(t=>t.jid===e));-1!=a&&t.splice(a,1),t.push({jid:e,participants_list:[],version:0}),this.save("participants_lists",t)}}),i.GroupchatInvitationView=i.BasicView.extend({className:"details-panel invitation-view",template:o.group_chats.invitation,ps_selector:".panel-content",avatar_size:s.AVATAR_SIZES.CONTACT_DETAILS,events:{"click .btn-join":"join","click .btn-decline":"reject","click .btn-block":"blockContact"},_initialize:function(e){this.account=this.model.account,this.$(".msg-text").text(e.message&&e.message.get("message")?e.message.get("message"):i.getString("groupchat__public_group__text_invitation",[this.account.get("jid")])),this.message=e.message,this.model.on("change",this.update,this)},render:function(){this.model.set("visible",!0),this.updateAvatar(),this.updateName()},hide:function(){this.trigger("before_hide",this),this.data.set("visible",!1),this.model.set("visible",!1),this.onHide.apply(this,arguments)},update:function(){let e=this.model.changed;m.has(e,"name")&&this.updateName(),m.has(e,"image")&&this.updateAvatar()},openChat:function(){this.model.set("in_roster",!0),this.model.trigger("open_chat",this.model)},closeChat:function(){let e=this.account.chats.getChat(this.model);e.set({opened:!1,display:!1,active:!1}),i.body.setScreen("all-chats",{right:void 0}),e.item_view.content.readMessages()},updateAvatar:function(){let e=this.model.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)},updateName:function(){this.$(".main-info  .name-wrap").text(this.model.get("name")),this.model.get("name-wrap")==this.model.get("jid")?(this.$(".main-info .name-wrap").addClass("name-is-jid"),this.$(".main-info  .jid").text("")):(this.$(".main-info .name-wrap").removeClass("name-is-jid"),this.$(".main-info  .jid").text(this.model.get("jid")))},blockInvitation:function(){if(this.account.connection&&this.account.connection.do_synchronization)return;let e=this.model.get("jid"),t=c({type:"get"}).c("blocklist",{xmlns:p.NS.BLOCKING}),a=c({type:"set"}).c("unblock",{xmlns:p.NS.BLOCKING}),i=c({type:"set"}).c("block",{xmlns:p.NS.BLOCKING}).c("item",{jid:this.model.get("jid")+"/"+u.now()});this.account.sendIQ(t,t=>{let n=r(t).find("item");0<n.length&&n.each(function(t,i){let n=r(i).attr("jid");-1<n.indexOf(e)&&a.c("item",{jid:n}).up()}),r(a.nodeTree).find("item").length?this.account.sendIQ(a,()=>{this.account.sendIQ(i)}):this.account.sendIQ(i)})},join:function(){let e=this.model;e.set("subscription_preapproved",!0),e.acceptRequest(),e.pushInRoster(null,()=>{e.askRequest(),this.blockInvitation(),e.getMyInfo(),e.sendPresent(),this.openChat()}),e.trigger("remove_invite",e)},reject:function(){let e=this.model;this.closeChat();let t=c({to:e.get("full_jid")||e.get("jid"),type:"set"}).c("decline",{xmlns:`${p.NS.GROUP_CHAT}#invite`});this.account.sendFast(t,()=>{},()=>{e.declineRequest(),this.blockInvitation()})},blockContact:function(){let e=this.model;d.dialogs.ask(i.getString("contact_block"),i.getString("block_contact_confirm",[e.get("name"),this.account.get("jid")]),null,{ok_button_text:i.getString("contact_bar_block")}).done(function(t){t&&(e.trigger("remove_invite",e),e.block(),i.trigger("clear_search"))}),this.blockInvitation(),this.closeChat()}}),i.ContactNameWidget=i.InputWidget.extend({field_name:"contact-name",placeholder:"",model_field:"name",setValue:function(e){if(""===name){this.model.set("roster_name",null);let e=this.getDefaultName();this.model.set("name",e)}this.model.pushInRoster({name:e})},showInput:function(){this.$input.prop("disabled")||(this.data.set("input_mode",!0),this.updateValue())},getDefaultName:function(){let e=null;if(this.model.get("group_chat"))e=this.model.get("group_info")?this.model.get("group_info").name:this.model.get("jid");else{let t=this.model.get("vcard");e=t.nickname||(t.first_name+" "+t.last_name).trim()||t.fullname||this.model.get("jid")}return e},keyUp:function(){let e=this.getValue();this.$input.switchClass("changed",this.$input.val()!==e),this.$input.val()||this.$input.prop("placeholder",this.getDefaultName()||i.getString("contact_settings__hint_set_name"))}}),i.ContactNameRightWidget=i.InputWidget.extend({field_name:"contact-name",placeholder:"",model_field:"name",template:o.group_chats.group_name_input_widget,setValue:function(e){if(""===name){this.model.set("roster_name",null);let e=this.getDefaultName();this.model.set("name",e)}this.model.pushInRoster({name:e})},getDefaultName:function(){let e=null;if(this.model.get("group_chat"))e=this.model.get("group_info")?this.model.get("group_info").name:this.model.get("jid");else{let t=this.model.get("vcard");e=t.nickname||(t.first_name+" "+t.last_name).trim()||t.fullname||this.model.get("jid")}return e},updateValue:function(){let e=this.getValue();this.$value.text(e),this.$input.val()||(this.$input.prop("placeholder",this.getDefaultName()||i.getString("contact_settings__hint_set_name")),this.model.get("roster_name")&&this.$input.val(this.model.get("roster_name"))),this.model.get("roster_name")?this.$value.removeClass("name-is-default"):this.$value.addClass("name-is-default")},keyUp:function(){let e=this.getValue();this.$input.switchClass("changed",this.$input.val()!==e),this.$input.val()||this.$input.prop("placeholder",this.getDefaultName()||i.getString("contact_settings__hint_set_name"))}}),i.GroupNameRightWidget=i.InputWidget.extend({field_name:"group-name",placeholder:"",template:o.group_chats.group_name_input_widget,initialize:function(e){this.parent=e.parent,this.$el.html(this.template({field_name:this.field_name,field_type:this.field_type,placeholder:this.placeholder})),this.$value=this.$(".field-text"),this.$btn=this.$(".btn-rename"),this.$input=this.$(".field-input");let t=this.$(".insert-emoticon"),a=this.$(".emoticons-panel-wrap"),n=this.$(".emoticons-panel"),o;for(let t in v.all){let e=r(`<div class="emoji-list-wrap"/>`),a=t.replace(/ /g,"_");r(`<div id=${a} class="emoji-list-header">${i.getString(s.EMOJI_LIST_NAME(t))}</div>`).appendTo(e),m.each(v.all[t],function(t){r("<div class=\"emoji-wrap\"/>").html(t.emojify({emoji_size:24,sprite:a})).appendTo(e)}),e.appendTo(n),n.siblings(".emoji-menu").append(v.all[t][0].emojify({href:a,title:s.EMOJI_LIST_NAME(t),tag_name:"a",emoji_size:20}))}n.perfectScrollbar(m.extend({theme:"item-list"},i.ps_settings)),this.$(".emoji-menu .emoji").click(e=>{n[0].scrollTop=this.$(".emoji-list-wrap "+e.target.attributes.href.value)[0].offsetTop-4}),t.hover(e=>{e&&e.preventDefault&&e.preventDefault(),a.addClass("opened"),o&&clearTimeout(o),n.perfectScrollbar("update")},e=>{e&&e.preventDefault&&e.preventDefault(),o&&clearTimeout(o),o=setTimeout(function(){a.is(":hover")||a.removeClass("opened")},800)}),a.hover(null,e=>{e&&e.preventDefault&&e.preventDefault(),o&&clearTimeout(o),o=setTimeout(function(){a.removeClass("opened")},200)}),a.mousedown(e=>{if(e&&e.preventDefault&&e.preventDefault(),e.button)return;let t=r(e.target).closest(".emoji-wrap").find(".emoji");t.length&&(this.$input.val(function(){return this.value+t.data("emoji")}),this.$input.scrollLeft(1e3),this.changeValue())}),this.updateValue(),this.data=new Backbone.Model({input_mode:!1})},changeValue:function(){this.setValue(this.$input.val())},setValue:function(e){this.$input.val()?this.parent.changeName(e):this.parent.changeName(this.getDefaultName()),this.updateValue()},getDefaultName:function(){let e=null;return this.model.get("group_chat")&&(this.model.get("group_info")&&this.model.get("group_info").name?e=this.model.get("group_info").name:e=this.model.get("jid")),e},updateValue:function(e){let t=this.getValue();this.$value.text(t),(!this.$input.val()||e)&&(this.$input.prop("placeholder",this.getDefaultName()||i.getString("contact_settings__hint_set_name")),this.model.get("group_info")&&this.model.get("group_info").name&&this.$input.val(this.model.get("group_info").name),e&&this.changeValue())},getValue:function(){if(this.model.get("group_info"))return this.model.get("group_info").name},keyUp:function(){let e=this.getValue();this.$input.switchClass("changed",this.$input.val()!==e),this.$input.val()?this.changeValue():this.$input.prop("placeholder",this.getDefaultName()||i.getString("contact_settings__hint_set_name"))}}),i.ParticipantNameRightWidget=i.InputWidget.extend({field_name:"participant-name",placeholder:"",template:o.group_chats.group_name_input_widget,initialize:function(e){this.parent=e.parent,this.$el.html(this.template({field_name:this.field_name,field_type:this.field_type,placeholder:this.placeholder})),this.$value=this.$(".field-text"),this.$btn=this.$(".btn-rename"),this.$input=this.$(".field-input");let t=this.$(".insert-emoticon"),a=this.$(".emoticons-panel-wrap"),n=this.$(".emoticons-panel"),o;for(let t in v.all){let e=r(`<div class="emoji-list-wrap"/>`),a=t.replace(/ /g,"_");r(`<div id=${a} class="emoji-list-header">${i.getString(s.EMOJI_LIST_NAME(t))}</div>`).appendTo(e),m.each(v.all[t],function(t){r("<div class=\"emoji-wrap\"/>").html(t.emojify({emoji_size:24,sprite:a})).appendTo(e)}),e.appendTo(n),n.siblings(".emoji-menu").append(v.all[t][0].emojify({href:a,title:s.EMOJI_LIST_NAME(t),tag_name:"a",emoji_size:20}))}n.perfectScrollbar(m.extend({theme:"item-list"},i.ps_settings)),this.$(".emoji-menu .emoji").click(e=>{n[0].scrollTop=this.$(".emoji-list-wrap "+e.target.attributes.href.value)[0].offsetTop-4}),t.hover(e=>{e&&e.preventDefault&&e.preventDefault(),a.addClass("opened"),o&&clearTimeout(o),n.perfectScrollbar("update")},e=>{e&&e.preventDefault&&e.preventDefault(),o&&clearTimeout(o),o=setTimeout(function(){a.is(":hover")||a.removeClass("opened")},800)}),a.hover(null,e=>{e&&e.preventDefault&&e.preventDefault(),o&&clearTimeout(o),o=setTimeout(function(){a.removeClass("opened")},200)}),a.mousedown(e=>{if(e&&e.preventDefault&&e.preventDefault(),e.button)return;let t=r(e.target).closest(".emoji-wrap").find(".emoji");t.length&&(this.$input.val(function(){return this.value+t.data("emoji")}),this.$input.scrollLeft(1e3),this.changeValue())}),this.updateValue(),this.data=new Backbone.Model({input_mode:!1})},changeValue:function(){this.setValue(this.$input.val())},setValue:function(e){this.updateValue(),this.$input.val()?this.parent.changeName(e):this.parent.changeName(this.getDefaultName())},getDefaultName:function(){let e=null;return e=this.model.get("nickname")?this.model.get("nickname"):this.model.get("jid"),e},updateValue:function(e){let t=this.getValue();this.$value.text(t),(!this.$input.val()||e)&&(this.$input.prop("placeholder",this.getDefaultName()||i.getString("contact_settings__hint_set_name")),this.model.get("nickname")&&this.$input.val(this.model.get("nickname")),e&&this.changeValue()),this.$input.switchClass("changed",this.$input.val()!==t)},getValue:function(){if(this.model.get("nickname"))return this.model.get("nickname")},keyUp:function(){this.getValue();this.$input.val()?this.changeValue():this.$input.prop("placeholder",this.getDefaultName()||i.getString("contact_settings__hint_set_name"))}}),i.ParticipantBadgeRightWidget=i.InputWidget.extend({field_name:"participant-badge",placeholder:"",template:o.group_chats.group_name_input_widget,initialize:function(e){this.parent=e.parent,this.$el.html(this.template({field_name:this.field_name,field_type:this.field_type,placeholder:this.placeholder})),this.$value=this.$(".field-text"),this.$btn=this.$(".btn-rename"),this.$input=this.$(".field-input");let t=this.$(".insert-emoticon"),a=this.$(".emoticons-panel-wrap"),n=this.$(".emoticons-panel"),o;for(let t in v.all){let e=r(`<div class="emoji-list-wrap"/>`),a=t.replace(/ /g,"_");r(`<div id=${a} class="emoji-list-header">${i.getString(s.EMOJI_LIST_NAME(t))}</div>`).appendTo(e),m.each(v.all[t],function(t){r("<div class=\"emoji-wrap\"/>").html(t.emojify({emoji_size:24,sprite:a})).appendTo(e)}),e.appendTo(n),n.siblings(".emoji-menu").append(v.all[t][0].emojify({href:a,title:s.EMOJI_LIST_NAME(t),tag_name:"a",emoji_size:20}))}n.perfectScrollbar(m.extend({theme:"item-list"},i.ps_settings)),this.$(".emoji-menu .emoji").click(e=>{n[0].scrollTop=this.$(".emoji-list-wrap "+e.target.attributes.href.value)[0].offsetTop-4}),t.hover(e=>{e&&e.preventDefault&&e.preventDefault(),a.addClass("opened"),o&&clearTimeout(o),n.perfectScrollbar("update")},e=>{e&&e.preventDefault&&e.preventDefault(),o&&clearTimeout(o),o=setTimeout(function(){a.is(":hover")||a.removeClass("opened")},800)}),a.hover(null,e=>{e&&e.preventDefault&&e.preventDefault(),o&&clearTimeout(o),o=setTimeout(function(){a.removeClass("opened")},200)}),a.mousedown(e=>{if(e&&e.preventDefault&&e.preventDefault(),e.button)return;let t=r(e.target).closest(".emoji-wrap").find(".emoji");t.length&&(this.$input.val(function(){return this.value+t.data("emoji")}),this.$input.scrollLeft(1e3),this.changeValue())}),this.updateValue(!0)},changeValue:function(){this.setValue(this.$input.val())},setValue:function(e){this.updateValue(),this.parent.changeBadge(e)},updateValue:function(e){let t=this.getValue();this.$input.val()||this.$input.prop("placeholder",i.getString("groupchat_member_badge")),e&&(this.$input.val(t),this.changeValue()),this.$input.switchClass("changed",this.$input.val()!==t)},getValue:function(){let e=m.escape(this.model.get("badge"));return e},keyUp:function(){this.$input.val()||this.$input.prop("placeholder",i.getString("groupchat_member_badge")),this.changeValue()}}),i.GroupDescriptionRightWidget=i.InputWidget.extend({field_name:"group-description",template:o.group_chats.description_input_widget,placeholder:"",initialize:function(e){this.parent=e.parent,this.$el.html(this.template({field_name:this.field_name,field_type:this.field_type,placeholder:this.placeholder})),this.$value=this.$(".field-text"),this.$btn=this.$(".btn-rename"),this.$input=this.$(".field-input"),this.updateValue(),this.data=new Backbone.Model({input_mode:!1})},changeValue:function(){this.setValue(this.$input.val())},setValue:function(e){this.parent.changeDescription(e),this.updateValue()},getDefaultName:function(){let e=null;return this.model.get("group_chat")&&this.model.get("group_info")&&this.model.get("group_info").description&&(e=this.model.get("group_info").description),e},updateValue:function(e){this.getValue();(!this.$input.val()||e)&&(this.$input.prop("placeholder",i.getString("groupchat_example_description")),e&&this.model.get("group_info")&&this.$input.val(this.model.get("group_info").description),e&&this.changeValue())},keyDown:function(e){e.stopPropagation();let t=this.getValue();e.keyCode!==s.KEY_ESCAPE||i.body.screen.get("right_contact")||(this.$input.removeClass("changed").val(t),this.data.set("input_mode",!1))},getValue:function(){if(this.model.get("group_info"))return this.model.get("group_info").description},keyUp:function(){let e=this.getValue();this.$input.switchClass("changed",this.$input.val()!==e),this.$input.val()||this.$input.prop("placeholder",i.getString("groupchat_example_description")),this.changeValue()}}),i.ContactEditGroupsView=i.BasicView.extend({template:o.groups,events:{"click .group":"removeGroup","click .existing-group-field label":"editGroup","change .new-group-name input":"checkNewGroup","keyup .new-group-name input":"checkNewGroup","click .new-group-checkbox":"addNewGroup","keyup #new-group-name":"keyupAddNewGroup","focusin #new-group-name":"focusinAddNewGroup","focusout #new-group-name":"focusoutAddNewGroup","keydown #new-group-name":"keydownAddNewGroup"},_initialize:function(){this.account=this.parent.account,this.model=this.parent.model,this.model.set("groups_hidden",!0),this.model.on("change:in_roster update_groups",this.onUpdate,this)},render:function(e,arguments){if(this.$el.html(this.template()),this.model.get("in_roster")){let e=m.clone(this.model.get("groups")),t=m.map(this.account.groups.notSpecial(),function(t){let a=t.get("name");return{name:a,checked:m.contains(e,a),id:g()}}),a=t.filter(function(e){return!e.checked}).length;a?this.$(".groups-wrap").removeClass("empty-groups-wrap"):this.$(".groups-wrap").addClass("empty-groups-wrap"),this.$(".checkbox-list").html(o.groups_checkbox_list({groups:t})).appendTo(this.$(".groups-wrap")),this.ps_container=this.$(".checkbox-list"),this.ps_container.length&&this.ps_container.perfectScrollbar(m.extend(this.ps_settings||{},i.ps_settings)),this.scrollToTop(),e.length?this.$(".groups").html(o.groups_list({groups:t})).appendTo(this.$(".groups-wrap-list")):this.$(".groups").html("<div class=\"empty-groups\">"+i.getString("contact_circles_empty")+"</div>"),this.$(".groups").append(o.groups_new_group())}this.$el.showIf(this.model.get("in_roster")),arguments&&arguments.on_add?this.$(".groups-wrap").hideIf(!1):this.$(".groups-wrap").hideIf(!0),this.parent.updateScrollBar()},onUpdate:function(){this._update_template?(this.render(this,{on_add:!0}),this.$(".new-group-name input").addClass("visible"),this.$(".new-group-name input").focus()):(this.render(),this.$(".new-group-name input").addClass("visible"))},removeGroup:function(e){let t=r(e.target).closest(".group"),a=t.attr("data-groupname"),i=m.clone(this.model.get("groups")),n=i.indexOf(a);0<=n&&i.splice(n,1),this._update_template=!1,this.model.pushInRoster({groups:i})},removeLastGroup:function(){let e=m.clone(this.model.get("groups"));e.length&&(e.pop(),this._update_template=!0,this.model.pushInRoster({groups:e}))},editGroup:function(e){clearTimeout(this._hide_timeout);let t=r(e.target),a=t.siblings("input"),i=!a.prop("checked"),n=a.attr("data-groupname"),s=m.clone(this.model.get("groups")),o=s.indexOf(n);a.prop("checked",i),i?s.push(n):0<=o&&s.splice(o,1),this._update_template=!0,this.model.pushInRoster({groups:s})},checkNewGroup:function(e){let t=r(e.target).val(),a=this.$(".new-group-checkbox");a.showIf(t&&!this.account.groups.get(t))},keyupAddNewGroup:function(e){let t=this.$(".new-group-name input"),a=t.val();e.keyCode===s.KEY_ENTER&&a&&this.addNewGroup()},keydownAddNewGroup:function(e){let t=this.$(".new-group-name input"),a=t.val();e.keyCode!==s.KEY_BACKSPACE||a||this.removeLastGroup()},focusinAddNewGroup:function(){clearTimeout(this._hide_timeout),this.$(".groups-wrap").hideIf(!1),this.$(".empty-groups").hideIf(!0)},focusoutAddNewGroup:function(){this.$(".empty-groups").hideIf(!1),this.$(".new-group-name input").val()&&this.addNewGroup(),this._hide_timeout=setTimeout(()=>{this.$(".new-group-name input").removeClass("visible"),this.$(".groups-wrap").hideIf(!0),this.$(".new-group-name input").val("")},100)},addNewGroup:function(){let e=this.$(".new-group-name input"),t=e.val(),a=m.clone(this.model.get("groups")),i=a.indexOf(t);0>i&&a.push(t),this.model.pushInRoster({groups:a})}}),i.ContactEditView=i.BasicView.extend({template:o.edit_contact,events:{"click .btn-back":"hideEdit","click .btn-request":"requestSubscription","click .btn-allow":"allowSubscription","click .btn-cancel-request":"cancelSubscriptionRequest","click .btn-allow-request":"handleSubscriptionRequest","click .btn-disallow-request":"cancelSubscriptionIn","click .btn-cancel-subscription-out":"cancelSubscriptionOut","click .btn-cancel-subscription-in":"cancelSubscriptionIn"},_initialize:function(){this.account=this.parent.account,this.model=this.parent.model,this.model.set("edit_hidden",!0),this.model.on("change:status_updated",this.updateStatuses,this),this.model.on("change:subscription",this.updateStatuses,this),this.model.on("change:blocked",this.updateStatuses,this),this.model.on("change:subscription_request_in",this.updateStatuses,this),this.model.on("change:subscription_request_out",this.updateStatuses,this)},render:function(){this.$el.html(this.template(m.extend({view:this},s))),this.$(".edit-wrap").hideIf(this.model.get("edit_hidden")),this.name_field=new i.ContactNameRightWidget({el:this.$(".name-wrap")[0],model:this.model}),this.$(".status-out.dropdown-button").dropdown({inDuration:100,outDuration:100,hover:!1}),this.$(".status-in.dropdown-button").dropdown({inDuration:100,outDuration:100,hover:!1}),this.updateStatuses()},showEdit:function(){this.model.set("edit_hidden",!1),this.parent.scrollToTop(),this.parent.ps_container.length&&this.parent.ps_container.perfectScrollbar("destroy"),this.$(".edit-wrap").hideIf(this.model.get("edit_hidden"))},updateStatuses:function(){let e=this.model.getSubscriptionStatuses();e&&(this.$(".status-out").addClass(e.status_out_class),this.$(".status-out .value").text(e.status_out),this.$(".status-out").showIf(e.status_out),this.$(".status-in").addClass(e.status_in_class),this.$(".status-in  .value").text(e.status_in),this.$(".status-in").showIf(e.status_in),this.$(".status-description .value").html(e.status_description),this.$(".status-description").showIf(e.status_description),this.$(".btn-delete").hideIf(!this.model.get("in_roster")),"request"===e.status_out_color&&(this.$(".status-out").addClass("text-color-500").addClass("request").removeClass("subbed"),this.$(".status-out").addClass("text-decoration-color-300")),"request"===e.status_in_color&&(this.$(".status-in").addClass("text-color-500").addClass("request").removeClass("subbed"),this.$(".status-in").addClass("text-decoration-color-300")),"subbed"===e.status_out_color&&(this.$(".status-out").addClass("text-color-500").addClass("subbed").removeClass("request"),this.$(".status-out").addClass("text-decoration-color-300")),"subbed"===e.status_in_color&&(this.$(".status-in").addClass("text-color-500").addClass("subbed").removeClass("request"),this.$(".status-in").addClass("text-decoration-color-300")),""===e.status_out_color&&(this.$(".status-out").removeClass("text-color-500").removeClass("request").removeClass("subbed"),this.$(".status-out").removeClass("text-decoration-color-300")),""===e.status_in_color&&(this.$(".status-in").removeClass("text-color-500").removeClass("request").removeClass("subbed"),this.$(".status-in").removeClass("text-decoration-color-300")),this.$(".btn-request").hideIf(""!==e.status_out_color),this.$(".btn-allow").hideIf(""!==e.status_in_color),this.$(".btn-cancel-request").hideIf("request"!==e.status_out_color),this.$(".btn-allow-request").hideIf("request"!==e.status_in_color),this.$(".btn-disallow-request").hideIf("request"!==e.status_in_color),this.$(".btn-cancel-subscription-out").hideIf("subbed"!==e.status_out_color),this.$(".btn-cancel-subscription-in").hideIf("subbed"!==e.status_in_color))},requestSubscription:function(){this.model.askRequest()},allowSubscription:function(){this.model.acceptRequest()},cancelSubscriptionRequest:function(){this.model.declineSubscription()},handleSubscriptionRequest:function(){this.model.acceptRequest()},cancelSubscriptionOut:function(){this.model.declineSubscription()},cancelSubscriptionIn:function(){this.model.declineSubscribe(),this.model.set("subscription_request_in",!1)},hideEdit:function(){this.model.set("edit_hidden",!0),this.parent.ps_container.length&&this.parent.ps_container.perfectScrollbar(m.extend(this.parent.ps_settings||{},i.ps_settings)),this.$(".edit-wrap").hideIf(this.model.get("edit_hidden"))}}),i.GroupEditView=i.BasicView.extend({template:o.edit_group,events:{"click .btn-save":"saveChanges","click .edit-header:not(.property-header) .btn-back":"hideEdit","click .btn-reset":"resetPanel","click .btn-edit":"showDescriptionProperty","click .btn-back-panel":"hidePanel","click .membership-field .property-radio input":"changeMembership","click .index-field .property-radio input ":"changeIndex","click .index-property:not(.property-disabled)":"showIndexProperty","click .membership-property:not(.property-disabled)":"showMembershipProperty","click .btn-back.btn-property-back":"hideProperty","click .list-variant":"showPanel","click .revoke-invitation":"revokeInvitation","click .btn-reset-panel":"deselectParticipants","click .btn-remove-selected":"actionSelectedParticipants","click .participants-edit-wrap .list-item":"selectParticipant","click .unblock-user":"unblockUser","click .set-groupchat-avatar-text":"clickAvatarInput","click .btn-add-block":"blockId","keydown .field-input":"keyDownName","keyup .field-input":"keyUp","focusout .field-input":"changeValue"},_initialize:function(){this.account=this.parent.account,this.model=this.parent.model,this.model.set("edit_hidden",!0),this.model.on("change:group_info",this.update,this)},render:function(){this.$el.html(this.template(m.extend({view:this},s))),this.$(".edit-wrap").hideIf(this.model.get("edit_hidden")),this.$(".index-property-edit-wrap").hideIf(!0),this.$(".membership-property-edit-wrap").hideIf(!0),this.$(".description-edit-wrap").hideIf(!0);this.$(".property-dropdown").dropdown({inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"right"}),this.group_name_field=new i.GroupNameRightWidget({el:this.$(".edit-group-name-wrap")[0],model:this.model,parent:this}),this.group_description_field=new i.GroupDescriptionRightWidget({el:this.$(".edit-group-description-wrap")[0],model:this.model,parent:this}),this.update()},update:function(){let e=this.model.get("group_info")||{},t,a,n;e&&("public"===e.privacy&&(n=i.getString("groupchat_public_group")),"incognito"===e.privacy&&(n=i.getString("groupchat_incognito_group")),"none"===e.searchable&&(a=i.getString("groupchat_index_type_none"),this.$(".property-wrap #none").prop("checked",!0)),"local"===e.searchable&&(a=i.getString("groupchat_index_type_local"),this.$(".property-wrap #local").prop("checked",!0)),"global"===e.searchable&&(a=i.getString("groupchat_index_type_global"),this.$(".property-wrap #global").prop("checked",!0)),"open"===e.model&&(t=i.getString("groupchat_membership_type_open"),this.$(".property-wrap #open").prop("checked",!0)),"member-only"===e.model&&(t=i.getString("groupchat_membership_type_members_only"),this.$(".property-wrap #member-only").prop("checked",!0))),this.$(".main-edit-header .block-name:not(.second-text)").text(n),this.$(".membership-property span").text(t),this.$(".index-property span").text(a),this.$(".edit-group-name").text(e.name),this.$(".edit-group-description").text(e.description),this.group_name_field.updateValue(!0),this.group_description_field.updateValue(!0),this.$(".btn-save").switchClass("fade-out",!0);let s=this.model.my_rights&&this.model.my_rights.fields.find(e=>"owner"==e.var&&e.values);if(s){let e=c({from:this.account.get("jid"),type:"get",to:this.model.get("full_jid")||this.model.get("jid")}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#default-rights`});this.account.sendFast(e,e=>{let t=this.account.parseDataForm(r(e).find(`x[xmlns="${p.NS.DATAFORM}"]`)),a=0;t.fields.forEach(e=>{if("fixed"!==e.type&&"hidden"!==e.type){let t=e.values?e.values[0]:void 0;t&&a++}}),this.$(".btn-default-restrictions .edit-button-value").text(a)},()=>{d.callback_popup_message(i.getString("groupchat_you_have_no_permissions_to_do_it"),3e3)})}this.updateAvatar()},updateAvatar:function(){let e=this.model.cached_image;this.$(".main-info .circle-avatar").setAvatar(e,this.avatar_size)},showMembershipProperty:function(){this.$(".membership-property-edit-wrap").hideIf(!1),this.ps_container.length&&this.ps_container.perfectScrollbar("destroy")},showIndexProperty:function(){this.$(".index-property-edit-wrap").hideIf(!1),this.ps_container.length&&this.ps_container.perfectScrollbar("destroy")},showDescriptionProperty:function(){this.$(".description-edit-wrap").hideIf(!1),this.group_description_field.$input.height(this.group_description_field.$input[0].scrollHeight-8),this.ps_container.length&&this.ps_container.perfectScrollbar("destroy")},hideProperty:function(){this.$(".index-property-edit-wrap").hideIf(!0),this.$(".description-edit-wrap").hideIf(!0),this.$(".membership-property-edit-wrap").hideIf(!0),this.ps_container.length&&this.ps_container.perfectScrollbar(m.extend(this.parent.ps_settings||{},i.ps_settings))},revokeInvitation:function(e){r(e.target).closest(".invitations-user");this.parent.children&&this.parent.children.invitations&&this.parent.children.invitations.revokeInvitation(e)},showBlockButton:function(){this.$(".edit-bottom-block .btn-add-block").hideIf(!1)},showInviteButton:function(){this.$(".edit-bottom-block .btn-invite").hideIf(!1)},unblockUser:function(e){this.parent.children&&this.parent.children.blocked&&this.parent.children.blocked.unblockUser(e)},actionSelectedParticipants:function(){let e=this.$(".list-item.selected");e.each((e,t)=>{r(t).hasClass("invitations-user")&&this.parent.children&&this.parent.children.invitations&&this.parent.children.invitations.revokeInvitationByElement(r(t)),r(t).hasClass("blocked-user")&&this.parent.children&&this.parent.children.blocked&&this.parent.children.blocked.unblockUserByElement(r(t)),(r(t).hasClass("blocked-user")||r(t).hasClass("invitations-user"))&&r(t).removeClass("selected")}),this.updateRemoveParticipantButton()},blockId:function(){this.parent.children&&this.parent.children.blocked&&this.parent.children.blocked.blockId()},deselectParticipants:function(){this.$(".list-item.selected").removeClass("selected"),this.updateRemoveParticipantButton()},selectParticipant:function(e){if(!(r(e.target).parent().hasClass("revoke-invitation")||r(e.target).parent().hasClass("unblock-user")||r(e.target).hasClass("revoke-invitation")||r(e.target).hasClass("unblock-user"))){let t=r(e.target).closest(".list-item"),a=t.hasClass("selected");t.switchClass("selected",!a),this.updateRemoveParticipantButton()}},updateRemoveParticipantButton:function(){let e=this.$(".list-item.selected").length;this.$(".block-name-panel.second-text span").html(e),e?(this.$(".participants-edit-back").removeClass("mdi-arrow-right").addClass("mdi-close"),this.$(".participants-edit-back").removeClass("btn-back-panel").addClass("btn-reset-panel"),this.$(".block-name-panel:not(.second-text)").addClass("fade-out"),this.$(".edit-bottom-block .btn-invite").addClass("fade-out"),this.$(".edit-bottom-block .btn-add-block").addClass("fade-out"),this.$(".block-name-panel.second-text").removeClass("fade-out"),this.$(".btn-remove-selected").removeClass("fade-out")):(this.$(".participants-edit-back").addClass("mdi-arrow-right").removeClass("mdi-close"),this.$(".participants-edit-back").addClass("btn-back-panel").removeClass("btn-reset-panel"),this.$(".block-name-panel:not(.second-text)").removeClass("fade-out"),this.$(".edit-bottom-block .btn-invite").removeClass("fade-out"),this.$(".edit-bottom-block .btn-add-block").removeClass("fade-out"),this.$(".block-name-panel.second-text").addClass("fade-out"),this.$(".btn-remove-selected").addClass("fade-out"))},clickAvatarInput:function(){this.$(".circle-avatar input").click()},hidePanel:function(){this.parent.getInvitations(e=>{this.$(".invitations-variant .counted").html(r(e).find("query").find("user").length)}),this.model.getBlockedParticipants(e=>{this.$(".blocked-variant .counted").html(r(e).find("query").children().length)}),this.$(".btn-back-panel").hideIf(!0),this.$(".block-name-panel").hideIf(!0),this.$(".edit-bottom-block .btn-add-block").hideIf(!0),this.$(".edit-bottom-block .btn-invite").hideIf(!0),this.$(".btn-remove-selected").hideIf(!0),this.$(".participants-edit-wrap").hideIf(!0)},showPanel:function(){this.$(".btn-back-panel").hideIf(!1),this.$(".block-name-panel").hideIf(!1),this.$(".btn-remove-selected").hideIf(!1),this.$(".participants-edit-wrap").hideIf(!1),this.updateRemoveParticipantButton(),this.ps_container.length&&this.ps_container.perfectScrollbar("destroy"),this.ps_container=this.$(".participants-edit-wrap"),this.ps_container.length&&this.ps_container.perfectScrollbar(m.extend(this.parent.ps_settings||{},i.ps_settings))},resetPanel:function(){this.updateSaveButton(),this.showEdit()},updateSaveButton:function(){let e=!1;this.data_form.fields.forEach(t=>{if("hidden"!==t.type&&"fixed"!==t.type){let a=t.values?t.values[0]:null;t.var in this.original_data_form_values&&this.original_data_form_values[t.var]!=a&&(e=!0)}}),this.$(".btn-save").switchClass("fade-out",!e),this.$(".btn-qr-code").hideIf(e),e?(this.$(".block-name.second-text").html(i.getString("edit_vcard")),this.$(".edit-header:not(.main-edit-header) .details-icon").removeClass("mdi-arrow-right").addClass("mdi-close"),this.$(".edit-header:not(.main-edit-header) .details-icon").removeClass("btn-back").addClass("btn-reset"),this.$(".edit-header:not(.main-edit-header) .block-name:not(.second-text)").addClass("fade-out"),this.$(".edit-header:not(.main-edit-header) .block-name.second-text").removeClass("fade-out")):(this.$(".edit-header:not(.main-edit-header) .details-icon").addClass("mdi-arrow-right").removeClass("mdi-close"),this.$(".edit-header:not(.main-edit-header) .details-icon").addClass("btn-back").removeClass("btn-reset"),this.$(".edit-header:not(.main-edit-header) .block-name:not(.second-text)").removeClass("fade-out"),this.$(".edit-header:not(.main-edit-header) .block-name.second-text").addClass("fade-out"));let t=this.model.get("group_info")||{};t&&("public"===t.privacy&&this.$(".main-edit-header .block-name:not(.second-text)").html(i.getString("groupchat_public_group")),"incognito"===t.privacy&&this.$(".main-edit-header .block-name:not(.second-text)").html(i.getString("groupchat_incognito_group")))},changeName:function(e){if(this.data_form&&e){let t=this.data_form.fields.findIndex(e=>"name"==e.var);this.original_data_form_values.name||(this.original_data_form_values.name=this.data_form.fields[t].values[0]),this.data_form.fields[t].values=[e],this.updateSaveButton()}},changeDescription:function(e){if(this.data_form){let t=this.data_form.fields.findIndex(e=>"description"==e.var);this.original_data_form_values.description||(this.original_data_form_values.description=this.data_form.fields[t].values[0]),this.data_form.fields[t].values=[e],this.updateSaveButton()}},changeMembership:function(e){let t=r(e.target).attr("id"),a;if(this.data_form&&t){let e=this.data_form.fields.findIndex(e=>"membership"==e.var);this.original_data_form_values.membership||(this.original_data_form_values.membership=this.data_form.fields[e].values[0]),this.data_form.fields[e].values=[t],"open"===t&&(a=i.getString("groupchat_membership_type_open")),"member-only"===t&&(a=i.getString("groupchat_membership_type_members_only")),this.$(".membership-property span").text(a),this.updateSaveButton()}},changeIndex:function(e){let t=r(e.target).attr("id"),a;if(this.data_form&&t){let e=this.data_form.fields.findIndex(e=>"index"==e.var);this.original_data_form_values.index||(this.original_data_form_values.index=this.data_form.fields[e].values[0]),this.data_form.fields[e].values=[t],"none"===t&&(a=i.getString("groupchat_index_type_none")),"local"===t&&(a=i.getString("groupchat_index_type_local")),"global"===t&&(a=i.getString("groupchat_index_type_global")),this.$(".index-property span").text(a),this.updateSaveButton()}},saveChanges:function(){if(this.$(".btn-save").hasClass("fade-out"))return;this.$(".btn-save").addClass("fade-out"),this.group_name_field.$input.prop("disabled",!0),this.group_description_field.$input.prop("disabled",!0),this.$(".edit-save-preloader.preloader-wrap").addClass("visible").find(".preloader-wrapper").addClass("active");let e=c({type:"set",to:this.model.get("full_jid")||this.model.get("jid")}).c("query",{xmlns:p.NS.GROUP_CHAT});e=this.account.addDataFormToStanza(e,this.data_form),this.account.sendIQ(e,e=>{let t=r(e),a=m.clone(this.model.get("group_info")),i={name:t.find("field[var=\"name\"] value").text(),searchable:t.find("field[var=\"index\"]").children("value").text(),model:t.find("field[var=\"membership\"]").children("value").text(),description:t.find("field[var=\"description\"] value").text(),status:t.find("field[var=\"status\"]").children("value").text()};m.extend(a,i),this.model.set("group_info",a),this.group_name_field.$input.prop("disabled",!1),this.group_description_field.$input.prop("disabled",!1),this.hideProperty(),this.$(".edit-save-preloader.preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active"),this.resetPanel()},e=>{let t=r(e).find("error text").text()||i.getString("groupchat_you_have_no_permissions_to_do_it");d.dialogs.error(t),this.group_name_field.$input.prop("disabled",!1),this.group_description_field.$input.prop("disabled",!1),this.hideProperty(),this.$(".edit-save-preloader.preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active")})},showEdit:function(){let e=c({to:this.model.get("full_jid")||this.model.get("jid"),type:"get"}).c("query",{xmlns:p.NS.GROUP_CHAT});this.parent.$(".group-edit-preloader").html(n.templates.contacts.preloader()),this.account.sendIQ(e,e=>{this.data_form=this.account.parseDataForm(r(e).find(`x[xmlns="${p.NS.DATAFORM}"]`)),this.original_data_form_values={},this.model.set("edit_hidden",!1),this.parent.scrollToTop(),this.parent.ps_container.length&&this.parent.ps_container.perfectScrollbar("destroy"),this.ps_container=this.$(".edit-wrap"),this.ps_container.length&&this.ps_container.perfectScrollbar(m.extend(this.parent.ps_settings||{},i.ps_settings)),this.update(),this.$(".group-property:not(.privacy-property)").removeClass("disabled"),this.group_name_field.$input.hideIf(!1),this.group_description_field.$input.hideIf(!1),this.group_name_field.$input.prop("disabled",!1),this.group_description_field.$input.prop("disabled",!1),this.$(".circle-avatar input").prop("disabled",!1),this.$(".set-groupchat-avatar-text").hideIf(!1),this.$(".group-property").removeClass("property-disabled"),this.$(".membership-property .details-icon-right").hideIf(!1),this.$(".index-property .details-icon-right").hideIf(!1),this.$(".circle-avatar .set-groupchat-avatar").hideIf(!1),this.$(".btn-edit").hideIf(!1),this.$(".edit-bottom-block").hideIf(!1),this.$(".btn-default-restrictions").hideIf(!1),this.$(".btn-delete-group").hideIf(!1),this.$(".btn-clear-history-chat").hideIf(!1),this.$(".btn-back-panel").hideIf(!0),this.$(".block-name-panel").hideIf(!0),this.$(".edit-bottom-block .btn-add-block").hideIf(!0),this.$(".edit-bottom-block .btn-invite").hideIf(!0),this.$(".btn-remove-selected").hideIf(!0),this.$(".participants-edit-wrap").hideIf(!0),this.parent.getInvitations(e=>{this.$(".invitations-variant .counted").html(r(e).find("query").find("user").length)}),this.model.getBlockedParticipants(e=>{this.$(".blocked-variant .counted").html(r(e).find("query").children().length)}),this.$(".edit-wrap").hideIf(this.model.get("edit_hidden")),this.parent.$(".group-edit-preloader").html(""),this.group_description_field.$input.height(this.group_description_field.$input[0].scrollHeight-8),this.$(".tabs .indicator").remove()},()=>{this.model.set("edit_hidden",!1),this.parent.scrollToTop(),this.parent.ps_container.length&&this.parent.ps_container.perfectScrollbar("destroy"),this.ps_container=this.$(".edit-wrap"),this.ps_container.length&&this.ps_container.perfectScrollbar(m.extend(this.parent.ps_settings||{},i.ps_settings)),this.update(),this.group_name_field.$input.prop("disabled",!0),this.group_description_field.$input.prop("disabled",!0),this.group_description_field.$input.val()||this.group_description_field.$input.hideIf(!0),this.$(".circle-avatar input").prop("disabled",!0),this.$(".set-groupchat-avatar-text").hideIf(!0),this.$(".group-property").addClass("property-disabled"),this.$(".membership-property .details-icon-right").hideIf(!0),this.$(".index-property .details-icon-right").hideIf(!0),this.$(".circle-avatar .set-groupchat-avatar").hideIf(!0),this.$(".group-property:not(.privacy-property)").addClass("disabled"),this.$(".btn-edit").hideIf(!0),this.$(".edit-bottom-block").hideIf(!0),this.$(".btn-default-restrictions").hideIf(!0),this.$(".btn-delete-group").hideIf(!0),this.$(".btn-clear-history-chat").hideIf(!0),this.$(".btn-back-panel").hideIf(!0),this.$(".block-name-panel").hideIf(!0),this.$(".edit-bottom-block .btn-add-block").hideIf(!0),this.$(".edit-bottom-block .btn-invite").hideIf(!0),this.$(".btn-remove-selected").hideIf(!0),this.$(".participants-edit-wrap").hideIf(!0);this.model.get("group_info")||{};this.$(".edit-wrap").hideIf(this.model.get("edit_hidden")),this.parent.$(".group-edit-preloader").html(""),this.group_description_field.$input.height(this.group_description_field.$input[0].scrollHeight-8),this.$(".tabs .indicator").remove()})},hideEdit:function(){this.model.set("edit_hidden",!0),this.parent.ps_container.length&&this.parent.ps_container.perfectScrollbar(m.extend(this.parent.ps_settings||{},i.ps_settings)),this.ps_container.length&&this.ps_container.perfectScrollbar("destroy"),this.$(".edit-wrap").hideIf(this.model.get("edit_hidden"))}}),i.ContactsBase=Backbone.Collection.extend({model:i.Contact}),i.GroupContacts=i.ContactsBase.extend({initialize:function(e,t){this.group=t.group,this.on("change",this.onContactChanged,this)},comparator:function(e,t){if("online-first"===i.settings.roster.sorting){let a=e.get("status"),i=t.get("status"),n=s.STATUS_WEIGHTS[a],o=s.STATUS_WEIGHTS[i],d=n>=s.STATUS_WEIGHTS.offline,r=o>=s.STATUS_WEIGHTS.offline;if(d^r)return d?1:-1}let a,n;return a=e.get("name").toLowerCase(),n=t.get("name").toLowerCase(),a<n?-1:a>n?1:0},onContactChanged:function(e){let t=e.changed;(m.has(t,"name")||m.has(t,"status_updated"))&&(this.sort(),this.trigger("update_contact_item",e))}}),i.Group=Backbone.Model.extend({defaults:{counter:{all:0,online:0}},initialize:function(e,t){this.account=t.account,e.name||(e.name=e.id),this.set(e),this._settings=this.account.groups_settings.get(e.name),this._settings||(this._settings=this.account.groups_settings.create({name:e.name})),this.settings=this._settings.attributes,this.contacts=new i.GroupContacts(null,{group:this}),this.settings_view=new i.GroupSettingsView({model:this}),this.contacts.on("add update_contact_item",this.updateCounter,this),this.contacts.on("destroy",this.onContactRemoved,this),i._roster_settings.on("change",this.onChangedRosterSettings,this)},isSpecial:function(){return m.isNumber(this.get("id"))},updateCounter:function(){let e=this.contacts.length,t=e-this.contacts.where({status:"offline"}).length;this.set("counter",{all:e,online:t})},renameGroup:function(e){let t=this.get("name"),a=m.clone(this.settings);a.name=e,this._settings.destroy(),this._settings=this.account.groups_settings.create(a),this.settings=this._settings.attributes,this.set({id:e,name:e}),this.trigger("rename",this,t),m.each(m.clone(this.contacts.models),function(a){let i=m.clone(a.get("groups")),n=i.indexOf(t);0<=n&&i.splice(n,1),n=i.indexOf(e),0>n&&i.push(e),a.pushInRoster({groups:i})})},deleteGroup:function(){let e=this.get("name");this._settings.destroy(),m.each(m.clone(this.contacts.models),function(t){let a=m.clone(t.get("groups")),i=a.indexOf(e);0<=i&&a.splice(i,1),t.pushInRoster({groups:a})})},removeContact:function(e){this.contacts.get(e)&&(this.contacts.remove(e),this.onContactRemoved(e))},onContactRemoved:function(e){this.updateCounter(),this.trigger("remove_contact",e),this.contacts.length||this.destroy()},onChangedRosterSettings:function(){let e=i._roster_settings.changed;m.has(e,"show_offline")&&this._settings.trigger("change:show_offline"),m.has(e,"sorting")&&(this.contacts.sort(),this._settings.trigger("change:sorting"))},showSettings:function(){this.settings_view.show()}}),i.GroupView=i.BasicView.extend({className:"roster-group",events:{"click .group-head":"toggle","click .group-head .group-icon":"showGroupSettings","mouseover .group-head":"showSettingsIcon","mouseleave .group-head":"updateGroupIcon"},_initialize:function(){this.account=this.model.account,this.updateName(),this.updateGroupIcon(),this.updateMembersCounter(),this.model.contacts.on("add",this.onContactAdded,this),this.model.on("remove_contact",this.onContactRemoved,this),this.model.contacts.on("update_contact_item",this.updateContactItem,this),this.model.on("change:name",this.updateName,this),this.model.on("change:counter",this.updateMembersCounter,this),this.model._settings.on("change:show_offline",this.onChangedOfflineSetting,this),this.model._settings.on("change:sorting",this.onChangedSortingSetting,this),this.data.on("change:expanded",this.updateExpanded,this)},updateExpanded:function(){let e=this.data.get("expanded");this.$el.switchClass("shrank",!e),this.$(".arrow").switchClass("mdi-chevron-down",e),this.$(".arrow").switchClass("mdi-chevron-right",!e),this.$(".roster-contact").showIf(e),this.parent.parent.onListChanged()},updateGroupIcon:function(){let e=this.model.settings.show_offline,t;"default"===e?t="settings":"yes"===e?t="group-filled":"no"===e&&(t="group-outline"),this.$(".group-icon").attr("data-mdi",t).hideIf("settings"===t)},updateName:function(){this.$(".group-name").text(this.model.get("name"))},updateMembersCounter:function(){let e=this.model.get("counter");this.$(".participant-counter").text("("+e.online+"/"+e.all+")")},onContactAdded:function(e){this.addChild(e.get("jid"),this.item_view,{model:e});this.updateContactItem(e)},onContactRemoved:function(e){this.removeChild(e.get("jid")),this.parent.parent.onListChanged()},updateContactItem:function(e){let t=this.child(e.get("jid"));if(t){let a=i.settings.roster,n=this.model.settings,o="default"===n.show_offline,d="yes"===n.show_offline||o&&"yes"===a.show_offline,r=6<=s.STATUS_WEIGHTS[e.get("status")];t.$el.switchClass("invisible",r&&!d).detach();let c=this.model.contacts.indexOf(e);return 0===c?this.$(".group-head").after(t.$el):this.$(".roster-contact").eq(c-1).after(t.$el),t.$el.showIf(this.data.get("expanded")),this.parent.parent.onListChanged(),t}},showSettingsIcon:function(){this.$(".group-icon").attr("data-mdi","settings").removeClass("hidden")},showGroupSettings:function(e){e.stopPropagation(),this.model.showSettings()},onChangedOfflineSetting:function(){this.updateGroupIcon();let e=i.settings.roster,t=this.model.settings,a="default"===t.show_offline,n="yes"===t.show_offline||a&&"yes"===e.show_offline;m.each(this.children,function(e){let t=6<=s.STATUS_WEIGHTS[e.model.get("status")];e.$el.switchClass("invisible",t&&!n)}),this.parent.parent.onListChanged()},onChangedSortingSetting:function(){m.each(this.children,function(e){e.$el.detach()}),this.model.contacts.each(e=>{this.updateContactItem(e)}),this.parent.parent.onListChanged()}}),i.GroupRightView=i.GroupView.extend({template:o.group_right,item_view:i.ContactItemRightView,__initialize:function(){this.data.set("expanded",this.model.settings.expanded)},toggle:function(){let e=!this.data.get("expanded");this.data.set("expanded",e),this.model._settings.save("expanded",e)}}),i.GroupLeftView=i.GroupView.extend({template:o.group_left,item_view:i.ContactItemLeftView,__initialize:function(){this.data.set("expanded",!0)},toggle:function(e){e.stopPropagation(),this.data.set("expanded",!this.data.get("expanded"))}}),i.GroupSettingsView=i.BasicView.extend({className:"modal main-modal group-settings",template:o.group_settings,ps_selector:".modal-content",avatar_size:s.AVATAR_SIZES.GROUP_SETTINGS,events:{"change .offline input[type=radio][name=offline]":"setOffline","click .btn-apply":"applySettings","click .btn-delete":"deleteGroup","click .btn-cancel":"close"},_initialize:function(){this._settings=this.model._settings;this.model.get("name");this.model.isSpecial()&&(this.$(".group-name input").attr("readonly",!0),this.$(".btn-delete").addClass("hidden")),this.model.on("destroy",this.onDestroy,this)},render:function(){this.$(".group-name input").val(this.model.get("name")),this.$(".group-name .errors").addClass("hidden"),this.$(".offline input[type=radio][name=offline][value="+this.model.settings.show_offline+"]").prop("checked",!0),this.$el.openModal({ready:function(){Materialize.updateTextFields()},complete:this.hide.bind(this)})},setOffline:function(e){this.model._settings.save("show_offline",e.target.value)},validateName:function(e){return e?this.model.collection.get(e)?i.getString("dialog_add_circle__error__text_wrong_name"):void 0:i.getString("dialog_add_circle__error__text_input_name")},applySettings:function(){let e=this.$(".group-name input").val();if(e!==this.model.get("name")){let t=this.validateName(e);if(t)return void this.$(".group-name .errors").text(t).removeClass("hidden");this.model.renameGroup(e)}this.close()},deleteGroup:function(){let e=this.model.get("name");d.dialogs.ask(i.getString("circle_remove"),i.getString("circle_remove_confirm",[e]),null,{ok_button_text:i.getString("remove")}).done(e=>{e&&this.model.deleteGroup()})},onHide:function(){this.$el.detach()},close:function(){this.$el.closeModal({complete:this.hide.bind(this)})},onDestroy:function(){this.$el.closeModal({complete:this.remove.bind(this)})}}),i.Groups=Backbone.Collection.extend({model:i.Group,initialize:function(e,t){this.account=t.account,this.on("change:id",this.sort,this),this.account.on("render_settings",this.render,this)},comparator:function(e,t){return e.isSpecial()===t.isSpecial()?e.get("id")<t.get("id")?-1:1:e.isSpecial()?1:-1},notSpecial:function(){return this.filter(function(e){return!e.isSpecial()})},onGroupAdded:function(e){e.acc_view=new i.AccountGroupView({model:e})},render:function(){this.on("add",this.onGroupAdded,this),this.models.forEach(e=>{e.acc_view=new i.AccountGroupView({model:e})})}}),i.Contacts=i.ContactsBase.extend({initialize:function(e,t){this.account=t.account,this.account.on("deactivate destroy",this.removeAllContacts,this),this.collections=[],this.on("add",m.bind(this.updateInCollections,this,"add")),this.on("change",m.bind(this.updateInCollections,this,"change"))},addCollection:function(e){this.collections.push(e)},updateInCollections:function(e,t){m.each(this.collections,function(a){a.update(t,e)})},mergeContact:function(e){"object"!=typeof e&&(e={jid:e});let t=this.get(e.jid);return t?(e.avatar&&(e.image=e.avatar,delete e.avatar,t.cached_image=h.getCachedImage(e.image)),t.set(e)):t=this.create(e,{account:this.account}),t},blockContact:function(e,t,a){let i=c({type:"set"}).c("block",{xmlns:p.NS.BLOCKING}).c("item",{jid:e});this.account.sendIQ(i,t,a)},unblockContact:function(e,t,a){let i=c({type:"set"}).c("unblock",{xmlns:p.NS.BLOCKING}).c("item",{jid:e});this.account.sendIQ(i,t,a)},removeAllContacts:function(){m.each(m.clone(this.models),function(e){e.destroy()}),this.account.trigger("remove_saved_chat")},handlePresence:function(e,t){let a=this.mergeContact(t);a.handlePresence(e)}}),i.BlockList=Backbone.Model.extend({initialize:function(e,t){this.account=t.account,this.list={},this.contacts=this.account.contacts,this.contacts.on("add_to_blocklist",this.onContactAdded,this),this.contacts.on("remove_from_blocklist",this.onContactRemoved,this)},length:function(){return Object.keys(this.list).length},isBlocked:function(e){return this.list.hasOwnProperty(e)},onContactRemoved:function(e){delete this.list[e]},onContactAdded:function(e){this.list[e.jid]=e},registerHandler:function(){this.account.connection.deleteHandler(this._stanza_handler),this._stanza_handler=this.account.connection.addHandler(this.onBlockingIQ.bind(this),p.NS.BLOCKING,"iq","set",null,this.account.get("jid"))},getFromServer:function(){let e=c({type:"get"}).c("blocklist",{xmlns:p.NS.BLOCKING});this.account.sendIQ(e,this.onBlockingIQ.bind(this))},onBlockingIQ:function(e){let t=r(e).find(`[xmlns="${p.NS.BLOCKING}"]`),a=t[0].tagName.toLowerCase(),i=a.startsWith("block");return t.find("item").each((e,t)=>{let a=t.getAttribute("jid"),n=p.getResourceFromJid(a),s=p.getDomainFromJid(a),o={jid:a},d=this.contacts.get(a);n&&(o.resource=!0),s===a&&(o.domain=!0),i?this.contacts.trigger("add_to_blocklist",o):(this.contacts.trigger("remove_from_blocklist",a),d&&d.trigger("remove_from_blocklist",d)),d&&d.set("blocked",i)}),!0}}),i.Roster=i.ContactsBase.extend({initialize:function(e,t){this.account=t.account,this.roster_version=this.account.get("roster_version")||0,this.groups=this.account.groups,this.contacts=this.account.contacts,this.contacts.on("add_to_roster",this.onContactAdded,this),this.contacts.on("change_in_roster",this.onContactChanged,this),this.contacts.on("remove_from_roster",this.onContactRemoved,this)},update:function(e,t){let a=e.get("in_roster")||e.get("known");a?this.get(e)?"change"===t&&e.trigger("change_in_roster",e):(this.add(e),e.trigger("add_to_roster",e)):this.get(e)&&(this.remove(e),e.trigger("remove_from_roster",e))},onContactAdded:function(e){if(e.get("in_roster")){let t=e.get("groups");t.length?m.each(t,m.bind(this.addContactToGroup,this,e)):this.addContactToGroup(e,s.GENERAL_GROUP_ID)}},onContactChanged:function(e){let t=e.changed,a=m.has(t,"known"),i=m.has(t,"in_roster"),n=m.has(t,"groups");if(i||a||n){let t;e.get("in_roster")?(t=m.clone(e.get("groups")),!t.length&&t.push(s.GENERAL_GROUP_ID)):e.get("known")&&(t=[]);let a=this.groups.filter(function(e){return!m.contains(t,e.get("id"))});m.each(a,function(t){t.removeContact(e)}),m.each(t,m.bind(this.addContactToGroup,this,e)),e.trigger("update_groups")}},onContactRemoved:function(e){m.each(this.groups.filter(),function(t){t.removeContact(e)})},getGroup:function(e){let t=this.groups.get(e);if(t)return t;let a={id:e};return e===s.GENERAL_GROUP_ID?a.name=i.settings.roster.general_group_name:e===s.NON_ROSTER_GROUP_ID&&(a.name=i.settings.roster.non_roster_group_name),this.groups.create(a,{account:this.account})},addContactToGroup:function(e,t){let a=this.getGroup(t);a.contacts.add(e)},registerHandler:function(){this.account.connection.deleteHandler(this._stanza_handler),this._stanza_handler=this.account.connection.addHandler(this.onRosterIQ.bind(this),p.NS.ROSTER,"iq","set",null,this.account.get("jid"))},syncFromServer:function(e,t,a){e=e||{};let i={xmlns:p.NS.SYNCHRONIZATION};e.after||(e.stamp?i.stamp=e.stamp:this.account.last_msg_timestamp&&(i.stamp=1e3*this.account.last_msg_timestamp)),delete e.stamp;let n=c({type:"get"}).c("query",i).cnode(new p.RSM(e).toXML());this.account.sendFast(n,n=>{this.onSyncIQ(n,i.stamp,t,a,e.last_version_sync)})},syncConversations:function(t,a){r(t).find("conversation").each((n,o)=>{let d=r(o),c=d.attr("jid"),l=!1;if(c===this.account.get("jid")&&(l=!0),d.attr("type")===p.NS.SYNCHRONIZATION_OLD_OMEMO)return!0;let m=d.children("metadata[node=\""+p.NS.SYNCHRONIZATION+"\"]"),u=d.attr("type"),g=d.children("metadata[node=\""+p.NS.GROUP_CHAT+"\"]"),h=u===p.NS.GROUP_CHAT&&"incognito"===g.children("x[xmlns=\""+p.NS.GROUP_CHAT+"\"]").children("privacy").text(),v=h&&g.children("x[xmlns=\""+p.NS.GROUP_CHAT+"\"]").children("parent").text(),f=u===p.NS.GROUP_CHAT||v||h,b=u===p.NS.SYNCHRONIZATION_OMEMO,A=!l&&this.contacts.mergeContact({jid:c,group_chat:f,private_chat:v,incognito_chat:h}),x=l?this.account.chats.getSavedChat():this.account.chats.getChat(A,b&&"encrypted",!0),w=m.children("last-message").children("message"),k=d.children("metadata[node=\""+p.NS.JINGLE_MSG+"\"]").children("call"),S=m.children("unread"),C=e(+d.attr("stamp")/1e3),M=S.attr("after"),L=m.children("delivered").attr("id"),T=m.children("displayed").attr("id"),E=+S.attr("count")||0,D=w.find("invite").length,I=d.children("metadata[node=\""+p.NS.REWRITE+"\"]").children("retract").attr("version"),Y={synced_msg:!0},N;if(!x.item_view.content&&(D||b&&this.account.omemo)&&(x.item_view.content=new i.ChatContentView({chat_item:x.item_view})),(d.attr("pinned")||"0"===d.attr("pinned"))&&x.set("pinned",d.attr("pinned")),b&&this.account.omemo&&(x.set("timestamp",C),x.set("opened",!0),"set"!=r(t).attr("type")&&x.item_view.updateEncryptedChat()),l||(d.attr("mute")||"0"===d.attr("mute")?(d.attr("mute")<Date.now()/1e3?x.set("muted",!1):x.set("muted",d.attr("mute")),this.account.chat_settings.updateMutedList(A.get("jid"),d.attr("mute")),A.details_view_right&&A.details_view_right.updateNotifications()):x.set("muted",!1)),"archived"===d.attr("status")?x.set("archived",!0):"active"===d.attr("status")&&!l&&x.set("archived",!1),"deleted"===d.attr("status")?(A&&A.details_view&&A.details_view.isVisible()&&i.body.setScreen(i.body.screen.get("name"),{right:void 0}),x.get("display")&&i.body.setScreen(i.body.screen.get("name"),{right_contact:"",right:void 0}),x.set("opened",!1),x.set("const_unread",0),this.account.chat_settings.updateGroupChatsList(A.get("jid"),!1),i.toolbar_view.recountAllMessageCounter(),i.chats_view.clearSearch(),A&&A.set("sync_deleted",!0)):A&&A.set("sync_deleted",!1),g.length&&A.participants&&A.participants.createFromStanza(g.children(`user[xmlns="${p.NS.GROUP_CHAT}"]`)),k.length){let e=k.children("message"),t=e.attr("from"),a=e.children("propose").attr("id");x.initIncomingCall(t,a)}x.set("last_delivered_id",L),x.set("last_displayed_id",T),x.set("last_read_msg",M),x.set("sync_type",u),w.length||(x.set("timestamp",C),!(+L||+T||+M)&&!x.item_view.content&&!x.get("group_chat")&&(x.item_view.content=new i.ChatContentView({chat_item:x.item_view})),x.item_view.updateEmptyChat()),f&&(a?x.retraction_version<I&&x.trigger("get_retractions_list"):x.retraction_version=I),a&&x.item_view&&x.item_view.content&&x.trigger("get_missed_history",a/1e3),E&&(Y.is_unread=!0),Y.delay=w.children("time"),b&&this.account.omemo&&E&&E--,w.length&&(N=this.account.chats.receiveChatMessage(w,Y)),b&&!this.account.omemo||(x.messages_unread.reset(),x.set("unread",0),x.set("const_unread",E)),N&&(!N.get("is_unread")&&0<S.attr("count")&&!N.isSenderMe()&&(S.attr("after")<N.get("stanza_id")||S.attr("after")<N.get("contact_stanza_id"))&&N.set("is_unread",!0),!(D||b&&this.account.omemo)&&(N.isSenderMe()&&N.get("stanza_id")==T?N.set("state",s.MSG_DISPLAYED):N.isSenderMe()&&N.get("stanza_id")==L&&N.set("state",s.MSG_DELIVERED),this.account.messages.add(N),(x.last_message&&N.get("timestamp")>x.last_message.get("timestamp")||!x.last_message)&&(x.last_message=N,x.item_view.updateLastMessage(N))),x.set("first_archive_id",N.get("stanza_id"))),i.toolbar_view.recountAllMessageCounter()})},onSyncIQ:function(e,a,n,o,d){let c=+r(e).children(`query[xmlns="${p.NS.SYNCHRONIZATION}"]`).attr("stamp"),l=r(e).find(`query set[xmlns="${p.NS.RSM}"]`).children("last").text();this.account.last_msg_timestamp=t(c/1e3);let u=r(e).find("set last"),g=r(e).find("query conversation[type=\"encrypted\"]").first().children("metadata[node=\""+p.NS.REWRITE+"\"]").children("retract").attr("version"),h=r(e).find("query conversation[type=\"chat\"]").first().children(`metadata[node="${p.NS.REWRITE}"]`).children("retract").attr("version");a||(u.length?this.last_chat_msg_id=u.text():this.conversations_loaded=!0),!m.isUndefined(g)&&this.account.omemo&&this.account.omemo.getRetractVersion()<g&&this.account.getAllMessageRetractions(!0),a?this.account.retraction_version<h&&this.account.getAllMessageRetractions():this.account.retraction_version=h,this.syncConversations(e,a,d),i.chats_view.hideChatsFeedback(),a||this.account.chats.getSavedChat(),this.account.set("last_sync",c),o&&this.account.set("first_sync",c),!r(e).find("conversation").length||r(e).find("conversation").length<s.SYNCHRONIZATION_RSM_MAX?!n&&this.getRoster():r(e).find("conversation").length&&(n?this.account.get("last_sync")&&this.syncFromServer({stamp:this.account.get("last_sync"),max:s.SYNCHRONIZATION_RSM_MAX},!0):this.syncFromServer({max:s.SYNCHRONIZATION_RSM_MAX,after:l}))},getRoster:function(){let e=this.roster_version;this.account.cached_roster.getAllFromRoster(t=>{t.length||0==e||(this.roster_version=0),this.getFromServer()})},getFromServer:function(){let e=c({type:"get"}).c("query",{xmlns:p.NS.ROSTER,ver:this.roster_version});this.account.sendIQ(e,e=>{this.onRosterIQ(e),this.account.sendPresence(),this.account.get("first_sync")&&this.syncFromServer({stamp:this.account.get("first_sync"),max:s.SYNCHRONIZATION_RSM_MAX,last_version_sync:!0},!0),this.account.dfd_presence.resolve()})},onRosterIQ:function(e){let t=r(e).children("query").attr("ver");return"set"===e.getAttribute("type")?this.account.sendIQ(c({type:"result",id:e.getAttribute("id"),from:this.account.jid})):(t&&this.roster_version!=t&&this.account.cached_roster.clearDataBase(),"result"===e.getAttribute("type")&&(t&&(this.roster_version=t),this.account.save("roster_version",this.roster_version))),r(e).children("query").find("item").each((e,t)=>{this.onRosterItem(t)}),!0},onRosterItem:function(e){let t=e.getAttribute("jid");if(t===this.account.get("jid"))return;let a=this.contacts.mergeContact(t),i=e.getAttribute("subscription"),n=e.getAttribute("ask");if(a.get("invitation")&&("both"===i||"to"===i)&&(a.set("invitation",!1),a.trigger("remove_invite")),"remove"===i)return a.set({in_roster:!1,known:!1,name:a.get("jid"),subscription:void 0,subscription_request_out:!1}),void this.account.cached_roster.removeFromRoster(t);let s=[];r(e).find("group").each(function(){let e=r(this).text();0>s.indexOf(e)&&s.push(e)});let o={subscription:i,in_roster:!0,roster_name:e.getAttribute("name"),groups:s};"both"===i&&(o.subscription_request_out=!1,o.subscription_request_in=!1,o.subscription_preapproved=void 0),"from"===i&&(o.subscription_request_in=!1),"to"===i&&(o.subscription_request_out=!1),"subscribe"===n&&(o.subscription_request_out=!0),o.roster_name&&(o.name=o.roster_name),a.set(o),a.updateCachedInfo()}}),i.AccountRosterView=i.BasicView.extend({className:"account-roster-wrap",events:{"click .roster-account-info-wrap .status-button":"openChangeStatus","click .roster-account-info":"toggle"},_initialize:function(e){this.account=e.account,this.groups=this.account.groups,this.roster=this.account.roster,this.contacts=this.account.contacts,this.$el.attr("data-jid",this.account.get("jid")),this.$el.appendTo(this.parent.$(".contact-list")),this.$info=this.$(".roster-account-info-wrap"),this.updateName(),this.updateStatus(),this.updateAvatar(),this.updateColorScheme(),this.account.on("change:name",this.updateName,this),this.account.on("change:image",this.updateAvatar,this),this.account.on("change:status_updated",this.updateStatus,this),this.account.settings.on("change:color",this.updateColorScheme,this),this.groups.on("add",this.onGroupAdded,this),this.groups.on("rename",this.onGroupRenamed,this),this.groups.on("destroy",this.onGroupRemoved,this),this.data.on("change:expanded",this.updateExpanded,this),this.data.set("expanded",!0)},updateName:function(){this.$info.find(".name").text(this.account.get("name"))},updateStatus:function(){this.$info.find(".status").attr("data-status",this.account.get("status")),this.$info.find(".status-message").text(this.account.getStatusMessage())},updateAvatar:function(){let e=this.account.cached_image;this.$info.find(".circle-avatar").setAvatar(e,this.avatar_size)},updateColorScheme:function(){this.$el.attr("data-color",this.account.settings.get("color"))},updateExpanded:function(){let e=this.data.get("expanded");this.$el.switchClass("shrank",!e),this.parent.updateScrollBar()},updateGroupPosition:function(e){e.$el.detach();let t=this.groups.indexOf(e.model);0===t?this.$info.after(e.$el):this.$(".roster-group").eq(t-1).after(e.$el),this.parent.updateScrollBar()},onGroupAdded:function(e){let t=this.addChild(e.get("id"),this.group_view,{model:e});this.updateGroupPosition(t)},onGroupRenamed:function(e,t){let a=this.child(t);delete this.children[t],this.children[e.get("name")]=a,a&&this.updateGroupPosition(a)},onGroupRemoved:function(e){this.removeChild(e.get("id"))},toggle:function(){this.data.set("expanded",!this.data.get("expanded"))},openChangeStatus:function(){i.change_status_view||(i.change_status_view=new i.ChangeStatusView),i.change_status_view.open(this.account)}}),i.AccountRosterRightView=i.AccountRosterView.extend({template:o.account_roster_right,group_view:i.GroupRightView,avatar_size:s.AVATAR_SIZES.ROSTER_RIGHT_ACCOUNT_ITEM,__initialize:function(){this.contacts.on("add_to_roster change_in_roster remove_from_roster",this.updateCounter,this),this.contacts.on("add_to_roster remove_from_roster",this.updateGlobalCounter,this)},updateCounter:function(){let e=this.roster.length,t=e-this.roster.where({status:"offline"}).length;this.$info.find(".counter").text(t+"/"+e)},updateGlobalCounter:function(){this.parent.updateCounter()}}),i.AccountRosterLeftView=i.AccountRosterView.extend({template:o.account_roster_left,group_view:i.GroupLeftView,avatar_size:s.AVATAR_SIZES.ROSTER_LEFT_ACCOUNT_ITEM,__initialize:function(){this.$info.find(".jid").text(this.account.get("jid"))},search:function(e){this.$el.removeClass("shrank"),this.$(".group-head").addClass("hidden");let t=0,a={};this.$(".roster-contact").each((i,n)=>{let s=r(n),o=s.data("jid"),d=this.roster.get(o);if(d){if(a[d.hash_id])return void s.addClass("hidden");a[d.hash_id]=!0;let i=d.get("name").toLowerCase(),n=0>i.indexOf(e)&&0>o.indexOf(e);s.hideIf(n),n||t++}}),this.$(".roster-account-info-wrap").showIf(t)},searchAll:function(){this.$el.switchClass("shrank",!this.data.get("expanded")),this.$(".roster-account-info-wrap").removeClass("hidden"),this.$(".group-head").removeClass("hidden"),this.$(".list-item").removeClass("hidden")}}),i.BlockListView=i.BasicView.extend({avatar_size:s.AVATAR_SIZES.CONTACT_BLOCKED_ITEM,events:{"click .blocked-item":"onTabClick","click .btn-reset-panel":"deselectParticipants","click .btn-remove-selected":"actionSelectedParticipants","click .blocked-contact input":"selectUnblock","click .btn-unblock-selected":"unblockSelected"},_initialize:function(e){for(let t in this.account=e.account,this.account.blocklist.list)this.onContactAdded(this.account.blocklist.list[t],!1);this.$(".blocked-item:not(.hidden)").first().click().find("a").addClass("active"),this.hideTabs(),this.account.contacts.on("add_to_blocklist",this.onContactAdded,this),this.account.contacts.on("remove_from_blocklist",this.onContactRemoved,this)},render:function(){this.deselectBlocked(),this.updateIndicator(),i.once("update_css",this.updateIndicator,this)},updateIndicator:function(){this.$(".tabs .indicator").remove(),this.$(".tabs").tabs(),this.$(".indicator").addClass("ground-color-500")},selectUnblock:function(){this.updateUnblockButton()},deselectBlocked:function(){this.$(".blocked-contact input").prop("checked",!1),this.updateUnblockButton()},updateUnblockButton:function(){let e=this.$(".blocked-contact input:checked").length;this.parent.$(".btn-unblock-selected").hideIf(!e),this.parent.$(".btn-deselect-blocked").hideIf(!e),this.parent.$(".btn-block").hideIf(e)},unblockSelected:function(){let e=this.$(".blocked-contact input:checked").closest(".blocked-contact");e.each((e,t)=>{this.unblockContactByJid(r(t).attr("data-jid"))})},unblockContactByJid:function(e){let t=this.account.contacts.get(e);t?t.unblock():this.account.contacts.unblockContact(e)},onTabClick:function(e){let t=r(e.target).closest(".blocked-item"),a=r(e.target).closest(".blocked-item").attr("data-tab-name");this.$(".blocked-item a").removeClass("active"),t.find("a").addClass("active"),this.$(".blocked-items-container").addClass("hidden"),this.$("."+a).removeClass("hidden"),this.$(".blocked-contact input").prop("checked",!1),this.updateUnblockButton()},hideTabs:function(){this.$(".tabs").hideIf(1===this.$(".blocked-item:not(.hidden)").length)},hideEmptyContainers:function(){let e=this.$(".blocked-list:empty");e.each((e,t)=>{let a=r(t).closest(".blocked-items-container").addClass("hidden").attr("data-tab-name");this.$("."+a).addClass("hidden").removeClass("tab")}),this.$(".blocked-item.hidden .active").length&&this.$(".blocked-item:not(.hidden)").first().click().find("a").addClass("active"),this.hideTabs(),this.updateUnblockButton(),this.updateIndicator()},onContactAdded:function(e){let t=o.contact_blocked_item({jid:e.jid});if(e.resource)this.$(".invitations-item").removeClass("hidden").addClass("tab"),this.$(".blocked-invitations-wrap").find(".blocked-invitations").append(t);else if(e.domain){this.$(".domains-item").removeClass("hidden").addClass("tab");let a=this.$(".blocked-domains-wrap"),i=a.find(".blocked-item-description");a.find(".blocked-domains").append(t),i.text(i.text()+(i.text()?", ":"")+e.jid)}else{this.$(".contacts-item").removeClass("hidden").addClass("tab"),this.$(".blocked-contacts-wrap").find(".blocked-contacts").append(t);let a=this.$(".blocked-contacts-wrap .blocked-item-description");a.text(a.text()+(a.text()?", ":"")+e.jid)}this.$(".placeholder").addClass("hidden"),this.hideTabs(),this.updateIndicator(),3===this.$(".blocked-items-container.hidden").length&&this.$(".blocked-list:not(:empty)").closest(".blocked-items-container").removeClass("hidden"),this.isVisible()&&this.parent.updateScrollBar()},onContactRemoved:function(e){let t=this.$(`.blocked-contact[data-jid="${e}"]`),a=t.closest(".blocked-list"),i=new RegExp("\\,\\s"+e+"|"+e+"\\,\\s|"+e),n=t.closest(".blocked-contacts-wrap").showIf(1<a.children().length).find(".blocked-item-description"),s=t.closest(".blocked-domains-wrap").showIf(1<a.children().length).find(".blocked-item-description");t.closest(".blocked-invitations-wrap").showIf(1<a.children().length),n.text(n.text().replace(i,"")),s.text(s.text().replace(i,"")),t.detach(),this.$(".placeholder").hideIf(this.account.blocklist.length()),this.parent.updateScrollBar(),this.hideEmptyContainers()}}),i.RosterView=i.SearchPanelView.extend({ps_selector:".contact-list-wrap",_initialize:function(){this._settings=i._roster_settings,this.model.on("activate",this.updateOneRosterView,this),this.model.on("update_order",this.updateRosterViews,this),this.model.on("deactivate destroy",this.removeRosterView,this),this.on("before_hide",this.saveScrollBarOffset,this),this.$("input").on("input",this.updateSearch.bind(this))},updateOneRosterView:function(e){let t=e.get("jid"),a=this.child(t);if(a)a.$el.detach();else if(e.isConnected())a=this.addChild(t,this.account_roster_view,{account:e});else return;let i=this.model.connected.indexOf(e);0===i?this.$(".contact-list").prepend(a.$el):this.$(".contact-list").children().eq(i-1).after(a.$el),this.updateScrollBar()},updateRosterViews:function(){m.each(this.children,function(e){e.detach()}),this.model.each(e=>{let t=e.get("jid"),a=this.child(t);a&&this.$(".contact-list").append(a.$el)}),this.updateScrollBar()},removeRosterView:function(e){this.removeChild(e.get("jid")),this.updateScrollBar()}}),i.RosterRightView=i.RosterView.extend({className:"roster-right-container container",template:o.roster_right,ps_settings:{theme:"roster-right"},account_roster_view:i.AccountRosterRightView,events:{"mouseover .collapsed-wrap":"expand","mouseleave .expanded-wrap":"collaps","click .btn-pin":"pinUnpin"},__initialize:function(){this.updateCounter(),this.updateTheme(),this.updateBlur(),this.updateTransparency(),this.model.on("activate deactivate destroy",this.updateCounter,this),this.data.on("change",this.updateLayout,this);let e=this._settings.get("pinned");this.data.set({expanded:e,pinned:e})},updateTheme:function(e){e=e||i.settings.side_panel.theme,this.$el.attr("data-theme",e),this.updateTransparency()},updateTransparency:function(e){e=e||i.settings.side_panel.transparency,"dark"==i.settings.side_panel.theme?this.$el.css("background-color",`rgba(0, 0, 0, ${1-e/100})`):this.$el.css("background-color",`rgba(255, 255, 255, ${1-e/100})`)},updateBlur:function(e){e=m.isUndefined(e)?i.settings.side_panel.blur:e,this.$el.switchClass("with-blur",e)},expand:function(){this.data.set("expanded",!0)},collaps:function(){this.data.get("pinned")||this.data.set("expanded",!1)},pinUnpin:function(){let e=!this.data.get("pinned");this._settings.save("pinned",e),this.data.set("pinned",e)},updateLayout:function(){let e=this.data.changed;(m.has(e,"expanded")||m.has(e,"pinned"))&&i.trigger("update_layout",{roster_state_changed:!0})},updateCounter:function(){this.$(".all-contacts-counter").text(m.reduce(this.children,function(e,t){return e+t.roster.length},0))},onListChanged:function(){this.updateScrollBar()}}),i.RosterLeftView=i.RosterView.extend({className:"roster-left-container container",template:o.roster_left,ps_settings:{theme:"item-list"},main_container:".contact-list",account_roster_view:i.AccountRosterLeftView,__initialize:function(){this.model.on("list_changed",this.updateLeftIndicator,this),this.ps_container.on("ps-scroll-y",this.onScrollY.bind(this))},updateLeftIndicator:function(){this.$el.attr("data-indicator",1<this.model.connected.length)},getContactForItem:function(e){let t=r(e),a=t.parent().parent().data("jid"),i=t.data("jid"),n=this.child(a);return n&&n.roster.get(i)},render:function(e){("chat"!==e.right&&"contact_details"!==e.right&&"message_context"!==e.right&&"participant_messages"!==e.right||e.clear_search&&"chat"===e.right)&&this.clearSearch()},searchAll:function(){m.each(this.children,function(e){e.searchAll()})},selectItem:function(e,t){if(!e)return void("up"===t&&(this.ps_container[0].scrollTop=0));this.clearSearchSelection();let a=this.$(".list-item[data-id=\""+e+"\"]");a.length?this.selection_id=e:(this.ps_container[0].scrollTop=0,a=this.$(".list-item:visible").first(),this.selection_id=a.data("id")),a.length&&"down"===t&&(a[0].clientHeight+a[0].offsetTop+a.parent()[0].offsetTop+a.closest(".account-roster-wrap")[0].offsetTop>=this.ps_container[0].clientHeight+this.ps_container[0].scrollTop||a[0].clientHeight+a[0].offsetTop+a.parent()[0].offsetTop+a.closest(".account-roster-wrap")[0].offsetTop<this.ps_container[0].scrollTop)&&(this.ps_container[0].scrollTop=a[0].offsetTop+a.parent()[0].offsetTop+a.closest(".account-roster-wrap")[0].offsetTop),a.length&&"up"===t&&(a[0].offsetTop+a.parent()[0].offsetTop+a.closest(".account-roster-wrap")[0].offsetTop<=this.ps_container[0].scrollTop||a[0].offsetTop+a.parent()[0].offsetTop+a.closest(".account-roster-wrap")[0].offsetTop>this.ps_container[0].scrollTop+this.ps_container[0].clientHeight)&&(this.ps_container[0].scrollTop=a[0].offsetTop+a.parent()[0].offsetTop+a.closest(".account-roster-wrap")[0].offsetTop),a.addClass("selected")},onEnterPressed:function(e){let t;if(e.closest(".searched-lists-wrap").length)this.clearSearch(),this.$(".list-item.active").removeClass("active"),e.hasClass("chat-item")&&(t=i.chats_view.child(e.data("id")),t&&t.open({screen:i.body.screen.get("name"),clear_search:!1}),e.addClass("active")),e.hasClass("roster-contact")&&(t=i.accounts.get(e.data("account")).chats.get(i.accounts.get(e.data("account")).contacts.get(e.data("jid")).hash_id),t&&(t=t.item_view),t&&i.chats_view.openChat(t,{clear_search:!1,screen:i.body.screen.get("name")}),e.addClass("active")),e.hasClass("message-item")&&e.click();else{let t=this.getContactForItem(e);t&&t.showDetails()}},onListChanged:function(){this.updateSearch()}}),i.RosterSettingsView=i.BasicView.extend({className:"roster-settings-wrap",template:o.roster_settings,events:{"change .offline-contacts input":"setOfflineSetting","change .sorting-contacts input":"setSortingSetting"},_initialize:function(){this.$el.appendTo(this.parent.$(".settings-subblock-wrap.contact-list"))},render:function(){this.$(".offline-contacts input[type=radio][name=offline-contacts][value="+this.model.get("show_offline")+"]").prop("checked",!0),this.$(".sorting-contacts input[type=radio][name=sorting-contacts][value="+this.model.get("sorting")+"]").prop("checked",!0)},setOfflineSetting:function(){this.model.save("show_offline",this.$(".offline-contacts input[type=radio][name=offline-contacts]:checked").val())},setSortingSetting:function(){this.model.save("sorting",this.$(".sorting-contacts input[type=radio][name=sorting-contacts]:checked").val())}}),i.AccountGroupView=i.BasicView.extend({className:"group",template:function(){this.$el.append("<div class=\"group-name one-line\"/><span class=\"group-members-count\"/>")},events:{click:"showGroupSettings"},_initialize:function(){this.$(".group-name").text(this.model.get("name")),this.$(".group-members-count").text(this.model.get("counter").all);let e=this.model.collection.indexOf(this.model),t=this.model.account.settings_right.$(".groups");0===e?t.prepend(this.$el):t.children().eq(e-1).after(this.$el),this.model.on("destroy",this.remove,this)},showGroupSettings:function(){this.model.showSettings()}}),i.ContactPlaceholderView=i.BasicView.extend({className:"placeholder-wrap contact-placeholder-wrap noselect",template:o.contact_placeholder}),i.AddContactView=i.BasicView.extend({className:"modal main-modal add-contact-modal",template:o.add_contact,avatar_size:s.AVATAR_SIZES.SYNCHRONIZE_ACCOUNT_ITEM,events:{"click .dropdown-content#select-account-for-add-contact":"selectAccount","click .existing-group-field label":"editGroup","change .new-group-name input":"checkNewGroup","keyup .new-group-name input":"checkNewGroup","keyup .name-field #new_contact_username":"checkJid","focusout .name-field #new_contact_username":"focusoutInputField","focusout .new-group-name #new-group-name":"addNewGroup","click .btn-add":"stepForward","click .btn-cancel":"close"},_initialize:function(){this.group_data=new Backbone.Model,this.group_data.on("change",this.updateGroups,this)},render:function(e){if(!i.accounts.connected.length)return void d.dialogs.error(i.getString("dialog_add_contact__error__text_no_accounts"));e||(e={});let t=e.account?[e.account]:i.accounts.connected,a=e.jid||"";return this.$("input[name=\"username\"]").val(a).attr("readonly",!!a).removeClass("invalid"),this.$(".single-acc").showIf(1===t.length),this.$(".multiple-acc").hideIf(1===t.length),this.$(".dropdown-content#select-account-for-add-contact").empty(),m.each(t,e=>{this.$(".dropdown-content#select-account-for-add-contact").append(this.renderAccountItem(e))}),this.$(".account-dropdown-wrap").hideIf(2>t.length),this.bindAccount(t[0]),this.$("span.errors").text(""),this.$el.openModal({ready:()=>{Materialize.updateTextFields(),this.$(".account-dropdown-wrap").dropdown({inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"}),this.$("input[name=\"username\"]").focus()},complete:this.close.bind(this)}),this},bindAccount:function(e){this.account=e,this.$(".account-dropdown-wrap .dropdown-button .account-item-wrap").replaceWith(this.renderAccountItem(e)),this.renderGroupsForAccount(e)},stepForward:function(){let e=this.$("input[name=username]").val().trim();this.$el.append(r(o.preloader())),this.$(".btn-add").addClass("hidden-disabled"),this.$("input[name=contact_name]").val(""),this.account.connection&&this.account.connection.connected&&(this.account.background_connection&&this.account.background_connection.connected?this.account.background_connection:this.account.connection).vcard.get(e,e=>{let t=e.username?e.username:e.fullname?e.fullname:"";t&&this.$("input[name=contact_name]").val(t),this.$(".preloader-wrapper").remove(),this.$(".btn-add").removeClass("hidden-disabled"),this.addContact()},e=>{this.$(".preloader-wrapper").remove(),this.$(".btn-add").removeClass("hidden-disabled"),this.$("input[name=username]").addClass("invalid").siblings(".errors").text(r(e).find("error text").text())})},renderAccountItem:function(e){let t=r(o.add_contact_account_item({jid:e.get("jid"),name:e.get("name")}));return t.find(".circle-avatar").setAvatar(e.cached_image,this.avatar_size),t},renderGroupsForAccount:function(e){this.group_data.set({selected:[],groups:m.map(e.groups.notSpecial(),function(e){return e.get("name")})},{silent:!0}),this.updateGroups()},updateGroups:function(){let e=this.group_data.get("selected");this.$(".groups").html(o.groups_checkbox_list_contact({groups:m.map(this.group_data.get("groups"),function(t){return{name:t,id:g(),checked:m.contains(e,t)}})}))},selectAccount:function(e){let t=r(e.target).closest(".account-item-wrap"),a=i.accounts.get(t.data("jid"));this.bindAccount(a)},editGroup:function(e){e.preventDefault();let t=r(e.target),a=t.siblings("input"),i=!a.prop("checked"),n=a.attr("data-groupname"),s=m.clone(this.group_data.get("selected")),o=s.indexOf(n);a.prop("checked",i),i?0>o&&s.push(n):0<=o&&s.splice(o,1),this.group_data.set("selected",s)},checkNewGroup:function(e){let t=r(e.target).val(),a=this.$(".new-group-checkbox #new_group_checkbox");a.prop("disabled",!t||m.contains(this.group_data.get("groups"),t)),e.keyCode===s.KEY_ENTER&&this.addNewGroup()},addNewGroup:function(e){if(e&&e.preventDefault(),!this.$(".new-group-checkbox #new_group_checkbox").prop("disabled")){let e=this.$(".new-group-name input"),t=e.val(),a=m.clone(this.group_data.get("groups")),i=a.indexOf(t);if(0>i){let e=m.clone(this.group_data.get("selected"));e.push(t),a.push(t),this.group_data.set({groups:a,selected:e})}}},focusoutInputField:function(){this.$("input[name=username]").val().trim()||(this.$("input[name=username]").removeClass("invalid"),this.$("span.errors").text("").addClass("hidden"))},checkJid:function(e){let t=this.$("input[name=username]").val().trim(),a;!/^(([^<>()[\]\\.,;:\s%@\"]+(\.[^<>()[\]\\.,;:\s%@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([^<>()[\]\\.,;:\s%@\"]+(\.[^<>()[\]\\.,;:\s%@\"]+)*)|(\".+\"))|(([0-9]{1,3}\.){3}[0-9]{1,3})|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)&&t&&(a=i.getString("dialog_add_contact__error__text_invalid_jid")),a?this.$("input[name=username]").addClass("invalid").siblings(".errors").text(a):(this.$("input[name=username]").removeClass("invalid"),this.$("span.errors").text("").addClass("hidden"),e.keyCode===s.KEY_ENTER&&this.stepForward())},addContact:function(){this.$("span.errors").text("").addClass("hidden");let e=this.$("input[name=username]").removeClass("invalid").val().trim(),t=this.$("input[name=contact_name]").removeClass("invalid").val(),a=this.group_data.get("selected"),n,s;e&&(e=e.toLowerCase()),e=p.getBareJidFromJid(e),e?e===this.account.get("jid")?s=i.getString("dialog_add_contact__error__text_can_not_add_youself"):/^(([^<>()[\]\\.,;:\s%@\"]+(\.[^<>()[\]\\.,;:\s%@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)?(n=this.account.contacts.mergeContact(e),n.get("in_roster")&&(s=i.getString("dialog_add_contact__error__text_already_in_roster"))):s=i.getString("dialog_add_contact__error__text_invalid_jid"):s=i.getString("dialog_add_contact__error__text_input_username"),s?this.$("input[name=username]").addClass("invalid").siblings(".errors").text(s):(n.set("subscription_preapproved",!0),n.pres("subscribed"),n.pushInRoster({name:t,groups:a},()=>{n.pres("subscribe"),n.trigger("presence",n,"subscribe_from"),n.trigger("open_chat",n)},function(){n.destroy()}),this.close())},onHide:function(){this.$el.detach()},close:function(){this.$el.closeModal({complete:this.hide.bind(this)})}}),i.GroupSettings=Backbone.Model.extend({idAttribute:"name",defaults:{expanded:!0,show_offline:"default",sorting:"default",custom_notifications:!1,notifications:!1,message_preview:!1}}),i.GroupsSettings=Backbone.CollectionWithStorage.extend({model:i.GroupSettings,_initialize:function(e,t){this.account=t.account,this.account.on("destroy",this.clearStorage,this),this.fetch()}}),i.RosterSettings=Backbone.ModelWithStorage.extend({defaults:function(){let e=i.getString("circles__name_general_circle"),t=i.getString("circles__name_non_roster_circle");return{pinned:!1,show_offline:"yes",sorting:"online-first",general_group_name:e,non_roster_group_name:t}}}),i.CachedRoster=Backbone.ModelWithDataBase.extend({putInRoster:function(e,t){this.database.put("roster_items",e,function(e){t&&t(e)})},getFromRoster:function(e,t){this.database.get("roster_items",e,function(e){t&&t(e)})},getAllFromRoster:function(e){this.database.get_all("roster_items",null,function(t){e&&e(t||[])})},removeFromRoster:function(e,t){this.database.remove("roster_items",e,function(e){t&&t(e)})},clearDataBase:function(){this.database.clear_database("roster_items")}}),i.Account.addInitPlugin(function(){this.groups_settings=new i.GroupsSettings(null,{account:this,storage_name:i.getStorageName()+"-groups-settings-"+this.get("jid")}),this.cached_roster=new i.CachedRoster(null,{name:"cached-roster-list-"+this.get("jid"),objStoreName:"roster_items",primKey:"jid"}),this.groupchat_settings=new i.GroupChatSettings({id:"group-chat-settings"},{account:this,storage_name:i.getStorageName()+"-group-chat-settings-"+this.get("jid"),fetch:"after"}),this.groups=new i.Groups(null,{account:this}),this.contacts=new i.Contacts(null,{account:this}),this.contacts.addCollection(this.roster=new i.Roster(null,{account:this})),this.blocklist=new i.BlockList(null,{account:this}),this._added_pres_handlers.push(this.contacts.handlePresence.bind(this.contacts)),this.on("ready_to_get_roster",function(){this.resources.reset(),this.contacts.each(function(e){e.resources.reset(),e.resetStatus()}),this.cached_roster.getAllFromRoster(e=>{if(r(e).each((e,t)=>{this.contacts.mergeContact(t)}),this.connection&&this.connection.do_synchronization&&i.chats_view){let e={};this.roster.last_chat_msg_id||(e.max=s.SYNCHRONIZATION_RSM_MAX),this.roster.syncFromServer(e,!1,!0)}else this.roster.getRoster();this.blocklist.getFromServer()})},this)}),i.Account.addConnPlugin(function(){this.registerIQHandler(),this.registerSyncedIQHandler(),this.roster.registerHandler(),this.blocklist.registerHandler()},!0,!0),i.once("start",function(){this._roster_settings=new this.RosterSettings({id:"roster-settings"},{storage_name:this.getStorageName(),fetch:"after"}),this.settings.roster=this._roster_settings.attributes,this.roster_settings_view=i.settings_view.addChild("roster_settings",this.RosterSettingsView,{model:this._roster_settings}),this.contacts_view=this.left_panel.addChild("contacts",this.RosterLeftView,{model:this.accounts}),this.roster_view=this.body.addChild("roster",this.RosterRightView,{model:this.accounts}),this.contact_container=this.right_panel.addChild("details",this.Container),this.details_container=this.right_contact_panel.addChild("details",this.Container),this.contact_placeholder=this.right_contact_panel.addChild("contact_placeholder",this.ContactPlaceholderView),this.add_contact_view=new this.AddContactView,this.on("add_contact",function(){this.add_contact_view.show()},this)},i),i}}),define("xabber-chats",[],function(){var e=Math.round,t=Math.floor,a=Math.max;return function(n){let s=n.env,o=s.constants,d=s.templates.chats,r=s.utils,c=s.$,i=s.$iq,l=s.$msg,p=s.Strophe,m=s._,u=s.moment,g=s.uuid,h=r.images,v=r.emoji,f=e=>r.pretty_date(e,("ru-RU"==n.settings.language||"default"==n.settings.language&&"ru-RU"==n.get("default_language"))&&"dddd, D MMMM YYYY"),b=e=>r.pretty_datetime(e,("ru-RU"==n.settings.language||"default"==n.settings.language&&"ru-RU"==n.get("default_language"))&&"D MMMM YYYY HH:mm:ss");return n.Message=Backbone.Model.extend({idAttribute:"unique_id",defaults:function(){let e=g();return{msgid:e,unique_id:e,type:"main",state:o.MSG_PENDING}},initialize:function(){let e=this.get("time"),t={};e?t.timestamp=+u(e):(t.timestamp=u.now(),t.time=u(t.timestamp).format()),this.get("origin_id")||!this.isSenderMe()||this.get("synced_from_server")||this.get("carbon_copied")||this.get("is_archived")||this.set("origin_id",this.get("msgid")),this.updateUniqueId(),this.set(t),this.on("change:origin_id stanza_id archived_id",this.updateUniqueId,this)},updateUniqueId:function(){this.set("unique_id",this.get("origin_id")||this.get("stanza_id")||this.get("archived_id")||this.get("msgid"))},getText:function(){let e=this.get("forwarded_message");return e&&e.length?e[0].get("message"):this.get("message")},getState:function(){return o.MSG_STATE[this.get("state")]},getVerboseState:function(){let e=n.getString(o.MSG_VERBOSE_STATE[this.get("state")]);return this.account?!this.account.isOnline()&&(e=n.getString("account_is_offline")):!this.collection.account.isOnline()&&(e=n.getString("account_is_offline")),e},isSenderMe:function(){return this.account?this.account.get("jid")===this.get("from_jid"):this.collection.account?this.collection.account.get("jid")===this.get("from_jid"):void 0}}),n.MessagesBase=Backbone.Collection.extend({model:n.Message}),n.SearchedMessages=n.MessagesBase.extend({comparator:"timestamp",initialize:function(){this.collections=[],this.on("add",m.bind(this.updateInCollections,this,"add")),this.on("change",m.bind(this.updateInCollections,this,"change"))},addCollection:function(e){this.collections.push(e)},updateInCollections:function(e,t){m.each(this.collections,function(a){a.update(t,e)})}}),n.Messages=Backbone.Collection.extend({model:n.Message,comparator:"timestamp",initialize:function(e,t){this.account=t.account},createInvitationFromStanza:function(e,t){t=t||{};let a=e.find("invite"),i=a.attr("jid")||e.attr("from"),n=t.delay||e.children("delay"),s=p.getBareJidFromJid(i),o=e.children("body").text(),d=0<e.find("markable").length,r=e.attr("id"),c=e.children("archived").attr("id"),l=e.children("origin-id").attr("id"),u=l||t.stanza_id||c||r,g=u&&this.get(u),h=e.children("x[xmlns=\""+p.NS.GROUP_CHAT+"\"]"),v={},f;if(g)return g;if(s){let a={xml:t.xml||e[0],carbon_copied:t.carbon_copied&&!t.is_archived,markable:d,msgid:r,is_forwarded:t.is_forwarded,forwarded_message:t.forwarded_message||null,from_jid:s,origin_id:l,stanza_id:t.stanza_id,archive_id:c,contact_stanza_id:t.contact_stanza_id,is_archived:t.is_archived};n.length&&(a.time=n.attr("stamp")),t.synced_msg&&(a.synced_invitation_from_server=!0),o&&(a.message=o);let i=this.account.contacts.mergeContact({jid:p.getBareJidFromJid(s),group_chat:!0}),u=this.account.chats.getChat(i);if(i.set("in_roster",!1),i.getVCard(),h.length){let e=h.find("name").text(),t=h.find("membership").text(),a=h.find("privacy").text(),n=h.find("index").text(),s=h.find("parent-chat").text(),o=h.find("description").text();e&&(v.name=e),t&&(v.model=e),a&&(v.privacy=a),n&&(v.searchable=n),o&&(v.description=o),s.length&&(f=!0),f&&i.set("private_chat",!0),"incognito"===a&&i.set("incognito_chat",!0);let d=i.get("group_info")||{};m.extend(d,v),i.set("group_info",d)}let g=u.messages.createSystemMessage(m.extend(a,{from_jid:s,auth_request:!0,invite:!0,private_invite:f||!1,is_accepted:!1,silent:!1,message:e.find("reason").text()}));return g}},createFromStanza:function(e,t){t||(t={});let a=t.delay||e.children("delay"),i=e.attr("from")||t.from_jid,s=p.getBareJidFromJid(i),d=e.children("body").length?e.children("body").text():e.children("envelope").children("content").children("body").text(),l=0<e.find("markable").length,g=e.children("archived").attr("id"),h=e.children("origin-id").attr("id"),v=e.attr("id"),f=h||t.stanza_id||g||v,b=f&&this.get(f);if(t.replaced){let a=e.children("replace").attr("conversation");if(e.children("replace").children("message").children(`encrypted[xmlns="${p.NS.SYNCHRONIZATION_OLD_OMEMO}"]`).length)return;if(e.children("replace").children("message").children(`encrypted[xmlns="${p.NS.OMEMO}"]`).length&&this.account.omemo&&!t.forwarded)return void this.account.omemo.receiveChatMessage(e,m.extend(t,{from_jid:a,conversation:a}));e=e.children("replace").children("message"),d=e.children("body").length?e.children("body").text():e.children("envelope").children("content").children("body").text();let i=e.children("stanza-id").first().attr("id");if(b=this.find(e=>e.get("stanza_id")===i||e.get("contact_stanza_id")===i),!b)return;s=b.get("from_jid"),v=b.get("msgid");let n=b.get("xml");n.innerHTML=e[0].innerHTML,t.xml=n,t.forwarded_message=b.get("forwarded_message")}if(b&&!t.replaced&&!t.context_message&&!t.searched_message&&!t.pinned_message&&!t.participant_message&&!t.echo_msg&&!t.is_searched)return b;let A={xml:t.xml||e[0],original_message:d,carbon_copied:t.carbon_copied&&!t.is_archived,markable:l,msgid:v,is_forwarded:t.is_forwarded,forwarded_message:t.forwarded_message||null,from_jid:s,contact_stanza_id:t.contact_stanza_id,is_archived:t.is_archived},x=[],w=[],k=[],S=[],C=[],M=[],L=[],T=[];t.encrypted&&m.extend(A,{encrypted:!0}),t.hasOwnProperty("is_trusted")&&m.extend(A,{is_trusted:t.is_trusted});let E=e.children(`reference[xmlns="${p.NS.REFERENCE}"]`).length?e.children(`reference[xmlns="${p.NS.REFERENCE}"]`):e.children("envelope").children("content").children(`reference[xmlns="${p.NS.REFERENCE}"]`);if(E.each((e,t)=>{let a=c(t),i=a.attr("type"),n=parseInt(a.attr("begin")),s=parseInt(a.attr("end"));if("decoration"===i){if(a.children(`mention[xmlns="${p.NS.MARKUP}"]`).length){let e=a.children(`mention[xmlns="${p.NS.MARKUP}"]`),t=e.text(),i=e.attr("node")===p.NS.GROUP_CHAT;x.push({start:n,end:s,target:t,is_gc:i})}else{let e=[];a.children().each((t,a)=>{-1<o.MARKUP_TAGS.indexOf(a.tagName)&&c(a).attr("xmlns")===p.NS.MARKUP&&("link"===a.tagName?e.push({type:a.tagName,uri:c(a).text()}):"quote"===a.tagName?w.push({start:n,end:s}):e.push(a.tagName))}),e.length&&k.push({start:n,end:s,markup:e})}}else if("mutable"===i){let e=a.children(`geoloc[xmlns="${p.NS.GEOLOC}"]`).first();e.children("lat").text()&&e.children("lon").text()&&(loc_attrs={lat:e.children("lat").text(),lon:e.children("lon").text()},T.push(loc_attrs),S.push({start:n,end:s,type:"geolocation"}));let t=a.find(`file-sharing[xmlns="${p.NS.FILES}"]`).first();if(a.children("forwarded").length)S.push({start:n,end:s,type:"forward"});else if(t.length){let e=t.parent(`voice-message[xmlns="${p.NS.VOICE_MESSAGE}"]`).length?"voice":"file",a=t.children("file"),i={},o=[];if(S.push({start:n,end:s,type:e}),t.children("sources").children("uri").each((e,t)=>{o.push(c(t).text())}),i={name:a.children("name").text(),hash:a.children(`hash[xmlns="${p.NS.HASH}"]`).text(),size:a.children("size").text(),type:a.children("media-type").text(),duration:a.children("duration").text(),description:a.children("desc").text(),height:a.children("height").text(),width:a.children("width").text(),voice:"voice"==e,sources:o},0==o[0].indexOf("aescbc")){let e=o[0].replace(/^aescbc/,"https"),t=r.fromBase64toArrayBuffer(e.slice(e.length-64));e=e.slice(0,e.length-64-1),m.extend(i,{sources:[e],key:t}),A.has_encrypted_files=!0}"image"===this.getFileType(a.children("media-type").text())?M.push(i):"video"===this.getFileType(a.children("media-type").text())?L.push(i):C.push(i)}}else if("data"===i);}),e.children("x[xmlns=\""+p.NS.GROUP_CHAT+"\"]").each((a,i)=>{let n=c(i).children(`reference[type="mutable"][xmlns="${p.NS.REFERENCE}"]`),s=n.children(`user[xmlns="${p.NS.GROUP_CHAT}"]`).first();if(n.length){let a=parseInt(n.attr("begin")),i=parseInt(n.attr("end"));S.push({start:a,end:i,type:"groupchat"});let o=s.attr("id"),d=s.children("jid").text();m.extend(A,{user_info:{id:o,jid:d,nickname:s.children("nickname").text()||d||o,role:s.children("role").text(),avatar:s.children(`metadata[xmlns="${p.NS.PUBSUB_AVATAR_METADATA}"]`).children("info").attr("id"),avatar_url:s.children(`metadata[xmlns="${p.NS.PUBSUB_AVATAR_METADATA}"]`).children("info").attr("url"),badge:s.children("badge").text()},from_jid:d||o,groupchat_jid:p.getBareJidFromJid(t.is_sender?e.attr("to"):e.attr("from"))})}}),w.length&&(A.blockquotes=w),x.length&&(A.mentions=x),k.length&&(A.markups=k),M.length&&(A.images=M),L.length&&(A.videos=L),C.length&&(A.files=C),T.length&&(A.locations=T),A.mutable_content=S,A.mutable_content.length||(A.forwarded_message=null),t.stanza_id&&(A.stanza_id=t.stanza_id),h&&(A.origin_id=h),g&&(A.archive_id=g),(t.replaced||x.length)&&(A.mentions=x),(t.replaced||k.length)&&(A.markups=k),e.children(`x[xmlns="${p.NS.GROUP_CHAT}#system-message"]`).length&&(A.type="system",A.participants_version=e.children(`x[xmlns="${p.NS.GROUP_CHAT}#system-message"]`).attr("version")),e.children(`x[xmlns="${p.NS.DATAFORM}"]`).length&&e.children(`x[xmlns="${p.NS.DATAFORM}"]`).find("field[var=\"FORM_TYPE\"][type=\"hidden\"] value").text()===p.NS.WEBCHAT){let t=[];e.children(`addresses[xmlns="${p.NS.ADDRESS}"]`).children("address").each((e,a)=>{let i=c(a);t.push({type:i.attr("type"),jid:i.attr("jid")})}),A.data_form=m.extend(this.account.parseDataForm(e.children(`x[xmlns="${p.NS.DATAFORM}"]`)),{addresses:t})}if(d&&(d=r.slice_pretty_body(d,S)),A.forwarded_message||""!==d.removeEmoji()||(A.only_emoji=Array.from(d).length),A.message=d,t.echo_msg&&(a=e.children("time")),a.length&&(A.time=a.attr("stamp")),(A.carbon_copied||s==this.account.get("jid")&&(t.is_archived||t.synced_msg))&&(A.state=o.MSG_SENT),t.synced_msg&&(A.synced_from_server=!0),t.missed_history&&(A.missed_msg=!0),t.echo_msg&&(A.state=o.MSG_DELIVERED,A.timestamp=+u(A.time),A.from_jid=this.account.get("jid")),(t.context_message||t.participant_message||t.searched_message||t.is_searched)&&(A.state=o.MSG_ARCHIVED),t.pinned_message)return this.account.pinned_messages.create(A);if(t.participant_message)return this.account.participant_messages.create(A);if(t.searched_message)return t.query&&(A.query=t.query),this.account.searched_messages.create(A);if(t.context_message)return this.account.context_messages.create(A);if(!((t.echo_msg||t.replaced)&&b&&(b.set(A),t.replaced))){if(t.is_searched){let t=p.getBareJidFromJid(e.attr("from"));return t===this.account.get("jid")&&(t=p.getBareJidFromJid(e.attr("to"))),b=n.all_searched_messages.create(A),b.contact=this.account.contacts.mergeContact(t),b.account=this.account,b}return b=this.create(A),t.encrypted&&t.is_unread&&b.set("is_unread",!0),b}},decryptFile:async function(e,t){return new Promise(a=>{fetch(e).then(e=>{e.blob().then(e=>{let i=new FileReader;i.onloadend=()=>{let e=i.result,n=t.slice(0,32),s=t.slice(32);r.AES.decrypt(n,s,e).then(e=>{a(e)})},i.readAsArrayBuffer(e)})}).catch(()=>{a(null)})})},getFilename:function(e){let t=e.lastIndexOf("/");return e.substr(t+1,e.length-1)},getFileType:function(e){let t=-1<e.indexOf("/")?e.indexOf("/"):e.length,a=e.slice(0,t);return a},createSystemMessage:function(e){return this.create(m.extend({type:"system",silent:!0,state:o.MSG_DISPLAYED},e))}}),n.JingleMessage=Backbone.Model.extend({defaults:{duration:0,contact_full_jid:"",session_id:0,audio:!0,volume_on:!0,video_in:!1,video_screen:!1,state:0},initialize:function(e,t){e=e||{},e.video_live=e.video_live||!1,e.video=e.video_live,this.contact=t.contact,this.account=this.contact.account,this.registerIqHandler(),this.audio_notifiation=n.playAudio(e.call_initiator?n.settings.sound_on_call:n.settings.sound_on_dialtone,!0),this.modal_view=new n.JingleMessageView({model:this}),this.conn=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun01.pool-01.fckrkn202102.cyou:3478"}].concat(o.TURN_SERVERS_LIST),sdpSemantics:"unified-plan"}),this.$remote_video_el=c("<video autoplay class=\"webrtc-remote-video\"/>"),this.$remote_audio_el=c("<audio autoplay class=\"webrtc-remote-audio hidden\"/>"),this.$local_video=this.modal_view.$el.find(".webrtc-local-video"),this.current_timer=0,this.conn.onconnectionstatechange=this.onChangeConnectionState.bind(this),this.set(e),this.get("in")&&this.updateStatus(n.getString("dialog_jingle_message__status_calling")),this.onChangedMediaType(),this.conn.ontrack=e=>{this.remote_stream=e.streams[0],this.modal_view.$el.find(".webrtc-remote-audio")[0].srcObject=e.streams[0]},this._waiting_timeout=setTimeout(()=>{this.get("state")||"calling"!==this.get("status")||this.get("call_initiator")!==this.account.get("jid")||this.reject()},1e3*o.JINGLE_WAITING_TIME),this.conn.onicecandidate=this.onIceCandidate.bind(this),this.conn.oniceconnectionstatechange=this.onChangeIceConnectionState.bind(this),this.on("change:audio",this.setEnabledAudioTrack,this),this.on("change:video",this.onChangedVideoValue,this),this.on("change:video_live",this.setEnabledVideoTrack,this),this.on("change:video_screen",this.setEnabledScreenShareVideoTrack,this),this.on("change:video_in",this.onChangedRemoteVideo,this),this.on("change:volume_on",this.onChangedVolume,this),this.on("destroy",this.onDestroy,this)},registerIqHandler:function(){this.account.connection.deleteHandler(this.iq_handler),this.iq_handler=this.account.connection.addHandler(e=>(this.onIQ(e),!0),null,"iq","set")},updateStatus:function(e){this.modal_view.updateStatusText(e)},updateTimer:function(){this.updateStatus(r.pretty_duration(++this.current_timer))},startTimer:function(){this.updateTimer(),clearInterval(this.call_timer),this.call_timer=setInterval(()=>{this.updateTimer()},1e3)},onConnected:function(){this.get("video_live")&&this.onChangedVideoValue(),n.stopAudio(this.audio_notifiation),setTimeout(()=>{this.set("status","connected"),this.updateStatus(),this.startTimer()},1e3)},onChangeConnectionState:function(e){let t=e.target,a=t.connectionState;"connected"===a?this.onConnected():(this.updateStatus(r.pretty_name(a)+"..."),"failed"===a&&(clearTimeout(this._timeout_failed),this._timeout_failed=setTimeout(()=>{("failed"===t.connectionState||"disconnected"===t.connectionState)&&(this.set("status",a),this.reject(),this.destroy(),this.updateStatus(n.getString("dialog_jingle_message__status_network_error")),n.current_voip_call=null)},4e4),t.restartIce()),"disconnected"===a&&(this.set("status",a),this.destroy(),n.current_voip_call=null))},onIceCandidate:function(e){e&&e.candidate&&e.candidate.candidate&&this.sendCandidate(e.candidate)},onChangeIceConnectionState:function(e){let t=e.target,a=t.iceConnectionState;"failed"===a&&(clearTimeout(this._timeout_failed),this._timeout_failed=setTimeout(()=>{("failed"===t.iceConnectionState||"disconnected"===t.connectionState)&&(this.set("status",a),this.reject(),this.destroy(),this.updateStatus(n.getString("dialog_jingle_message__status_network_error")),n.current_voip_call=null)},4e4),t.restartIce()),"connected"!==a||this.conn.connectionState||this.onConnected()},onChangedMediaType:function(){this.$local_video.switchClass("hidden",!this.get("video"))},onChangedRemoteVideo:function(){let e=this.get("video_in");e?(this.$remote_video_el[0].srcObject=this.remote_stream,this.modal_view.$el.find(".webrtc-remote-audio").replaceWith(this.$remote_video_el)):(this.$remote_audio_el[0].srcObject=this.remote_stream,this.modal_view.$el.find(".webrtc-remote-video").replaceWith(this.$remote_audio_el)),this.modal_view.$el.find(".default-screen").switchClass("hidden",e),this.onChangedVolume()},onChangedVolume:function(){this.get("volume_on")?(this.modal_view.$el.find(".webrtc-remote-audio")[0]&&(this.modal_view.$el.find(".webrtc-remote-audio")[0].muted=!1),this.modal_view.$el.find(".webrtc-remote-video")[0]&&(this.modal_view.$el.find(".webrtc-remote-video")[0].muted=!1)):(this.modal_view.$el.find(".webrtc-remote-audio")[0]&&(this.modal_view.$el.find(".webrtc-remote-audio")[0].muted=!0),this.modal_view.$el.find(".webrtc-remote-video")[0]&&(this.modal_view.$el.find(".webrtc-remote-video")[0].muted=!0))},setEnabledAudioTrack:function(){this.local_stream.getAudioTracks()[0].enabled=this.get("audio")},setEnabledVideoTrack:function(){let e=this.get("video_live"),t=this.conn.getSenders().find(e=>e.track&&(e.track.default||e.track.screen));e&&this.set("video_screen",!1),t&&e&&this.createVideoStream(),!t&&this.local_stream&&(this.local_stream.getVideoTracks()[0].enabled=e),this.set("video",e||this.get("video_screen"))},onDestroy:function(){clearTimeout(this._waiting_timeout),clearInterval(this.call_timer),clearTimeout(this._timeout_failed),n.stopAudio(this.audio_notifiation),this.account.connection.deleteHandler(this.iq_handler),this.stopTracks(),this.conn.close()},setEnabledScreenShareVideoTrack:function(){let e=this.get("video_screen"),t=this.conn.getSenders().find(e=>e.track&&!e.track.screen);e&&this.set("video_live",!1),t&&e&&this.createScreenShareVideoStream(),!t&&this.local_stream&&(this.local_stream.getVideoTracks()[0].enabled=e),this.set("video",e||this.get("video_live"))},onChangedVideoValue:function(){let e=this.get("video")?"enable":"disable";this.sendVideoStreamState(e),this.onChangedMediaType()},createScreenShareVideoStream:function(){navigator.mediaDevices.getDisplayMedia({video:!0}).then(e=>{this.$local_video[0].srcObject=e,e.getVideoTracks().forEach(e=>{m.extend(e,{screen:!0}),this.local_stream.addTrack(e),this.conn.addTrack(e,this.local_stream),this.conn.getSenders().find(e=>!e.track||e.track&&"video"===e.track.kind).replaceTrack(e)})})},sendVideoStreamState:function(e){let t=i({from:this.account.get("jid"),to:this.get("contact_full_jid"),type:"set"}).c("query",{xmlns:p.NS.JINGLE_MSG}).c("video",{state:e,id:this.get("session_id")});this.account.sendIQ(t)},onIQ:function(e){let t=c(e),a=t.find("jingle[action=\"session-initiate\"]"),n=t.find("jingle[action=\"session-accept\"]"),s=t.find("jingle[action=\"session-info\"]"),o=t.find(`query[xmlns="${p.NS.JINGLE_MSG}"] video`),d=t.attr("from"),r=i({from:this.account.get("jid"),to:d,type:"result",id:t.attr("id")});if(a.length){if(a.attr("sid")!==this.get("session_id"))return;let e=a.find(`description[xmlns="${p.NS.JINGLE_RTP}"]`).text();e&&this.conn.setRemoteDescription(new RTCSessionDescription({type:"offer",sdp:e})),this.acceptSession(e),this.account.sendIQ(r)}if(n.length){if(n.attr("sid")!==this.get("session_id"))return;let e=n.find(`description[xmlns="${p.NS.JINGLE_RTP}"]`).text();e&&this.conn.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:e})),this.account.sendIQ(r)}if(s.length){if(s.attr("sid")!==this.get("session_id"))return;let e=s.find("candidate");e.length&&this.conn.addIceCandidate(new RTCIceCandidate({candidate:e.text(),sdpMLineIndex:e.attr("sdpMLineIndex"),sdpMid:e.attr("sdpMid")})),this.account.sendIQ(r)}if(o.length){let e=o.attr("id");if(e===this.get("session_id")){let e=o.attr("state");"enable"===e&&this.set("video_in",!0),"disable"===e&&this.set("video_in",!1)}this.account.sendIQ(r)}},startCall:function(){this.set("call_initiator",this.account.get("jid")),this.createAudioStream(),this.get("video_live")&&this.createVideoStream(),this.propose()},createAudioStream:function(){navigator.mediaDevices.getUserMedia({audio:!0}).then(e=>{this.local_stream=e,this.$local_video[0].srcObject=e;let t=this.initVideoTrack();this.local_stream.addTrack(t),this.conn.addTrack(t,this.local_stream),e.getAudioTracks().forEach(e=>this.conn.addTrack(e,this.local_stream))})},createVideoStream:function(){navigator.mediaDevices.getUserMedia({video:!0}).then(e=>{this.$local_video[0].srcObject=e,e.getVideoTracks().forEach(e=>{this.local_stream.addTrack(e),this.conn.addTrack(e,this.local_stream),this.conn.getSenders().find(e=>!e.track||e.track&&"video"===e.track.kind).replaceTrack(e)})})},stopTracks:function(){this.local_stream&&this.local_stream.getTracks().forEach(e=>{e.stop(),this.local_stream.removeTrack(e)})},propose:function(){this.updateStatus(n.getString("dialog_jingle_message__status_search"));let e=l({from:this.account.get("jid"),type:"chat",to:this.contact.get("jid")}).c("propose",{xmlns:p.NS.JINGLE_MSG,id:this.get("session_id")}).c("description",{xmlns:p.NS.JINGLE_RTP,media:"audio"}).up().up().c("store",{xmlns:p.NS.HINTS}).up().c("markable").attrs({xmlns:p.NS.CHAT_MARKERS}).up().c("body").t(n.getString("jingle__text_body_message")).up().c("origin-id",{id:g(),xmlns:"urn:xmpp:sid:0"});this.account.sendMsg(e)},accept:function(){let e=l({from:this.account.get("jid"),type:"chat",to:this.get("contact_full_jid")||this.contact.get("jid")}).c("accept",{xmlns:p.NS.JINGLE_MSG,id:this.get("session_id")}).up().c("store",{xmlns:p.NS.HINTS}).up().c("markable").attrs({xmlns:p.NS.CHAT_MARKERS}).up().c("origin-id",{id:g(),xmlns:"urn:xmpp:sid:0"});this.set("jingle_start",u.now()),this.account.sendMsg(e),n.stopAudio(this.audio_notifiation),this.set("status","connecting"),this.updateStatus(n.getString("dialog_jingle_message__status_connecting")),this.audio_notifiation=n.playAudio(n.settings.sound_on_connection,!0)},reject:function(t){if("disconnected"!==this.get("status")&&"disconnecting"!==this.get("status")){let a=l({from:this.account.get("jid"),type:"chat",to:this.get("contact_full_jid")||this.contact.get("jid")}).c("reject",{xmlns:p.NS.JINGLE_MSG,id:this.get("session_id")});if(this.get("jingle_start")){let i=u.now(),n=e((i-this.get("jingle_start"))/1e3),s={initiator:this.get("call_initiator")};this.call_timer&&m.extend(s,{start:u(this.get("jingle_start")).format(),end:u(i).format(),duration:n}),t&&(s.reason=t),a.c("call",s).up()}a.up().c("store",{xmlns:p.NS.HINTS}).up().c("markable").attrs({xmlns:p.NS.CHAT_MARKERS}).up().c("origin-id",{id:g(),xmlns:"urn:xmpp:sid:0"}),this.account.sendMsg(a),this.createSystemMessage(a),this.set("status","disconnected"),this.destroy(),n.current_voip_call=null}},createSystemMessage:function(e){let t=c(e.nodeTree),a=this.account.chats.getChat(this.contact),i=t.find("call").attr("end");if(i){let e=t.find("call").attr("duration"),i=t.find("call").attr("initiator");a.messages.createSystemMessage({from_jid:this.account.get("jid"),session_id:t.find("reject").attr("id"),message:n.getString(i&&i===this.account.get("jid")?"jingle__system_message__outgoing_call":"jingle__system_message__incoming_call",[r.pretty_duration(e)])})}else a.messages.createSystemMessage({from_jid:this.account.get("jid"),session_id:t.find("reject").attr("id"),message:n.getString("jingle__system_message__cancelled_call")})},initVideoTrack:function(){let e=Object.assign(document.createElement("canvas"),{width:320,height:240}),t=e.getContext("2d");t.fillRect(0,0,e.width,e.height);let a=t.getImageData(0,0,e.width,e.height);return requestAnimationFrame(function e(){for(let e=0;e<a.data.length;e++)a.data[e++]=a.data[e++]=a.data[e++]=1;t.putImageData(a,0,0),requestAnimationFrame(e)}),m.extend(e.captureStream(60).getTracks()[0],{default:!0})},initSession:function(){navigator.mediaDevices.getUserMedia({audio:!0}).then(e=>{this.local_stream=e,this.$local_video[0].srcObject=e;let t=this.initVideoTrack();return this.local_stream.addTrack(t),this.conn.addTrack(t,this.local_stream),e.getAudioTracks().forEach(e=>this.conn.addTrack(e,this.local_stream)),this.conn.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})}).then(e=>{this.set("session_initiator",this.account.get("jid")),this.conn.setLocalDescription(e).then(()=>{let t=e.sdp,a=i({from:this.account.get("jid"),to:this.get("contact_full_jid"),type:"set"}).c("jingle",{xmlns:p.NS.JINGLE,action:"session-initiate",initiator:this.account.get("jid"),sid:this.get("session_id")}).c("content",{creator:"initiator",name:"voice"}).c("description",{xmlns:p.NS.JINGLE_RTP,media:"audio"}).c("sdp").t(t).up().up().c("security",{xmlns:p.NS.JINGLE_SECURITY_STUB});this.account.sendIQ(a)})})},sendCandidate:function(e){let t=i({from:this.account.get("jid"),to:this.get("contact_full_jid"),type:"set"}).c("jingle",{xmlns:p.NS.JINGLE,action:"session-info",initiator:this.get("session_initiator"),sid:this.get("session_id")}).c("content",{creator:"initiator",name:"voice"}).c("description",{xmlns:p.NS.JINGLE_RTP,media:"audio"}).up().c("transport",{xmlns:p.NS.JINGLE_TRANSPORTS_ICE}).c("candidate",{sdpMLineIndex:e.sdpMLineIndex,sdpMid:e.sdpMid}).t(e.candidate);this.account.sendIQ(t)},acceptSession:async function(){this.set("session_initiator",this.contact.get("jid")),this.conn.createAnswer().then(e=>{this.conn.setLocalDescription(e).then(()=>{let t=e.sdp,a=i({from:this.account.get("jid"),to:this.get("contact_full_jid"),type:"set"}).c("jingle",{xmlns:p.NS.JINGLE,action:"session-accept",initiator:this.contact.get("jid"),sid:this.get("session_id")}).c("content",{creator:"initiator",name:"voice"}).c("description",{xmlns:p.NS.JINGLE_RTP,media:"audio"}).c("sdp").t(t).up().up().c("security",{xmlns:p.NS.JINGLE_SECURITY_STUB});this.account.sendIQ(a)})})}}),n.Chat=Backbone.Model.extend({defaults:{opened:!0,active:!1,display:!1,displayed_sent:!1,last_displayed_id:0,last_delivered_id:0,unread:0,timestamp:0,const_unread:0,encrypted:!1},initialize:function(e,t){this.contact=t.contact,this.sync_created=t.sync_created,this.account=this.contact?this.contact.account:t.account;let a=this.contact?this.contact.get("jid"):e.jid;this.set({id:e&&e.id||this.contact.hash_id,jid:a}),e&&"encrypted"===e.type&&this.set("encrypted",!0),e&&"saved"===e.type&&(this.set("saved",!0),this.account.on("remove_saved_chat",this.onContactDestroyed,this)),this.retraction_version=0,this.contact?(this.set("group_chat",this.contact.get("group_chat")),this.contact.on("destroy",this.onContactDestroyed,this),this.contact.on("change:group_chat",this.onChangedContact,this)):this.set({group_chat:!1,name:e.name}),this.messages=new n.Messages(null,{account:this.account}),this.messages_unread=new n.Messages(null,{account:this.account}),this.item_view=new n.ChatItemView({model:this}),this.on("get_retractions_list",this.getAllMessageRetractions,this),this.on("change:timestamp",this.onChangedTimestamp,this)},onChangedTimestamp:function(){this.get("timestamp")!=this.get("cached_timestamp")&&this.cacheChat()},isMuted:function(){return this.get("muted")&&this.get("muted")<Date.now()/1e3&&this.set("muted",!1),this.get("muted")},cacheChat:function(){let e=this.get("jid"),t=this.last_message?m.clone(this.last_message).get("xml"):null;if(!m.isUndefined(t)){let a={jid:this.get("encrypted")?`${e}:encrypted`:e,timestamp:this.get("timestamp"),last_displayed_id:this.get("last_displayed_id"),last_delivered_id:this.get("last_delivered_id"),last_message:t?t.outerHTML:null};this.account.cached_chats.putChat(a)}},onChangedContact:function(){let e=this.contact.changed;m.has(e,"group_chat")&&this.set("group_chat",this.contact.get("group_chat")),m.has(e,"blocked")&&this.set("blocked",this.contact.get("blocked"))},recountUnread:function(){this.set("unread",this.messages_unread.length),this.contact&&this.get("archived")&&this.isMuted()||n.toolbar_view.recountAllMessageCounter()},onContactDestroyed:function(){this.resetUnread(),this.destroy()},resetUnread:function(){let e=this.get("unread");0<e&&(this.set("unread",0),n.recountAllMessageCounter(e),n.toolbar_view.recountAllMessageCounter(e))},searchMessages:function(e){this.messages_view=new n.SearchedMessagesView({query_text:e,model:this}),this.messages_view.messagesRequest({},()=>{n.body.setScreen("all-chats",{right:"searched_messages",model:this})})},sendDataForm:function(e,t){let a=e.get("data_form");if(!a)return;let i=l({type:"chat"});a.fields.forEach(e=>{"boolean"===e.type&&(e.var===t?e.values=[!0]:e.values=[!1])}),i=this.account.addDataFormToStanza(i,a),a.addresses.forEach(e=>{"replyto"===e.type&&c(i.nodeTree).attr("to",e.jid),this.account.sendMsg(i)})},setStanzaId:function(e,t){let a=this.messages.get(e),i=a.get("origin_id");a.set("stanza_id",t),a.get("origin_id")||this.item_view.content.$(`.chat-message[data-uniqueid="${t}"]`).data("uniqueid",t)[0].setAttribute("data-uniqueid",t),this.get("encrypted")&&this.account.omemo&&this.account.omemo.updateMessage({stanza_id:t,origin_id:i},this.contact)},getCallingAvailability:function(e,t,a){let n=i({from:this.account.get("jid"),to:e,type:"get"}).c("query",{xmlns:p.NS.JINGLE_MSG}).c("session",{id:t});this.account.sendIQ(n,a)},sendReject:function(e){e||(e={});let t=e.to||this.contact.get("jid"),a=l({type:"chat",to:t}).c("reject",{xmlns:p.NS.JINGLE_MSG,id:e.session_id}).c("call",{reason:e.reason}).up().up().c("store",{xmlns:p.NS.HINTS}).up().c("markable").attrs({xmlns:p.NS.CHAT_MARKERS}).up().c("origin-id",{id:g(),xmlns:"urn:xmpp:sid:0"});this.account.sendMsg(a)},initIncomingCall:function(e,t){return n.get("audio")?void(n.current_voip_call=new n.JingleMessage({contact_full_jid:e,session_id:t,call_initiator:this.contact.get("jid")},{contact:this.contact}),n.current_voip_call.modal_view.show({status:"in"})):void this.messages.createSystemMessage({from_jid:this.account.get("jid"),message:n.getString("jingle__system_message__no_devices_to_answer")})},endCall:function(e){e&&n.current_voip_call.set("status",e),n.current_voip_call.destroy(),n.current_voip_call=null},getAllMessageRetractions:function(){if(this.contact.get("group_chat")){let e=i({type:"get",to:this.contact.get("jid")}).c("query",{xmlns:p.NS.REWRITE,version:this.retraction_version});this.account.sendIQ(e)}},receiveMessage:function(e,t){let a=p.getBareJidFromJid(e.attr("from")),s=t.carbon_copied,d=e.children(`[xmlns="${p.NS.CHAT_MARKERS}"]`),l=e.children(`request[xmlns="${p.NS.RECEIPTS}"]`),g=e.children(`received[xmlns="${p.NS.RECEIPTS}"]`),h=e.children(`propose[xmlns="${p.NS.JINGLE_MSG}"]`),v=e.children(`accept[xmlns="${p.NS.JINGLE_MSG}"]`),f=e.children(`reject[xmlns="${p.NS.JINGLE_MSG}"]`);if(h.length&&!t.searched_message){if(s&&a==this.account.get("jid"))return;if(t.is_archived||t.synced_msg)return;else{let t=h.attr("id"),i=e.attr("from");this.getCallingAvailability(i,t,()=>{if(n.current_voip_call){let e=a===p.getBareJidFromJid(n.current_voip_call.get("contact_full_jid"))?"device_busy":"busy";return this.sendReject({session_id:t,reason:e}),void this.messages.createSystemMessage({from_jid:this.account.get("jid"),message:n.getString("jingle__system_message__cancelled_call")})}this.initIncomingCall(i,t)})}}if(v.length){if(t.is_archived||t.synced_msg)return;if(n.current_voip_call&&n.current_voip_call.get("session_id")===v.attr("id"))if(s)this.endCall();else{n.current_voip_call.get("state")||n.current_voip_call.set("state",o.JINGLE_MSG_ACCEPT);let t=v.find("time").attr("stamp");t=t?+u(t):u.now(),n.current_voip_call.set("jingle_start",t),n.current_voip_call.get("contact_full_jid")||n.current_voip_call.set("contact_full_jid",e.attr("from")),n.stopAudio(n.current_voip_call.audio_notifiation),n.current_voip_call.set("status","connecting"),n.current_voip_call.updateStatus(n.getString("dialog_jingle_message__status_connecting")),n.current_voip_call.audio_notifiation=n.playAudio(n.settings.sound_on_connection)}}if(f.length){if(this.messages.filter(e=>e.get("session_id")===f.attr("id")).length)return;let a=t.delay&&t.delay.attr("stamp")||e.find("delay").attr("stamp")||e.find("time").attr("stamp"),i="",s;if(f.children("call").length){let e=f.children("call").attr("duration"),t=f.children("call").attr("initiator");i=e&&t?n.getString(t&&t===this.account.get("jid")?"jingle__system_message__outgoing_call":"jingle__system_message__incoming_call",[r.pretty_duration(e)]):n.getString("jingle__system_message__cancelled_call")}else i=n.getString("jingle__system_message__cancelled_call");if(s=this.messages.createSystemMessage({from_jid:this.account.get("jid"),time:a,session_id:f.attr("id"),stanza_id:t.stanza_id,message:i}),t.is_archived||t.synced_msg)return s;if(n.current_voip_call&&n.current_voip_call.get("session_id")===f.attr("id")){n.stopAudio(n.current_voip_call.audio_notifiation);let e=n.playAudio("busy");setTimeout(()=>{n.stopAudio(e)},1500),this.endCall("device_busy"==f.children("call").attr("reason")?"device_busy":"busy"==f.children("call").attr("reason")?"busy":"disconnected")}return s}if(!t.is_archived){let i,n;e.children("stanza-id").each((t,s)=>{s=c(s),e.children(`x[xmlns="${p.NS.GROUP_CHAT}"]`).length?s.attr("by")===a?(!i&&(i=s),n=s):i=s:s.attr("by")===a?n=s:i=s}),!t.stanza_id&&i&&(t.stanza_id=i.attr("id")),!t.contact_stanza_id&&n&&(t.contact_stanza_id=n.attr("id"))}if(d.length){let a=d[0].tagName.toLowerCase();if("markable"!==a||t.is_mam||t.is_archived||s||t.synced_msg&&(!t.synced_msg||!t.is_unread)||(this.sendMarker(e.attr("id"),"received",t.stanza_id,t.contact_stanza_id),this.get("saved")&&this.sendMarker(e.attr("id"),"displayed",t.stanza_id,t.contact_stanza_id)),"markable"!==a&&!s)return void this.receiveMarker(e,a,s);"displayed"===a&&s&&this.receiveCarbonsMarker(d)}if(!l.length||t.is_mam||t.is_archived||s||t.synced_msg&&(!t.synced_msg||!t.is_unread)||this.sendDeliveryReceipt(e),g.length&&this.receiveDeliveryReceipt(e),!e.find("body").length||h.length||v.length||f.length){if(this.get("saved"))return;let t=n.chats_view.child(this.contact.hash_id);return t.content||(t.content=new n.ChatContentView({chat_item:t})),void(t&&t.content&&t.content.receiveNoTextMessage(e,s))}if(e.find("invite").length){if(a===this.account.get("jid"))return;let n=e.find("invite").attr("jid")||e.find("message").attr("from"),s=this.account.contacts.get(n);if(s&&"both"==s.get("subscription"))return;if(!(this.account.connection&&this.account.connection.do_synchronization)){let a=i({type:"get"}).c("blocklist",{xmlns:p.NS.BLOCKING});this.account.sendIQ(a,a=>{let i=c(a).find("item"),s=+u(e.find("delay").attr("stamp")||e.find("time").attr("stamp")||t.delay&&+u(t.delay.attr("stamp"))||u.now()),o=!1,d;if(0<i.length&&i.each((e,t)=>{let a=c(t),i=a.attr("jid"),s="";if(-1<i.indexOf(n)){if(o=!0,s=i.substr(i.lastIndexOf("/")+1,i.length-n.length),!s)return d="",!1;(!d||d<s)&&(d=s)}}),m.isUndefined(d)||d&&d<s)return this.messages.createInvitationFromStanza(e,t)},()=>this.messages.createInvitationFromStanza(e,t))}else if(t.synced_msg||!t.synced_msg&&!t.is_archived)return this.messages.createInvitationFromStanza(e,t)}else return this.messages.createFromStanza(e,t)},getMessageContext:function(e,t){t=t||{};let a=t.mention&&this.account.messages||t.searched_messages&&this.account.searched_messages||t.message&&n.all_searched_messages||this.account.messages,i=a.get(e);if(i){t.searched_messages&&i.set("searched_message",!1);let e=i.get("stanza_id");this.messages_view=new n.MessageContextView({contact:this.contact,mention_context:t.mention,model:this,stanza_id_context:e}),this.account.context_messages.add(i),this.messages_view.messagesRequest({after:e},()=>{let e="all-chats";t.mention?e="mentions":t.message&&(e=n.body.screen.get("name")),n.body.setScreen(e,{right:"message_context",model:this},{right_contact_save:!0})})}},sendDeliveryReceipt:function(e){let t=l({from:this.account.get("jid"),to:this.contact.get("jid"),type:"chat",id:g()}).c("received",{xmlns:p.NS.RECEIPTS,id:e.attr("id")});this.account.sendMsg(t)},sendMarker:function(e,t,a,i){t||(t="displayed");let n=l({from:this.account.jid,to:this.get("jid"),type:"chat",id:g()}).c(t).attrs({xmlns:p.NS.CHAT_MARKERS,id:e||a||i||""});a&&n.c("stanza-id",{xmlns:"urn:xmpp:sid:0",id:a,by:this.account.get("jid")}).up(),!this.get("saved")&&i&&n.c("stanza-id",{xmlns:"urn:xmpp:sid:0",id:i,by:this.contact.get("jid")}).up(),this.account.sendMsg(n)},receiveMarker:function(e,t,a){let i=e.find("displayed"),n=e.find("received"),s="error"===e.attr("type");if(s||!i.length&&!n.length)return;let d=i.attr("id")||n.attr("id"),r=i.find(`stanza-id[by="${this.account.get("jid")}"]`).attr("id")||n.find(`stanza-id[by="${this.account.get("jid")}"]`).attr("id"),c=this.account.messages.find(e=>r&&(e.get("stanza_id")===r||e.get("contact_stanza_id")===r)||e.get("msgid")===d);if(!c){let i=this.account.chats.get(`${this.id}:encrypted`),n=i&&i.messages.find(e=>r&&(e.get("stanza_id")===r||e.get("contact_stanza_id")===r)||e.get("msgid")===d);return void(n&&i.receiveMarker(e,t,a))}if(!c.isSenderMe())c.set("is_unread",!1);else if(n.length){let e=c.get("state");if(e===o.MSG_ERROR)return void message.set("state",o.MSG_DELIVERED);if(e!==o.MSG_DISPLAYED){let e=n.children("time").attr("stamp");e&&(c.set("time",b(e)),c.set("timestamp",+e))}this.setMessagesDelivered(c.get("timestamp"))}else{let e=c.get("state");if(e===o.MSG_ERROR)return void message.set("state",o.MSG_DISPLAYED);this.setMessagesDisplayed(c.get("timestamp"))}},setMessagesDelivered:function(e){e||(e=u.now());let t=this.messages.filter(t=>t.isSenderMe()&&t.get("timestamp")<=e&&t.get("state")>o.MSG_PENDING&&t.get("state")<o.MSG_DELIVERED);if(!t.length){let a=this.account.chats.get(this.id+":encrypted");a&&(t=a.messages.filter(t=>t.isSenderMe()&&t.get("timestamp")<=e&&t.get("state")>o.MSG_PENDING&&t.get("state")<o.MSG_DELIVERED))}t.forEach(e=>e.set("state",o.MSG_DELIVERED))},setMessagesDisplayed:function(e){e||(e=u.now());let t=this.messages.filter(t=>t.isSenderMe()&&t.get("timestamp")<=e&&t.get("state")>o.MSG_PENDING&&t.get("state")<o.MSG_DISPLAYED);if(!t.length){let a=this.account.chats.get(this.id+":encrypted");a&&(t=a.messages.filter(t=>t.isSenderMe()&&t.get("timestamp")<=e&&t.get("state")>o.MSG_PENDING&&t.get("state")<o.MSG_DISPLAYED))}t.forEach(e=>e.set("state",o.MSG_DISPLAYED))},receiveCarbonsMarker:function(e){let t=e.children(`stanza-id[by="${this.account.get("jid")}"]`).attr("id"),a=e.attr("id"),i=this.messages.find(e=>t&&(e.get("stanza_id")===t||e.get("contact_stanza_id")===t)||e.get("msgid")===a),n;if(i&&(n=this.messages.indexOf(i)),!i){let i=this.account.chats.get(this.id+":encrypted"),n=i&&i.messages.find(e=>t&&(e.get("stanza_id")===t||e.get("contact_stanza_id")===t)||e.get("msgid")===a);return void(n&&i.receiveCarbonsMarker(e))}if(-1<n){this.set("const_unread",0);for(let e=n,t;0<=e;e--)t=this.messages.models[e],t.set("is_unread",!1)}else{let e=this.messages_unread.find(e=>e.get("stanza_id")===t||e.get("contact_stanza_id")===t||e.get("msgid")===a);e&&e.set("is_unread",!1)}},receiveDeliveryReceipt:function(e){let t=e.find("received"),a=t.attr("id"),i=t.children(`stanza-id[by="${this.account.get("jid")}"]`).attr("id"),n=this.account.messages.get(a||i);!n||n.isSenderMe()&&n.set("state",o.MSG_DELIVERED)},onPresence:function(e){let t=this.get("jid");this.contact.get("group_chat")||this.contact.get("in_roster")||"subscribe"!==e||this.messages.createSystemMessage({from_jid:t,auth_request:!0,message:n.getString("action_subscription_received")})},onRosterPush:function(e){let t=this.get("jid");"remove"===e&&this.messages.createSystemMessage({from_jid:t,silent:!1,message:n.getString("action_contact_deleted")})},retractMessages:function(e,t,a){let s=0,o=e.length,d=new c.Deferred;d.done(t=>{0===t?r.dialogs.error(n.getString("groupchat_you_have_no_permissions_to_do_it")):t!==e.length&&r.dialogs.error(n.getString("groupchat_you_have_no_permissions_to_do_it"))}),c(e).each((n,r)=>{let l=r.get("stanza_id"),m=r.get("contact_stanza_id");if(l||m){let n=i({type:"set",from:this.account.get("jid"),to:t?this.contact.get("full_jid")||this.contact.get("jid"):this.account.get("jid")}).c("retract-message",{id:this.get("group_chat")&&m||l,xmlns:p.NS.REWRITE,symmetric:a,by:this.account.get("jid")});this.account.sendIQ(n,()=>{this.item_view.content.removeMessage(r),s++,s===e.length&&d.resolve(o)},t=>{s++,c(t).find("not-allowed").length&&o--,s===e.length&&d.resolve(o)})}})},retractMessagesByUser:function(e){let t=i({type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("retract-user",{id:e,xmlns:p.NS.REWRITE,symmetric:!0});this.account.sendIQ(t,()=>{let t=this.messages.filter(t=>t.get("user_info")&&t.get("user_info").id==e);c(t).each((e,t)=>{this.item_view.content.removeMessage(t)})},e=>{c(e).find("not-allowed").length&&r.dialogs.error(n.getString("groupchat_you_have_no_permissions_to_do_it"))})},retractAllMessages:function(e,t,a){let s=this.get("group_chat"),o=i({type:"set",from:this.account.get("jid"),to:s?this.contact.get("full_jid")||this.contact.get("jid"):this.account.get("jid")}),d={xmlns:p.NS.REWRITE,symmetric:e};s||(d.conversation=this.get("jid")),this.get("encrypted")&&(d.type="encrypted"),o.c("retract-all",d),this.account.sendIQ(o,()=>{let e=this.messages.models;c(e).each((e,t)=>{this.item_view.content.removeMessage(t)}),t&&t()},e=>{c(e).find("not-allowed").length&&r.dialogs.error(n.getString("groupchat_you_have_no_permissions_to_do_it")),a&&a()})},showBlockedRequestMessage:function(){this.messages.length&&this.messages.createSystemMessage({from_jid:this.account.get("jid"),message:n.getString("action_contact_blocked"),time:this.messages.last().get("time")})},muteChat:function(e){let t=this.isMuted(),a=!!(t&&"0"!==t)?"":"0";(e||""===e)&&(a=e);let n={jid:this.contact.get("jid"),mute:a,type:this.get("sync_type")?this.get("sync_type"):this.getConversationType(this)},s=i({type:"set",to:this.account.get("jid")}).c("query",{xmlns:p.NS.SYNCHRONIZATION}).c("conversation",n);this.account.sendIQ(s)},getConversationType:function(e){return e.get("encrypted")?p.NS.SYNCHRONIZATION_OMEMO:e.contact.get("group_chat")?p.NS.GROUP_CHAT:p.NS.SYNCHRONIZATION_REGULAR_CHAT},deleteFromSynchronization:function(e,t){let a={jid:this.get("jid"),status:"deleted",type:this.get("sync_type")?this.get("sync_type"):this.getConversationType(this)},n=i({type:"set",to:this.account.get("jid")}).c("query",{xmlns:p.NS.SYNCHRONIZATION}).c("conversation",a);this.account.sendIQ(n,t=>{e&&e(t)},e=>{t&&t(e)})}}),n.ChatItemView=n.BasicView.extend({className:"chat-item list-item",template:d.chat_item,avatar_size:o.AVATAR_SIZES.CHAT_ITEM,events:{click:"openByClick"},_initialize:function(){this.account=this.model.account,this.contact=this.model.contact,this.message_counter=0,this.$el.attr("data-id",this.model.id),this.model.sync_created||(this.content=new n.ChatContentView({chat_item:this})),this.updateName(),this.updateStatus(),this.updateCounter(),this.updateAvatar(),this.updateMutedState(),this.updatePinned(),this.updateArchivedState(),this.updateColorScheme(),this.updateGroupChats(),this.updateIcon(),this.updateEncrypted(),this.updateChatError(),this.model.on("change:active",this.updateActiveStatus,this),this.model.on("change:unread",this.updateCounter,this),this.model.on("change:encrypted",this.updateEncrypted,this),this.model.on("change:const_unread",this.updateCounter,this),this.model.on("change:pinned",this.updatePinned,this),this.model.on("change:archived",this.updateArchivedState,this),this.model.on("change:muted",this.updateMutedState,this),this.model.on("open",this.open,this),this.model.on("remove_opened_chat",this.onClosed,this),this.model.messages.on("add",this.updateChatCard,this),this.model.messages.on("destroy",this.onMessageRemoved,this),this.model.messages.on("change:state",this.onChangedMessageState,this),this.contact&&(this.updateIncomingSubscription(),this.contact.on("change:name",this.updateName,this),this.contact.on("change:invitation",this.updateIncomingSubscription,this),this.contact.on("change:subscription",this.updateIncomingSubscription,this),this.contact.on("change:subscription_request_in",this.updateIncomingSubscription,this),this.contact.on("change:subscription_request_out",this.updateIncomingSubscription,this),this.contact.on("change:status",this.updateStatus,this),this.contact.on("change:private_chat",this.updateIcon,this),this.contact.on("change:invitation",this.updateIcon,this),this.contact.on("change:incognito_chat",this.updateIcon,this),this.contact.on("change:image",this.updateAvatar,this),this.contact.on("change:blocked",this.onBlocked,this),this.contact.on("change:group_chat",this.updateGroupChats,this),this.contact.on("change:in_roster",this.updateAcceptedStatus,this),this.contact.on("remove_invite",this.removeInvite,this),this.contact.on("update_trusted",this.updateEncryptedColor,this)),this.$el.switchClass("saved-chat",this.model.get("saved")),this.$el.find(".circle-avatar").switchClass("ground-color-700",this.model.get("saved")),this.model.get("saved")&&this.$el.find(".circle-avatar").html(s.templates.svg["saved-messages"]()),this.account.settings.on("change:color",this.updateColorScheme,this)},updateChatCard:function(e){if(!this.content)return 0==this.message_counter?void this.message_counter++:(this.content=new n.ChatContentView({chat_item:this,new_message:e}),void this.updateLastMessage(e))},onChangedMessageState:function(e){if(e.get("state")===o.MSG_DISPLAYED&&this.model.get("last_displayed_id")<e.get("stanza_id")?(this.model.set("last_displayed_id",e.get("stanza_id")),this.model.set("last_delivered_id",e.get("stanza_id"))):e.get("state")===o.MSG_DELIVERED&&this.model.get("last_delivered_id")<e.get("stanza_id")&&this.model.set("last_delivered_id",e.get("stanza_id")),this.content){let t=this.content.$(`.chat-message[data-uniqueid="${e.get("unique_id")}"]`),a=t.find(".msg-delivering-state");a.attr({"data-state":e.getState(),title:e.getVerboseState()}),a.attr("data-state")===o.MSG_STATE[o.MSG_ERROR]&&a.dropdown({inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"})}e===this.model.last_message&&this.updateLastMessage(),this.updateChatError()},updateName:function(){return this.model.get("saved")?void this.$(".chat-title").text(n.getString("saved_messages__header")):void this.$(".chat-title").text(this.contact.get("name"))},updateStatus:function(){if(!this.model.get("saved")){let e=this.contact.get("status");this.$(".status").attr("data-status",e),this.$(".chat-icon").attr("data-status",e)}},updateActiveStatus:function(){this.$el.switchClass("active",this.model.get("active"))},updateAcceptedStatus:function(){let e=this.contact.get("in_roster");e&&this.model.set("is_accepted",!0)},onBlocked:function(){this.updateIcon(),this.$el.switchClass("blocked",this.model.get("blocked"))},updateCounter:function(){let e=this.model.get("unread")+this.model.get("const_unread");this.$(".msg-counter").showIf(e).text(e||""),this.updateTextClipping()},updateIncomingSubscription:function(){this.$(".msg-incoming-subscription").showIf(this.contact.get("invitation")||this.contact.get("subscription_request_in")&&"both"!=this.contact.get("subscription")),this.updateTextClipping()},updateChatError:function(){let e=this.model.messages.filter(e=>-1===e.get("state"));this.$(".msg-chat-error").showIf(e.length),this.updateTextClipping()},updateTextClipping:function(){let e=this.$(".chat-item-notifications-wrap").children(":not(.hidden)").length;this.$(".last-msg").switchClass("triple-indicators",3===e),this.$(".last-msg").switchClass("quad-indicators",4===e)},updateAvatar:function(){if(!this.model.get("saved")){let e=this.contact.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)}},updateEncrypted:function(){this.$el.switchClass("encrypted",this.model.get("encrypted"))},updatePinned:function(){let e=this.model.get("pinned");this.$(".pinned-icon").showIf(e&&"0"!==e),e&&n.chats_view.updateChatPosition(this.model)},updateEncryptedColor:function(e){this.$el.attr("data-trust",e)},updateIcon:function(){if(this.contact){this.$(".chat-icon").addClass("hidden");let e=this.contact.getIcon();e&&this.$(".chat-icon").removeClass("hidden group-invite blocked").switchClass(e,"group-invite"==e||"server"==e||"blocked"==e).html(s.templates.svg[e]())}},updateMutedState:function(){this.contact&&(this.$(".msg-counter").switchClass("muted-chat-counter",this.model.isMuted()),this.$(".muted-icon").switchClass("mdi-bell-off",48e8<this.model.isMuted()).switchClass("mdi-bell-sleep",48e8>=this.model.isMuted()),this.$(".muted-icon").showIf(this.model.isMuted()))},updateArchivedState:function(){if(this.contact){let e=this.model.get("archived");(e||!e&&n.toolbar_view.$(".active").hasClass("archive-chats"))&&this.$el.detach(),(e&&n.toolbar_view.$(".active").hasClass("archive-chats")||!e&&!n.toolbar_view.$(".active").hasClass("archive-chats"))&&n.chats_view.updateChatPosition(this.model)}},updateGroupChats:function(){if(this.contact){let e=this.contact.get("group_chat");this.$(".status").hideIf(e),this.$(".chat-icon").showIf(e),this.updateIcon(),e&&(this.$el.addClass("group-chat"),this.model.set("group_chat",!0))}},updateColorScheme:function(){let e=this.account.settings.get("color");this.$el.attr("data-color",e)},onMessageRemoved:function(e){if(this.model.last_message===e){let e;for(let t=this.model.messages.length-1;0<=t&&(e=this.model.messages.at(t),!!e.get("silent"));t--);this.model.last_message=e,this.updateLastMessage()}},updateEmptyChat:function(){let e=this.model.get("timestamp"),t=+this.model.get("last_delivered_id")||+this.model.get("last_displayed_id")||+this.model.get("last_read_msg");this.$(".last-msg").html(n.getString(t?"recent_chat__last_message_retracted":"no_messages").italics()),this.$(".last-msg-date").text(r.pretty_short_datetime_recent_chat(e)).attr("title",b(e))},updateEncryptedChat:function(){let e=this.model.get("timestamp");this.$(".last-msg").html(n.getString("recent_chat__decrypting_messages").italics()),this.$(".last-msg-date").text(r.pretty_short_datetime_recent_chat(e)).attr("title",b(e))},updateLastMessage:function(e){if(e||(e=this.model.last_message),!e)return void(this.model.messages.length||this.updateEmptyChat());let t=e.get("time"),a=e.get("timestamp"),i="",s=e.get("forwarded_message"),d=e.get("files")||[],l=e.get("images")||[],p=e.get("locations")||[],m=s?e.get("message")||n.getQuantityString("forwarded_messages_count",s.length).italics():e.getText(),u=e.get("user_info")||e.isSenderMe()&&this.contact&&this.contact.my_info&&this.contact.my_info.attributes||{};if(this.model.set({timestamp:a}),this.model.get("group_chat")&&(i=u.nickname||u.jid||(e.isSenderMe()?this.account.get("name"):e.get("from_jid"))||""),i&&(i=c("<span class=text-color-700/>").text(i+": ")),d.length||l.length||p.length){let t=c("<span class=\"text-color-500\"/>");if("file_upload"===e.get("type")&&(l=d.filter(e=>e.type&&r.isImageType(e.type)),d=d.filter(e=>!(e.type&&r.isImageType(e.type)))),d.length&&l.length)m=t.text(n.getString("recent_chat__last_message__attachments",[d.length+l.length]));else{if(1==d.length&&(d[0].is_audio||d[0].voice))m=t.text(`${n.getString("voice_message")}, `+r.pretty_duration(d[0].duration));else if(0<d.length){let e=0;d.forEach(t=>{e+=+t.size}),m=t.text(n.getQuantityString("recent_chat__last_message__files",d.length)+(0<e?`, ${r.pretty_size(e)}`:""))}if(0<l.length){let e=0;l.forEach(t=>{e+=+t.size}),m=t.text(n.getQuantityString("recent_chat__last_message__images",l.length)+(0<e?`, ${r.pretty_size(e)}`:""))}0<p.length&&(m=t.text(n.getQuantityString("recent_chat__last_message__locations",p.length)))}this.$(".last-msg").html("").append(i).append(m)}else{if("system"==e.get("type"))i="",e.get("invite")&&(m=n.getString("groupchat_invitation_to_group_chat",[this.contact&&this.contact.get("incognito_chat")?"incognito":"public"])),e.get("private_invite")&&(m=n.getString("recent_chat__last_message__private_invitation")),m=this.model.get("group_chat")?c("<i/>").text(m):c("<span class=text-color-500/>").text(m),this.$(".last-msg").html(m),e.get("auth_request")&&n.toolbar_view.recountAllMessageCounter();else if(!s)m=e.getText(),this.$(".last-msg").text(m);else if(e.get("message"))m=e.get("message"),this.$(".last-msg").text(m);else{let t=s[0];if(t.get("message")){let a=t.get("files")||[],s=t.get("images")||[],o=t.get("locations")||[];if(a.length||s.length||o.length){let t=c("<span class=\"text-color-500\"/>");if("file_upload"===e.get("type")&&(s=a.filter(e=>e.type&&r.isImageType(e.type)),a=a.filter(e=>!(e.type&&r.isImageType(e.type)))),a.length&&s.length)m=t.text(n.getString("recent_chat__last_message__attachments",[a.length+s.length]));else{if(1==a.length&&(a[0].is_audio||a[0].voice))m=t.text(`${n.getString("voice_message")}, `+r.pretty_duration(a[0].duration));else if(0<a.length){let e=0;a.forEach(t=>{e+=+t.size}),m=t.text(n.getQuantityString("recent_chat__last_message__files",a.length)+(0<e?`, ${r.pretty_size(e)}`:""))}if(0<s.length){let e=0;s.forEach(t=>{e+=+t.size}),m=t.text(n.getQuantityString("recent_chat__last_message__images",s.length)+(0<e?`, ${r.pretty_size(e)}`:""))}0<o.length&&(m=t.text(n.getQuantityString("recent_chat__last_message__locations",o.length)))}this.model.get("group_chat")?this.$(".last-msg").html("").append(i).append("\xBB ").append(m):this.$(".last-msg").html("\xBB ").append(m)}else this.model.get("group_chat")?(m=t.get("message"),m="\xBB "+m,this.$(".last-msg").text(m)):(m=t.get("message"),this.$(".last-msg").text(m),i="\xBB ")}else if(1===s.length){let e=n.getQuantityString("forwarded_messages_count",s.length).slice(2);e=e.charAt(0).toUpperCase()+e.slice(1),m=c("<i/>").text(e),this.$(".last-msg").html("\xBB ").append(m)}else m=c("<i/>").text(n.getQuantityString("forwarded_messages_count",s.length)),this.$(".last-msg").html("\xBB ").append(m)}this.$(".last-msg").prepend(i)}this.$el.emojify(".last-msg",{emoji_size:16}).hyperlinkify({decode_uri:!0}),this.$(".last-msg-date").text(r.pretty_short_datetime_recent_chat(t)).attr("title",b(t)),this.$(".msg-delivering-state").showIf("system"!==e.get("type")&&e.isSenderMe()&&e.get("state")!==o.MSG_ARCHIVED).attr("data-state",e.getState())},openByClick:function(){this.open()},open:function(e){this.content||(this.content=new n.ChatContentView({chat_item:this})),e||(e={right_contact_save:!0,clear_search:!1}),n.chats_view.openChat(this,e),this.content.bottom.click_counter=0,this.content.bottom.setDefaultPlaceholder()},removeInvite:function(e){if(this.account.server_features.get(p.NS.REWRITE)){e||(e={});let t=m.clone(this.model.messages.models);this.model.set({last_archive_id:void 0,first_archive_id:void 0}),t.forEach(e=>{if(e.get("invite")){let t=i({type:"set",from:this.account.get("jid"),to:this.account.get("jid")}).c("retract-message",{id:e.get("stanza_id"),xmlns:p.NS.REWRITE,symmetric:!1,by:this.account.get("jid")});this.account.sendIQ(t),e&&this.content.removeMessage(e)}}),this.model.recountUnread(),delete this.contact.attributes.invitation,this.updateIcon()}},onClosed:function(){this.parent.onChatRemoved(this.model,{soft:!0})}}),n.MessagesView=n.BasicView.extend({template:d.chat_content,ps_selector:".chat-content",ps_settings:{wheelPropagation:!0},avatar_size:o.AVATAR_SIZES.CHAT_MESSAGE,_initialize:function(e){this.model=e.model,this.contact=e.contact,this.account=this.model.account;let t=this.account.settings.get("color");this.$el.attr("data-color",t),this.$search_form=this.$(".search-form-header"),this.loading_history=!1,this.history_loaded=!1,this.first_msg_id=0,this.last_msg_id=0,this._scrolltop=this.getScrollTop(),this.ps_container.on("ps-scroll-up ps-scroll-down",this.onScroll.bind(this)),this.chat_content=e.chat_content||this.model.item_view.content;let a=this.defineMouseWheelEvent();this.$el.on(a,this.onMouseWheel.bind(this)),this.$(".back-to-bottom").click(this.backToBottom.bind(this))},defineMouseWheelEvent:function(){return m.isUndefined(window.onwheel)?m.isUndefined(window.onmousewheel)?"MozMousePixelScroll":"mousewheel":"wheel"},keyupSearch:function(e){if(e.keyCode===o.KEY_ENTER){let e=this.$search_form.find("input").val();this.model.searchMessages(e,()=>{})}e.keyCode!==o.KEY_ESCAPE||n.body.screen.get("right_contact")||this.chat_content.head.renderSearchPanel()},onMouseWheel:function(){this.$(".back-to-bottom").hideIf(this.isScrolledToBottom())},onClickMessage:function(e){this.chat_content.onClickMessage(e)},onClickLink:function(e){this.chat_content.onClickLink(e)},onClickLocationLink:function(e){this.chat_content.onClickLocationLink(e)},onClickLocation:function(e){this.chat_content.onClickLocation(e)},onHoverLocation:function(e){this.chat_content.onHoverLocation(e)},onScroll:function(){this.$(".back-to-bottom").hideIf(this.isScrolledToBottom()),this._prev_scrolltop=this._scrolltop||0,this._scrolltop=this.getScrollTop(),!this.history_loaded&&!this.loading_history&&this._scrolltop<this._prev_scrolltop&&(100>this._scrolltop||.1>this.getPercentScrolled())&&(this.loading_history=!0,this.messagesRequest({before:this.first_msg_id},()=>{this.loading_history=!1}))},backToBottom:function(){this.openChat(),this.scrollToBottom(),this.$(".back-to-bottom").hideIf(this.isScrolledToBottom())},messagesRequest:function(){},emptyChat:function(){this.$(".chat-content").html(c("<span class=\"error\"/>").text(n.getString("no_messages")))},openChat:function(){this.model.item_view.open({right_contact_save:!0,clear_search:!1})},addMessageHTML:function(e,t,a){let i=this.getScrollBottom(),n;0===t?e.prependTo(this.$(".chat-content")):e.insertAfter(this.$(".chat-message").eq(t-1)),t===a&&(n=this.getScrollTop());let s=e.nextAll(".chat-message").first();return this.chat_content.updateMessageInChat(e[0]),s.length&&this.chat_content.updateMessageInChat(s[0]),this.chat_content.initPopup(e),n?this.scrollTo(n):this.scrollTo(this.ps_container[0].scrollHeight-this.ps_container[0].offsetHeight-i),e}}),n.MessageContextView=n.MessagesView.extend({className:"chat-content-wrap messages-context-wrap",events:{"click .chat-message":"onClickMessage","click .chat-msg-location-content":"onClickLocation","mouseover .chat-msg-location-content.no-title":"onHoverLocation","click .mdi-link-variant":"onClickLink","click .msg-copy-location":"onClickLocationLink","keyup .messages-search-form":"keyupSearch"},__initialize:function(e){e=e||{},this.stanza_id=e.stanza_id_context,this.mention_context=e.mention_context,this.model.item_view.content||(this.chat_content=new n.ChatContentView({chat_item:this.model.item_view})),this.$history_feedback=this.$(".load-history-feedback"),this.account.context_messages=new n.Messages(null,{account:this.account}),this.account.context_messages.on("change:last_replace_time",this.chat_content.updateMessage,this),this.account.context_messages.on("add",this.addMessage,this)},render:function(){this.scrollToTop(),this.$(".back-to-bottom").hideIf(this.isScrolledToBottom())},onMouseWheel:function(e){this.loading_history||(0>e.originalEvent.deltaY?!this.first_history_loaded&&(this.loading_history=!0,this.messagesRequest({before:this.first_msg_id},()=>{this.loading_history=!1})):!this.last_history_loaded&&(this.loading_history=!0,this.messagesRequest({after:this.last_msg_id},()=>{this.loading_history=!1}))),this.$(".back-to-bottom").hideIf(this.isScrolledToBottom())},onScroll:function(){this.$(".back-to-bottom").hideIf(this.isScrolledToBottom()),this._prev_scrolltop=this._scrolltop||0,this._scrolltop=this.getScrollTop(),this._scrollbottom=this.getScrollBottom(),this.loading_history||(!this.first_history_loaded&&this._scrolltop<this._prev_scrolltop&&(100>this._scrolltop||.1>this.getPercentScrolled())?(this.loading_history=!0,this.showHistoryFeedback(),this.messagesRequest({before:this.first_msg_id},()=>{this.loading_history=!1,this.hideHistoryFeedback()})):!this.last_history_loaded&&this._scrolltop>this._prev_scrolltop&&(100>this._scrollbottom||.9<this.getPercentScrolled())&&(this.loading_history=!0,this.showHistoryFeedback(),this.messagesRequest({after:this.last_msg_id},()=>{this.loading_history=!1,this.hideHistoryFeedback()})))},showHistoryFeedback:function(){this.$history_feedback.text(n.getString("loading_history")).removeClass("hidden")},hideHistoryFeedback:function(){this.$history_feedback.addClass("hidden")},messagesRequest:function(e,t){let a=[],i=e||{},s=g();i.max||(i.max=n.settings.mam_messages_limit),i.after||i.before||(i.before="");let o=this.account.connection.addHandler(e=>{let t=c(e);return t.find("result").attr("queryid")===s&&a.push(e),!0},p.NS.MAM);this.chat_content.MAMRequest(i,(e,a,n)=>{this.account.connection.deleteHandler(o),n&&(this.first_msg_id=n.first)&&(this.last_msg_id=n.last),i.after&&a.length<i.max&&(this.last_history_loaded=!0),i.before&&a.length<i.max&&(this.first_history_loaded=!0),c(a).each((e,t)=>{let a=c(t);this.account.chats.receiveChatMessage(a,{context_message:!0})}),t&&t()},()=>{this.account.connection.deleteHandler(o)})},addMessage:function(e){if(e.get("auth_request"))return;this.mention_context&&e.get("stanza_id")===this.stanza_id||e.set("is_archived",!0);let t=this.chat_content.buildMessageHtml(e).addClass("context-message"),a=this.account.context_messages.indexOf(e);e.get("stanza_id")===this.stanza_id&&(t.addClass("message-from-context"),setTimeout(()=>{t.removeClass("message-from-context")},3e3)),this.addMessageHTML(t,a,this.account.context_messages.findLastIndex())}}),n.SearchedMessagesView=n.MessagesView.extend({className:"chat-content-wrap searched-messages-wrap",events:{"click .chat-message":"onClickMessage","click .chat-msg-location-content":"onClickLocation","mouseover .chat-msg-location-content.no-title":"onHoverLocation","click .mdi-link-variant":"onClickLink","click .msg-copy-location":"onClickLocationLink","click .btn-cancel-searching":"openChat","keyup .messages-search-form":"keyupSearch"},__initialize:function(e){return this.query_text=e.query_text,this.account.searched_messages=new n.Messages(null,{account:this.account}),this.account.searched_messages.on("change:last_replace_time",this.chat_content.updateMessage,this),this.account.searched_messages.on("add",this.addMessage,this),this},render:function(){this.$search_form.find("input").val(this.query_text),this.$search_form.slideToggle(10,()=>{"none"!==this.$search_form.css("display")&&this.$search_form.find("input").focus(),this.scrollToBottom()}),this.$(".back-to-bottom").hideIf(this.isScrolledToBottom())},messagesRequest:function(e,t){let a=[],i=e||{},s=g();m.extend(i,{max:n.settings.mam_messages_limit,before:e.before||"",var:[{var:"withtext",value:this.query_text}]});let o=this.account.connection.addHandler(e=>{let t=c(e);return t.find("result").attr("queryid")===s&&a.push(e),!0},p.NS.MAM);this.chat_content.MAMRequest(i,(e,a,n)=>{this.account.connection.deleteHandler(o),n&&(this.first_msg_id=n.first),a.length||this.account.searched_messages.length||this.emptyChat(),a.length<i.max&&(this.history_loaded=!0),c(a).each((e,t)=>{let a=c(t);this.account.chats.receiveChatMessage(a,{searched_message:!0})}),t&&t()},()=>{this.account.connection.deleteHandler(o)})},addMessage:function(e){if(!e.get("auth_request")){e.set("is_archived",!0);let t=this.chat_content.buildMessageHtml(e).addClass("searched-message"),a=this.account.searched_messages.indexOf(e);this.addMessageHTML(t,a)}}}),n.ContactSearchedMessagesView=n.MessagesView.extend({template:d.chat_content_contact,ps_settings:{wheelPropagation:!0},avatar_size:o.AVATAR_SIZES.CHAT_MESSAGE,className:"chat-content-wrap searched-messages-wrap",events:{"click .chat-message":"onClickMessage","click .chat-msg-location-content":"onClickLocation","mouseover .chat-msg-location-content.no-title":"onHoverLocation","click .mdi-link-variant":"onClickLink","click .msg-copy-location":"onClickLocationLink","click .btn-cancel-searching":"openChat","keyup .messages-search-form":"keyupSearch","click .close-search-icon":"clearSearch","click .btn-back":"hideSearch"},_initialize:function(e){return this.model=e.model,this.contact=e.contact,this.account=this.model.account,this.$search_form=this.$(".search-form-header"),this.timer=null,this.loading_history=!1,this.history_loaded=!1,this.first_msg_id=0,this.last_msg_id=0,this.chat_content=e.chat_content||this.model.item_view.content,this.parent.model.set("search_hidden",!0),this},render:function(){this.account.searched_messages&&(this.searched_messages=this.account.searched_messages),this.account.searched_messages=new n.Messages(null,{account:this.account}),this.searched_messages&&this.account.searched_messages.add(this.searched_messages.toJSON(),{silent:!0}),this.account.searched_messages.on("add",this.addMessage,this),this.parent.model.get("saved_search_panel")?(this.$el.html(this.parent.model.get("saved_search_panel")),this.model.set("saved_search_panel",void 0)):(this.emptyChat(),this.$el.html(this.template()),this.emptyChat(),this.parent.model.get("search_hidden")&&this.hideSearch()),this.ps_container=this.$(".search-messages-content-wrap"),this.ps_container.length&&this.ps_container.perfectScrollbar(m.extend(this.ps_settings||{},n.ps_settings)),this.$search_form=this.$(".search-form-header"),this.parent.model.get("saved_search_panel")&&(this.$search_form.find("input").focus(),this.parent.model.get("saved_search_panel_scroll")&&this.scrollTo(this.parent.model.get("saved_search_panel_scroll")))},clearSearch:function(){this.$search_form.find("input").val(""),this.emptyChat()},keyupSearch:function(e){if(this.$(".close-search-icon").hideIf(!this.$search_form.find("input").val()),e.keyCode===o.KEY_ENTER){this.emptyChat();let e=this.$search_form.find("input").val();this.$(".preloader-wrap").hideIf(!1),this.loading_timestamp=+u.now(),this.messagesRequest(e,this.loading_timestamp,void 0,[],()=>{})}},emptyChat:function(){this.account.searched_messages&&this.account.searched_messages.reset(),this.$(".chat-content").html(""),this.$(".messages-count").hideIf(!0),this.$(".preloader-wrap").hideIf(!0),this.$(".search-results").hideIf(!0),this.$(".close-search-icon").hideIf(!0)},messagesRequest:function(e,t,a,i,s){if(!e||this.loading_timestamp!=t)return this.emptyChat(),!0;let o=[],d={},r=g();m.extend(d,{max:n.settings.mam_messages_limit,var:[{var:"withtext",value:e}]}),a&&a.last&&m.extend(d,{after:a.last});let l=this.account.connection.addHandler(e=>{let t=c(e);return t.find("result").attr("queryid")===r&&o.push(e),!0},p.NS.MAM);this.chat_content.MAMRequest(d,(a,o,r)=>{if(this.account.connection.deleteHandler(l),r&&(this.first_msg_id=r.first),o.length||this.account.searched_messages.length||this.emptyChat(),o.length<d.max&&(this.history_loaded=!0),i=i.concat(o),o.length==d.max)this.messagesRequest(e,t,r,i,()=>{});else if(i.length==r.count)if(0!=r.count){let t=r.count;this.emptyChat(),c(i).each((a,i)=>{let n=c(i),s=n.find(`propose[xmlns="${p.NS.JINGLE_MSG}"]`);s.length&&t--,this.account.chats.receiveChatMessage(n,{searched_message:!0,query:e})}),this.$(".messages-count").hideIf(!t),this.$(".close-search-icon").hideIf(!t),this.$(".search-results").hideIf(t),this.$(".messages-count").text(n.getQuantityString("searched_messages_count",t))}else this.emptyChat(),this.$(".close-search-icon").hideIf(!1),this.$(".search-results").hideIf(!1);s&&s(o,r)},()=>{this.account.connection.deleteHandler(l)})},addMessageHTML:function(e,t,a){e.prependTo(this.$(".chat-content")),t===a&&(scrolled_from_top=this.getScrollTop());e.nextAll(".chat-message").first();return e},addMessage:function(e){if(!this.parent.model.get("search_hidden")){if(e.get("auth_request"))return;e.set("is_archived",!0),e.set("searched_message",!0);let t=this.chat_content.buildMessageHtml(e).addClass("searched-message"),a=this.account.searched_messages.indexOf(e);this.chat_content.showMessageAuthor(t),this.addMessageHTML(t,a)}},hideSearch:function(){this.parent.model.set("search_hidden",!0),this.$(".search-input").val(""),this.emptyChat(),this.parent.ps_container.length&&this.parent.ps_container.perfectScrollbar(m.extend(this.parent.ps_settings||{},n.ps_settings)),this.$(".search-wrap").hideIf(this.parent.model.get("search_hidden"))},onClickMessage:function(e){let t=c(e.target),a=t.closest(".chat-message");this.parent.model.set("saved_search_panel_scroll",this.ps_container[0].scrollTop),this.ps_container.perfectScrollbar("destroy"),this.parent.model.set("saved_search_panel",this.$el.clone()),this.model.getMessageContext(a.data("uniqueid"),{searched_messages:!0})}}),n.ParticipantMessagesView=n.MessagesView.extend({className:"chat-content-wrap participant-messages-wrap",events:{"click .chat-message":"onClickMessage","click .chat-msg-location-content":"onClickLocation","mouseover .chat-msg-location-content.no-title":"onHoverLocation","click .mdi-link-variant":"onClickLink","click .msg-copy-location":"onClickLocationLink","click .btn-cancel-selection":"openChat","click .btn-retract-messages":"retractMessages","keyup .messages-search-form":"keyupSearch"},__initialize:function(e){return this.participant=e.participant,this.member_jid=this.participant.jid,this.member_id=this.participant.id,this.member_nickname=this.participant.nickname,this.account.participant_messages=new n.Messages(null,{account:this.account}),this.account.participant_messages.on("add",this.addMessage,this),this.account.participant_messages.on("change:last_replace_time",this.chat_content.updateMessage,this),this.ps_container.on("ps-scroll-y",this.onScrollY.bind(this)),this},render:function(){this.$(".chat-content").css("height","calc(100% - 32px)"),this.$(".participant-messages-header .messages-by-header .participant-nickname").text(this.member_nickname),this.$(".participant-messages-header").removeClass("hidden"),this.scrollToBottom(),this.$(".back-to-bottom").hideIf(this.isScrolledToBottom())},onScrollY:function(){},retractMessages:function(){r.dialogs.ask(n.getString("dialog_delete_user_messages__header"),n.getString("dialog_delete_user_messages__confirm",[this.member_nickname||this.member_jid||this.member_id]),null,{ok_button_text:n.getString("delete")}).done(e=>{e&&this.member_id&&this.chat_content.model.retractMessagesByUser(this.member_id,()=>{this.emptyChat()})})},messagesRequest:function(e,t){let a=[],i=e||{},s=this.member_id,o=g();m.extend(i,{max:n.settings.mam_messages_limit,before:e.before||"",var:[{var:"with",value:s}]});let d=this.account.connection.addHandler(e=>{let t=c(e);return t.find("result").attr("queryid")===o&&a.push(e),!0},p.NS.MAM);this.chat_content.MAMRequest(i,(e,a,n)=>{this.account.connection.deleteHandler(d),n&&(this.first_msg_id=n.first),a.length||this.account.participant_messages.length||this.emptyChat(),a.length<i.max&&(this.history_loaded=!0),c(a).each((e,t)=>{let a=c(t);this.account.chats.receiveChatMessage(a,{participant_message:!0})}),t&&t()},()=>{this.account.connection.deleteHandler(d)})},addMessage:function(e){if(!e.get("auth_request")){e.set("is_archived",!0);let t=this.chat_content.buildMessageHtml(e).addClass("participant-message"),a=this.account.participant_messages.indexOf(e);this.addMessageHTML(t,a)}}}),n.SubscriptionButtonsView=n.BasicView.extend({template:d.subscription_buttons,events:{"click .btn-decline":"declineSubscription","click .btn-allow":"allowSubscription","click .btn-add":"addContact","click .btn-subscribe":"addContact","click .btn-block":"blockContact"},_initialize:function(e){this.$el.html(this.template()),this.contact=e.contact,this.contact.on("change:subscription",this.render,this),this.contact.on("change:in_roster",this.render,this),this.contact.on("change:blocked",this.render,this),this.contact.on("change:subscription_request_in",this.render,this),this.contact.on("change:subscription_request_out",this.render,this)},render:function(){if(this.$el.closest(".chat-content-wrap").children(".chat-content").removeClass("with-before"),this.contact.get("group_chat"))return void this.$el.addClass("hidden");let e=this.contact.get("subscription"),t=this.contact.get("subscription_request_in"),a=this.contact.get("in_roster"),i=this.contact.get("subscription_request_out");if(this.$(".button").removeClass("hidden"),this.$(".subscription-info").text(""),this.$el.addClass("hidden"),!("both"===e||this.contact.get("blocked"))){if("to"===e&&t||!e&&t&&a)this.$(".subscription-info").text(n.getString("subscription_status_in_request_incoming")),this.$(".button:not(.btn-allow)").addClass("hidden");else if(!i&&!a&&!t&&("from"===e||m.isNull(e)))this.$(".subscription-info").text(n.getString("chat_subscribe_request_outgoing")),this.$(".button:not(.btn-subscribe)").addClass("hidden");else if(void 0===e||!e&&t)this.$(".button:not(.btn-add):not(.btn-block)").addClass("hidden");else return;this.$el.removeClass("hidden"),this.$el.closest(".chat-content-wrap").children(".chat-content").addClass("with-before")}},hideElement:function(){this.$el.addClass("hidden"),this.$el.closest(".chat-content-wrap").children(".chat-content").removeClass("with-before")},declineSubscription:function(){this.contact.declineSubscribe(),this.hideElement()},allowSubscription:function(){this.contact.acceptRequest(),this.hideElement()},addContact:function(){void 0===this.contact.get("subscription")?this.contact.pushInRoster(null,()=>{this.sendAndAskSubscription()}):this.sendAndAskSubscription(),this.hideElement()},sendAndAskSubscription:function(){this.contact.acceptRequest(),this.contact.askRequest()},blockContact:function(){this.contact.blockRequest(),this.hideElement()}}),n.ChatContentView=n.BasicView.extend({className:"chat-content-wrap",template:d.chat_content,ps_selector:".chat-content",ps_settings:{wheelPropagation:!0},avatar_size:o.AVATAR_SIZES.CHAT_MESSAGE,events:{"mousedown .chat-message":"onTouchMessage","click .chat-message":"onClickMessage","click .chat-msg-location-content":"onClickLocation","mouseover .chat-msg-location-content.no-title":"onHoverLocation","click .mdi-link-variant":"onClickLink","click .msg-copy-location":"onClickLocationLink","click .pinned-message":"showPinnedMessage","keyup .messages-search-form":"keyupSearch","click .btn-cancel-searching":"cancelSearch","click .back-to-bottom":"backToBottom","click .btn-retry-send-message":"retrySendMessage","click .btn-delete-message":"removeFileErrorMessage","click .encryption-warning":"openDevicesWindow"},_initialize:function(e){this.chat_item=e.chat_item,this.current_day_indicator=null,this.prev_audio_message,this._pending_avatars=[],this.account=this.chat_item.account,this.model=this.chat_item.model,this.contact=this.model.contact,this.head=this.model.get("saved")?new n.SavedChatHeadView({content:this}):new n.ChatHeadView({content:this}),this.bottom=new n.ChatBottomView({content:this}),this.$history_feedback=this.$(".load-history-feedback"),this.$pinned_message=this.$(".pinned-message"),this.$search_form=this.$(".search-form-header"),this.$el.attr("data-id",this.model.id),this.updateContentColorScheme(),this.model.sync_created&&this.model.last_message&&(this.onMessage(this.model.last_message),e.new_message&&(this.onMessage(e.new_message),this.onChangedReadState(e.new_message))),this._scrolltop=this.getScrollTop();let t=this.defineMouseWheelEvent();return this.$el.on(t,this.onMouseWheel.bind(this)),this.ps_container.on("ps-scroll-up ps-scroll-down",this.onScroll.bind(this)),this.ps_container.on("ps-scroll-y",this.onScrollY.bind(this)),this.model.on("change:active",this.onChangedActiveStatus,this),this.model.on("load_last_history",this.loadLastHistory,this),this.model.on("get_missed_history",this.requestMissedMessages,this),this.model.messages.on("add",this.onMessage,this),this.model.messages.on("change:is_unread",this.onChangedReadState,this),this.model.messages.on("change:timestamp",this.onChangedMessageTimestamp,this),this.model.messages.on("change:trusted",this.onTrustedChanged,this),this.model.messages.on("change:last_replace_time",this.updateMessage,this),this.contact&&(this.subscription_buttons=new n.SubscriptionButtonsView({contact:this.contact,el:this.$(".subscription-buttons-wrap")[0]}),this.contact.on("change:blocked",this.updateBlockedState,this),this.contact.on("change:subscription",this.onSubscriptionChange,this),this.contact.on("change:group_chat",this.updateGroupChat,this),this.contact.on("remove_from_blocklist",this.loadLastHistory,this),this.account.contacts.on("change:name",this.updateName,this),this.account.contacts.on("change:image",this.updateAvatar,this)),this.account.on("change",this.updateMyInfo,this),this.account.settings.on("change:color",this.updateContentColorScheme,this),this.account.dfd_presence.done(()=>{this.account.connection.do_synchronization||this.loadLastHistory()}),this},render:function(){this.cancelSearch(),this.scrollToBottom(),this.onScroll(),this.updateContactStatus(),this.contact&&(this.contact.get("group_chat")&&this.updatePinnedMessage(),this.subscription_buttons.render())},openDevicesWindow:function(){let e=this.account.omemo.getPeer(this.contact.get("jid"));e.fingerprints.open()},defineMouseWheelEvent:function(){return m.isUndefined(window.onwheel)?m.isUndefined(window.onmousewheel)?"MozMousePixelScroll":"mousewheel":"wheel"},updateMyInfo:function(){let e=this.account.changed;m.has(e,"name")&&this.updateMyName(),m.has(e,"status")&&this.updateMyStatus(),m.has(e,"image")&&this.updateMyAvatar()},updateContentColorScheme:function(){let e=this.account.settings.get("color");this.$el.attr("data-color",e),this.head.$el.attr("data-color",e),this.bottom.$el.attr("data-color",e)},onTrustedChanged:function(e){let t=e.get("trusted"),a=this.$(".chat-message[data-uniqueid=\""+e.get("unique_id")+"\"]");null===t&&(t="none"),a.attr("data-trust",t)},updateGroupChat:function(){this._loading_history=!1,this.model.set("history_loaded",!1)},onSubscriptionChange:function(){let e=this.contact.get("subscription");"both"===e&&this.contact.get("group_chat")&&(this.updateGroupChat(),this.loadPreviousHistory())},cancelSearch:function(){this.$search_form.hide().find("input").val("")},updateContactStatus:function(){if("offline"==this.head.$(".contact-status").attr("data-status")&&this.contact.get("last_seen")){let e=(u.now()-this.contact.get("last_seen"))/1e3,t=n.pretty_last_seen(e);this.contact.set({status_message:t})}},updatePinnedMessage:function(){let e=this.contact.get("pinned_message");this.contact.renderPinnedMessage(e,this.$pinned_message)},onChangedVisibility:function(){this.isVisible()?(this.model.set({display:!0,active:!0}),this.onScroll(),this.readMessages()):this.model.set({display:!1})},onChangedActiveStatus:function(){let e=this.model.get("active");this.sendChatState(e?"active":"inactive"),this.model.get("group_chat")&&(e?this.contact.sendPresent():this.contact.sendNotPresent())},updateName:function(e){let t=e.get("name"),a=e.get("jid");e===this.contact?this.$(`.chat-message.with-author[data-from="${a}"]`).each(function(){c(this).find(".chat-msg-author").text(t)}):this.$(`.fwd-message.with-author[data-from="${a}"]`).each(function(){c(this).find(".fwd-msg-author").text(t)})},updateAvatar:function(e){let t=e.cached_image,a=e.get("jid");e===this.contact?this.$(`.chat-message.with-author[data-from="${a}"]`).each(function(){c(this).find(".left-side .circle-avatar").setAvatar(t,this.avatar_size)}):this.$(`.fwd-message.with-author[data-from="${a}"]`).each(function(){c(this).find(".fwd-left-side .circle-avatar").setAvatar(t,this.avatar_size)})},updateMyStatus:function(){let e;this.account.isOnline()||(e=n.getString("connection_status__you_are_offline")),this.bottom.showChatNotification(e||"",!0)},updateMyName:function(){let e=this.account.get("name"),t=this.account.get("jid");this.$(`.chat-message.with-author[data-from="${t}"]`).each(function(){c(this).find(".chat-msg-author").text(e)}),this.$(`.fwd-message.with-author[data-from="${t}"]`).each(function(){c(this).find(".fwd-msg-author").text(e)})},updateMyAvatar:function(){let e=this.account.cached_image,t=this.account.get("jid");this.$(`.chat-message.with-author[data-from="${t}"]`).each(function(){c(this).find(".left-side .circle-avatar").setAvatar(e,this.avatar_size)}),this.$(`.fwd-message.with-author[data-from="${t}"]`).each(function(){c(this).find(".fwd-left-side .circle-avatar").setAvatar(e,this.avatar_size)})},updateBlockedState:function(){this.model.get("blocked")&&this.model.showBlockedRequestMessage(),this.isVisible()&&(n.body.setScreen(n.body.screen.get("name"),{right:"chat",chat_item:this.chat_item,blocked:this.model.get("blocked")}),this.updateScrollBar())},readMessages:function(e){let t=m.clone(this.model.messages_unread.models);if(t.length){let e=t[t.length-1];this.model.sendMarker(e.get("msgid"),"displayed",e.get("stanza_id"),e.get("contact_stanza_id"))}if(this.model.set("const_unread",0),m.each(t,t=>{(!e||t.get("timestamp")<=e)&&t.set("is_unread",!1)}),this.model.last_message&&this.model.last_message.get("is_unread")&&!t.length){let e=this.model.last_message;this.model.sendMarker(e.get("msgid"),"displayed",e.get("stanza_id"),e.get("contact_stanza_id")),e.set("is_unread",!1)}else if(this.model.last_message&&this.model.last_message.get("auth_request")&&this.model.messages.length){let e=m.clone(this.model.messages.models),t=e[e.length-2];t&&t.get("is_unread")&&(this.model.sendMarker(t.get("msgid"),"displayed",t.get("stanza_id"),t.get("contact_stanza_id")),t.set("is_unread",!1))}},onMouseWheel:function(e){0>e.originalEvent.deltaY&&this.loadPreviousHistory(),this.$(".back-to-bottom").hideIf(this.isScrolledToBottom())},keyupSearch:function(e){if(e.keyCode===o.KEY_ENTER){let e=this.$search_form.find("input").val();this.model.searchMessages(e,()=>{})}e.keyCode!==o.KEY_ESCAPE||n.body.screen.get("right_contact")||this.head.renderSearchPanel()},onScrollY:function(){0===this._scrolltop&&this.$(".subscription-buttons-wrap").hasClass("hidden")&&(this.$(".fixed-day-indicator-wrap").css("opacity",1),this.current_day_indicator=f(parseInt(this.$(".chat-content").children().first().data("time"))),this.showDayIndicator(this.current_day_indicator)),this.$(".back-to-bottom").hideIf(this.isScrolledToBottom())},onScroll:function(){if(!this.isVisible())return;this.$(".back-to-bottom").hideIf(this.isScrolledToBottom());let e=this.$(".chat-day-indicator"),t=this.$(".chat-message"),a,i;this._prev_scrolltop=this._scrolltop||0,this._scrolltop=this.getScrollTop(),e.each((e,t)=>{if(this.$(".subscription-buttons-wrap").hasClass("hidden")){if(this._scrolltop<this._prev_scrolltop){if(t.offsetTop<=this._scrolltop&&t.offsetTop>=this._scrolltop-30)return a=e,i=0,!1;if(t.offsetTop>=this._scrolltop&&t.offsetTop<=this._scrolltop-30)return a=e&&e-1,i=1,!1}else{if(t.offsetTop<=this._scrolltop+30&&t.offsetTop>=this._scrolltop)return a=e&&e-1,i=0,!1;if(t.offsetTop>=this._scrolltop-30&&t.offsetTop<=this._scrolltop)return a=e,i=1,!1}}else if(!c(t).hasClass("fixed-day-indicator-wrap"))if(this._scrolltop<this._prev_scrolltop){if(t.offsetTop>=this._scrolltop+30&&t.offsetTop<=this._scrolltop+62)return a=e,i=0,!1;if(t.offsetTop>=this._scrolltop&&t.offsetTop<=this._scrolltop+62)return a=e,i=1,!1}else{if(t.offsetTop<=this._scrolltop+62&&t.offsetTop>=this._scrolltop+30)return a=e&&e-1,i=0,!1;if(t.offsetTop>=this._scrolltop-62&&t.offsetTop<=this._scrolltop+30)return a=e,i=1,!1}}),a?(this.$(".fixed-day-indicator-wrap").css("opacity",i),this.current_day_indicator=f(parseInt(c(e[a]).attr("data-time")))):(t.each((e,t)=>{if(t.offsetTop+c(t).height()>this._scrolltop&&t.offsetTop<this._scrolltop)return a=e,i=1,!1}),a?(this.$(".fixed-day-indicator-wrap").css("opacity",i),this.current_day_indicator=f(parseInt(c(t[a]).attr("data-time")))):!this.$(".subscription-buttons-wrap").hasClass("hidden")&&0==this._scrolltop&&(i=0,this.$(".fixed-day-indicator-wrap").css("opacity",i))),null!==this.current_day_indicator&&this.showDayIndicator(this.current_day_indicator),this._scrolltop<this._prev_scrolltop&&(100>this._scrolltop||.1>this.getPercentScrolled())&&this.loadPreviousHistory()},backToBottom:function(){this.scrollToBottom()},MAMRequest:function(e,t,a){let s=this.account,o=e.fast&&s.fast_connection&&s.fast_connection.connected,d=o?s.fast_connection:s.connection,r=this.contact,l=this.model.get("saved"),m=[],u=g(),h=r&&r.get("group_chat"),v=!0,f;delete e.fast,f=h?i({type:"set",to:r.get("full_jid")||r.get("jid")}):i({type:"set"}),f.c("query",{xmlns:p.NS.MAM,queryid:u}).c("x",{xmlns:p.NS.DATAFORM,type:"submit"}).c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t(p.NS.MAM).up().up(),this.account.server_features.get(p.NS.ARCHIVE)&&this.model.get("encrypted")&&f.c("field",{var:`{${p.NS.ARCHIVE}}filter_encrypted`}).c("value").t(this.model.get("encrypted")).up().up(),h||f.c("field",{var:"with"}).c("value").t(this.model.get("jid")).up().up(),e.var&&e.var.forEach(e=>{f.c("field",{var:e.var}).c("value").t(e.value).up().up()}),f.up().cnode(new p.RSM(e).toXML());let b=new c.Deferred;s.chats.onStartedMAMRequest(b),b.done(function(){let e=d.addHandler(function(e){if(r&&h==r.get("group_chat")||l){let t=c(e);t.find("result").attr("queryid")===u&&m.push(e)}else m=[],v=!1;return!0},p.NS.MAM),i=function(a){d.deleteHandler(e),s.chats.onCompletedMAMRequest(b);let i=c(a).find(`fin[xmlns="${p.NS.MAM}"]`);if(i.length&&i.attr("queryid")===u){let e=new p.RSM({xml:i.find("set")[0]});e.complete="true"===i.attr("complete"),t&&t(v,m,e)}},g=function(t){d.deleteHandler(e),n.error("MAM error"),n.error(t),s.chats.onCompletedMAMRequest(b),a&&a(t)};o?s.sendFast(f,i,g):s.sendIQ(f,i,g)})},getMessageArchive:function(e,t){if(t.previous_history){if(this._loading_history||this.model.get("history_loaded"))return;this._loading_history=!0,clearTimeout(this._load_history_timeout),this._load_history_timeout=setTimeout(()=>{this._loading_history=!1},6e4),this.showHistoryFeedback()}let a=this.model.account,i=0;this.MAMRequest(e,(s,o,d)=>{if(clearTimeout(this._load_history_timeout),this._loading_history=!1,this.hideHistoryFeedback(),t.missed_history&&!d.complete&&d.count>o.length&&this.getMessageArchive({after:d.last},{missed_history:!0}),this.model.get("group_chat")?this.contact&&!this.contact.my_info&&this.contact.getMyInfo():this.contact&&!this.contact.get("last_seen")&&!this.contact.get("server")&&this.contact.getLastSeen(),o.length<e.max&&s&&this.model.set("history_loaded",!0),(t.previous_history||!this.model.get("first_archive_id"))&&d.first&&this.model.set("first_archive_id",d.first),(t.last_history||!this.model.get("last_archive_id"))&&d.last&&this.model.set("last_archive_id",d.last),m.each(o,function(e){let n=a.chats.receiveChatMessage(e,m.extend({is_archived:!0},t));n&&i++}),t.previous_history&&!this.model.get("displayed_sent")&&this.model.messages.length){let e=this.model.messages.models[this.model.messages.length-1];e&&!e.isSenderMe()&&this.model.get("active")&&this.model.get("display")&&(this.model.sendMarker(e.get("msgid"),"displayed",e.get("stanza_id"),e.get("contact_stanza_id")),this.model.set("displayed_sent",!0))}0===i&&t.last_history&&!this.model.get("history_loaded")&&this.getMessageArchive(m.extend(e,{max:n.settings.mam_messages_limit,before:this.model.get("first_archive_id")||""}),{previous_history:!0})},()=>{t.previous_history&&(this._loading_history=!1,this.showHistoryFeedback(!0))})},requestMissedMessages:function(e){if(e){let t={};t.var=[{var:"start",value:u(e).format()}],this.getMessageArchive(t,{missed_history:!0})}},loadLastHistory:function(){if(n.settings.load_history){let e=this.model.get("last_archive_id"),t={};e?t.after=e:(t.before="",t.max=n.settings.mam_messages_limit_start),this.getMessageArchive(t,{last_history:!0})}},loadPreviousHistory:function(){this.contact&&(!n.settings.load_history||(!this.contact.get("subscription")||"both"!==this.contact.get("subscription"))&&this.contact.get("group_chat"))||this.getMessageArchive({fast:!0,max:n.settings.mam_messages_limit,before:this.model.get("first_archive_id")||""},{previous_history:!0})},showHistoryFeedback:function(e){this._load_history_feedback_timeout&&(clearTimeout(this._load_history_feedback_timeout),this._load_history_feedback_timeout=null);let t=n.getString(e?"loading_archived_messages_error":"loading_history");this.$history_feedback.text(t).removeClass("hidden"),e&&(this._load_history_feedback_timeout=setTimeout(this.hideHistoryFeedback.bind(this),5e3))},showDayIndicator:function(e){this.$(".fixed-day-indicator").text(e),this.$(".fixed-day-indicator-wrap").removeClass("hidden")},showPinnedMessage:function(e){if(c(e.target).hasClass("close"))this.unpinMessage();else{let e=this.contact.get("pinned_message"),t=this.buildMessageHtml(e),a=new n.ExpandedMessagePanel({account:this.account,chat_content:this});a.$el.attr("data-color",this.account.settings.get("color")),this.updateMessageInChat(t),this.initPopup(t),a.open(t)}},imageOnload:function(e){let t=e.find(".img-content"),a=e.find(".mdi-link-variant");t.css("background-image","none"),a.attr({"data-image":"true"})},videoOnload:function(e){let t=e.find(".img-content"),a=e.find(".mdi-link-variant");a.attr({"data-image":"true"})},locationOnload:function(e){let t=e.find(".msg-copy-location-content");t.html(s.templates.svg["map-marker-outline"]()),t.attr({"data-location":"true"})},unpinMessage:function(){let e=i({from:this.account.get("jid"),type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("update",{xmlns:p.NS.GROUP_CHAT}).c("pinned-message");this.account.sendIQ(e,()=>{},e=>{c(e).find("error not-allowed").length&&r.dialogs.error(n.getString("groupchat_you_have_no_permissions_to_do_it"))})},hideHistoryFeedback:function(){this.$history_feedback.addClass("hidden")},receiveNoTextMessage:function(e){let t=p.getBareJidFromJid(e.attr("from")),a=p.getBareJidFromJid(e.attr("to")),i=t===this.account.get("jid"),s=e.find(`[xmlns="${p.NS.CHATSTATES}"]`);if(s.length&&!i){let e=s.children("subtype");if("encrypted"==e.attr("type")){let e=n.chats_view.child(`${this.contact.hash_id}:encrypted`);e&&e.content&&e.content.showChatState(s[0].tagName.toLowerCase())}else this.showChatState(s[0].tagName.toLowerCase(),e.attr("type"),e.attr("mime-type"))}},showChatState:function(e,t,a){clearTimeout(this._chatstate_show_timeout);let i=this.contact.get("name"),s;if("composing"!==e)return"paused"===e?void this.showChatState():(this.bottom.showChatNotification(""),void this.chat_item.updateLastMessage());if(!t)this._current_composing_msg=void 0,s=n.getString("chat_state_composing"),this._chatstate_show_timeout=setTimeout(()=>{this.showChatState()},o.CHATSTATE_TIMEOUT_PAUSED);else if(this._current_composing_msg={type:t},"upload"===t){let e=a?r.pretty_file_type_with_article(a):null;a&&(this._current_composing_msg.mime_type=a),s=e?n.getString("chat_state_composing_upload_filetype",[e]):n.getString("chat_state_composing_upload"),this._chatstate_show_timeout=setTimeout(()=>{this.showChatState()},o.CHATSTATE_TIMEOUT_PAUSED_AUDIO)}else"voice"==t&&(s=n.getString("chat_state_composing_voice")),"video"==t&&(s=n.getString("chat_state_composing_video")),this._chatstate_show_timeout=setTimeout(()=>{this.showChatState("paused",t)},o.CHATSTATE_TIMEOUT_PAUSED_AUDIO);s?this.bottom.showChatNotification(`${this.contact.get("name")} ${s}`):this.bottom.showChatNotification(),this.chat_item.$(".last-msg").text(s),this.chat_item.$(".last-msg-date").text(r.pretty_short_datetime()).attr("title",b()),this.chat_item.$(".msg-delivering-state").addClass("hidden")},updateMentions:function(e){e.get("mentions")&&e.get("mentions").forEach(t=>{let a=t.target||"";if(this.contact.get("group_chat")||e.get("groupchat_jid")){let e=a.match(/\?id=\w*/),i=a.match(/\?jid=.*/);e&&this.contact.my_info?(a=e[0].slice(4),a===this.contact.my_info.get("id")&&(t.me=!0)):i&&(a=i[0].slice(5),a===this.account.get("jid")&&(t.me=!0))}else a=a.slice(5),a===this.account.get("jid")&&(t.me=!0)})},onMessage:function(e){this.updateMentions(e),this.account.messages.add(e);let t=this.isScrolledToBottom(),a=this.getScrollBottom();m.isUndefined(e.get("is_accepted"))||this.model.set("is_accepted",!1),this.model.set("opened",!0),!e.get("is_archived")&&e.get("stanza_id")&&this.model.set("last_archive_id",e.get("stanza_id")),e.get("participants_version")&&this.contact.participants&&this.contact.participants.version<e.get("participants_version")&&this.contact.trigger("update_participants");let i=this.addMessage(e);"file_upload"===e.get("type")&&this.startUploadFile(e,i),this.isVisible()&&(t||e.get("submitted_here")?this.scrollToBottom():(this.updateScrollBar(),this.scrollTo(this.ps_container[0].scrollHeight-this.ps_container[0].offsetHeight-a))),e.get("synced_from_server")||e.get("is_archived")||(!(e.isSenderMe()||e.get("silent")||"system"===e.get("type")&&!e.get("auth_request"))&&(e.set("is_unread",!(this.model.get("display")&&n.get("focused"))),!e.get("is_unread")&&this.model.sendMarker(e.get("msgid"),"displayed",e.get("stanza_id"),e.get("contact_stanza_id")),!n.get("focused")&&(this.model.get("saved")||this.model.isMuted()?e.set("muted",!0):!e.get("synced_invitation_from_server")&&this.notifyMessage(e)),this.model.setMessagesDisplayed(e.get("timestamp"))),this.contact&&this.model.get("archived")&&(this.model.isMuted()?e.set("archived",!0):(this.head.archiveChat(),this.model.set("archived",!1))),this.model.get("saved")&&(e.set("muted",!0),e.set("state",o.MSG_DISPLAYED))),e.get("attention")&&this.attentionMessage(e),e.isSenderMe()&&(!e.get("is_archived")&&!e.get("missed_msg")&&this.readMessages(e.get("timestamp")),this.model.get("last_displayed_id")>=e.get("stanza_id")&&e.get("stanza_id")!==e.get("origin_id")?e.set("state",o.MSG_DISPLAYED):e.get("stanza_id")!==e.get("origin_id")&&(this.model.get("last_delivered_id")>=e.get("stanza_id")||e.get("is_archived"))&&e.set("state",o.MSG_DELIVERED)),(e.get("private_invite")||e.get("invite"))&&(!(this.contact.invitation&&this.contact.invitation.message.get("timestamp")>e.get("timestamp"))&&(this.contact.invitation=new n.GroupchatInvitationView({model:this.contact,message:e})),this.model.contact.set("invitation",!0),this.model.get("active")&&this.model.contact.trigger("open_chat",this.model.contact),e.set("is_unread",!1));let s=this.model.last_message;(!s||e.get("timestamp")>=s.get("timestamp"))&&(this.model.last_message=e,this.chat_item.updateLastMessage()),e.get("mentions")&&e.get("mentions").forEach(t=>{let a=t.target||"",i=a.match(/\?id=\w*/),n=a.match(/\?jid=.*/);a=i?i[0].slice(4):n?n[0].slice(5):"",this.contact.my_info?a===this.contact.my_info.get("id")&&this.account.mentions.create(null,{message:e,contact:this.contact}):this.contact.get("group_chat")&&(this._pending_my_info?this._pending_my_info.done(()=>{a===this.contact.my_info.get("id")&&this.account.mentions.create(null,{message:e,contact:this.contact}),this._pending_my_info=null}):(this._pending_my_info=new c.Deferred,this.contact.getMyInfo(()=>{a===this.contact.my_info.get("id")&&this.account.mentions.create(null,{message:e,contact:this.contact}),this._pending_my_info.resolve()}))),(a===this.account.get("jid")||""===a)&&this.account.mentions.create(null,{message:e,contact:this.contact})})},decryptImages:function(e,t){let a=this.getScrollBottom(),i=e.get("unique_id");if(this.model.get("encrypted")||e.get("encrypted")||t){let t=e.get("images")||[];t.length&&t.forEach(e=>{let t=e.sources[0];e.key&&this.model.messages.decryptFile(t,e.key).then(e=>{if(null!==e){let n=this.$(`.chat-message[data-uniqueid="${i}"] img[src="${t}"]`);n.length&&(n[0].src=e,n[0].onload=()=>{a?this.scrollTo(this.ps_container[0].scrollHeight-a):this.scrollToBottom()},n.attr("data-mfp-src",e))}})});let n=e.get("forwarded_message")||[];n.forEach(e=>{let t=e.get("images")||[],n=e.get("unique_id");t.forEach(e=>{let t=e.sources[0];e.key&&this.model.messages.decryptFile(t,e.key).then(e=>{if(null!==e){let s=this.$(`.chat-message[data-uniqueid="${i}"] .fwd-message[data-uniqueid="${n}"] img[src="${t}"]`);s.length&&(s[0].src=e,s[0].onload=()=>{a?this.scrollTo(this.ps_container[0].scrollHeight-a):this.scrollToBottom()},s.attr("data-mfp-src",e))}})})})}},addMessage:function(e){let t=this.buildMessageHtml(e),a=this.model.messages.indexOf(e);0===a?t.prependTo(this.$(".chat-content")):t.insertAfter(this.$(".chat-message").eq(a-1));let i=t.nextAll(".chat-message").first();return this.updateMessageInChat(t[0]),i.length&&this.updateMessageInChat(i[0]),this.initPopup(t),this.bottom.showChatNotification(),t},initPopup:function(e){let t=e.find(".uploaded-img"),a=e.find(".uploaded-img-for-collage");t.length&&t.each((e,t)=>{this.initMagnificPopup(c(t))}),a.length&&this.initZoomGallery(e)},getImagesInformation:function(e){let t=e.get("images"),a=[];if(t)return t.forEach(e=>{let t=new URL(e.sources[0]).hostname;e.pretty_size=r.pretty_size(e.size),a.push(t)}),a=[...new Set(a)],{images:t,servers:a}},initMagnificPopup:function(e){let t=this;e.magnificPopup({type:"image",closeOnContentClick:!0,fixedContentPos:!0,mainClass:"mfp-no-margins mfp-with-zoom",image:{verticalFit:!0,titleSrc:function(e){return"<a class=\"image-source-link\" href=\""+e.el.attr("src")+"\" target=\"_blank\">"+t.model.messages.getFilename(e.el.attr("src"))+"</a> "+e.el.attr("title")}},zoom:{enabled:!0,duration:300}})},initZoomGallery:function(e){let t=this;e.find(".zoom-gallery").magnificPopup({delegate:"img",type:"image",closeOnContentClick:!1,closeBtnInside:!1,mainClass:"mfp-with-zoom mfp-img-mobile",image:{verticalFit:!0,titleSrc:function(e){return"<a class=\"image-source-link\" href=\""+e.el.attr("src")+"\" target=\"_blank\">"+t.model.messages.getFilename(e.el.attr("src"))+"</a> "+e.el.attr("title")}},gallery:{enabled:!0},zoom:{enabled:!0,duration:300,opener:function(e){return e}}})},updateMessage:function(e){let t=e.get("images"),a=e.get("only_emoji"),i=e.get("files"),s,o;if(e instanceof n.Message)this.updateMentions(e),o=this.buildMessageHtml(e),s=this.$(`.chat-message[data-uniqueid="${e.get("unique_id")}"]`);else return;if(s.replaceWith(o),s=this.$(`.chat-message[data-uniqueid="${e.get("unique_id")}"]`),this.updateMessageInChat(s[0]),this.initPopup(s),this.bottom.showChatNotification(),e.get("data_form")){let t=r.render_data_form(e.get("data_form"));s.find(".chat-msg-content").append(t)}let d=r.pretty_short_datetime(e.get("last_replace_time")),c=u(e.get("last_replace_time")).format("D MMMM, YYYY HH:mm:ss"),l=`${b(e.get("time"))} ${n.getString("edited",[u(e.get("timestamp")).startOf("day").isSame(u(e.get("last_replace_time")).startOf("day"))?d:c])}`;s.find(".msg-time").prop("title",l),s.find(".edited-info").removeClass("hidden").text(n.getString("chat_screen__message__label_edited")).prop("title",l)},removeMessage:function(e){let t,a,i;if(e instanceof n.Message)t=e,i=this.$(`.chat-message[data-uniqueid="${e.get("unique_id")}"]`),this.bottom.content_view&&(a=this.bottom.content_view.$(`.chat-message[data-uniqueid="${e.get("unique_id")}"]`));else{if(a=e,!a.length)return;t=this.model.messages.get(a.data("uniqueid"))}t&&t.destroy(),i&&this.removeMessageFromDOM(i),a&&a!==i&&this.removeMessageFromDOM(a)},removeMessageFromDOM:function(e){if(e.hasClass("with-author")&&!e.next().hasClass("with-author")){let t=e.find(".circle-avatar")[0];e.next().addClass("with-author"),e.next().find(".circle-avatar").replaceWith(t)}e.prev(".chat-day-indicator").remove(),e.remove(),this.bottom.manageSelectedMessages(),this._clearing_history||this.updateScrollBar()},clearHistory:function(){let e=[],t=this.contact.get("group_chat")?n.getString("clear_group_chat_history_dialog_message"):n.getString("clear_chat_history_dialog_message");this._clearing_history=!0,this.account.server_features.get(p.NS.REWRITE)?r.dialogs.ask(n.getString("clear_history"),t,e,{ok_button_text:n.getString("clear_chat_history_dialog_button")}).done(e=>e?void this.model.retractAllMessages(!1,()=>{this._clearing_history=!1,this.chat_item.updateLastMessage(),this.updateScrollBar()},()=>{this._clearing_history=!1}):void(this._clearing_history=!1)):r.dialogs.ask(n.getString("clear_history"),`${t}\n${n.getString("dialog_clear_chat_history__warning_deletion_not_supported",[this.account.domain]).fontcolor("#E53935")})`,e,{ok_button_text:n.getString("clear_chat_history_dialog_button")}).done(e=>{if(!e)return void(this._clearing_history=!1);let t=m.clone(this.model.messages.models);t.forEach(e=>{this.removeMessage(e)})})},renderVoiceMessage:function(t,a){let i=t.innerHTML,s="waveform"+u.now(),o=c(t),l=o.closest(".link-file");o.addClass("voice-message-rendering").html(c(d.messages.audio_file_waveform({waveform_id:s})));let p=this.createAudio(a,s);return p.on("ready",()=>{let t=e(p.getDuration());o.find(".voice-msg-total-time").text(r.pretty_duration(t)),p.play()}),p.on("error",()=>{o.removeClass("voice-message-rendering"),t.innerHTML=i,p.unAll(),o.find(".voice-message-play").get(0).remove(),r.callback_popup_message(n.getString("jingle__error__audio_not_supported"),3e3)}),p.on("play",()=>{l.addClass("playing");let t=setInterval(function(){let a=e(p.getCurrentTime());p.isPlaying()?o.find(".voice-msg-current-time").text(r.pretty_duration(a)):clearInterval(t)},100)}),p.on("finish",()=>{l.removeClass("playing")}),p.on("pause",()=>{l.removeClass("playing")}),o.find(".voice-message-volume")[0].onchange=()=>{p.setVolume(o.find(".voice-message-volume").val()/100)},p},createImageGrid:function(e){let t;if(6<e.images.length){let a="template-for-6",i=e.images.length-5;n.settings.load_media||(a="hidden-template-for-6"),t=c(d.messages[a](e)),t.find(".last-image").addClass("hidden-images"),t.find(".image-counter").text("+"+i)}else{let a="template-for-"+e.images.length;n.settings.load_media||(a="hidden-template-for-"+e.images.length),t=c(d.messages[a](e))}return n.settings.load_media||t.find("img").removeClass("uploaded-img-for-collage popup-img").addClass("unloaded-img"),t},buildMessageHtml:function(e){let t=m.clone(e.attributes),a=!!(e instanceof n.Message)&&e.isSenderMe(),i=t.user_info||{},s=t.images,o=t.videos,l=e.get("only_emoji"),u=t.files,g=t.locations,h=!m.isUndefined(o),v=!m.isUndefined(s),f=!!g,A=!!u,x=!1,w=i.avatar,k=i.avatar_url,S=i.role,C=i.badge,M=i.id,L=t.has_encrypted_files,T,E;if(T=i.nickname||this.model.get("saved")&&this.account.get("name")||t.from_jid===this.contact.get("jid")&&this.contact.get("name"),T||(a?this.model.get("group_chat")?this.contact.my_info?T=this.contact.my_info.get("nickname"):this.contact?this.contact.getMyInfo(()=>{T=this.contact.my_info.get("nickname"),Y&&Y.children(".msg-wrap").find(".chat-msg-author-wrap .chat-msg-author").text(p.xmlescape(T))}):T=this.account.get("name"):T=this.account.get("name"):T=this.account.contacts.get(t.from_jid)?this.account.contacts.get(t.from_jid).get("name"):t.from_jid),T=p.xmlescape(T||""),a&&this.model.get("group_chat")&&this.contact.my_info&&(S=this.contact.my_info.get("role"),C=this.contact.my_info.get("badge")),m.extend(t,{username:T,state:e instanceof n.Message?e.getState():"sent",verbose_state:e instanceof n.Message?e.getVerboseState():"sent",time:b(t.time),short_time:r.pretty_time(t.time),avatar_id:w,avatar_url:k,is_image:v,is_video:h,is_file:A,is_location:f,files:u,locations:g,role:r.pretty_name(S),badge:C,from_id:M}),t.encrypted=t.encrypted||this.model.get("encrypted"),"file_upload"===t.type)return c(d.messages.file_upload(t));if("system"===t.type){let e=t.invite?"group_request":"system";return c(d.messages[e](t))}v&&1<s.length&&(E=this.createImageGrid(t));let D=[t.forwarded_message&&"forwarding",t.encrypted||this.model.get("encrypted")?"encrypted":""],I=r.markupBodyMessage(e),Y;if(t.searched_message){let e=new RegExp("(.{0,12})("+t.query+")(.{0,12})","gmius"),a=e.exec(I);a&&(12==a[1].length&&(a[1]="..."+a[1].substring(1)),12==a[3].length&&(a[3]=a[3].substring(0,a[3].length-1)+"..."),I=a[1]+"<span class=\"mention ground-color-100\">"+a[2]+"</span>"+a[3],I=I.replace(/\n/g," "))}if(Y=this.model.get("saved")&&!I.length&&t.forwarded_message&&1==t.forwarded_message.length?c(d.messages.saved_main(m.extend(t,{classlist:D.join(" ")}))):t.searched_message?c(d.messages.searched(m.extend(t,{is_sender:a,message:I,msg_time:r.pretty_short_datetime_recent_chat(t.time),classlist:D.join(" ")}))):c(d.messages.main(m.extend(t,{is_sender:a,message:I,classlist:D.join(" ")}))),t.hasOwnProperty("is_trusted")&&Y.attr("data-trust",t.is_trusted),v&&(1<s.length&&(Y.find(".chat-msg-media-content").html(E),!n.settings.load_media&&Y.find(".img-content-template").first().append(c("<div class=\"img-privacy-warning\"/>").text(n.getString("load_image_privacy_warning")))),1==s.length)){let e=this.createImage(s[0]),t=this.createImageContainer(s[0]);e.onload=()=>{this.imageOnload(Y)},Y.find(".chat-msg-media-content").html(c(t).html(e)),n.settings.load_media||Y.find(".img-content").append(c("<div class=\"img-privacy-warning\"/>").text(n.getString("load_image_privacy_warning"))),this.updateScrollBar()}if(h){let e=this.createVideoContainer();Y.find(".chat-msg-media-content").append(e),o.forEach(e=>{let t=this.createVideo(e);Y.find(".video-content").append(t)}),this.videoOnload(Y),Y.removeClass("file-upload noselect")}if(A&&0<u.length){let e=m.clone(u),t;c(e).each((a,i)=>{let s=m.clone(e[a]);i.type&&(i.voice?x=!0:x=!1),1===e.length&&x&&(i.name=n.getString("voice_message"));let o=r.file_type_icon(i.type);m.extend(s,{is_audio:x,duration:r.pretty_duration(s.duration),mdi_icon:o,size:r.pretty_size(s.size)}),t=x?c(d.messages.audio_file(s)):c(d.messages.file(s)),Y.find(".chat-msg-media-content").append(t)})}if(f&&0<g.length){let e=m.clone(g),t;c(e).each(a=>{let i=m.clone(e[a]);m.extend(i,{id:"_"+Math.random().toString(36).substr(2,9)}),n.settings.mapping_service?(t=c(d.messages.location(i)),Y.find(".chat-msg-location-content").attr("lon",i.lon),Y.find(".chat-msg-location-content").attr("lat",i.lat),Y.find(".chat-msg-location-content").append(t),this.locationOnload(Y)):Y.find(".chat-msg-content").append("<a class=\"location-link\" href=\"geo:"+i.lat+","+i.lon+"\">"+n.getString("recent_chat__last_message__locations_plural_0")+"</a>")})}if(e.get("data_form")){let t=r.render_data_form(e.get("data_form"));Y.find(".chat-msg-content").append(t)}if(t.forwarded_message&&!t.searched_message?(c(t.forwarded_message).each((e,i)=>{a=i.isSenderMe(),t=m.clone(i.attributes);let s=t.images&&t.images.length,o=s?m.clone(t.images):void 0,l=!!t.videos,u=!!t.files,g=!!t.locations,h=t.user_info||{},v=h.avatar,f=h.avatar_url,A=r.pretty_name(h.role),w=h.badge,k=h.id,S=t.from_jid,C,M;L||(L=t.has_encrypted_files),T=a?p.xmlescape(h.nickname||this.account.get("name")):p.xmlescape(h.nickname||h.id||this.account.contacts.mergeContact({jid:S}).get("name"));let D=r.markupBodyMessage(i),I=c(d.messages.forwarded(m.extend(t,{time:b(t.time),short_time:r.pretty_short_month_date(t.time),username:T,avatar_id:v,avatar_url:f,message:D,is_file:u,is_location:g,is_audio:M,role:A,badge:w,from_id:k})));if(this.model.get("saved")&&Y.hasClass("saved-main")&&I.append(Y.children(".right-side").clone()),i.get("forwarded_message")){let e=i.get("forwarded_message").length,a=n.getQuantityString("forwarded_messages_count",e);I.children(".msg-wrap").children(".fwd-msgs-block").append(c("<a/>",{class:"collapsed-forwarded-message","data-uniqueid":t.unique_id}).text(a))}if(s&&(1<o.length&&(E=this.createImageGrid(t),I.find(".chat-msg-media-content").html(E),!n.settings.load_media&&I.find(".img-content-template").first().append(c("<div class=\"img-privacy-warning\"/>").text(n.getString("load_image_privacy_warning")))),1==o.length)){C=this.createImage(o[0]),C.onload=()=>{this.imageOnload(Y)};let e=this.createImageContainer(o[0]);I.find(".chat-msg-media-content").html(c(e).html(C)),n.settings.load_media||I.find(".img-content").append(c("<div class=\"img-privacy-warning\"/>").text(n.getString("load_image_privacy_warning")))}if(l){let e=this.createVideoContainer();I.find(".chat-msg-media-content").append(e),t.videos.forEach(e=>{let t=this.createVideo(e);I.find(".video-content").append(t)}),this.videoOnload(Y),I.removeClass("file-upload noselect")}if(u&&0<t.files.length){let e=m.clone(t.files),a;s||c(e).each((t,i)=>{let s=m.clone(e[t]);i.type&&(i.voice?x=!0:x=!1),1===e.length&&x&&(i.name=n.getString("voice_message"));let o=r.file_type_icon(i.type);m.extend(s,{is_audio:x,duration:r.pretty_duration(s.duration),mdi_icon:o,size:r.pretty_size(s.size)}),a=x?c(d.messages.audio_file(s)):c(d.messages.file(s)),I.find(".chat-msg-media-content").append(a)})}if(g&&0<t.locations.length){let e=m.clone(t.locations),a;c(e).each(t=>{let i=m.clone(e[t]);m.extend(i,{id:"_fwd"+Math.random().toString(36).substr(2,9)}),n.settings.mapping_service?(a=c(d.messages.location(i)),I.find(".chat-msg-location-content").attr("lon",i.lon),I.find(".chat-msg-location-content").attr("lat",i.lat),I.find(".chat-msg-location-content").append(a)):I.find(".chat-msg-content").append("<a class=\"location-link\" href=\"geo:"+i.lat+","+i.lon+"\">"+n.getString("recent_chat__last_message__locations_plural_0")+"</a>")})}if(i.get("data_form")){let e=r.render_data_form(i.get("data_form"));I.find(".chat-msg-content").append(e)}Y.children(".msg-wrap").length?Y.children(".msg-wrap").children(".fwd-msgs-block").append(I):Y.children(".fwd-msgs-block").append(I)}),this.updateScrollBar(),this.model.get("saved")&&Y.hasClass("saved-main")&&Y.children(".right-side").remove()):Y.find(".fwd-msgs-block").remove(),(t.encrypted||this.model.get("encrypted")||L)&&this.decryptImages(e,L),t.searched_message){let e="";if(e=t.forwarded_message?n.getQuantityString("forwarded_messages_count",t.forwarded_message.length):"",A&&v&&u.length&&s.length)e=n.getString("recent_chat__last_message__attachments",[u.length+s.length]);else{if(A&&1==u.length&&(u[0].is_audio||u[0].voice))e=`${n.getString("voice_message")}, `+r.pretty_duration(u[0].duration);else if(A&&0<u.length){let t=0;u.forEach(e=>{t+=+e.size}),e=n.getQuantityString("recent_chat__last_message__files",u.length)+(0<t?`, ${r.pretty_size(t)}`:"")}if(v&&0<s.length){let t=0;s.forEach(e=>{t+=+e.size}),e=n.getQuantityString("recent_chat__last_message__images",s.length)+(0<t?`, ${r.pretty_size(t)}`:"")}f&&0<g.length&&(e=n.getQuantityString("recent_chat__last_message__locations",g.length))}e&&Y.find(".chat-msg-content").text(e)}return Y.hyperlinkify({selector:".chat-text-content"}).emojify(".chat-text-content",{tag_name:"div",emoji_size:r.emoji_size(l)}).emojify(".chat-msg-author-badge",{emoji_size:16})},getDateIndicator:function(e){let t=u(e).startOf("day");return c("<div class=\"chat-day-indicator one-line noselect\""+(this.model.get("encrypted")?" data-trust=\""+(this.bottom.$el.attr("data-trust")||this.bottom.$el.attr("data-contact-trust"))+"\"":"")+" data-time=\""+t.format("x")+"\">"+f(t)+"</div>")},hideMessageAuthor:function(e){e.removeClass("with-author")},showMessageAuthor:function(e){if(e.hasClass("system"))return;e.addClass("with-author");let t=e.find(".left-side .circle-avatar"),a=e.data("from"),i;if(a===this.account.get("jid"))this.model.get("group_chat")&&this.contact.my_info&&(i=this.contact.my_info.get("b64_avatar"),i?i=h.getCachedImage(i):(this.account.cached_image&&(i=this.account.cached_image),!i&&(i=h.getDefaultAvatar(this.contact.my_info.get("nickname"))))),i||(i=this.account.cached_image);else if(this.model.get("group_chat")){let t=e.find(".msg-wrap .chat-msg-author").text();i=h.getDefaultAvatar(t)}else{let t=this.account.contacts.get(e.data("from"))||e.find(".msg-wrap .chat-msg-author").text()||e.data("from");i=t.cached_image||h.getDefaultAvatar(t)}if(t.setAvatar(i,this.avatar_size),e.data("avatar")&&e.data("from-id"))if(this.account.chat_settings.getHashAvatar(e.data("from-id"))==e.data("avatar")&&this.account.chat_settings.getB64Avatar(e.data("from-id")))t.setAvatar(this.account.chat_settings.getB64Avatar(e.data("from-id")),this.avatar_size);else{let a=this._pending_avatars.find(t=>t.hash==e.data("avatar"));if(a)a.dfd.done(e=>{t.setAvatar(e,this.avatar_size);let i=this._pending_avatars.indexOf(a);-1<i&&this._pending_avatars.splice(i,1)});else if(e.data("avatar-url"))t.setAvatar(e.data("avatar-url"),this.avatar_size),this.account.chat_settings.updateCachedAvatars(e.data("from-id"),e.data("avatar"),e.data("avatar-url"));else{let a=p.NS.PUBSUB_AVATAR_DATA+"#"+e.data("from-id"),i=new c.Deferred;this._pending_avatars.push({hash:e.data("avatar"),dfd:i}),this.contact.getAvatar(e.data("avatar"),a,a=>{t.setAvatar(a,this.avatar_size),this.account.chat_settings.updateCachedAvatars(e.data("from-id"),e.data("avatar"),a),i.resolve(a)})}}},hideFwdMessageAuthor:function(e){e.removeClass("with-author")},showFwdMessageAuthor:function(e){if(!e.length)return;e.addClass("with-author");let t=e.find(".circle-avatar"),a=e.data("from"),i=a===this.account.get("jid"),n=this.account.contacts.get(a)||a,s;if(i?(this.model.get("group_chat")&&this.contact.my_info&&(s=this.contact.my_info.get("b64_avatar"),s=s?h.getCachedImage(s):this.account.cached_image||h.getDefaultAvatar(this.contact.my_info.get("nickname"))),!s&&(s=this.account.cached_image)):n&&(s=n.cached_image||(this.model.get("group_chat")?h.getDefaultAvatar(e.find(".msg-wrap .fwd-msg-author").text()):h.getDefaultAvatar(n))),t.setAvatar(s,this.avatar_size),t.removeClass("hidden"),e.data("avatar")&&e.data("from-id"))if(this.account.chat_settings.getHashAvatar(e.data("from-id"))==e.data("avatar")&&this.account.chat_settings.getB64Avatar(e.data("from-id")))t.setAvatar(this.account.chat_settings.getB64Avatar(e.data("from-id")),this.avatar_size);else if(e.data("avatar-url"))t.setAvatar(e.data("avatar-url"),this.avatar_size),this.account.chat_settings.updateCachedAvatars(e.data("from-id"),e.data("avatar"),e.data("avatar-url"));else{let a=p.NS.PUBSUB_AVATAR_DATA+"#"+e.data("from-id");this.contact&&this.contact.getAvatar(e.data("avatar"),a,a=>{t.setAvatar(a,this.avatar_size),this.account.chat_settings.updateCachedAvatars(e.data("from-id"),e.data("avatar"),a)})}},updateMessageInChat:function(e){let t=c(e);t.prev(".chat-day-indicator").remove();let a=t.prevAll(".chat-message").first();if(!a.length)return this.getDateIndicator(t.data("time")).insertBefore(t),this.showMessageAuthor(t),void t.find(".fwd-message").each((e,t)=>{this.showFwdMessageAuthor(c(t))});if(t.find(".data-form").length)return void this.showMessageAuthor(t);let i=a.hasClass("system"),n=t.data("from")===a.data("from"),s=u(t.data("time")).startOf("day").isSame(u(a.data("time")).startOf("day"));if(s?i||!n||a.hasClass("saved-main")?this.showMessageAuthor(t):this.hideMessageAuthor(t):(this.getDateIndicator(t.data("time")).insertBefore(t),this.showMessageAuthor(t)),t.hasClass("forwarding")){let e=t.find(".fwd-message");e.each((e,a)=>{let i=c(a),n=0<e?i.prev():[];if(i.switchClass("hide-date",s&&n.length),i.removeClass("hide-time"),n.length){let e=i.data("from")===n.data("from");e?this.hideFwdMessageAuthor(i):this.showFwdMessageAuthor(i)}else this.showMessageAuthor(t),this.showFwdMessageAuthor(i)})}},notifyMessage:function(e){if(n.settings.notifications&&(n.settings.notifications_private&&!this.model.get("group_chat")||n.settings.notifications_group&&this.model.get("group_chat"))){let t=this.model.get("group_chat")&&n.settings.message_preview_group||!this.model.get("group_chat")&&n.settings.message_preview_private?e.getText():n.getString("notification__text_sent_a_message");let a=n.popupNotification({title:this.contact.get("name"),text:t,icon:this.contact.cached_image.url});a.onclick=()=>{window.focus(),this.model.trigger("open")}}if(n.settings.group_sound&&n.settings.notifications_group&&this.model.get("group_chat")){let t;t=e.get("auth_request")?n.settings.sound_on_auth_request:n.settings.sound_on_group_message,n.playAudio(t,!1,n.settings.notifications_volume)}else if(n.settings.private_sound&&n.settings.notifications_private&&!this.model.get("group_chat")){let t;t=e.get("auth_request")?n.settings.sound_on_auth_request:n.settings.sound_on_private_message,n.playAudio(t,!1,n.settings.notifications_volume)}n.recountAllMessageCounter()},attentionMessage:function(){let e=n.popupNotification({title:this.contact.get("name"),text:n.getString("chats_attention"),icon:this.contact.cached_image.url});e.onclick=()=>{window.focus(),this.model.trigger("open")};let t=n.settings.sound_on_attention;n.playAudio(t)},sendMessage:function(e){let a=e.get("message"),i="",s=[],d=e.get("forwarded_message"),g=e.get("unique_id"),h=e.get("msgid"),v=l({to:this.model.get("jid"),type:"chat",id:h});if(d&&(i=[],c(d).each((e,t)=>{let n=Array.from(m.escape(m.unescape(this.bottom.createTextMessage([t],">")))+(e!==d.length-1||a.length?"\n":"")),o=i.length,r=c(t.get("xml")).clone(),l=i.concat(n).length;r.attr("from")||r.attr("from",this.account.get("jid")),v.c("reference",{xmlns:p.NS.REFERENCE,type:"mutable",begin:o,end:l}).c("forwarded",{xmlns:"urn:xmpp:forward:0"}).c("delay",{xmlns:"urn:xmpp:delay",stamp:t.get("time")}).up().cnode(r[0]).up().up().up(),i=i.concat(n),s.push({start:o,end:l,type:"forward"})}),a=m.unescape(i.join(""))+a),e.get("mentions")&&e.get("mentions").length&&e.get("mentions").forEach(e=>{let t={xmlns:p.NS.MARKUP};e.is_gc&&(t.node=p.NS.GROUP_CHAT),v.c("reference",{xmlns:p.NS.REFERENCE,begin:e.start+i.length,end:e.end+i.length,type:"decoration"}).c("mention",t).t(e.target).up().up()}),e.get("markups")&&e.get("markups").forEach(e=>{for(let t in v.c("reference",{xmlns:p.NS.REFERENCE,begin:e.start+i.length,end:e.end+i.length,type:"decoration"}),e.markup)v.c(e.markup[t],{xmlns:p.NS.MARKUP}).up();v.up()}),e.get("blockquotes")&&e.get("blockquotes").forEach(e=>{v.c("reference",{xmlns:p.NS.REFERENCE,begin:e.start+i.length,end:e.end+i.length,type:"decoration"}).c("quote",{xmlns:p.NS.MARKUP}).up().up()}),"file_upload"==e.get("type")){a="";let t=e.get("files")||[],n=e.get("images")||[],o=e.get("videos")||[],d=t.concat(n);d=d.concat(o),d.forEach((e,t)=>{i=e.sources[0]+(t==d.length-1?"":"\n");let n=a.length,o=(a+i).length;v.c("reference",{xmlns:p.NS.REFERENCE,type:"mutable",begin:n,end:o}),e.voice&&v.c("voice-message",{xmlns:p.NS.VOICE_MESSAGE}),v.c("file-sharing",{xmlns:p.NS.FILES}).c("file"),e.type&&v.c("media-type").t(e.type).up(),e.name&&v.c("name").t(e.name).up(),e.size&&v.c("size").t(e.size).up(),e.height&&v.c("height").t(e.height).up(),e.width&&v.c("width").t(e.width).up(),e.duration&&v.c("duration").t(e.duration).up(),e.description&&v.c("desc").t(e.description).up(),v.up().c("sources"),e.sources.forEach(t=>{e.key&&(t=t.replace(/^(https|http)/,"aescbc")+"#"+r.ArrayBuffertoBase64(e.key)),v.c("uri").t(t).up()}),v.up().up().up(),e.voice&&v.up(),a+=i,s.push({start:n,end:o})}),e.set({type:"main"})}if(s.length&&e.set({mutable_content:s}),this.account._pending_messages.push({chat_hash_id:this.model.id,unique_id:g}),e.set("original_message",a),a&&v.c("body").t(a).up(),v.c("markable").attrs({xmlns:p.NS.CHAT_MARKERS}).up().c("origin-id",{id:h,xmlns:"urn:xmpp:sid:0"}).up(),e.set({xml:c(v.tree()).clone()[0]}),e.get("state")===o.MSG_ERROR&&(v.c("retry",{xmlns:p.NS.DELIVERY}).up(),e.set("state",o.MSG_PENDING)),v.toString().length>=o.STANZA_MAX_SIZE)return r.dialogs.error(n.getString("message__error_big_stanza")),void this.removeMessage(e);if(e.get("encrypted")&&this.account.omemo)return v.c("envelope",{xmlns:p.NS.SCE}).c("content"),c(v.tree()).children("body").length&&(v.cnode(c(v.tree()).children("body")[0]).attrs({xmlns:p.NS.CLIENT}).up(),c(v.tree()).children("body").detach()),c(v.tree()).children("reference").length&&(c(v.tree()).children("reference").each(e=>{v.cnode(c(v.tree()).children("reference")[e]).up()}),c(v.tree()).children("reference").detach()),v.up().c("rpad").t("0".repeat(200).slice(1,t(198*Math.random()+1))).up(),v.c("from",{jid:this.account.get("jid")}).up().up(),void this.account.omemo.encrypt(this.contact,v).then(t=>{t&&(v=t.message,e.set("trusted",t.is_trusted));let a=u.now();this.account.sendFast(v,this.msgCallback.bind(this,a,e))});else{let t=u.now();this.account.sendFast(v,this.msgCallback.bind(this,t,e))}},msgCallback:function(e,t){if(this.bottom.click_counter=0,this.bottom.setDefaultPlaceholder(),!this.model.get("group_chat")&&!this.account.server_features.get(p.NS.DELIVERY))setTimeout(()=>{this.account.last_stanza_timestamp>e&&t.get("state")===o.MSG_PENDING?t.set("state",o.MSG_SENT):(this.account.connection.ping.ping(this.account.get("jid"),()=>{t.get("state")===o.MSG_PENDING&&t.set("state",o.MSG_SENT)}),setTimeout(()=>{this.account.last_stanza_timestamp<e&&t.get("state")===o.MSG_PENDING&&t.set("state",o.MSG_ERROR)},5e3))},1e3);else{let a=5,i=setInterval(()=>{this.account.last_stanza_timestamp<e&&60<a&&t.get("state")===o.MSG_PENDING||60<a?(t.set("state",o.MSG_ERROR),clearInterval(i)):t.get("state")!==o.MSG_PENDING&&clearInterval(i),a+=10},1e4)}},initJingleMessage:function(e){n.current_voip_call&&n.current_voip_call.destroy(),e=e||{},e=e.video?"video":"audio";let t=g();n.current_voip_call=new n.JingleMessage({session_id:t,video_live:"video"===e},{contact:this.contact}),n.current_voip_call.startCall(),n.current_voip_call.modal_view.show({status:o.JINGLE_MSG_PROPOSE})},saveForwardedMessage:function(e){let t=null;return c(e).get("forwarded_message")&&(t=c(e).get("forwarded_message"),0>this.account.forwarded_messages.indexOf(t)&&(t=this.saveForwardedMessage(t))),e=this.account.forwarded_messages.create(m.extend({is_forwarded:!0,forwarded_message:t},e.attributes)),e},onSubmit:function(e,t,a){a=a||{};let i={from_jid:this.account.get("jid"),message:e,mentions:a.mentions,blockquotes:a.blockquotes,markups:a.markup_references,encrypted:this.model.get("encrypted"),submitted_here:!0,forwarded_message:null},s=new c.Deferred;s.done(()=>{if(t.length||""!==e.removeEmoji()||(i.only_emoji=Array.from(e).length),t.length){let e=[];m.each(t,t=>{0>this.account.forwarded_messages.indexOf(t)&&(t=this.saveForwardedMessage(t)),e.push(t)}),i.forwarded_message=e;let a=this.model.messages.create(i);this.sendMessage(a)}else if(e){let e=this.model.messages.create(i);this.sendMessage(e)}this.contact&&this.model.get("archived")&&!this.model.isMuted()&&(message.set("muted",!1),this.head.archiveChat(),this.model.set("archived",!1),n.chats_view.updateScreenAllChats()),this.model.get("group_chat")&&n.toolbar_view.$(".active").hasClass("chats")&&this.contact&&!this.model.isMuted()&&!this.model.get("archived")&&n.chats_view.updateScreenAllChats(),n.chats_view.scrollToTop(),n.chats_view.clearSearch()}),this.contact&&this.contact.get("group_chat")&&!this.contact.my_info?this.contact.getMyInfo(()=>{s.resolve()}):s.resolve()},addFileMessage:function(e){let t=[],a=0;if(this.model.messages_view&&this.model.messages_view.data.get("visible")&&this.model.messages_view.openChat(),10<e.length)return void r.dialogs.error(n.getString("too_many_files_at_once"));let i=this.account.server_features.get(p.NS.HTTP_UPLOAD);if(!i)return void r.dialogs.error(n.getString("error_file_upload_not_support",[this.account.domain]));let s=new c.Deferred;s.done(e=>{this.model.messages.create({from_jid:this.account.get("jid"),type:"file_upload",files:e,encrypted:this.model.get("encrypted"),upload_service:i.get("from"),message:"Uploading file",submitted_here:!0})}),c(e).each((i,n)=>{if(r.isImageType(n.type)){let i=new FileReader,o=new c.Deferred;h.compressImage(n).done(n=>{i.readAsDataURL(n),o.done(i=>{i&&(n.height=i.height,n.width=i.width),i.encrypted_file?t.push(i.encrypted_file):t.push(n),a++,a===e.length&&s.resolve(t)})}),i.onload=t=>{if(this.model.get("encrypted"))this.encryptFile(t.target.result).then(e=>{let a=e.keydata,i=new File([e.payload],n.name,{type:n.type});if(i.key=a,"image/svg+xml"===i.type)o.resolve({encrypted_file:i,key:a});else{let e=new Image;e.onload=function(){let e=this.height,t=this.width;o.resolve({height:e,width:t,encrypted_file:i,key:a})},e.src=t.target.result}});else if("image/svg+xml"===n.type)o.resolve();else{let e=new Image;e.onload=function(){let e=this.height,t=this.width;o.resolve({height:e,width:t})},e.src=t.target.result}}}else if(this.model.get("encrypted")){let i=new FileReader;i.onload=i=>{this.encryptFile(i.target.result).then(i=>{let o=i.keydata,d=new File([i.payload],n.name,{type:n.type});n.voice&&(d.voice=!0),n.duration&&(d.duration=n.duration),d.key=o,t.push(d),a++,a===e.length&&s.resolve(t)})},i.readAsDataURL(n)}else t.push(n),a++,a===e.length&&s.resolve(t)})},startUploadFile:function(e,t){t.emojify(".chat-msg-author-badge",{emoji_size:16}),t.find(".cancel-upload").show(),t.find(".repeat-upload").hide(),t.find(".status").hide(),t.find(".progress").show();let a=0;c(e.get("files")).each((s,d)=>{let l=new File([d],d.iv&&d.key?g().replace(/-/g,""):d.name);l.iv&&delete l.iv,l.key&&delete l.key;let m=i({type:"get",to:e.get("upload_service")}).c("request",{xmlns:p.NS.HTTP_UPLOAD}).c("filename").t(l.name).up().c("size").t(l.size).up().c("content-type").t(l.type).up(),h=new c.Deferred,v=this;this.account.sendIQ(m,function(e){let t=c(e).find(`slot[xmlns="${p.NS.HTTP_UPLOAD}"]`);h.resolve({get_url:t.find("get").text(),put_url:t.find("put").text()})},function(a){let i=c(a).find(`error text[xml\\:lang="${n._settings.get("language")}"]`).text(),s=c(a).find("error").attr("type");i||(i=c(a).find(`error text`).text()),v.onFileNotUploaded(e,t,i,"xmpp")});let f=u.now(),b=10,A=setInterval(()=>{this.account.last_stanza_timestamp<f&&60<b&&e.get("state")===o.MSG_PENDING||60<b?(e.set("state",o.MSG_ERROR),clearInterval(A)):e.get("state")!==o.MSG_PENDING&&clearInterval(A),b+=10},1e4);h.done(i=>{clearInterval(A);let o=new XMLHttpRequest,d=t.find(".progress");t.find(".cancel-upload").click(()=>{o.abort()}),o.onabort=()=>{this.removeMessage(t)},o.upload.onprogress=e=>{let a=e.loaded/e.total;d.find(".determinate").attr("style","width: "+100*a+"%"),t.find(".filesize").text(n.getString("file_upload__text_progress",[r.pretty_size(e.loaded),r.pretty_size(e.total)]))},o.onload=o.onerror=function(){201===this.status?(e.get("files")[s].url=i.get_url,a++,a==e.get("files").length&&v.onFileUploaded(e,t)):v.onFileNotUploaded(e,t,this.responseText,"http")},t.data("cancel")?o.abort():(o.open("PUT",i.put_url,!0),o.send(l))})})},encryptFile:async function(e){return await r.AES.encrypt(e)},onFileUploaded:function(e,t){let a=e.get("files"),i=this,s=!1,o=[],l=[],p=[],u="";if(c(a).each((e,t)=>{let a={name:t.name,type:t.type,size:t.size,description:t.description||"",sources:[t.url]};t.iv&&(a.iv=t.iv),t.key&&(a.key=t.key),t.voice&&(a.voice=!0),u+=a.sources[0]+"\n",r.isImageType(t.type)?(m.extend(a,{width:t.width,height:t.height}),o.push(a)):r.isVideoType(t.type)?(m.extend(a,{duration:t.duration}),p.push(a)):l.push(a)}),e.set("message",u.trim()),t.find(".chat-msg-content").addClass("chat-msg-media-content").html(),0<o.length)if(1<o.length){let e;if(6<o.length){let t="template-for-6",a=o.length-5;n.settings.load_media||(t="hidden-template-for-6"),e=c(d.messages[t]({images:o})),e.find(".last-image").addClass("hidden-images"),e.find(".image-counter").text("+"+a)}else{let t="template-for-"+o.length;n.settings.load_media||(t="hidden-template-for-"+o.length),e=c(d.messages[t]({images:o}))}n.settings.load_media||e.find("img").removeClass("uploaded-img-for-collage popup-img").addClass("unloaded-img"),t.removeClass("file-upload noselect"),t.find(".chat-msg-content").removeClass("chat-file-content").html(e),n.settings.load_media||t.find(".img-content-template").first().append(c("<div class=\"img-privacy-warning\"/>").text(n.getString("load_image_privacy_warning")))}else{let e=this.createImage(o[0]),a=i.createImageContainer(o[0]);e.onload=()=>{this.imageOnload(t)},t.removeClass("file-upload noselect"),t.find(".chat-msg-content").removeClass("chat-file-content").html(a),t.find(".img-content").html(e),n.settings.load_media||t.find(".img-content").append(c("<div class=\"img-privacy-warning\"/>").text(n.getString("load_image_privacy_warning")))}if(0<p.length){let e=this.createVideoContainer();t.find(".chat-msg-media-content").removeClass("chat-file-content").find(".chat-file-info").remove(),t.find(".chat-msg-media-content").append(e),p.forEach(e=>{let a=this.createVideo(e);t.find(".video-content").append(a)}),this.videoOnload(t),t.removeClass("file-upload noselect")}0<l.length&&(t.removeClass("file-upload noselect"),c(l).each((e,a)=>{e||o.length||t.find(".chat-msg-content").removeClass("chat-file-content").html(""),a.type&&(a.voice?s=!0:s=!1);let i={name:a.name,type:a.type,sources:a.sources},p=r.file_type_icon(a.type),u;1===l.length&&s&&(i.name=n.getString("voice_message")),m.extend(i,{size:r.pretty_size(a.size),is_audio:s,duration:r.pretty_duration(a.duration),mdi_icon:p}),u=s?c(d.messages.audio_file(i)):c(d.messages.file(i)),t.find(".chat-msg-content").append(u)})),this.initPopup(t),e.set("images",o),e.set("videos",p),e.set("files",l),(e.get("encrypted")||this.model.get("encrypted"))&&e.get("images").length&&this.decryptImages(e),this.sendMessage(e),this.scrollToBottom()},createAudio:function(e,t){let a=WaveSurfer.create({container:"#"+t,scrollParent:!1,barWidth:3,height:48,barHeight:48,cursorColor:"rgba(211,47,47,0.8)",autoCenter:!1,normalize:!0,hideScrollBar:!0,progressColor:"#757575"});return a.load(e),a.setVolume(.5),a},createImage:function(e){let t=new Image,a=.7*(.715*n.main_panel.$el.width()-176);return e.height&&(t.height=e.height),e.width&&(t.width=e.width),a=400<a?400:a,n.settings.load_media?(t.src=e.sources[0],c(t).addClass("uploaded-img popup-img")):c(t).addClass("unloaded-img"),c(t).attr({"data-mfp-src":e.sources[0],title:e.description||""}),t.height&&t.width&&(t.width>a&&(t.height*=a/t.width,t.width=a),400<t.height&&(t.width*=400/t.height,t.height=400)),t},updateVolume:function(e,t,a,i,n,s){let o,d;s?o=100*s:(d=n-t.offset().left,o=100*d/t.width()),100<o&&(o=100),0>o&&(o=0),a.css("width",o+"%"),e[0].volume=o/100,0==e[0].volume?i.find("i").removeClass("mdi-volume-high").removeClass("mdi-volume-medium").addClass("mdi-volume-off"):.5<e[0].volume?i.find("i").addClass("mdi-volume-high").removeClass("mdi-volume-medium").removeClass("mdi-volume-off"):i.find("i").removeClass("mdi-volume-high").addClass("mdi-volume-medium").removeClass("mdi-volume-off")},playVideo:function(e,t){e[0].paused?(e[0].play(),t.find(".play-button i").removeClass("mdi-play").addClass("mdi-pause")):(e[0].pause(),t.find(".play-button i").removeClass("mdi-pause").addClass("mdi-play"))},launchFullscreen:function(e){e[0].requestFullscreen?e[0].requestFullscreen():e[0].mozRequestFullScreen?e[0].mozRequestFullScreen():e[0].webkitRequestFullscreen?e[0].webkitRequestFullscreen():e[0].msRequestFullscreen&&e[0].msRequestFullscreen()},updateBar:function(e,t,a,i){let n=i-t.offset().left,s=100*n/a.width();100<s&&(s=100),0>s&&(s=0),t.css("width",s+"%"),e[0].currentTime=e[0].duration*s/100},createVideo:function(e){e.pretty_size=r.pretty_size(e.size);let t=document.createElement("video"),a=c(d.messages.video({video:e}));n.settings.load_media?t.setAttribute("preload","auto"):t.setAttribute("preload","none"),t.height=300,t.controls=!1,t.src=e.sources[0],a.find(".video-container").html(t);let i=a.find("video"),s=a.find(".video-controls"),o=a.find(".bottom-wrapper"),l=a.find(".progress-bar"),p=a.find(".time-bar"),m=a.find(".buffer-bar"),u=a.find(".play-button"),g=a.find(".sound-button"),h=a.find(".volume"),v=a.find(".volume-bar"),f=a.find(".video-fullscreen"),b=a.find(".current"),A=a.find(".duration");i.click(()=>{this.playVideo(i,s)}),u.click(()=>{this.playVideo(i,s)}),i.on("loadedmetadata",()=>{b.text(r.pretty_duration(0)),A.text(r.pretty_duration(i[0].duration).split(".")[0]),this.updateVolume(i,h,v,g,0,.7)}),i.on("timeupdate",()=>{b.text(r.pretty_duration(i[0].currentTime).split(".")[0]),A.text(r.pretty_duration(i[0].duration).split(".")[0]);let e=i[0].currentTime,t=i[0].duration,a=100*i[0].currentTime/i[0].duration;p.css("width",a+"%")}),f.click(()=>{this.launchFullscreen(i)});let x=!1,w=!1;return h.on("mousedown",t=>{x=!0,i[0].muted=!1,g.removeClass("muted"),this.updateVolume(i,h,v,g,t.pageX)}),g.click(()=>{i[0].muted=!i[0].muted,i[0].muted?(g.find("i").addClass("mdi-volume-off"),v.css("width",0)):(g.find("i").removeClass("mdi-volume-off"),v.css("width",100*i[0].volume+"%"))}),l.on("mousedown",t=>{w=!0,this.updateBar(i,p,l,t.pageX)}),c(document).on("mouseup",t=>{x&&(x=!1,this.updateVolume(i,h,v,g,t.pageX)),w&&(w=!1,this.updateBar(i,p,l,t.pageX))}),c(document).on("mousemove",t=>{w&&this.updateBar(i,p,l,t.pageX),x&&this.updateVolume(i,h,v,g,t.pageX)}),a},createImageContainer:function(){return c("<div class=\"img-content\"/>")[0]},createVideoContainer:function(){return c("<div class=\"video-content\"/>")[0]},onFileNotUploaded:function(e,t,a,i,s){let d=a?n.getString("file_upload__error",[a]):n.getString("file_upload__error_default");e.set("state",o.MSG_ERROR),t.find(".cancel-upload").hide(),"http"==i||"wait"==s?(t.find(".repeat-upload").show(),t.find(".repeat-upload").click(()=>{this.startUploadFile(e,t)})):t.find(".btn-retry-send-message").hide(),t.find(".status").text(d).show(),t.find(".progress").hide()},sendChatState:function(e,t){if(!(this.model.get("saved")||this.contact&&"offline"===this.contact.get("status"))){clearTimeout(this._chatstate_timeout),clearTimeout(this._chatstate_send_timeout),this.chat_state=!1;let a=l({to:this.model.get("jid"),type:"chat"}).c(e,{xmlns:p.NS.CHATSTATES});if(this.model.get("encrypted"))if(this.account.settings.get("encrypted_chatstates"))t="encrypted";else return;t&&a.c("subtype",{xmlns:p.NS.EXTENDED_CHATSTATES,type:t}),"composing"===e&&(this.chat_state=!0),this.account.sendMsg(a),"composing"===e&&(this._chatstate_timeout=setTimeout(()=>{this.chat_state=!1},o.CHATSTATE_TIMEOUT_PAUSED),this._chatstate_send_timeout=setTimeout(()=>{!this.chat_state&&n.settings.typing_notifications&&this.sendChatState("paused")},2*o.CHATSTATE_TIMEOUT_PAUSED))}},onChangedMessageTimestamp:function(e){let t=this.$(`.chat-message[data-uniqueid="${e.get("unique_id")}"]`),a=t.next(),i=t.prev();t.attr({"data-time":e.get("timestamp")}),t.detach(),t.children(".right-side").find(".msg-time").attr({title:b(e.get("time"))}).text(r.pretty_time(e.get("time"))),e.get("user_info")&&t.attr("data-from-id",e.get("user_info").id),this.model.messages.sort();let n=this.model.messages.indexOf(e);if(0===n)i.hasClass("chat-day-indicator")?i.after(t):t.prependTo(this.$(".chat-content"));else{let s=this.$(".chat-message").eq(n-1),o=t.data("from")===s.data("from"),d=u(t.data("time")).startOf("day").isSame(u(s.data("time")).startOf("day"));i.data("from")!==t.data("from")&&a.data("from")===t.data("from")&&("delivered"===a.children(".right-side").find(".msg-delivering-state").attr("data-state")||"displayed"===a.children(".right-side").find(".msg-delivering-state").attr("data-state"))&&this.showMessageAuthor(a),s.next().hasClass("chat-day-indicator")&&u(s.next().data("time")).format("DD.MM.YY")===u(e.get("timestamp")).format("DD.MM.YY")?(t.insertAfter(s.next()),this.showMessageAuthor(t)):t.insertAfter(s),e.get("data_form")||e.get("forwarded_message")||!d||!o||s.hasClass("system")||s.hasClass("saved-main")?this.showMessageAuthor(t):this.hideMessageAuthor(t)}let s=this.model.last_message;(!s||e.get("timestamp")>s.get("timestamp"))&&(this.model.last_message=e,this.chat_item.updateLastMessage())},onChangedReadState:function(e){let t=e.get("is_unread"),a=e.get("synced_from_server");t&&!a?(this.model.messages_unread.add(e),this.model.recountUnread()):(this.model.messages_unread.remove(e),this.model.recountUnread(),!e.get("muted")&&n.recountAllMessageCounter())},onTouchMessage:function(e){if(3===e.which)return;let t=c(e.target),a;a=t.hasClass("chat-message")?t:t.parents(".chat-message"),0!=window.getSelection()&&(r.clearSelection(),a.attr("data-no-select-on-mouseup","1"))},onClickLink:function(e){let t=c(e.target),a=t.closest(".chat-message"),i=this.model.messages.get(a.data("uniqueid"));i||(i=this.account.participant_messages.get(a.data("uniqueid")));let s=i.get("files"),o=i.get("videos"),d=i.get("images"),l=[],p="";i.get("forwarded_message")&&i.get("forwarded_message").forEach(e=>{e.get("images")&&l.push(e.get("images"))}),c(s).each(function(e,t){0<e&&(p+="\n"),p+=t.sources[0]}),c(d).each(function(e,t){0<e&&(p+="\n"),p+=t.sources[0]}),c(o).each(function(e,t){0<e&&(p+="\n"),p+=t.sources[0]}),c(l).each(function(e,t){c(t).each(function(e,t){""!=p&&(p+="\n"),p+=t.sources[0]})}),r.copyTextToClipboard(p,n.getString("toast_link_copied"),n.getString("toast__not_copied_in_clipboard"))},onClickLocationLink:function(e){e.preventDefault();let t=c(e.target),a=t.closest(".chat-message"),i=this.model.messages.get(a.data("uniqueid"));i||(i=this.account.participant_messages.get(a.data("uniqueid")));let s=i.get("locations"),o=[],d="";i.get("forwarded_message")&&i.get("forwarded_message").forEach(e=>{e.get("locations")&&o.push(e.get("locations"))}),c(s).each(function(e,t){d+="geo:"+t.lat+","+t.lon}),c(o).each(function(e,t){c(t).each(function(e,t){""!=d&&(d+="\n"),d+="geo:"+t.lat+","+t.lon})}),r.copyTextToClipboard(d,n.getString("toast_location_copied"),n.getString("toast__not_copied_in_clipboard"))},showParticipantProperties:function(e,t){t=t||{};let a=this.contact.participants.get(e);return a?void(this.contact.my_info&&this.contact.my_info.get("id")===e&&(e=""),this.contact.participants.participantsRequest({id:e},e=>{let t=this.account.parseDataForm(c(e).find(`x[xmlns="${p.NS.DATAFORM}"]`));this.contact.showDetailsRight("all-chats",{type:"participant"}),this.contact.details_view_right.participants.participant_properties_panel.open(a,t)})):void this.contact.getBlockedParticipants(i=>{m.extend(t,{present:null,subscription:null}),t.blocked=!!c(i).find(`query user:contains(${e})`).length,a=new n.Participant(t,{contact:this.contact}),this.contact.showDetailsRight("all-chats",{type:"participant"}),this.contact.details_view_right.participants.participant_properties_panel.open(a,{})})},onClickMessage:function(e){let t=c(e.target);if(t.hasClass("file-link-download")){e.preventDefault();let a=this.model.messages.get(t.closest(".chat-message").data("uniqueid")),i=t.attr("href"),s=(a.get("files")||[]).find(e=>e.sources[0]==i);if(s&&s.key)return void this.model.messages.decryptFile(i,s.key).then(e=>{if(null!==e){let t=document.createElement("a");t.href=e,t.download=s.name,t.click()}});n.openWindow(t.attr("href"))}if(!(t.hasClass("msg-delivering-state")||t.hasClass("audio-control-panel")||t.hasClass("voice-msg-current-time")||t.hasClass("voice-msg-total-time"))&&!t.hasClass("mdi-link-variant")&&!t.hasClass("msg-copy-location-content")&&!t.hasClass("btn-retry-send-message")&&!t.hasClass("btn-delete-message")&&!t.hasClass("file-link-download")&&!t.is("canvas")&&!t.hasClass("voice-message-volume")){let a=t.closest(".chat-message"),i=t.parents(".fwd-message").first(),s=0<i.length,o=a.attr("data-no-select-on-mouseup"),l;if(a.attr("data-no-select-on-mouseup",""),t.hasClass("data-form-field"))return l=this.model.messages.get(a.data("uniqueid")),void(l&&this.model.sendDataForm(l,t.attr("id")));if(0!=window.getSelection())return;if(t.hasClass("collapsed-forwarded-message")){let e=this.buildMessageHtml(this.account.forwarded_messages.get(t.data("uniqueid"))),a=new n.ExpandedMessagePanel({account:this.account,chat_content:this});return a.$el.attr("data-color",this.account.settings.get("color")),this.updateMessageInChat(e),this.initPopup(e),void a.open(e)}if(t.hasClass("chat-msg-author")||t.hasClass("fwd-msg-author")){let e=s?i.data("from"):a.data("from"),n=s?i.data("fromId"):a.data("fromId");if(this.contact&&this.contact.get("group_chat")){this.bottom.quill.focus();let a=this.bottom.quill.getSelection(),i={jid:e,id:n,nickname:t.text()};a&&(a=a.index),i.position=a||0,this.bottom.insertMention(i)}else if(e===this.account.get("jid"))this.account.showSettings();else if(e===this.model.get("jid"))this.contact.showDetails("all-chats");else{if(e==n)return;let t=this.account.contacts.mergeContact(e);t.showDetails()}return}if(t.hasClass("circle-avatar")){let e=s?i.data("from"):a.data("from");if(this.model.get("group_chat")){let e=s?i.attr("data-from-id"):a.attr("data-from-id"),t=s?i.attr("data-uniqueid"):a.attr("data-uniqueid"),n=this.model.messages.get(t),o=n&&n.get("user_info");return void(e&&this.showParticipantProperties(e,o))}if(e===this.account.get("jid"))this.account.showSettings();else if(e===this.model.get("jid"))this.contact&&this.contact.showDetails("all-chats");else{let t=this.account.contacts.mergeContact(e);t.showDetails()}return}if(t.hasClass("mention")){let e=t.data("target");if(this.contact.get("group_chat")){if(e&&!this.contact.participants.get(e)){let t=this.contact.participants.find(t=>t.get("jid")===e);t&&(e=t.get("id"))}e&&this.showParticipantProperties(e)}else if(e===this.account.get("jid"))this.account.showSettings();else if(e===this.model.get("jid"))this.contact.showDetails("all-chats");else{let t=this.account.contacts.mergeContact(e);t.showDetails()}return}if(t.hasClass("voice-message-play")||t.hasClass("no-uploaded")){let e=t.closest(".link-file"),a=e.find(".file-link-download").attr("href");if(e.find(".mdi-play").removeClass("no-uploaded"),t.closest(".chat-message").hasClass("encrypted")){let i=this.model.messages.get(t.closest(".chat-message").data("uniqueid")),n=t.closest(".link-file").find(".file-link-download").attr("href"),s=(i.get("files")||[]).find(e=>e.sources[0]==n);s&&s.key&&this.model.messages.decryptFile(a,s.key).then(t=>{null===t||(e[0].voice_message=this.renderVoiceMessage(e.find(".file-container")[0],t),this.prev_audio_message&&this.prev_audio_message.voice_message.pause(),this.prev_audio_message=e[0])})}else e[0].voice_message=this.renderVoiceMessage(e.find(".file-container")[0],a),this.prev_audio_message&&this.prev_audio_message.voice_message.pause(),this.prev_audio_message=e[0];return}if(t.hasClass("mdi-play")&&!(0<t.closest(".video-file-wrap").length)){let e=t.closest(".link-file");return this.prev_audio_message.voice_message.pause(),this.prev_audio_message=e[0],void e[0].voice_message.play()}if(t.hasClass("mdi-pause")&&!(0<t.closest(".video-file-wrap").length))return void this.prev_audio_message.voice_message.pause();if(t.hasClass("msg-hyperlink")){e&&e.preventDefault(),t.blur();let a=t.attr("href");return void r.dialogs.ask(n.getString("open_this_link"),decodeURI(a),null,{ok_button_text:n.getString("open")}).done(e=>{e&&r.openWindow(a)})}if(t.hasClass("uploaded-img")||t.hasClass("img-content")||t.hasClass("uploaded-img-for-collage"))return void(t.hasClass("img-content")&&t.children("img").click());if(t.hasClass("unloaded-img")){let e=this.getImagesInformation(this.model.messages.get(t.closest(".chat-message").data("uniqueid")));return void r.dialogs.ask(n.getString("privacy_risk"),n.getString("privacy_risk_text"),{inverted_buttons:!0,img_details:c(d.messages.images_details({img_information:e}))},{ok_button_text:n.getString("privacy_risk_btn_ok")}).done(e=>{e&&(t.attr("src",t.attr("data-mfp-src")),t.removeClass("unloaded-img"),t.addClass("uploaded-img"),this.initPopup(t.closest(".chat-message")),t.closest(".chat-message").find(".img-privacy-warning").remove())})}if(t.hasClass("img-content-template")&&t.find("img").hasClass("unloaded-img")){let e=this.getImagesInformation(this.model.messages.get(t.closest(".chat-message").data("uniqueid")));return void r.dialogs.ask(n.getString("privacy_risk"),n.getString("privacy_risk_text"),{inverted_buttons:!0,img_details:c(d.messages.images_details({img_information:e}))},{ok_button_text:n.getString("privacy_risk_btn_ok")}).done(e=>{if(e){let e=t.closest(".chat-message"),a=e.find(".img-content-template img");a.each((e,t)=>{c(t).attr("src",c(t).attr("data-mfp-src"))}),a.removeClass("unloaded-img"),a.addClass("uploaded-img-for-collage"),this.initPopup(e),t.closest(".chat-message").find(".img-privacy-warning").remove()}})}if(t.hasClass("chat-msg-location-content")||t.hasClass("location-link")||0<t.closest(".video-file-wrap").length)return;if(t.hasClass("last-image"))return void t.find("img")[0].click();if(t.hasClass("image-counter"))return void t.closest(".last-image").find("img")[0].click();if(a.hasClass("searched-message"))return void this.model.getMessageContext(a.data("uniqueid"),{searched_messages:!0});let p=()=>{let t=a.hasClass("selected")?a.prevAll(".chat-message.selected").last():a.prevAll(".chat-message.selected").first();if(t.length||(t=a.hasClass("selected")?a.nextAll(".chat-message.selected").last():a.nextAll(".chat-message.selected").first()),t.length||(t=a.hasClass("selected")?a.prevAll(".chat-message.selected").first():a.prevAll(".chat-message.selected").last()),(n.shiftctrl_pressed||n.shift_pressed)&&t.length){let i=[],s=a.hasClass("selected");return i=t.attr("data-time")<a.attr("data-time")?t.nextUntil(a,".chat-message:not(.system)"):a.nextUntil(t,".chat-message:not(.system)"),n.shift_pressed&&this.$(".chat-message").removeClass("selected"),t.switchClass("selected",!s),i.switchClass("selected",!s),a.switchClass("selected",!s),e.preventDefault(),this.bottom.manageSelectedMessages(),!1}return o?void 0:(a.switchClass("selected",!a.hasClass("selected")),e.preventDefault(),this.bottom.manageSelectedMessages(),!1)};if(a.hasClass("participant-message")||a.hasClass("context-message"))return a.hasClass("system")?void 0:void p();if(l=this.model.messages.get(a.data("uniqueid")),!l)return;let m=l.get("type");if("file_upload"===m)return;if("system"===m)return;if(s){let e=this.account.forwarded_messages.get(i.data("uniqueid"));if(!e)return;p()}else p()}},onClickLocation:function(e){e.preventDefault();let t=c(e.target).attr("lon"),a=c(e.target).attr("lat"),i=c(e.target).attr("title");t&&a&&(window.popup_coordinates=[t,a],window.location_name=i,new n.ChatLocationView({content:this}).show(e))},onHoverLocation:function(e){let t=c(e.target).attr("lon");lat=c(e.target).attr("lat"),fetch("https://nominatim.openstreetmap.org/reverse?format=json&lon="+t+"&lat="+lat).then(function(e){return e.json()}).then(function(t){t.error?c(e.target).attr("title",n.getString("location_fragment__address_error__title")):c(e.target).attr("title",t.display_name),c(e.target).removeClass("no-title")})},retrySendMessage:function(e){let t=c(e.target).closest(".chat-message"),a=this.model.messages.get(t.data("uniqueid"));"file_upload"===a.get("type")?(a.set("state",o.MSG_PENDING),this.startUploadFile(a,t)):this.sendMessage(a),e.preventDefault()},removeFileErrorMessage:function(e){let t=c(e.target).closest(".chat-message");this.removeMessage(t),e.preventDefault()}}),n.ExpandedMessagePanel=n.BasicView.extend({className:"modal expanded-message",template:d.group_chats.pinned_message_panel,ps_selector:".modal-content",ps_settings:{theme:"item-list"},events:{"click .collapsed-forwarded-message":"expandFwdMessage","click .chat-message":"onClickPinnedMessage","click .chat-msg-location-content":"onClickExpandedMessageLocation"},_initialize:function(e){this.account=e.account,this.chat_content=e.chat_content},open:function(e){this.$el.css("width",60>=e.find(".chat-text-content").text().length?540:.715*n.main_panel.$el.width()),this.$el.openModal({ready:()=>{this.updateScrollBar(),this.$(".modal-content").css("height",this.$el.height()-12)},complete:()=>{this.$el.detach(),this.data.set("visible",!1)}}),e.find(".right-side .msg-delivering-state").remove(),this.$(".modal-content").html(e),this.$(".msg-copy-link").remove()},close:function(){this.$el.closeModal({complete:this.hide.bind(this)})},onClickPinnedMessage:function(e){let t=c(e.target);if(t.hasClass("msg-hyperlink")){e&&e.preventDefault();let a=t.attr("href");return void r.dialogs.ask(n.getString("open_this_link"),decodeURI(a),null,{ok_button_text:n.getString("open")}).done(e=>{e&&r.openWindow(a)})}},onClickExpandedMessageLocation:function(e){e.preventDefault();let t=c(e.target).attr("lon"),a=c(e.target).attr("lat"),i=c(e.target).attr("title");t&&a&&(window.popup_coordinates=[t,a],window.location_name=i,new n.ChatLocationView({content:this}).show(e))},expandFwdMessage:function(e){let t=c(e.target),a=t.data("uniqueid"),i=this.chat_content.buildMessageHtml(this.account.forwarded_messages.get(a)),s=new n.ExpandedMessagePanel({account:this.account,chat_content:this.chat_content});s.$el.attr("data-color",this.account.settings.get("color")),this.chat_content.updateMessageInChat(i),this.chat_content.initPopup(i),s.open(i)}}),n.ChatsBase=Backbone.Collection.extend({model:n.Chat}),n.Chats=n.ChatsBase.extend({initialize:function(){this.collections=[],this.on("add",m.bind(this.updateInCollections,this,"add")),this.on("change",m.bind(this.updateInCollections,this,"change"))},addCollection:function(e){this.collections.push(e)},updateInCollections:function(e,t){m.each(this.collections,function(a){a.update(t,e)})},registerQuillEmbeddedsTags:function(){let e=Quill.import("blots/inline"),t=Quill.import("formats/image");class a extends e{static create(e){let t=super.create(),a=JSON.parse(e),i=a.jid?"?jid="+a.jid:a.id?"?id="+a.id:"";return t.innerHTML=a.nickname,a.is_me&&t.classList.add("ground-color-100"),t.setAttribute("data-target",i),t}static value(e){return e.innerHTML}}a.blotName="mention",a.tagName="mention",a.prototype.optimize=function(){};class i extends t{static create(e){if("string"==typeof e){let t=c(e.emojify({tag_name:"img"}))[0];return t.style.display="none",t.onload=function(){this.style.display="unset"},t}return e}static value(e){return e}}i.blotName="emoji",i.className="emoji",i.tagName="img",i.prototype.optimize=function(){},Quill.register(i),Quill.register(a)}}),n.OpenedChats=n.ChatsBase.extend({comparator:function(e,t){let a=e.get("timestamp"),i=t.get("timestamp");return a>i?-1:a<i?1:0},initialize:function(){this.on("change:timestamp",this.sort,this)},update:function(e){let t=e.get("opened");t?!this.get(e)&&(this.add(e),e.trigger("add_opened_chat",e)):this.get(e)&&(this.remove(e),e.trigger("remove_opened_chat",e))}}),n.ClosedChats=n.ChatsBase.extend({update:function(e){let t=!e.get("opened");t?!this.get(e)&&(this.add(e),e.trigger("add_closed_chat",e)):this.get(e)&&(this.remove(e),e.trigger("remove_closed_chat",e))}}),n.AccountChats=n.ChatsBase.extend({initialize:function(e,t){this.account=t.account,this.mam_requests=0,this.deferred_mam_requests=[],this.account.contacts.on("open_chat",this.openChat,this),this.account.contacts.on("open_mention",this.openMention,this),this.account.contacts.on("presence",this.onPresence,this),this.account.contacts.on("roster_push",this.onRosterPush,this)},getSavedChat:function(){let e=this.account.get("jid"),t={jid:e,type:"saved",name:n.getString("saved_messages__header"),id:`${e}:saved`},a=this.get(t.id);return a||(a=n.chats.create(t,{account:this.account}),this.add(a),a.trigger("load_last_history")),a},getChat:function(e,t,a){let i=null,s=t&&`${e.hash_id}:${t}`,o=s?this.get(s):this.get(e.hash_id);return s&&(i={id:s}),"encrypted"===t&&(i.type=t),o||(o=n.chats.create(i,{contact:e,sync_created:a}),this.add(o),e.set("known",!0)),o},openChat:function(e,t){t=t||{},m.isUndefined(t.clear_search)&&(t.clear_search=!0);let a=this.getChat(e,t.encrypted&&"encrypted");a.trigger("open",{clear_search:t.clear_search})},openMention:function(e,t){let a=this.getChat(e);n.body.setScreen("mentions",{right:"mentions",chat_item:a.item_view}),t&&a.getMessageContext(t,{mention:!0})},registerMessageHandler:function(){this.account.connection.deleteHandler(this._msg_handler),this._msg_handler=this.account.connection.addHandler(e=>(this.receiveMessage(e),!0),null,"message")},registerFastMessageHandler:function(){this.account.fast_connection.deleteHandler(this._fast_msg_handler),this._fast_msg_handler=this.account.fast_connection.addHandler(e=>(this.receiveMessage(e),!0),null,"message")},onStartedMAMRequest:function(e){this.deferred_mam_requests.push(e),this.runMAMRequests()},onCompletedMAMRequest:function(){this.mam_requests--,this.runMAMRequests()},runMAMRequests:function(){for(;this.mam_requests<n.settings.mam_requests_limit;){let e=this.deferred_mam_requests.shift();if(!e)break;this.mam_requests++,e.resolve()}},parsePubSubNode:function(e){if(!e)return null;let t=e.indexOf("#");return-1===t?null:e.slice(t+1,e.length)},receivePubsubMessage:function(e){let t=e.find("info").attr("id"),a=p.getBareJidFromJid(e.attr("from")),i=e.find("items").attr("node");if(!(-1<i.indexOf(p.NS.OMEMO))&&-1<i.indexOf(p.NS.PUBSUB_AVATAR_METADATA)){let n=this.parsePubSubNode(i),s=e.find("info").attr("url"),d=this.account.contacts.get(a);if(d){if(n){if(d.my_info&&n==d.my_info.get("id")&&t==d.my_info.get("avatar"))return void d.trigger("update_my_info");if(t&&this.account.chat_settings.getHashAvatar(n)!=t){let e=p.NS.PUBSUB_AVATAR_DATA+"#"+n;d.getAvatar(t,e,e=>{this.account.chat_settings.updateCachedAvatars(n,t,e),d.my_info&&n==d.my_info.id&&(d.my_info.set({avatar:t,b64_avatar:e}),d.trigger("update_my_info"));let a=d.participants&&d.participants.get(n);a&&(a.set({avatar:t,b64_avatar:e}),this.account.groupchat_settings.updateParticipant(d.get("jid"),a.attributes))},()=>{if(s){this.account.chat_settings.updateCachedAvatars(n,t,s),d.my_info&&n==d.my_info.id&&(d.my_info.set({avatar:t,b64_avatar:s}),d.trigger("update_my_info"));let e=d.participants&&d.participants.get(n);return void(e&&(e.set({avatar:t,b64_avatar:s}),this.account.groupchat_settings.updateParticipant(d.get("jid"),e.attributes)))}})}}else if(!this.get("avatar_priority")||this.get("avatar_priority")<=o.AVATAR_PRIORITIES.PUBSUB_AVATAR){if(!t){let e=h.getDefaultAvatar(d.get("name"));return d.cached_image=h.getCachedImage(e),d.set("avatar_priority",o.AVATAR_PRIORITIES.PUBSUB_AVATAR),d.set("photo_hash",null),d.set("image",e),void d.updateCachedInfo()}if(""!==t&&d.get("photo_hash")===t)return;s&&(d.cached_image=s,d.set({photo_hash:t,image:s,avatar_priority:o.AVATAR_PRIORITIES.PUBSUB_AVATAR})),d.getAvatar(t,p.NS.PUBSUB_AVATAR_DATA,e=>{d.cached_image=h.getCachedImage(e),d.set("avatar_priority",o.AVATAR_PRIORITIES.PUBSUB_AVATAR),d.set("photo_hash",t),d.set("image",e),d.updateCachedInfo()})}}else if(a===this.account.get("jid")){if(s){let e={photo_hash:t,image:s,avatar_priority:o.AVATAR_PRIORITIES.PUBSUB_AVATAR};return this.account.cached_image=s,void this.account.save(e)}if(!t){let e=h.getDefaultAvatar(this.account.get("name"));this.account.cached_image=h.getCachedImage(e);let t={avatar_priority:o.AVATAR_PRIORITIES.PUBSUB_AVATAR,image:e};return void this.account.save(t)}this.account.getAvatar(t,e=>{this.account.cached_image=h.getCachedImage(e);let t={avatar_priority:o.AVATAR_PRIORITIES.PUBSUB_AVATAR,image:e};this.account.save(t)})}}},receiveMessage:function(e){let t=c(e),a=t.attr("type");if(this.account.connection.do_synchronization&&p.getBareJidFromJid(c(e).attr("from"))!==this.account.get("jid")){let e=t.children("time").attr("stamp")||t.children("delay").attr("stamp"),a=+u(e);a>this.account.last_msg_timestamp&&(this.account.last_msg_timestamp=a)}return"headline"===a?this.receiveHeadlineMessage(e):"chat"===a||"normal"===a?this.receiveChatMessage(e):"error"===a?this.receiveErrorMessage(e):void 0},receiveHeadlineMessage:function(e){let t=c(e),a=p.getBareJidFromJid(t.attr("from")),i=t.find(`received[xmlns="${p.NS.DELIVERY}"]`),s=t.children(`x[xmlns="${p.NS.DELIVERY}"]`).children("message");if(i.length){let e=i.children("stanza-id").attr("id"),t=i.children("origin-id").first().attr("id");if(t){let a=this.account.messages.get(t||e),n=i.children("time").attr("stamp")||u(e/1e3).format();if(!a)return;!a.get("stanza_id")&&a.get("locations")&&a.set({stanza_id:e}),a.set({state:o.MSG_SENT,time:n,timestamp:+u(n)});let s=this.account._pending_messages.find(a=>a.unique_id==(t||e));if(s){let t=this.account.chats.get(s.chat_hash_id);t&&t.setStanzaId(s.unique_id,e),this.account._pending_messages.splice(this.account._pending_messages.indexOf(s),1)}}return}if(s.length)return this.receiveChatMessage(s[0],{echo_msg:!0,stanza_id:s.children("stanza-id").attr("id")});let d=t.children(`revoke[xmlns="${p.NS.AUTH_DEVICES}"]`);if(d.length)return d.children("device").each((e,t)=>{let a=c(t),i=a.attr("id");if(i){if(this.account.get("x_token")&&this.account.get("x_token").token_uid===i)return void this.account.deleteAccount();if(this.account.x_tokens_list){let e=this.account.x_tokens_list.find(e=>e.token_uid==i),t=e?this.account.x_tokens_list.indexOf(e):-1;-1<t&&this.account.x_tokens_list.splice(t,1)}}}),void(this.account.settings_right&&this.account.settings_right.updateXTokens());if(t.find(`event[xmlns="${p.NS.PUBSUB}#event"]`).length)return void this.receivePubsubMessage(t);let r=this.account.contacts.get(a),l;if(r&&(r&&(l=this.account.chats.getChat(r)),!l.item_view.content&&(l.item_view.content=new n.ChatContentView({chat_item:l.item_view}))),t.children(`x[xmlns="${p.NS.GROUP_CHAT}#system-message"]`).length){if(!r)return;let e=t.children(`x[xmlns="${p.NS.GROUP_CHAT}#system-message"]`).attr("version");e&&r.participants&&r.participants.version<e&&r.trigger("update_participants")}if(t.children(`attention[xmlns="${p.NS.ATTENTION}"]`).length&&n.settings.call_attention)return l?l.messages.createSystemMessage({from_jid:a,message:n.getString("action_attention_requested"),attention:!0}):void 0;if(t.find(`replace[xmlns="${p.NS.REWRITE}#notify"]`).length){if(!r&&(r=this.account.contacts.get(t.find("replace").attr("conversation")))&&(l=this.account.chats.getChat(r)),!l)return;let e=t.find("replace").attr("id"),a=l.messages.find(t=>t.get("stanza_id")==e||t.get("contact_stanza_id")==e),i=n.body.screen.get("right"),s="participant_messages"===i&&this.account.participant_messages||"message_context"===i&&this.account.context_messages||"searched_messages"===i&&this.account.searched_messages||[],o=s.find(t=>t.get("stanza_id")==e);this.receiveChatMessage(t,{replaced:!0}),o&&o.set("last_replace_time",t.find("replaced").last().attr("stamp")),a&&(a.set("last_replace_time",t.find("replaced").last().attr("stamp")),r.get("pinned_message")&&r.get("pinned_message").get("unique_id")===a.get("unique_id")&&(r.get("pinned_message").set("message",a.get("message")),!l.item_view.content&&(l.item_view.content=new n.ChatContentView({chat_item:l.item_view})),l.item_view.content.updatePinnedMessage()),l&&l.item_view.updateLastMessage(l.last_message))}if(t.find("retract-message").length){let e="encrypted"==t.find("retract-message").attr("type");if(!r&&(r=this.account.contacts.get(t.find("retract-message").attr("conversation")))&&(l=this.account.chats.getChat(r,e&&"encrypted")),t.find("retract-message").attr("conversation")===this.account.get("jid")&&(l=this.getSavedChat()),!l)return;let a=t.find("retract-message"),i=a.attr("id"),s=a.attr("version"),o=l.messages.find(e=>e.get("stanza_id")==i||e.get("contact_stanza_id")==i);o&&(o.set("is_unread",!1),!l.item_view.content&&(l.item_view.content=new n.ChatContentView({chat_item:l.item_view})),l.item_view.content.removeMessage(o),l.item_view.updateLastMessage(l.last_message)),s>this.account.retraction_version&&(l.get("encrypted")&&this.account.omemo?this.account.omemo.cacheRetractVersion(s):this.account.retraction_version=s)}if(t.find("retract-user").length){let e=t.find("retract-user"),a=e.attr("id"),i=l.messages.filter(e=>e.get("user_info")&&e.get("user_info").id==a);i&&c(i).each((e,t)=>{t.set("is_unread",!1),l.item_view.content||(l.item_view.content=new n.ChatContentView({chat_item:l.item_view})),l.item_view.content.removeMessage(t)}),l.item_view.updateLastMessage(l.last_message)}if(t.find("retract-all").length){if(!r&&(r=this.account.contacts.get(t.find("retract-all").attr("conversation")))&&(l=this.getChat(r,"encrypted"==t.find("retract-all").attr("type")&&"encrypted")),!l)return;let e=l.messages.models;c(e).each((e,t)=>{l.item_view.content||(l.item_view.content=new n.ChatContentView({chat_item:l.item_view})),l.item_view.content.removeMessage(t)}),l.item_view.updateLastMessage()}if(t.find(`confirm[xmlns="${p.NS.HTTP_AUTH}"]`).length){let a=t.find("confirm").attr("id");if(t.attr("from")==this.account.xabber_auth.api_jid&&t.attr("id")==this.account.xabber_auth.request_id)this.account.verifyXabberAccount(a,e=>{n.api_account&&this.account.get("auto_login_xa")&&(n.api_account.save("token",e),n.api_account.login_by_token())});else return this.receiveChatMessage(e)}},receiveStanzaId:function(e,t){t.replaced&&(e=e.children("replace").children("message"));let a={},i=t.from_bare_jid,n,s;return e.children("stanza-id").each((t,a)=>{a=c(a),e.children(`x[xmlns="${p.NS.GROUP_CHAT}"]`).length&&!(e.find(`invite[xmlns="${p.NS.GROUP_CHAT_INVITE_HTTP}"]`).length||e.find(`invite[xmlns="${p.NS.GROUP_CHAT_INVITE}"]`).length)?a.attr("by")===i?(n=a,s=a):n=a:a.attr("by")===this.account.get("jid")?n=a:s=a}),n&&(a.stanza_id=n.attr("id")),s&&(a.contact_stanza_id=s.attr("id")),a},receiveChatMessage:function(e,t){t=t||{};let a=c(e),i=a.find("forwarded"),s=t.delay,o=a.attr("to"),d=p.getBareJidFromJid(o),r=o&&p.getResourceFromJid(o),l=a.attr("from")||t.from_jid;if(a.children(`encrypted[xmlns="${p.NS.OMEMO}"]`).length&&!t.forwarded)return void(this.account.omemo&&this.account.omemo.receiveChatMessage(e,t));if(a.find("invite").length&&t.forwarded)return;l||(l=this.account.get("jid"));let u=p.getBareJidFromJid(l),g=u===this.account.get("jid");if(t.forwarded&&(!i.length||t.xml))return this.account.forwarded_messages.createFromStanza(a,{is_forwarded:!0,forwarded_message:t.forwarded_message||null,delay:s,replaced:t.replaced,from_jid:l,xml:t.xml});if(i.length&&!t.xml){let e=a.find(`result[xmlns="${p.NS.MAM}"]`);if(e.length){i=e.children("forwarded"),i.length&&(a=i.children("message"),s=i.children("delay"));let n=this.receiveStanzaId(a,{from_bare_jid:u});return this.receiveChatMessage(a[0],m.extend(t,{is_mam:!0,delay:s,stanza_id:n.stanza_id||e.attr("id"),contact_stanza_id:n.contact_stanza_id}))}let n=a.find(`[xmlns="${p.NS.CARBONS}"]`);if(n.length&&["received","sent"].includes(n[0].tagName))return a.find("invite").length&&"sent"===n[0].tagName?void 0:(i=n.children("forwarded"),i.length&&(a=i.children("message")),n.find(`request[xmlns="${p.NS.DELIVERY}"][to="${d}"]`).length||this.account.fast_connection&&a.attr("from")===this.account.fast_connection.jid?void 0:this.receiveChatMessage(a[0],m.extend(t,{carbon_copied:!0,carbon_direction:n[0].tagName})));let o=[];return i=a.children(`reference[type="mutable"][xmlns="${p.NS.REFERENCE}"]`).length?a.children(`reference[type="mutable"][xmlns="${p.NS.REFERENCE}"]`).children("forwarded[xmlns=\""+p.NS.FORWARD+"\"]"):a.children("envelope").children("content").children(`reference[type="mutable"][xmlns="${p.NS.REFERENCE}"]`).children("forwarded[xmlns=\""+p.NS.FORWARD+"\"]"),i.each((e,a)=>{let i=c(a),n=i.children("message"),s=i.children("delay"),d=this.receiveChatMessage(n[0],{forwarded:!0,pinned_message:t.pinned_message,participant_message:t.participant_message,searched_message:t.searched_message,is_searched:t.is_searched,context_message:t.context_message,from_jid:l,delay:s});o.push(d)}),this.receiveChatMessage(a[0],m.extend({forwarded_message:o.length?o:null,xml:a[0]},t))}!t.is_mam&&r&&r!==this.account.resource&&(n.warn("Message to another resource"),n.warn(e));let h=g?d:u;if(t.replaced&&(h=a.children("replace").attr("conversation")),h===this.account.get("jid")){if(t.carbon_copied&&"sent"===t.carbon_direction||!t.carbon_copied){let e=this.getSavedChat(),i=this.receiveStanzaId(a,{from_bare_jid:u,carbon_copied:t.carbon_copied,replaced:t.replaced});return e.receiveMessage(a,m.extend(t,{is_sender:g,stanza_id:i.stanza_id,contact_stanza_id:i.contact_stanza_id}))}return n.warn("Message from me to me"),void n.warn(e)}let v=this.account.contacts.mergeContact(h),f=this.account.chats.getChat(v,(t.encrypted||t.not_encrypted)&&"encrypted"),b=this.receiveStanzaId(a,{from_bare_jid:u,carbon_copied:t.carbon_copied,replaced:t.replaced});if(a.children(`x[xmlns="${p.NS.GROUP_CHAT}#system-message"]`).length){if(!v)return;let e=a.children(`x[xmlns="${p.NS.GROUP_CHAT}#system-message"]`).attr("version");e&&v.participants&&v.participants.version<e&&(a.children(`x[xmlns="${p.NS.GROUP_CHAT}#system-message"]`).children(`user[xmlns="${p.NS.GROUP_CHAT}"]`).length&&f.contact.get("pinned_message")&&a.children("x[xmlns=\""+p.NS.GROUP_CHAT+"#system-message\"]").each((e,t)=>{let a=c(t).children(`user[xmlns="${p.NS.GROUP_CHAT}"]`).first();if(a.length){let e=a.attr("id"),t=a.children("jid").text();if(f.contact.get("pinned_message").get("from_jid")===t){let i=f.contact.get("pinned_message"),n={id:e,jid:t,nickname:a.children("nickname").text()||t||e,role:a.children("role").text(),avatar:a.children(`metadata[xmlns="${p.NS.PUBSUB_AVATAR_METADATA}"]`).children("info").attr("id"),avatar_url:a.children(`metadata[xmlns="${p.NS.PUBSUB_AVATAR_METADATA}"]`).children("info").attr("url"),badge:a.children("badge").text()};i.set("user_info",n),f.contact.set("pinned_message",i)}}}),v.trigger("update_participants"))}return a.find("device[xmlns=\""+p.NS.AUTH_DEVICES+"\"]").length&&!t.is_archived&&this.account.getAllXTokens(),f.contact.get("group_chat")&&"sent"===t.carbon_direction&&!a.children(`[xmlns="${p.NS.CHAT_MARKERS}"]`).length?void 0:f.receiveMessage(a,m.extend(t,{is_sender:g,stanza_id:b.stanza_id,contact_stanza_id:b.contact_stanza_id}))},receiveErrorMessage:function(e){let t=e.getAttribute("id"),a=c(e).children("origin-id").attr("id");if(t){let i=c(e).find("error").attr("code"),n=this.account.messages.get(a||t);n&&("405"===i&&n.set("state",o.MSG_BLOCKED),"406"===i&&n.set("state",o.MSG_ERROR))}},onPresence:function(e,t){let a=this.getChat(e);a.onPresence(t)},onRosterPush:function(e,t){let a=this.getChat(e);a.onRosterPush(t)}}),n.AddGroupChatView=n.SearchView.extend({className:"modal main-modal add-group-chat-modal add-contact-modal",template:d.group_chats.add_group_chat,avatar_size:o.AVATAR_SIZES.ACCOUNT_ITEM,ps_selector:".rich-textarea",ps_settings:{theme:"item-list"},events:{"click .dropdown-content#select-account-for-creating-groupchat":"selectAccount","click .btn-add":"addGroupChat","keyup .input-group-chat-name input":"updateGroupJid","keyup .rich-textarea":"showPlaceholder","keyup .input-group-chat-jid input":"fixJid","click .btn-cancel":"close","click .property-variant":"changePropertyValue"},render:function(e){if(!n.accounts.connected.length)return void r.dialogs.error(n.getString("dialog_add_contact__error__text_no_accounts"));e||(e={}),this.setDefaultSettings(e);let t=e.account?[e.account]:n.accounts.connected;this.$(".single-acc").showIf(1===t.length),this.$(".multiple-acc").hideIf(1===t.length),this.$(".dropdown-content#select-account-for-creating-groupchat").empty(),m.each(t,e=>{this.$(".dropdown-content#select-account-for-creating-groupchat").append(this.renderAccountItem(e))}),this.$(".account-dropdown-wrap").hideIf(2>t.length),this.bindAccount(t[0]),this.$(".btn-cancel").text(this.is_login?n.getString("skip"):n.getString("cancel")),this.$el.openModal({ready:()=>{let e={inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"};Materialize.updateTextFields(),this.$(".account-dropdown-wrap").dropdown(e),this.$(".property-field .dropdown-button").dropdown(e),this.$(".property-field .select-xmpp-server .caret").dropdown(e),this.$(".property-field .select-xmpp-server .xmpp-server-item-wrap").dropdown(e),this.$("input[name=\"chat_name\"]").focus()},complete:this.close.bind(this)})},setDefaultSettings:function(e){this.$(".incognito-field .public-item-wrap").showIf(e.public),this.$(".incognito-field .incognito-item-wrap").showIf(e.incognito),e.public&&this.$(".modal-header span").text(n.getString("create_group")),e.incognito&&this.$(".modal-header span").text(n.getString("create_incognito_group")),this.$("input[name=chat_jid]").removeClass("fixed-jid").val(""),this.$("#new_chat_domain").val(""),this.$("input[name=chat_name]").val(""),this.$(".description-field .rich-textarea").text(""),this.$(".btn-add").addClass("non-active"),this.showPlaceholder(),this.$("span.errors").text("").addClass("hidden"),this.$("input").removeClass("invalid");let t=this.$(".global-dropdown-wrap"),a=t.find(".dropdown-content .default-value");t.find(".global-item-wrap .property-value").attr("data-value",a.attr("data-value")).text(a.text());let i=this.$(".membership-dropdown-wrap"),s=i.find(".dropdown-content .default-value");i.find(".membership-item-wrap .property-value").attr("data-value",s.attr("data-value")).text(s.text())},bindAccount:function(e){this.account=e,this.$(".input-group-chat-domain").addClass("hidden"),this.$(".account-dropdown-wrap .dropdown-button .account-item-wrap").replaceWith(this.renderAccountItem(e));let t=this.account.get("groupchat_servers_list");t.length?(this.$(".xmpp-server-dropdown-wrap .field-jid").text(t[0]),this.$(".select-xmpp-server .caret").removeClass("hidden"),this.$(".xmpp-server-item-wrap .property-value").removeClass("hidden")):this.setCustomDomain(this.$(".property-field.xmpp-server-dropdown-wrap .property-value")),this.$(".modal-content .jid-field .set-default-domain").remove();for(let a=0;a<t.length;a++)c("<div/>",{class:"field-jid property-variant set-default-domain"}).text(t[a]).insertBefore(this.$(".modal-content .jid-field .set-custom-domain"))},renderAccountItem:function(e){let t=c(d.add_chat_account_item({jid:e.get("jid"),name:e.get("name")}));return t.find(".circle-avatar").setAvatar(e.cached_image,this.avatar_size),t},selectAccount:function(e){let t=c(e.target).closest(".account-item-wrap"),a=n.accounts.get(t.data("jid"));this.bindAccount(a)},setCustomDomain:function(e){this.$("#new_chat_domain").val(""),this.$(".select-xmpp-server .caret").addClass("hidden"),e.addClass("hidden").text(""),this.$(".input-group-chat-domain").removeClass("hidden")},changePropertyValue:function(e){let t=c(e.target),a=t.closest(".property-field").find(".property-value");return t.hasClass("set-custom-domain")?void this.setCustomDomain(a):void(t.hasClass("set-default-domain")&&(this.$(".input-group-chat-domain").addClass("hidden"),this.$("#new_chat_domain").val("")),a.text(t.text()),a.removeClass("hidden").attr("data-value",t.attr("data-value")),this.$(".select-xmpp-server .caret").removeClass("hidden"))},close:function(){this.$el.closeModal({complete:()=>{this.$el.detach(),this.data.set("visible",!1)}})},updateGroupJid:function(){let e=this.$("input[name=chat_jid]");if(!e.hasClass("fixed-jid")){let e=slug(this.$(".input-group-chat-name input").get(0).value,{lower:!0});this.$("label[for=new_chat_jid]").addClass("active"),this.$(".input-field #new_chat_jid").get(0).value=e}this.$(".btn-add").switchClass("non-active",!this.$(".input-group-chat-name input").get(0).value)},showPlaceholder:function(){let e=""===this.$(".rich-textarea ").text();this.$(".rich-textarea-wrap .placeholder").hideIf(!e)},fixJid:function(){let e=this.$("input[name=chat_jid]");e.hasClass("fixed-jid")||e.addClass("fixed-jid"),""==e.get(0).value&&e.removeClass("fixed-jid")},createGroupChat:function(){let e=this.account.resources.connection.jid,t=this.$("input[name=chat_name]").val(),a=this.$("input[name=chat_jid]").val()?this.$("input[name=chat_jid]").val():void 0,s=this.$(".incognito-field .property-wrap:not(.hidden) .property-value").attr("data-value"),o=this.$("#new_chat_domain").val()||this.$(".xmpp-server-dropdown-wrap .property-value").text(),d=this.$("input[name=\"group_index\"]:checked").attr("data-value"),r=this.$(".description-field .rich-textarea").text()||"",l=this.$("input[name=\"group_membership\"]:checked").attr("data-value"),m=i({from:e,type:"set",to:o}).c("query",{xmlns:p.NS.GROUP_CHAT+"#create"}).c("name").t(t).up().c("privacy").t(s).up().c("index").t(d).up().c("description").t(r).up().c("membership").t(l).up();a&&m.c("localpart").t(a),this.account.sendIQ(m,e=>{let t=c(e).find("query localpart").text().trim()+"@"+c(e).attr("from").trim(),a=this.account.contacts.mergeContact(t);a.set("group_chat",!0),a.set("subscription_preapproved",!0),a.pres("subscribed"),a.pushInRoster(null,()=>{if(a.pres("subscribe"),a.getMyInfo(),this.close(),n.chats_view.updateScreenAllChats(),a.sendPresent(),a.trigger("open_chat",a),!(this.account.connection&&this.account.connection.do_synchronization)){let e=i({type:"set"}).c("block",{xmlns:p.NS.BLOCKING}).c("item",{jid:t+"/"+u.now()});this.account.sendIQ(e)}})},()=>{this.$("span.errors").removeClass("hidden").text(n.getString("groupchat_jid_already_exists")),this.$("input[name=\"chat_jid\"]").addClass("invalid")})},addGroupChat:function(e){if(c(e.target).closest(".button-wrap").hasClass("non-active"))return void c(e.target).blur();let t=this.$("#new_chat_domain").val()||this.$(".xmpp-server-dropdown-wrap .property-value").text(),a=this.$("input[name=chat_jid]").val();if(""==this.$("input[name=chat_name]").val())this.$("span.errors").text(n.getString("group_is_empty")).removeClass("hidden"),this.$("input[name=\"chat_name\"]").addClass("invalid");else if(""==a||-1==a.search(/[-]/)&&-1==a.search(/\s/)&&""!=a){this.$("span.errors").text("").addClass("hidden"),this.$("input").removeClass("invalid");let e=i({type:"get",to:t}).c("query",{xmlns:p.NS.DISCO_INFO}),a;this.account.sendIQ(e,e=>{c(e).children("query").children("feature").each((e,t)=>{c(t).attr("var")==p.NS.GROUP_CHAT&&(a=!0)}),a?this.createGroupChat():(this.$("span.errors").removeClass("hidden").text(`${n.getString("groupchat_add__alert_server_does_not_support")}`),this.$("input[name=\"chat_domain\"]").addClass("invalid"))},()=>{this.$("span.errors").removeClass("hidden").text(`${n.getString("groupchat_add__alert_invalid_domain")}`),this.$("input[name=\"chat_domain\"]").addClass("invalid")})}else this.$("span.errors").removeClass("hidden").text(`${n.getString("groupchat_add__alert_localpart_invalid")}`),this.$("input[name=\"chat_jid\"]").addClass("invalid")}}),n.ChatsView=n.SearchPanelView.extend({className:"recent-chats-container container",ps_selector:".chat-list-wrap",ps_settings:{theme:"item-list"},main_container:".chat-list",template:d.chats_panel,_initialize:function(){this.active_chat=null,this.model.on("add",this.onChatAdded,this),this.model.on("destroy",this.onChatRemoved,this),this.model.on("change:active",this.onChangedActiveStatus,this),this.model.on("change:unread",this.onChangedReadStatus,this),this.model.on("change:const_unread",this.onChangedReadStatus,this),this.model.on("change:timestamp",this.updateChatPosition,this),n.accounts.on("list_changed",this.updateLeftIndicator,this);let e=this.defineMouseWheelEvent();this.$el.on(e,this.onMouseWheel.bind(this)),this.ps_container.on("ps-scroll-y",this.onScrollY.bind(this)),this.$(".read-all-button").click(this.readAllMessages.bind(this)),n.on("update_screen",this.onUpdatedScreen,this),n.on("update_layout",this.onWindowResized,this),this.$("input").on("input",this.updateSearch.bind(this))},render:function(e){void 0===e.right&&(this.active_chat=null),this.$(".chat-list-wrap").switchClass("with-padding",n.toolbar_view.$(".toolbar-item.unread").length),("chat"!==e.right&&"contact_details"!==e.right&&"searched_messages"!==e.right&&"message_context"!==e.right&&"participant_messages"!==e.right||e.clear_search)&&(this.clearSearch(),n.toolbar_view.$(".active").hasClass("all-chats")&&this.showAllChats())},readAllMessages:function(){let e=this.model,t=n.toolbar_view.$(".active");if(t.hasClass("chats")){let t=e.filter(e=>e.get("saved")||!e.contact.get("group_chat")&&e.get("timestamp")&&!e.get("archived")&&e.last_message&&!e.last_message.get("invite")&&(e.get("unread")||e.get("const_unread")));t.forEach(e=>{e.item_view.content||(e.item_view.content=new n.ChatContentView({chat_item:e.item_view})),e.item_view.content.readMessages()})}if(t.hasClass("all-chats")){let t=e.filter(e=>e.get("saved")||e.get("timestamp")&&!e.get("archived")&&e.last_message&&!e.last_message.get("invite")&&(e.get("unread")||e.get("const_unread")));t.forEach(e=>{e.item_view.content||(e.item_view.content=new n.ChatContentView({chat_item:e.item_view})),e.item_view.content.readMessages()})}if(t.hasClass("group-chats")){let t=e.filter(e=>e.get("saved")||e.contact.get("group_chat")&&e.get("timestamp")&&!e.get("archived")&&e.last_message&&!e.last_message.get("invite")&&(e.get("unread")||e.get("const_unread")));t.forEach(e=>{e.item_view.content||(e.item_view.content=new n.ChatContentView({chat_item:e.item_view})),e.item_view.content.readMessages()})}n.toolbar_view.recountAllMessageCounter()},onUpdatedScreen:function(){this.$(".read-all-button").switchClass("hidden",!n.toolbar_view.$(".toolbar-item.active.unread").length)},defineMouseWheelEvent:function(){return m.isUndefined(window.onwheel)?m.isUndefined(window.onmousewheel)?"MozMousePixelScroll":"mousewheel":"wheel"},onMouseWheel:function(){},hideChatsFeedback:function(){clearTimeout(this._load_chats_timeout),this.$(".load-chats-feedback").addClass("hidden"),this.updateScrollBar(),this._load_chats_timeout=null},updateLeftIndicator:function(e){this.$el.attr("data-indicator",1<e.connected.length)},onChatAdded:function(e){this.addChild(e.id,e.item_view),this.updateChatPosition(e)},onChatRemoved:function(e,t){this.active_chat===this.child(e.id)&&(this.active_chat=null,n.body.setScreen(null,{chat_item:null},{silent:!n.body.isScreen("all-chats")})),this.removeChild(e.id,t),this.updateScrollBar()},onChangedActiveStatus:function(e){if(e.get("active")){let t=this.active_chat;this.active_chat=this.child(e.id),t&&t.model.set("active",!1)}},onChangedReadStatus:function(e){let t=this.child(e.id),a=n.toolbar_view.$(".active");!t||!a.hasClass("unread")||a.hasClass("unread")&&(e.get("unread")||e.get("const_unread"))||(t.detach(),!this.$(".chat-item").length&&a.hasClass("unread")&&a.click())},replaceChatItem:function(e,t,a){let i=this.child(e.id);if(i&&e.get("pinned")&&"0"!==e.get("pinned")&&a){a=a.sort((e,t)=>e.get("pinned")>t.get("pinned")?1:-1);let t=a.indexOf(e);0===t?this.$(".pinned-chat-list").prepend(i.$el):this.$(".pinned-chat-list .chat-item").eq(t-1).after(i.$el)}else if(i&&(e.get("timestamp")||e.get("saved"))){i.$el.detach();let a=t.indexOf(e);0===a?this.$(".chat-list").prepend(i.$el):this.$(".chat-list .chat-item").eq(a-1).after(i.$el)}},updateChatPosition:function(e){let t=this.child(e.id),a=n.toolbar_view.$(".active");t&&(!a.hasClass("unread")||e.get("unread")||e.get("const_unread"))&&(a.hasClass("group-chats")&&(t.model.get("saved")||t.contact.get("group_chat"))&&this.replaceChatItem(e,this.model.filter(e=>(e.get("saved")||e.contact.get("group_chat")&&!e.get("archived"))&&("0"===e.get("pinned")||!e.get("pinned"))),this.model.filter(e=>(e.get("saved")||e.contact.get("group_chat")&&!e.get("archived"))&&"0"!==e.get("pinned")&&e.get("pinned"))),a.hasClass("chats")&&(t.model.get("saved")||!t.contact.get("group_chat"))&&this.replaceChatItem(e,this.model.filter(e=>(e.get("saved")||!e.contact.get("group_chat")&&!e.get("archived"))&&("0"===e.get("pinned")||!e.get("pinned"))),this.model.filter(e=>(e.get("saved")||!e.contact.get("group_chat")&&!e.get("archived"))&&"0"!==e.get("pinned")&&e.get("pinned"))),a.hasClass("all-chats")&&(t.model.get("saved")||!t.model.get("archived"))&&this.replaceChatItem(e,this.model.filter(e=>(e.get("saved")||!e.get("archived"))&&("0"===e.get("pinned")||!e.get("pinned"))),this.model.filter(e=>(e.get("saved")||!e.get("archived"))&&"0"!==e.get("pinned")&&e.get("pinned"))),a.hasClass("archive-chats")&&(t.model.get("saved")||t.model.get("archived"))&&this.replaceChatItem(e,this.model.filter(e=>e.get("saved")||e.get("archived"))),a.hasClass("account-item")&&(t.model.get("saved")||t.account.get("jid")===a.attr("data-jid"))&&this.replaceChatItem(e,this.model.filter(e=>(e.get("saved")||e.account.get("jid")===a.attr("data-jid")&&!e.get("archived"))&&("0"===e.get("pinned")||!e.get("pinned"))),this.model.filter(e=>(e.get("saved")||e.account.get("jid")===a.attr("data-jid")&&!e.get("archived"))&&"0"!==e.get("pinned")&&e.get("pinned"))))},onEnterPressed:function(e){let t;e.closest(".searched-lists-wrap").length?(this.clearSearch(),this.$(".list-item.active").removeClass("active"),e.hasClass("chat-item")&&(t=this.child(e.data("id")),t&&t.open(),e.addClass("active")),e.hasClass("roster-contact")&&(t=n.accounts.get(e.data("account")).chats.getChat(n.accounts.get(e.data("account")).contacts.get(e.data("jid"))),t&&(t=t.item_view),t&&n.chats_view.openChat(t,{clear_search:!1,screen:n.body.screen.get("name")}),e.addClass("active")),e.hasClass("message-item")&&e.click()):(t=this.child(e.data("id")),t&&t.open())},openChat:function(e,t){e.content||(e.content=new n.ChatContentView({chat_item:e})),t=t||{},this.$(".list-item.active").removeClass("active"),e.updateActiveStatus();let a=n.chats_view.getScrollTop();if(t.clear_search&&this.clearSearch(),e.contact&&!e.contact.get("in_roster")&&!1==e.model.get("is_accepted"))e.model.set("display",!0),e.model.set("active",!0),n.body.setScreen("all-chats",{right:"group_invitation",contact:e.contact});else{if(n.toolbar_view.$(".active").hasClass("contacts")&&this.updateScreenAllChats(),!e.model.get("history_loaded")&&20>e.model.messages.length&&e.content.loadPreviousHistory(),!e.model.get("displayed_sent")&&e.model.messages.length){let t=e.model.messages.models[e.model.messages.length-1];t&&!t.isSenderMe()&&(e.model.get("unread")||e.model.get("const_unread"))&&(e.model.sendMarker(t.get("msgid"),"displayed",t.get("stanza_id"),t.get("contact_stanza_id")),e.model.set("displayed_sent",!0))}n.body.screen.get("right_contact")&&("chat"===n.body.screen.get("right")||"message_context"===n.body.screen.get("right"))&&(e.model.get("saved")?n.body.setScreen(t.screen||"all-chats",{right_contact:""}):n.right_contact_panel_saveable?e.contact.showDetailsRight("all-chats",{right_saved:!0,encrypted:e.model.get("encrypted")}):e.contact.showDetailsRight("all-chats",{right_saved:!1})),n.body.setScreen(t.screen||"all-chats",{right:"chat",clear_search:t.clear_search,chat_item:e,blocked:e.model.get("blocked")},{right_contact_save:t.right_contact_save}),e.contact&&(!e.contact.get("vcard_updated")||e.contact.get("group_chat")&&!e.contact.get("group_info")||e.contact.get("vcard_updated")&&!u(e.contact.get("vcard_updated")).startOf("hour").isSame(u().startOf("hour")))&&e.contact.getVCard()}n.chats_view.scrollTo(a)},showGroupChats:function(){this.$(".chat-item").detach();let e=this.model,t=n.toolbar_view.$(".active.unread").length,a=[],i=[];t&&(a=e.filter(e=>e.contact&&e.contact.get("group_chat")&&e.get("timestamp")&&!e.get("archived")&&e.last_message&&!e.last_message.get("invite")&&(e.get("unread")||e.get("const_unread"))&&("0"===e.get("pinned")||!e.get("pinned"))),i=e.filter(e=>e.contact&&e.contact.get("group_chat")&&e.get("timestamp")&&!e.get("archived")&&e.last_message&&!e.last_message.get("invite")&&(e.get("unread")||e.get("const_unread"))&&"0"!==e.get("pinned")&&e.get("pinned"))),a.length||i.length||(a=e.filter(e=>!e.get("saved")&&e.contact.get("group_chat")&&e.get("timestamp")&&!e.get("archived")&&("0"===e.get("pinned")||!e.get("pinned"))),i=e.filter(e=>!e.get("saved")&&e.contact.get("group_chat")&&e.get("timestamp")&&!e.get("archived")&&"0"!==e.get("pinned")&&e.get("pinned")),n.toolbar_view.$(".toolbar-item.unread").removeClass("unread"),this.onUpdatedScreen()),a.forEach(e=>{this.$(".chat-list").append(e.item_view.$el)}),i&&(i=i.sort((e,t)=>e.get("pinned")>t.get("pinned")?1:-1),i.forEach(e=>{let t=i.indexOf(e);0===t?this.$(".pinned-chat-list").prepend(e.item_view.$el):this.$(".pinned-chat-list .chat-item").eq(t-1).after(e.item_view.$el)}))},showChats:function(){this.$(".chat-item").detach();let e=this.model,t=n.toolbar_view.$(".active.unread").length,a=[],i=[];t&&(a=e.filter(e=>e.contact&&!e.contact.get("group_chat")&&e.get("timestamp")&&!e.get("archived")&&e.last_message&&!e.last_message.get("invite")&&(e.get("unread")||e.get("const_unread"))&&("0"===e.get("pinned")||!e.get("pinned"))),i=e.filter(e=>e.contact&&!e.contact.get("group_chat")&&e.get("timestamp")&&!e.get("archived")&&e.last_message&&!e.last_message.get("invite")&&(e.get("unread")||e.get("const_unread"))&&"0"!==e.get("pinned")&&e.get("pinned"))),a.length||i.length||(a=e.filter(e=>!e.get("saved")&&!e.contact.get("group_chat")&&e.get("timestamp")&&!e.get("archived")&&("0"===e.get("pinned")||!e.get("pinned"))),i=e.filter(e=>!e.get("saved")&&!e.contact.get("group_chat")&&e.get("timestamp")&&!e.get("archived")&&"0"!==e.get("pinned")&&e.get("pinned")),n.toolbar_view.$(".toolbar-item.unread").removeClass("unread"),this.onUpdatedScreen()),a.forEach(e=>{this.$(".chat-list").append(e.item_view.$el)}),i&&(i=i.sort((e,t)=>e.get("pinned")>t.get("pinned")?1:-1),i.forEach(e=>{let t=i.indexOf(e);0===t?this.$(".pinned-chat-list").prepend(e.item_view.$el):this.$(".pinned-chat-list .chat-item").eq(t-1).after(e.item_view.$el)}))},showChatsByAccount:function(e){n.body.setScreen("all-chats"),this.$(".chat-item").detach();let t=this.model,a=t.filter(t=>t.account.get("jid")===e.get("jid")&&(t.get("saved")||t.get("timestamp")&&!t.get("archived"))&&("0"===t.get("pinned")||!t.get("pinned"))),i=t.filter(t=>t.account.get("jid")===e.get("jid")&&(t.get("saved")||t.get("timestamp")&&!t.get("archived"))&&"0"!==t.get("pinned")&&t.get("pinned"));this.$(`.omemo-item:not([data-id="${e.get("jid")}"])`).addClass("hidden"),a.forEach(e=>{this.$(".chat-list").append(e.item_view.$el)}),i&&(i=i.sort((e,t)=>e.get("pinned")>t.get("pinned")?1:-1),i.forEach(e=>{let t=i.indexOf(e);0===t?this.$(".pinned-chat-list").prepend(e.item_view.$el):this.$(".pinned-chat-list .chat-item").eq(t-1).after(e.item_view.$el)}))},showArchiveChats:function(){this.$(".chat-item").detach();let e=this.model,t=e.filter(e=>!e.get("saved")&&e.get("archived"));t.forEach(e=>{this.$(".chat-list").append(e.item_view.$el)})},showAllChats:function(){this.$(".chat-item").detach();let e=this.model,t=n.toolbar_view.$(".active.unread").length,a=[],i=[];t&&(a=e.filter(e=>e.contact&&e.get("timestamp")&&!e.get("archived")&&e.last_message&&(e.get("unread")||e.get("const_unread")||e.contact.get("invitation")||e.contact.get("subscription_request_in")&&"both"!=e.contact.get("subscription"))&&("0"===e.get("pinned")||!e.get("pinned"))),i=e.filter(e=>e.contact&&e.get("timestamp")&&!e.get("archived")&&e.last_message&&(e.get("unread")||e.get("const_unread")||e.contact.get("invitation")||e.contact.get("subscription_request_in")&&"both"!=e.contact.get("subscription"))&&"0"!==e.get("pinned")&&e.get("pinned"))),a.length||i.length||(a=e.filter(e=>(e.get("saved")||e.get("timestamp")&&!e.get("archived"))&&("0"===e.get("pinned")||!e.get("pinned"))),i=e.filter(e=>(e.get("saved")||e.get("timestamp")&&!e.get("archived"))&&"0"!==e.get("pinned")&&e.get("pinned")),n.toolbar_view.$(".toolbar-item.unread").removeClass("unread"),this.onUpdatedScreen()),a.forEach(e=>{this.$(".chat-list").append(e.item_view.$el)}),i&&(i=i.sort((e,t)=>e.get("pinned")>t.get("pinned")?1:-1),i.forEach(e=>{let t=i.indexOf(e);0===t?this.$(".pinned-chat-list").prepend(e.item_view.$el):this.$(".pinned-chat-list .chat-item").eq(t-1).after(e.item_view.$el)}))},updateScreenAllChats:function(){n.toolbar_view.$(".toolbar-item").removeClass("active").filter(".all-chats").addClass("active"),this.showAllChats()}}),n.MessageItemView=n.BasicView.extend({className:"message-item list-item",template:d.message_item,avatar_size:o.AVATAR_SIZES.CHAT_ITEM,events:{click:"openByClick"},_initialize:function(){this.contact=this.model.contact,this.account=this.contact?this.contact.account:this.model.account,this.$el.attr("data-id",this.model.id+"-"+this.cid),this.$el.attr("data-contact-jid",this.contact.get("jid")),this.updateName(),this.updateLastMessage(),this.updateAvatar(),this.updateColorScheme(),this.updateGroupChats(),this.updateIcon(),this.updateStatus(),this.account.settings.on("change:color",this.updateColorScheme,this),this.contact.on("change:status",this.updateStatus,this),this.contact.on("change:name",this.updateName,this)},updateName:function(){this.$(".chat-title").text(this.contact.get("name"))},updateAvatar:function(){let e=this.contact.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)},updateStatus:function(){let e=this.contact.get("status"),t=this.contact.getStatusMessage();this.$(".contact-status").attr("data-status",e),this.$(".chat-icon").attr("data-status",e),this.model.get("blocked")?this.$(".contact-status-message").text(n.getString("action_contact_blocked")):this.$(".contact-status-message").text(t)},updateGroupChats:function(){let e=this.contact.get("group_chat");this.$(".status").hideIf(e),this.updateIcon(),e&&(this.$el.addClass("group-chat"),this.$(".chat-title").css("color","#424242"),this.model.set("group_chat",!0))},updateIcon:function(){this.$(".chat-icon").addClass("hidden");let e=this.contact.getIcon();e&&this.$(".chat-icon").removeClass("hidden").switchClass(e,"group-invite"==e||"server"==e||"blocked"==e).html(s.templates.svg[e]())},updateColorScheme:function(){let e=this.account.settings.get("color");this.$el.attr("data-color",e)},updateLastMessage:function(e){if(e||(e=this.model),!e)return;let t=e.get("time"),a=e.get("timestamp"),i=e.get("forwarded_message"),s=e.get("files")||[],d=e.get("images")||[],l=e.get("locations")||[],p=i?e.get("message")||n.getQuantityString("forwarded_messages_count",i.length).italics():e.getText(),m=e.get("user_info")||e.isSenderMe()&&this.contact.my_info&&this.contact.my_info.attributes||{},u="";if(this.model.set({timestamp:a}),this.model.get("group_chat")&&(u=m.nickname||m.jid||(e.isSenderMe()?this.account.get("name"):e.get("from_jid"))||""),s.length||d.length||l.length){let e=c("<span class=\"text-color-500\"/>");if(s.length&&d.length)p=e.text(n.getString("recent_chat__last_message__attachments",[s.length+d.length]));else{if(1==s.length&&(s[0].is_audio||s[0].voice))p=e.text(`${n.getString("voice_message")}, `+r.pretty_duration(s[0].duration));else if(0<s.length){let t=0;s.forEach(e=>{t+=+e.size}),p=e.text(n.getQuantityString("recent_chat__last_message__files",s.length)+(0<t?`, ${r.pretty_size(t)}`:""))}if(0<d.length){let t=0;d.forEach(e=>{t+=+e.size}),p=e.text(n.getQuantityString("recent_chat__last_message__images",d.length)+(0<t?`, ${r.pretty_size(t)}`:""))}0<l.length&&(p=e.text(n.getQuantityString("recent_chat__last_message__locations",l.length)))}this.$(".last-msg").html("").append(u).append(p)}else this.$(".last-msg").text("").append(p),u&&this.$(".last-msg").prepend(c("<span class=text-color-700>"+u+": </span>"));this.$el.emojify(".last-msg",{emoji_size:16}).hyperlinkify({decode_uri:!0}),this.$(".last-msg-date").text(r.pretty_short_datetime_recent_chat(t)).attr("title",b(t)),this.$(".msg-delivering-state").showIf(e.isSenderMe()&&e.get("state")!==o.MSG_ARCHIVED).attr("data-state",e.getState())},openByClick:function(){let e=this.account.chats.getChat(this.contact);this.$el.closest(".left-panel-list-wrap").find(".list-item").removeClass("active"),this.$el.addClass("active"),n.chats_view.openChat(e.item_view,{right_contact_save:!0,clear_search:!1}),n.body.setScreen(n.body.screen.get("name"),{right:"message_context",model:e}),n.right_contact_panel_saveable&&n.body.screen.get("right_contact")&&"message_context"===n.body.screen.get("right")&&(n.right_contact_panel_saveable?e.contact.showDetailsRight("all-chats",{right_saved:!0}):e.contact.showDetailsRight("all-chats",{right_saved:!1})),this.model.get("unique_id")&&e.getMessageContext(this.model.get("unique_id"),{message:!0})}}),n.ForwardPanelView=n.SearchView.extend({className:"modal dialog-modal forward-panel-modal",template:d.forward_panel,ps_selector:".chat-list-wrap",ps_settings:{theme:"item-list"},open:function(e,t){if(this.messages=e,this.account=t,this.$(".chat-list-wrap").html(""),this.saved_chat=!1,n.chats_view.$(".chat-list-wrap .chat-item").each((e,t)=>{let a=c(t).data("id"),i=this.account.chats.get(a);if(i)if(`${this.account.get("jid")}:saved`==a){let e=c(t).clone().removeClass("hidden");e.find(".last-msg").text(n.getString("saved_messages__hint_forward_here")),this.saved_chat=!0,this.$(".chat-list-wrap").prepend(e)}else this.$(".chat-list-wrap").append(c(t).clone().removeClass("hidden"))}),!this.saved_chat){let e=this.account.chats.getSavedChat(),t=e.item_view.$el.clone();t.find(".last-msg").text(n.getString("saved_messages__hint_forward_here")),this.$(".chat-list-wrap").prepend(t)}this.$(".chat-list-wrap").prepend(c("<div/>",{class:"forward-panel-list-title recent-chats-title hidden"}).text(n.getString("category_recent_chats"))),this.$(".chat-list-wrap").append(c("<div/>",{class:"forward-panel-list-title contacts-title hidden"}).text(n.getString("category_title_contacts"))),this.$(".chat-item").removeClass("active"),this.clearSearch(),this.data.set("visible",!0),this.$el.openModal({ready:()=>{this.updateScrollBar(),this.$(".search-input").focus()},complete:()=>{this.$el.detach(),this.data.set("visible",!1)}})},close:function(){let e=new c.Deferred;return this.$el.closeModal({complete:()=>{this.$el.detach(),this.data.set("visible",!1),e.resolve()}}),e.promise()},onClickItem:function(e){let t=c(e.target).closest(".list-item");this.onEnterPressed(t)},search:function(e){let t=!1,a=!1,i=!1,s,o;e=e.toLowerCase(),this.$(".roster-contact.list-item").remove(),e&&this.account.roster.forEach(t=>{let a=t.get("jid"),s=t.hash_id,o=t.get("name").toLowerCase(),d=!!(0>o.indexOf(e)&&0>a.indexOf(e));if(!d)if(!this.$(".chat-list-wrap .chat-item[data-id=\""+s+"\"]").length){let e=n.contacts_view.$(`.account-roster-wrap[data-jid="${this.account.get("jid")}"] .roster-contact[data-jid="${a}"]`).first().clone();e.find(".muted-icon").hide(),this.$(".chat-list-wrap").append(e)}else d=!0;d||(i=!0)}),this.$(".contacts-title").switchClass("hidden",!i),this.$(".chat-item").each((i,n)=>{let d=this.account.chats.get(c(n).data("id"));return d?void(s=d.get("jid"),o=d.contact?d.contact.get("name"):d.get("name"),o&&(o=o.toLowerCase()),t=!(!o||o&&0>o.indexOf(e)&&0>s.indexOf(e)),c(n).hideIf(!t),t&&(a=!0)):void c(n).addClass("hidden")}),this.$(".recent-chats-title").switchClass("hidden",!a),this.$(".modal-content .error").showIf(!i&&!a),this.scrollToTop()},onEmptyQuery:function(){this.$(".roster-contact.list-item").remove(),this.$(".contacts-title").addClass("hidden"),this.$(".recent-chats-title").addClass("hidden")},onEnterPressed:function(e){let t;e.hasClass("roster-contact")&&(t=this.account.chats.getChat(this.account.contacts.get(e.data("jid"))).item_view),e.hasClass("chat-item")&&(t=n.chats_view.child(e.data("id"))),t&&this.forwardTo(t)},forwardTo:function(e){e.model.get("saved")?this.messages.forEach(t=>{e.content.onSubmit("",[t])}):(!e.content&&(e.content=new n.ChatContentView({chat_item:e})),e.content.bottom.setForwardedMessages(this.messages)),this.messages=[],this.close().done(()=>{e.open({clear_search:!0})})}}),n.InvitationPanelView=n.SearchView.extend({className:"modal dialog-modal add-user-group-chat",template:d.group_chats.invitation_panel_view,ps_selector:".contacts-list-wrap",ps_settings:{theme:"item-list"},_initialize:function(){this.registerClickEvents()},open:function(e,t){this.selected_contacts=[],this.account=e,this.contact=t,this.clearPanel(),n.contacts_view.$(`.account-roster-wrap[data-jid="${this.account.get("jid")}"] .roster-group`).each((e,t)=>{let a=c(t).clone();c(a).find(".list-item").each((e,t)=>{let a=this.account.contacts.get(c(t).attr("data-jid"));a.get("group_chat")&&t.remove()}),a.children(".list-item").length&&(this.$(".contacts-list-wrap").append(a),a.find(".arrow").click(e=>{this.toggleContacts(e)}),a.find(".group-head").click(e=>{this.selectAllGroup(e)}))}),this.data.set("visible",!0),this.$el.openModal({ready:()=>{this.updateScrollBar(),this.$(".search-input").focus()},complete:()=>{this.$el.detach(),this.data.set("visible",!1),this.selected_contacts=[]}})},addSelectedUsers:function(){if(!this.selected_contacts.length)return void this.$(".modal-footer button").blur();let e=this.selected_contacts.length,t=new c.Deferred,a=0;t.done(t=>{let a;a=t==e?n.getQuantityString("groupchat__toast__invitations_sent",e):n.getQuantityString("groupchat__toast_failed_to_sent_invitations",e),r.callback_popup_message(a,2e3),this.contact.trigger("invitations_send")}),c(this.selected_contacts).each((i,n)=>{this.sendInvite(n,()=>{a++,i==e-1&&t.resolve(a)},()=>{i==e-1&&t.resolve(a)})}),this.close()},clearPanel:function(){this.$(".modal-footer .errors").text(""),this.$(".counter").text(""),this.$(".contacts-list-wrap").empty(),this.clearSearch()},registerClickEvents:function(){this.$(".btn-cancel").click(()=>{this.close()}),this.$(".btn-add").click(()=>{this.addSelectedUsers()})},addUser:function(e){let t=c(e.target).closest(".list-item"),a=t.attr("data-jid");t.toggleClass("click-selected");let i=this.selected_contacts.indexOf(a);-1<i?this.selected_contacts.splice(i,1):this.selected_contacts.push(a),this.updateCounter()},sendInvite:function(e,t,a){let s=i({from:this.account.get("jid"),type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("invite",{xmlns:`${p.NS.GROUP_CHAT}#invite`}).c("jid").t(e).up().c("send").t("false").up().c("reason").t("incognito"===this.contact.get("group_info").privacy?n.getString("groupchat__incognito_group__text_invitation"):n.getString("groupchat__public_group__text_invitation",[e]));this.account.sendIQ(s,()=>{this.sendInviteMessage(e),this.close(),t&&t()},e=>{this.onInviteError(e),a&&a()})},onInviteError:function(e){let t;0<c(e).find("not-allowed").length&&(t=c(e).find("text").text()||n.getString("groupchat_you_have_no_permissions_to_do_it")),0<c(e).find("conflict").length&&(t=c(e).find("text").text()||n.getString("groupchat__invitation__error_already_invited",[c(e).find("invite").find("jid").text()])),this.$(".modal-footer .errors").removeClass("hidden").text(t)},sendInviteMessage:function(e){let t=n.getString("groupchat_legacy_invitation_body",[this.contact.get("jid")]),a=l({from:this.account.get("jid"),to:e,type:"chat",id:g()}).c("invite",{xmlns:`${p.NS.GROUP_CHAT}#invite`,jid:this.contact.get("jid")}).c("reason").t("incognito"===this.contact.get("group_info").privacy?n.getString("groupchat__incognito_group__text_invitation"):n.getString("groupchat__public_group__text_invitation",[e])).up().up().c("x",{xmlns:p.NS.GROUP_CHAT}).c("privacy").t(this.contact.get("group_info").privacy).up().up().c("body").t(t).up();this.account.sendMsg(a)},search:function(e){e=e.toLowerCase(),e&&this.$(".list-item").each((t,a)=>{let i=c(a).attr("data-jid"),n=this.account.contacts.get(i).get("name").toLowerCase(),s=1<this.$(`.list-item[data-jid="${i}"]`).length&&!this.$(`.list-item[data-jid="${i}"]`).first().is(c(a));c(a).hideIf(0>n.indexOf(e)&&0>i.indexOf(e)||s)}),this.$(".group-head").addClass("hidden"),this.$(".modal-content .error").switchClass("hidden",this.$(".list-item").length!==this.$(".list-item.hidden").length),this.scrollToTop()},onEmptyQuery:function(){this.$(".list-item").removeClass("hidden"),this.$(".group-head").removeClass("hidden")},onClickItem:function(e){this.addUser(e)},onEnterPressed:function(e){let t=e.attr("data-jid"),a=this.selected_contacts.indexOf(t);-1<a&&this.selected_contacts.splice(a,1),this.selected_contacts.push(t),this.updateCounter(),this.addSelectedUsers()},close:function(){this.$el.closeModal({complete:this.hide.bind(this)})},toggleContacts:function(e){let t=c(e.target).hasClass("mdi-chevron-down");if(t){let t=c(e.target).closest(".roster-group");t.find(".list-item").each((e,t)=>{c(t).addClass("hidden")})}else{let t=c(e.target).closest(".roster-group");t.find(".list-item").each((e,t)=>{c(t).removeClass("hidden")})}c(e.target).switchClass("mdi-chevron-right",t),c(e.target).switchClass("mdi-chevron-down",!t),this.updateScrollBar()},selectAllGroup:function(e){if(!c(e.target).hasClass("arrow")){let t=c(e.target).closest(".roster-group");t.hasClass("click-selected")?(t.removeClass("click-selected"),t.find(".list-item").each((e,t)=>{let a=c(t).attr("data-jid"),i=this.selected_contacts.indexOf(a);-1<i&&(this.selected_contacts.splice(i,1),c(t).removeClass("click-selected"))})):(t.addClass("click-selected"),t.find(".list-item").each((e,t)=>{let a=c(t).attr("data-jid"),i=this.selected_contacts.indexOf(a);-1<i||(this.selected_contacts.push(a),c(t).addClass("click-selected"))})),this.updateCounter()}},updateCounter:function(){let e=this.$(".list-item.click-selected").length;e?this.$(".counter").removeClass("hidden").text(e):this.$(".counter").text("")}}),n.SavedChatHeadView=n.BasicView.extend({className:"chat-head-wrap saved-chat",template:d.saved_chat_head,events:{"click .contact-name":"showSettings","click .circle-avatar":"showSettings","click .btn-chat-pin":"pinSavedChat","click .btn-delete-chat":"deleteChat","click .btn-search-messages":"renderSearchPanel"},_initialize:function(e){this.content=e.content,this.contact=this.content.contact,this.model=this.content.model,clearInterval(this._update_oneliner_interval),this.updateOneLiner(),this._update_oneliner_interval=setInterval(()=>{this.updateOneLiner()},120000),this.account=this.model.account,this.$el.find(".circle-avatar").html(s.templates.svg["saved-messages"]()),this.model.on("close_chat",this.closeChat,this)},render:function(){return this.$(".tooltipped").tooltip({delay:50}),this.$(".btn-more").dropdown({inDuration:100,outDuration:100,hover:!1}),this.$(".chat-head-menu").hide(),this},updateOneLiner:function(){let e=m.random(0,n.getOneLiners().length-1),t=n.getOneLiners()[e].replace(/\\n/,"");return t?void this.$(".one-liner").text(t):void this.updateOneLiner()},closeChat:function(){this.model.set({opened:!1,display:!1,active:!1}),n.chats_view.clearSearch()},showSettings:function(){this.account.showSettings()},deleteChat:function(){let e=this.account.server_features.get(p.NS.REWRITE);r.dialogs.ask(n.getString("dialog_delete_saved_messages__header"),n.getString("dialog_delete_saved_messages__confirm")+(e?"":"\n"+n.getString("dialog_delete_saved_messages__confirm",[this.account.domain]).fontcolor("#E53935")),null,{ok_button_text:e?n.getString("delete"):n.getString("dialog_clear_chat_history__button_delete_locally")}).done(t=>{if(t){if(this.account.connection&&this.account.connection.do_synchronization&&this.model.deleteFromSynchronization(),e)this.model.retractAllMessages(!1);else{let e=this.model.messages.models;c(e).each((e,t)=>{this.content.removeMessage(t)})}this.closeChat(),this.model.set("timestamp",0)}})},pinSavedChat:function(){let e=this.model.get("pinned"),t=!!(e&&"0"!==e)?"0":+new Date,a={jid:this.account.get("jid"),pinned:t,type:this.model.get("sync_type")?this.model.get("sync_type"):this.model.getConversationType(this.model)},n=i({type:"set",to:this.account.get("jid")}).c("query",{xmlns:p.NS.SYNCHRONIZATION}).c("conversation",a);this.account.sendIQ(n),this.model.set("pinned",t)},renderSearchPanel:function(){let e;this.content.isVisible()&&(e=this.content),this.model.messages_view&&this.model.messages_view.isVisible()&&(e=this.model.messages_view),e&&e.$search_form.slideToggle(200,()=>{"none"!==e.$search_form.css("display")&&e.$search_form.find("input").focus()})}}),n.ChatHeadView=n.BasicView.extend({className:"chat-head-wrap",template:d.chat_head,avatar_size:o.AVATAR_SIZES.CHAT_HEAD,events:{"click .chat-head-wrap":"showContactDetailsRight","click .chat-head-details":"showContactDetailsRight","click .contact-name":"showContactDetailsRight","click .circle-avatar":"showContactDetailsRight","click .contact-status-message.resource-hover":"showContactResources","click .contact-status-message.members-hover":"showMembersDetails","click .btn-contact-details":"showContactDetails","click .btn-clear-history":"clearHistory","click .btn-invite-users":"inviteUsers","click .btn-delete-chat":"deleteChat","click .btn-delete-contact":"deleteContact","click .btn-block-contact":"blockContact","click .btn-unblock-contact":"unblockContact","click .btn-export-history":"exportHistory","click .btn-show-fingerprints":"showFingerprints","click .btn-start-encryption":"startEncryptedChat","click .btn-open-encrypted-chat":"openEncryptedChat","click .btn-open-regular-chat":"openRegularChat","click .btn-chat-pin":"pinChat","click .btn-archive-chat":"archiveChat","click .btn-call-attention":"callAttention","click .btn-search-messages":"renderSearchPanel","click .btn-jingle-message":"sendJingleMessage","click .btn-mute-dropdown":"muteChat","click .btn-notifications.muted":"unmuteChat","click .btn-set-status":"setStatus"},_initialize:function(e){this.content=e.content,this.contact=this.content.contact,this.model=this.content.model,this.account=this.model.account,this.resources_view=new n.ContactResourcesRightView({model:this.contact.resources}),this.updateName(),this.updateStatus(),this.updateEncrypted(),this.updateAvatar(),this.updateNotifications(),this.updateArchived(),this.updatePinned(),this.model.on("change:encrypted",this.updateEncrypted,this),this.model.on("close_chat",this.closeChat,this),this.model.on("pinned",this.pinChat,this),this.model.on("change:muted",this.updateNotifications,this),this.model.on("change:archived",this.updateArchived,this),this.model.on("change:pinned",this.updatePinned,this),this.contact.on("change",this.onContactChanged,this),this.contact.on("archive_chat",this.archiveChat,this),this.contact.on("change:name",this.updateName,this),this.contact.on("change:status",this.updateStatus,this),this.contact.on("change:status_updated",this.updateStatus,this),this.contact.on("change:image",this.updateAvatar,this),this.contact.on("change:blocked",this.onChangedBlocked,this),this.contact.on("change:group_chat",this.updateGroupChatHead,this),this.contact.on("change:subscription",this.updateMenu,this),this.contact.on("change:in_roster",this.updateMenu,this),this.contact.on("update_trusted",this.updateEncryptedColor,this),n.on("change:audio",this.updateGroupChatHead,this)},render:function(){return this.$(".tooltipped").tooltip("remove"),this.$(".tooltipped").tooltip({delay:50}),this.$(".btn-more").dropdown({inDuration:100,outDuration:100,hover:!1}),this.$(".btn-notifications").dropdown({inDuration:100,outDuration:100,hover:!0,belowOrigin:!0}),this.$(".chat-head-menu").hide(),this.updateStatusMsg(),this.updateGroupChatHead(),this.contact.get("group_chat")?this.$(".contact-status-message").addClass("members-hover"):this.$(".contact-status-message").addClass("resource-hover"),this},updateEncrypted:function(){this.$el.switchClass("encrypted",this.model.get("encrypted"))},updateEncryptedColor:function(e){this.$el.attr("data-trust",e)},updateName:function(){this.$(".contact-name").text(this.contact.get("name"))},updateStatus:function(){let e=this.contact.get("status"),t=this.contact.getStatusMessage();this.$(".contact-status").attr("data-status",e),this.$(".chat-icon").attr("data-status",e),this.model.get("blocked")?this.$(".contact-status-message").text("Contact blocked"):this.$(".contact-status-message").text(t)},updateStatusMsg:function(){this.$(".contact-status-message").text(this.contact.getStatusMessage())},updateAvatar:function(){let e=this.contact.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)},onContactChanged:function(){let e=this.contact.changed;(m.has(e,"subscription_request_in")||m.has(e,"subscription_request_out")||m.has(e,"subscription")||m.has(e,"status_message"))&&this.updateStatusMsg(),(m.has(e,"private_chat")||m.has(e,"incognito_chat")||m.has(e,"invitation"))&&this.updateIcon()},onChangedBlocked:function(){this.updateMenu(),this.updateStatusMsg(),this.updateIcon()},updateMenu:function(){let e=this.contact.get("group_chat");this.$(".btn-invite-users").showIf(e&&!this.contact.get("private_chat")&&"both"==this.contact.get("subscription")),this.$(".btn-call-attention").hideIf(e||this.model.get("encrypted")),this.$(".btn-clear-history").hideIf(e),this.$(".btn-start-encryption").showIf(!e&&this.account.omemo&&!this.model.get("encrypted")&&!this.account.chats.get(`${this.contact.hash_id}:encrypted`)),this.$(".btn-open-encrypted-chat").showIf(!e&&this.account.omemo&&!this.model.get("encrypted")&&this.account.chats.get(`${this.contact.hash_id}:encrypted`)),this.$(".btn-open-regular-chat").showIf(this.model.get("encrypted")),this.$(".btn-show-fingerprints").showIf(!e&&this.account.omemo&&this.model.get("encrypted")),this.$(".btn-retract-own-messages").showIf(e),this.$(".btn-block-contact").hideIf(this.contact.get("blocked")),this.$(".btn-unblock-contact").showIf(this.contact.get("blocked")),this.$(".btn-delete-contact").showIf(this.contact.get("in_roster")&&!e),this.$(".btn-notifications").hideIf(this.contact.get("blocked")),this.$(".btn-jingle-message").hideIf(this.contact.get("blocked"))},renderSearchPanel:function(){this.contact.showDetailsRight("all-chats",{type:"search"})},showContactDetails:function(){this.contact.showDetails("all-chats")},showContactDetailsRight:function(){this.contact.showDetailsRight("all-chats",{encrypted:this.model.get("encrypted")})},showContactResources:function(){this.resources_view.open()},showMembersDetails:function(){this.contact.showDetailsRight("all-chats",{type:"members"})},updatePinned:function(){let e=this.model.get("pinned");!!(e&&"0"!==e)?this.$(".btn-chat-pin .one-line").text(n.getString("chat_action_unpin")):this.$(".btn-chat-pin .one-line").text(n.getString("chat_action_pin"))},updateNotifications:function(){this.model.isMuted()?(this.$(".btn-notifications .one-line").text(n.getString("chat_action_unmute")),this.$(".btn-notifications").addClass("muted")):(this.$(".btn-notifications .one-line").text(n.getString("chat_action_mute")),this.$(".btn-notifications").removeClass("muted")),this.$(".btn-mute-dropdown").hideIf(this.model.isMuted()),this.$(".btn-unmute-dropdown").hideIf(!this.model.isMuted())},muteChat:function(e){if(this.contact.get("blocked"))return;let t=c(e.target).closest(".btn-mute-dropdown").data("mute"),a;"minutes15"===t&&(a=900),"hours1"===t&&(a=3600),"hours2"===t&&(a=7200),"day"===t&&(a=86400),"forever"===t&&(a=0),this.model.muteChat(a)},unmuteChat:function(){this.contact.get("blocked")||this.model.muteChat("")},callAttention:function(){let e=l({type:"headline",to:this.contact.get("jid")}).c("attention",{xmlns:p.NS.ATTENTION});this.account.sendMsg(e),this.model.messages.createSystemMessage({from_jid:this.account.get("jid"),message:n.getString("action_attention_called")})},updateArchived:function(){let e=!this.model.get("archived"),t=!!e;t?this.$(".btn-archive-chat .one-line").text(n.getString("chat_action_archive")):this.$(".btn-archive-chat .one-line").text(n.getString("chat_action_unarchive")),this.$(".btn-archive-chat .mdi").switchClass("mdi-package-up",!t),this.$(".btn-archive-chat .mdi").switchClass("mdi-package-down",t),this.model.item_view&&e&&(!this.model.messages.length&&this.model.item_view.updateLastMessage(),this.account.chat_settings.updateArchiveChatsList(this.contact.get("jid"),e),this.model.get("active")&&n.chats_view.updateScreenAllChats())},archiveChat:function(e,t){let a=!this.model.get("archived");if(!t){let e=!!a?"archived":"active",t={jid:this.contact.get("jid"),status:e,type:this.model.get("sync_type")?this.model.get("sync_type"):this.model.getConversationType(this.model)},n=i({type:"set",to:this.account.get("jid")}).c("query",{xmlns:p.NS.SYNCHRONIZATION}).c("conversation",t);this.account.sendIQ(n),this.model.set("archived",a)}},pinChat:function(){let e=this.model.get("pinned"),t=!!(e&&"0"!==e)?"0":+new Date,a={jid:this.contact.get("jid"),pinned:t,type:this.model.get("sync_type")?this.model.get("sync_type"):this.model.getConversationType(this.model)},n=i({type:"set",to:this.account.get("jid")}).c("query",{xmlns:p.NS.SYNCHRONIZATION}).c("conversation",a);this.account.sendIQ(n),this.model.set("pinned",t)},sendJingleMessage:function(){return n.current_voip_call?void r.callback_popup_message(n.getString("jingle__error__call_in_progress"),1e3):void this.content.initJingleMessage()},setStatus:function(){let e=new n.SetGroupchatStatusView;e.open(this.contact)},getActiveScreen:function(){let e=n.toolbar_view.$(".active");return this.$(".omemo-item").removeClass("hidden"),e.hasClass("archive-chats")?void n.toolbar_view.showArchive():e.hasClass("all-chats")?void n.toolbar_view.showAllChats():e.hasClass("chats")?void n.toolbar_view.showChats():e.hasClass("group-chats")?void n.toolbar_view.showGroupChats():e.hasClass("account-item")?void n.toolbar_view.showChatsByAccount():void 0},updateGroupChatHead:function(){let e=this.contact.get("group_chat");this.updateIcon(),this.$(".btn-jingle-message").showIf(!e&&n.get("audio")),this.$(".contact-status").hideIf(e),this.updateMenu()},updateIcon:function(){this.$(".chat-icon").addClass("hidden");let e=this.contact.getIcon();e&&this.$(".chat-icon").removeClass("hidden group-invite blocked").switchClass(e,"group-invite"==e||"server"==e||"blocked"==e).html(s.templates.svg[e]())},inviteUsers:function(){n.invite_panel||(n.invite_panel=new n.InvitationPanelView({model:n.opened_chats})),n.invite_panel.open(this.account,this.contact)},clearHistory:function(){this.content.clearHistory(),n.chats_view.clearSearch()},leaveGroupChat:function(){this.contact.declineSubscription(),this.contact.removeFromRoster(),this.contact.set("in_roster",!1)},closeChat:function(){this.model.set({opened:!1,display:!1,active:!1}),n.chats_view.clearSearch()},deleteChat:function(){if(this.contact.get("group_chat"))r.dialogs.ask(n.getString("delete_chat"),n.getString("dialog_group_remove__confirm"),null,{ok_button_text:n.getString("delete")}).done(e=>{e&&(this.account.connection&&this.account.connection.do_synchronization&&this.model.deleteFromSynchronization(),this.leaveGroupChat(),this.closeChat())});else{let e=this.account.server_features.get(p.NS.REWRITE);r.dialogs.ask(n.getString("delete_chat"),n.getString("delete_chat_dialog_message")+(e?"":`\n${n.getString("dialog_clear_chat_history__warning_deletion_not_supported",[this.account.domain]).fontcolor("#E53935")}`),null,{ok_button_text:e?n.getString("delete"):n.getString("dialog_clear_chat_history__button_delete_locally")}).done(t=>{if(t){if(e&&this.model.retractAllMessages(!1),this.account.connection&&this.account.connection.do_synchronization)this.model.deleteFromSynchronization();else{let e=this.model.messages.models;c(e).each((e,t)=>{this.content.removeMessage(t)})}this.closeChat()}})}},deleteContact:function(){this.contact.deleteWithDialog()},blockContact:function(){this.contact.blockWithDialog()},unblockContact:function(){this.contact.unblockWithDialog()},exportHistory:function(){},showFingerprints:function(){if(this.account.omemo){let e=this.account.omemo.getPeer(this.contact.get("jid"));e.fingerprints.open()}},startEncryptedChat:function(){this.account.chats.openChat(this.contact,{encrypted:!0});let e=this.account.chats.get(this.contact.hash_id+":encrypted");e.set("timestamp",u.now()),e.item_view.updateLastMessage()},openEncryptedChat:function(){this.model.set("opened",!0),this.account.chats.openChat(this.contact,{encrypted:!0})},openRegularChat:function(){this.model.set("opened",!0),this.account.chats.openChat(this.contact)}}),n.ChatLocationView=n.BasicView.extend({className:"modal main-modal chat-location ",template:d.location_popup,events:{"click .btn-cancel":"close","click .btn-apply":"sendLocation","click #map canvas":"closeLocationName","click .nominatim.ol-search input":"initializeScrollbar","focusout .nominatim.ol-search input":"destroyScrollbar"},_initialize:function(e){this.view=e.content,this.model=this.view.model,this.account=this.view.account},render:function(){this.$el.openModal({ready:function(){Materialize.updateTextFields()},complete:this.hide.bind(this)})},sendLocation:function(){if(this.$("#output").val()){let e=this.$("#output").val(),a=(e+"").length,i=this.$("#lat").val(),n=this.$("#lon").val(),s={from_jid:this.account.get("jid"),locations:[{lat:i,lon:n}],mutable_content:[{start:0,end:a,type:"geolocation"}],message:this.$("#output").val(),begin:0,end:a},o=this.model.messages.create(s),d=o.get("msgid"),r=l({to:this.model.get("jid"),type:"chat",id:d});r.c("markable").attrs({xmlns:p.NS.CHAT_MARKERS}).up(),r.c("origin-id",{id:d,xmlns:"urn:xmpp:sid:0"}).up(),r.c("reference",{xmlns:p.NS.REFERENCE,type:"mutable",begin:0,end:a}).c("geoloc",{xmlns:p.NS.GEOLOC}).c("lat").t(i).up().c("lon").t(n).up().up().up(),r.c("body").t(e).up(),this.model.get("encrypted")&&this.account.omemo?(r.c("envelope",{xmlns:p.NS.SCE}).c("content"),c(r.tree()).children("body").length&&(r.cnode(c(r.tree()).children("body")[0]).attrs({xmlns:p.NS.CLIENT}).up(),c(r.tree()).children("body").detach()),c(r.tree()).children("reference").length&&(c(r.tree()).children("reference").each(e=>{r.cnode(c(r.tree()).children("reference")[e]).up()}),c(r.tree()).children("reference").detach()),r.up().c("rpad").t("0".repeat(200).slice(1,t(198*Math.random()+1))).up(),r.c("from",{jid:this.account.get("jid")}).up().up(),o.set({xml:c(r.tree()).clone()[0]}),this.account.omemo.encrypt(this.model.contact,r).then(e=>{e&&(r=e.message,o.set("trusted",e.is_trusted)),this.account.sendMsg(r)})):(o.set({xml:c(r.tree()).clone()[0]}),this.account.sendMsg(r))}this.close()},closeLocationName:function(){c(".ol-location").hide()},onHide:function(){this.$el.detach()},close:function(){this.$el.closeModal({complete:this.hide.bind(this)})},initializeScrollbar:function(){this.ps_container=this.$(".nominatim.ol-search"),this.ps_container.perfectScrollbar(m.extend(this.ps_settings||{},n.ps_settings))},destroyScrollbar:function(){this.ps_container=this.$(".nominatim.ol-search"),this.ps_container.perfectScrollbar("destroy")}}),n.ChatBottomView=n.BasicView.extend({className:"chat-bottom-wrap",template:d.chat_bottom,avatar_size:o.AVATAR_SIZES.CHAT_BOTTOM,mention_avatar_size:o.AVATAR_SIZES.MENTION_ITEM,events:{click:"onClickBottom","click .my-avatar":"showAccountSettings","keyup .input-message .rich-textarea":"keyUp","keydown .input-message .rich-textarea":"keyDown","change .attach-file input":"onFileInputChanged","click .attach-location":"showLocationPopup","mouseup .message-input-panel":"stopWritingVoiceMessage","mousedown .attach-voice-message":"writeVoiceMessage","click .chat-mention":"onMentionButtonClick","click .close-forward":"unsetForwardedMessages","click .send-message":"submit","click .markup-text":"onShowMarkupPanel","click .reply-message":"replyMessages","click .forward-message":"forwardMessages","click .pin-message":"pinMessage","click .copy-message":"copyMessages","click .edit-message":"showEditPanel","click .delete-message":"deleteMessages","click .close-message-panel":"resetSelectedMessages","click .mention-item":"inputMention","click .format-text":"updateMarkupPanel","click .btn-manage-devices":"openDevicesWindow"},_initialize:function(e){this.view=e.content,this.model=this.view.model,this.click_counter=0;let t=this.$(".rich-textarea-wrap"),a={enter:{key:13,handler:function(e){"enter"!==n.settings.hotkeys&&this.quill.insertText(e.index,"\n")}},arrow_up:{key:o.KEY_ARROW_UP,handler:()=>{if("none"!==this.$(".mentions-list").css("display")){let e=this.$(".mentions-list").children(".active.mention-item");if(e.length){let t=e.prev(".mention-item");e.removeClass("active"),t.length||(t=this.$(".mentions-list").children(".mention-item").last().addClass("active"),this.$(".mentions-list")[0].scrollTop=this.$(".mentions-list")[0].scrollHeight),t.addClass("active"),t.length&&t[0].offsetTop<=this.$(".mentions-list")[0].scrollTop&&(this.$(".mentions-list")[0].scrollTop=t[0].offsetTop)}else this.$(".mentions-list")[0].scrollTop=this.$(".mentions-list")[0].scrollHeight,this.$(".mentions-list").children(".mention-item").last().addClass("active");return!1}return!0}},arrow_down:{key:o.KEY_ARROW_DOWN,handler:()=>{if("none"!==this.$(".mentions-list").css("display")){let e=this.$(".mentions-list").children(".active.mention-item");if(e.length){let t=e.next(".mention-item");e.removeClass("active"),t.length||(t=this.$(".mentions-list").children(".mention-item").first(),this.$(".mentions-list")[0].scrollTop=0),t.addClass("active"),t.length&&t[0].offsetTop+t[0].clientHeight>=this.$(".mentions-list")[0].scrollTop+this.$(".mentions-list")[0].clientHeight&&(this.$(".mentions-list")[0].scrollTop=t[0].offsetTop-this.$(".mentions-list")[0].clientHeight+t[0].clientHeight)}else this.$(".mentions-list")[0].scrollTop=0,this.$(".mentions-list").children(".mention-item").first().addClass("active");return!1}return!0}},arrow_left:{key:o.KEY_ARROW_LEFT,handler:()=>"none"===this.$(".mentions-list").css("display")},arrow_right:{key:o.KEY_ARROW_RIGHT,handler:()=>"none"===this.$(".mentions-list").css("display")}};this.quill=new Quill(t[0],{modules:{keyboard:{bindings:a},toolbar:[["bold","italic","underline","strike","blockquote"],this.model.get("group_chat")?["mention"]:[],["clean"]]},formats:["bold","italic","underline","strike","blockquote","clean","emoji","mention"],placeholder:n.getString(this.model.get("encrypted")?"chat_bottom__hint_default_encrypted":"chat_bottom__hint_default"),scrollingContainer:".rich-textarea",theme:"snow"}),this.quill.container.firstChild.classList.add("rich-textarea"),this.$(".ql-mention").prop("disabled",!0),this.$(".ql-mention").append("<div class=\"chat-mention\" =\"\">@</div>"),this.contact=this.view.contact,this.account=this.view.account,this.fwd_messages=[],this.edit_message=null,this.$(".account-jid").text(this.account.get("jid")),this.updateAvatar(),this.quill.on("text-change",this.onChangedText,this),this.account.on("change:image",this.updateAvatar,this),this.account.on("trusting_updated",this.updateEncrypted,this),this.contact&&(this.contact.on("change:blocked",this.onBlockedUpdate,this),this.contact.on("update_my_info",this.updateInfoInBottom,this)),this.model.on("reply_selected_messages",this.replyMessages,this),this.model.on("forward_selected_messages",this.forwardMessages,this),this.model.on("copy_selected_messages",this.copyMessages,this),this.model.on("delete_selected_messages",this.deleteMessages,this),this.model.on("edit_selected_message",this.showEditPanel,this),this.model.on("pin_selected_message",this.pinMessage,this),this.model.on("reset_selected_messages",this.resetSelectedMessages,this),this.content_view=(this.view.data.get("visible")?this.view:this.model.messages_view)||this.view;let s=this.$(".input-message .rich-textarea"),d=s[0],r=s.parent(".rich-textarea-wrap"),l=s.siblings(".placeholder");d.onpaste=this.onPaste.bind(this),d.oncut=this.onCut.bind(this),d.ondragenter=e=>{e.preventDefault(),l.text(n.getString("chat_bottom__drag_and_drop__text_drop_files_here")),r.addClass("file-drop")},d.ondragover=e=>{e.preventDefault()},d.ondragleave=e=>{c(e.relatedTarget).closest(".rich-textarea").length||(e.preventDefault(),l.text(n.getString("chat_bottom__hint_default")),r.removeClass("file-drop"))},d.ondrop=e=>{e.preventDefault(),e.stopPropagation(),l.text(n.getString("chat_bottom__hint_default")),r.removeClass("file-drop");let t=e.dataTransfer.files||[];this.view.addFileMessage(t)};let p=this.$(".insert-emoticon"),u=this.$(".emoticons-panel-wrap"),g=this.$(".emoticons-panel"),h=0,f=0,b=Object.keys(v.all).length,A;for(let t in v.all){let e=c(`<div class="emoji-list-wrap"/>`);c(`<div id=${t} class="emoji-list-header">${n.getString(o.EMOJI_LIST_NAME(t))}</div>`).appendTo(e),m.each(v.all[t],function(a){c("<div class=\"emoji-wrap\"/>").html(a.emojify({emoji_size:24,sprite:t})).appendTo(e)}),e.appendTo(g),g.siblings(".emoji-menu").append(v.all[t][0].emojify({href:t,title:n.getString(o.EMOJI_LIST_NAME(t)),tag_name:"a",emoji_size:20}));let a=new Image;a.onload=()=>{h++,h===b&&u.find(".uploading-emoticons").detach()},a.src="./images/emoji/spritesheet"+f++ +".png"}let x=function(e){c(e.target).closest(".emoticons-panel-wrap").length||c(e.target).closest(".insert-emoticon").length||(u.removeClass("opened"),window.removeEventListener("click",x))};g.perfectScrollbar(m.extend({theme:"item-list"},n.ps_settings)),this.$(".emoji-menu .emoji").click(e=>{g[0].scrollTop=this.$(".emoji-list-wrap "+e.target.attributes.href.value)[0].offsetTop-4}),p.click(e=>{A&&clearTimeout(A),e&&e.preventDefault&&e.preventDefault(),u.hasClass("opened")?(u.removeClass("opened"),window.removeEventListener("click",x)):(u.addClass("opened"),window.addEventListener("click",x)),g.perfectScrollbar("update")}),u.hover(null,e=>{e&&e.preventDefault&&e.preventDefault(),A&&clearTimeout(A),A=setTimeout(()=>{u.removeClass("opened")},200)}),u.mousedown(e=>{if(e&&e.preventDefault&&e.preventDefault(),A&&clearTimeout(A),!e.button){let t=c(e.target),a=t.closest(".emoji-wrap").find(".emoji");t.closest(".emoji-menu").length||a.length&&this.typeEmoticon(a.data("emoji"))}}),this.renderLastEmoticons()},render:function(e){this.$(".message-input-panel").hideIf(e.blocked),this.$(".blocked-msg").showIf(e.blocked),this.$el.switchClass("chat-bottom-blocked-wrap",e.blocked),this.updateAvatar(),this.updateEncrypted();let t=this.account.server_features.get(p.NS.HTTP_UPLOAD);return this.content_view=(this.view.data.get("visible")?this.view:this.model.messages_view)||this.view,this.messages_arr=this.content_view.$el.hasClass("participant-messages-wrap")&&this.account.participant_messages||this.content_view.$el.hasClass("messages-context-wrap")&&this.account.context_messages||this.model.messages,this.renderLastEmoticons(),this.$(".attach-file").showIf(t),this.$(".attach-location").showIf(n.settings.mapping_service),this.$(".ql-toolbar.ql-snow").switchClass("ql-moved-left",!n.settings.mapping_service),this.model.get("group_chat")?this.updateInfoInBottom():(this.$(".account-nickname").hide(),this.$(".account-badge").hide(),this.$(".account-role").hide()),this.focusOnInput(),this.manageSelectedMessages(),n.chat_body.updateHeight(),this},setButtonsWidth:function(){let e=[];this.$(".message-actions-panel .button-wrap").each((t,a)=>{e.push(a.clientWidth)}),this.$(".message-actions-panel .button-wrap").css("width",`${a.apply(null,e)}px`)},updateEncrypted:function(){this.$el.children(".preloader-wrapper").detach(),this.$el.children(".omemo-disabled").detach(),this.view.$el.removeClass("encrypted"),this.view.$(".chat-notification").hasClass("encryption-warning")&&this.view.$(".chat-notification").addClass("hidden").removeClass("encryption-warning").html(""),this.$el.attr("data-trust",null),this.$el.attr("data-contact-trust",null),this.$el.find(".warning-wrap").detach(),this.model.get("encrypted")&&(this.account.omemo?(this.$el.addClass("loading"),this.$el.prepend(s.templates.contacts.preloader()),this.account.omemo.checkOwnFingerprints().then(e=>{if("none"==e||"error"==e){let t=this.view.isScrolledToBottom();this.$el.attr("data-trust",e),this.view.$(".chat-message:not([data-trust=untrusted])").attr("data-trust",e),this.view.$(".chat-day-indicator:not(.fixed-day-indicator-wrap)").attr("data-trust",e),this.view.$el.attr("data-trust",e),this.$el.removeClass("loading"),this.$el.children(".preloader-wrapper").detach(),"none"==e?this.$el.prepend(d.encryption_warning({color:"amber",message:n.getString("omemo__alert_new_device_yours__text_new_device")})):this.$el.prepend(d.encryption_warning({color:"red",message:n.getString("omemo__alert_keys_changed_yours__text_keys_changed")})),n.chat_body.updateHeight(),t&&this.view.scrollToBottom(),this.account.omemo.checkContactFingerprints(this.contact),this.model.get("active")&&this.model.get("display")&&this.focusOnInput()}else this.account.omemo.checkContactFingerprints(this.contact).then(e=>{let t=this.view.isScrolledToBottom();return this.$el.removeClass("loading"),this.$el.children(".preloader-wrapper").detach(),"nil"===e?(this.$el.prepend(c(`<div class="warning-wrap no-fingerprints">${n.getString("omemo__dialog_fingerprints__text_no_fingerprints")}</div>`)),void this.$el.attr("data-contact-trust",e)):void("error"===e?(this.$el.attr("data-contact-trust",e),this.$el.prepend(d.encryption_warning({color:"red",message:n.getString("omemo__alert_keys_changed_partner__text_keys_changed")}))):("none"==e&&(this.view.$el.addClass("encrypted"),this.view.$(".chat-notification").removeClass("hidden").addClass("encryption-warning").html(d.content_encryption_warning({message:n.getString("omemo__alert_new_device_partner__text_new_device")}))),this.$el.attr("data-contact-trust",e)),this.view.$el.attr("data-trust",e),this.view.$(".chat-message:not([data-trust=untrusted])").attr("data-trust",e),this.view.$(".chat-day-indicator:not(.fixed-day-indicator-wrap)").attr("data-trust",e),n.chat_body.updateHeight(),t&&this.view.scrollToBottom(),this.model.get("active")&&this.model.get("display")&&this.focusOnInput())})})):(this.$el.addClass("loading"),this.$el.prepend(c("<div class=\"omemo-disabled warning-wrap\"/>").text(n.getString("omemo__chat__placeholder_encryption_disabled")))))},openDevicesWindow:function(){if(!this.account.omemo)r.dialogs.error(n.getString("omemo__chat__placeholder_encryption_disabled"));else if(void 0!==this.$el.attr("data-trust"))this.omemo_devices||(this.omemo_devices=new n.Fingerprints({model:this.account.omemo})),this.omemo_devices.open();else if(void 0!==this.$el.attr("data-contact-trust")){let e=this.account.omemo.getPeer(this.contact.get("jid"));e.fingerprints.open()}},onBlockedUpdate:function(){if(this.isVisible()){let e=this.model.get("blocked");this.$(".message-input-panel").hideIf(e),this.$(".blocked-msg").showIf(e),this.$el.switchClass("chat-bottom-blocked-wrap",e)}},onClickBottom:function(e){this.$el.hasClass("chat-bottom-blocked-wrap")&&!c(e.target).closest(".message-actions-panel").length&&this.contact.showDetails(n.body.screen.get("name")),c(e.target).closest(".ql-editor.rich-textarea").length&&!this.quill.getText().trim().length&&3==++this.click_counter&&(this.click_counter=0,this.setOneLiner())},updateInfoInBottom:function(){if(this.contact&&this.contact.my_info){let e=this.contact.my_info.get("nickname"),t=this.contact.my_info.get("badge"),a=this.contact.my_info.get("b64_avatar"),i=this.contact.my_info.get("role");e?(this.$(".account-jid").hide(),this.$(".account-nickname").show().text(e)):this.$(".account-nickname").hide(),t?this.$(".account-badge").show().text(t):this.$(".account-badge").hide(),i&&"member"!=i?this.$(".account-role").show().text(r.pretty_name(i)):this.$(".account-role").hide(),this.$(".input-toolbar").emojify(".account-badge",{emoji_size:16}),!a&&this.contact.my_info.get("avatar_url")&&(a=this.contact.my_info.get("avatar_url")),!a&&this.account.cached_image&&(a=this.account.cached_image),a||(a=h.getDefaultAvatar(e)),this.$(".my-avatar.circle-avatar").setAvatar(a,this.avatar_size)}else this.$(".account-jid").show(),this.$(".account-nickname").hide(),this.$(".account-badge").hide(),this.$(".account-role").hide()},updateAvatar:function(){let e;this.contact&&this.contact.get("group_chat")?(this.contact.my_info&&(this.contact.my_info.get("b64_avatar")&&(e=this.contact.my_info.get("b64_avatar")),!e&&this.contact.my_info.get("avatar_url")&&(e=this.contact.my_info.get("avatar_url")),!e&&this.account.cached_image&&(e=this.account.cached_image)),!e&&(e=h.getDefaultAvatar(this.contact.my_info&&this.contact.my_info.nickname||this.account.get("jid")))):e=this.account.cached_image,this.$(".my-avatar.circle-avatar").setAvatar(e,this.avatar_size)},focusOnInput:function(){return n.body.$el.siblings("#modals").children(".open").length?(this.quill.blur(),this.quill.disable()):(this.quill.enable(),this.quill.focus()),this},moveCursorToEnd:function(){let e=document.createRange(),t=window.getSelection(),a=this.quill.root;e.selectNodeContents(a),e.collapse(!1),t.removeAllRanges(),t.addRange(e),a.focus(),e.detach(),a.scrollTop=a.scrollHeight},keyDown:function(e){let t=this.$(".input-message .rich-textarea");if((e.keyCode!==o.KEY_ESCAPE||n.body.screen.get("right_contact"))&&e.keyCode!==o.KEY_BACKSPACE&&e.keyCode!==o.KEY_DELETE){if(e.keyCode===o.KEY_ENTER||10===e.keyCode){if("none"!==this.$(".mentions-list").css("display")){let t=this.$(".mentions-list").children(".active.mention-item");return t.length&&t.click(),void e.preventDefault()}let t="enter"===n.settings.hotkeys;if(t&&e.keyCode===o.KEY_ENTER&&!e.shiftKey||!t&&e.ctrlKey)return e.preventDefault(),void this.submit()}t.getTextFromRichTextarea().trim()&&!this.view.chat_state&&!this.view.edit_message&&n.settings.typing_notifications&&this.view.sendChatState("composing")}},displayMicrophone:function(){this.$(".mdi-send").addClass("hidden"),this.$(".attach-voice-message").removeClass("hidden")},displaySend:function(){this.$(".mdi-send").removeClass("hidden"),this.$(".attach-voice-message").addClass("hidden")},updateMarkupPanel:function(e){let t=c(e.target).closest(".format-text");t.toggleClass("active"),t.hasClass("active")?(this.$(".ql-toolbar.ql-snow").show(),this.$(".last-emoticons").hide()):(this.$(".ql-toolbar.ql-snow").hide(),this.$(".last-emoticons").show())},setOneLiner:function(){let e=m.random(0,n.getOneLiners().length-1),t=n.getOneLiners()[e].replace(/\\n/,"");return t?void this.updatePlaceholder(t):void this.setOneLiner()},setDefaultPlaceholder:function(){let e=this.model.get("encrypted")?n.getString("chat_bottom__hint_default_encrypted"):n.getString("chat_bottom__hint_default");this.updatePlaceholder(e)},updatePlaceholder:function(e){this.quill.root.setAttribute("data-placeholder",e)},changeEncryption:function(){this.model.set("encrypted",!this.model.get("encrypted"))},getParticipantsList:function(){let e=[];return this.contact.participants.each(t=>{e.push(t.get("nickname")||t.get("jid")||t.get("id"))}),e.join(", ")},onChangedText:function(){let e=this.$el.height();e!==this.bottom_height&&(this.bottom_height=e,this.view.scrolled_to_bottom=this.view.isScrolledToBottom())},updateMentionsList:function(e){e=(e||"").toLowerCase(),this.contact.searchByParticipants(e,t=>{if(t.length||-1<n.getString("chat_bottom__mentions_list__item_everyone").toLowerCase().indexOf(e)||"*"===e||-1<"all".indexOf(e)||-1<"\u0432\u0441\u0435".indexOf(e)){this.$(".mentions-list").html("").show().perfectScrollbar({theme:"item-list"}),this.$(".mentions-list")[0].scrollTop=0,t.forEach(t=>{let a=m.clone(t.attributes);if(a.id){a.nickname=a.nickname?p.xmlescape(a.nickname):a.id;let i=c(d.group_chats.mention_item(a));i.find(".circle-avatar").setAvatar(t.get("b64_avatar")||r.images.getDefaultAvatar(t.get("nickname")||t.get("jid")||t.get("id")),this.mention_avatar_size),i.find(".nickname").text().replace(e,e.bold()),this.$(".mentions-list").append(i)}});let a=c(d.group_chats.mention_item({jid:"",nickname:n.getString("chat_bottom__mentions_list__item_everyone"),id:""}));a.find(".circle-avatar").setAvatar(this.contact.cached_image,this.mention_avatar_size),a.find(".one-line.jid").text(this.getParticipantsList()),this.$(".mentions-list").append(a),this.$(".mentions-list").children(".mention-item").first().addClass("active")}else this.$(".mentions-list").html("").hide()})},onMentionButtonClick:function(){if(this.$(".ql-mention").hasClass("ql-active"))return this.$(".ql-mention").prop("disabled",!1),this.$(".ql-mention").click(),void this.$(".ql-mention").prop("disabled",!0);let e=this.quill.getSelection()?this.quill.getSelection().index:this.quill.getLength()-1;this.quill.insertText(e," @ ","user"),this.quill.setSelection(e+2,0);this.contact.participants.length&&0<this.contact.participants.version&&this.contact.get("group_info")&&this.contact.participants&&this.contact.get("group_info").members_num==this.contact.participants.length?this.updateMentionsList(""):this.contact.participants.participantsRequest({version:0},()=>{this.updateMentionsList("")})},inputMention:function(e){e&&e.preventDefault();let t=this.$(".rich-textarea"),i=c(e.target).closest(".mention-item"),n=i.data("nickname"),s=i.data("id")||"",o=!this.contact.get("incognito_chat")&&i.data("jid")||"",d=t.getTextFromRichTextarea().replace(/\n$/,""),r=this.quill.selection.lastRange&&this.quill.selection.lastRange.index,l=Array.from(d).slice(0,r).join("").replaceEmoji(),p=l&&Array.from(l.matchAll(/(^|\s)@(\w+)?/g))||[],m=l&&Array.from(l.matchAll(/(^|\s)[+](\w+)?/g))||[],u=p.length?p.slice(-1)[0].index:-1,g=m.length?m.slice(-1)[0].index:-1,h=a(u,g),v=Array.from(l).slice(h,r).join("");if(v.length&&v[0].match(/\s/)&&h++,v=v.replace(/\s?(@|[+])/,""),this.$(".mentions-list").hide(),this.quill.deleteText(h,++v.length),!n.length)if(s.length)n=s;else return;this.insertMention({jid:o,id:s,nickname:n,position:h}),this.focusOnInput()},insertMention:function(e){if(e){let t=e.id,a=e.jid,i=e.nickname,n=!t&&!a||this.account.get("jid")===a||this.contact.my_info&&this.contact.my_info.get("id")===t,s={jid:a,id:t,nickname:p.xmlescape(i),is_me:n},o=e.position;this.quill.insertEmbed(o,"mention",JSON.stringify(s)),this.quill.pasteHTML(o+i.length,"<text> </text>"),this.quill.setSelection(o+i.length+1,0)}},showAccountSettings:function(){this.contact.get("group_chat")?this.contact.my_info&&this.contact.my_rights?(this.contact.showDetailsRight("all-chats",{type:"participant"}),this.contact.details_view_right.participants.participant_properties_panel.open(this.contact.my_info,this.contact.my_rights)):this.contact.getMyInfo(()=>{this.contact.showDetailsRight("all-chats",{type:"participant"}),this.contact.details_view_right.participants.participant_properties_panel.open(this.contact.my_info,this.contact.my_rights)}):this.account.showSettings()},keyUp:function(e){let t=c(e.target).closest(".rich-textarea"),i=t.getTextFromRichTextarea().replace(/\n$/,"");if(i&&(this.click_counter=0,this.setDefaultPlaceholder()),e.keyCode===o.KEY_ARROW_UP&&!i){let e=this.view.$(`.chat-message[data-from="${this.account.get("jid")}"]`).last();!e.length&&this.contact.participants&&(e=this.view.$(`.chat-message[data-from="${this.contact.participants.find(e=>e.get("jid")===this.account.get("jid")).get("id")}"]`).last());let t=this.messages_arr.get(e.data("uniqueid"));this.edit_message=t,this.setEditedMessage(t)}if(i&&"\n"!=i||this.edit_message?this.displaySend():this.displayMicrophone(),e.keyCode===o.KEY_ESCAPE&&!n.body.screen.get("right_contact"))e.preventDefault(),this.unsetForwardedMessages();else{if(e.keyCode===o.KEY_ARROW_UP||e.keyCode===o.KEY_ARROW_DOWN)return;if((e.keyCode===o.KEY_ARROW_LEFT||e.keyCode===o.KEY_ARROW_RIGHT)&&"none"!==this.$(".mentions-list").css("display"))return void this.$(".mentions-list").hide();if(e.keyCode!==o.KEY_BACKSPACE&&e.keyCode!==o.KEY_DELETE||this.edit_message||i&&"\n"!=i||(this.$(".fwd-messages-preview").hasClass("hidden")?this.displayMicrophone():this.displaySend(),t.flushRichTextarea()),e.keyCode===o.KEY_SPACE){let e=this.quill.selection.lastRange&&this.quill.selection.lastRange.index,t=Array.from(i).slice(0,e).join("").replaceEmoji();if(t[e-2]&&t[e-2].match(/@|[+]/))return void this.$(".mentions-list").hide()}if(this.model.get("group_chat")){let e=this.quill.selection.lastRange&&this.quill.selection.lastRange.index,t=Array.from(i).slice(0,e).join("").replace(/\n$/,"").replaceEmoji(),n=Array.from(t.matchAll(/(^|\s)@(\w+)?/g)),s=Array.from(t.matchAll(/(^|\s)[+](\w+)?/g)),o=n.length?n.slice(-1)[0].index:-1,d=s.length?s.slice(-1)[0].index:-1,r=a(o,d);if(this.quill.selection.lastRange&&"mention"===this.quill.getLeaf(this.quill.selection.lastRange.index)[0].parent.domNode.tagName.toLowerCase())return void this.$(".mentions-list").hide();if(-1<e&&-1!==r||this.$(".mentions-list").hide(),-1<r){let a=Array.from(t).slice(r,e).join("").replace(/\s?(@|[+])/,"");this.contact.participants.length&&0<this.contact.participants.version&&this.contact.get("group_info")&&this.contact.participants&&this.contact.get("group_info").members_num==this.contact.participants.length?this.updateMentionsList(a):this.contact.participants.participantsRequest({version:0},()=>{this.updateMentionsList(a)})}else this.$(".mentions-list").hide()}}t.updateRichTextarea(),this.focusOnInput(),n.chat_body.updateHeight()},onCut:function(){this.$(".fwd-messages-preview").hasClass("hidden")?this.displayMicrophone():this.displaySend()},onPaste:function(e){e.preventDefault();let t=c(e.target),a=e.clipboardData;if(a)if(0<a.files.length){let e=a.files[a.files.length-1],t=window.URL.createObjectURL(new Blob([e]));r.dialogs.ask(n.getString("dialog_send_image_from_clipboard__header"),n.getString("dialog_send_image_from_clipboard__confirm"),{blob_image_from_clipboard:t},{ok_button_text:n.getString("chat_send")}).done(t=>{this.focusOnInput(),t&&(e.name="clipboard.png",this.view.addFileMessage([e]))}),this.focusOnInput()}else if(0<a.items.length){let e=a.items[a.items.length-1];if("file"===e.kind){let t=e.getAsFile(),a=new FileReader,i=new c.Deferred;a.onload=function(e){let t={blob_image_from_clipboard:e.target.result};r.dialogs.ask(n.getString("dialog_send_image_from_clipboard__header"),n.getString("dialog_send_image_from_clipboard__confirm"),t,{ok_button_text:n.getString("chat_send")}).done(e=>{this.focusOnInput(),e&&i.resolve()}),this.focusOnInput()},i.done(()=>{t.name="clipboard.png",this.view.addFileMessage([t])}),a.readAsDataURL(t)}else{let e=m.escape(a.getData("text")),t=Array.from(e);t.forEach((e,a)=>{"\n"==e&&t.splice(a,1,"</p><p>")}),e="<p>"+t.join("").emojify({tag_name:"span"})+"</p>",window.document.execCommand("insertHTML",!1,e)}}else{let e=m.escape(a.getData("text")),t=Array.from(e);t.forEach((e,a)=>{"\n"==e&&t.splice(a,1,"</p><p>")," "==e&&t.splice(a,1,"&nbsp")}),e="<p>"+t.join("").emojify({tag_name:"span"})+"</p>",window.document.execCommand("insertHTML",!1,e)}t.getTextFromRichTextarea().replace(/\n$/,"")&&!this.view.chat_state&&!this.view.edit_message&&n.settings.typing_notifications&&this.view.sendChatState("composing"),this.focusOnInput(),n.chat_body.updateHeight()},onFileInputChanged:function(e){let t=e.target,a=[];for(let n=0;n<t.files.length;n++)a.push(t.files[n]);this.view.addFileMessage(a),c(t).val("")},showLocationPopup:function(e){n.settings.mapping_service&&(window.popup_coordinates=void 0,window.location_name=void 0,new n.ChatLocationView({content:this}).show(e))},stopWritingVoiceMessage:function(){let e=this.$(".message-input-panel");if(0<e.find(".recording").length)return void e.find(".recording").removeClass("recording")},writeVoiceMessage:function(e){let t=c(e.target);t.hasClass("recording")?t.removeClass("recording"):(t.addClass("recording ground-color-50"),!this.model.get("recording_voice_message")&&this.initAudio())},initAudio:function(){if(navigator.getUserMedia=navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.webkitGetUserMedia||navigator.getUserMedia,navigator.getUserMedia){this.model.set("recording_voice_message",!0);let t=[],a=this.$(".send-area .attach-voice-message");window.navigator.getUserMedia({audio:!0,channelCount:1},i=>{if(!a.is(":hover"))return a.removeClass("recording ground-color-50"),void this.model.set("recording_voice_message",!1);let s=new MediaRecorder(i),d=1,c=!0,l,p;s.onstart=()=>{n.settings.typing_notifications&&(this.view.sendChatState("composing","voice"),this._chatstate_send_timeout=setInterval(()=>{this.view.sendChatState("composing","voice")},o.CHATSTATE_INTERVAL_COMPOSING_AUDIO)),l=u.now();let e=this.$(".message-input-panel"),t=this.$(".input-voice-message .timer"),i=this.$(".input-voice-message .voice-msg-status"),p=this.$(".input-voice-message .voice-visualizer");t.text("0:00"),i.css("color","#9E9E9E").text(n.getString("chat_bottom__placeholder__cancel_write_voice")),e.addClass("voice-message-recording");let m=setInterval(()=>{a.hasClass("recording")&&d<o.VOICE_MSG_TIME?(0==d%1&&t.text(r.pretty_duration(d)),d=(10*d+2)/10,c=e.is(":hover"),c?i.css("color","#9E9E9E").text(n.getString("chat_bottom__placeholder__cancel_write_voice")):i.css("color","#D32F2F").text(n.getString("chat_bottom__placeholder__cancel_write_voice_short"))):(c=e.is(":hover"),s.stop(),a.removeClass("recording ground-color-50"),e.removeClass("voice-message-recording"),this.model.set("recording_voice_message",!1),clearInterval(m))},200),g=!1,h=setInterval(()=>{a.hasClass("recording")?(g?p.css("background-color","#FFF"):p.css("background-color","#D32F2F"),g=!g):clearInterval(h)},500)},s.start(),s.onstop=()=>{if(clearInterval(this._chatstate_send_timeout),n.settings.typing_notifications&&this.view.sendChatState("paused"),p=u.now(),c&&1.5<=(p-l)/1e3){let a="voice message "+u().format("YYYY-MM-DD HH:mm:ss")+".ogg",i=new Blob(t,{type:"audio/ogg; codecs=opus"}),n=new File([i],a,{type:"audio/ogg; codecs=opus"});n.voice=!0,n.duration=e((p-l)/1e3),this.view.addFileMessage([n])}t=[]},s.ondataavailable=a=>{t.push(a.data),i.getTracks().forEach(e=>e.stop())}},e=>{console.log(n.getString("file_upload__error",[e])),a.removeClass("recording ground-color-50")})}},typeEmoticon:function(e){"number"==typeof e&&(e=(+e).toString());let t=-1;this.quill.selection.lastRange?t=this.quill.selection.lastRange.index:this.quill.selection.savedRange&&(t=this.quill.selection.savedRange.index),this.quill.focus(),this.edit_message||this.displaySend(),!this.view.chat_state&&n.settings.typing_notifications&&this.view.sendChatState("composing"),this.quill.insertEmbed(t,"emoji",e),this.quill.getFormat(t,1).mention&&this.quill.formatText(t,1,"mention",!1),this.quill.setSelection(t+1),n.chat_body.updateHeight()},renderLastEmoticons:function(){let e=this.account.chat_settings.getLastEmoji(),t=this.$(".last-emoticons").empty(),a;if(7>e.length)for(let e=0;7>e;e++)a=v.getByIndex(e),this.account.chat_settings.updateLastEmoji(a);e=this.account.chat_settings.getLastEmoji();for(let a=0;7>a;a++)c("<div class=\"emoji-wrap\"/>").html(e[a]&&e[a].emojify({tag_name:"div",emoji_size:20})).appendTo(t);t.find(".emoji-wrap").mousedown(e=>{if(e&&e.preventDefault&&e.preventDefault(),!e.button){let t=c(e.target).closest(".emoji-wrap").find(".emoji");this.typeEmoticon(t.data("emoji"))}})},submit:function(){let e=this.$(".input-message .rich-textarea"),t=[],a=[],i=[],s=e.getTextFromRichTextarea();this.$(".mentions-list").html("").hide(),e.find(".emoji").each((e,t)=>{let a=t.innerText;this.account.chat_settings.updateLastEmoji(a)});let d=[];if(s.length>=o.STANZA_MAX_SIZE)return r.dialogs.error(n.getString("message__error_big_stanza")),void e.flushRichTextarea();s.length&&this.quill.getContents().forEach(n=>{if(n.attributes){let r=[],l=d.length,p=l+(n.insert&&n.insert.emoji?1:m.escape(n.insert).length);for(let e in n.attributes)"alt"!=e&&"blockquote"!==e&&r.push(e);if(-1<r.indexOf("mention")){let a=r.indexOf("mention"),i=this.contact.get("group_chat"),n=c(e.find("mention")[t.length]).attr("data-target");r.splice(a,a+1),n=i?"xmpp:"+this.contact.get("jid")+n:"xmpp:"+n,t.push({start:l,end:p,target:n,is_gc:i})}n.attributes.blockquote&&d.length&&Array.from(n.insert).forEach(e=>{let t=0>d.lastIndexOf("\n")?0:d.lastIndexOf("\n")+1,n=d.length;i.push({marker:o.QUOTE_MARKER,start:t,end:n+o.QUOTE_MARKER.length}),s=Array.from(m.escape(s)),t===n?(s[t-1]+=o.QUOTE_MARKER,d[t]=o.QUOTE_MARKER):(s[t]=o.QUOTE_MARKER+s[t],d[t]=o.QUOTE_MARKER+d[t]),n>s.length&&(n=s.length),s[n-1]+="\n",s=m.unescape(s.join("")),d=Array.from(d.join("")),a.forEach(e=>{e.start>=t&&(e.start+=o.QUOTE_MARKER.length,e.end+=o.QUOTE_MARKER.length)}),d=d.concat(Array.from(m.escape(e)))}),r.length&&a.push({start:l,end:p,markup:r})}n.insert&&n.insert.emoji?d=d.concat(Array.from(c(n.insert.emoji).data("emoji"))):n.attributes&&n.attributes.blockquote||(d=d.concat(Array.from(m.escape(n.insert))))});let l=s.length;if(s=s.trimStart(),l>s.length){let e=l-s.length;t.forEach(t=>{t.start-=e,t.end-=e}),a.forEach(t=>{t.start-=e,t.end-=e}),i.forEach(t=>{t.start-=e,t.end-=e})}return s=s.trimEnd(),e.flushRichTextarea(),this.quill.focus(),this.displayMicrophone(),this.edit_message?(this.editMessage(s,{mentions:t,markup_references:a,blockquotes:i}),void e.placeCaretAtEnd()):void((s||this.fwd_messages.length)&&(this.model.get("saved")&&this.fwd_messages.length&&!s?this.fwd_messages.forEach(e=>{this.view.onSubmit("",[e])}):this.view.onSubmit(s,this.fwd_messages,{mentions:t,markup_references:a,blockquotes:i})),this.unsetForwardedMessages(),n.chats_view.clearSearch(),this.model.messages_view&&this.model.messages_view.data.get("visible")&&n.chats_view.openChat(this.model.item_view,{right_contact_save:!0,clear_search:!0,screen:n.body.screen.get("name")}),e.placeCaretAtEnd())},setEditedMessage:function(e){this.click_counter=0,this.setDefaultPlaceholder();let t=e.get("message")||"";this.$(".fwd-messages-preview").showIf(this.edit_message),this.$(".fwd-messages-preview .msg-author").text(n.getString("edit_message__header")),this.$(".fwd-messages-preview .msg-text").html(p.xmlescape(t)),this.$(".fwd-messages-preview").emojify(".msg-text",{emoji_size:18}),this.displaySend(),n.chat_body.updateHeight();let a=r.markupBodyMessage(e,"mention"),i=a.emojify({tag_name:"div"}),s=i.split("\n");s.forEach((e,t)=>{e.includes("</blockquote>")||(s[t]="<p>"+s[t]+"</p>")}),i=s.join(""),this.quill.setText(""),this.quill.root.innerHTML=i,this.moveCursorToEnd(),this.focusOnInput()},setForwardedMessages:function(e){if(this.fwd_messages=e||[],this.$(".fwd-messages-preview").showIf(e.length),e.length){let t=e[0],a,i,s,o;if(1<e.length)i=n.getQuantityString("forwarded_messages_count",e.length);else if(t.get("forwarded_message"))i=n.getQuantityString("forwarded_messages_count",e.length);else{i=(t.get("message")||t.get("original_message")).emojify();let e=t.get("images"),a=t.get("files"),d=t.get("locations");if(e&&a)i=e.length+a.length+" attachments";else{if(e&&(1<e.length?i=n.getQuantityString("recent_chat__last_message__images",e.length):(s=m.clone(t.get("images")[0]),o=this.createPreviewImage(s))),a)if(1<a.length)i=n.getQuantityString("recent_chat__last_message__files",a.length);else{let e=a[0].size;i=e?a[0].name+",   "+e:a[0].name}d&&(1<d.length?i=n.getQuantityString("recent_chat__last_message__locations",d.length):i=n.getString("recent_chat__last_message__locations_plural_0"))}}let d=t.get("from_jid");a=t.isSenderMe()?this.account.get("name"):t.get("user_info")&&t.get("user_info").nickname||(this.account.contacts.get(d)?this.account.contacts.get(d).get("name"):d),this.$(".fwd-messages-preview .msg-author").text(a),m.isUndefined(s)?this.$(".fwd-messages-preview .msg-text").html(i):this.$(".fwd-messages-preview .msg-text").html(o)}n.chat_body.updateHeight(),this.displaySend()},onShowMarkupPanel:function(e){let t=c(e.target),a=t.hasClass("opened");this.$(".last-emoticons").showIf(a),this.$(".markup-panel").showIf(!a),t.switchClass("opened",!a)},createPreviewImage:function(e){let t=new Image;return t.src=e.sources[0],c(t).addClass("fwd-img-preview"),t},unsetForwardedMessages:function(e){e&&e.preventDefault&&e.preventDefault();let t=this.$(".input-message .rich-textarea");this.fwd_messages=[],this.edit_message&&t.flushRichTextarea(),this.edit_message=null,this.$(".fwd-messages-preview").addClass("hidden");let a=t.getTextFromRichTextarea();a&&"\n"!=a?this.displaySend():this.displayMicrophone(),n.chat_body.updateHeight(),this.focusOnInput()},resetSelectedMessages:function(){this.content_view.$(".chat-message.selected").removeClass("selected"),this.manageSelectedMessages()},manageSelectedMessages:function(){let e=this.content_view.$(".chat-message.selected"),t=this.$(".message-input-panel"),a=this.$(".message-actions-panel");if(length=e.length,t.hideIf(this.model.get("blocked")||length),a.showIf(length),this.model.get("blocked")&&this.$(".blocked-msg").hideIf(length),length){this.setButtonsWidth();let t=!1;1===length&&(e.first().data("from")===this.account.get("jid")&&(t=!0),this.contact&&this.contact.my_info&&e.first().data("from")===this.contact.my_info.get("id")&&(t=!0)),a.find(".pin-message-wrap").showIf(this.model.get("group_chat")).switchClass("non-active",1!==length&&this.model.get("group_chat")),a.find(".reply-message-wrap").switchClass("non-active",this.model.get("blocked")),a.find(".edit-message-wrap").switchClass("non-active",!(1===length&&t)||this.content_view.$(".chat-message.saved-main.selected").length||this.model.get("blocked")),this.view.$(".chat-notification").hasClass("encryption-warning")||this.view.$(".chat-notification").removeClass("hidden").addClass("msgs-counter").text(n.getQuantityString("chat_screen__bottom_panel__selected_messages__text",length))}else this.view.$(".chat-notification").hasClass("encryption-warning")||this.view.$(".chat-notification").addClass("hidden").removeClass("msgs-counter").text(""),this.focusOnInput()},pinMessage:function(){if(this.model.get("active")&&!this.$(".pin-message-wrap").hasClass("non-active")){let e=this.content_view.$(".chat-message.selected").first(),t=this.messages_arr.get(e.data("uniqueid")),a=t.get("stanza_id");this.resetSelectedMessages();let s=i({from:this.account.get("jid"),type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("update",{xmlns:p.NS.GROUP_CHAT}).c("pinned-message").t(a);this.account.sendIQ(s,()=>{},e=>{c(e).find("not-allowed").length&&r.dialogs.error(n.getString("groupchat_you_have_no_permissions_to_do_it"))})}},copyMessages:function(){if(!this.model.get("active"))return;let e=this.content_view.$(".chat-message.selected"),t=[];e.each((e,a)=>{let i=this.messages_arr.get(a.dataset.uniqueid);i&&t.push(i)}),this.resetSelectedMessages(),this.pushMessagesToClipboard(t)},editMessage:function(e,a){let n=p.xmlescape(this.edit_message.get("original_message")||""),s="",o=this.edit_message.get("mutable_content"),d=o&&o.find(e=>"groupchat"===e.type),r=this.edit_message.get("stanza_id"),l=o&&o.filter(e=>"forward"===e.type),m=a.markup_references||[],u=a.blockquotes||[],g=a.mentions||[],h=i({from:this.account.get("jid"),type:"set",to:this.contact&&this.contact.get("group_chat")?this.contact.get("jid"):this.account.get("jid")}).c("replace",{xmlns:p.NS.REWRITE,id:r}),v=$build("message").attrs({xmlns:void 0});if(l&&l.forEach((e,t)=>{let a=this.edit_message.get("forwarded_message")[t],i=d&&d.start+d.end;v.c("reference",{xmlns:p.NS.REFERENCE,begin:d?e.start-i:e.start,end:d?e.end-i:e.end,type:"mutable"}).c("forwarded",{xmlns:p.NS.FORWARD}).c("delay",{xmlns:"urn:xmpp:delay",stamp:a.get("time")}).up().cnode(a.get("xml")).up().up().up(),s+=n.slice(e.start,e.end)}),m.forEach(e=>{for(let t in v.c("reference",{xmlns:p.NS.REFERENCE,begin:e.start+s.length,end:e.end+s.length,type:"decoration"}),e.markup)v.c(e.markup[t],{xmlns:p.NS.MARKUP}).up();v.up()}),u.forEach(e=>{v.c("reference",{xmlns:p.NS.REFERENCE,begin:e.start+s.length,end:e.end+s.length,type:"decoration"}).c("quote",{xmlns:p.NS.MARKUP}).up().up()}),g.forEach(e=>{let t={xmlns:p.NS.MARKUP};e.is_gc&&(t.node=p.NS.GROUP_CHAT),v.c("reference",{xmlns:p.NS.REFERENCE,begin:e.start+s.length,end:e.end+s.length,type:"decoration"}).c("mention",t).t(e.target).up().up()}),v.c("body").t(p.xmlunescape(s)+e).up(),this.unsetForwardedMessages(),this.model.get("encrypted")){let e=v.tree().innerHTML;v.c("envelope",{xmlns:p.NS.SCE}).c("content"),c(v.tree()).children("body").length&&(v.cnode(c(v.tree()).children("body")[0]).attrs({xmlns:p.NS.CLIENT}).up(),c(v.tree()).children("body").detach()),c(v.tree()).children("reference").length&&(c(v.tree()).children("reference").each(e=>{v.cnode(c(v.tree()).children("reference")[e]).up()}),c(v.tree()).children("reference").detach()),v.up().c("rpad").t("0".repeat(200).slice(1,t(198*Math.random()+1))).up(),v.c("from",{jid:this.account.get("jid")}).up().up(),this.account.omemo.encrypt(this.contact,v).then(t=>{h.cnode(t.message.tree()),this.account.omemo.cached_messages.putMessage(this.contact,r,e),this.account.sendIQ(h)})}else h.cnode(v.tree()),this.account.sendIQ(h)},showEditPanel:function(){if(this.model.get("active")&&!this.$(".edit-message-wrap").hasClass("non-active")){let e=this.content_view.$(".chat-message.selected").first(),t=this.messages_arr.get(e.data("uniqueid"));this.edit_message=t,this.resetSelectedMessages(),this.setEditedMessage(t)}},deleteMessages:function(){if(!this.model.get("active"))return;let e=this.content_view.$(".chat-message.selected"),t=[],a=0,i=[];e.each((e,i)=>{let n=this.messages_arr.get(i.dataset.uniqueid);n&&t.push(n),n.isSenderMe()&&a++}),this.account.server_features.get(p.NS.REWRITE)||this.model.get("group_chat")?(!this.model.get("group_chat")&&!this.model.get("saved")&&a==e.length&&this.contact&&n.servers.get(this.contact.domain).server_features.get(p.NS.REWRITE)&&(i=[{name:"symmetric_deletion",checked:!1,text:n.getString("dialog_clear_chat_history__option_delete_for_all")}]),r.dialogs.ask(n.getString("dialog_delete_messages__header"),n.getQuantityString("delete_message_question",t.length),i,{ok_button_text:n.getString("delete")}).done(e=>{if(!e)return void(this._clearing_history=!1);let a=!!this.model.get("group_chat")||!!e.symmetric_deletion;this.resetSelectedMessages(),this.model.retractMessages(t,this.model.get("group_chat"),a)})):r.dialogs.ask(n.getString("dialog_delete_messages__header"),`${n.getQuantityString("delete_message_question",t.length)}\n${n.getString("dialog_clear_chat_history__warning_deletion_not_supported",[this.account.domain]).fontcolor("#E53935")}`,i,{ok_button_text:n.getString("dialog_clear_chat_history__button_delete_locally")}).done(e=>e?void(this.resetSelectedMessages(),t.forEach(e=>{this.view.removeMessage(e)})):void(this._clearing_history=!1))},pushMessagesToClipboard:function(e){let t=this.createTextMessage(e,"");r.copyTextToClipboard(m.unescape(t))},createTextMessage:function(e,t){let a="";for(let n=0,i;n<e.length;n++){i=e[n],this.model.get("saved")&&i.get("forwarded_message")&&1===i.get("forwarded_message").length&&!i.get("message")&&(i=i.get("forwarded_message")[0]);let s=u(i.get("timestamp")).startOf("day"),o=n?u(e[n-1].get("timestamp")).startOf("day"):u(0),d="";o.format("x")!=s.format("x")&&(a+=(t.length?t+" ":"")+f(s)+"\n"),d=i.isSenderMe()?this.account.get("name"):i.get("user_info")&&i.get("user_info").nickname||(this.account.contacts.get(i.get("from_jid"))?this.account.contacts.get(i.get("from_jid")).get("name"):i.get("from_jid")),a+=(t.length?t+" ":"")+"["+r.pretty_time(i.get("timestamp"))+"] "+d+":\n",t.length&&(a+=t);let c=m.unescape(i.get("mutable_content")&&i.get("mutable_content").find(e=>"groupchat"===e.type)?i.get("original_message").slice(i.get("mutable_content").find(e=>"groupchat"===e.type).end):i.get("original_message"));t.length&&(c=c.replace(/\n/g,"\n&gt; ")),t.length&&0!==c.indexOf("&gt;")&&(a+=" "),c=m.unescape(c.replace(/\n&gt; &gt;/g,"\n&gt;&gt;")),a+=m.escape(c)+"\n"}return a.trim()},replyMessages:function(){if(!this.model.get("active"))return;let e=this.content_view.$(".chat-message.selected"),t=[];e.each((e,a)=>{let i=this.messages_arr.get(a.dataset.uniqueid);i&&(this.model.get("saved")&&i.get("forwarded_message")&&i.get("forwarded_message").length&&!i.get("message")?t=t.concat(i.get("forwarded_message")):t.push(i))}),this.resetSelectedMessages(),this.setForwardedMessages(t)},forwardMessages:function(){if(!this.model.get("active"))return;let e=this.content_view.$(".chat-message.selected"),t=[];e.each((e,a)=>{let i=this.messages_arr.get(a.dataset.uniqueid);i&&(this.model.get("saved")&&i.get("forwarded_message")&&i.get("forwarded_message").length&&!i.get("message")?t=t.concat(i.get("forwarded_message")):t.push(i))}),this.resetSelectedMessages(),n.forward_panel||(n.forward_panel=new n.ForwardPanelView({model:n.opened_chats})),n.forward_panel.open(t,this.account)},showChatNotification:function(e,t){this.view.$(".chat-notification").hasClass("msgs-counter")||this.view.$(".chat-notification").hasClass("encryption-warning")||this.view.$(".chat-notification").switchClass("hidden",!e).text(e).switchClass("text-color-300",t)}}),n.ChatHeadContainer=n.Container.extend({className:"chat-head-container panel-head noselect"}),n.ChatBodyContainer=n.Container.extend({className:"chat-body-container",updateHeight:function(){let e=n.chat_bottom.$el.height()+parseInt(n.chat_bottom.$el.css("bottom"));e&&(this.$el.css({bottom:e}),this.view&&(this.view.updateScrollBar(),this.view.scrolled_to_bottom&&this.view.scrollToBottom()))}}),n.NotificationsPlaceholder=n.BasicView.extend({className:"notifications-placeholder",events:{"click .btn-request-notifications":"requestNotifications","click .mdi-close":"close"},_initialize:function(){this.$el.html(`${n.getString("desktop_notifications__alert_enable__text",[o.CLIENT_NAME])} <span class="btn-request-notifications">${n.getString("desktop_notifications__alert_enable__link_text")}</span><button class="btn-request-notifications btn-flat btn-dark btn-main">${n.getString("chat_allow")}</button>`),this.$el.append(c("<i/>").addClass("mdi mdi-22px mdi-close")),n.on("update_screen",this.onUpdatedScreen,this)},requestNotifications:function(){window.Notification.requestPermission(e=>{n._cache.save({notifications:"granted"===e,ignore_notifications_warning:!0}),this.close()})},onUpdatedScreen:function(){n.notifications_placeholder&&(this.$el.detach(),n.placeholders_wrap.$el.append(this.$el),n.main_panel.$el.css("padding-bottom",n.placeholders_wrap.$el.height()))},close:function(){n._cache.save("ignore_notifications_warning",!0),this.remove(),n.notifications_placeholder=void 0,n.main_panel.$el.css("padding-bottom",n.placeholders_wrap.$el.height())}}),n.ChatBottomContainer=n.Container.extend({className:"chat-bottom-container"}),n.ChatPlaceholderView=n.BasicView.extend({className:"placeholder-wrap chat-placeholder-wrap noselect",template:d.chat_placeholder}),n.ChatSettings=Backbone.ModelWithStorage.extend({defaults:{last_emoji:[],muted:[],archived:[],group_chat:[],cached_avatars:[],group_chat_members_lists:[]},getLastEmoji:function(){return m.clone(this.get("last_emoji"))},updateLastEmoji:function(e){let t=m.clone(this.get("last_emoji"));if(0<t.length){let a=t.indexOf(e);for(-1!=a&&t.splice(a,1),t.push(e);7<t.length;)t.shift()}else t.push(e);this.save("last_emoji",t)},updateMutedList:function(e,t){let a=m.clone(this.get("muted")),i=a.indexOf(e);t&&0>i&&a.push(e),!t&&0<=i&&a.splice(i,1),this.save("muted",a)},updateArchiveChatsList:function(e,t){let a=m.clone(this.get("archived")),i=a.indexOf(e);t&&0>i&&a.push(e),!t&&0<=i&&a.splice(i,1),this.save("archived",a)},updateGroupChatsList:function(e,t){let a=m.clone(this.get("group_chat")),i=a.indexOf(e);t&&0>i&&a.push(e),!t&&0<=i&&a.splice(i,1),this.save("group_chat",a)},updateCachedAvatars:function(e,t,a){let i=m.clone(this.get("cached_avatars")),n=i.indexOf(i.find(t=>t.id===e));-1!=n&&i.splice(n,1),i.push({id:e,avatar_hash:t,avatar_b64:a}),this.save("cached_avatars",i)},getAvatarInfoById:function(e){let t=m.clone(this.get("cached_avatars")),a=t.find(t=>t.id===e);return a},getB64Avatar:function(e){let t=this.getAvatarInfoById(e);return t?t.avatar_b64:void 0},getHashAvatar:function(e){let t=this.getAvatarInfoById(e);if(t)return t.avatar_hash}}),n.CachedChats=Backbone.ModelWithDataBase.extend({putChat:function(e,t){this.database.put("chats_items",e,function(e){t&&t(e)})},getChat:function(e,t){this.database.get("chats_items",e,function(e){t&&t(e)})},getAllChats:function(e){this.database.get_all("chats_items",null,function(t){e&&e(t||[])})},removeChat:function(e,t){this.database.remove("chats_items",e,function(e){t&&t(e)})},clearDataBase:function(){this.database.clear_database("roster_items")}}),n.Account.addInitPlugin(function(){this.chat_settings=new n.ChatSettings({id:"chat-settings"},{account:this,storage_name:n.getStorageName()+this.get("jid"),fetch:"after"}),this.messages=new n.Messages(null,{account:this}),this.forwarded_messages=new n.Messages(null,{account:this}),this.pinned_messages=new n.Messages(null,{account:this}),this.chats=new n.AccountChats(null,{account:this})}),n.Account.addConnPlugin(function(){this.cached_chats=new n.CachedChats(null,{name:"cached-chats-list-"+this.get("jid"),objStoreName:"chats_items",primKey:"jid"}),this.cached_chats.on("database_opened",()=>{});let e=this.last_msg_timestamp||this.disconnected_timestamp;this.chats.registerMessageHandler(),this.chats.each(t=>{this.connection.do_synchronization||(t.messages.length?t.trigger("get_missed_history",e):t.trigger("load_last_history"))}),this.auth_view&&this.auth_view.data.get("authentication")||this.trigger("ready_to_get_roster"),this.connection.deleteTimedHandler(this._get_msg_handler),this._get_msg_handler=this.connection.addTimedHandler(6e4,()=>{if(this.connection&&!this.connection.handlers.find(e=>!e.ns&&!e.options.encrypted&&"message"===e.name)){let e=this.last_msg_timestamp;this.chats.registerMessageHandler(),this.roster&&this.roster.syncFromServer({stamp:1e3*e},!1,!0)}return!0}),m.isUndefined(this.settings.get("omemo"))&&!this.omemo_enable_placeholder&&(this.omemo_enable_placeholder=new n.OMEMOEnablePlaceholder({account:this}))},!0,!0),n.Account.addFastConnPlugin(function(){this.chats.registerFastMessageHandler()},!0,!0),n.once("start",function(){["keydown"].forEach(e=>{window.addEventListener(e,t=>{document.onselectstart=function(){return!((t.ctrlKey||t.metaKey)&&t.keyCode==o.KEY_SHIFT||t.shiftKey&&t.keyCode==o.KEY_CTRL||t.keyCode==o.KEY_SHIFT)}})}),["keyup"].forEach(e=>{window.addEventListener(e,()=>{document.onselectstart=function(){return!0}})}),this.chats=new this.Chats,this.chats.addCollection(this.opened_chats=new this.OpenedChats),this.chats.addCollection(this.closed_chats=new this.ClosedChats),this.chats.registerQuillEmbeddedsTags(),this.chats_view=this.left_panel.addChild("chats",this.ChatsView,{model:this.opened_chats}),this.chat_head=this.right_panel.addChild("chat_head",this.ChatHeadContainer),this.chat_body=this.right_panel.addChild("chat_body",this.ChatBodyContainer),this.chat_bottom=this.right_panel.addChild("chat_bottom",this.ChatBottomContainer),this.chat_placeholder=this.right_panel.addChild("chat_placeholder",this.ChatPlaceholderView),this.on("add_group_chat",function(e){this.add_group_chat_view||(this.add_group_chat_view=new this.AddGroupChatView),this.add_group_chat_view.show(e)},this),this.on("change:focused",function(){if(this.get("focused")){let e=this.chats_view.active_chat;e&&e.model.get("display")&&(e.content.readMessages(),!1!==e.model.get("is_accepted")&&e.content.bottom.focusOnInput())}},this),this.on("show_group_chats",function(){this.chats_view.showGroupChats()},this),this.on("show_chats",function(){this.chats_view.showChats()},this),this.on("show_all_chats",function(){this.chats_view.showAllChats()},this),this.on("show_account_chats",function(e,t){this.chats_view.showChatsByAccount(t)},this),this.on("show_archive_chats",function(){this.chats_view.showArchiveChats()},this),this.on("clear_search",function(){this.contacts_view.clearSearch(),this.chats_view.clearSearch()},this)},n),n}}),define("xabber-searching",[],function(){return function(e){let t=e.env,a=t.constants,i=t.templates.searching,n=t.utils,s=t.$,o=t.$iq,d=t.Strophe,r=t._,c=n.images;return e.DiscoveringView=e.BasicView.extend({className:"searching-main noselect",template:i.searching_wide,ps_selector:".chats-list-wrap",ps_settings:{wheelPropagation:!0,theme:"existing-chats-list"},avatar_size:a.AVATAR_SIZES.SYNCHRONIZE_ACCOUNT_ITEM,events:{"click .account-field .dropdown-content":"selectAccount","click .btn-cancel":"close","click .btn-search":"search","click .existing-chat-wrap":"getChatProperties","keyup .search-input":"keyUp"},_initialize:function(){this.data.on("change:color",this.colorUpdated,this),this.$(".searching-properties-field .dropdown-button").on("click",()=>{this.toggleProperties()})},render:function(t){this.endDiscovering(),this.data.set("color","#9E9E9E"),t||(t={});let a=e.accounts.connected,i=t.jid||"";return this.$(".single-acc").showIf(1===a.length),this.$(".multiple-acc").hideIf(1===a.length),this.$(".account-field .dropdown-content").empty(),r.each(a,e=>{this.$(".account-field .dropdown-content").append(this.renderAccountItem(e))}),a.length&&this.bindAccount(a[0]),this.$("#select-searching-properties .account-field .dropdown-button").dropdown({inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"}),this},toggleProperties:function(){let e=this.isPropertiesVisible();this.$("#select-searching-properties").slideToggle("fast"),this.$(".arrow").switchClass("mdi-chevron-up",!e),this.$(".arrow").switchClass("mdi-chevron-down",e)},isPropertiesVisible:function(){return"none"!==this.$("#select-searching-properties").css("display")},discover:function(){let e=r.escape(this.$(".search-input.simple-input-field").val());if(e){this.isPropertiesVisible()&&this.toggleProperties(),this.$(".searching-more").html("");let t=this.$("#searching_property_title").val(),a=this.$("#searching_property_sort_by").val();this.$(".searching-result-wrap .preloader-wrapper").show(),this.searchExistingGroupChats(e)}},setColor:function(){if(this.account){let e=this.account.settings.get("color");this.data.set("color",e)}},colorUpdated:function(){let e=this.data.get("color");this.$el.attr("data-color",e)},keyUp:function(e){""===this.$(".search-input").val()?this.$(".btn-search").addClass("none-active"):this.$(".btn-search").removeClass("none-active"),e.keyCode===a.KEY_ENTER&&this.discover()},searchExistingGroupChats:function(e){this.account.connection.disco.items(e,null,this.getGroupchatService.bind(this),this.onDiscoveringError.bind(this))},onDiscoveringError:function(t){this.endDiscovering(),this.$(".chats-list").html(""),this.$(".result-string").text(e.getString("discover__no_matches",[s(t).attr("from")]))},endDiscovering:function(){this.$(".searching-result-wrap .preloader-wrapper").hide()},getGroupchatService:function(e){s(e).find("query item").each((e,t)=>{if(s(t).attr("node")===d.NS.GROUP_CHAT){let e=s(t).attr("jid");this.getGroupchatFeatures(e)}}),this.endDiscovering()},getGroupchatFeatures:function(e){let t=o({type:"get",to:e}).c("query",{xmlns:d.NS.DISCO_INFO,node:d.NS.GROUP_CHAT});this.account.sendIQ(t,this.getServerInfo.bind(this),this.onDiscoveringError.bind(this))},getServerInfo:function(e){s(e).find("query identity").each((t,a)=>{let i=s(a);if("conference"===i.attr("category")&&"server"===i.attr("type")){let t=s(e).attr("from");this.getChatsFromSever(t)}})},getChatsFromSever:function(t){let a=o({type:"get",to:t}).c("query",{xmlns:d.NS.DISCO_ITEMS,node:d.NS.GROUP_CHAT});this.account.sendIQ(a,t=>{this.$(".chats-list").html(""),s(t).find("query item").each((e,t)=>{let a=s(t),n=a.attr("name"),o=a.attr("jid"),d=s(i.existing_groupchat_item({name:n,jid:o,color:this.account.settings.get("color")})),r=c.getDefaultAvatar(n);d.find(".circle-avatar").setAvatar(r,32),d.appendTo(this.$(".searching-result-wrap .chats-list"))}),this.$(".result-string").text(e.getString("discover__text_discovered_groups",[s(t).find("query item").length,this.account.get("jid")]))})},bindAccount:function(e){this.account=e,this.$(".account-field .dropdown-button .account-item-wrap").replaceWith(this.renderAccountItem(e)),this.setColor()},renderAccountItem:function(e){let t=s(i.searching_account_item({jid:e.get("jid")}));return t},selectAccount:function(t){let a=s(t.target).closest(".account-item-wrap"),i=e.accounts.get(a.data("jid"));this.bindAccount(i)},getChatProperties:function(t){let a=s(t.target).closest(".existing-chat-wrap"),i=a.data("jid"),n=a.data("name"),r=o({type:"get",to:i}).c("query",{xmlns:d.NS.DISCO_INFO});this.account.sendIQ(r,t=>{let a=s(t),o=a.find("field[var=\"description\"] value").text(),d=a.find("field[var=\"anonymous\"] value").text(),r=a.find("field[var=\"model\"] value").text();this.more_info_view=this.addChild("groupchat_properties",e.MoreInfoView,{model:this,chat_properties:{jid:i,name:n,privacy:d,description:o,membership:r},el:this.$(".searching-more")[0]})})}}),e.MoreInfoView=e.BasicView.extend({className:"searching-main noselect",template:i.existing_groupchat_details_view,events:{"click .btn-join-chat":"joinChat"},_initialize:function(e){this.account=this.model.account,this.chat_properties=e.chat_properties,this.$el.html(this.template(this.chat_properties))},render:function(){},joinChat:function(){let e=this.account.contacts.mergeContact(this.chat_properties.jid);e.set("group_chat",!0),e.acceptRequest(),e.pushInRoster(null,()=>{e.askRequest(),e.getMyInfo(),e.sendPresent()}),e.trigger("open_chat",e)}}),e.Searching=Backbone.Model.extend({initialize:function(e){this.account=e.account},getSearchingFields:function(){let e=o({from:this.account.get("jid"),type:"get",to:"index.xabber.com"}).c("query",{xmlns:d.NS.INDEX+"#groupchat"});this.account.sendIQ(e,this.parseSearchingFields)},parseSearchingFields:function(e){let t=s(e),a=t.find(`x[xmlns = "${d.NS.XDATA}"] field`),i=[];a.each((e,t)=>{let a=s(t);"hidden"!==a.attr("type")&&i.push({var:a.attr("var"),label:a.attr("label")})})}}),e.LocalSearchingView=e.BasicView.extend({className:"",events:{},_initialize:function(e){this.account=e.account},render:function(){},search:function(){}}),e.GlobalSearchingView=e.BasicView.extend({className:"",events:{},_initialize:function(e){this.account=e.account,this.indexed_chats=[]},render:function(){},search:function(e){this.indexed_chats=[];let t=o({to:"index.xabber.com",type:"set",from:this.account.get("jid")}).c("query",{xmlns:d.NS.INDEX+"#groupchat"}).c("x",{xmlns:d.NS.XDATA,type:"form"}).c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t(d.NS.INDEX+"#groupchat").up().up();e.description&&t.c("field",{var:"description"}).c("value").t(e.description).up().up(),e.name&&t.c("field",{var:"name"}).c("value").t(e.name).up().up(),e.model&&t.c("field",{var:"model"}).c("value").t(e.model).up().up(),e.anywhere&&t.c("field",{var:"anywhere"}).c("value").t(e.anywhere).up().up(),this.account.sendIQ(t,this.onSearched.bind(this))},onSearched:function(e){let t=s(e),a=s(t.find("query item groupchat"));a.each((e,t)=>{let a=s(t),i=a.attr("jid"),n={jid:i},o=a.children();o.each((e,t)=>{let a=s(t),i=a[0].tagName.replace(/-/g,"_"),o=a.text();r.extend(n,{[i]:o})}),this.indexed_chats.push(n)})}}),e.once("start",function(){this.discovering=this.wide_panel.addChild("discovering_main",this.DiscoveringView)},e),e}}),define("xabber-mentions",[],function(){return function(e){let t=e.env,a=t.constants,i=t.templates.mentions,n=t.utils,s=t.$,o=t.Strophe,d=t._,r=n.images,c=t=>n.pretty_datetime(t,("ru-RU"==e.settings.language||"default"==e.settings.language&&"ru-RU"==e.get("default_language"))&&"D MMMM YYYY HH:mm:ss");return e.Mention=Backbone.Model.extend({defaults:{active:!1,display:!1,timestamp:0},initialize:function(t,a){this.contact=a.contact,this.message=a.message,this.id=this.message.get("unique_id"),this.set("timestamp",this.message.get("timestamp")),this.account=this.contact.account,this.item_view=new e.MentionItemView({model:this}),this.contact.on("destroy",this.destroy,this),this.message.on("change:last_replace_time",this.onMessageUpdated,this)},onMessageUpdated:function(){this.message.get("mentions")&&this.message.get("mentions").length?this.message.get("mentions").forEach(e=>{let t=e.target||"",a=t.match(/\?id=\w*/),i=t.match(/\?jid=.*/);t=a?a[0].slice(4):i?i[0].slice(5):"",a?this.contact.my_info?t===this.contact.my_info.get("id")?this.item_view.updateLastMessage():this.destroy():this.contact.get("group_chat")&&(this._pending_my_info?this._pending_my_info.done(()=>{t===this.contact.my_info.get("id")?this.item_view.updateLastMessage():this.destroy(),this._pending_my_info=null}):(this._pending_my_info=new s.Deferred,this.contact.getMyInfo(()=>{t===this.contact.my_info.get("id")?this.item_view.updateLastMessage():this.destroy(),this._pending_my_info.resolve()}))):i&&t===this.account.get("jid")?this.item_view.updateLastMessage():this.destroy()}):this.destroy()}}),e.MentionsBase=Backbone.Collection.extend({model:e.Mention}),e.AccountMentions=e.MentionsBase.extend({initialize:function(e,t){this.account=t.account,this.on("add",this.onMentionAdded,this)},onMentionAdded:function(t){e.mentions.add(t)}}),e.Mentions=e.MentionsBase.extend({comparator:"timestamp",initialize:function(){this.collections=[],this.on("add",d.bind(this.updateInCollections,this,"add")),this.on("change",d.bind(this.updateInCollections,this,"change"))},addCollection:function(e){this.collections.push(e)},updateInCollections:function(e,t){d.each(this.collections,function(a){a.update(t,e)})}}),e.MentionsView=e.SearchPanelView.extend({className:"mentions-container container",ps_selector:".mentions-list-wrap",main_container:".mentions-list",ps_settings:{theme:"item-list"},template:i.mentions_panel,_initialize:function(){this.active_mention=null,this.keyup_timeout=null,this.model.on("add",this.onMentionAdded,this),this.model.on("change:active",this.onChangedActiveStatus,this),this.model.on("destroy",this.onMentionRemoved,this),e.accounts.on("list_changed",this.updateLeftIndicator,this),this.ps_container.on("ps-scroll-y",this.onScrollY.bind(this)),this.$("input").on("input",this.updateSearch.bind(this))},render:function(e){!e.right&&this.active_mention&&(this.active_mention.model.set("active",!1),this.active_mention=null),("chat"!==e.right&&"contact_details"!==e.right&&"message_context"!==e.right&&"participant_messages"!==e.right||e.clear_search&&"chat"===e.right)&&this.clearSearch()},onMentionAdded:function(e){this.addChild(e.id,e.item_view),this.updateMentionPosition(e)},onMentionRemoved:function(e,t){t=t||{},this.active_mention===this.child(e.id)&&(this.active_mention=null),this.removeChild(e.id,t),this.updateScrollBar()},selectItem:function(e){this.clearSearchSelection();let t=this.$(".list-item[data-id=\""+e+"\"]");t.length?this.selection_id=e:(t=this.$(".list-item:visible").first(),this.selection_id=t.data("id")),t.find(".mention-info-wrap").addClass("selected")},clearSearchSelection:function(){this.selection_id=null,this.$(".list-item.selected").removeClass("selected"),this.$(".list-item .selected").removeClass("selected")},onEnterPressed:function(t){let a;t.closest(".searched-lists-wrap").length?(this.clearSearch(),this.$(".list-item.active").removeClass("active"),t.hasClass("chat-item")&&(a=e.chats_view.child(t.data("id")),a&&a.open({screen:e.body.screen.get("name"),clear_search:!1}),t.addClass("active")),t.hasClass("roster-contact")&&(a=e.accounts.get(t.data("account")).chats.get(e.accounts.get(t.data("account")).contacts.get(t.data("jid")).hash_id),a&&(a=a.item_view),a&&e.chats_view.openChat(a,{clear_search:!1,screen:e.body.screen.get("name")}),t.addClass("active")),t.hasClass("message-item")&&t.click()):t.find(".mention-info-wrap").click()},replaceMentionItem:function(e,t){let a=this.child(e.id);if(a&&e.get("timestamp")){a.$el.detach();let i=t.indexOf(e);0===i?this.$(".mentions-list").append(a.$el):this.$(".mention-item").eq(-i).before(a.$el);let n=a.$el.prev(".mention-item"),s=a.$el.next(".mention-item"),o=a.$el.data("contact-jid");if(n.length){let e=n.data("contact-jid");e!==o&&a.$el.find(".group-chat-title-wrap").removeClass("hidden")}else a.$el.find(".group-chat-title-wrap").removeClass("hidden");if(s.length){let e=s.data("contact-jid");e===o?s.find(".group-chat-title-wrap").addClass("hidden"):s.find(".group-chat-title-wrap").removeClass("hidden")}else a.$el.find(".group-chat-title-wrap").removeClass("hidden")}},readAllMentions:function(){e.accounts.connected.forEach(e=>{let t=d.clone(e.unread_mentions.models);d.each(t,t=>{let a=t.message.get("msgid"),i=t.message.get("archive_id"),n=t.message.get("contact_archive_id"),s=e.chats.getChat(t.contact);t.message.set("is_unread",!1),s.sendMarker(a,"displayed",i,n)})})},updateLeftIndicator:function(e){this.$el.attr("data-indicator",1<e.connected.length)},updateMentionPosition:function(e){let t=this.child(e.id);t&&this.replaceMentionItem(e,this.model)},onChangedActiveStatus:function(e){if(e.get("active")){let t=this.active_mention;this.active_mention=this.child(e.id),t&&t.model.set("active",!1)}}}),e.MentionItemView=e.BasicView.extend({className:"mention-item list-item",template:i.mention_item,avatar_size:a.AVATAR_SIZES.CHAT_ITEM,events:{"click .mention-info-wrap":"openByClick"},_initialize:function(){this.account=this.model.account,this.contact=this.model.contact,this.$el.attr("data-id",this.model.id),this.$el.attr("data-contact-jid",this.contact.get("jid")),this.updateContactName(),this.updateGroupChat(),this.updateName(),this.updateLastMessage(),this.updateAvatar(),this.updateColorScheme(),this.updateCounter(),this.updateIcon(),this.model.on("change:active",this.updateActiveStatus,this),this.account.settings.on("change:color",this.updateColorScheme,this),this.contact.on("change:name",this.updateContactName,this),this.contact.on("change:group_chat",this.updateGroupChat,this),this.model.message.on("change:is_unread",this.updateCounter,this)},updateName:function(){let e=this.model.message,t=e.get("user_info")||e.isSenderMe()&&this.contact.my_info&&this.contact.my_info.attributes,a=this.contact.get("name");t&&(a=t.nickname||t.jid||t.id||this.model.message.get("from_jid")),this.$(".chat-title").text(a)},updateIcon:function(){this.$(".contact-icon .group-chat-icon").hideIf(!this.contact.get("group_chat")&&this.contact.get("jid")===this.account.domain),this.$(".contact-icon .server-icon").hideIf(this.contact.get("jid")!==this.account.domain)},updateContactName:function(){let e=this.contact.get("name");if(this.$(".group-chat-name").text(e),!this.contact.get("group_chat")&&(this.updateName(),!this.contact.get("photo_hash"))){let t=r.getDefaultAvatar(e);this.$(".circle-avatar").setAvatar(t,this.avatar_size)}},updateGroupChat:function(){this.updateIcon()},updateCounter:function(){let t=this.model.message.get("is_unread");this.$(".msg-counter").switchClass("hidden",!t),t?this.account.unread_mentions.add(this.model):this.account.unread_mentions.remove(this.model),e.toolbar_view.recountAllMessageCounter()},updateLastMessage:function(){let t=this.model.message;if(!t)return;let a=t.get("time"),i=t.get("timestamp"),o=t.get("forwarded_message"),d=t.get("files")||[],r=t.get("images")||[],l=t.get("locations")||[],p=o?t.get("message")||e.getString("forwarded_messages_count",o.length).italics():t.getText();if(this.model.set({timestamp:i}),d.length||r.length||l.length){let t=s("<span class=\"text-color-500\"/>");if(d.length&&r.length)p=t.text(e.getString("recent_chat__last_message__attachments",[d.length+r.length]));else{if(0<d.length){let a=0;d.forEach(e=>{a+=+e.size}),p=t.text(e.getQuantityString("recent_chat__last_message__files",d.length)+(0<a?`, ${n.pretty_size(a)}`:""))}if(0<r.length){let a=0;r.forEach(e=>{a+=+e.size}),p=t.text(e.getQuantityString("recent_chat__last_message__images",r.length)+(0<a?`, ${n.pretty_size(a)}`:""))}0<l.length&&(p=t.text(e.getQuantityString("recent_chat__last_message__locations",l.length)))}this.$(".last-msg").text("").append(p)}else this.$(".last-msg").text(p);this.$el.emojify(".last-msg",{emoji_size:16}),this.$(".last-msg-date").text(n.pretty_short_datetime(a)).attr("title",c(a))},updateActiveStatus:function(){this.$el.find(".mention-info-wrap").switchClass("active",this.model.get("active"))},updateAvatar:function(){let e=this.model.message,t=e.get("user_info")||e.isSenderMe()&&this.contact.my_info&&this.contact.my_info.attributes,a;if(!t)a=this.contact.cached_image,this.$(".circle-avatar").setAvatar(a,this.avatar_size);else if(!t.avatar){let e=r.getDefaultAvatar(t.nickname||t.jid||t.id);this.$(".circle-avatar").setAvatar(e,this.avatar_size)}else if(a=t.b64_avatar||this.account.chat_settings.getB64Avatar(t.id),a)this.$(".circle-avatar").setAvatar(a,this.avatar_size);else{let e=o.NS.PUBSUB_AVATAR_DATA+"#"+t.id;this.contact.getAvatar(t.avatar,e,e=>{a=e,this.account.chat_settings.updateCachedAvatars(t.id,t.avatar,e),this.$(".circle-avatar").setAvatar(a,this.avatar_size)},()=>{let e=r.getDefaultAvatar(t.nickname||t.jid||t.id);this.$(".circle-avatar").setAvatar(e,this.avatar_size)})}},openByClick:function(){let e=this.model.message,t=this.account.chats.getChat(this.contact);this.model.message.set("is_unread",!1),t.sendMarker(e.get("origin_id"),"displayed",e.get("stanza_id"),e.get("contact_stanza_id")),this.model.set("active",!0),this.contact.trigger("open_mention",this.contact,e.get("unique_id"))},updateColorScheme:function(){let e=this.account.settings.get("color");this.$el.attr("data-color",e)}}),e.MentionsPlaceholderView=e.BasicView.extend({className:"placeholder-wrap mentions-placeholder-wrap noselect",template:i.mentions_placeholder}),e.Account.addInitPlugin(function(){this.mentions=new e.AccountMentions(null,{account:this}),this.unread_mentions=new e.Mentions(null,{account:this})}),e.once("start",function(){this.mentions=new this.Mentions,this.mentions_view=this.left_panel.addChild("mentions",this.MentionsView,{model:this.mentions}),this.mentions_placeholder=this.right_panel.addChild("mentions_placeholder",this.MentionsPlaceholderView)},e),e}}),define("xabber-ui",[],function(){return function(e){let t=e.env,a=t.constants,i=t.$;return e.once("start",function(){i(window).on("keydown",t=>{(t.ctrlKey||t.metaKey)&&t.keyCode==a.KEY_SHIFT||t.shiftKey&&t.keyCode==a.KEY_CTRL?(this.shift_pressed=null,this.shiftctrl_pressed=!0,t.preventDefault()):t.keyCode==a.KEY_SHIFT&&(this.shift_pressed=!0,t.preventDefault());let i=e.body.screen.attributes;if(t.keyCode===a.KEY_ESCAPE&&!e.body.screen.get("right_contact")){if(e.body.$el.siblings("#modals").children(".open").length)return;"all-chats"===i.name&&"contact_details"===i.right&&i.contact.trigger("open_chat",i.contact)}if(i.chat_item&&("mentions"===i.name||"contacts"===i.name||"all-chats"===i.name)&&("chat"===i.right||"participant_messages"===i.right||"message_context"===i.right||"searched_messages"===i.right)&&!window.$(".message-actions-panel").hasClass("hidden")&&!t.ctrlKey&&!t.metaKey){switch(t.keyCode){case 67:i.chat_item.model.trigger("copy_selected_messages");break;case 68:i.chat_item.model.trigger("delete_selected_messages");break;case 69:i.chat_item.model.trigger("edit_selected_message");break;case 70:i.chat_item.model.trigger("forward_selected_messages");break;case 80:i.chat_item.model.trigger("pin_selected_message");break;case 82:i.chat_item.model.trigger("reply_selected_messages");break;case a.KEY_ESCAPE:e.body.screen.get("right_contact")||i.chat_item.model.trigger("reset_selected_messages");}t.preventDefault()}}),i(window).on("keyup",e=>{e.shiftKey&&e.ctrlKey||(this.shiftctrl_pressed=null),e.shiftKey&&!e.ctrlKey&&(this.shift_pressed=!0),e.shiftKey||(this.shift_pressed=null)}),this.updateLayout=function(t){t||(t={}),this.roster_view.isVisible()&&this.updateRosterLayout(t),e.trigger("update_css",t),this.body.$(".ps-container").perfectScrollbar("update")},this.updateRosterLayout=function(){let e=this.body.$el.width(),t=e>=a.WIDTH_MEDIUM,i=e<a.WIDTH_MEDIUM,n=e<a.WIDTH_TINY,s=this.roster_view.data.get("expanded"),o=this.roster_view.data.get("pinned");if(this.roster_view.$(".collapsed-wrap").hideIf(s),this.roster_view.$(".expanded-wrap").showIf(s),this.roster_view.$(".btn-pin").hide(),i&&o)return void this.roster_view.data.set({expanded:!1,pinned:!1});let d="",r={},c,l,p,m,u,g;t||!(i||o)?(l=1536,c=300):i?(l=e-50-20-44,c=250):(l=7*(e-50-20)/9,c=2*(e-50-20)/9,d=60),s||(c=t?48:44),p=u=384,m=l-(p+u),g="100%",i&&(u=p=288>.264*l?288:.264*l),512>m?(m=l-p,this.right_contact_panel_saveable=!1,r={position:"absolute",right:0,"z-index":499},128>m-384?(u=m,this.right_contact_panel.$el.removeClass("background-click")):(u=384,this.right_contact_panel.$el.addClass("background-click"))):(this.right_contact_panel_saveable=!0,r={position:"static","z-index":0},this.right_contact_panel.$el.removeClass("background-click")),this.right_contact_panel_width=u,this.body.screen.get("right_contact")||(u=0,m=l-p),768>m&&(g=m);let h=(e-l)/2,v=h-50,f=h-c;this.roster_view.$(".expanded-wrap").switchClass("solid",!o&&(!t||0>f)),o&&!d&&3*f<v&&(d=50+.75*(v+f)),r.width=u,this.main_panel.setCustomCss({width:l,"margin-left":d}),this.left_panel.setCustomCss({width:p}),this.right_panel.setCustomCss({width:m}),this.right_contact_panel.setCustomCss(r),this.chat_bottom.setCustomCss({width:g}),this.roster_view.setCustomCss({width:c})},this.on("update_layout",this.updateLayout,this),this.body.addScreen("blank",{}),this.body.addScreen("login",{login:{xmpp_login:null}}),this.body.addScreen("settings",{blur_overlay:null,toolbar:null,main:{wide:{settings:null},placeholders:null},roster:null}),this.body.addScreen("add_account",{blur_overlay:null,toolbar:null,login:null}),this.body.addScreen("about",{blur_overlay:null,toolbar:null,main:{wide:{about:null},placeholders:null},roster:null});let t=new this.ViewPath("account.settings_left"),n=new this.ViewPath("account.settings_right"),s=new this.ViewPath("account.vcard_edit");this.body.addScreen("account_settings",{blur_overlay:null,toolbar:null,main:{wide:{account_settings:{left:t,right:n}},placeholders:null},roster:null}),this.account_settings.patchTree=function(e,a){if("vcard_edit"===a.right)return{left:t,right:s}};let o=new this.ViewPath("chat_item.content.head"),d=new this.ViewPath("chat_item.content"),r=new this.ViewPath("chat_item.content.bottom"),c=new this.ViewPath("contact.invitation"),l=new this.ViewPath("omemo_item.account.omemo_enable_view"),p=new this.ViewPath("contact.details_view"),m=new this.ViewPath("contact.details_view_right"),u=new this.ViewPath("contact.details_view_right_encrypted"),g=new this.ViewPath("model.messages_view"),h=new this.ViewPath("contact.details_view.participants");this.body.addScreen("contacts",{blur_overlay:null,toolbar:null,main:{left:{contacts:null},right:{contact_placeholder:null},right_contact:{},placeholders:null},roster:null}),this.body.addScreen("search",{blur_overlay:null,toolbar:null,main:{wide:{discovering_main:null},placeholders:null},roster:null}),this.body.addScreen("mentions",{blur_overlay:null,toolbar:null,main:{left:{mentions:null},right:{mentions_placeholder:null},right_contact:{},placeholders:null},roster:null}),this.body.addScreen("all-chats",{blur_overlay:null,toolbar:null,main:{left:{chats:null},right:{chat_placeholder:null},right_contact:{},placeholders:null},roster:null}),this.right_panel.patchTree=function(e,t){return void 0===t.right?void 0:"message_context"===t.right||"participant_messages"===t.right||"searched_messages"===t.right?{chat_head:o,chat_body:g,chat_bottom:r}:"group_invitation"===t.right?{details:c}:"contact_details"===t.right?{details:p}:"participants"===t.details_content?{details_content:h}:t.chat_item?{chat_head:o,chat_body:d,chat_bottom:r}:"enable_encryption"===t.right||t.omemo_item?{details:l}:void 0},this.right_contact_panel.patchTree=function(e,t){return void 0===t.right_contact?void 0:"contact_details"===t.right_contact?{details:m}:"contact_details_encrypted"===t.right_contact?{details:u}:"participants"===t.details_content?{details_content:h}:void 0},this.body.setScreen("blank"),this.api_account?(this.api_account.once("settings_result",function(e){null!==e||this.accounts.length?this.body.isScreen("blank")&&this.body.setScreen("all-chats"):this.body.setScreen("login")},this),this.api_account.ready.then(this.api_account.start.bind(this.api_account))):(this.accounts.length?this.body.isScreen("blank")&&this.body.setScreen("all-chats"):this.body.setScreen("login"),e.trigger("bind_xmpp_accounts"))},e),e}}),define("xabber-omemo",[],function(){var e=String.fromCharCode,t=Math.floor,a=Math.pow;return function(i){let n=i.env,s=n.constants,o=n.utils,d=n.$,r=n.templates.base,c=n.Strophe,l=n._,p=libsignal.KeyHelper,m=libsignal.SignalProtocolAddress,u=libsignal.SessionBuilder,g=libsignal.SessionCipher;return i.Peer=Backbone.Model.extend({idAttribute:"jid",initialize:function(e,t){e=e||{},this.account=t.account,this.devices={},this.store=this.account.omemo.store,this.fingerprints=new i.Fingerprints({model:this}),this.updateDevices(e.devices),this.set({jid:e.jid})},updateDevices:function(e){if(e){for(let t in this.devices)e[t]||(this.account.omemo.removeSession("session"+this.devices[t].address.toString()),delete this.devices[t]);for(let t in e){let a=this.getDevice(t),i=e[t].label;i&&a.set("label",i)}}},getDevicesNode:async function(){return this._pending_devices?new Promise(e=>{this._dfd_devices.done(()=>{e()})}):(this._pending_devices=!0,this._dfd_devices=new d.Deferred,new Promise(e=>{(this.account.background_connection&&this.account.background_connection.connected?this.account.background_connection:this.account.connection).omemo.getDevicesNode(this.get("jid"),t=>{this.updateDevices(this.account.connection.omemo.parseUserDevices(d(t))),this._pending_devices=!1,this._dfd_devices.resolve(),e()},()=>{this._pending_devices=!1,this._dfd_devices.resolve(),e()})}))},encrypt:async function(e){let t=[],a=await o.AES.encrypt(e),i=!0;for(let i in l.keys(this.devices).length||(await this.getDevicesNode()),this.devices)t.push(this.devices[i].encrypt(a.keydata));for(let i in this.account.omemo.own_devices)t.push(this.account.omemo.own_devices[i].encrypt(a.keydata));let n=await Promise.all(t);for(let t in n=n.filter(e=>null!==e),this.devices){let e=this.devices[t];null!==e.get("ik")&&(null===e.get("trusted")&&(i="error"),i&&void 0===e.get("trusted")&&(i="none"))}return{keys:n,payload:a.payload,is_trusted:i}},decrypt:async function(e,t,a){let i=this.getDevice(e);return i.decrypt(t,a)},getDevice:function(e){return this.devices[e]||(this.devices[e]=new i.Device({jid:this.get("jid"),id:e},{account:this.account,store:this.store})),this.devices[e]}}),i.Peers=Backbone.Collection.extend({model:i.Peer,initialize:function(){this.collections=[],this.on("add",l.bind(this.updateInCollections,this,"add")),this.on("change",l.bind(this.updateInCollections,this,"change"))},addCollection:function(e){this.collections.push(e)},updateInCollections:function(e,t){l.each(this.collections,function(a){a.update(t,e)})}}),i.Fingerprints=i.BasicView.extend({className:"modal main-modal fingerprints-wrap",template:r.fingerprints,ps_selector:".fingerprints-content",ps_settings:{theme:"item-list"},events:{"click .btn-trust":"trustDevice","click .btn-ignore":"ignoreDevice","click .btn-delete":"deleteDevice","click .set-label + div":"editLabel","click .btn-cancel":"close"},_initialize:function(){this.model.own_devices?(this.account=this.model.account,this.omemo=this.model,this.jid=this.account.get("jid"),this.is_own_devices=!0):(this.account=this.model.account,this.omemo=this.account.omemo,this.jid=this.model.get("jid"))},open:function(){this.omemo=this.account.omemo;let e="";if(this.is_own_devices)e=this.account.get("name");else{let t=this.account.contacts.get(this.jid);e=t?t.get("name"):this.jid}this.$(".header").text(i.getString("omemo__dialog_fingerprints__header",[e])),this.data.set("visible",!0),this.show(),this.$("div.fingerprints-content").html(n.templates.contacts.preloader()),this.is_own_devices?this.renderOwnDevices():this.renderDevices()},renderDevices:function(){this.model.getDevicesNode().then(()=>{l.keys(this.model.devices).length;this.updateFingerprints(this.model.devices)}),this.updateOwnFingerprint()},renderOwnDevices:function(){this.omemo.getMyDevices().then(()=>{l.keys(this.model.own_devices).length;this.updateFingerprints(this.model.own_devices),this.updateOwnFingerprint()})},render:function(){this.$el.openModal({complete:()=>{this.$el.detach(),this.data.set("visible",!1)}})},editLabel:function(){this.$(".set-label").removeClass("hidden"),this.$(".set-label").focus();let e=e=>{let t=e.target.value.trim();this.saveLabel(t)};this.$(".set-label")[0].onblur=e,this.$("input.set-label")[0].onkeydown=t=>{t.keyCode==s.KEY_ENTER&&e(t)}},saveLabel:function(e){this.$(".set-label").addClass("hidden"),e==this.account.settings.get("device_label_text")||(this.account.settings.save("device_label_text",e),this.account.connection.omemo.publishDevice(this.omemo.get("device_id"),e,()=>{this.updateOwnFingerprint()}))},updateFingerprints:async function(e){let t=0,a=l.keys(e).length,n=new d.Deferred,s=this.$("div.fingerprints-content");for(let r in n.done(e=>{e?this.$(".dropdown-button").dropdown({inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,container:this.$(".fingerprints-content")[0],alignment:"left"}):s.html(d(`<div class="empty-table">${i.getString("omemo__dialog_fingerprints__text_no_fingerprints")}</div>`)),this.jid==this.account.get("jid")&&e++,this.$(".additional-info").text(i.getQuantityString("omemo__dialog_fingerprints__text_devices_count",e,[this.jid,e])),s.find(".preloader-wrapper").detach()}),e){if(r==this.omemo.get("device_id")){t++,a==t&&n.resolve(s.find("div.row").length);continue}let i=e[r];if(i.get("ik")){let e={},o=i.generateFingerprint(),d=(this.omemo.get("fingerprints")[this.jid]||[])[r],c=d?d.fingerprint==o?d.trusted?"trust":"ignore":"error":"unknown";"error"==c&&(e.old_fingerprint=d.fingerprint),s.append(this.addRow(i.id,i.get("label"),c,o,e)),t++,a==t&&n.resolve(s.find("div.row").length)}else(this.account.background_connection&&this.account.background_connection.connected?this.account.background_connection:this.account.connection).omemo.getBundleInfo({jid:i.jid,id:i.id},async e=>{let r=d(e),l=r.find(`item[id="${i.id}"] bundle[xmlns="${c.NS.OMEMO}"]`),p=l.find(`ik`).text();if(p){i.set("ik",o.fromBase64toArrayBuffer(p));let e={},t=i.generateFingerprint(),a=(this.omemo.get("fingerprints")[this.jid]||[])[i.id],n=a?a.fingerprint==t?a.trusted?"trust":"ignore":"error":"unknown";"error"==n&&(e.old_fingerprint=a.fingerprint),s.append(this.addRow(i.id,i.get("label"),n,t,e))}t++,a==t&&n.resolve(s.find("div.row").length)},()=>{t++,a==t&&n.resolve(s.find("div.row").length)})}},updateOwnFingerprint:async function(){this.$(".this-device-content").html("");let e=this.account.omemo;if(e){let t=e.own_devices[e.get("device_id")];t?t.get("fingerprint")?this.$(".this-device-content").append(this.addRow(t.id,t.get("label"),null,t.get("fingerprint"))):t.get("ik")?(t.set("fingerprint",t.generateFingerprint()),this.$(".this-device-content").append(this.addRow(t.id,t.get("label"),null,t.get("fingerprint")))):t.getBundle().then(({pk:e,spk:a,ik:i})=>{t.set("ik",o.fromBase64toArrayBuffer(i));let n=t.generateFingerprint();t.get("fingerprint")&&t.get("fingerprint")===n||t.set("fingerprint",n),this.$(".this-device-content").append(this.addRow(t.id,t.get("label"),null,t.get("fingerprint")))}):e.store.getIdentityKeyPair().then(t=>{let a=t.pubKey;33==a.byteLength&&(a=a.slice(1));let i=Array.from(new Uint8Array(a)).map(e=>e.toString(16).padStart(2,"0")).join("");this.$(".this-device-content").append(this.addRow(e.get("device_id"),this.account.settings.get("device_label_text"),null,i))})}},close:function(){let e=new d.Deferred;return this.$el.closeModal({complete:()=>{this.$el.detach(),this.data.set("visible",!1),e.resolve()}}),e.promise()},trustDevice:function(e){let t=d(e.target).closest("div.row"),a=t.find(".fingerprint").text().replace(/ /g,""),n=t.children(".buttons[data-trust]").attr("data-trust"),s=+t.find("div.device-id").text();t.children(".buttons[data-trust]").attr("data-trust","trust"),t.find(".trust-item-wrap").children().attr("data-value","trust").text(i.getString("omemo__dialog_fingerprints__button_trust")),this.omemo.updateFingerprints(this.jid,s,a,!0);let o=this.is_own_devices?this.account.omemo.own_devices[s]:this.model.devices[s];o&&"trusted"!=n&&("error"===n&&t.find(".old-fingerprint").detach(),o.set("trusted",!0),o.is_session_initiated=!1,o.preKeys=null,this.account.trigger("trusting_updated"))},ignoreDevice:function(e){let t=d(e.target).closest("div.row"),a=t.find(".fingerprint").text().replace(/ /g,""),n=t.children(".buttons[data-trust]").attr("data-trust"),s=+t.find("div.device-id").text();t.children(".buttons[data-trust]").attr("data-trust","ignore"),t.find(".trust-item-wrap").children().attr("data-value","ignore").text(i.getString("omemo__dialog_fingerprints__button_error")),this.omemo.updateFingerprints(this.jid,s,a,!1);let o=this.is_own_devices?this.account.omemo.own_devices[s]:this.model.devices[s];o&&"ignore"!=n&&("error"===n&&t.find(".old-fingerprint").detach(),o.set("trusted",!1),o.is_session_initiated=!1,o.preKeys=null,this.account.trigger("trusting_updated"))},addRow:function(e,t,a,n,s){s=s||{};let o=!!this.is_own_devices,d=e==this.omemo.get("device_id"),c=s.old_fingerprint,l;if(n.match(/.{1,8}/g))n=n.match(/.{1,8}/g).join(" ");else{n="",l=i.getString("omemo__dialog_fingerprints__invalid_fingerprint");let t=this.is_own_devices?this.account.omemo.own_devices[e]:this.model.devices[e];t&&"ignore"!=a&&(a="ignore",this.omemo.updateFingerprints(this.jid,e,n,!1),t.set("trusted",!1),t.is_session_initiated=!1,t.preKeys=null,this.account.trigger("trusting_updated"))}c&&(c=c.match(/.{1,8}/g).join(" "));let p=r.fingerprint_item({id:e,label:t,trust:a,fingerprint:n,delete_button:o,edit_setting:d,old_fingerprint:c,error:l});return p},deleteDevice:function(e){let t=d(e.target).closest("div.row"),a=+t.find("div.device-id").text();o.dialogs.ask(i.getString("omemo__dialog_delete_device__header"),i.getString("omemo__dialog_delete_device__text",[a]),null,{ok_button_text:i.getString("omemo__dialog_delete_device__button_delete")}).done(e=>{if(e){t.detach(),delete this.model.own_devices[a];let e=this.account.connection;e&&e.omemo&&(delete e.omemo.devices[a],e.omemo.publishDevice(null,null,()=>{t.detach()}),e.omemo.removeItemFromNode(`${c.NS.OMEMO}:bundles`,a))}})}}),i.Bundle=Backbone.Model.extend({initialize:async function(e,t){this.preKeys=[],this.model=t.model,this.store=t.store,this.model.get("identityKey")?this.getIdentity():await this.generateIdentity(),await this.getPreKeys(),this.model.get("resend_bundle")&&(this.model.publishBundle(),this.set("resend_bundle",!1))},generateIdentity:function(){return Promise.all([p.generateIdentityKeyPair(),p.generateRegistrationId()]).then(e=>{let t=e[0],a=e[1];this.store.put("identityKey",t),this.store.put("registrationId",a),this.cacheIdentity(t,a)})},getIdentity:function(){let e=JSON.parse(this.model.get("identityKey")),t=this.model.get("registrationId"),a=o.fromBase64toArrayBuffer(e.pubKey),i=o.fromBase64toArrayBuffer(e.privKey);this.store.put("identityKey",{pubKey:a,privKey:i}),this.store.put("registrationId",t)},cacheIdentity:function(e,t){let a=o.ArrayBuffertoBase64(e.pubKey),i=o.ArrayBuffertoBase64(e.privKey);this.model.save("identityKey",JSON.stringify({pubKey:a,privKey:i})),this.model.save("registrationId",t)},generatePreKeys:async function(){let e=[];for(let t=1;t<=s.PREKEYS_COUNT;t++)e.push(this.generatePreKey(t));return e.push(this.generateSignedPreKey(1)),await Promise.all(e)},getSignedPreKey:async function(){let e=this.model.get("signedPreKey");if(e){let t=o.fromBase64toArrayBuffer(e.keyPair.pubKey),a=o.fromBase64toArrayBuffer(e.keyPair.privKey),i=o.fromBase64toArrayBuffer(e.signature),n=e.keyId;return{keyPair:{pubKey:t,privKey:a},keyId:n,signature:i}}return await this.generateSignedPreKey(this.preKeys[0].keyId||1)},getPreKeys:async function(){let e=this.model.prekeys.getAll();if(Object.keys(e).length>=s.MIN_PREKEYS_COUNT){for(let t in e){let a=e[t],i=a.id,n=JSON.parse(a.key),s=o.fromBase64toArrayBuffer(n.privKey),d=o.fromBase64toArrayBuffer(n.pubKey),r={pubKey:d,privKey:s};this.preKeys.push({keyId:i,keyPair:r}),this.store.storePreKey(i,r)}this.getUsedPreKeys();let t=await this.getSignedPreKey();this.preKeys.push(t),this.store.storeSignedPreKey(t.keyId,t.keyPair)}else this.generatePreKeys().then(e=>{this.preKeys=e,this.getUsedPreKeys()})},getUsedPreKeys:function(){let e=this.model.own_used_prekeys.getAll();if(Object.keys(e).length)for(let t in e){let a=e[t],i=a.id,n=JSON.parse(a.key),s=o.fromBase64toArrayBuffer(n.privKey),d=o.fromBase64toArrayBuffer(n.pubKey);this.store.storePreKey(i,{pubKey:d,privKey:s})}},generatePreKey:async function(e){let t=await p.generatePreKey(e);return this.store.storePreKey(e,t.keyPair),t},generateSignedPreKey:async function(e){let t=await this.store.getIdentityKeyPair(),a=await p.generateSignedPreKey(t,e);return this.store.storeSignedPreKey(e,a.keyPair),this.cacheSignedPreKey(a),a},cacheSignedPreKey:function(e){let t=o.ArrayBuffertoBase64(e.keyPair.pubKey),a=o.ArrayBuffertoBase64(e.keyPair.privKey),i=o.ArrayBuffertoBase64(e.signature),n=e.keyId;this.model.save("signedPreKey",{keyPair:{pubKey:t,privKey:a},keyId:n,signature:i})}}),i.Prekeys=Backbone.Model.extend({initialize:function(e){this.name=e.name,this.model=e.model},get:function(e){let t=l.clone(this.model.get(this.name));return t[e]},put:function(e){if(e.id){let t=l.clone(this.model.get(this.name));t[e.id]=e,this.model.save(this.name,t)}},getAll:function(){let e=l.clone(this.model.get(this.name));return e},remove:function(e){if(e){let t=l.clone(this.model.get(this.name));delete t[e],this.model.save(this.name,t)}}}),i.Device=Backbone.Model.extend({initialize:function(e,t){this.account=t.account,this.id=e.id,this.jid=e.jid,this.store=t.store,this.preKeys=null,this.address=new m(e.jid,e.id)},generateFingerprint:function(){let e=this.get("ik");if(e)return 33==e.byteLength&&(e=e.slice(1)),Array.from(new Uint8Array(e)).map(e=>e.toString(16).padStart(2,"0")).join("")},closeSession:function(e){(this.account.background_connection&&this.account.background_connection.connected?this.account.background_connection:this.account.connection).omemo.sendOptOut({to:this.jid,reason:e},()=>{})},getBundle:async function(){return this._pending_bundle?new Promise((e,t)=>{this._dfd_bundle.done(({pk:t,spk:a,ik:i})=>{e({pk:t,spk:a,ik:i})}),this._dfd_bundle.fail(()=>{t()})}):(this._pending_bundle=!0,this._dfd_bundle=new d.Deferred,new Promise((e,t)=>{(this.account.background_connection&&this.account.background_connection.connected?this.account.background_connection:this.account.connection).omemo.getBundleInfo({jid:this.jid,id:this.id},a=>{let i=d(a),n=i.find(`item[id="${this.id}"] bundle[xmlns="${c.NS.OMEMO}"]`),s=n.find("spk"),o={id:s.attr("id"),key:s.text(),signature:n.find("spks").text()},r=n.find(`ik`).text();this.preKeys=[],r||this.set("ik",null),n.find("prekeys pk").each((e,t)=>{let a=d(t);this.preKeys.push({id:a.attr("id"),key:a.text()})}),this._pending_bundle=!1;let l=this.getRandomPreKey();l?(this._dfd_bundle.resolve({pk:l,spk:o,ik:r}),e({pk:l,spk:o,ik:r})):(this._dfd_bundle.reject(),t())},()=>{this.set("ik",null),this.preKeys=[],this._dfd_bundle.reject(),this._pending_bundle=!1,t()})}))},getRandomPreKey:function(){let e=this.preKeys.length-1,a=t(0+Math.random()*(e+1-0));return this.preKeys[a]},decrypt:async function(e,t){try{let a=new g(this.store,this.address),i;if(t)i=await a.decryptPreKeyWhisperMessage(e,"binary");else{if(!this.store.hasSession(this.address.toString())){let e=this.getCachedSession();e&&(await this.store.storeSession(this.address.toString(),e))}i=await a.decryptWhisperMessage(e,"binary")}return i}catch(t){return null}},getPreKey:function(){let e=this.account.omemo.used_prekeys.get(this.id+"");return e},getCachedSession:function(){return this.account.omemo.getSession("session"+this.address.toString())},encrypt:async function(e){try{if(!1===this.get("trusted")&&this.id!=this.account.omemo.get("device_id"))return null;if(!this.store.hasSession(this.address.toString())||!this.is_session_initiated){if(this.preKeys&&!this.preKeys.length)return null;this.is_session_initiated=!0;let e=await this.initSession();if(!e)return null}let t=this.getSession(),a=await t.encrypt(e);return{preKey:3===a.type,ciphertext:a,deviceId:this.address.getDeviceId()}}catch(t){return console.log("Error:",t),console.warn("Could not encrypt data for device with id "+this.address.getDeviceId()),null}},initSession:async function(){let{pk:e,spk:t,ik:a}=await this.getBundle(),i=this.getPreKey(),n=this.id;i?!t||t&&JSON.stringify(t)==JSON.stringify(i.spk)&&JSON.stringify(a)==JSON.stringify(i.ik)?e=i.pk:this.account.omemo.used_prekeys.put({id:n,pk:e,spk:t,ik:a}):this.account.omemo.used_prekeys.put({id:n,pk:e,spk:t,ik:a}),this.set({pk:o.fromBase64toArrayBuffer(e.key),ik:o.fromBase64toArrayBuffer(a)}),this.fingerprint=this.generateFingerprint();let s=this.account.omemo.isTrusted(this.jid,n,this.fingerprint);return(this.set("trusted",s),this.id==this.account.omemo.get("device_id")||!1!==s)&&(this.processPreKey({registrationId:+n,identityKey:o.fromBase64toArrayBuffer(a),signedPreKey:{keyId:+t.id,publicKey:o.fromBase64toArrayBuffer(t.key),signature:o.fromBase64toArrayBuffer(t.signature)},preKey:{keyId:+e.id,publicKey:o.fromBase64toArrayBuffer(e.key)}}),!0)},processPreKey:function(e){return this.session=new u(this.store,this.address),this.session.processPreKey(e)},removeSession:function(){this.store.removeSession(this.address.toString()),this.sessionCipher=null},getSession:function(){return this.sessionCipher||(this.sessionCipher=new g(this.store,this.address)),this.sessionCipher}}),i.Omemo=Backbone.ModelWithStorage.extend({defaults:{sessions:{},fingerprints:{},prekeys:{},retract_version:0,used_prekeys:{},own_used_prekeys:{},device_id:""},_initialize:function(e,t){this.on("change:device_id",this.onDeviceIdUpdated,this),this.on("destroy",this.onOmemoDestroyed,this),this.own_devices={},this.account=t.account,this.peers=new i.Peers,this.get("device_id")||this.set("device_id",this.generateDeviceId()),this.store=new i.SignalProtocolStore,this.account.on("device_published",this.publishBundle,this),this.account.on("devices_updated",this.onOwnDevicesUpdated,this),this.store.on("prekey_removed",this.removePreKey,this),this.store.on("session_stored",this.cacheSession,this)},storeSessions:function(){let e=this.get("sessions");for(let t in e){let a=e[t];a&&this.store.put(t,a)}},onOmemoDestroyed:function(){this.own_devices&&0!=Object.keys(this.own_devices).length&&this.deleteOwnDevice(),this.account.connection.deleteHandler(this._msg_handler)},deleteOwnDevice:function(){let e=this.get("device_id");delete this.own_devices[e];let t=this.account.connection;t&&t.omemo&&(delete t.omemo.devices[e],t.omemo.publishDevice(null,null,()=>{}),t.omemo.removeItemFromNode(`${c.NS.OMEMO}:bundles`,e))},onConnected:function(){this.prekeys=new i.Prekeys({name:"prekeys",model:this}),this.used_prekeys=new i.Prekeys({name:"used_prekeys",model:this}),this.own_used_prekeys=new i.Prekeys({name:"own_used_prekeys",model:this}),this.cached_messages=new i.DecryptedMessages({id:"decrypted-messages"},{account:this.account,storage_name:i.getStorageName()+"-decrypted-messages-"+this.account.get("jid"),fetch:"before"}),this.bundle=new i.Bundle(null,{store:this.store,model:this}),this.connection=this.account.connection,this.registerMessageHandler(),this.addDevice()},getMyDevices:async function(){return this._pending_own_devices?new Promise(e=>{this._dfd_own_devices.done(()=>{e()})}):(this._pending_own_devices=!0,this._dfd_own_devices=new d.Deferred,new Promise(e=>{let t=this.account.connection;t?t.omemo?t.omemo.getDevicesNode(null,a=>{t.omemo.devices=t.omemo.parseUserDevices(d(a)),this._pending_own_devices=!1,this._dfd_own_devices.resolve(),e()},function(){this._pending_own_devices=!1,this._dfd_own_devices.resolve(),e()}):this._pending_own_devices=!1:this._pending_own_devices=!1}))},updateFingerprints:function(e,t,a,i){let n=l.clone(this.get("fingerprints"));n[e]||(n[e]={});let s=n[e];l.isArray(s)&&(s={}),s[t]={fingerprint:a,trusted:i},n[e]=s,this.save("fingerprints",n)},isTrusted:function(e,t,a){let i=l.clone(this.get("fingerprints"));if(i[e]&&i[e][t]){let n=i[e][t];if(n)return n.fingerprint==a?void 0===n.trusted?void 0:n.trusted:null}},cacheRetractVersion:function(e){console.log("version "+e),this.save("retract_version",e)},getRetractVersion:function(){return this.get("retract_version")},addDevice:function(){let e=this.get("device_id");if(this.connection){let t=this.account.connection.omemo;if(Object.keys(t.devices).length){let a=t.devices[e];if(!a||a&&(a.label||this.account.settings.get("device_label_text"))&&a.label!=this.account.settings.get("device_label_text")){let a=this.account.settings.get("device_label_text")||`PC, ${o.getOS()}, ${n.utils.getBrowser()}`;t.publishDevice(e,a,()=>{this.account.trigger("device_published")})}else this.account.trigger("device_published")}else t.getDevicesNode(null,a=>{for(let e in this.account.connection.omemo.devices=t.parseUserDevices(d(a)),this.account.connection.omemo.devices)this.own_devices[e]||(this.own_devices[e]=new i.Device({jid:this.account.get("jid"),id:e},{account:this.account,store:this.store}));let s=t.devices[e];if(!s||s&&(s.label||this.account.settings.get("device_label_text"))&&s.label!=this.account.settings.get("device_label_text")){let a=this.account.settings.get("device_label_text")||`PC, ${o.getOS()}, ${n.utils.getBrowser()}`;t.publishDevice(e,a,()=>{this.account.trigger("device_published")})}else this.account.trigger("device_published")})}},onDeviceIdUpdated:function(){this.save("device_id",this.get("device_id"))},generateDeviceId:function(){if(this.account.get("x_token")&&this.account.get("x_token").token_uid&&8<=this.account.get("x_token").token_uid.length&&+this.account.get("x_token").token_uid.slice(0,8))return+this.account.get("x_token").token_uid.slice(0,8);let e=a(2,31)-1,i=1+2147483647*Math.random();return t(i)},updateMessage:function(e,t){this.cached_messages&&this.cached_messages.updateMessage(e,t)},registerMessageHandler:function(){this.account.connection.deleteHandler(this._msg_handler),this._msg_handler=this.account.connection.addHandler(e=>(this.receiveMessage(e),!0),null,"message",null,null,null,{encrypted:!0})},encrypt:function(e,t){let a=this.getPeer(e.get("jid")),i=d(t.tree()),n=i.children("origin-id").attr("id"),s=c.serialize(i.children("envelope")[0])||"";return n&&this.cached_messages.putMessage(e,n,s),a.encrypt(s).then(i=>{let n=$build("encrypted",{xmlns:c.NS.OMEMO}).c("header",{sid:this.get("device_id"),label:this.account.settings.get("device_label_text")}),s=$build("keys",{jid:this.account.get("jid")});n.c("keys",{jid:e.get("jid")});for(let e of i.keys){let t={rid:e.deviceId,kex:void 0};e.preKey&&(t.kex=!0),a.devices[e.deviceId]?n.c("key",t).t(btoa(e.ciphertext.body)).up():s.c("key",t).t(btoa(e.ciphertext.body)).up()}return n.up().cnode(s.tree()),n.up().up().c("payload").t(o.ArrayBuffertoBase64(i.payload)),d(t.tree()).find("envelope").remove(),t.cnode(n.tree()),t.up().c("store",{xmlns:"urn:xmpp:hints"}).up().c("body").t("This message is encrypted using OMEMO end-to-end encryption.").up(),{message:t,is_trusted:i.is_trusted}}).catch(()=>{})},hasChanges:function(e,t){let a=l.clone(e),i=l.clone(t);for(let n in a)delete i[n];for(let n in i)delete a[n];return Object.keys(a).length||Object.keys(i).length},receiveHeadlineMessage:function(e){if(this.account.omemo&&(!this.account.omemo||this.cid==this.account.omemo.cid)){let t=d(e),a=c.getBareJidFromJid(t.attr("from")),n=t.find("items").attr("node");if(t.find("event[xmlns=\""+c.NS.PUBSUB+"#event\"]").length){if(`${c.NS.OMEMO}:devices`==n){let e=this.account.connection.omemo.parseUserDevices(t);if(a===this.account.get("jid")){let t=this.own_devices&&Object.keys(this.own_devices).length,a=this.hasChanges(this.own_devices,e);this.account.connection.omemo.devices=e;let i=this.get("device_id"),n=this.account.connection.omemo.devices[i];a&&this.account.trigger("devices_updated"),t&&a&&this.account.trigger("trusting_updated")}else{let t=this.getPeer(a),i=t.devices&&Object.keys(t.devices).length,n=this.hasChanges(t.devices,e);t.updateDevices(e),i&&n&&this.account.trigger("trusting_updated")}return}if(`${c.NS.OMEMO}:bundles`==n){let e=t.find("items item").first(),n=e.attr("id"),s=e.children(`bundle[xmlns="${c.NS.OMEMO}"]`),r;if(a===this.account.get("jid"))this.account.connection.omemo.devices&&this.account.connection.omemo.devices[n]&&(!this.own_devices[n]&&(this.own_devices[n]=new i.Device({jid:this.account.get("jid"),id:n},{account:this.account,store:this.store})),r=this.own_devices[n]);else{let e=this.peers.get(a);e&&(r=e.devices[n])}if(r){let e=s.find(`ik`).text(),t=r.get(`ik`),a=[];if(!e)return void r.set("ik",null);s.find("prekeys pk").each((e,t)=>{let i=d(t);a.push({id:i.attr("id"),key:i.text()})}),r.preKeys=a,r.set("ik",o.fromBase64toArrayBuffer(e)),r.set("fingerprint",r.generateFingerprint()),t&&(t=o.ArrayBuffertoBase64(t)),l.isUndefined(t)||t==e||this.account.trigger("trusting_updated")}}}}},receiveChatMessage:function(e,t){t=t||{};let a=d(e);if(a.find(`encrypted[xmlns="${c.NS.OMEMO}"]`).length){a.find("result[xmlns=\""+c.NS.MAM+"\"]").length&&l.extend(t,{is_mam:!0,is_archived:!0}),a.find("[xmlns=\""+c.NS.CARBONS+"\"]").length&&(t.carbon_copied=!0);let i=a.find(`encrypted[xmlns="${c.NS.OMEMO}"]`).parent(),n=(c.getBareJidFromJid(i.attr("from"))===this.account.get("jid")?c.getBareJidFromJid(i.attr("to")):c.getBareJidFromJid(i.attr("from")))||t.from_jid,s=this.account.contacts.get(t.conversation?t.conversation:n),o=i.children(`stanza-id[by="${this.account.get("jid")}"]`).attr("id"),d=o&&this.cached_messages.getMessage(s,o);if(d){if(!t.replaced)return t.encrypted=!0,void this.getTrusted(a).then(e=>{t.is_trusted=e,a.find("body").remove(),a.find(`encrypted[xmlns="${c.NS.OMEMO}"]`).replaceWith(d),this.account.chats.receiveChatMessage(a[0],t)});if(t.replaced&&a.find(`encrypted[xmlns="${c.NS.OMEMO}"] header`).attr("sid")==this.get("device_id")){t.encrypted=!0,a.find("body").remove(),a.find(`encrypted[xmlns="${c.NS.OMEMO}"]`).replaceWith(d);let e=this.account.chats.getChat(s,"encrypted");e&&e.messages.createFromStanza(a,t);let i=e.messages.find(e=>e.get("stanza_id")==o||e.get("contact_stanza_id")==o);return void(i&&(i.set("last_replace_time",a.find("replaced").attr("stamp")),e&&e.item_view.updateLastMessage(e.last_message)))}}t.replaced?this.decrypt(e.children("replace").children("message"),t).then(e=>{if(e){t.encrypted=!0,o&&this.cached_messages.putMessage(s,o,e),a.find("body").remove(),a.find(`encrypted[xmlns="${c.NS.OMEMO}"]`).replaceWith(e);let i=this.account.chats.getChat(s,"encrypted");i&&i.messages.createFromStanza(a,t);let n=i.messages.find(e=>e.get("stanza_id")==o||e.get("contact_stanza_id")==o);n&&(n.set("last_replace_time",a.find("replaced").attr("stamp")),i&&i.item_view.updateLastMessage(i.last_message))}}):this.getTrusted(a).then(a=>(t.is_trusted=a,this.decrypt(e))).then(e=>{if(e)t.encrypted=!0,o&&this.cached_messages.putMessage(s,o,e),a.find("body").remove();else{if(null===e)return void this.account.chats.getChat(s,"encrypted").item_view.updateLastMessage();t.not_encrypted=!0,delete t.is_trusted}a.find(`encrypted[xmlns="${c.NS.OMEMO}"]`).replaceWith(e),this.account.chats.receiveChatMessage(a[0],t)}).catch(()=>t.synced_msg&&!t.decryption_retry?void this.receiveChatMessage(a[0],l.extend(t,{decryption_retry:!0})):void(t.not_encrypted=!0,delete t.is_trusted,a.find(`encrypted[xmlns="${c.NS.OMEMO}"]`).remove(),this.account.chats.receiveChatMessage(a[0],t)))}},checkOwnFingerprints:async function(){return new Promise(e=>{let t=!0,a=new d.Deferred,i=0;if(a.done(a=>{let t=null===a?"error":void 0===a?"none":a;e(t)}),Object.keys(this.own_devices).length)for(let e in i=Object.keys(this.own_devices).length,this.own_devices){let n=this.own_devices[e];if(e==this.get("device_id")){i--,i||a.resolve(t);continue}if(n.get("fingerprint")){let e=this.isTrusted(this.account.get("jid"),n.id,n.get("fingerprint"));void 0===e&&null!==t&&(t=void 0),null===e&&(t=null),i--,i||a.resolve(t)}else if(n.get("ik")){n.set("fingerprint",n.generateFingerprint());let e=this.isTrusted(this.account.get("jid"),n.id,n.get("fingerprint"));void 0===e&&null!==t&&(t=void 0),null===e&&(t=null),i--,i||a.resolve(t)}else{if(null===n.get("ik")){i--,i||a.resolve(t);continue}n.getBundle().then(({pk:e,spk:s,ik:d})=>{n.set("ik",o.fromBase64toArrayBuffer(d)),n.set("fingerprint",n.generateFingerprint());let r=this.isTrusted(this.account.get("jid"),n.id,n.get("fingerprint"));void 0===r&&null!==t&&(t=void 0),null===r&&(t=null),i--,i||a.resolve(t)}).catch(()=>{i--,i||a.resolve(t)})}}else this.getMyDevices().then(()=>{this.onOwnDevicesUpdated().then(()=>{for(let e in i=Object.keys(this.own_devices).length,this.own_devices){if(e==this.get("device_id")){i--,i||a.resolve(t);continue}let n=this.own_devices[e];if(n.get("fingerprint")){let e=this.isTrusted(this.account.get("jid"),n.id,n.get("fingerprint"));void 0===e&&null!==t&&(t=void 0),null===e&&(t=null),i--,i||a.resolve(t)}else i--,i||a.resolve(t)}})})})},checkContactFingerprints:function(e){return new Promise(a=>{let i=!0,n=this.getPeer(e.get("jid")),s=new d.Deferred,r=0;if(s.done(i=>{let t=null===i?"error":void 0===i?"none":i;e.trigger("update_trusted",t),a(t)}),Object.keys(n.devices).length)for(let t in r=Object.keys(n.devices).length,n.devices){let a=n.devices[t];if(a.get("fingerprint")){let t=this.isTrusted(e.get("jid"),a.id,a.get("fingerprint"));void 0===t&&null!==i&&(i=void 0),null===t&&(i=null),r--,r||s.resolve(i)}else if(a.get("ik")){a.set("fingerprint",a.generateFingerprint());let t=this.isTrusted(e.get("jid"),a.id,a.get("fingerprint"));void 0===t&&null!==i&&(i=void 0),null===t&&(i=null),r--,r||s.resolve(i)}else{if(null===a.get("ik")){r--,r||(1===Object.keys(n.devices).length&&(i="nil"),s.resolve(i));continue}a.getBundle().then(({pk:t,spk:n,ik:d})=>{a.set("ik",o.fromBase64toArrayBuffer(d)),a.set("fingerprint",a.generateFingerprint());let c=this.isTrusted(e.get("jid"),a.id,a.get("fingerprint"));void 0===c&&null!==i&&(i=void 0),null===c&&(i=null),r--,r||s.resolve(i)}).catch(()=>{r--,r||(1===Object.keys(n.devices).length&&(i="nil"),s.resolve(i))})}}else n.getDevicesNode().then(()=>{for(let t in r=Object.keys(n.devices).length,r||s.resolve("nil"),n.devices){let a=n.devices[t];a.getBundle().then(({pk:t,spk:d,ik:c})=>{a.set("ik",o.fromBase64toArrayBuffer(c)),a.set("fingerprint",a.generateFingerprint());let l=this.isTrusted(e.get("jid"),a.id,a.get("fingerprint"));void 0===l&&null!==i&&(i=void 0),null===l&&(1===Object.keys(n.devices).length?i="nil":i=null),r--,r||s.resolve(i)}).catch(()=>{r--,r||(1===Object.keys(n.devices).length&&(i="nil"),s.resolve(i))})}})})},getTrusted:async function(e){let t=e.find(`encrypted[xmlns="${c.NS.OMEMO}"]`).parent(),a=c.getBareJidFromJid(t.attr("from")),i=c.getBareJidFromJid(t.attr("to")),n=this.account.contacts.mergeContact(a===this.account.get("jid")?i:a),s=await this.checkOwnFingerprints(),o=await this.checkContactFingerprints(n);if("error"===s||"none"===s&&"error"!==o)return s;if("error"===o||"none"===o)return o;else{let t=e.find("encrypted header").attr("sid"),a=this.getPeer(n.get("jid")),i=a.devices[t];if(i&&i.get("fingerprint")){let e=this.isTrusted(n.get("jid"),i.id,i.get("fingerprint"));if(!1===e)return"untrusted"}return!0}},receiveMessage:function(e){let t=d(e),a=t.attr("type");if("headline"===a)return this.receiveHeadlineMessage(e)},parseEncrypted:function(e){let t=e.children(`payload`),a=e.children("header"),i=o.fromBase64toArrayBuffer(t.text()),n=+a.attr("sid"),s=a.find(`key`).get().map(function(e){return{preKey:"true"===d(e).attr("kex"),ciphertext:o.fromBase64toArrayBuffer(d(e).text()),deviceId:parseInt(d(e).attr("rid"))}});return{sid:n,keys:s,payload:i}},getPeer:function(e){return this.peers.get(e)||this.peers.create({jid:e},{account:this.account}),this.peers.get(e)},decrypt:async function(e,t){let a=d(e),i=c.getBareJidFromJid(a.attr("from"))||t.from_jid,n;if(a.find("result[xmlns=\""+c.NS.MAM+"\"]").length){let e=a.find("message").first();i=c.getBareJidFromJid(e.attr("from")),n=a.children(`result`).children(`forwarded`).children(`message`).children(`encrypted[xmlns="${c.NS.OMEMO}"]`)}else n=a.find("[xmlns=\""+c.NS.CARBONS+"\"]").length?a.children(`[xmlns="${c.NS.CARBONS}"]`).children(`forwarded`).children(`message`).children(`encrypted[xmlns="${c.NS.OMEMO}"]`):a.children(`encrypted[xmlns="${c.NS.OMEMO}"]`);let s=this.parseEncrypted(n),r=this.get("device_id"),l=s.keys.filter(e=>e.deviceId==r),p=l[0];if(!p)return null;let m=this.getPeer(i),u=await m.decrypt(s.sid,p.ciphertext,p.preKey);if(u){let e=u.slice(0,32),t=u.slice(32);return o.AES.decrypt(e,t,s.payload)}},toBase64:function(t){return btoa(e(...new Uint8Array(t)))},publish:function(e,t,a){if(!this.account.connection)return;let i=(this.account.background_connection&&this.account.background_connection.connected?this.account.background_connection:this.account.connection).omemo,n=[];a.forEach(e=>{let t=e.keyId,a=o.ArrayBuffertoBase64(e.keyPair.pubKey),i=o.ArrayBuffertoBase64(e.keyPair.privKey),s=JSON.stringify({pubKey:a,privKey:i});e.signature||(n.push({id:t,key:a}),this.prekeys.put({id:t,key:s}))}),i.configNode(()=>{i.publishBundle({spk:{id:e.keyId,key:o.ArrayBuffertoBase64(e.keyPair.pubKey)},spks:o.ArrayBuffertoBase64(e.signature),ik:o.ArrayBuffertoBase64(t),pks:n,device_id:this.get("device_id")})})},removePreKey:async function(e){if(this.account){let t=this.bundle,a=this.bundle.preKeys.find(t=>t.keyId===e&&!t.signature);if(a){let n=o.ArrayBuffertoBase64(a.keyPair.pubKey),d=o.ArrayBuffertoBase64(a.keyPair.privKey),r=JSON.stringify({pubKey:n,privKey:d}),c=this.bundle.preKeys.indexOf(a);if(t.preKeys.splice(c,1),this.own_used_prekeys.put({id:e,key:r}),this.prekeys.remove(e),t.preKeys.length&&t.preKeys.length<s.MIN_PREKEYS_COUNT){let e=s.PREKEYS_COUNT-t.preKeys.length,a=l.sortBy(i.accounts.connected[0].omemo.bundle.preKeys,"keyId").last().keyId;for(let t=++a;a+e;t++)await this.bundle.generatePreKey(t);this.account.omemo.publishBundle()}else this.account.omemo.publishBundle()}}},cacheSession:function(e){let t=e.id,a=e.rec,i=l.clone(this.get("sessions"));l.isArray(i)&&(i={}),i[t]=a,this.save("sessions",i)},removeSession:function(e){let t=l.clone(this.get("sessions"));l.isArray(t)&&(t={}),delete t[e],this.save("sessions",t)},getSession:function(e){let t=l.clone(this.get("sessions"));return t[e]},publishBundle:async function(){if(!this.bundle)return;let e=this.bundle.preKeys.find(e=>e.signature),t=await this.store.getIdentityKeyPair(),a=this.bundle.preKeys;return e&&t?void(this.account.background_connection&&this.account.background_connection.connected?this.account.background_connection:this.account.connection).omemo.getBundleInfo({jid:this.account.get("jid"),id:this.get("device_id")},()=>{this.publish(e,t.pubKey,a)},i=>{404==d(i).find("error").attr("code")&&(this.account.background_connection&&this.account.background_connection.connected?this.account.background_connection:this.account.connection).omemo.createBundleNode(()=>{this.publish(e,t.pubKey,a)})}):void this.set("resend_bundle",!0)},onOwnDevicesUpdated:async function(){return new Promise(e=>{let t=this.account.connection;if(t&&t.omemo&&t.omemo.devices){for(let e in this.own_devices)t.omemo.devices[e]||(this.account.omemo.removeSession("session"+this.own_devices[e].address.toString()),delete this.own_devices[e]);let a=Object.keys(t.omemo.devices).length;for(let n in t.omemo.devices){this.own_devices[n]||(this.own_devices[n]=new i.Device({jid:this.account.get("jid"),id:n},{account:this.account,store:this.store}));let s=this.own_devices[n],d=t.omemo.devices[n].label;if(!s.get("ik")){if(null===s.get("ik")){a--,a||e();continue}s.getBundle().then(({pk:t,spk:i,ik:n})=>{s.set("ik",o.fromBase64toArrayBuffer(n));let d=s.generateFingerprint();s.get("fingerprint")&&s.get("fingerprint")===d||s.set("fingerprint",d),a--,a||e()}).catch(()=>{a--,a||e()})}else s.get("fingerprint")?(a--,a||e()):(s.set("fingerprint",s.generateFingerprint()),a--,a||e());d&&s.set("label",d)}}})}}),i.DecryptedMessages=Backbone.ModelWithStorage.extend({defaults:{messages:{}},getMessage:function(e,t){let a=l.clone(this.get("messages")),i=a[e.get("jid")]||{};return i[t]},putMessage:function(e,t,a){let i=l.clone(this.get("messages")),n=i[e.get("jid")]||{};n[t]=a,i[e.get("jid")]=n,this.save("messages",i)},removeMessage:function(e,t){let a=e.origin_id,i=l.clone(this.get("messages")),n=i[t.get("jid")]||{};delete n[a],i[t.get("jid")]=n,this.save("messages",i)},updateMessage:function(e,t){let a=e.stanza_id,i=e.origin_id,n=l.clone(this.get("messages")),s=n[t.get("jid")]||{},o=s[i];i&&this.removeMessage({origin_id:i},t),a&&this.putMessage(t,a,o)}}),i.SignalProtocolStore=Backbone.Model.extend({initialize:function(){this.Direction={SENDING:1,RECEIVING:2},this.store={}},getIdentityKeyPair:function(){return Promise.resolve(this.get("identityKey"))},getLocalRegistrationId:function(){return Promise.resolve(this.get("registrationId"))},put:function(e,t){if(void 0===e||void 0===t||null===e||null===t)throw new Error("Tried to store undefined/null");this.store[e]=t},get:function(e,t){if(null===e||void 0===e)throw new Error("Tried to get value for undefined/null key");return e in this.store?this.store[e]:t},remove:function(e){if(null===e||void 0===e)throw new Error("Tried to remove value for undefined/null key");delete this.store[e]},isTrustedIdentity:function(e,t){if(null===e||void 0===e)throw new Error("tried to check identity key for undefined/null key");if(!(t instanceof ArrayBuffer))throw new Error("Expected identityKey to be an ArrayBuffer");let a=this.get("identityKey"+e);return void 0===a?Promise.resolve(!0):Promise.resolve(util.toString(t)===util.toString(a))},loadIdentityKey:function(e){if(null===e||void 0===e)throw new Error("Tried to get identity key for undefined/null key");return Promise.resolve(this.get("identityKey"+e))},saveIdentity:function(e,t){if(null===e||void 0===e)throw new Error("Tried to put identity key for undefined/null key");let a=new m.fromString(e),i=this.get("identityKey"+a.getName());return this.put("identityKey"+a.getName(),t),i&&libsignal.toString(t)!==libsignal.toString(i)?Promise.resolve(!0):Promise.resolve(!1)},loadPreKey:function(e){let t=this.get("25519KeypreKey"+e);return void 0!==t&&(t={pubKey:t.pubKey,privKey:t.privKey}),Promise.resolve(t)},storePreKey:function(e,t){return Promise.resolve(this.put("25519KeypreKey"+e,t))},removePreKey:function(e){this.trigger("prekey_removed",e)},loadSignedPreKey:function(e){let t=this.get("25519KeysignedKey"+e);return void 0!==t&&(t={pubKey:t.pubKey,privKey:t.privKey}),Promise.resolve(t)},storeSignedPreKey:function(e,t){return Promise.resolve(this.put("25519KeysignedKey"+e,t))},removeSignedPreKey:function(e){return Promise.resolve(this.remove("25519KeysignedKey"+e))},loadSession:function(e){return Promise.resolve(this.get("session"+e))},hasSession:function(e){return!!this.get("session"+e)},storeSession:function(e,t){return this.trigger("session_stored",{id:"session"+e,rec:t}),Promise.resolve(this.put("session"+e,t))},removeSession:function(e){return Promise.resolve(this.remove("session"+e))},getAllSessions:function(e){let t=[];for(let a in this.store)a.startsWith("session"+e)&&t.push({id:a,session:this.store[a]});return Promise.resolve(t)},removeAllSessions:function(e){for(let t in this.store)t.startsWith("session"+e)&&delete this.store[t];return Promise.resolve()}}),i.OMEMOEnablePlaceholder=i.BasicView.extend({className:"omemo-enable-placeholder",events:{"click .btn-enable":"enableOmemo","click .btn-escape":"closeOmemoPlaceholder"},_initialize:function(e){this.account=e.account,this.updateColorScheme(),this.$el.html(r.omemo_enable({jid:this.account.get("jid")})),i.placeholders_wrap.$el.append(this.$el),i.main_panel.$el.css("padding-bottom",i.placeholders_wrap.$el.height()),i.on("update_screen",this.onUpdatedScreen,this),this.account.session.on("change:connected",this.updateConnected,this),this.account.settings.on("change:color",this.updateColorScheme,this),this.account.settings.on("change:omemo",this.onOmemoChange,this)},updateColorScheme:function(){let e=this.account.settings.get("color");this.$el.attr("data-color",e)},onUpdatedScreen:function(){this.account.omemo_enable_placeholder&&this.account.omemo_enable_placeholder.cid===this.cid&&(this.$el.detach(),i.placeholders_wrap.$el.append(this.$el),i.main_panel.$el.css("padding-bottom",i.placeholders_wrap.$el.height()))},updateConnected:function(){this.account.isConnected()||this.close()},enableOmemo:function(){this.account.settings.save("omemo",!0),this.close(),this.account.omemo=new i.Omemo({id:"omemo"},{account:this.account,storage_name:i.getStorageName()+"-omemo-settings-"+this.account.get("jid"),fetch:"before"}),setTimeout(()=>{this.account.omemo.onConnected()},2e3)},closeOmemoPlaceholder:function(){this.account.settings.save("omemo",!1),this.close()},onOmemoChange:function(){this.account.settings.get("omemo")&&this.close()},close:function(){this.trigger("remove")&&this.remove(),this.account.omemo_enable_placeholder=void 0,i.main_panel.$el.css("padding-bottom",i.placeholders_wrap.$el.height())}}),i.Account.addInitPlugin(function(){this.settings.get("omemo")&&(this.omemo=new i.Omemo({id:"omemo"},{account:this,storage_name:i.getStorageName()+"-omemo-settings-"+this.get("jid"),fetch:"before"}))}),i.Account.addConnPlugin(function(){this.settings.get("omemo")&&this.omemo.onConnected()},!0,!0),i}}),define("xabber",["xabber-core","xabber-views","xabber-api-service","xabber-strophe","xabber-vcard","xabber-accounts","xabber-discovery","xabber-contacts","xabber-chats","xabber-searching","xabber-mentions","xabber-ui","xabber-omemo"],function(e,t,a,i,n,s,o,d,r,c,l,p,m){return e.extendWith(t,a,i,n,s,o,d,r,c,l,p,m)});