/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 */var requirejs,require,define;(function(global,setTimeout){function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var a;for(a=0;a<e.length&&!(e[a]&&t(e[a],a,e));a+=1);}}function eachReverse(e,t){if(e){var a;for(a=e.length-1;-1<a&&!(e[a]&&t(e[a],a,e));a-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){for(var a in e)if(hasProp(e,a)&&t(e[a],a))break}function mixin(e,t,a,n){return t&&eachProp(t,function(t,i){(a||!hasProp(e,i))&&(!n||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[i]=t:(!e[i]&&(e[i]={}),mixin(e[i],t,a,n)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(t,a,n,i){var s=new Error(a+"\nhttps://requirejs.org/docs/errors.html#"+t);return s.requireType=t,s.requireModules=i,n&&(s.originalError=n),s}function newContext(e){function t(e){var t,a;for(t=0;t<e.length;t++)if(a=e[t],"."===a)e.splice(t,1),t-=1;else if(".."===a)if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;else 0<t&&(e.splice(t-1,2),t-=2)}function a(e,a,n){var s=a&&a.split("/"),o=b.map,d=o&&o["*"],r,c,l,p,u,m,g,h,f,v,A,x;if(e&&(e=e.split("/"),g=e.length-1,b.nodeIdCompat&&jsSuffixRegExp.test(e[g])&&(e[g]=e[g].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&s&&(x=s.slice(0,s.length-1),e=x.concat(e)),t(e),e=e.join("/")),n&&o&&(s||d)){l=e.split("/");outerLoop:for(p=l.length;0<p;p-=1){if(m=l.slice(0,p).join("/"),s)for(u=s.length;0<u;u-=1)if(c=getOwn(o,s.slice(0,u).join("/")),c&&(c=getOwn(c,m),c)){h=c,f=p;break outerLoop}!v&&d&&getOwn(d,m)&&(v=getOwn(d,m),A=p)}!h&&v&&(h=v,f=A),h&&(l.splice(0,f,h),e=l.join("/"))}return r=getOwn(b.pkgs,e),r?r:e}function n(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===Y.contextName)return t.parentNode.removeChild(t),!0})}function i(e){var t=getOwn(b.paths,e);if(t&&isArray(t)&&1<t.length)return t.shift(),Y.require.undef(e),Y.makeRequire(null,{skipMap:!0})([e]),!0}function s(e){var t=e?e.indexOf("!"):-1,a;return-1<t&&(a=e.substring(0,t),e=e.substring(t+1,e.length)),[a,e]}function o(e,t,n,i){var o=null,d=t?t.name:null,r=e,c=!0,l="",p,u,m,g;return e||(c=!1,e="_@r"+(L+=1)),g=s(e),o=g[0],e=g[1],o&&(o=a(o,d,i),u=getOwn(S,o)),e&&(o?n?l=e:u&&u.normalize?l=u.normalize(e,function(e){return a(e,d,i)}):l=-1===e.indexOf("!")?a(e,d,i):e:(l=a(e,d,i),g=s(l),o=g[0],l=g[1],n=!0,p=Y.nameToUrl(l))),m=!o||u||n?"":"_unnormalized"+(T+=1),{prefix:o,name:l,parentMap:t,unnormalized:!!m,url:p,originalName:r,isDefine:c,id:(o?o+"!"+l:l)+m}}function d(e){var t=e.id,a=getOwn(A,t);return a||(a=A[t]=new Y.Module(e)),a}function r(e,t,a){var n=e.id,i=getOwn(A,n);hasProp(S,n)&&(!i||i.defineEmitComplete)?"defined"===t&&a(S[n]):(i=d(e),i.error&&"error"===t?a(i.error):i.on(t,a))}function c(e,t){var a=e.requireModules,n=!1;t?t(e):(each(a,function(t){var a=getOwn(A,t);a&&(a.error=e,a.events.error&&(n=!0,a.emit("error",e)))}),!n&&req.onError(e))}function l(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(Y.defQueueMap[t]=!0),k.push(e)}),globalDefQueue=[])}function p(e){delete A[e],delete x[e]}function u(e,t,a){var n=e.map.id;e.error?e.emit("error",e.error):(t[n]=!0,each(e.depMaps,function(n,s){var i=n.id,o=getOwn(A,i);!o||e.depMatched[s]||a[i]||(getOwn(t,i)?(e.defineDep(s,S[i]),e.check()):u(o,t,a))}),a[n]=!0)}function m(){var e=1e3*b.waitSeconds,t=e&&Y.startTime+e<new Date().getTime(),a=[],s=[],o=!1,d=!0,r,l;if(!E)return E=!0,eachProp(x,function(e){var r=e.map,c=r.id;if(e.enabled&&(r.isDefine||s.push(e),!e.error))if(!e.inited&&t)i(c)?(l=!0,o=!0):(a.push(c),n(c));else if(!e.inited&&e.fetched&&r.isDefine&&(o=!0,!r.prefix))return d=!1}),t&&a.length?(r=makeError("timeout","Load timeout for modules: ",null,a),r.contextName=Y.contextName,c(r)):void(d&&each(s,function(e){u(e,{},{})}),(!t||l)&&o&&(isBrowser||isWebWorker)&&!j&&(j=setTimeout(function(){j=0,m()},50)),E=!1)}function g(e){hasProp(S,e[0])||d(o(e[0],null,!0)).init(e[1],e[2])}function h(e,t,a,n){e.detachEvent&&!isOpera?n&&e.detachEvent(n,t):e.removeEventListener(a,t,!1)}function f(e){var t=e.currentTarget||e.srcElement;return h(t,Y.onScriptLoad,"load","onreadystatechange"),h(t,Y.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(l();k.length;){if(e=k.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));g(e)}Y.defQueueMap={}}var b={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},A={},x={},w={},k=[],S={},M={},C={},L=1,T=1,E,D,Y,I,j;return I={require:function(e){return e.require?e.require:e.require=Y.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?S[e.map.id]=e.exports:e.exports=S[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(b.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},D=function(e){this.events=getOwn(w,e.id)||{},this.map=e,this.shim=getOwn(b.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},D.prototype={init:function(e,t,a,n){n=n||{},this.inited||(this.factory=t,a?this.on("error",a):this.events.error&&(a=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=a,this.inited=!0,this.ignore=n.ignore,n.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,Y.startTime=new Date().getTime();var e=this.map;return this.shim?void Y.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;M[e]||(M[e]=!0,Y.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e=this.map.id,t=this.depExports,a=this.exports,n=this.factory,i,s;if(!this.inited)hasProp(Y.defQueueMap,e)||this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(isFunction(n)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{a=Y.execCb(e,n,t,a)}catch(t){i=t}else a=Y.execCb(e,n,t,a);if(this.map.isDefine&&void 0===a&&(s=this.module,s?a=s.exports:this.usingExports&&(a=this.exports)),i)return i.requireMap=this.map,i.requireModules=this.map.isDefine?[this.map.id]:null,i.requireType=this.map.isDefine?"define":"require",c(this.error=i)}else a=n;if(this.exports=a,this.map.isDefine&&!this.ignore&&(S[e]=a,req.onResourceLoad)){var o=[];each(this.depMaps,function(e){o.push(e.normalizedMap||e)}),req.onResourceLoad(Y,this.map,o)}p(e),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var e=this.map,t=e.id,n=o(e.prefix);this.depMaps.push(n),r(n,"defined",bind(this,function(n){var i=getOwn(C,this.map.id),s=this.map.name,l=this.map.parentMap?this.map.parentMap.name:null,u=Y.makeRequire(e.parentMap,{enableBuildCallback:!0}),m,g,h;return this.map.unnormalized?(n.normalize&&(s=n.normalize(s,function(e){return a(e,l,!0)})||""),g=o(e.prefix+"!"+s,this.map.parentMap,!0),r(g,"defined",bind(this,function(e){this.map.normalizedMap=g,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),h=getOwn(A,g.id),void(h&&(this.depMaps.push(g),this.events.error&&h.on("error",bind(this,function(e){this.emit("error",e)})),h.enable()))):i?(this.map.url=Y.nameToUrl(i),void this.load()):void(m=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),m.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(A,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&p(e.map.id)}),c(e)}),m.fromText=bind(this,function(a,n){var i=e.name,s=o(i),r=useInteractive;n&&(a=n),r&&(useInteractive=!1),d(s),hasProp(b.config,t)&&(b.config[i]=b.config[t]);try{req.exec(a)}catch(a){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+a,a,[t]))}r&&(useInteractive=!0),this.depMaps.push(s),Y.completeLoad(i),u([i],m)}),n.load(e.name,u,m,b))})),Y.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){x[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var a,n,i;if("string"==typeof e){if(e=o(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(I,e.id),i)return void(this.depExports[t]=i(this));this.depCount+=1,r(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?r(e,"error",bind(this,this.errback)):this.events.error&&r(e,"error",bind(this,function(e){this.emit("error",e)}))}a=e.id,n=A[a],hasProp(I,a)||!n||n.enabled||Y.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(A,e.id);t&&!t.enabled&&Y.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var a=this.events[e];a||(a=this.events[e]=[]),a.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},Y={config:b,contextName:e,registry:A,defined:S,urlFetched:M,defQueue:k,defQueueMap:{},Module:D,makeModuleMap:o,nextTick:req.nextTick,onError:c,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,a){return(-1===a.indexOf("?")?"?":"&")+t}}var a=b.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(!b[t]&&(b[t]={}),mixin(b[t],e,!0,!0)):b[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(C[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),(e.exports||e.init)&&!e.exportsFn&&(e.exportsFn=Y.makeShimExports(e)),a[t]=e}),b.shim=a),e.packages&&each(e.packages,function(e){var t,a;e="string"==typeof e?{name:e}:e,a=e.name,t=e.location,t&&(b.paths[a]=e.location),b.pkgs[a]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(A,function(e,t){e.inited||e.map.unnormalized||(e.map=o(t,null,!0))}),(e.deps||e.callback)&&Y.require(e.deps||[],e.callback)},makeShimExports:function(e){return function(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}},makeRequire:function(t,i){function s(a,n,r){var l,p,u;return(i.enableBuildCallback&&n&&isFunction(n)&&(n.__requireJsBuild=!0),"string"==typeof a)?isFunction(n)?c(makeError("requireargs","Invalid require call"),r):t&&hasProp(I,a)?I[a](A[t.id]):req.get?req.get(Y,a,t,s):(p=o(a,t,!1,!0),l=p.id,hasProp(S,l)?S[l]:c(makeError("notloaded","Module name \""+l+"\" has not been loaded yet for context: "+e+(t?"":". Use require([])")))):(v(),Y.nextTick(function(){v(),u=d(o(null,t)),u.skipMap=i.skipMap,u.init(a,n,r,{enabled:!0}),m()}),s)}return i=i||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var n=e.lastIndexOf("."),i=e.split("/")[0],s;return-1!==n&&(!("."===i||".."===i)||1<n)&&(s=e.substring(n,e.length),e=e.substring(0,n)),Y.nameToUrl(a(e,t&&t.id,!0),s,!0)},defined:function(e){return hasProp(S,o(e,t,!1,!0).id)},specified:function(e){return e=o(e,t,!1,!0).id,hasProp(S,e)||hasProp(A,e)}}),t||(s.undef=function(e){l();var a=o(e,t,!0),i=getOwn(A,e);i.undefed=!0,n(e),delete S[e],delete M[a.url],delete w[e],eachReverse(k,function(t,a){t[0]===e&&k.splice(a,1)}),delete Y.defQueueMap[e],i&&(i.events.defined&&(w[e]=i.events),p(e))}),s},enable:function(e){var t=getOwn(A,e.id);t&&d(e).enable()},completeLoad:function(e){var t=getOwn(b.shim,e)||{},a=t.exports,n,s,o;for(l();k.length;){if(s=k.shift(),null===s[0]){if(s[0]=e,n)break;n=!0}else s[0]===e&&(n=!0);g(s)}if(Y.defQueueMap={},o=getOwn(A,e),!n&&!hasProp(S,e)&&o&&!o.inited){if(b.enforceDefine&&(!a||!getGlobal(a)))return i(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));g([e,t.deps||[],t.exportsFn])}m()},nameToUrl:function(e,t,a){var n=getOwn(b.pkgs,e),s,o,d,r,c,l,p;if(n&&(e=n),p=getOwn(C,e),p)return Y.nameToUrl(p,t,a);if(req.jsExtRegExp.test(e))c=e+(t||"");else{for(s=b.paths,o=e.split("/"),d=o.length;0<d;d-=1)if(r=o.slice(0,d).join("/"),l=getOwn(s,r),l){isArray(l)&&(l=l[0]),o.splice(0,d,l);break}c=o.join("/"),c+=t||(/^data\:|^blob\:|\?/.test(c)||a?"":".js"),c=("/"===c.charAt(0)||c.match(/^[\w\+\.\-]+:/)?"":b.baseUrl)+c}return b.urlArgs&&!/^blob\:/.test(c)?c+b.urlArgs(e,c):c},load:function(e,t){req.load(Y,e,t)},execCb:function(e,t,a,n){return t.apply(n,a)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=f(e);Y.completeLoad(t.id)}},onScriptError:function(e){var t=f(e);if(!i(t.id)){var a=[];return eachProp(A,function(e,n){0!==n.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===t.id)return a.push(n),!0})}),c(makeError("scripterror","Script error for \""+t.id+(a.length?"\", needed by: "+a.join(", "):"\""),e,[t.id]))}}},Y.require=Y.makeRequire(),Y}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript)}var version="2.3.6",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!!("undefined"!=typeof window&&"undefined"!=typeof navigator&&window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1,req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,a,n){var i="_",s,o;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=a,a=n):e=[]),o&&o.context&&(i=o.context),s=getOwn(contexts,i),s||(s=contexts[i]=req.s.newContext(i)),o&&s.configure(o),s.require(e,t,a)},req.config=function(e){return req(e)},req.nextTick="undefined"==typeof setTimeout?function(e){e()}:function(e){setTimeout(e,4)},require||(require=req),req.version="2.3.6",req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts._;return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(t,a,n){var i=t&&t.config||{},s;if(isBrowser)return s=req.createNode(i,a,n),s.setAttribute("data-requirecontext",t.contextName),s.setAttribute("data-requiremodule",a),!s.attachEvent||s.attachEvent.toString&&0>s.attachEvent.toString().indexOf("[native code")||isOpera?(s.addEventListener("load",t.onScriptLoad,!1),s.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,s.attachEvent("onreadystatechange",t.onScriptLoad)),s.src=n,i.onNodeCreated&&i.onNodeCreated(s,i,a,n),currentlyAddingScript=s,baseElement?head.insertBefore(s,baseElement):head.appendChild(s),currentlyAddingScript=null,s;if(isWebWorker)try{setTimeout(function(){},0),importScripts(n),t.completeLoad(a)}catch(i){t.onError(makeError("importscripts","importScripts failed for "+a+" at "+n,i,[a]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain)return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,a){var n,i;"string"!=typeof e&&(a=t,t=e,e=null),isArray(t)||(a=t,t=null),!t&&isFunction(a)&&(t=[],a.length&&(a.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,a){t.push(a)}),t=(1===a.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(n=currentlyAddingScript||getInteractiveScript(),n&&(!e&&(e=n.getAttribute("data-requiremodule")),i=contexts[n.getAttribute("data-requirecontext")])),i?(i.defQueue.push([e,t,a]),i.defQueueMap[e]=!0):globalDefQueue.push([e,t,a])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}})(this,"undefined"==typeof setTimeout?void 0:setTimeout),define("node_modules/requirejs/require.js",function(){}),function(){var e=Math.floor,t=Math.min,a=Math.max;function n(e){function t(t,a,n,i,s,o){for(;0<=s&&s<o;s+=e){var d=i?i[s]:s;n=a(n,t[d],d,t)}return n}return function(a,n,i,s){n=k(n,s,4);var o=!D(a)&&w.keys(a),d=(o||a).length,r=0<e?0:d-1;return 3>arguments.length&&(i=a[o?o[r]:r],r+=e),t(a,n,i,o,r,d)}}function i(e){return function(t,a,n){a=S(a,n);for(var i=E(t),s=0<e?0:i-1;0<=s&&s<i;s+=e)if(a(t[s],s,t))return s;return-1}}function s(e,n,s){return function(o,d,r){var c=0,l=E(o);if("number"==typeof r)0<e?c=0<=r?r:a(r+l,c):l=0<=r?t(r+1,l):r+l+1;else if(s&&r&&l)return r=s(o,d),o[r]===d?r:-1;if(d!==d)return r=n(m.call(o,c,l),w.isNaN),0<=r?r+c:-1;for(r=0<e?c:l-1;0<=r&&r<l;r+=e)if(o[r]===d)return r;return-1}}function o(e,t){var a=O.length,n=e.constructor,i=w.isFunction(n)&&n.prototype||l,s="constructor";for(w.has(e,s)&&!w.contains(t,s)&&t.push(s);a--;)s=O[a],s in e&&e[s]!==i[s]&&!w.contains(t,s)&&t.push(s)}var d=this,r=d._,c=Array.prototype,l=Object.prototype,p=Function.prototype,u=c.push,m=c.slice,g=l.toString,h=l.hasOwnProperty,f=Array.isArray,v=Object.keys,b=p.bind,A=Object.create,x=function(){},w=function(e){return e instanceof w?e:this instanceof w?void(this._wrapped=e):new w(e)};"undefined"==typeof exports?d._=w:("undefined"!=typeof module&&module.exports&&(exports=module.exports=w),exports._=w),w.VERSION="1.8.3";var k=function(e,t,a){if(void 0===t)return e;switch(null==a?3:a){case 1:return function(a){return e.call(t,a)};case 2:return function(a,n){return e.call(t,a,n)};case 3:return function(a,n,i){return e.call(t,a,n,i)};case 4:return function(a,n,i,s){return e.call(t,a,n,i,s)};}return function(){return e.apply(t,arguments)}},S=function(e,t,a){return null==e?w.identity:w.isFunction(e)?k(e,t,a):w.isObject(e)?w.matcher(e):w.property(e)};w.iteratee=function(e,t){return S(e,t,1/0)};var M=function(e,t){return function(a){var n=arguments.length;if(2>n||null==a)return a;for(var s=1;s<n;s++)for(var o=arguments[s],d=e(o),r=d.length,c=0,l;c<r;c++)l=d[c],t&&void 0!==a[l]||(a[l]=o[l]);return a}},C=function(e){if(!w.isObject(e))return{};if(A)return A(e);x.prototype=e;var t=new x;return x.prototype=null,t},L=function(e){return function(t){return null==t?void 0:t[e]}},T=Math.pow(2,53)-1,E=L("length"),D=function(e){var t=E(e);return"number"==typeof t&&0<=t&&t<=T};w.each=w.forEach=function(e,t,a){t=k(t,a);var n,s;if(D(e))for(n=0,s=e.length;n<s;n++)t(e[n],n,e);else{var o=w.keys(e);for(n=0,s=o.length;n<s;n++)t(e[o[n]],o[n],e)}return e},w.map=w.collect=function(e,t,a){t=S(t,a);for(var n=!D(e)&&w.keys(e),i=(n||e).length,s=Array(i),o=0,d;o<i;o++)d=n?n[o]:o,s[o]=t(e[d],d,e);return s},w.reduce=w.foldl=w.inject=n(1),w.reduceRight=w.foldr=n(-1),w.find=w.detect=function(e,t,a){var n;if(n=D(e)?w.findIndex(e,t,a):w.findKey(e,t,a),void 0!==n&&-1!==n)return e[n]},w.filter=w.select=function(e,t,a){var n=[];return t=S(t,a),w.each(e,function(e,a,i){t(e,a,i)&&n.push(e)}),n},w.reject=function(e,t,a){return w.filter(e,w.negate(S(t)),a)},w.every=w.all=function(e,t,a){t=S(t,a);for(var n=!D(e)&&w.keys(e),i=(n||e).length,s=0,o;s<i;s++)if(o=n?n[s]:s,!t(e[o],o,e))return!1;return!0},w.some=w.any=function(e,t,a){t=S(t,a);for(var n=!D(e)&&w.keys(e),i=(n||e).length,s=0,o;s<i;s++)if(o=n?n[s]:s,t(e[o],o,e))return!0;return!1},w.contains=w.includes=w.include=function(e,t,a,n){return D(e)||(e=w.values(e)),("number"!=typeof a||n)&&(a=0),0<=w.indexOf(e,t,a)},w.invoke=function(e,t){var a=m.call(arguments,2),n=w.isFunction(t);return w.map(e,function(e){var i=n?t:e[t];return null==i?i:i.apply(e,a)})},w.pluck=function(e,t){return w.map(e,w.property(t))},w.where=function(e,t){return w.filter(e,w.matcher(t))},w.findWhere=function(e,t){return w.find(e,w.matcher(t))},w.max=function(e,t,a){var n=-Infinity,s=-Infinity,o,d;if(null==t&&null!=e){e=D(e)?e:w.values(e);for(var r=0,c=e.length;r<c;r++)o=e[r],o>n&&(n=o)}else t=S(t,a),w.each(e,function(e,a,i){d=t(e,a,i),(d>s||d===-Infinity&&n===-Infinity)&&(n=e,s=d)});return n},w.min=function(e,t,a){var n=1/0,s=1/0,o,d;if(null==t&&null!=e){e=D(e)?e:w.values(e);for(var r=0,c=e.length;r<c;r++)o=e[r],o<n&&(n=o)}else t=S(t,a),w.each(e,function(e,a,i){d=t(e,a,i),(d<s||d===1/0&&n===1/0)&&(n=e,s=d)});return n},w.shuffle=function(e){for(var t=D(e)?e:w.values(e),a=t.length,n=Array(a),i=0,s;i<a;i++)s=w.random(0,i),s!==i&&(n[i]=n[s]),n[s]=t[i];return n},w.sample=function(e,t,n){return null==t||n?(D(e)||(e=w.values(e)),e[w.random(e.length-1)]):w.shuffle(e).slice(0,a(0,t))},w.sortBy=function(e,t,a){return t=S(t,a),w.pluck(w.map(e,function(e,a,n){return{value:e,index:a,criteria:t(e,a,n)}}).sort(function(e,t){var n=e.criteria,a=t.criteria;if(n!==a){if(n>a||void 0===n)return 1;if(n<a||void 0===a)return-1}return e.index-t.index}),"value")};var Y=function(e){return function(t,a,n){var i={};return a=S(a,n),w.each(t,function(n,s){var o=a(n,s,t);e(i,n,o)}),i}};w.groupBy=Y(function(e,t,a){w.has(e,a)?e[a].push(t):e[a]=[t]}),w.indexBy=Y(function(e,t,a){e[a]=t}),w.countBy=Y(function(e,t,a){w.has(e,a)?e[a]++:e[a]=1}),w.toArray=function(e){return e?w.isArray(e)?m.call(e):D(e)?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:D(e)?e.length:w.keys(e).length},w.partition=function(e,t,a){t=S(t,a);var n=[],i=[];return w.each(e,function(e,a,s){(t(e,a,s)?n:i).push(e)}),[n,i]},w.first=w.head=w.take=function(e,t,a){return null==e?void 0:null==t||a?e[0]:w.initial(e,e.length-t)},w.initial=function(e,t,n){return m.call(e,0,a(0,e.length-(null==t||n?1:t)))},w.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:w.rest(e,a(0,e.length-t))},w.rest=w.tail=w.drop=function(e,t,a){return m.call(e,null==t||a?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var I=function(e,t,a,n){for(var s=[],o=0,d=n||0,r=E(e),c;d<r;d++)if(c=e[d],D(c)&&(w.isArray(c)||w.isArguments(c))){t||(c=I(c,t,a));var l=0,p=c.length;for(s.length+=p;l<p;)s[o++]=c[l++]}else a||(s[o++]=c);return s};w.flatten=function(e,t){return I(e,t,!1)},w.without=function(e){return w.difference(e,m.call(arguments,1))},w.uniq=w.unique=function(e,t,a,n){w.isBoolean(t)||(n=a,a=t,t=!1),null!=a&&(a=S(a,n));for(var s=[],o=[],d=0,r=E(e);d<r;d++){var c=e[d],l=a?a(c,d,e):c;t?((!d||o!==l)&&s.push(c),o=l):a?!w.contains(o,l)&&(o.push(l),s.push(c)):!w.contains(s,c)&&s.push(c)}return s},w.union=function(){return w.uniq(I(arguments,!0,!0))},w.intersection=function(e){for(var t=[],a=arguments.length,n=0,s=E(e),o;n<s;n++)if(o=e[n],!w.contains(t,o)){for(var d=1;d<a&&!!w.contains(arguments[d],o);d++);d===a&&t.push(o)}return t},w.difference=function(e){var t=I(arguments,!0,!0,1);return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(e){for(var t=e&&w.max(e,E).length||0,a=Array(t),n=0;n<t;n++)a[n]=w.pluck(e,n);return a},w.object=function(e,t){for(var a={},n=0,s=E(e);n<s;n++)t?a[e[n]]=t[n]:a[e[n][0]]=e[n][1];return a},w.findIndex=i(1),w.findLastIndex=i(-1),w.sortedIndex=function(t,a,n,i){n=S(n,i,1);for(var s=n(a),o=0,d=E(t);o<d;){var r=e((o+d)/2);n(t[r])<s?o=r+1:d=r}return o},w.indexOf=s(1,w.findIndex,w.sortedIndex),w.lastIndexOf=s(-1,w.findLastIndex),w.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=a(Math.ceil((t-e)/n),0),s=Array(i),o=0;o<i;o++,e+=n)s[o]=e;return s};var j=function(e,t,a,n,i){if(!(n instanceof t))return e.apply(a,i);var s=C(e.prototype),o=e.apply(s,i);return w.isObject(o)?o:s};w.bind=function(e,t){if(b&&e.bind===b)return b.apply(e,m.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var a=m.call(arguments,2),n=function(){return j(e,n,t,this,a.concat(m.call(arguments)))};return n},w.partial=function(e){var t=m.call(arguments,1),a=function(){for(var n=0,s=t.length,o=Array(s),d=0;d<s;d++)o[d]=t[d]===w?arguments[n++]:t[d];for(;n<arguments.length;)o.push(arguments[n++]);return j(e,a,this,this,o)};return a},w.bindAll=function(e){var t=arguments.length,a,n;if(1>=t)throw new Error("bindAll must be passed function names");for(a=1;a<t;a++)n=arguments[a],e[n]=w.bind(e[n],e);return e},w.memoize=function(e,t){var a=function(n){var i=a.cache,s=""+(t?t.apply(this,arguments):n);return w.has(i,s)||(i[s]=e.apply(this,arguments)),i[s]};return a.cache={},a},w.delay=function(e,t){var a=m.call(arguments,2);return setTimeout(function(){return e.apply(null,a)},t)},w.defer=w.partial(w.delay,w,1),w.throttle=function(e,t,a){var n=null,i=0,s,o,d;a||(a={});var r=function(){i=!1===a.leading?0:w.now(),n=null,d=e.apply(s,o),n||(s=o=null)};return function(){var c=w.now();i||!1!==a.leading||(i=c);var l=t-(c-i);return s=this,o=arguments,0>=l||l>t?(n&&(clearTimeout(n),n=null),i=c,d=e.apply(s,o),!n&&(s=o=null)):!n&&!1!==a.trailing&&(n=setTimeout(r,l)),d}},w.debounce=function(e,t,a){var n=function(){var c=w.now()-d;c<t&&0<=c?i=setTimeout(n,t-c):(i=null,!a&&(r=e.apply(o,s),!i&&(o=s=null)))},i,s,o,d,r;return function(){o=this,s=arguments,d=w.now();var c=a&&!i;return i||(i=setTimeout(n,t)),c&&(r=e.apply(o,s),o=s=null),r}},w.wrap=function(e,t){return w.partial(t,e)},w.negate=function(e){return function(){return!e.apply(this,arguments)}},w.compose=function(){var e=arguments,t=e.length-1;return function(){for(var a=t,n=e[t].apply(this,arguments);a--;)n=e[a].call(this,n);return n}},w.after=function(e,t){return function(){if(1>--e)return t.apply(this,arguments)}},w.before=function(e,t){var a;return function(){return 0<--e&&(a=t.apply(this,arguments)),1>=e&&(t=null),a}},w.once=w.partial(w.before,2);var N=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(e){if(!w.isObject(e))return[];if(v)return v(e);var t=[];for(var a in e)w.has(e,a)&&t.push(a);return N&&o(e,t),t},w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var a in e)t.push(a);return N&&o(e,t),t},w.values=function(e){for(var t=w.keys(e),a=t.length,n=Array(a),s=0;s<a;s++)n[s]=e[t[s]];return n},w.mapObject=function(e,t,a){t=S(t,a);for(var n=w.keys(e),i=n.length,s={},o=0,d;o<i;o++)d=n[o],s[d]=t(e[d],d,e);return s},w.pairs=function(e){for(var t=w.keys(e),a=t.length,n=Array(a),s=0;s<a;s++)n[s]=[t[s],e[t[s]]];return n},w.invert=function(e){for(var t={},a=w.keys(e),n=0,s=a.length;n<s;n++)t[e[a[n]]]=a[n];return t},w.functions=w.methods=function(e){var t=[];for(var a in e)w.isFunction(e[a])&&t.push(a);return t.sort()},w.extend=M(w.allKeys),w.extendOwn=w.assign=M(w.keys),w.findKey=function(e,t,a){t=S(t,a);for(var n=w.keys(e),s=0,o=n.length,d;s<o;s++)if(d=n[s],t(e[d],d,e))return d},w.pick=function(e,t,a){var n={},s=e,o,d;if(null==s)return n;w.isFunction(t)?(d=w.allKeys(s),o=k(t,a)):(d=I(arguments,!1,!1,1),o=function(e,t,a){return t in a},s=Object(s));for(var r=0,c=d.length;r<c;r++){var l=d[r],p=s[l];o(p,l,s)&&(n[l]=p)}return n},w.omit=function(e,t,a){if(w.isFunction(t))t=w.negate(t);else{var n=w.map(I(arguments,!1,!1,1),String);t=function(e,t){return!w.contains(n,t)}}return w.pick(e,t,a)},w.defaults=M(w.allKeys,!0),w.create=function(e,t){var a=C(e);return t&&w.extendOwn(a,t),a},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,t){return t(e),e},w.isMatch=function(e,t){var a=w.keys(t),n=a.length;if(null==e)return!n;for(var s=Object(e),o=0,d;o<n;o++)if(d=a[o],t[d]!==s[d]||!(d in s))return!1;return!0};var R=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof w&&(e=e._wrapped),t instanceof w&&(t=t._wrapped);var s=g.call(e);if(s!==g.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e==+e?0==+e?1/+e==1/t:+e==+t:+t!=+t;case"[object Date]":case"[object Boolean]":return+e==+t;}var o="[object Array]"===s;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var d=e.constructor,r=t.constructor;if(d!==r&&!(w.isFunction(d)&&d instanceof d&&w.isFunction(r)&&r instanceof r)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===e)return i[c]===t;if(n.push(e),i.push(t),o){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!R(e[c],t[c],n,i))return!1}else{var l=w.keys(e),p;if(c=l.length,w.keys(t).length!==c)return!1;for(;c--;)if(p=l[c],!(w.has(t,p)&&R(e[p],t[p],n,i)))return!1}return n.pop(),i.pop(),!0};w.isEqual=function(e,t){return R(e,t)},w.isEmpty=function(e){return!(null!=e)||(D(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e))?0===e.length:0===w.keys(e).length)},w.isElement=function(e){return!!(e&&1===e.nodeType)},w.isArray=f||function(e){return"[object Array]"===g.call(e)},w.isObject=function(e){var t=typeof e;return"function"==t||"object"===t&&!!e},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return g.call(t)==="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return w.has(e,"callee")}),"function"!=typeof /./&&"object"!=typeof Int8Array&&(w.isFunction=function(e){return"function"==typeof e||!1}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!==+e},w.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===g.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return null!=e&&h.call(e,t)},w.noConflict=function(){return d._=r,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.noop=function(){},w.property=L,w.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},w.matcher=w.matches=function(e){return e=w.extendOwn({},e),function(t){return w.isMatch(t,e)}},w.times=function(e,t,n){var s=Array(a(0,e));t=k(t,n,1);for(var o=0;o<e;o++)s[o]=t(o);return s},w.random=function(t,a){return null==a&&(a=t,t=0),t+e(Math.random()*(a-t+1))},w.now=Date.now||function(){return new Date().getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=w.invert(H),B=function(e){var t=function(t){return e[t]},a="(?:"+w.keys(e).join("|")+")",n=RegExp(a),i=RegExp(a,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(i,t):e}};w.escape=B(H),w.unescape=B(P),w.result=function(e,t,a){var n=null==e?void 0:e[t];return void 0===n&&(n=a),w.isFunction(n)?n.call(e):n};var F=0;w.uniqueId=function(e){var t=++F+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=function(e){return"\\"+U[e]};w.template=function(e,t,a){!t&&a&&(t=a),t=w.defaults({},t,w.templateSettings);var n=RegExp([(t.escape||V).source,(t.interpolate||V).source,(t.evaluate||V).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(n,function(t,a,n,o,d){return s+=e.slice(i,d).replace(/\\|'|\r|\n|\u2028|\u2029/g,q),i=d+t.length,a?s+="'+\n((__t=("+a+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(t.variable||"obj","_",s)}catch(t){throw t.source=s,t}var d=function(e){return o.call(this,e,w)},r=t.variable||"obj";return d.source="function("+r+"){\n"+s+"}",d},w.chain=function(e){var t=w(e);return t._chain=!0,t};var W=function(e,t){return e._chain?w(t).chain():t};w.mixin=function(e){w.each(w.functions(e),function(t){var a=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),W(this,a.apply(w,e))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=c[e];w.prototype[e]=function(){var a=this._wrapped;return t.apply(a,arguments),("shift"===e||"splice"===e)&&0===a.length&&delete a[0],W(this,a)}}),w.each(["concat","join","slice"],function(e){var t=c[e];w.prototype[e]=function(){return W(this,t.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return w})}.call(this),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"==typeof window?this:window,function(e,t){var a=Math.cos,n=Math.PI,i=String.fromCharCode,s=Math.max;function o(e,t){t=t||oe;var a=t.createElement("script");a.text=e,t.head.appendChild(a).parentNode.removeChild(a)}function d(e){var t=!!e&&"length"in e&&e.length,a=ye.type(e);return!("function"===a||ye.isWindow(e))&&("array"===a||0===t||"number"==typeof t&&0<t&&t-1 in e)}function r(e,t,a){if(ye.isFunction(t))return ye.grep(e,function(e,n){return!!t.call(e,n,e)!==a});if(t.nodeType)return ye.grep(e,function(e){return e===t!==a});if("string"==typeof t){if(Me.test(t))return ye.filter(t,e,a);t=ye.filter(t,e)}return ye.grep(e,function(e){return-1<pe.call(t,e)!==a&&1===e.nodeType})}function c(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var t={};return ye.each(e.match(Ee)||[],function(e,a){t[a]=!0}),t}function p(e){return e}function u(e){throw e}function m(e,t,a){var n;try{e&&ye.isFunction(n=e.promise)?n.call(e).done(t).fail(a):e&&ye.isFunction(n=e.then)?n.call(e,t,a):t.call(void 0,e)}catch(e){a.call(void 0,e)}}function g(){oe.removeEventListener("DOMContentLoaded",g),e.removeEventListener("load",g),ye.ready()}function h(){this.expando=ye.expando+h.uid++}function f(e,t,a){var n;if(void 0===a&&1===e.nodeType)if(n="data-"+t.replace(Re,"-$&").toLowerCase(),a=e.getAttribute(n),"string"==typeof a){try{a="true"===a||"false"!==a&&("null"===a?null:+a+""===a?+a:Oe.test(a)?JSON.parse(a):a)}catch(t){}Ne.set(e,t,a)}else a=void 0;return a}function v(e,t,a,n){var i=1,s=20,o=n?function(){return n.cur()}:function(){return ye.css(e,t,"")},d=o(),r=a&&a[3]||(ye.cssNumber[t]?"":"px"),c=(ye.cssNumber[t]||"px"!==r&&+d)&&Pe.exec(ye.css(e,t)),l;if(c&&c[3]!==r){r=r||c[3],a=a||[],c=+d||1;do i=i||".5",c/=i,ye.style(e,t,c+r);while(i!==(i=o()/d)&&1!==i&&--s)}return a&&(c=+c||+d||0,l=a[1]?c+(a[1]+1)*a[2]:+a[2],n&&(n.unit=r,n.start=c,n.end=l)),l}function b(e){var t=e.ownerDocument,a=e.nodeName,n=Ve[a],i;return n?n:(i=t.body.appendChild(t.createElement(a)),n=ye.css(i,"display"),i.parentNode.removeChild(i),"none"===n&&(n="block"),Ve[a]=n,n)}function A(e,t){for(var a=[],n=0,i=e.length,s,o;n<i;n++)(o=e[n],!!o.style)&&(s=o.style.display,t?("none"===s&&(a[n]=je.get(o,"display")||null,!a[n]&&(o.style.display="")),""===o.style.display&&$e(o)&&(a[n]=b(o))):"none"!==s&&(a[n]="none",je.set(o,"display",s)));for(n=0;n<i;n++)null!=a[n]&&(e[n].style.display=a[n]);return e}function x(e,t){var a="undefined"==typeof e.getElementsByTagName?"undefined"==typeof e.querySelectorAll?[]:e.querySelectorAll(t||"*"):e.getElementsByTagName(t||"*");return void 0===t||t&&ye.nodeName(e,t)?ye.merge([e],a):a}function w(e,t){for(var a=0,n=e.length;a<n;a++)je.set(e[a],"globalEval",!t||je.get(t[a],"globalEval"))}function k(e,t,a,n,s){for(var o=t.createDocumentFragment(),d=[],r=0,c=e.length,l,p,u,m,g,h;r<c;r++)if(l=e[r],l||0===l)if("object"===ye.type(l))ye.merge(d,l.nodeType?[l]:l);else if(!Ge.test(l))d.push(t.createTextNode(l));else{for(p=p||o.appendChild(t.createElement("div")),u=(qe.exec(l)||["",""])[1].toLowerCase(),m=ze[u]||ze._default,p.innerHTML=m[1]+ye.htmlPrefilter(l)+m[2],h=m[0];h--;)p=p.lastChild;ye.merge(d,p.childNodes),p=o.firstChild,p.textContent=""}for(o.textContent="",r=0;l=d[r++];){if(n&&-1<ye.inArray(l,n)){s&&s.push(l);continue}if(g=ye.contains(l.ownerDocument,l),p=x(o.appendChild(l),"script"),g&&w(p),a)for(h=0;l=p[h++];)We.test(l.type||"")&&a.push(l)}return o}function S(){return!0}function M(){return!1}function C(){try{return oe.activeElement}catch(e){}}function L(e,t,a,n,i,s){var o,d;if("object"==typeof t){for(d in"string"!=typeof a&&(n=n||a,a=void 0),t)L(e,d,a,n,t[d],s);return e}if(null==n&&null==i?(i=a,n=a=void 0):null==i&&("string"==typeof a?(i=n,n=void 0):(i=n,n=a,a=void 0)),!1===i)i=M;else if(!i)return e;return 1===s&&(o=i,i=function(e){return ye().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=ye.guid++)),e.each(function(){ye.event.add(this,t,i,n,a)})}function T(e,t){return ye.nodeName(e,"table")&&ye.nodeName(11===t.nodeType?t.firstChild:t,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function E(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function D(e){var t=Xe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Y(e,t){var a,n,s,o,d,r,c,p;if(1===t.nodeType){if(je.hasData(e)&&(o=je.access(e),d=je.set(t,o),p=o.events,p))for(s in delete d.handle,d.events={},p)for(a=0,n=p[s].length;a<n;a++)ye.event.add(t,s,p[s][a]);Ne.hasData(e)&&(r=Ne.access(e),c=ye.extend({},r),Ne.set(t,c))}}function I(e,t){var a=t.nodeName.toLowerCase();"input"===a&&Ue.test(e.type)?t.checked=e.checked:("input"===a||"textarea"===a)&&(t.defaultValue=e.defaultValue)}function j(e,t,a,n){t=ce.apply([],t);var s=0,d=e.length,r=t[0],c=ye.isFunction(r),l,p,u,m,g,h;if(c||1<d&&"string"==typeof r&&!fe.checkClone&&Ke.test(r))return e.each(function(i){var s=e.eq(i);c&&(t[0]=r.call(this,i,s.html())),j(s,t,a,n)});if(d&&(l=k(t,e[0].ownerDocument,!1,e,n),p=l.firstChild,1===l.childNodes.length&&(l=p),p||n)){for(u=ye.map(x(l,"script"),E),m=u.length;s<d;s++)g=l,s!==d-1&&(g=ye.clone(g,!0,!0),m&&ye.merge(u,x(g,"script"))),a.call(e[s],g,s);if(m)for(h=u[u.length-1].ownerDocument,ye.map(u,D),s=0;s<m;s++)g=u[s],We.test(g.type||"")&&!je.access(g,"globalEval")&&ye.contains(h,g)&&(g.src?ye._evalUrl&&ye._evalUrl(g.src):o(g.textContent.replace(Ze,""),h))}return e}function N(e,t,a){for(var n=t?ye.filter(t,e):e,s=0,o;null!=(o=n[s]);s++)a||1!==o.nodeType||ye.cleanData(x(o)),o.parentNode&&(a&&ye.contains(o.ownerDocument,o)&&w(x(o,"script")),o.parentNode.removeChild(o));return e}function O(e,t,a){var n=e.style,i,s,o,d;return a=a||at(e),a&&(d=a.getPropertyValue(t)||a[t],""===d&&!ye.contains(e.ownerDocument,e)&&(d=ye.style(e,t)),!fe.pixelMarginRight()&&tt.test(d)&&et.test(t)&&(i=n.width,s=n.minWidth,o=n.maxWidth,n.minWidth=n.maxWidth=n.width=d,d=a.width,n.width=i,n.minWidth=s,n.maxWidth=o)),void 0===d?d:d+""}function R(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function H(e){if(e in ot)return e;for(var t=e[0].toUpperCase()+e.slice(1),a=st.length;a--;)if(e=st[a]+t,e in ot)return e}function P(e,t,a){var n=Pe.exec(t);return n?s(0,n[2]-(a||0))+(n[3]||"px"):t}function B(e,t,a,n,s){for(var o=a===(n?"border":"content")?4:"width"===t?1:0,d=0;4>o;o+=2)"margin"===a&&(d+=ye.css(e,a+Be[o],!0,s)),n?("content"===a&&(d-=ye.css(e,"padding"+Be[o],!0,s)),"margin"!==a&&(d-=ye.css(e,"border"+Be[o]+"Width",!0,s))):(d+=ye.css(e,"padding"+Be[o],!0,s),"padding"!==a&&(d+=ye.css(e,"border"+Be[o]+"Width",!0,s)));return d}function F(e,t,a){var n=!0,i=at(e),s="border-box"===ye.css(e,"boxSizing",!1,i),o;if(e.getClientRects().length&&(o=e.getBoundingClientRect()[t]),0>=o||null==o){if(o=O(e,t,i),(0>o||null==o)&&(o=e.style[t]),tt.test(o))return o;n=s&&(fe.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+B(e,t,a||(s?"border":"content"),n,i)+"px"}function V(e,t,a,n,i){return new V.prototype.init(e,t,a,n,i)}function U(){ct&&(e.requestAnimationFrame(U),ye.fx.tick())}function q(){return e.setTimeout(function(){rt=void 0}),rt=ye.now()}function W(e,t){var a=0,n={height:e},s;for(t=t?1:0;4>a;a+=2-t)s=Be[a],n["margin"+s]=n["padding"+s]=e;return t&&(n.opacity=n.width=e),n}function z(e,t,a){for(var n=(J.tweeners[t]||[]).concat(J.tweeners["*"]),i=0,s=n.length,o;i<s;i++)if(o=n[i].call(a,t,e))return o}function G(e,t,a){var n="width"in t||"height"in t,i=this,s={},o=e.style,d=e.nodeType&&$e(e),r=je.get(e,"fxshow"),c,l,p,u,m,g,h,f;for(c in a.queue||(u=ye._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,m=u.empty.fire,u.empty.fire=function(){u.unqueued||m()}),u.unqueued++,i.always(function(){i.always(function(){u.unqueued--,ye.queue(e,"fx").length||u.empty.fire()})})),t)if(l=t[c],dt.test(l)){if(delete t[c],p=p||"toggle"===l,l===(d?"hide":"show"))if("show"===l&&r&&void 0!==r[c])d=!0;else continue;s[c]=r&&r[c]||ye.style(e,c)}if(g=!ye.isEmptyObject(t),g||!ye.isEmptyObject(s))for(c in n&&1===e.nodeType&&(a.overflow=[o.overflow,o.overflowX,o.overflowY],h=r&&r.display,null==h&&(h=je.get(e,"display")),f=ye.css(e,"display"),"none"===f&&(h?f=h:(A([e],!0),h=e.style.display||h,f=ye.css(e,"display"),A([e]))),("inline"===f||"inline-block"===f&&null!=h)&&"none"===ye.css(e,"float")&&(!g&&(i.done(function(){o.display=h}),null==h&&(f=o.display,h="none"===f?"":f)),o.display="inline-block")),a.overflow&&(o.overflow="hidden",i.always(function(){o.overflow=a.overflow[0],o.overflowX=a.overflow[1],o.overflowY=a.overflow[2]})),g=!1,s)g||(r?"hidden"in r&&(d=r.hidden):r=je.access(e,"fxshow",{display:h}),p&&(r.hidden=!d),d&&A([e],!0),i.done(function(){for(c in d||A([e]),je.remove(e,"fxshow"),s)ye.style(e,c,s[c])})),g=z(d?r[c]:0,c,i),c in r||(r[c]=g.start,d&&(g.end=g.start,g.start=0))}function Q(e,t){var a,n,i,s,o;for(a in e)if(n=ye.camelCase(a),i=t[n],s=e[a],ye.isArray(s)&&(i=s[1],s=e[a]=s[0]),a!==n&&(e[n]=s,delete e[a]),o=ye.cssHooks[n],o&&"expand"in o)for(a in s=o.expand(s),delete e[n],s)a in e||(e[a]=s[a],t[a]=i);else t[n]=i}function J(e,t,a){var n=0,i=J.prefilters.length,o=ye.Deferred().always(function(){delete d.elem}),d=function(){if(p)return!1;for(var t=rt||q(),a=s(0,r.startTime+r.duration-t),n=a/r.duration||0,i=1-n,d=0,c=r.tweens.length;d<c;d++)r.tweens[d].run(i);return o.notifyWith(e,[r,i,a]),1>i&&c?a:(o.resolveWith(e,[r]),!1)},r=o.promise({elem:e,props:ye.extend({},t),opts:ye.extend(!0,{specialEasing:{},easing:ye.easing._default},a),originalProperties:t,originalOptions:a,startTime:rt||q(),duration:a.duration,tweens:[],createTween:function(t,a){var n=ye.Tween(e,r.opts,t,a,r.opts.specialEasing[t]||r.opts.easing);return r.tweens.push(n),n},stop:function(t){var a=0,n=t?r.tweens.length:0;if(p)return this;for(p=!0;a<n;a++)r.tweens[a].run(1);return t?(o.notifyWith(e,[r,1,0]),o.resolveWith(e,[r,t])):o.rejectWith(e,[r,t]),this}}),c=r.props,l,p;for(Q(c,r.opts.specialEasing);n<i;n++)if(l=J.prefilters[n].call(r,e,c,r.opts),l)return ye.isFunction(l.stop)&&(ye._queueHooks(r.elem,r.opts.queue).stop=ye.proxy(l.stop,l)),l;return ye.map(c,z,r),ye.isFunction(r.opts.start)&&r.opts.start.call(e,r),ye.fx.timer(ye.extend(d,{elem:e,anim:r,queue:r.opts.queue})),r.progress(r.opts.progress).done(r.opts.done,r.opts.complete).fail(r.opts.fail).always(r.opts.always)}function K(e){return e.getAttribute&&e.getAttribute("class")||""}function X(e,t,a,n){if(ye.isArray(t))ye.each(t,function(t,i){a||ft.test(e)?n(e,i):X(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,a,n)});else if(!a&&"object"===ye.type(t))for(var i in t)X(e+"["+i+"]",t[i],a,n);else n(e,t)}function Z(e){return function(t,a){"string"!=typeof t&&(a=t,t="*");var n=0,s=t.toLowerCase().match(Ee)||[],o;if(ye.isFunction(a))for(;o=s[n++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(a)):(e[o]=e[o]||[]).push(a)}}function ee(e,t,a,n){function i(d){var r;return s[d]=!0,ye.each(e[d]||[],function(e,d){var c=d(t,a,n);return"string"!=typeof c||o||s[c]?o?!(r=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),r}var s={},o=e===bt;return i(t.dataTypes[0])||!s["*"]&&i("*")}function te(e,t){var a=ye.ajaxSettings.flatOptions||{},n,i;for(n in t)void 0!==t[n]&&((a[n]?e:i||(i={}))[n]=t[n]);return i&&ye.extend(!0,e,i),e}function ae(e,t,a){for(var n=e.contents,i=e.dataTypes,s,o,d,r;"*"===i[0];)i.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("Content-Type"));if(s)for(o in n)if(n[o]&&n[o].test(s)){i.unshift(o);break}if(i[0]in a)d=i[0];else{for(o in a){if(!i[0]||e.converters[o+" "+i[0]]){d=o;break}r||(r=o)}d=d||r}return d?(d!==i[0]&&i.unshift(d),a[d]):void 0}function ne(e,t,a,n){var i={},s=e.dataTypes.slice(),o,d,r,c,l;if(s[1])for(r in e.converters)i[r.toLowerCase()]=e.converters[r];for(d=s.shift();d;)if(e.responseFields[d]&&(a[e.responseFields[d]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=d,d=s.shift(),d)if("*"===d)d=l;else if("*"!==l&&l!==d){if(r=i[l+" "+d]||i["* "+d],!r)for(o in i)if(c=o.split(" "),c[1]===d&&(r=i[l+" "+c[0]]||i["* "+c[0]],r)){!0===r?r=i[o]:!0!==i[o]&&(d=c[0],s.unshift(c[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(t){return{state:"parsererror",error:r?t:"No conversion from "+l+" to "+d}}}return{state:"success",data:t}}function ie(e){return ye.isWindow(e)?e:9===e.nodeType&&e.defaultView}var se=[],oe=e.document,de=Object.getPrototypeOf,re=se.slice,ce=se.concat,le=se.push,pe=se.indexOf,ue={},me=ue.toString,ge=ue.hasOwnProperty,he=ge.toString,_e=he.call(Object),fe={},ve="3.0.0",ye=function(e,t){return new ye.fn.init(e,t)},be=function(e,t){return t.toUpperCase()};ye.fn=ye.prototype={jquery:ve,constructor:ye,length:0,toArray:function(){return re.call(this)},get:function(e){return null==e?re.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){var t=ye.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ye.each(this,e)},map:function(e){return this.pushStack(ye.map(this,function(t,a){return e.call(t,a,t)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,a=+e+(0>e?t:0);return this.pushStack(0<=a&&a<t?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:le,sort:se.sort,splice:se.splice},ye.extend=ye.fn.extend=function(){var e=arguments[0]||{},t=1,a=arguments.length,n=!1,s,o,d,r,c,l;for("boolean"==typeof e&&(n=e,e=arguments[t]||{},t++),"object"==typeof e||ye.isFunction(e)||(e={}),t===a&&(e=this,t--);t<a;t++)if(null!=(s=arguments[t]))for(o in s)(d=e[o],r=s[o],e!==r)&&(n&&r&&(ye.isPlainObject(r)||(c=ye.isArray(r)))?(c?(c=!1,l=d&&ye.isArray(d)?d:[]):l=d&&ye.isPlainObject(d)?d:{},e[o]=ye.extend(n,l,r)):void 0!==r&&(e[o]=r));return e},ye.extend({expando:"jQuery"+(ve+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ye.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=ye.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,a;return!!(e&&"[object Object]"===me.call(e))&&((t=de(e),!!!t)||(a=ge.call(t,"constructor")&&t.constructor,"function"==typeof a&&he.call(a)===_e))},isEmptyObject:function(e){for(var t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ue[me.call(e)]||"object":typeof e},globalEval:function(e){o(e)},camelCase:function(e){return e.replace(/^-ms-/,"ms-").replace(/-([a-z])/g,be)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var a=0,n;if(d(e))for(n=e.length;a<n&&!1!==t.call(e[a],a,e[a]);a++);else for(a in e)if(!1===t.call(e[a],a,e[a]))break;return e},trim:function(e){return null==e?"":(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(e,t){var a=t||[];return null!=e&&(d(Object(e))?ye.merge(a,"string"==typeof e?[e]:e):le.call(a,e)),a},inArray:function(e,t,a){return null==t?-1:pe.call(t,e,a)},merge:function(e,t){for(var a=+t.length,n=0,s=e.length;n<a;n++)e[s++]=t[n];return e.length=s,e},grep:function(e,t,a){for(var n=[],s=0,o=e.length,d;s<o;s++)d=!t(e[s],s),d!==!a&&n.push(e[s]);return n},map:function(e,t,a){var n=0,s=[],o,r;if(d(e))for(o=e.length;n<o;n++)r=t(e[n],n,a),null!=r&&s.push(r);else for(n in e)r=t(e[n],n,a),null!=r&&s.push(r);return ce.apply([],s)},guid:1,proxy:function(e,t){var a,n,i;if("string"==typeof t&&(a=e[t],t=e,e=a),!!ye.isFunction(e))return n=re.call(arguments,2),i=function(){return e.apply(t||this,n.concat(re.call(arguments)))},i.guid=e.guid=e.guid||ye.guid++,i},now:Date.now,support:fe}),"function"==typeof Symbol&&(ye.fn[Symbol.iterator]=se[Symbol.iterator]),ye.each(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error","Symbol"],function(e,t){ue["[object "+t+"]"]=t.toLowerCase()});var Ae=/*!
 * Sizzle CSS Selector Engine v2.3.0
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-01-04
 */function(e){function t(e,t,a,n){var s=t&&t.ownerDocument,o=t?t.nodeType:9,d,r,c,l,p,h,f;if(a=a||[],"string"!=typeof e||!e||1!==o&&9!==o&&11!==o)return a;if(!n&&((t?t.ownerDocument||t:S)!==ce&&re(t),t=t||ce,pe)){if(11!==o&&(p=V.exec(e)))if(!(d=p[1])){if(p[2])return O.apply(a,t.getElementsByTagName(e)),a;if((d=p[3])&&X.getElementsByClassName&&t.getElementsByClassName)return O.apply(a,t.getElementsByClassName(d)),a}else if(9===o){if(!(c=t.getElementById(d)))return a;if(c.id===d)return a.push(c),a}else if(s&&(c=s.getElementById(d))&&he(t,c)&&c.id===d)return a.push(c),a;if(X.qsa&&!E[e+" "]&&(!ue||!ue.test(e))){if(1!==o)s=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((l=t.getAttribute("id"))?l=l.replace(z,G):t.setAttribute("id",l=k),h=ae(e),r=h.length;r--;)h[r]="#"+l+" "+g(h[r]);f=h.join(","),s=U.test(e)&&u(t.parentNode)||t}if(f)try{return O.apply(a,s.querySelectorAll(f)),a}catch(e){}finally{l===k&&t.removeAttribute("id")}}}return ie(e.replace(P,"$1"),t,a,n)}function a(){function e(a,n){return t.push(a+" ")>Z.cacheLength&&delete e[t.shift()],e[a+" "]=n}var t=[];return e}function n(e){return e[k]=!0,e}function s(e){var t=ce.createElement("fieldset");try{return!!e(t)}catch(t){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var a=e.split("|"),n=a.length;n--;)Z.attrHandle[a[n]]=t}function d(e,t){var a=t&&e,n=a&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(a)for(;a=a.nextSibling;)if(a===t)return-1;return e?1:-1}function r(e){return function(t){var a=t.nodeName.toLowerCase();return"input"===a&&t.type===e}}function c(e){return function(t){var a=t.nodeName.toLowerCase();return("input"===a||"button"===a)&&t.type===e}}function l(e){return function(t){return"label"in t&&t.disabled===e||"form"in t&&t.disabled===e||"form"in t&&!1===t.disabled&&(t.isDisabled===e||t.isDisabled!==!e&&("label"in t||!J(t))!==e)}}function p(e){return n(function(t){return t=+t,n(function(a,n){for(var s=e([],a.length,t),o=s.length,d;o--;)a[d=s[o]]&&(a[d]=!(n[d]=a[d]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function m(){}function g(e){for(var t=0,a=e.length,n="";t<a;t++)n+=e[t].value;return n}function h(e,t,a){var n=t.dir,i=t.next,s=i||n,o=a&&"parentNode"===s,d=C++;return t.first?function(t,a,i){for(;t=t[n];)if(1===t.nodeType||o)return e(t,a,i)}:function(t,a,r){var c=[M,d],l,p,u;if(r){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,a,r))return!0;}else for(;t=t[n];)if(1===t.nodeType||o)if(u=t[k]||(t[k]={}),p=u[t.uniqueID]||(u[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[n]||t;else{if((l=p[s])&&l[0]===M&&l[1]===d)return c[2]=l[2];if(p[s]=c,c[2]=e(t,a,r))return!0}}}function f(e){return 1<e.length?function(t,a,n){for(var s=e.length;s--;)if(!e[s](t,a,n))return!1;return!0}:e[0]}function v(e,a,n){for(var s=0,o=a.length;s<o;s++)t(e,a[s],n);return n}function b(e,t,a,n,s){for(var o=[],d=0,r=e.length,c;d<r;d++)(c=e[d])&&(!a||a(c,n,s))&&(o.push(c),null!=t&&t.push(d));return o}function A(e,t,a,s,o,d){return s&&!s[k]&&(s=A(s)),o&&!o[k]&&(o=A(o,d)),n(function(n,d,r,c){var l=[],p=[],u=d.length,m=n||v(t||"*",r.nodeType?[r]:r,[]),g=e&&(n||!t)?b(m,l,e,r,c):m,h=a?o||(n?e:u||s)?[]:d:g,f,A,x;if(a&&a(g,h,r,c),s)for(f=b(h,p),s(f,[],r,c),A=f.length;A--;)(x=f[A])&&(h[p[A]]=!(g[p[A]]=x));if(!n)h=b(h===d?h.splice(u,h.length):h),o?o(null,d,h,c):O.apply(d,h);else if(o||e){if(o){for(f=[],A=h.length;A--;)(x=h[A])&&f.push(g[A]=x);o(null,h=[],f,c)}for(A=h.length;A--;)(x=h[A])&&-1<(f=o?H(n,x):l[A])&&(n[f]=!(d[f]=x))}})}function x(e){for(var t=e.length,a=Z.relative[e[0].type],n=a||Z.relative[" "],s=a?1:0,o=h(function(e){return e===c},n,!0),d=h(function(e){return-1<H(c,e)},n,!0),r=[function(e,t,n){var i=!a&&(n||t!==se)||((c=t).nodeType?o(e,t,n):d(e,t,n));return c=null,i}],c,l,p;s<t;s++)if(l=Z.relative[e[s].type])r=[h(f(r),l)];else{if(l=Z.filter[e[s].type].apply(null,e[s].matches),l[k]){for(p=++s;p<t&&!Z.relative[e[p].type];p++);return A(1<s&&f(r),1<s&&g(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(P,"$1"),l,s<p&&x(e.slice(s,p)),p<t&&x(e=e.slice(p)),p<t&&g(e))}r.push(l)}return f(r)}function w(e,a){var s=0<a.length,o=0<e.length,d=function(n,d,r,c,l){var p=0,u="0",m=n&&[],g=[],h=se,f=n||o&&Z.find.TAG("*",l),v=M+=null==h?1:Math.random()||.1,A=f.length,x,w,k;for(l&&(se=d===ce||d||l);u!==A&&null!=(x=f[u]);u++){if(o&&x){for(w=0,d||x.ownerDocument===ce||(re(x),r=!pe);k=e[w++];)if(k(x,d||ce,r)){c.push(x);break}l&&(M=v)}s&&((x=!k&&x)&&p--,n&&m.push(x))}if(p+=u,s&&u!==p){for(w=0;k=a[w++];)k(m,g,d,r);if(n){if(0<p)for(;u--;)m[u]||g[u]||(g[u]=j.call(c));g=b(g)}O.apply(c,g),l&&!n&&0<g.length&&1<p+a.length&&t.uniqueSort(c)}return l&&(M=v,se=h),m};return s?n(d):d}var k="sizzle"+1*new Date,S=e.document,M=0,C=0,L=a(),T=a(),E=a(),D=function(e,t){return e===t&&(de=!0),0},Y={}.hasOwnProperty,I=[],j=I.pop,N=I.push,O=I.push,R=I.slice,H=function(e,t){for(var a=0,n=e.length;a<n;a++)if(e[a]===t)return a;return-1},P=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,B={ID:/^#((?:\\.|[\w-]|[^\0-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\0-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\0-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\0-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\0-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\0-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\0-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\0-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},F=/^[^{]+\{\s*\[native \w/,V=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,U=/[+~]/,q=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,W=function(e,t,a){var n="0x"+t-65536;return n!=n||a?t:0>n?i(n+65536):i(55296|n>>10,56320|1023&n)},z=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,G=function(e,t){return t?"\0"===e?"\uFFFD":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Q=function(){re()},J=h(function(e){return!0===e.disabled},{dir:"parentNode",next:"legend"}),K,X,Z,ee,te,ae,ne,ie,se,oe,de,re,ce,le,pe,ue,me,ge,he;try{O.apply(I=R.call(S.childNodes),S.childNodes),I[S.childNodes.length].nodeType}catch(t){O={apply:I.length?function(e,t){N.apply(e,R.call(t))}:function(e,t){for(var a=e.length,n=0;e[a++]=t[n++];);e.length=a-1}}}for(K in X=t.support={},te=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},re=t.setDocument=function(e){var t=e?e.ownerDocument||e:S,a,n;return t!==ce&&9===t.nodeType&&t.documentElement?(ce=t,le=ce.documentElement,pe=!te(ce),S!==ce&&(n=ce.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Q,!1):n.attachEvent&&n.attachEvent("onunload",Q)),X.attributes=s(function(e){return e.className="i",!e.getAttribute("className")}),X.getElementsByTagName=s(function(e){return e.appendChild(ce.createComment("")),!e.getElementsByTagName("*").length}),X.getElementsByClassName=F.test(ce.getElementsByClassName),X.getById=s(function(e){return le.appendChild(e).id=k,!ce.getElementsByName||!ce.getElementsByName(k).length}),X.getById?(Z.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&pe){var a=t.getElementById(e);return a?[a]:[]}},Z.filter.ID=function(e){var t=e.replace(q,W);return function(e){return e.getAttribute("id")===t}}):(delete Z.find.ID,Z.filter.ID=function(e){var t=e.replace(q,W);return function(e){var a="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return a&&a.value===t}}),Z.find.TAG=X.getElementsByTagName?function(e,t){return"undefined"==typeof t.getElementsByTagName?X.qsa?t.querySelectorAll(e):void 0:t.getElementsByTagName(e)}:function(e,t){var a=[],n=0,s=t.getElementsByTagName(e),o;if("*"===e){for(;o=s[n++];)1===o.nodeType&&a.push(o);return a}return s},Z.find.CLASS=X.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&pe)return t.getElementsByClassName(e)},me=[],ue=[],(X.qsa=F.test(ce.querySelectorAll))&&(s(function(e){le.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&ue.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||ue.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)"),e.querySelectorAll("[id~="+k+"-]").length||ue.push("~="),e.querySelectorAll(":checked").length||ue.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||ue.push(".#.+[+~]")}),s(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=ce.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&ue.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&ue.push(":enabled",":disabled"),le.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&ue.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),ue.push(",.*:")})),(X.matchesSelector=F.test(ge=le.matches||le.webkitMatchesSelector||le.mozMatchesSelector||le.oMatchesSelector||le.msMatchesSelector))&&s(function(e){X.disconnectedMatch=ge.call(e,"*"),ge.call(e,"[s!='']:x"),me.push("!=",":((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\0-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),ue=ue.length&&new RegExp(ue.join("|")),me=me.length&&new RegExp(me.join("|")),a=F.test(le.compareDocumentPosition),he=a||F.test(le.contains)?function(e,t){var a=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!!(n&&1===n.nodeType&&(a.contains?a.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},D=a?function(e,t){if(e===t)return de=!0,0;var a=!e.compareDocumentPosition-!t.compareDocumentPosition;return a?a:(a=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&a||!X.sortDetached&&t.compareDocumentPosition(e)===a?e===ce||e.ownerDocument===S&&he(S,e)?-1:t===ce||t.ownerDocument===S&&he(S,t)?1:oe?H(oe,e)-H(oe,t):0:4&a?-1:1)}:function(e,t){if(e===t)return de=!0,0;var a=0,n=e.parentNode,s=t.parentNode,o=[e],r=[t],c;if(!n||!s)return e===ce?-1:t===ce?1:n?-1:s?1:oe?H(oe,e)-H(oe,t):0;if(n===s)return d(e,t);for(c=e;c=c.parentNode;)o.unshift(c);for(c=t;c=c.parentNode;)r.unshift(c);for(;o[a]===r[a];)a++;return a?d(o[a],r[a]):o[a]===S?-1:r[a]===S?1:0},ce):ce},t.matches=function(e,a){return t(e,null,null,a)},t.matchesSelector=function(e,a){if((e.ownerDocument||e)!==ce&&re(e),a=a.replace(/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,"='$1']"),X.matchesSelector&&pe&&!E[a+" "]&&(!me||!me.test(a))&&(!ue||!ue.test(a)))try{var n=ge.call(e,a);if(n||X.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(t){}return 0<t(a,ce,null,[e]).length},t.contains=function(e,t){return(e.ownerDocument||e)!==ce&&re(e),he(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==ce&&re(e);var a=Z.attrHandle[t.toLowerCase()],n=a&&Y.call(Z.attrHandle,t.toLowerCase())?a(e,t,!pe):void 0;return void 0===n?X.attributes||!pe?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null:n},t.escape=function(e){return(e+"").replace(z,G)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t=[],a=0,n=0,s;if(de=!X.detectDuplicates,oe=!X.sortStable&&e.slice(0),e.sort(D),de){for(;s=e[n++];)s===e[n]&&(a=t.push(n));for(;a--;)e.splice(t[a],1)}return oe=null,e},ee=t.getText=function(e){var t="",a=0,n=e.nodeType,s;if(!n)for(;s=e[a++];)t+=ee(s);else if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)t+=ee(e)}else if(3===n||4===n)return e.nodeValue;return t},Z=t.selectors={cacheLength:50,createPseudo:n,match:B,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(q,W),e[3]=(e[3]||e[4]||e[5]||"").replace(q,W),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(!e[3]&&t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t=!e[6]&&e[2],a;return B.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":t&&/:((?:\\.|[\w-]|[^\0-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\0-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\0-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/.test(t)&&(a=ae(t,!0))&&(a=t.indexOf(")",t.length-a)-t.length)&&(e[0]=e[0].slice(0,a),e[2]=t.slice(0,a)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(q,W).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=L[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"([\\x20\\t\\r\\n\\f]|$)"))&&L(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,a,n){return function(i){var s=t.attr(i,e);return null==s?"!="===a:!a||(s+="","="===a?s===n:"!="===a?s!==n:"^="===a?n&&0===s.indexOf(n):"*="===a?n&&-1<s.indexOf(n):"$="===a?n&&s.slice(-n.length)===n:"~="===a?-1<(" "+s.replace(/[\x20\t\r\n\f]+/g," ")+" ").indexOf(n):"|="==a&&(s===n||s.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,a,n,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),d="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,a,r){var c=s===o?"previousSibling":"nextSibling",l=t.parentNode,p=d&&t.nodeName.toLowerCase(),u=!r&&!d,m=!1,g,h,f,v,b,A;if(l){if(s){for(;c;){for(v=t;v=v[c];)if(d?v.nodeName.toLowerCase()===p:1===v.nodeType)return!1;A=c="only"===e&&!A&&"nextSibling"}return!0}if(A=[o?l.firstChild:l.lastChild],o&&u){for(v=l,f=v[k]||(v[k]={}),h=f[v.uniqueID]||(f[v.uniqueID]={}),g=h[e]||[],b=g[0]===M&&g[1],m=b&&g[2],v=b&&l.childNodes[b];v=++b&&v&&v[c]||(m=b=0)||A.pop();)if(1===v.nodeType&&++m&&v===t){h[e]=[M,b,m];break}}else if(u&&(v=t,f=v[k]||(v[k]={}),h=f[v.uniqueID]||(f[v.uniqueID]={}),g=h[e]||[],b=g[0]===M&&g[1],m=b),!1===m)for(;(v=++b&&v&&v[c]||(m=b=0)||A.pop())&&!((d?v.nodeName.toLowerCase()===p:1===v.nodeType)&&++m&&(u&&(f=v[k]||(v[k]={}),h=f[v.uniqueID]||(f[v.uniqueID]={}),h[e]=[M,m]),v===t)););return m-=i,m===n||0==m%n&&0<=m/n}}},PSEUDO:function(e,a){var s=Z.pseudos[e]||Z.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e),i;return s[k]?s(a):1<s.length?(i=[e,e,"",a],Z.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n=s(e,a),o=n.length,d;o--;)d=H(e,n[o]),e[d]=!(t[d]=n[o])}):function(e){return s(e,0,i)}):s}},pseudos:{not:n(function(e){var t=[],a=[],s=ne(e.replace(P,"$1"));return s[k]?n(function(e,t,a,n){for(var o=s(e,null,n,[]),d=e.length,r;d--;)(r=o[d])&&(e[d]=!(t[d]=r))}):function(e,n,i){return t[0]=e,s(t,null,i,a),t[0]=null,!a.pop()}}),has:n(function(e){return function(a){return 0<t(e,a).length}}),contains:n(function(e){return e=e.replace(q,W),function(t){return-1<(t.textContent||t.innerText||ee(t)).indexOf(e)}}),lang:n(function(e){return /^(?:\\.|[\w-]|[^\0-\xa0])+$/.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(q,W).toLowerCase(),function(t){var a;do if(a=pe?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return a=a.toLowerCase(),a===e||0===a.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var a=e.location&&e.location.hash;return a&&a.slice(1)===t.id},root:function(e){return e===le},focus:function(e){return e===ce.activeElement&&(!ce.hasFocus||ce.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(6>e.nodeType)return!1;return!0},parent:function(e){return!Z.pseudos.empty(e)},header:function(e){return /^h\d$/i.test(e.nodeName)},input:function(e){return /^(?:input|select|textarea|button)$/i.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:p(function(){return[0]}),last:p(function(e,t){return[t-1]}),eq:p(function(e,t,a){return[0>a?a+t:a]}),even:p(function(e,t){for(var a=0;a<t;a+=2)e.push(a);return e}),odd:p(function(e,t){for(var a=1;a<t;a+=2)e.push(a);return e}),lt:p(function(e,t,a){for(var n=0>a?a+t:a;0<=--n;)e.push(n);return e}),gt:p(function(e,t,a){for(var n=0>a?a+t:a;++n<t;)e.push(n);return e})}},Z.pseudos.nth=Z.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Z.pseudos[K]=r(K);for(K in{submit:!0,reset:!0})Z.pseudos[K]=c(K);return m.prototype=Z.filters=Z.pseudos,Z.setFilters=new m,ae=t.tokenize=function(e,a){var n=T[e+" "],i,s,o,d,r,c,l;if(n)return a?0:n.slice(0);for(r=e,c=[],l=Z.preFilter;r;){for(d in(!i||(s=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/.exec(r)))&&(s&&(r=r.slice(s[0].length)||r),c.push(o=[])),i=!1,(s=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/.exec(r))&&(i=s.shift(),o.push({value:i,type:s[0].replace(P," ")}),r=r.slice(i.length)),Z.filter)(s=B[d].exec(r))&&(!l[d]||(s=l[d](s)))&&(i=s.shift(),o.push({value:i,type:d,matches:s}),r=r.slice(i.length));if(!i)break}return a?r.length:r?t.error(e):T(e,c).slice(0)},ne=t.compile=function(e,t){var a=[],n=[],s=E[e+" "],o;if(!s){for(t||(t=ae(e)),o=t.length;o--;)s=x(t[o]),s[k]?a.push(s):n.push(s);s=E(e,w(n,a)),s.selector=e}return s},ie=t.select=function(e,t,a,n){var s="function"==typeof e&&e,o=!n&&ae(e=s.selector||e),d,r,c,l,p;if(a=a||[],1===o.length){if(r=o[0]=o[0].slice(0),2<r.length&&"ID"===(c=r[0]).type&&X.getById&&9===t.nodeType&&pe&&Z.relative[r[1].type]){if(t=(Z.find.ID(c.matches[0].replace(q,W),t)||[])[0],!t)return a;s&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(d=B.needsContext.test(e)?0:r.length;d--&&(c=r[d],!Z.relative[l=c.type]);)if((p=Z.find[l])&&(n=p(c.matches[0].replace(q,W),U.test(r[0].type)&&u(t.parentNode)||t))){if(r.splice(d,1),e=n.length&&g(r),!e)return O.apply(a,n),a;break}}return(s||ne(e,o))(n,t,!pe,a,!t||U.test(e)&&u(t.parentNode)||t),a},X.sortStable=k.split("").sort(D).join("")===k,X.detectDuplicates=!!de,re(),X.sortDetached=s(function(e){return 1&e.compareDocumentPosition(ce.createElement("fieldset"))}),s(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,a){if(!a)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),X.attributes&&s(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,a){if(!a&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),s(function(e){return null==e.getAttribute("disabled")})||o("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(e,t,a){var n;if(!a)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);ye.find=Ae,ye.expr=Ae.selectors,ye.expr[":"]=ye.expr.pseudos,ye.uniqueSort=ye.unique=Ae.uniqueSort,ye.text=Ae.getText,ye.isXMLDoc=Ae.isXML,ye.contains=Ae.contains,ye.escapeSelector=Ae.escape;var xe=function(e,t,a){for(var n=[];(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(void 0!==a&&ye(e).is(a))break;n.push(e)}return n},we=function(e,t){for(var a=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&a.push(e);return a},ke=ye.expr.match.needsContext,Se=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Me=/^.[^:#\[\.,]*$/;ye.filter=function(e,t,a){var n=t[0];return a&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?ye.find.matchesSelector(n,e)?[n]:[]:ye.find.matches(e,ye.grep(t,function(e){return 1===e.nodeType}))},ye.fn.extend({find:function(e){var t=this.length,a=this,n,s;if("string"!=typeof e)return this.pushStack(ye(e).filter(function(){for(n=0;n<t;n++)if(ye.contains(a[n],this))return!0}));for(s=this.pushStack([]),n=0;n<t;n++)ye.find(e,a[n],s);return 1<t?ye.uniqueSort(s):s},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ke.test(e)?ye(e):e||[],!1).length}});var Ce=ye.fn.init=function(e,t,a){var n,i;if(!e)return this;if(a=a||Le,"string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/.exec(e),n&&(n[1]||!t)){if(n[1]){if(t=t instanceof ye?t[0]:t,ye.merge(this,ye.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:oe,!0)),Se.test(n[1])&&ye.isPlainObject(t))for(n in t)ye.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=oe.getElementById(n[2]),i&&(this[0]=i,this.length=1),this}return!t||t.jquery?(t||a).find(e):this.constructor(t).find(e)}return e.nodeType?(this[0]=e,this.length=1,this):ye.isFunction(e)?void 0===a.ready?e(ye):a.ready(e):ye.makeArray(e,this)},Le;Ce.prototype=ye.fn,Le=ye(oe);var Te={children:!0,contents:!0,next:!0,prev:!0};ye.fn.extend({has:function(e){var t=ye(e,this),a=t.length;return this.filter(function(){for(var e=0;e<a;e++)if(ye.contains(this,t[e]))return!0})},closest:function(e,t){var a=0,n=this.length,s=[],o="string"!=typeof e&&ye(e),d;if(!ke.test(e))for(;a<n;a++)for(d=this[a];d&&d!==t;d=d.parentNode)if(11>d.nodeType&&(o?-1<o.index(d):1===d.nodeType&&ye.find.matchesSelector(d,e))){s.push(d);break}return this.pushStack(1<s.length?ye.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?pe.call(ye(e),this[0]):pe.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ye.uniqueSort(ye.merge(this.get(),ye(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ye.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return xe(e,"parentNode")},parentsUntil:function(e,t,a){return xe(e,"parentNode",a)},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return xe(e,"nextSibling")},prevAll:function(e){return xe(e,"previousSibling")},nextUntil:function(e,t,a){return xe(e,"nextSibling",a)},prevUntil:function(e,t,a){return xe(e,"previousSibling",a)},siblings:function(e){return we((e.parentNode||{}).firstChild,e)},children:function(e){return we(e.firstChild)},contents:function(e){return e.contentDocument||ye.merge([],e.childNodes)}},function(e,t){ye.fn[e]=function(a,n){var i=ye.map(this,t,a);return"Until"!==e.slice(-5)&&(n=a),n&&"string"==typeof n&&(i=ye.filter(n,i)),1<this.length&&(!Te[e]&&ye.uniqueSort(i),/^(?:parents|prev(?:Until|All))/.test(e)&&i.reverse()),this.pushStack(i)}});var Ee=/\S+/g;ye.Callbacks=function(e){e="string"==typeof e?l(e):ye.extend({},e);var t=[],a=[],n=-1,i=function(){for(c=e.once,r=o=!0;a.length;n=-1)for(d=a.shift();++n<t.length;)!1===t[n].apply(d[0],d[1])&&e.stopOnFalse&&(n=t.length,d=!1);e.memory||(d=!1),o=!1,c&&(d?t=[]:t="")},s={add:function(){return t&&(d&&!o&&(n=t.length-1,a.push(d)),function a(n){ye.each(n,function(n,i){ye.isFunction(i)?(!e.unique||!s.has(i))&&t.push(i):i&&i.length&&"string"!==ye.type(i)&&a(i)})}(arguments),d&&!o&&i()),this},remove:function(){return ye.each(arguments,function(e,a){for(var i;-1<(i=ye.inArray(a,t,i));)t.splice(i,1),i<=n&&n--}),this},has:function(e){return e?-1<ye.inArray(e,t):0<t.length},empty:function(){return t&&(t=[]),this},disable:function(){return c=a=[],t=d="",this},disabled:function(){return!t},lock:function(){return c=a=[],d||o||(t=d=""),this},locked:function(){return!!c},fireWith:function(e,t){return c||(t=t||[],t=[e,t.slice?t.slice():t],a.push(t),!o&&i()),this},fire:function(){return s.fireWith(this,arguments),this},fired:function(){return!!r}},o,d,r,c;return s},ye.extend({Deferred:function(t){var a=[["notify","progress",ye.Callbacks("memory"),ye.Callbacks("memory"),2],["resolve","done",ye.Callbacks("once memory"),ye.Callbacks("once memory"),0,"resolved"],["reject","fail",ye.Callbacks("once memory"),ye.Callbacks("once memory"),1,"rejected"]],n="pending",s={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return s.then(null,e)},pipe:function(){var e=arguments;return ye.Deferred(function(t){ye.each(a,function(a,n){var i=ye.isFunction(e[n[4]])&&e[n[4]];o[n[1]](function(){var e=i&&i.apply(this,arguments);e&&ye.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,n,i){function s(t,a,n,i){return function(){var d=this,r=arguments,c=function(){var e,c;if(!(t<o)){if(e=n.apply(d,r),e===a.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,ye.isFunction(c)?i?c.call(e,s(o,a,p,i),s(o,a,u,i)):(o++,c.call(e,s(o,a,p,i),s(o,a,u,i),s(o,a,p,a.notifyWith))):(n!==p&&(d=void 0,r=[e]),(i||a.resolveWith)(d,r))}},l=i?c:function(){try{c()}catch(i){ye.Deferred.exceptionHook&&ye.Deferred.exceptionHook(i,l.stackTrace),t+1>=o&&(n!==u&&(d=void 0,r=[i]),a.rejectWith(d,r))}};t?l():(ye.Deferred.getStackHook&&(l.stackTrace=ye.Deferred.getStackHook()),e.setTimeout(l))}}var o=0;return ye.Deferred(function(e){a[0][3].add(s(0,e,ye.isFunction(i)?i:p,e.notifyWith)),a[1][3].add(s(0,e,ye.isFunction(t)?t:p)),a[2][3].add(s(0,e,ye.isFunction(n)?n:u))}).promise()},promise:function(e){return null==e?s:ye.extend(e,s)}},o={};return ye.each(a,function(e,t){var i=t[2],d=t[5];s[t[1]]=i.add,d&&i.add(function(){n=d},a[3-e][2].disable,a[0][2].lock),i.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=i.fireWith}),s.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,a=t,n=Array(a),s=re.call(arguments),o=ye.Deferred(),d=function(e){return function(a){n[e]=this,s[e]=1<arguments.length?re.call(arguments):a,--t||o.resolveWith(n,s)}};if(1>=t&&(m(e,o.done(d(a)).resolve,o.reject),"pending"===o.state()||ye.isFunction(s[a]&&s[a].then)))return o.then();for(;a--;)m(s[a],d(a),o.reject);return o.promise()}});ye.Deferred.exceptionHook=function(t,a){e.console&&e.console.warn&&t&&/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,a)};var De=ye.Deferred();ye.fn.ready=function(e){return De.then(e),this},ye.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ye.readyWait++:ye.ready(!0)},ready:function(e){(!0===e?! --ye.readyWait:!ye.isReady)&&(ye.isReady=!0,!0!==e&&0<--ye.readyWait||De.resolveWith(oe,[ye]))}}),ye.ready.then=De.then,"complete"!==oe.readyState&&("loading"===oe.readyState||oe.documentElement.doScroll)?(oe.addEventListener("DOMContentLoaded",g),e.addEventListener("load",g)):e.setTimeout(ye.ready);var Ye=function(e,t,a,n,s,o,d){var r=0,c=e.length,l=null==a;if("object"===ye.type(a))for(r in s=!0,a)Ye(e,t,r,a[r],!0,o,d);else if(void 0!==n&&(s=!0,ye.isFunction(n)||(d=!0),l&&(d?(t.call(e,n),t=null):(l=t,t=function(e,t,a){return l.call(ye(e),a)})),t))for(;r<c;r++)t(e[r],a,d?n:n.call(e[r],r,t(e[r],a)));return s?e:l?t.call(e):c?t(e[0],a):o},Ie=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};h.uid=1,h.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ie(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,a){var n=this.cache(e),i;if("string"==typeof t)n[ye.camelCase(t)]=a;else for(i in t)n[ye.camelCase(i)]=t[i];return n},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ye.camelCase(t)]},access:function(e,t,a){return void 0===t||t&&"string"==typeof t&&void 0===a?this.get(e,t):(this.set(e,t,a),void 0===a?t:a)},remove:function(e,t){var a=e[this.expando],n;if(void 0!==a){if(void 0!==t)for(ye.isArray(t)?t=t.map(ye.camelCase):(t=ye.camelCase(t),t=(t in a)?[t]:t.match(Ee)||[]),n=t.length;n--;)delete a[t[n]];(void 0===t||ye.isEmptyObject(a))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ye.isEmptyObject(t)}};var je=new h,Ne=new h,Oe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Re=/[A-Z]/g;ye.extend({hasData:function(e){return Ne.hasData(e)||je.hasData(e)},data:function(e,t,a){return Ne.access(e,t,a)},removeData:function(e,t){Ne.remove(e,t)},_data:function(e,t,a){return je.access(e,t,a)},_removeData:function(e,t){je.remove(e,t)}}),ye.fn.extend({data:function(e,t){var a=this[0],n=a&&a.attributes,s,o,d;if(void 0===e){if(this.length&&(d=Ne.get(a),1===a.nodeType&&!je.get(a,"hasDataAttrs"))){for(s=n.length;s--;)n[s]&&(o=n[s].name,0===o.indexOf("data-")&&(o=ye.camelCase(o.slice(5)),f(a,o,d[o])));je.set(a,"hasDataAttrs",!0)}return d}return"object"==typeof e?this.each(function(){Ne.set(this,e)}):Ye(this,function(t){var n;return a&&void 0===t?(n=Ne.get(a,e),void 0!==n)?n:(n=f(a,e),void 0===n?void 0:n):void this.each(function(){Ne.set(this,e,t)})},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Ne.remove(this,e)})}}),ye.extend({queue:function(e,t,a){var n;if(e)return t=(t||"fx")+"queue",n=je.get(e,t),a&&(!n||ye.isArray(a)?n=je.access(e,t,ye.makeArray(a)):n.push(a)),n||[]},dequeue:function(e,t){t=t||"fx";var a=ye.queue(e,t),n=a.length,i=a.shift(),s=ye._queueHooks(e,t),o=function(){ye.dequeue(e,t)};"inprogress"===i&&(i=a.shift(),n--),i&&("fx"===t&&a.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var a=t+"queueHooks";return je.get(e,a)||je.access(e,a,{empty:ye.Callbacks("once memory").add(function(){je.remove(e,[t+"queue",a])})})}}),ye.fn.extend({queue:function(e,t){var a=2;return"string"!=typeof e&&(t=e,e="fx",a--),arguments.length<a?ye.queue(this[0],e):void 0===t?this:this.each(function(){var a=ye.queue(this,e,t);ye._queueHooks(this,e),"fx"===e&&"inprogress"!==a[0]&&ye.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ye.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var a=1,n=ye.Deferred(),s=this,o=this.length,d=function(){--a||n.resolveWith(s,[s])},r;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)r=je.get(s[o],e+"queueHooks"),r&&r.empty&&(a++,r.empty.add(d));return d(),n.promise(t)}});var He=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pe=new RegExp("^(?:([+-])=|)("+He+")([a-z%]*)$","i"),Be=["Top","Right","Bottom","Left"],$e=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&ye.contains(e.ownerDocument,e)&&"none"===ye.css(e,"display")},Fe=function(e,t,a,n){var i={},s,o;for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in s=a.apply(e,n||[]),t)e.style[o]=i[o];return s},Ve={};ye.fn.extend({show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){$e(this)?ye(this).show():ye(this).hide()})}});var Ue=/^(?:checkbox|radio)$/i,qe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,We=/^$|\/(?:java|ecma)script/i,ze={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ze.optgroup=ze.option,ze.tbody=ze.tfoot=ze.colgroup=ze.caption=ze.thead,ze.th=ze.td;var Ge=/<|&#?\w+;/;(function(){var e=oe.createDocumentFragment(),t=e.appendChild(oe.createElement("div")),a=oe.createElement("input");a.setAttribute("type","radio"),a.setAttribute("checked","checked"),a.setAttribute("name","t"),t.appendChild(a),fe.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",fe.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var Qe=oe.documentElement,Je=/^([^.]*)(?:\.(.+)|)/;ye.event={global:{},add:function(a,n,i,s,o){var d=je.get(a),r,c,l,p,u,e,m,g,h,f,v;if(d)for(i.handler&&(r=i,i=r.handler,o=r.selector),o&&ye.find.matchesSelector(Qe,o),i.guid||(i.guid=ye.guid++),(p=d.events)||(p=d.events={}),(c=d.handle)||(c=d.handle=function(t){return"undefined"!=typeof ye&&ye.event.triggered!==t.type?ye.event.dispatch.apply(a,arguments):void 0}),n=(n||"").match(Ee)||[""],u=n.length;u--;)(l=Je.exec(n[u])||[],h=v=l[1],f=(l[2]||"").split(".").sort(),!!h)&&(m=ye.event.special[h]||{},h=(o?m.delegateType:m.bindType)||h,m=ye.event.special[h]||{},e=ye.extend({type:h,origType:v,data:s,handler:i,guid:i.guid,selector:o,needsContext:o&&ye.expr.match.needsContext.test(o),namespace:f.join(".")},r),(g=p[h])||(g=p[h]=[],g.delegateCount=0,(!m.setup||!1===m.setup.call(a,s,f,c))&&a.addEventListener&&a.addEventListener(h,c)),m.add&&(m.add.call(a,e),!e.handler.guid&&(e.handler.guid=i.guid)),o?g.splice(g.delegateCount++,0,e):g.push(e),ye.event.global[h]=!0)},remove:function(e,a,n,i,s){var o=je.hasData(e)&&je.get(e),d,r,c,l,p,u,m,g,h,f,v;if(o&&(l=o.events)){for(a=(a||"").match(Ee)||[""],p=a.length;p--;){if(c=Je.exec(a[p])||[],h=v=c[1],f=(c[2]||"").split(".").sort(),!h){for(h in l)ye.event.remove(e,h+a[p],n,i,!0);continue}for(m=ye.event.special[h]||{},h=(i?m.delegateType:m.bindType)||h,g=l[h]||[],c=c[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=d=g.length;d--;)u=g[d],(s||v===u.origType)&&(!n||n.guid===u.guid)&&(!c||c.test(u.namespace))&&(!i||i===u.selector||"**"===i&&u.selector)&&(g.splice(d,1),u.selector&&g.delegateCount--,m.remove&&m.remove.call(e,u));r&&!g.length&&((!m.teardown||!1===m.teardown.call(e,f,o.handle))&&ye.removeEvent(e,h,o.handle),delete l[h])}ye.isEmptyObject(l)&&je.remove(e,"handle events")}},dispatch:function(e){var t=ye.event.fix(e),a=Array(arguments.length),n=(je.get(this,"events")||{})[t.type]||[],s=ye.event.special[t.type]||{},o,d,r,c,l,p;for(a[0]=t,o=1;o<arguments.length;o++)a[o]=arguments[o];if(t.delegateTarget=this,!(s.preDispatch&&!1===s.preDispatch.call(this,t))){for(p=ye.event.handlers.call(this,t,n),o=0;(c=p[o++])&&!t.isPropagationStopped();)for(t.currentTarget=c.elem,d=0;(l=c.handlers[d++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||t.rnamespace.test(l.namespace))&&(t.handleObj=l,t.data=l.data,r=((ye.event.special[l.origType]||{}).handle||l.handler).apply(c.elem,a),void 0!==r&&!1===(t.result=r)&&(t.preventDefault(),t.stopPropagation()));return s.postDispatch&&s.postDispatch.call(this,t),t.result}},handlers:function(e,t){var a=[],n=t.delegateCount,s=e.target,o,d,r,c;if(n&&s.nodeType&&("click"!==e.type||isNaN(e.button)||1>e.button))for(;s!==this;s=s.parentNode||this)if(1===s.nodeType&&(!0!==s.disabled||"click"!==e.type)){for(d=[],o=0;o<n;o++)c=t[o],r=c.selector+" ",void 0===d[r]&&(d[r]=c.needsContext?-1<ye(r,this).index(s):ye.find(r,this,null,[s]).length),d[r]&&d.push(c);d.length&&a.push({elem:s,handlers:d})}return n<t.length&&a.push({elem:this,handlers:t.slice(n)}),a},addProp:function(e,t){Object.defineProperty(ye.Event.prototype,e,{enumerable:!0,configurable:!0,get:ye.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ye.expando]?e:new ye.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ye.nodeName(this,"input"))return this.click(),!1},_default:function(e){return ye.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ye.removeEvent=function(e,t,a){e.removeEventListener&&e.removeEventListener(t,a)},ye.Event=function(e,t){return this instanceof ye.Event?void(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?S:M,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ye.extend(this,t),this.timeStamp=e&&e.timeStamp||ye.now(),this[ye.expando]=!0):new ye.Event(e,t)},ye.Event.prototype={constructor:ye.Event,isDefaultPrevented:M,isPropagationStopped:M,isImmediatePropagationStopped:M,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=S,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=S,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=S,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ye.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&/^key/.test(e.type)?null==e.charCode?e.keyCode:e.charCode:!e.which&&void 0!==t&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ye.event.addProp),ye.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ye.event.special[e]={delegateType:t,bindType:t,handle:function(e){var a=this,n=e.relatedTarget,i=e.handleObj,s;return n&&(n===a||ye.contains(a,n))||(e.type=i.origType,s=i.handler.apply(this,arguments),e.type=t),s}}}),ye.fn.extend({on:function(e,t,a,n){return L(this,e,t,a,n)},one:function(e,t,a,n){return L(this,e,t,a,n,1)},off:function(e,t,a){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,ye(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(!1===t||"function"==typeof t)&&(a=t,t=void 0),!1===a&&(a=M),this.each(function(){ye.event.remove(this,e,a,t)})}});var Ke=/checked\s*(?:[^=]|=\s*.checked.)/i,Xe=/^true\/(.*)/,Ze=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ye.extend({htmlPrefilter:function(e){return e.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,"<$1></$2>")},clone:function(e,t,a){var n=e.cloneNode(!0),s=ye.contains(e.ownerDocument,e),o,d,r,c;if(!fe.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!ye.isXMLDoc(e))for(c=x(n),r=x(e),(o=0,d=r.length);o<d;o++)I(r[o],c[o]);if(t)if(a)for(r=r||x(e),c=c||x(n),(o=0,d=r.length);o<d;o++)Y(r[o],c[o]);else Y(e,n);return c=x(n,"script"),0<c.length&&w(c,!s&&x(e,"script")),n},cleanData:function(e){for(var t=ye.event.special,a=0,n,s,o;void 0!==(s=e[a]);a++)if(Ie(s)){if(n=s[je.expando]){if(n.events)for(o in n.events)t[o]?ye.event.remove(s,o):ye.removeEvent(s,o,n.handle);s[je.expando]=void 0}s[Ne.expando]&&(s[Ne.expando]=void 0)}}}),ye.fn.extend({detach:function(e){return N(this,e,!0)},remove:function(e){return N(this,e)},text:function(e){return Ye(this,function(e){return void 0===e?ye.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return j(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.appendChild(e)}})},prepend:function(){return j(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return j(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return j(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e=0,t;null!=(t=this[e]);e++)1===t.nodeType&&(ye.cleanData(x(t,!1)),t.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ye.clone(this,e,t)})},html:function(e){return Ye(this,function(e){var t=this[0]||{},a=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!/<script|<style|<link/i.test(e)&&!ze[(qe.exec(e)||["",""])[1].toLowerCase()]){e=ye.htmlPrefilter(e);try{for(;a<n;a++)t=this[a]||{},1===t.nodeType&&(ye.cleanData(x(t,!1)),t.innerHTML=e);t=0}catch(t){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return j(this,arguments,function(t){var a=this.parentNode;0>ye.inArray(this,e)&&(ye.cleanData(x(this)),a&&a.replaceChild(t,this))},e)}}),ye.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ye.fn[e]=function(e){for(var a=[],n=ye(e),s=n.length-1,o=0,d;o<=s;o++)d=o===s?this:this.clone(!0),ye(n[o])[t](d),le.apply(a,d.get());return this.pushStack(a)}});var et=/^margin/,tt=new RegExp("^("+He+")(?!px)[a-z%]+$","i"),at=function(t){var a=t.ownerDocument.defaultView;return a&&a.opener||(a=e),a.getComputedStyle(t)};(function(){function t(){if(n){n.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n.innerHTML="",Qe.appendChild(a);var t=e.getComputedStyle(n);i="1%"!==t.top,d="2px"===t.marginLeft,s="4px"===t.width,n.style.marginRight="50%",o="4px"===t.marginRight,Qe.removeChild(a),n=null}}var a=oe.createElement("div"),n=oe.createElement("div"),i,s,o,d;n.style&&(n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",fe.clearCloneStyle="content-box"===n.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(n),ye.extend(fe,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return t(),s},pixelMarginRight:function(){return t(),o},reliableMarginLeft:function(){return t(),d}}))})();var nt={position:"absolute",visibility:"hidden",display:"block"},it={letterSpacing:"0",fontWeight:"400"},st=["Webkit","Moz","ms"],ot=oe.createElement("div").style;ye.extend({cssHooks:{opacity:{get:function(e,t){if(t){var a=O(e,"opacity");return""===a?"1":a}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,a,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i=ye.camelCase(t),s=e.style,o,d,r;if(t=ye.cssProps[i]||(ye.cssProps[i]=H(i)||i),r=ye.cssHooks[t]||ye.cssHooks[i],void 0!==a){if(d=typeof a,"string"===d&&(o=Pe.exec(a))&&o[1]&&(a=v(e,t,o),d="number"),null==a||a!==a)return;"number"===d&&(a+=o&&o[3]||(ye.cssNumber[i]?"":"px")),fe.clearCloneStyle||""!==a||0!==t.indexOf("background")||(s[t]="inherit"),r&&"set"in r&&void 0===(a=r.set(e,a,n))||(s[t]=a)}else return r&&"get"in r&&void 0!==(o=r.get(e,!1,n))?o:s[t]}},css:function(e,t,a,n){var i=ye.camelCase(t),s,o,d;return t=ye.cssProps[i]||(ye.cssProps[i]=H(i)||i),d=ye.cssHooks[t]||ye.cssHooks[i],d&&"get"in d&&(s=d.get(e,!0,a)),void 0===s&&(s=O(e,t,n)),"normal"===s&&t in it&&(s=it[t]),""===a||a?(o=parseFloat(s),!0===a||isFinite(o)?o||0:s):s}}),ye.each(["height","width"],function(e,t){ye.cssHooks[t]={get:function(e,a,n){if(a)return!/^(none|table(?!-c[ea]).+)/.test(ye.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?F(e,t,n):Fe(e,nt,function(){return F(e,t,n)})},set:function(e,a,n){var i=n&&at(e),s=n&&B(e,t,n,"border-box"===ye.css(e,"boxSizing",!1,i),i),o;return s&&(o=Pe.exec(a))&&"px"!==(o[3]||"px")&&(e.style[t]=a,a=ye.css(e,t)),P(e,a,s)}}}),ye.cssHooks.marginLeft=R(fe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(O(e,"marginLeft"))||e.getBoundingClientRect().left-Fe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ye.each({margin:"",padding:"",border:"Width"},function(e,t){ye.cssHooks[e+t]={expand:function(a){for(var n=0,s={},o="string"==typeof a?a.split(" "):[a];4>n;n++)s[e+Be[n]+t]=o[n]||o[n-2]||o[0];return s}},et.test(e)||(ye.cssHooks[e+t].set=P)}),ye.fn.extend({css:function(e,t){return Ye(this,function(e,t,a){var n={},s=0,o,d;if(ye.isArray(t)){for(o=at(e),d=t.length;s<d;s++)n[t[s]]=ye.css(e,t[s],!1,o);return n}return void 0===a?ye.css(e,t):ye.style(e,t,a)},e,t,1<arguments.length)}}),ye.Tween=V,V.prototype={constructor:V,init:function(e,t,a,n,i,s){this.elem=e,this.prop=a,this.easing=i||ye.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(ye.cssNumber[a]?"":"px")},cur:function(){var e=V.propHooks[this.prop];return e&&e.get?e.get(this):V.propHooks._default.get(this)},run:function(e){var t=V.propHooks[this.prop],a;return this.pos=this.options.duration?a=ye.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):a=e,this.now=(this.end-this.start)*a+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):V.propHooks._default.set(this),this}},V.prototype.init.prototype=V.prototype,V.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ye.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ye.fx.step[e.prop]?ye.fx.step[e.prop](e):1===e.elem.nodeType&&(null!=e.elem.style[ye.cssProps[e.prop]]||ye.cssHooks[e.prop])?ye.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},V.propHooks.scrollTop=V.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ye.easing={linear:function(e){return e},swing:function(e){return .5-a(e*n)/2},_default:"swing"},ye.fx=V.prototype.init,ye.fx.step={};var dt=/^(?:toggle|show|hide)$/,rt,ct;ye.Animation=ye.extend(J,{tweeners:{"*":[function(e,t){var a=this.createTween(e,t);return v(a.elem,e,Pe.exec(t),a),a}]},tweener:function(e,t){ye.isFunction(e)?(t=e,e=["*"]):e=e.match(Ee);for(var a=0,n=e.length,i;a<n;a++)i=e[a],J.tweeners[i]=J.tweeners[i]||[],J.tweeners[i].unshift(t)},prefilters:[G],prefilter:function(e,t){t?J.prefilters.unshift(e):J.prefilters.push(e)}}),ye.speed=function(e,t,a){var n=e&&"object"==typeof e?ye.extend({},e):{complete:a||!a&&t||ye.isFunction(e)&&e,duration:e,easing:a&&t||t&&!ye.isFunction(t)&&t};return n.duration=ye.fx.off||oe.hidden?0:"number"==typeof n.duration?n.duration:n.duration in ye.fx.speeds?ye.fx.speeds[n.duration]:ye.fx.speeds._default,(null==n.queue||!0===n.queue)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){ye.isFunction(n.old)&&n.old.call(this),n.queue&&ye.dequeue(this,n.queue)},n},ye.fn.extend({fadeTo:function(e,t,a,n){return this.filter($e).css("opacity",0).show().end().animate({opacity:t},e,a,n)},animate:function(e,t,a,n){var i=ye.isEmptyObject(e),s=ye.speed(t,a,n),o=function(){var t=J(this,ye.extend({},e),s);(i||je.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(e,t,a){var n=function(e){var t=e.stop;delete e.stop,t(a)};return"string"!=typeof e&&(a=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=ye.timers,o=je.get(this);if(i)o[i]&&o[i].stop&&n(o[i]);else for(i in o)o[i]&&o[i].stop&&/queueHooks$/.test(i)&&n(o[i]);for(i=s.length;i--;)s[i].elem===this&&(null==e||s[i].queue===e)&&(s[i].anim.stop(a),t=!1,s.splice(i,1));(t||!a)&&ye.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t=je.get(this),a=t[e+"queue"],n=t[e+"queueHooks"],i=ye.timers,s=a?a.length:0,o;for(t.finish=!0,ye.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),o=i.length;o--;)i[o].elem===this&&i[o].queue===e&&(i[o].anim.stop(!0),i.splice(o,1));for(o=0;o<s;o++)a[o]&&a[o].finish&&a[o].finish.call(this);delete t.finish})}}),ye.each(["toggle","show","hide"],function(e,t){var a=ye.fn[t];ye.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?a.apply(this,arguments):this.animate(W(t,!0),e,n,i)}}),ye.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ye.fn[e]=function(e,a,n){return this.animate(t,e,a,n)}}),ye.timers=[],ye.fx.tick=function(){var e=0,t=ye.timers,a;for(rt=ye.now();e<t.length;e++)a=t[e],a()||t[e]!==a||t.splice(e--,1);t.length||ye.fx.stop(),rt=void 0},ye.fx.timer=function(e){ye.timers.push(e),e()?ye.fx.start():ye.timers.pop()},ye.fx.interval=13,ye.fx.start=function(){ct||(ct=e.requestAnimationFrame?e.requestAnimationFrame(U):e.setInterval(ye.fx.tick,ye.fx.interval))},ye.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(ct):e.clearInterval(ct),ct=null},ye.fx.speeds={slow:600,fast:200,_default:400},ye.fn.delay=function(t,a){return t=ye.fx?ye.fx.speeds[t]||t:t,a=a||"fx",this.queue(a,function(a,n){var i=e.setTimeout(a,t);n.stop=function(){e.clearTimeout(i)}})},function(){var e=oe.createElement("input"),t=oe.createElement("select"),a=t.appendChild(oe.createElement("option"));e.type="checkbox",fe.checkOn=""!==e.value,fe.optSelected=a.selected,e=oe.createElement("input"),e.value="t",e.type="radio",fe.radioValue="t"===e.value}();var lt=ye.expr.attrHandle,pt;ye.fn.extend({attr:function(e,t){return Ye(this,ye.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ye.removeAttr(this,e)})}}),ye.extend({attr:function(e,t,a){var n=e.nodeType,i,s;if(3!==n&&8!==n&&2!==n)return"undefined"==typeof e.getAttribute?ye.prop(e,t,a):(1===n&&ye.isXMLDoc(e)||(s=ye.attrHooks[t.toLowerCase()]||(ye.expr.match.bool.test(t)?pt:void 0)),void 0!==a)?null===a?void ye.removeAttr(e,t):s&&"set"in s&&void 0!==(i=s.set(e,a,t))?i:(e.setAttribute(t,a+""),a):s&&"get"in s&&null!==(i=s.get(e,t))?i:(i=ye.find.attr(e,t),null==i?void 0:i)},attrHooks:{type:{set:function(e,t){if(!fe.radioValue&&"radio"===t&&ye.nodeName(e,"input")){var a=e.value;return e.setAttribute("type",t),a&&(e.value=a),t}}}},removeAttr:function(e,t){var a=0,n=t&&t.match(Ee),s;if(n&&1===e.nodeType)for(;s=n[a++];)e.removeAttribute(s)}}),pt={set:function(e,t,a){return!1===t?ye.removeAttr(e,a):e.setAttribute(a,a),a}},ye.each(ye.expr.match.bool.source.match(/\w+/g),function(e,t){var a=lt[t]||ye.find.attr;lt[t]=function(e,t,n){var i=t.toLowerCase(),s,o;return n||(o=lt[i],lt[i]=s,s=null==a(e,t,n)?null:i,lt[i]=o),s}});ye.fn.extend({prop:function(e,t){return Ye(this,ye.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[ye.propFix[e]||e]})}}),ye.extend({prop:function(e,t,a){var n=e.nodeType,i,s;if(3!==n&&8!==n&&2!==n)return 1===n&&ye.isXMLDoc(e)||(t=ye.propFix[t]||t,s=ye.propHooks[t]),void 0===a?s&&"get"in s&&null!==(i=s.get(e,t))?i:e[t]:s&&"set"in s&&void 0!==(i=s.set(e,a,t))?i:e[t]=a},propHooks:{tabIndex:{get:function(e){var t=ye.find.attr(e,"tabindex");return t?parseInt(t,10):/^(?:input|select|textarea|button)$/i.test(e.nodeName)||/^(?:a|area)$/i.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),fe.optSelected||(ye.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ye.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ye.propFix[this.toLowerCase()]=this});var ut=/[\t\r\n\f]/g;ye.fn.extend({addClass:function(e){var t=0,a,n,s,o,d,r,c;if(ye.isFunction(e))return this.each(function(t){ye(this).addClass(e.call(this,t,K(this)))});if("string"==typeof e&&e)for(a=e.match(Ee)||[];n=this[t++];)if(o=K(n),s=1===n.nodeType&&(" "+o+" ").replace(ut," "),s){for(r=0;d=a[r++];)0>s.indexOf(" "+d+" ")&&(s+=d+" ");c=ye.trim(s),o!==c&&n.setAttribute("class",c)}return this},removeClass:function(e){var t=0,a,n,s,o,d,r,c;if(ye.isFunction(e))return this.each(function(t){ye(this).removeClass(e.call(this,t,K(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(a=e.match(Ee)||[];n=this[t++];)if(o=K(n),s=1===n.nodeType&&(" "+o+" ").replace(ut," "),s){for(r=0;d=a[r++];)for(;-1<s.indexOf(" "+d+" ");)s=s.replace(" "+d+" "," ");c=ye.trim(s),o!==c&&n.setAttribute("class",c)}return this},toggleClass:function(e,t){var a=typeof e;return"boolean"==typeof t&&"string"===a?t?this.addClass(e):this.removeClass(e):ye.isFunction(e)?this.each(function(a){ye(this).toggleClass(e.call(this,a,K(this),t),t)}):this.each(function(){var t,n,s,o;if("string"===a)for(n=0,s=ye(this),o=e.match(Ee)||[];t=o[n++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else(void 0===e||"boolean"===a)&&(t=K(this),t&&je.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":je.get(this,"__className__")||""))})},hasClass:function(e){var t=0,a,n;for(a=" "+e+" ";n=this[t++];)if(1===n.nodeType&&-1<(" "+K(n)+" ").replace(ut," ").indexOf(a))return!0;return!1}});ye.fn.extend({val:function(e){var t=this[0],a,n,s;return arguments.length?(s=ye.isFunction(e),this.each(function(t){var n;1!==this.nodeType||(n=s?e.call(this,t,ye(this).val()):e,null==n?n="":"number"==typeof n?n+="":ye.isArray(n)&&(n=ye.map(n,function(e){return null==e?"":e+""})),a=ye.valHooks[this.type]||ye.valHooks[this.nodeName.toLowerCase()],(!a||!("set"in a)||void 0===a.set(this,n,"value"))&&(this.value=n))})):t?(a=ye.valHooks[t.type]||ye.valHooks[t.nodeName.toLowerCase()],a&&"get"in a&&void 0!==(n=a.get(t,"value")))?n:(n=t.value,"string"==typeof n?n.replace(/\r/g,""):null==n?"":n):void 0}}),ye.extend({valHooks:{option:{get:function(e){var t=ye.find.attr(e,"value");return null==t?ye.trim(ye.text(e)).replace(/[\x20\t\r\n\f]+/g," "):t}},select:{get:function(e){for(var t=e.options,a=e.selectedIndex,n="select-one"===e.type,s=n?null:[],o=n?a+1:t.length,d=0>a?o:n?a:0,r,c;d<o;d++)if(c=t[d],(c.selected||d===a)&&!c.disabled&&(!c.parentNode.disabled||!ye.nodeName(c.parentNode,"optgroup"))){if(r=ye(c).val(),n)return r;s.push(r)}return s},set:function(e,t){for(var a=e.options,n=ye.makeArray(t),s=a.length,o,d;s--;)d=a[s],(d.selected=-1<ye.inArray(ye.valHooks.option.get(d),n))&&(o=!0);return o||(e.selectedIndex=-1),n}}}}),ye.each(["radio","checkbox"],function(){ye.valHooks[this]={set:function(e,t){if(ye.isArray(t))return e.checked=-1<ye.inArray(ye(e).val(),t)}},fe.checkOn||(ye.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var mt=/^(?:focusinfocus|focusoutblur)$/;ye.extend(ye.event,{trigger:function(t,a,n,s){var o=[n||oe],d=ge.call(t,"type")?t.type:t,r=ge.call(t,"namespace")?t.namespace.split("."):[],c,l,p,u,m,g,h;if((l=p=n=n||oe,3!==n.nodeType&&8!==n.nodeType)&&!mt.test(d+ye.event.triggered)&&(-1<d.indexOf(".")&&(r=d.split("."),d=r.shift(),r.sort()),m=0>d.indexOf(":")&&"on"+d,t=t[ye.expando]?t:new ye.Event(d,"object"==typeof t&&t),t.isTrigger=s?2:3,t.namespace=r.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),a=null==a?[t]:ye.makeArray(a,[t]),h=ye.event.special[d]||{},s||!h.trigger||!1!==h.trigger.apply(n,a))){if(!s&&!h.noBubble&&!ye.isWindow(n)){for(u=h.delegateType||d,mt.test(u+d)||(l=l.parentNode);l;l=l.parentNode)o.push(l),p=l;p===(n.ownerDocument||oe)&&o.push(p.defaultView||p.parentWindow||e)}for(c=0;(l=o[c++])&&!t.isPropagationStopped();)t.type=1<c?u:h.bindType||d,g=(je.get(l,"events")||{})[t.type]&&je.get(l,"handle"),g&&g.apply(l,a),g=m&&l[m],g&&g.apply&&Ie(l)&&(t.result=g.apply(l,a),!1===t.result&&t.preventDefault());return t.type=d,s||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(o.pop(),a)||!Ie(n)||!m||!ye.isFunction(n[d])||ye.isWindow(n)||(p=n[m],p&&(n[m]=null),ye.event.triggered=d,n[d](),ye.event.triggered=void 0,p&&(n[m]=p)),t.result}},simulate:function(t,a,n){var i=ye.extend(new ye.Event,n,{type:t,isSimulated:!0});ye.event.trigger(i,null,a)}}),ye.fn.extend({trigger:function(e,t){return this.each(function(){ye.event.trigger(e,t,this)})},triggerHandler:function(e,t){var a=this[0];if(a)return ye.event.trigger(e,t,a,!0)}}),ye.each(["blur","focus","focusin","focusout","resize","scroll","click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","change","select","submit","keydown","keypress","keyup","contextmenu"],function(e,t){ye.fn[t]=function(e,a){return 0<arguments.length?this.on(t,null,e,a):this.trigger(t)}}),ye.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),fe.focusin="onfocusin"in e,fe.focusin||ye.each({focus:"focusin",blur:"focusout"},function(e,t){var a=function(e){ye.event.simulate(t,e.target,ye.event.fix(e))};ye.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=je.access(n,t);i||n.addEventListener(e,a,!0),je.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=je.access(n,t)-1;i?je.access(n,t,i):(n.removeEventListener(e,a,!0),je.remove(n,t))}}});var gt=e.location,ht=ye.now(),_t=/\?/;ye.parseXML=function(t){var a;if(!t||"string"!=typeof t)return null;try{a=new e.DOMParser().parseFromString(t,"text/xml")}catch(t){a=void 0}return(!a||a.getElementsByTagName("parsererror").length)&&ye.error("Invalid XML: "+t),a};var ft=/\[\]$/,vt=/\r?\n/g;ye.param=function(e,t){var a=[],n=function(e,t){var n=ye.isFunction(t)?t():t;a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)},i;if(ye.isArray(e)||e.jquery&&!ye.isPlainObject(e))ye.each(e,function(){n(this.name,this.value)});else for(i in e)X(i,e[i],t,n);return a.join("&")},ye.fn.extend({serialize:function(){return ye.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ye.prop(this,"elements");return e?ye.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ye(this).is(":disabled")&&/^(?:input|select|textarea|keygen)/i.test(this.nodeName)&&!/^(?:submit|button|image|reset|file)$/i.test(e)&&(this.checked||!Ue.test(e))}).map(function(e,t){var a=ye(this).val();return null==a?null:ye.isArray(a)?ye.map(a,function(e){return{name:t.name,value:e.replace(vt,"\r\n")}}):{name:t.name,value:a.replace(vt,"\r\n")}}).get()}});var yt={},bt={},At="*/".concat("*"),xt=oe.createElement("a");xt.href=gt.href,ye.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ye.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?te(te(e,ye.ajaxSettings),t):te(ye.ajaxSettings,e)},ajaxPrefilter:Z(yt),ajaxTransport:Z(bt),ajax:function(t,a){function n(t,a,n,i){var p=a,u,m,b,x,S;w||(w=!0,A&&e.clearTimeout(A),h=void 0,v=i||"",g.readyState=0<t?4:0,u=200<=t&&300>t||304===t,n&&(x=ae(o,g,n)),x=ne(o,x,g,u),u?(o.ifModified&&(S=g.getResponseHeader("Last-Modified"),S&&(ye.lastModified[f]=S),S=g.getResponseHeader("etag"),S&&(ye.etag[f]=S)),204===t||"HEAD"===o.type?p="nocontent":304===t?p="notmodified":(p=x.state,m=x.data,b=x.error,u=!b)):(b=p,(t||!p)&&(p="error",0>t&&(t=0))),g.status=t,g.statusText=(a||p)+"",u?r.resolveWith(s,[m,p,g]):r.rejectWith(s,[g,p,b]),g.statusCode(l),l=void 0,k&&d.trigger(u?"ajaxSuccess":"ajaxError",[g,o,u?m:b]),c.fireWith(s,[g,p]),k&&(d.trigger("ajaxComplete",[g,o]),! --ye.active&&ye.event.trigger("ajaxStop")))}"object"==typeof t&&(a=t,t=void 0),a=a||{};var o=ye.ajaxSetup({},a),s=o.context||o,d=o.context&&(s.nodeType||s.jquery)?ye(s):ye.event,r=ye.Deferred(),c=ye.Callbacks("once memory"),l=o.statusCode||{},p={},u={},m="canceled",g={readyState:0,getResponseHeader:function(e){var t;if(w){if(!b)for(b={};t=/^(.*?):[ \t]*([^\r\n]*)$/mg.exec(v);)b[t[1].toLowerCase()]=t[2];t=b[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return w?v:null},setRequestHeader:function(e,t){return null==w&&(e=u[e.toLowerCase()]=u[e.toLowerCase()]||e,p[e]=t),this},overrideMimeType:function(e){return null==w&&(o.mimeType=e),this},statusCode:function(e){if(e)if(w)g.always(e[g.status]);else for(var t in e)l[t]=[l[t],e[t]];return this},abort:function(e){var t=e||m;return h&&h.abort(t),n(0,t),this}},h,f,v,b,A,x,w,k,S,M;if(r.promise(g),o.url=((t||o.url||gt.href)+"").replace(/^\/\//,gt.protocol+"//"),o.type=a.method||a.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(Ee)||[""],null==o.crossDomain){x=oe.createElement("a");try{x.href=o.url,x.href=x.href,o.crossDomain=xt.protocol+"//"+xt.host!=x.protocol+"//"+x.host}catch(t){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=ye.param(o.data,o.traditional)),ee(yt,o,a,g),w)return g;for(S in k=ye.event&&o.global,k&&0==ye.active++&&ye.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!/^(?:GET|HEAD)$/.test(o.type),f=o.url.replace(/#.*$/,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(/%20/g,"+")):(M=o.url.slice(f.length),o.data&&(f+=(_t.test(f)?"&":"?")+o.data,delete o.data),!1===o.cache&&(f=f.replace(/([?&])_=[^&]*/,""),M=(_t.test(f)?"&":"?")+"_="+ht++ +M),o.url=f+M),o.ifModified&&(ye.lastModified[f]&&g.setRequestHeader("If-Modified-Since",ye.lastModified[f]),ye.etag[f]&&g.setRequestHeader("If-None-Match",ye.etag[f])),(o.data&&o.hasContent&&!1!==o.contentType||a.contentType)&&g.setRequestHeader("Content-Type",o.contentType),g.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"===o.dataTypes[0]?"":", */*; q=0.01"):o.accepts["*"]),o.headers)g.setRequestHeader(S,o.headers[S]);if(o.beforeSend&&(!1===o.beforeSend.call(s,g,o)||w))return g.abort();if(m="abort",c.add(o.complete),g.done(o.success),g.fail(o.error),h=ee(bt,o,a,g),!h)n(-1,"No Transport");else{if(g.readyState=1,k&&d.trigger("ajaxSend",[g,o]),w)return g;o.async&&0<o.timeout&&(A=e.setTimeout(function(){g.abort("timeout")},o.timeout));try{w=!1,h.send(p,n)}catch(t){if(w)throw t;n(-1,t)}}return g},getJSON:function(e,t,a){return ye.get(e,t,a,"json")},getScript:function(e,t){return ye.get(e,void 0,t,"script")}}),ye.each(["get","post"],function(e,t){ye[t]=function(e,a,n,i){return ye.isFunction(a)&&(i=i||n,n=a,a=void 0),ye.ajax(ye.extend({url:e,type:t,dataType:i,data:a,success:n},ye.isPlainObject(e)&&e))}}),ye._evalUrl=function(e){return ye.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ye.fn.extend({wrapAll:function(e){var t;return this[0]&&(ye.isFunction(e)&&(e=e.call(this[0])),t=ye(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ye.isFunction(e)?this.each(function(t){ye(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ye(this),a=t.contents();a.length?a.wrapAll(e):t.append(e)})},wrap:function(e){var t=ye.isFunction(e);return this.each(function(a){ye(this).wrapAll(t?e.call(this,a):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ye(this).replaceWith(this.childNodes)}),this}}),ye.expr.pseudos.hidden=function(e){return!ye.expr.pseudos.visible(e)},ye.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ye.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var wt={0:200,1223:204},kt=ye.ajaxSettings.xhr();fe.cors=!!kt&&"withCredentials"in kt,fe.ajax=kt=!!kt,ye.ajaxTransport(function(t){var a,n;if(fe.cors||kt&&!t.crossDomain)return{send:function(s,o){var d=t.xhr(),r;if(d.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)d[r]=t.xhrFields[r];for(r in t.mimeType&&d.overrideMimeType&&d.overrideMimeType(t.mimeType),t.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest"),s)d.setRequestHeader(r,s[r]);a=function(e){return function(){a&&(a=n=d.onload=d.onerror=d.onabort=d.onreadystatechange=null,"abort"===e?d.abort():"error"===e?"number"==typeof d.status?o(d.status,d.statusText):o(0,"error"):o(wt[d.status]||d.status,d.statusText,"text"!==(d.responseType||"text")||"string"!=typeof d.responseText?{binary:d.response}:{text:d.responseText},d.getAllResponseHeaders()))}},d.onload=a(),n=d.onerror=a("error"),void 0===d.onabort?d.onreadystatechange=function(){4===d.readyState&&e.setTimeout(function(){a&&n()})}:d.onabort=n,a=a("abort");try{d.send(t.hasContent&&t.data||null)}catch(t){if(a)throw t}},abort:function(){a&&a()}}}),ye.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ye.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ye.globalEval(e),e}}}),ye.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ye.ajaxTransport("script",function(e){if(e.crossDomain){var t,a;return{send:function(n,i){t=ye("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",a=function(e){t.remove(),a=null,e&&i("error"===e.type?404:200,e.type)}),oe.head.appendChild(t[0])},abort:function(){a&&a()}}}});var St=[],Mt=/(=)\?(?=&|$)|\?\?/;ye.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=St.pop()||ye.expando+"_"+ht++;return this[e]=!0,e}}),ye.ajaxPrefilter("json jsonp",function(t,a,n){var i=!1!==t.jsonp&&(Mt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Mt.test(t.data)&&"data"),s,o,d;if(i||"jsonp"===t.dataTypes[0])return s=t.jsonpCallback=ye.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,i?t[i]=t[i].replace(Mt,"$1"+s):!1!==t.jsonp&&(t.url+=(_t.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return d||ye.error(s+" was not called"),d[0]},t.dataTypes[0]="json",o=e[s],e[s]=function(){d=arguments},n.always(function(){void 0===o?ye(e).removeProp(s):e[s]=o,t[s]&&(t.jsonpCallback=a.jsonpCallback,St.push(s)),d&&ye.isFunction(o)&&o(d[0]),d=o=void 0}),"script"}),fe.createHTMLDocument=function(){var e=oe.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),ye.parseHTML=function(e,t,a){if("string"!=typeof e)return[];"boolean"==typeof t&&(a=t,t=!1);var n,i,s;return(t||(fe.createHTMLDocument?(t=oe.implementation.createHTMLDocument(""),n=t.createElement("base"),n.href=oe.location.href,t.head.appendChild(n)):t=oe),i=Se.exec(e),s=!a&&[],i)?[t.createElement(i[1])]:(i=k([e],t,s),s&&s.length&&ye(s).remove(),ye.merge([],i.childNodes))},ye.fn.load=function(e,t,a){var n=this,i=e.indexOf(" "),s,o,d;return-1<i&&(s=ye.trim(e.slice(i)),e=e.slice(0,i)),ye.isFunction(t)?(a=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<n.length&&ye.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){d=arguments,n.html(s?ye("<div>").append(ye.parseHTML(e)).find(s):e)}).always(a&&function(e,t){n.each(function(){a.apply(this,d||[e.responseText,t,e])})}),this},ye.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ye.fn[t]=function(e){return this.on(t,e)}}),ye.expr.pseudos.animated=function(e){return ye.grep(ye.timers,function(t){return e===t.elem}).length},ye.offset={setOffset:function(e,t,a){var n=ye.css(e,"position"),i=ye(e),s={},o,d,r,c,l,p,u;"static"===n&&(e.style.position="relative"),l=i.offset(),r=ye.css(e,"top"),p=ye.css(e,"left"),u=("absolute"===n||"fixed"===n)&&-1<(r+p).indexOf("auto"),u?(o=i.position(),c=o.top,d=o.left):(c=parseFloat(r)||0,d=parseFloat(p)||0),ye.isFunction(t)&&(t=t.call(e,a,ye.extend({},l))),null!=t.top&&(s.top=t.top-l.top+c),null!=t.left&&(s.left=t.left-l.left+d),"using"in t?t.using.call(e,s):i.css(s)}},ye.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ye.offset.setOffset(this,e,t)});var t=this[0],a,n,i,s;if(t)return t.getClientRects().length?(i=t.getBoundingClientRect(),i.width||i.height?(s=t.ownerDocument,n=ie(s),a=s.documentElement,{top:i.top+n.pageYOffset-a.clientTop,left:i.left+n.pageXOffset-a.clientLeft}):i):{top:0,left:0}},position:function(){if(this[0]){var e=this[0],t={top:0,left:0},a,n;return"fixed"===ye.css(e,"position")?n=e.getBoundingClientRect():(a=this.offsetParent(),n=this.offset(),!ye.nodeName(a[0],"html")&&(t=a.offset()),t={top:t.top+ye.css(a[0],"borderTopWidth",!0),left:t.left+ye.css(a[0],"borderLeftWidth",!0)}),{top:n.top-t.top-ye.css(e,"marginTop",!0),left:n.left-t.left-ye.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ye.css(e,"position");)e=e.offsetParent;return e||Qe})}}),ye.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var a="pageYOffset"===t;ye.fn[e]=function(n){return Ye(this,function(e,n,i){var s=ie(e);return void 0===i?s?s[t]:e[n]:void(s?s.scrollTo(a?s.pageXOffset:i,a?i:s.pageYOffset):e[n]=i)},e,n,arguments.length)}}),ye.each(["top","left"],function(e,t){ye.cssHooks[t]=R(fe.pixelPosition,function(e,a){if(a)return a=O(e,t),tt.test(a)?ye(e).position()[t]+"px":a})}),ye.each({Height:"height",Width:"width"},function(e,t){ye.each({padding:"inner"+e,content:t,"":"outer"+e},function(a,n){ye.fn[n]=function(i,o){var d=arguments.length&&(a||"boolean"!=typeof i),r=a||(!0===i||!0===o?"margin":"border");return Ye(this,function(t,a,i){var o;return ye.isWindow(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,s(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?ye.css(t,a,r):ye.style(t,a,i,r)},t,d?i:void 0,d)}})}),ye.fn.extend({bind:function(e,t,a){return this.on(e,null,t,a)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,a,n){return this.on(t,e,a,n)},undelegate:function(e,t,a){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",a)}}),ye.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ye});var Ct=e.jQuery,Lt=e.$;return ye.noConflict=function(t){return e.$===ye&&(e.$=Lt),t&&e.jQuery===ye&&(e.jQuery=Ct),ye},t||(e.jQuery=e.$=ye),ye}),function(e){var t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(a,n,i){t.Backbone=e(t,i,a,n)});else if("undefined"!=typeof exports){var a=require("underscore"),n;try{n=require("jquery")}catch(t){}e(t,exports,a,n)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(function(e,t,a,n){var s=Math.max,o=e.Backbone,d=Array.prototype.slice;t.VERSION="1.3.3",t.$=n,t.noConflict=function(){return e.Backbone=o,this},t.emulateHTTP=!1,t.emulateJSON=!1;var r=function(e,t,n){return 1===e?function(){return a[t](this[n])}:2===e?function(e){return a[t](this[n],e)}:3===e?function(e,i){return a[t](this[n],l(e,this),i)}:4===e?function(e,i,s){return a[t](this[n],l(e,this),i,s)}:function(){var e=d.call(arguments);return e.unshift(this[n]),a[t].apply(a,e)}},c=function(e,t,n){a.each(t,function(t,i){a[i]&&(e.prototype[i]=r(t,i,n))})},l=function(e,t){return a.isFunction(e)?e:a.isObject(e)&&!t._isModel(e)?i(e):a.isString(e)?function(t){return t.get(e)}:e},i=function(e){var t=a.matches(e);return function(e){return t(e.attributes)}},p=t.Events={},u=/\s+/,m=function(e,t,n,s,o){var d=0,r;if(n&&"object"==typeof n)for(void 0!==s&&("context"in o)&&void 0===o.context&&(o.context=s),r=a.keys(n);d<r.length;d++)t=m(e,t,r[d],n[r[d]],o);else if(n&&u.test(n))for(r=n.split(u);d<r.length;d++)t=e(t,r[d],s,o);else t=e(t,n,s,o);return t};p.on=function(e,t,a){return g(this,e,t,a)};var g=function(e,t,a,n,i){if(e._events=m(h,e._events||{},t,a,{context:n,ctx:e,listening:i}),i){var s=e._listeners||(e._listeners={});s[i.id]=i}return e};p.listenTo=function(e,t,n){if(!e)return this;var i=e._listenId||(e._listenId=a.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),o=s[i];if(!o){var d=this._listenId||(this._listenId=a.uniqueId("l"));o=s[i]={obj:e,objId:i,id:d,listeningTo:s,count:0}}return g(e,t,n,this,o),this};var h=function(e,t,a,n){if(a){var i=e[t]||(e[t]=[]),s=n.context,o=n.ctx,d=n.listening;d&&d.count++,i.push({callback:a,context:s,ctx:s||o,listening:d})}return e};p.off=function(e,t,a){return this._events?(this._events=m(f,this._events,e,t,{context:a,listeners:this._listeners}),this):this},p.stopListening=function(e,t,n){var s=this._listeningTo;if(!s)return this;for(var o=e?[e._listenId]:a.keys(s),d=0,r;d<o.length&&(r=s[o[d]],!!r);d++)r.obj.off(t,n,this);return this};var f=function(e,t,n,s){if(e){var o=0,d=s.context,r=s.listeners,c;if(!t&&!n&&!d){for(var l=a.keys(r);o<l.length;o++)c=r[l[o]],delete r[c.id],delete c.listeningTo[c.objId];return}for(var p=t?[t]:a.keys(e);o<p.length;o++){t=p[o];var u=e[t];if(!u)break;for(var m=[],g=0,h;g<u.length;g++)h=u[g],n&&n!==h.callback&&n!==h.callback._callback||d&&d!==h.context?m.push(h):(c=h.listening,c&&0==--c.count&&(delete r[c.id],delete c.listeningTo[c.objId]));m.length?e[t]=m:delete e[t]}return e}};p.once=function(e,t,n){var i=m(v,{},e,t,a.bind(this.off,this));return"string"==typeof e&&null==n&&(t=void 0),this.on(i,t,n)},p.listenToOnce=function(e,t,n){var i=m(v,{},t,n,a.bind(this.stopListening,this,e));return this.listenTo(e,i)};var v=function(e,t,n,i){if(n){var s=e[t]=a.once(function(){i(t,s),n.apply(this,arguments)});s._callback=n}return e};p.trigger=function(e){if(!this._events)return this;for(var t=s(0,arguments.length-1),a=Array(t),n=0;n<t;n++)a[n]=arguments[n+1];return m(b,this._events,e,void 0,a),this};var b=function(e,t,a,n){if(e){var i=e[t],s=e.all;i&&s&&(s=s.slice()),i&&A(i,n),s&&A(s,[t].concat(n))}return e},A=function(e,t){var a=-1,n=e.length,s=t[0],o=t[1],d=t[2],r;switch(t.length){case 0:for(;++a<n;)(r=e[a]).callback.call(r.ctx);return;case 1:for(;++a<n;)(r=e[a]).callback.call(r.ctx,s);return;case 2:for(;++a<n;)(r=e[a]).callback.call(r.ctx,s,o);return;case 3:for(;++a<n;)(r=e[a]).callback.call(r.ctx,s,o,d);return;default:for(;++a<n;)(r=e[a]).callback.apply(r.ctx,t);}};p.bind=p.on,p.unbind=p.off,a.extend(t,p);var x=t.Model=function(e,t){var n=e||{};t||(t={}),this.cid=a.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{});var i=a.result(this,"defaults");n=a.defaults(a.extend({},i,n),i),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};a.extend(x.prototype,p,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return a.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!a.iteratee(e,this)(this.attributes)},set:function(e,t,n){if(null==e)return this;var s;if("object"==typeof e?(s=e,n=t):(s={})[e]=t,n||(n={}),!this._validate(s,n))return!1;var o=n.unset,d=n.silent,r=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=a.clone(this.attributes),this.changed={});var l=this.attributes,p=this.changed,u=this._previousAttributes;for(var m in s)t=s[m],a.isEqual(l[m],t)||r.push(m),a.isEqual(u[m],t)?delete p[m]:p[m]=t,o?delete l[m]:l[m]=t;if(this.idAttribute in s&&(this.id=this.get(this.idAttribute)),!d){r.length&&(this._pending=n);for(var g=0;g<r.length;g++)this.trigger("change:"+r[g],this,l[r[g]],n)}if(c)return this;if(!d)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,a.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,a.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!a.isEmpty(this.changed):a.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&a.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,n={};for(var i in e){var s=e[i];a.isEqual(t[i],s)||(n[i]=s)}return!!a.size(n)&&n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(e){e=a.extend({parse:!0},e);var t=this,n=e.success;return e.success=function(a){var i=e.parse?t.parse(a,e):a;return!!t.set(i,e)&&void(n&&n.call(e.context,t,a,e),t.trigger("sync",t,a,e))},I(this,e),this.sync("read",this,e)},save:function(e,t,n){var i;null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t,n=a.extend({validate:!0,parse:!0},n);var s=n.wait;if(i&&!s){if(!this.set(i,n))return!1;}else if(!this._validate(i,n))return!1;var o=this,d=n.success,r=this.attributes;n.success=function(e){o.attributes=r;var t=n.parse?o.parse(e,n):e;return s&&(t=a.extend({},i,t)),(!t||o.set(t,n))&&void(d&&d.call(n.context,o,e,n),o.trigger("sync",o,e,n))},I(this,n),i&&s&&(this.attributes=a.extend({},r,i));var c=this.isNew()?"create":n.patch?"patch":"update";"patch"!=c||n.attrs||(n.attrs=i);var l=this.sync(c,this,n);return this.attributes=r,l},destroy:function(e){e=e?a.clone(e):{};var t=this,n=e.success,i=e.wait,s=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(a){i&&s(),n&&n.call(e.context,t,a,e),t.isNew()||t.trigger("sync",t,a,e)};var o=!1;return this.isNew()?a.defer(e.success):(I(this,e),o=this.sync("delete",this,e)),i||s(),o},url:function(){var e=a.result(this,"urlRoot")||a.result(this.collection,"url")||Y();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},a.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=a.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return!n||(this.trigger("invalid",this,n,a.extend(t,{validationError:n})),!1)}});c(x,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var w=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,a.extend({silent:!0},t))},k={add:!0,remove:!0,merge:!0},S={add:!0,remove:!1},M=function(e,t,a){a=Math.min(s(a,0),e.length);var n=Array(e.length-a),o=t.length,d;for(d=0;d<n.length;d++)n[d]=e[d+a];for(d=0;d<o;d++)e[d+a]=t[d];for(d=0;d<n.length;d++)e[d+o+a]=n[d]};a.extend(w.prototype,p,{model:x,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,a.extend({merge:!1},t,S))},remove:function(e,t){t=a.extend({},t);var n=!a.isArray(e);e=n?[e]:e.slice();var i=this._removeModels(e,t);return!t.silent&&i.length&&(t.changes={added:[],merged:[],removed:i},this.trigger("update",this,t)),n?i[0]:i},set:function(e,t){if(null!=e){t=a.extend({},k,t),t.parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var n=!a.isArray(e);e=n?[e]:e.slice();var s=t.at;null!=s&&(s=+s),s>this.length&&(s=this.length),0>s&&(s+=this.length+1);var o=[],d=[],r=[],c=[],l={},p=t.add,u=t.merge,m=t.remove,g=!1,h=this.comparator&&null==s&&!1!==t.sort,f=a.isString(this.comparator)?this.comparator:null,v,b;for(b=0;b<e.length;b++){v=e[b];var A=this.get(v);if(A){if(u&&v!==A){var x=this._isModel(v)?v.attributes:v;t.parse&&(x=A.parse(x,t)),A.set(x,t),r.push(A),h&&!g&&(g=A.hasChanged(f))}l[A.cid]||(l[A.cid]=!0,o.push(A)),e[b]=A}else p&&(v=e[b]=this._prepareModel(v,t),v&&(d.push(v),this._addReference(v,t),l[v.cid]=!0,o.push(v)))}if(m){for(b=0;b<this.length;b++)v=this.models[b],l[v.cid]||c.push(v);c.length&&this._removeModels(c,t)}var w=!1;if(o.length&&!h&&p&&m?(w=this.length!==o.length||a.some(this.models,function(e,t){return e!==o[t]}),this.models.length=0,M(this.models,o,0),this.length=this.models.length):d.length&&(h&&(g=!0),M(this.models,d,null==s?this.length:s),this.length=this.models.length),g&&this.sort({silent:!0}),!t.silent){for(b=0;b<d.length;b++)null!=s&&(t.index=s+b),v=d[b],v.trigger("add",v,this,t);(g||w)&&this.trigger("sort",this,t),(d.length||c.length||r.length)&&(t.changes={added:d,removed:c,merged:r},this.trigger("update",this,t))}return n?e[0]:e}},reset:function(e,t){t=t?a.clone(t):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,a.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,a.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,a.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return d.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[this.modelId(e.attributes||e)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return 0>e&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var n=t.length;return a.isFunction(t)&&(t=a.bind(t,this)),1===n||a.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){e=a.extend({parse:!0},e);var t=e.success,n=this;return e.success=function(a){var i=e.reset?"reset":"set";n[i](a,e),t&&t.call(e.context,n,a,e),n.trigger("sync",n,a,e)},I(this,e),this.sync("read",this,e)},create:function(e,t){t=t?a.clone(t):{};var n=t.wait;if(e=this._prepareModel(e,t),!e)return!1;n||this.add(e,t);var i=this,s=t.success;return t.success=function(e,t,a){n&&i.add(e,a),s&&s.call(a.context,e,t,a)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?a.clone(t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_removeModels:function(e,t){for(var a=[],n=0,s;n<e.length;n++)if(s=this.get(e[n]),s){var o=this.indexOf(s);this.models.splice(o,1),this.length--,delete this._byId[s.cid];var d=this.modelId(s.attributes);null!=d&&delete this._byId[d],t.silent||(t.index=o,s.trigger("remove",s,this,t)),a.push(s),this._removeReference(s,t)}return a},_isModel:function(e){return e instanceof x},_addReference:function(e){this._byId[e.cid]=e;var t=this.modelId(e.attributes);null!=t&&(this._byId[t]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e){delete this._byId[e.cid];var t=this.modelId(e.attributes);null!=t&&delete this._byId[t],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,a,n){if(t){if(("add"===e||"remove"===e)&&a!==this)return;if("destroy"===e&&this.remove(t,n),"change"===e){var i=this.modelId(t.previousAttributes()),s=this.modelId(t.attributes);i!==s&&(null!=i&&delete this._byId[i],null!=s&&(this._byId[s]=t))}}this.trigger.apply(this,arguments)}});c(w,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var C=t.View=function(e){this.cid=a.uniqueId("view"),a.extend(this,a.pick(e,L)),this._ensureElement(),this.initialize.apply(this,arguments)},L=["model","collection","el","id","attributes","className","tagName","events"];a.extend(C.prototype,p,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=a.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var n=e[t];if(a.isFunction(n)||(n=this[n]),n){var i=t.match(/^(\S+)\s*(.*)$/);this.delegate(i[1],i[2],a.bind(n,this))}}return this},delegate:function(e,t,a){return this.$el.on(e+".delegateEvents"+this.cid,t,a),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,a){return this.$el.off(e+".delegateEvents"+this.cid,t,a),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(!this.el){var e=a.extend({},a.result(this,"attributes"));this.id&&(e.id=a.result(this,"id")),this.className&&(e["class"]=a.result(this,"className")),this.setElement(this._createElement(a.result(this,"tagName"))),this._setAttributes(e)}else this.setElement(a.result(this,"el"))},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,n,i){var s=T[e];a.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};if(i.url||(o.url=a.result(n,"url")||Y()),null==i.data&&n&&("create"===e||"update"===e||"patch"===e)&&(o.contentType="application/json",o.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",i.emulateJSON&&(o.data._method=s);var d=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",s),d)return d.apply(this,arguments)}}"GET"===o.type||i.emulateJSON||(o.processData=!1);var r=i.error;i.error=function(e,t,a){i.textStatus=t,i.errorThrown=a,r&&r.call(i.context,e,t,a)};var c=i.xhr=t.ajax(a.extend(o,i));return n.trigger("request",n,c,i),c};var T={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var E=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)};a.extend(E.prototype,p,{initialize:function(){},route:function(e,n,i){a.isRegExp(e)||(e=this._routeToRegExp(e)),a.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var s=this;return t.history.route(e,function(a){var o=s._extractParameters(e,a);!1!==s.execute(i,o,n)&&(s.trigger.apply(s,["route:"+n].concat(o)),s.trigger("route",n,o),t.history.trigger("route",s,n,o))}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,a){return t.history.navigate(e,a),this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");for(var e=a.keys(this.routes),t;null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(e){return e=e.replace(/[\-{}\[\]+?.,\\\^$|#\s]/g,"\\$&").replace(/\((.*?)\)/g,"(?:$1)?").replace(/(\(\?)?:\w+/g,function(e,t){return t?e:"([^/?]+)"}).replace(/\*\w+/g,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return a.map(n,function(e,t){return t===n.length-1?e||null:e?decodeURIComponent(e):null})}});var D=t.History=function(){this.handlers=[],this.checkUrl=a.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)};D.started=!1,a.extend(D.prototype,p,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(this._usePushState||!this._wantsHashChange?e=this.getPath():e=this.getHash()),e.replace(/^[#\/]|\s+$/g,"")},start:function(e){if(D.started)throw new Error("Backbone.history has already been started");if(D.started=!0,this.options=a.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(/^\/+|\/+$/g,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,i=n.insertBefore(this.iframe,n.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var s=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&void(this.iframe&&this.navigate(e),this.loadUrl())},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),a.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!D.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var a=this.root;(""===e||"?"===e.charAt(0))&&(a=a.slice(0,-1)||"/");var n=a+e;if(e=this.decodeFragment(e.replace(/#.*$/,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;t.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,a){if(a){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}}),t.history=new D;x.extend=w.extend=E.extend=C.extend=D.extend=function(e,t){var n=this,i;return i=e&&a.has(e,"constructor")?e.constructor:function(){return n.apply(this,arguments)},a.extend(i,n,t),i.prototype=a.create(n.prototype,e),i.prototype.constructor=i,i.__super__=n.prototype,i};var Y=function(){throw new Error("A \"url\" property or function must be specified")},I=function(e,t){var a=t.error;t.error=function(n){a&&a.call(t.context,e,n,t),e.trigger("error",e,n,t)}};return t}),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("moment",e):t.moment=e()}(this,function(){"use strict";var oe=Math.round,ve=Math.abs,be=Math.ceil,we=Math.floor,Oe=Math.min;function He(){return yi.apply(null,arguments)}function M(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function Pe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;for(var e in t)if(Pe(t,e))return;return 1}function o(t){return void 0===t}function Be(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function d(n,e){for(var a=[],t=0;t<n.length;++t)a.push(e(n[t],t));return a}function u(n,e){for(var a in e)Pe(e,a)&&(n[a]=e[a]);return Pe(e,"toString")&&(n.toString=e.toString),Pe(e,"valueOf")&&(n.valueOf=e.valueOf),n}function l(n,e,a,t){return va(n,e,a,t,!0).utc()}function c(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function m(n){if(null==n._isValid){var e=c(n),a=bi.call(e.parsedDateParts,function(t){return null!=t}),t=!isNaN(n._d.getTime())&&0>e.overflow&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&a);if(n._strict&&(t=t&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(n))return t;n._isValid=t}return n._isValid}function L(t){var e=l(NaN);return null==t?c(e).userInvalidated=!0:u(c(e),t),e}function Y(i,e){var a,d,r;if(o(e._isAMomentObject)||(i._isAMomentObject=e._isAMomentObject),o(e._i)||(i._i=e._i),o(e._f)||(i._f=e._f),o(e._l)||(i._l=e._l),o(e._strict)||(i._strict=e._strict),o(e._tzm)||(i._tzm=e._tzm),o(e._isUTC)||(i._isUTC=e._isUTC),o(e._offset)||(i._offset=e._offset),o(e._pf)||(i._pf=c(e)),o(e._locale)||(i._locale=e._locale),0<Ai.length)for(a=0;a<Ai.length;a++)o(r=e[d=Ai[a]])||(i[d]=r);return i}function p(t){Y(this,t),this._d=new Date(null==t._d?NaN:t._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1===f&&(f=!0,He.updateOffset(this),f=!1)}function k(t){return t instanceof p||null!=t&&null!=t._isAMomentObject}function D(t){!1===He.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function T(i,n){var o=!0;return u(function(){if(null!=He.deprecationHandler&&He.deprecationHandler(null,i),o){for(var d=[],t=0,r,c;t<arguments.length;t++){if(r="","object"==typeof arguments[t]){for(c in r+="\n["+t+"] ",arguments[0])Pe(arguments[0],c)&&(r+=c+": "+arguments[0][c]+", ");r=r.slice(0,-2)}else r=arguments[t];d.push(r)}D(i+"\nArguments: "+Array.prototype.slice.call(d).join("")+"\n"+new Error().stack),o=!1}return n.apply(this,arguments)},n)}function qe(t,e){null!=He.deprecationHandler&&He.deprecationHandler(t,e),xi[t]||(D(e),xi[t]=!0)}function w(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function v(n,e){var a=u({},n),s;for(s in e)Pe(e,s)&&(i(n[s])&&i(e[s])?(a[s]={},u(a[s],n[s]),u(a[s],e[s])):null==e[s]?delete a[s]:a[s]=e[s]);for(s in n)Pe(n,s)&&!Pe(e,s)&&i(n[s])&&(a[s]=u({},a[s]));return a}function b(t){null!=t&&this.set(t)}function S(i,e,a){var t=""+ve(i),s=e-t.length;return(0<=i?a?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+t}function H(i,e,a,t){var s="string"==typeof t?function(){return this[t]()}:t;i&&(P[i]=s),e&&(P[e[0]]=function(){return S(s.apply(this,arguments),e[1],e[2])}),a&&(P[a]=function(){return this.localeData().ordinal(s.apply(this,arguments),i)})}function W(t,e){return t.isValid()?(e=A(e,t.localeData()),x[e]=x[e]||function(i){for(var s=i.match(wi),t=0,n=s.length,o;t<n;t++)s[t]=P[s[t]]?P[s[t]]:(o=s[t]).match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"");return function(o){for(var e="",d=0;d<n;d++)e+=w(s[d])?s[d].call(o,i):s[d];return e}}(e),x[e](t)):t.localeData().invalidDate()}function A(n,i){function a(t){return i.longDateFormat(t)||t}var s=5;for(j.lastIndex=0;0<=s&&j.test(n);)n=n.replace(j,a),j.lastIndex=0,--s;return n}function t(n,e){var a=n.toLowerCase();O[a]=O[a+"s"]=O[e]=n}function E(t){return"string"==typeof t?O[t]||O[t.toLowerCase()]:void 0}function N(n){var e={},i,s;for(s in n)Pe(n,s)&&(i=E(s))&&(e[i]=n[s]);return e}function z(t,e){F[t]=e}function C(t){return 0==t%4&&0!=t%100||0==t%400}function I(t){return 0>t?be(t)||0:we(t)}function U(n){var e=+n,a=0;return 0!=e&&isFinite(e)&&(a=I(e)),a}function G(n,a){return function(t){return null==t?V(this,n):(B(this,n,t),He.updateOffset(this,a),this)}}function V(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function B(n,e,a){n.isValid()&&!isNaN(a)&&("FullYear"===e&&C(n.year())&&1===n.month()&&29===n.date()?(a=U(a),n._d["set"+(n._isUTC?"UTC":"")+e](a,n.month(),Le(a,n.month()))):n._d["set"+(n._isUTC?"UTC":"")+e](a))}function J(a,n,t){ue[a]=w(n)?n:function(a){return a&&t?t:n}}function K(t,e){return Pe(ue,t)?ue[t](e._strict,e._locale):new RegExp(le(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(i,e,a,t,s){return e||a||t||s})))}function le(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function he(n,i){var t=i,o;for("string"==typeof n&&(n=[n]),Be(i)&&(t=function(t,e){e[i]=U(t)}),o=0;o<n.length;o++)Si[n[o]]=t}function Me(t,i){he(t,function(n,e,a,t){a._w=a._w||{},i(n,a._w,a,t)})}function Le(n,i){if(isNaN(n)||isNaN(i))return NaN;var a=(i%(s=12)+s)%s,s;return n+=(i-a)/12,1==a?C(n)?29:28:31-a%7%2}function Se(n,e){var i;if(!n.isValid())return n;if("string"==typeof e)if(/^\d+$/.test(e))e=U(e);else if(!Be(e=n.localeData().monthsParse(e)))return n;return i=Oe(n.date(),Le(n.year(),e)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](e,i),n}function Ye(t){return null==t?V(this,"Month"):(Se(this,t),He.updateOffset(this,!0),this)}function Ae(){function i(t,e){return e.length-t.length}for(var e=[],t=[],s=[],n=0,o;12>n;n++)o=l([2e3,n]),e.push(this.monthsShort(o,"")),t.push(this.months(o,"")),s.push(this.months(o,"")),s.push(this.monthsShort(o,""));for(e.sort(i),t.sort(i),s.sort(i),n=0;12>n;n++)e[n]=le(e[n]),t[n]=le(t[n]);for(n=0;24>n;n++)s[n]=le(s[n]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Ee(t){return C(t)?366:365}function Fe(n){var e,i;return 100>n&&0<=n?((i=Array.prototype.slice.call(arguments))[0]=n+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(n)):e=new Date(Date.UTC.apply(null,arguments)),e}function Ne(n,e,a){var t=7+e-a;return t-(7+Fe(n,0,t).getUTCDay()-e)%7-1}function We(o,e,a,t,s){var n=1+7*(e-1)+(7+a-t)%7+Ne(o,t,s),d=0>=n?Ee(i=o-1)+n:n>Ee(o)?(i=o+1,n-Ee(o)):(i=o,n),i;return{year:i,dayOfYear:d}}function Re(i,e,a){var t=Ne(i.year(),e,a),o=we((i.dayOfYear()-t-1)/7)+1,d,r;return 1>o?d=o+Ce(r=i.year()-1,e,a):o>Ce(i.year(),e,a)?(d=o-Ce(i.year(),e,a),r=i.year()+1):(r=i.year(),d=o),{week:d,year:r}}function Ce(i,e,a){var t=Ne(i,e,a),s=Ne(i+1,e,a);return(Ee(i)-t+s)/7}function Ie(t,e){return t.slice(e,7).concat(t.slice(0,e))}function Ue(){function c(t,e){return e.length-t.length}for(var e=[],r=[],d=[],i=[],p=0,u,m,g,h;7>p;p++)u=l([2e3,1]).day(p),m=le(this.weekdaysMin(u,"")),g=le(this.weekdaysShort(u,"")),h=le(this.weekdays(u,"")),e.push(m),r.push(g),d.push(h),i.push(m),i.push(g),i.push(h);e.sort(c),r.sort(c),d.sort(c),i.sort(c),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function $e(){return this.hours()%12||12}function Ge(t,e){H(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Qe(t,e){return e._meridiemParse}function Je(t){return t?t.toLowerCase().replace("_","-"):t}function Ke(i){for(var e=0,o,d,c,l;e<i.length;){for(o=(l=Je(i[e]).split("-")).length,d=(d=Je(i[e+1]))?d.split("-"):null;0<o;){if(c=Xe(l.slice(0,o).join("-")))return c;if(d&&d.length>=o&&function(n,e){for(var a=Oe(n.length,e.length),t=0;t<a;t+=1)if(n[t]!==e[t])return t;return a}(l,d)>=o-1)break;o--}e++}return pa}function Xe(t){var a;if(void 0===sa[t]&&"undefined"!=typeof module&&module&&module.exports)try{a=pa._abbr,require("./locale/"+t),Ze(a)}catch(a){sa[t]=null}return sa[t]}function Ze(n,e){var a;return n&&((a=o(e)?ea(n):nt(n,e))?pa=a:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),pa._abbr}function nt(n,e){if(null===e)return delete sa[n],null;var a=aa,i;if(e.abbr=n,null!=sa[n])qe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=sa[n]._config;else if(null!=e.parentLocale)if(null!=sa[e.parentLocale])a=sa[e.parentLocale]._config;else{if(null==(i=Xe(e.parentLocale)))return na[e.parentLocale]||(na[e.parentLocale]=[]),na[e.parentLocale].push({name:n,config:e}),null;a=i._config}return sa[n]=new b(v(a,e)),na[n]&&na[n].forEach(function(t){nt(t.name,t.config)}),Ze(n),sa[n]}function ea(t){var n;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return pa;if(!M(t)){if(n=Xe(t))return n;t=[t]}return Ke(t)}function ia(n){var e=n._a,t;return e&&-2===c(n).overflow&&(t=0>e[1]||11<e[1]?1:1>e[2]||e[2]>Le(e[0],e[1])?2:0>e[3]||24<e[3]||24===e[3]&&(0!==e[4]||0!==e[5]||0!==e[6])?3:0>e[4]||59<e[4]?4:0>e[5]||59<e[5]?5:0>e[6]||999<e[6]?6:-1,c(n)._overflowDayOfYear&&(t<0||2<t)&&(t=2),c(n)._overflowWeeks&&-1===t&&(t=7),c(n)._overflowWeekday&&-1===t&&(t=8),c(n).overflow=t),n}function oa(o){var e=o._i,i=ra.exec(e)||Ma.exec(e),l,p,u,m,g,h;if(i){for(c(o).iso=!0,l=0,p=ca.length;l<p;l++)if(ca[l][1].exec(i[1])){m=ca[l][0],u=!1!==ca[l][2];break}if(null==m)return void(o._isValid=!1);if(i[3]){for(l=0,p=La.length;l<p;l++)if(La[l][1].exec(i[3])){g=(i[2]||" ")+La[l][0];break}if(null==g)return void(o._isValid=!1)}if(!u&&null!=g)return void(o._isValid=!1);if(i[4]){if(!ha.exec(i[4]))return void(o._isValid=!1);h="Z"}o._f=m+(g||"")+(h||""),ga(o)}else o._isValid=!1}function da(i,e,a,t,s,n){var o=[function(t){var e=parseInt(t,10);{if(49>=e)return 2e3+e;if(999>=e)return 1900+e}return e}(i),Mi.indexOf(e),parseInt(a,10),parseInt(t,10),parseInt(s,10)];return n&&o.push(parseInt(n,10)),o}function la(i){var e=ya.exec(i._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")),o,d,r,l;if(e){if(o=da(e[4],e[3],e[2],e[5],e[6],e[7]),d=e[1],r=o,l=i,d&&ze.indexOf(d)!==new Date(r[0],r[1],r[2]).getDay()&&(c(l).weekdayMismatch=!0,!void(l._isValid=!1)))return;i._a=o,i._tzm=function(i,e,a){if(i)return fa[i];if(e)return 0;var t=parseInt(a,10),s=t%100;return 60*((t-s)/100)+s}(e[8],e[9],e[10]),i._d=Fe.apply(null,i._a),i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),c(i).rfc2822=!0}else i._isValid=!1}function ua(n,e,a){return null==n?null==e?a:e:n}function ma(o){var e=[],l,p,u,m,g,h,f;if(!o._d){for(h=o,f=new Date(He.now()),u=h._useUTC?[f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()]:[f.getFullYear(),f.getMonth(),f.getDate()],o._w&&null==o._a[2]&&null==o._a[1]&&function(l){var e,p,u,m,g,h,f,v,b;null!=(e=l._w).GG||null!=e.W||null!=e.E?(g=1,h=4,p=ua(e.GG,l._a[0],Re(ba(),1,4).year),u=ua(e.W,1),(1>(m=ua(e.E,1))||7<m)&&(v=!0)):(g=l._locale._week.dow,h=l._locale._week.doy,b=Re(ba(),g,h),p=ua(e.gg,l._a[0],b.year),u=ua(e.w,b.week),null==e.d?null==e.e?m=g:(m=e.e+g,(0>e.e||6<e.e)&&(v=!0)):(0>(m=e.d)||6<m)&&(v=!0)),1>u||u>Ce(p,g,h)?c(l)._overflowWeeks=!0:null==v?(f=We(p,u,m,g,h),l._a[0]=f.year,l._dayOfYear=f.dayOfYear):c(l)._overflowWeekday=!0}(o),null!=o._dayOfYear&&(g=ua(o._a[0],u[0]),(o._dayOfYear>Ee(g)||0===o._dayOfYear)&&(c(o)._overflowDayOfYear=!0),p=Fe(g,0,o._dayOfYear),o._a[1]=p.getUTCMonth(),o._a[2]=p.getUTCDate()),l=0;3>l&&null==o._a[l];++l)o._a[l]=e[l]=u[l];for(;7>l;l++)o._a[l]=e[l]=null==o._a[l]?2===l?1:0:o._a[l];24===o._a[3]&&0===o._a[4]&&0===o._a[5]&&0===o._a[6]&&(o._nextDay=!0,o._a[3]=0),o._d=(o._useUTC?Fe:function(o,e,a,t,s,n,r){var d;return 100>o&&0<=o?(d=new Date(o+400,e,a,t,s,n,r),isFinite(d.getFullYear())&&d.setFullYear(o)):d=new Date(o,e,a,t,s,n,r),d}).apply(null,e),m=o._useUTC?o._d.getUTCDay():o._d.getDay(),null!=o._tzm&&o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),o._nextDay&&(o._a[3]=24),o._w&&void 0!==o._w.d&&o._w.d!==m&&(c(o).weekdayMismatch=!0)}}function ga(p){if(!(p._f!==He.ISO_8601))oa(p);else if(p._f!==He.RFC_2822){p._a=[],c(p).empty=!0;for(var e=""+p._i,g=e.length,o=0,h=A(p._f,p._locale).match(wi)||[],u=0,f,v,b,x,w,k,S;u<h.length;u++)v=h[u],(f=(e.match(K(v,p))||[])[0])&&(0<(b=e.substr(0,e.indexOf(f))).length&&c(p).unusedInput.push(b),e=e.slice(e.indexOf(f)+f.length),o+=f.length),P[v]?(f?c(p).empty=!1:c(p).unusedTokens.push(v),w=v,S=p,null!=(k=f)&&Pe(Si,w)&&Si[w](k,S._a,S,w)):p._strict&&!f&&c(p).unusedTokens.push(v);c(p).charsLeftOver=g-o,0<e.length&&c(p).unusedInput.push(e),12>=p._a[3]&&!0===c(p).bigHour&&0<p._a[3]&&(c(p).bigHour=void 0),c(p).parsedDateParts=p._a.slice(0),c(p).meridiem=p._meridiem,p._a[3]=function(n,e,i){var t;return null==i?e:null==n.meridiemHour?(null!=n.isPM&&((t=n.isPM(i))&&12>e&&(e+=12),t||12!==e||(e=0)),e):n.meridiemHour(e,i)}(p._locale,p._a[3],p._meridiem),null!==(x=c(p).era)&&(p._a[0]=p._locale.erasConvertYear(x,p._a[0])),ma(p),ia(p)}else la(p)}function _a(l){var e=l._i,g=l._f,n,h;return l._locale=l._locale||ea(l._l),null===e||void 0===g&&""===e?L({nullInput:!0}):("string"==typeof e&&(l._i=e=l._locale.preparse(e)),k(e)?new p(ia(e)):(r(e)?l._d=e:M(g)?function(o){var e=!1,l,p,g,h,f,v;if(0===o._f.length)return c(o).invalidFormat=!0,o._d=new Date(NaN);for(h=0;h<o._f.length;h++)f=0,v=!1,l=Y({},o),null!=o._useUTC&&(l._useUTC=o._useUTC),l._f=o._f[h],ga(l),m(l)&&(v=!0),f+=c(l).charsLeftOver,f+=10*c(l).unusedTokens.length,c(l).score=f,e?f<g&&(g=f,p=l):(null==g||f<g||v)&&(g=f,p=l,v&&(e=!0));u(o,p||l)}(l):g?ga(l):o(h=(n=l)._i)?n._d=new Date(He.now()):r(h)?n._d=new Date(h.valueOf()):"string"==typeof h?function(t){var e=Ya.exec(t._i);null===e?(oa(t),!1===t._isValid&&(delete t._isValid,la(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:He.createFromInputFallback(t)))):t._d=new Date(+e[1])}(n):M(h)?(n._a=d(h.slice(0),function(t){return parseInt(t,10)}),ma(n)):i(h)?function(n){var e,i;n._d||(i=void 0===(e=N(n._i)).day?e.date:e.day,n._a=d([e.year,e.month,i,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ma(n))}(n):Be(h)?n._d=new Date(h):He.createFromInputFallback(n),m(l)||(l._d=null),l))}function va(o,c,l,u,m){var n={},d;return!0!==c&&!1!==c||(u=c,c=void 0),!0!==l&&!1!==l||(u=l,l=void 0),(i(o)&&h(o)||M(o)&&0===o.length)&&(o=void 0),n._isAMomentObject=!0,n._useUTC=n._isUTC=m,n._l=l,n._i=o,n._f=c,n._strict=u,(d=new p(ia(_a(n))))._nextDay&&(d.add(1,"d"),d._nextDay=void 0),d}function ba(n,e,a,t){return va(n,e,a,t,!1)}function wa(n,e){var i,o;if(1===e.length&&M(e[0])&&(e=e[0]),!e.length)return ba();for(i=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][n](i)||(i=e[o]);return i}function ka(c){var e=N(c),a=e.year||0,t=e.quarter||0,s=e.month||0,n=e.week||e.isoWeek||0,r=e.day||0,d=e.hour||0,i=e.minute||0,l=e.second||0,o=e.millisecond||0;this._isValid=function(n){var e=!1,i,o;for(i in n)if(Pe(n,i)&&(-1===ge.call(xa,i)||null!=n[i]&&isNaN(n[i])))return!1;for(o=0;o<xa.length;++o)if(n[xa[o]]){if(e)return!1;parseFloat(n[xa[o]])!==U(n[xa[o]])&&(e=!0)}return!0}(e),this._milliseconds=+o+1e3*l+6e4*i+60*(60*(1e3*d)),this._days=+r+7*n,this._months=+s+3*t+12*a,this._data={},this._locale=ea(),this._bubble()}function Sa(t){return t instanceof ka}function Aa(t){return 0>t?-1*oe(-1*t):oe(t)}function Ta(a,n){H(a,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+S(~~(t/60),2)+n+S(~~t%60,2)})}function Ea(i,e){var a=(e||"").match(i),n,o;return null===a?null:0===(o=60*(n=((a[a.length-1]||[])+"").match(Oa)||["-",0,0])[1]+U(n[2]))?0:"+"===n[0]?o:-o}function Da(n,e){var a,i;return e._isUTC?(a=e.clone(),i=(k(n)||r(n)?n.valueOf():ba(n).valueOf())-a.valueOf(),a._d.setTime(a._d.valueOf()+i),He.updateOffset(a,!1),a):ba(n).local()}function Na(t){return-oe(t._d.getTimezoneOffset())}function Ra(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Ca(i,e){var a=i,o=null,c,l,p;return Sa(i)?a={ms:i._milliseconds,d:i._days,M:i._months}:Be(i)||!isNaN(+i)?(a={},e?a[e]=+i:a.milliseconds=+i):(o=za.exec(i))?(c="-"===o[1]?-1:1,a={y:0,d:U(o[2])*c,h:U(o[3])*c,m:U(o[4])*c,s:U(o[5])*c,ms:U(Aa(1e3*o[6]))*c}):(o=Ia.exec(i))?(c="-"===o[1]?-1:1,a={y:Ha(o[2],c),M:Ha(o[3],c),w:Ha(o[4],c),d:Ha(o[5],c),h:Ha(o[6],c),m:Ha(o[7],c),s:Ha(o[8],c)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(p=function(n,e){var i;return n.isValid()&&e.isValid()?(e=Da(e,n),n.isBefore(e)?i=Pa(n,e):((i=Pa(e,n)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}(ba(a.from),ba(a.to)),(a={}).ms=p.milliseconds,a.M=p.months),l=new ka(a),Sa(i)&&Pe(i,"_locale")&&(l._locale=i._locale),Sa(i)&&Pe(i,"_isValid")&&(l._isValid=i._isValid),l}function Ha(n,e){var a=n&&parseFloat(n.replace(",","."));return(isNaN(a)?0:a)*e}function Pa(n,e){var a={};return a.months=e.month()-n.month()+12*(e.year()-n.year()),n.clone().add(a.months,"M").isAfter(e)&&--a.months,a.milliseconds=e-n.clone().add(a.months,"M"),a}function Ba(i,s){return function(n,o){var d;return null===o||isNaN(+o)||(qe(s,"moment()."+s+"(period, number) is deprecated. Please use moment()."+s+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),d=n,n=o,o=d),Fa(this,Ca(n,o),i),this}}function Fa(i,e,a,t){var o=e._milliseconds,n=Aa(e._days),r=Aa(e._months);i.isValid()&&(t=null==t||t,r&&Se(i,V(i,"Month")+r*a),n&&B(i,"Date",V(i,"Date")+n*a),o&&i._d.setTime(i._d.valueOf()+o*a),t&&He.updateOffset(i,n||r))}function Va(t){return"string"==typeof t||t instanceof String}function qa(t){return k(t)||r(t)||Va(t)||Be(t)||function(n){var a=M(n),e=!1;return a&&(e=0===n.filter(function(t){return!Be(t)&&Va(n)}).length),a&&e}(t)||function(o){var e=i(o)&&!h(o),s=!1,d=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,c;for(r=0;r<d.length;r+=1)c=d[r],s=s||Pe(o,c);return e&&s}(t)||null==t}function Wa(i,e){if(i.date()<e.date())return-Wa(e,i);var a=12*(e.year()-i.year())+(e.month()-i.month()),t=i.clone().add(a,"months"),s=0>e-t?(e-t)/(t-i.clone().add(a-1,"months")):(e-t)/(i.clone().add(1+a,"months")-t);return-(a+s)||0}function et(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ea(t))&&(this._locale=e),this)}function at(){return this._locale}function st(t,e){return(t%e+e)%e}function rt(n,e,a){return 100>n&&0<=n?new Date(n+400,e,a)-12622780800000:new Date(n,e,a).valueOf()}function dt(n,e,a){return 100>n&&0<=n?Date.UTC(n+400,e,a)-12622780800000:Date.UTC(n,e,a)}function it(t,e){return e.erasAbbrRegex(t)}function _t(){for(var i=[],e=[],a=[],t=[],s=this.eras(),n=0,o=s.length;n<o;++n)e.push(le(s[n].name)),i.push(le(s[n].abbr)),a.push(le(s[n].narrow)),t.push(le(s[n].name)),t.push(le(s[n].abbr)),t.push(le(s[n].narrow));this._erasRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function ot(t,e){H(0,[t,t.length],0,e)}function mt(i,e,o,t,s){var n;return null==i?Re(this,t,s).year:((n=Ce(i,t,s))<e&&(e=n),function(i,e,a,t,s){var n=We(i,e,a,t,s),o=Fe(n.year,0,n.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,i,e,o,t,s))}function ut(t,e){e[6]=U(1e3*("0."+t))}function Yt(t){return t}function ft(i,e,a,t){var s=ea(),n=l().set(t,e);return s[a](n,i)}function kt(i,o,d){if(Be(i)&&(o=i,i=void 0),i=i||"",null!=o)return ft(i,o,d,"month");for(var t=[],s=0;12>s;s++)t[s]=ft(i,s,d,"month");return t}function Dt(o,c,l,p){c=("boolean"==typeof o?Be(c)&&(l=c,c=void 0):(c=o,o=!1,Be(l=c)&&(l=c,c=void 0)),c||"");var s=ea(),r=o?s._week.dow:0,d=[],i;if(null!=l)return ft(c,(l+r)%7,p,"day");for(i=0;7>i;i++)d[i]=ft(c,(i+r)%7,p,"day");return d}function Tt(i,e,a,t){var s=Ca(e,a);return i._milliseconds+=t*s._milliseconds,i._days+=t*s._days,i._months+=t*s._months,i._bubble()}function wt(t){return 0>t?we(t):be(t)}function vt(t){return 4800*t/146097}function bt(t){return 146097*t/4800}function St(t){return function(){return this.as(t)}}function Ht(t){return function(){return this.isValid()?this._data[t]:NaN}}function Nt(c,e,a,t){var s=Ca(c).abs(),n=Vt(s.as("s")),r=Vt(s.as("m")),d=Vt(s.as("h")),i=Vt(s.as("d")),p=Vt(s.as("M")),o=Vt(s.as("w")),m=Vt(s.as("y")),u=(n<=a.ss?["s",n]:n<a.s&&["ss",n])||1>=r&&["m"]||r<a.m&&["mm",r]||1>=d&&["h"]||d<a.h&&["hh",d]||1>=i&&["d"]||i<a.d&&["dd",i];return null!=a.w&&(u=u||1>=o&&["w"]||o<a.w&&["ww",o]),(u=u||1>=p&&["M"]||p<a.M&&["MM",p]||1>=m&&["y"]||["yy",m])[2]=e,u[3]=0<+c,u[4]=t,function(i,e,a,t,s){return s.relativeTime(e||1,!!a,i,t)}.apply(null,u)}function qt(t){return(0<t)-(0>t)||+t}function $t(){if(!this.isValid())return this.localeData().invalidDate();var c=Kt(this._milliseconds)/1e3,l=Kt(this._days),o=Kt(this._months),p=this.asSeconds(),u,g,h,f,v,b,A,x;return p?(u=I(c/60),g=I(u/60),c%=60,u%=60,h=I(o/12),o%=12,f=c?c.toFixed(3).replace(/\.?0+$/,""):"",v=0>p?"-":"",b=qt(this._months)===qt(p)?"":"-",A=qt(this._days)===qt(p)?"":"-",x=qt(this._milliseconds)===qt(p)?"":"-",v+"P"+(h?b+h+"Y":"")+(o?b+o+"M":"")+(l?A+l+"D":"")+(g||u||c?"T":"")+(g?x+g+"H":"")+(u?x+u+"M":"")+(c?x+f+"S":"")):"P0D"}function Qt(t){return 0===t?0:1===t?1:2===t?2:3<=t%100&&10>=t%100?3:11<=t%100?4:5}function Ga(t){return function(i,e){var a=Qt(i),n=Xt[t][Qt(i)];return 2===a&&(n=n[e?0:1]),n.replace(/%d/i,i)}}function Qa(t){return 0===t?0:1===t?1:2===t?2:3<=t%100&&10>=t%100?3:11<=t%100?4:5}function Ja(t){return function(i,e){var a=Qa(i),n=Ii[t][Qa(i)];return 2===a&&(n=n[e?0:1]),n.replace(/%d/i,i)}}function Ka(t){return 0===t?0:1===t?1:2===t?2:3<=t%100&&10>=t%100?3:11<=t%100?4:5}function Xa(t){return function(i,e){var a=Ka(i),n=Pi[t][Ka(i)];return 2===a&&(n=n[e?0:1]),n.replace(/%d/i,i)}}function ei(i,e,a){var t,o;return"m"===a?e?"\u0445\u0432\u0456\u043B\u0456\u043D\u0430":"\u0445\u0432\u0456\u043B\u0456\u043D\u0443":"h"===a?e?"\u0433\u0430\u0434\u0437\u0456\u043D\u0430":"\u0433\u0430\u0434\u0437\u0456\u043D\u0443":i+" "+(t=+i,o={ss:e?"\u0441\u0435\u043A\u0443\u043D\u0434\u0430_\u0441\u0435\u043A\u0443\u043D\u0434\u044B_\u0441\u0435\u043A\u0443\u043D\u0434":"\u0441\u0435\u043A\u0443\u043D\u0434\u0443_\u0441\u0435\u043A\u0443\u043D\u0434\u044B_\u0441\u0435\u043A\u0443\u043D\u0434",mm:e?"\u0445\u0432\u0456\u043B\u0456\u043D\u0430_\u0445\u0432\u0456\u043B\u0456\u043D\u044B_\u0445\u0432\u0456\u043B\u0456\u043D":"\u0445\u0432\u0456\u043B\u0456\u043D\u0443_\u0445\u0432\u0456\u043B\u0456\u043D\u044B_\u0445\u0432\u0456\u043B\u0456\u043D",hh:e?"\u0433\u0430\u0434\u0437\u0456\u043D\u0430_\u0433\u0430\u0434\u0437\u0456\u043D\u044B_\u0433\u0430\u0434\u0437\u0456\u043D":"\u0433\u0430\u0434\u0437\u0456\u043D\u0443_\u0433\u0430\u0434\u0437\u0456\u043D\u044B_\u0433\u0430\u0434\u0437\u0456\u043D",dd:"\u0434\u0437\u0435\u043D\u044C_\u0434\u043D\u0456_\u0434\u0437\u0451\u043D",MM:"\u043C\u0435\u0441\u044F\u0446_\u043C\u0435\u0441\u044F\u0446\u044B_\u043C\u0435\u0441\u044F\u0446\u0430\u045E",yy:"\u0433\u043E\u0434_\u0433\u0430\u0434\u044B_\u0433\u0430\u0434\u043E\u045E"}[a].split("_"),1==t%10&&11!=t%100?o[0]:2<=t%10&&4>=t%10&&(10>t%100||20<=t%100)?o[1]:o[2])}function ti(n,e,a){var t;return n+" "+(t={mm:"munutenn",MM:"miz",dd:"devezh"}[a],2===n?function(t){var e={m:"v",b:"v",d:"z"};return void 0===e[t.charAt(0)]?t:e[t.charAt(0)]+t.substring(1)}(t):t)}function ai(n,e,a){var t=n+" ";return"ss"===a?t+=1===n?"sekunda":2===n||3===n||4===n?"sekunde":"sekundi":"m"===a?e?"jedna minuta":"jedne minute":"mm"===a?t+=1!==n&&(2===n||3===n||4===n)?"minute":"minuta":"h"===a?e?"jedan sat":"jednog sata":"hh"===a?t+=1===n?"sat":2===n||3===n||4===n?"sata":"sati":"dd"===a?t+=1===n?"dan":"dana":"MM"===a?t+=1===n?"mjesec":2===n||3===n||4===n?"mjeseca":"mjeseci":"yy"===a?t+=1!==n&&(2===n||3===n||4===n)?"godine":"godina":void 0}function ni(t){return 1<t&&5>t&&1!=~~(t/10)}function ii(i,e,a,t){var s=i+" ";return"s"===a?e||t?"p\xE1r sekund":"p\xE1r sekundami":"ss"===a?e||t?s+(ni(i)?"sekundy":"sekund"):s+"sekundami":"m"===a?e?"minuta":t?"minutu":"minutou":"mm"===a?e||t?s+(ni(i)?"minuty":"minut"):s+"minutami":"h"===a?e?"hodina":t?"hodinu":"hodinou":"hh"===a?e||t?s+(ni(i)?"hodiny":"hodin"):s+"hodinami":"d"===a?e||t?"den":"dnem":"dd"===a?e||t?s+(ni(i)?"dny":"dn\xED"):s+"dny":"M"===a?e||t?"m\u011Bs\xEDc":"m\u011Bs\xEDcem":"MM"===a?e||t?s+(ni(i)?"m\u011Bs\xEDce":"m\u011Bs\xEDc\u016F"):s+"m\u011Bs\xEDci":"y"===a?e||t?"rok":"rokem":"yy"===a?e||t?s+(ni(i)?"roky":"let"):s+"lety":void 0}function si(i,e,a){var t={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[i+" Tage",i+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[i+" Monate",i+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[i+" Jahre",i+" Jahren"]};return e?t[a][0]:t[a][1]}function oi(i,e,a){var t={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[i+" Tage",i+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[i+" Monate",i+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[i+" Jahre",i+" Jahren"]};return e?t[a][0]:t[a][1]}function di(i,e,a){var t={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[i+" Tage",i+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[i+" Monate",i+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[i+" Jahre",i+" Jahren"]};return e?t[a][0]:t[a][1]}function ri(i,e,a,t){var s={s:["m\xF5ne sekundi","m\xF5ni sekund","paar sekundit"],ss:[i+"sekundi",i+"sekundit"],m:["\xFChe minuti","\xFCks minut"],mm:[i+" minuti",i+" minutit"],h:["\xFChe tunni","tund aega","\xFCks tund"],hh:[i+" tunni",i+" tundi"],d:["\xFChe p\xE4eva","\xFCks p\xE4ev"],M:["kuu aja","kuu aega","\xFCks kuu"],MM:[i+" kuu",i+" kuud"],y:["\xFChe aasta","aasta","\xFCks aasta"],yy:[i+" aasta",i+" aastat"]};return e?s[a][2]?s[a][2]:s[a][1]:t?s[a][0]:s[a][1]}function sn(i,e,a,t){var s="",o,c;switch(a){case"s":return t?"muutaman sekunnin":"muutama sekunti";case"ss":s=t?"sekunnin":"sekuntia";break;case"m":return t?"minuutin":"minuutti";case"mm":s=t?"minuutin":"minuuttia";break;case"h":return t?"tunnin":"tunti";case"hh":s=t?"tunnin":"tuntia";break;case"d":return t?"p\xE4iv\xE4n":"p\xE4iv\xE4";case"dd":s=t?"p\xE4iv\xE4n":"p\xE4iv\xE4\xE4";break;case"M":return t?"kuukauden":"kuukausi";case"MM":s=t?"kuukauden":"kuukautta";break;case"y":return t?"vuoden":"vuosi";case"yy":s=t?"vuoden":"vuotta";}return c=t,s=(10>(o=i)?c?dn[o]:rn[o]:o)+" "+s}function on(i,e,a,t){var s={s:["\u0925\u094B\u0921\u092F\u093E \u0938\u0945\u0915\u0902\u0921\u093E\u0902\u0928\u0940","\u0925\u094B\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[i+" \u0938\u0945\u0915\u0902\u0921\u093E\u0902\u0928\u0940",i+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090F\u0915\u093E \u092E\u093F\u0923\u091F\u093E\u0928","\u090F\u0915 \u092E\u093F\u0928\u0942\u091F"],mm:[i+" \u092E\u093F\u0923\u091F\u093E\u0902\u0928\u0940",i+" \u092E\u093F\u0923\u091F\u093E\u0902"],h:["\u090F\u0915\u093E \u0935\u0930\u093E\u0928","\u090F\u0915 \u0935\u0930"],hh:[i+" \u0935\u0930\u093E\u0902\u0928\u0940",i+" \u0935\u0930\u093E\u0902"],d:["\u090F\u0915\u093E \u0926\u093F\u0938\u093E\u0928","\u090F\u0915 \u0926\u0940\u0938"],dd:[i+" \u0926\u093F\u0938\u093E\u0902\u0928\u0940",i+" \u0926\u0940\u0938"],M:["\u090F\u0915\u093E \u092E\u094D\u0939\u092F\u0928\u094D\u092F\u093E\u0928","\u090F\u0915 \u092E\u094D\u0939\u092F\u0928\u094B"],MM:[i+" \u092E\u094D\u0939\u092F\u0928\u094D\u092F\u093E\u0928\u0940",i+" \u092E\u094D\u0939\u092F\u0928\u0947"],y:["\u090F\u0915\u093E \u0935\u0930\u094D\u0938\u093E\u0928","\u090F\u0915 \u0935\u0930\u094D\u0938"],yy:[i+" \u0935\u0930\u094D\u0938\u093E\u0902\u0928\u0940",i+" \u0935\u0930\u094D\u0938\u093E\u0902"]};return t?s[a][0]:s[a][1]}function hn(i,e,a,t){var s={s:["thoddea sekondamni","thodde sekond"],ss:[i+" sekondamni",i+" sekond"],m:["eka mintan","ek minut"],mm:[i+" mintamni",i+" mintam"],h:["eka voran","ek vor"],hh:[i+" voramni",i+" voram"],d:["eka disan","ek dis"],dd:[i+" disamni",i+" dis"],M:["eka mhoinean","ek mhoino"],MM:[i+" mhoineamni",i+" mhoine"],y:["eka vorsan","ek voros"],yy:[i+" vorsamni",i+" vorsam"]};return t?s[a][0]:s[a][1]}function cn(n,e,a){var t=n+" ";return"ss"===a?t+=1===n?"sekunda":2===n||3===n||4===n?"sekunde":"sekundi":"m"===a?e?"jedna minuta":"jedne minute":"mm"===a?t+=1!==n&&(2===n||3===n||4===n)?"minute":"minuta":"h"===a?e?"jedan sat":"jednog sata":"hh"===a?t+=1===n?"sat":2===n||3===n||4===n?"sata":"sati":"dd"===a?t+=1===n?"dan":"dana":"MM"===a?t+=1===n?"mjesec":2===n||3===n||4===n?"mjeseca":"mjeseci":"yy"===a?t+=1!==n&&(2===n||3===n||4===n)?"godine":"godina":void 0}function kn(i,e,a,t){var s=i;return"s"===a?t||e?"n\xE9h\xE1ny m\xE1sodperc":"n\xE9h\xE1ny m\xE1sodperce":"ss"===a?s+(t||e)?" m\xE1sodperc":" m\xE1sodperce":"m"===a?"egy"+(t||e?" perc":" perce"):"mm"===a?s+(t||e?" perc":" perce"):"h"===a?"egy"+(t||e?" \xF3ra":" \xF3r\xE1ja"):"hh"===a?s+(t||e?" \xF3ra":" \xF3r\xE1ja"):"d"===a?"egy"+(t||e?" nap":" napja"):"dd"===a?s+(t||e?" nap":" napja"):"M"===a?"egy"+(t||e?" h\xF3nap":" h\xF3napja"):"MM"===a?s+(t||e?" h\xF3nap":" h\xF3napja"):"y"===a?"egy"+(t||e?" \xE9v":" \xE9ve"):"yy"===a?s+(t||e?" \xE9v":" \xE9ve"):""}function Tn(t){return(t?"":"[m\xFAlt] ")+"["+pn[this.day()]+"] LT[-kor]"}function gn(t){return 11==t%100||1!=t%10}function wn(i,e,a,t){var s=i+" ";return"s"===a?e||t?"nokkrar sek\xFAndur":"nokkrum sek\xFAndum":"ss"===a?gn(i)?s+(e||t?"sek\xFAndur":"sek\xFAndum"):s+"sek\xFAnda":"m"===a?e?"m\xEDn\xFAta":"m\xEDn\xFAtu":"mm"===a?gn(i)?s+(e||t?"m\xEDn\xFAtur":"m\xEDn\xFAtum"):e?s+"m\xEDn\xFAta":s+"m\xEDn\xFAtu":"hh"===a?gn(i)?s+(e||t?"klukkustundir":"klukkustundum"):s+"klukkustund":"d"===a?e?"dagur":t?"dag":"degi":"dd"===a?gn(i)?e?s+"dagar":s+(t?"daga":"d\xF6gum"):e?s+"dagur":s+(t?"dag":"degi"):"M"===a?e?"m\xE1nu\xF0ur":t?"m\xE1nu\xF0":"m\xE1nu\xF0i":"MM"===a?gn(i)?e?s+"m\xE1nu\xF0ir":s+(t?"m\xE1nu\xF0i":"m\xE1nu\xF0um"):e?s+"m\xE1nu\xF0ur":s+(t?"m\xE1nu\xF0":"m\xE1nu\xF0i"):"y"===a?e||t?"\xE1r":"\xE1ri":"yy"===a?gn(i)?s+(e||t?"\xE1r":"\xE1rum"):s+(e||t?"\xE1r":"\xE1ri"):void 0}function vn(i,e,a){var t={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?t[a][0]:t[a][1]}function En(t){if(t=parseInt(t,10),isNaN(t))return!1;if(0>t)return!0;if(10>t)return 4<=t&&7>=t;if(100>t){var n=t%10;return 0==n?En(t/10):En(n)}if(1e4>t){for(;10<=t;)t/=10;return En(t)}return En(t/=1e3)}function Fn(n,e,a,t){return e?Jn(a)[0]:t?Jn(a)[1]:Jn(a)[2]}function Nn(t){return 0==t%10||10<t&&20>t}function Jn(t){return An[t].split("_")}function Rn(i,e,a,t){var s=i+" ";return 1===i?s+Fn(0,e,a[0],t):e?s+(Nn(i)?Jn(a)[1]:Jn(a)[0]):t?s+Jn(a)[1]:s+(Nn(i)?Jn(a)[1]:Jn(a)[2])}function Cn(n,e,a){return a?1==e%10&&11!=e%100?n[2]:n[3]:1==e%10&&11!=e%100?n[0]:n[1]}function Un(n,e,a){return n+" "+Cn(zn[a],n,e)}function Gn(n,e,a){return Cn(zn[a],n,e)}function Vn(n,e,a){return"s"===a?e?"\u0445\u044D\u0434\u0445\u044D\u043D \u0441\u0435\u043A\u0443\u043D\u0434":"\u0445\u044D\u0434\u0445\u044D\u043D \u0441\u0435\u043A\u0443\u043D\u0434\u044B\u043D":"ss"===a?n+(e?" \u0441\u0435\u043A\u0443\u043D\u0434":" \u0441\u0435\u043A\u0443\u043D\u0434\u044B\u043D"):"m"===a||"mm"===a?n+(e?" \u043C\u0438\u043D\u0443\u0442":" \u043C\u0438\u043D\u0443\u0442\u044B\u043D"):"h"===a||"hh"===a?n+(e?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043D"):"d"===a||"dd"===a?n+(e?" \u04E9\u0434\u04E9\u0440":" \u04E9\u0434\u0440\u0438\u0439\u043D"):"M"===a||"MM"===a?n+(e?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044B\u043D"):"y"===a||"yy"===a?n+(e?" \u0436\u0438\u043B":" \u0436\u0438\u043B\u0438\u0439\u043D"):n}function Kn(i,e,a){var t="";return e?"s"===a?t="\u0915\u093E\u0939\u0940 \u0938\u0947\u0915\u0902\u0926":"ss"===a?t="%d \u0938\u0947\u0915\u0902\u0926":"m"===a?t="\u090F\u0915 \u092E\u093F\u0928\u093F\u091F":"mm"===a?t="%d \u092E\u093F\u0928\u093F\u091F\u0947":"h"===a?t="\u090F\u0915 \u0924\u093E\u0938":"hh"===a?t="%d \u0924\u093E\u0938":"d"===a?t="\u090F\u0915 \u0926\u093F\u0935\u0938":"dd"===a?t="%d \u0926\u093F\u0935\u0938":"M"===a?t="\u090F\u0915 \u092E\u0939\u093F\u0928\u093E":"MM"===a?t="%d \u092E\u0939\u093F\u0928\u0947":"y"===a?t="\u090F\u0915 \u0935\u0930\u094D\u0937":"yy"===a?t="%d \u0935\u0930\u094D\u0937\u0947":void 0:"s"===a?t="\u0915\u093E\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093E\u0902":"ss"===a?t="%d \u0938\u0947\u0915\u0902\u0926\u093E\u0902":"m"===a?t="\u090F\u0915\u093E \u092E\u093F\u0928\u093F\u091F\u093E":"mm"===a?t="%d \u092E\u093F\u0928\u093F\u091F\u093E\u0902":"h"===a?t="\u090F\u0915\u093E \u0924\u093E\u0938\u093E":"hh"===a?t="%d \u0924\u093E\u0938\u093E\u0902":"d"===a?t="\u090F\u0915\u093E \u0926\u093F\u0935\u0938\u093E":"dd"===a?t="%d \u0926\u093F\u0935\u0938\u093E\u0902":"M"===a?t="\u090F\u0915\u093E \u092E\u0939\u093F\u0928\u094D\u092F\u093E":"MM"===a?t="%d \u092E\u0939\u093F\u0928\u094D\u092F\u093E\u0902":"y"===a?t="\u090F\u0915\u093E \u0935\u0930\u094D\u0937\u093E":"yy"===a?t="%d \u0935\u0930\u094D\u0937\u093E\u0902":void 0,t.replace(/%d/i,i)}function $n(t){return 5>t%10&&1<t%10&&1!=~~(t/10)%10}function ci(n,e,a){var t=n+" ";return"ss"===a?t+($n(n)?"sekundy":"sekund"):"m"===a?e?"minuta":"minut\u0119":"mm"===a?t+($n(n)?"minuty":"minut"):"h"===a?e?"godzina":"godzin\u0119":"hh"===a?t+($n(n)?"godziny":"godzin"):"ww"===a?t+($n(n)?"tygodnie":"tygodni"):"MM"===a?t+($n(n)?"miesi\u0105ce":"miesi\u0119cy"):"yy"===a?t+($n(n)?"lata":"lat"):void 0}function li(n,e,a){return n+(20<=n%100||100<=n&&0==n%100?" de ":" ")+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xE2ni",MM:"luni",yy:"ani"}[a]}function pi(i,e,a){var t,o;return"m"===a?e?"\u043C\u0438\u043D\u0443\u0442\u0430":"\u043C\u0438\u043D\u0443\u0442\u0443":i+" "+(t=+i,o={ss:e?"\u0441\u0435\u043A\u0443\u043D\u0434\u0430_\u0441\u0435\u043A\u0443\u043D\u0434\u044B_\u0441\u0435\u043A\u0443\u043D\u0434":"\u0441\u0435\u043A\u0443\u043D\u0434\u0443_\u0441\u0435\u043A\u0443\u043D\u0434\u044B_\u0441\u0435\u043A\u0443\u043D\u0434",mm:e?"\u043C\u0438\u043D\u0443\u0442\u0430_\u043C\u0438\u043D\u0443\u0442\u044B_\u043C\u0438\u043D\u0443\u0442":"\u043C\u0438\u043D\u0443\u0442\u0443_\u043C\u0438\u043D\u0443\u0442\u044B_\u043C\u0438\u043D\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043E\u0432",dd:"\u0434\u0435\u043D\u044C_\u0434\u043D\u044F_\u0434\u043D\u0435\u0439",ww:"\u043D\u0435\u0434\u0435\u043B\u044F_\u043D\u0435\u0434\u0435\u043B\u0438_\u043D\u0435\u0434\u0435\u043B\u044C",MM:"\u043C\u0435\u0441\u044F\u0446_\u043C\u0435\u0441\u044F\u0446\u0430_\u043C\u0435\u0441\u044F\u0446\u0435\u0432",yy:"\u0433\u043E\u0434_\u0433\u043E\u0434\u0430_\u043B\u0435\u0442"}[a].split("_"),1==t%10&&11!=t%100?o[0]:2<=t%10&&4>=t%10&&(10>t%100||20<=t%100)?o[1]:o[2])}function ui(t){return 1<t&&5>t}function mi(i,e,a,t){var s=i+" ";return"s"===a?e||t?"p\xE1r sek\xFAnd":"p\xE1r sekundami":"ss"===a?e||t?s+(ui(i)?"sekundy":"sek\xFAnd"):s+"sekundami":"m"===a?e?"min\xFAta":t?"min\xFAtu":"min\xFAtou":"mm"===a?e||t?s+(ui(i)?"min\xFAty":"min\xFAt"):s+"min\xFAtami":"h"===a?e?"hodina":t?"hodinu":"hodinou":"hh"===a?e||t?s+(ui(i)?"hodiny":"hod\xEDn"):s+"hodinami":"d"===a?e||t?"de\u0148":"d\u0148om":"dd"===a?e||t?s+(ui(i)?"dni":"dn\xED"):s+"d\u0148ami":"M"===a?e||t?"mesiac":"mesiacom":"MM"===a?e||t?s+(ui(i)?"mesiace":"mesiacov"):s+"mesiacmi":"y"===a?e||t?"rok":"rokom":"yy"===a?e||t?s+(ui(i)?"roky":"rokov"):s+"rokmi":void 0}function gi(i,e,a,t){var s=i+" ";return"s"===a?e||t?"nekaj sekund":"nekaj sekundami":"ss"===a?s+=1===i?e?"sekundo":"sekundi":2===i?e||t?"sekundi":"sekundah":5>i?e||t?"sekunde":"sekundah":"sekund":"m"===a?e?"ena minuta":"eno minuto":"mm"===a?s+=1===i?e?"minuta":"minuto":2===i?e||t?"minuti":"minutama":5>i?e||t?"minute":"minutami":e||t?"minut":"minutami":"h"===a?e?"ena ura":"eno uro":"hh"===a?s+=1===i?e?"ura":"uro":2===i?e||t?"uri":"urama":5>i?e||t?"ure":"urami":e||t?"ur":"urami":"d"===a?e||t?"en dan":"enim dnem":"dd"===a?s+=1===i?e||t?"dan":"dnem":2===i?e||t?"dni":"dnevoma":e||t?"dni":"dnevi":"M"===a?e||t?"en mesec":"enim mesecem":"MM"===a?s+=1===i?e||t?"mesec":"mesecem":2===i?e||t?"meseca":"mesecema":5>i?e||t?"mesece":"meseci":e||t?"mesecev":"meseci":"y"===a?e||t?"eno leto":"enim letom":"yy"===a?s+=1===i?e||t?"leto":"letom":2===i?e||t?"leti":"letoma":5>i?e||t?"leta":"leti":e||t?"let":"leti":void 0}function hi(i,e,a){var t=function(i){var e=we(i%1e3/100),a=we(i%100/10),t=i%10,s="";return 0<e&&(s+=Hs[e]+"vatlh"),0<a&&(s+=(""===s?"":" ")+Hs[a]+"maH"),0<t&&(s+=(""===s?"":" ")+Hs[t]),""==s?"pagh":s}(i);return"ss"===a?t+" lup":"mm"===a?t+" tup":"hh"===a?t+" rep":"dd"===a?t+" jaj":"MM"===a?t+" jar":"yy"===a?t+" DIS":void 0}function _i(i,e,a,t){var s={s:["viensas secunds","'iensas secunds"],ss:[i+" secunds",i+" secunds"],m:["'n m\xEDut","'iens m\xEDut"],mm:[i+" m\xEDuts",i+" m\xEDuts"],h:["'n \xFEora","'iensa \xFEora"],hh:[i+" \xFEoras",i+" \xFEoras"],d:["'n ziua","'iensa ziua"],dd:[i+" ziuas",i+" ziuas"],M:["'n mes","'iens mes"],MM:[i+" mesen",i+" mesen"],y:["'n ar","'iens ar"],yy:[i+" ars",i+" ars"]};return t||e?s[a][0]:s[a][1]}function fi(i,e,a){var t,o;return"m"===a?e?"\u0445\u0432\u0438\u043B\u0438\u043D\u0430":"\u0445\u0432\u0438\u043B\u0438\u043D\u0443":"h"===a?e?"\u0433\u043E\u0434\u0438\u043D\u0430":"\u0433\u043E\u0434\u0438\u043D\u0443":i+" "+(t=+i,o={ss:e?"\u0441\u0435\u043A\u0443\u043D\u0434\u0430_\u0441\u0435\u043A\u0443\u043D\u0434\u0438_\u0441\u0435\u043A\u0443\u043D\u0434":"\u0441\u0435\u043A\u0443\u043D\u0434\u0443_\u0441\u0435\u043A\u0443\u043D\u0434\u0438_\u0441\u0435\u043A\u0443\u043D\u0434",mm:e?"\u0445\u0432\u0438\u043B\u0438\u043D\u0430_\u0445\u0432\u0438\u043B\u0438\u043D\u0438_\u0445\u0432\u0438\u043B\u0438\u043D":"\u0445\u0432\u0438\u043B\u0438\u043D\u0443_\u0445\u0432\u0438\u043B\u0438\u043D\u0438_\u0445\u0432\u0438\u043B\u0438\u043D",hh:e?"\u0433\u043E\u0434\u0438\u043D\u0430_\u0433\u043E\u0434\u0438\u043D\u0438_\u0433\u043E\u0434\u0438\u043D":"\u0433\u043E\u0434\u0438\u043D\u0443_\u0433\u043E\u0434\u0438\u043D\u0438_\u0433\u043E\u0434\u0438\u043D",dd:"\u0434\u0435\u043D\u044C_\u0434\u043D\u0456_\u0434\u043D\u0456\u0432",MM:"\u043C\u0456\u0441\u044F\u0446\u044C_\u043C\u0456\u0441\u044F\u0446\u0456_\u043C\u0456\u0441\u044F\u0446\u0456\u0432",yy:"\u0440\u0456\u043A_\u0440\u043E\u043A\u0438_\u0440\u043E\u043A\u0456\u0432"}[a].split("_"),1==t%10&&11!=t%100?o[0]:2<=t%10&&4>=t%10&&(10>t%100||20<=t%100)?o[1]:o[2])}function vi(t){return function(){return t+"\u043E"+(11===this.hours()?"\u0431":"")+"] LT"}}var yi,bi;bi=Array.prototype.some?Array.prototype.some:function(n){for(var e=Object(this),a=e.length>>>0,t=0;t<a;t++)if(t in e&&n.call(this,e[t],t,e))return!0;return!1};var Ai=He.momentProperties=[],f=!1,xi={},g;He.suppressDeprecationWarnings=!1,He.deprecationHandler=null,g=Object.keys?Object.keys:function(n){var e=[],t;for(t in n)Pe(n,t)&&e.push(t);return e};var wi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,x={},P={},O={},F={},R=/\d/,Z=/\d\d/,ki=/\d{3}/,Q=/\d{4}/,X=/[+-]?\d{6}/,ee=/\d\d?/,ae=/\d\d\d\d?/,te=/\d\d\d\d\d\d?/,se=/\d{1,3}/,ne=/\d{1,4}/,re=/[+-]?\d{1,6}/,de=/\d+/,ie=/[+-]?\d+/,_e=/Z|[+-]\d\d(?::?\d\d)?/gi,me=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ue;ue={};var Si={},ce=0,fe=1,pe=2,ke=3,De=4,Te=5,ge;ge=Array.prototype.indexOf?Array.prototype.indexOf:function(t){for(var e=0;e<this.length;++e)if(this[e]===t)return e;return-1},H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),H("MMMM",0,0,function(t){return this.localeData().months(this,t)}),t("month","M"),z("month",8),J("M",ee),J("MM",ee,Z),J("MMM",function(t,e){return e.monthsShortRegex(t)}),J("MMMM",function(t,e){return e.monthsRegex(t)}),he(["M","MM"],function(t,e){e[fe]=U(t)-1}),he(["MMM","MMMM"],function(i,e,a,t){var s=a._locale.monthsParse(i,t,a._strict);null==s?c(a).invalidMonth=i:e[fe]=s});var Mi=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],je=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;H("Y",0,0,function(){var t=this.year();return 9999>=t?S(t,4):"+"+t}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),t("year","y"),z("year",1),J("Y",ie),J("YY",ee,Z),J("YYYY",ne,Q),J("YYYYY",re,X),J("YYYYYY",re,X),he(["YYYYY","YYYYYY"],ce),he("YYYY",function(t,e){e[ce]=2===t.length?He.parseTwoDigitYear(t):U(t)}),he("YY",function(t,e){e[ce]=He.parseTwoDigitYear(t)}),he("Y",function(t,e){e[ce]=parseInt(t,10)}),He.parseTwoDigitYear=function(t){return U(t)+(68<U(t)?1900:2e3)};var xe=G("FullYear",!0);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),t("week","w"),t("isoWeek","W"),z("week",5),z("isoWeek",5),J("w",ee),J("ww",ee,Z),J("W",ee),J("WW",ee,Z),Me(["w","ww","W","WW"],function(n,e,a,t){e[t.substr(0,1)]=U(n)}),H("d",0,"do","day"),H("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),H("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),H("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),t("day","d"),t("weekday","e"),t("isoWeekday","E"),z("day",11),z("weekday",11),z("isoWeekday",11),J("d",ee),J("e",ee),J("E",ee),J("dd",function(t,e){return e.weekdaysMinRegex(t)}),J("ddd",function(t,e){return e.weekdaysShortRegex(t)}),J("dddd",function(t,e){return e.weekdaysRegex(t)}),Me(["dd","ddd","dddd"],function(i,e,a,t){var s=a._locale.weekdaysParse(i,t,a._strict);null==s?c(a).invalidWeekday=i:e.d=s}),Me(["d","e","E"],function(n,e,a,t){e[t]=U(n)});var ze=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];H("H",["HH",2],0,"hour"),H("h",["hh",2],0,$e),H("k",["kk",2],0,function(){return this.hours()||24}),H("hmm",0,0,function(){return""+$e.apply(this)+S(this.minutes(),2)}),H("hmmss",0,0,function(){return""+$e.apply(this)+S(this.minutes(),2)+S(this.seconds(),2)}),H("Hmm",0,0,function(){return""+this.hours()+S(this.minutes(),2)}),H("Hmmss",0,0,function(){return""+this.hours()+S(this.minutes(),2)+S(this.seconds(),2)}),Ge("a",!0),Ge("A",!1),t("hour","h"),z("hour",13),J("a",Qe),J("A",Qe),J("H",ee),J("h",ee),J("k",ee),J("HH",ee,Z),J("hh",ee,Z),J("kk",ee,Z),J("hmm",ae),J("hmmss",te),J("Hmm",ae),J("Hmmss",te),he(["H","HH"],ke),he(["k","kk"],function(t,e){var a=U(t);e[ke]=24===a?0:a}),he(["a","A"],function(n,e,a){a._isPm=a._locale.isPM(n),a._meridiem=n}),he(["h","hh"],function(n,e,a){e[ke]=U(n),c(a).bigHour=!0}),he("hmm",function(n,e,a){var t=n.length-2;e[ke]=U(n.substr(0,t)),e[De]=U(n.substr(t)),c(a).bigHour=!0}),he("hmmss",function(i,e,a){var t=i.length-4,s=i.length-2;e[ke]=U(i.substr(0,t)),e[De]=U(i.substr(t,2)),e[Te]=U(i.substr(s)),c(a).bigHour=!0}),he("Hmm",function(t,e){var a=t.length-2;e[ke]=U(t.substr(0,a)),e[De]=U(t.substr(a))}),he("Hmmss",function(t,e){var a=t.length-4,i=t.length-2;e[ke]=U(t.substr(0,a)),e[De]=U(t.substr(a,2)),e[Te]=U(t.substr(i))});var Ve=G("Hours",!0),aa={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:Mi,week:{dow:0,doy:6},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekdaysShort:ze,meridiemParse:/[ap]\.?m?\.?/i},sa={},na={},ra=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ma=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ha=/Z|[+-]\d\d(?::?\d\d)?/,ca=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],La=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ya=/^\/?Date\((-?\d+)/i,ya=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,fa={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},pa;He.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),He.ISO_8601=function(){},He.RFC_2822=function(){};var Ci=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ba.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:L()}),ja=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ba.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:L()}),xa=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ta("Z",":"),Ta("ZZ",""),J("Z",_e),J("ZZ",_e),he(["Z","ZZ"],function(n,e,a){a._useUTC=!0,a._tzm=Ea(_e,n)});var Oa=/([\+\-]|\d\d)/gi;He.updateOffset=function(){};var za=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ia=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Ca.fn=ka.prototype,Ca.invalid=function(){return Ca(NaN)};var Ua=Ba(1,"add"),Za=Ba(-1,"subtract");He.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",He.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var $a=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});H("N",0,0,"eraAbbr"),H("NN",0,0,"eraAbbr"),H("NNN",0,0,"eraAbbr"),H("NNNN",0,0,"eraName"),H("NNNNN",0,0,"eraNarrow"),H("y",["y",1],"yo","eraYear"),H("y",["yy",2],0,"eraYear"),H("y",["yyy",3],0,"eraYear"),H("y",["yyyy",4],0,"eraYear"),J("N",it),J("NN",it),J("NNN",it),J("NNNN",function(t,e){return e.erasNameRegex(t)}),J("NNNNN",function(t,e){return e.erasNarrowRegex(t)}),he(["N","NN","NNN","NNNN","NNNNN"],function(i,e,a,t){var s=a._locale.erasParse(i,t,a._strict);s?c(a).era=s:c(a).invalidEra=i}),J("y",de),J("yy",de),J("yyy",de),J("yyyy",de),J("yo",function(t,e){return e._eraYearOrdinalRegex||de}),he(["y","yy","yyy","yyyy"],ce),he(["yo"],function(i,e,a){var t;a._locale._eraYearOrdinalRegex&&(t=i.match(a._locale._eraYearOrdinalRegex)),e[ce]=a._locale.eraYearOrdinalParse?a._locale.eraYearOrdinalParse(i,t):parseInt(i,10)}),H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ot("gggg","weekYear"),ot("ggggg","weekYear"),ot("GGGG","isoWeekYear"),ot("GGGGG","isoWeekYear"),t("weekYear","gg"),t("isoWeekYear","GG"),z("weekYear",1),z("isoWeekYear",1),J("G",ie),J("g",ie),J("GG",ee,Z),J("gg",ee,Z),J("GGGG",ne,Q),J("gggg",ne,Q),J("GGGGG",re,X),J("ggggg",re,X),Me(["gggg","ggggg","GGGG","GGGGG"],function(n,e,a,t){e[t.substr(0,2)]=U(n)}),Me(["gg","GG"],function(n,e,a,t){e[t]=He.parseTwoDigitYear(n)}),H("Q",0,"Qo","quarter"),t("quarter","Q"),z("quarter",7),J("Q",R),he("Q",function(t,e){e[fe]=3*(U(t)-1)}),H("D",["DD",2],"Do","date"),t("date","D"),z("date",9),J("D",ee),J("DD",ee,Z),J("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),he(["D","DD"],pe),he("Do",function(t,e){e[pe]=U(t.match(ee)[0])});var tt=G("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear"),t("dayOfYear","DDD"),z("dayOfYear",4),J("DDD",se),J("DDDD",ki),he(["DDD","DDDD"],function(n,e,a){a._dayOfYear=U(n)}),H("m",["mm",2],0,"minute"),t("minute","m"),z("minute",14),J("m",ee),J("mm",ee,Z),he(["m","mm"],De);var lt=G("Minutes",!1);H("s",["ss",2],0,"second"),t("second","s"),z("second",15),J("s",ee),J("ss",ee,Z),he(["s","ss"],Te);var Mt=G("Seconds",!1),Lt,Li;for(H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),t("millisecond","ms"),z("millisecond",16),J("S",se,R),J("SS",se,Z),J("SSS",se,ki),Lt="SSSS";9>=Lt.length;Lt+="S")J(Lt,de);for(Lt="S";9>=Lt.length;Lt+="S")he(Lt,ut);Li=G("Milliseconds",!1),H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Ti=p.prototype;Ti.add=Ua,Ti.calendar=function(o,d){1===arguments.length&&(arguments[0]?qa(arguments[0])?(o=arguments[0],d=void 0):function(o){for(var e=i(o)&&!h(o),a=!1,d=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s=0;s<d.length;s+=1)a=a||Pe(o,d[s]);return e&&a}(arguments[0])&&(d=arguments[0],o=void 0):d=o=void 0);var c=o||ba(),t=Da(c,this).startOf("day"),s=He.calendarFormat(this,t)||"sameElse",n=d&&(w(d[s])?d[s].call(this,c):d[s]);return this.format(n||this.localeData().calendar(s,this,ba(c)))},Ti.clone=function(){return new p(this)},Ti.diff=function(i,e,o){var t,d,c;if(!this.isValid())return NaN;if(!(t=Da(i,this)).isValid())return NaN;switch(d=6e4*(t.utcOffset()-this.utcOffset()),e=E(e)){case"year":c=Wa(this,t)/12;break;case"month":c=Wa(this,t);break;case"quarter":c=Wa(this,t)/3;break;case"second":c=(this-t)/1e3;break;case"minute":c=(this-t)/6e4;break;case"hour":c=(this-t)/36e5;break;case"day":c=(this-t-d)/864e5;break;case"week":c=(this-t-d)/6048e5;break;default:c=this-t;}return o?c:I(c)},Ti.endOf=function(n){var i,s;if(void 0===(n=E(n))||"millisecond"===n||!this.isValid())return this;switch(s=this._isUTC?dt:rt,n){case"year":i=s(this.year()+1,0,1)-1;break;case"quarter":i=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":i=s(this.year(),this.month()+1,1)-1;break;case"week":i=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":i=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":i=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":i=this._d.valueOf(),i+=36e5-st(i+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":i=this._d.valueOf(),i+=6e4-st(i,6e4)-1;break;case"second":i=this._d.valueOf(),i+=1e3-st(i,1e3)-1;}return this._d.setTime(i),He.updateOffset(this,!0),this},Ti.format=function(t){t=t||(this.isUtc()?He.defaultFormatUtc:He.defaultFormat);var n=W(this,t);return this.localeData().postformat(n)},Ti.from=function(t,e){return this.isValid()&&(k(t)&&t.isValid()||ba(t).isValid())?Ca({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Ti.fromNow=function(t){return this.from(ba(),t)},Ti.to=function(t,e){return this.isValid()&&(k(t)&&t.isValid()||ba(t).isValid())?Ca({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Ti.toNow=function(t){return this.to(ba(),t)},Ti.get=function(t){return w(this[t=E(t)])?this[t]():this},Ti.invalidAt=function(){return c(this).overflow},Ti.isAfter=function(n,e){var i=k(n)?n:ba(n);return this.isValid()&&i.isValid()&&("millisecond"===(e=E(e)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},Ti.isBefore=function(n,e){var i=k(n)?n:ba(n);return this.isValid()&&i.isValid()&&("millisecond"===(e=E(e)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},Ti.isBetween=function(i,e,a,t){var o=k(i)?i:ba(i),n=k(e)?e:ba(e);return!!(this.isValid()&&o.isValid()&&n.isValid())&&("("===(t=t||"()")[0]?this.isAfter(o,a):!this.isBefore(o,a))&&(")"===t[1]?this.isBefore(n,a):!this.isAfter(n,a))},Ti.isSame=function(n,e){var i=k(n)?n:ba(n),s;return this.isValid()&&i.isValid()&&("millisecond"===(e=E(e)||"millisecond")?this.valueOf()===i.valueOf():(s=i.valueOf(),this.clone().startOf(e).valueOf()<=s&&s<=this.clone().endOf(e).valueOf()))},Ti.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Ti.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Ti.isValid=function(){return m(this)},Ti.lang=$a,Ti.locale=et,Ti.localeData=at,Ti.max=ja,Ti.min=Ci,Ti.parsingFlags=function(){return u({},c(this))},Ti.set=function(n,i){if("object"==typeof n)for(var a=function(n){var e=[],t;for(t in n)Pe(n,t)&&e.push({unit:t,priority:F[t]});return e.sort(function(t,e){return t.priority-e.priority}),e}(n=N(n)),t=0;t<a.length;t++)this[a[t].unit](n[a[t].unit]);else if(w(this[n=E(n)]))return this[n](i);return this},Ti.startOf=function(n){var i,s;if(void 0===(n=E(n))||"millisecond"===n||!this.isValid())return this;switch(s=this._isUTC?dt:rt,n){case"year":i=s(this.year(),0,1);break;case"quarter":i=s(this.year(),this.month()-this.month()%3,1);break;case"month":i=s(this.year(),this.month(),1);break;case"week":i=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":i=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":i=s(this.year(),this.month(),this.date());break;case"hour":i=this._d.valueOf(),i-=st(i+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":i=this._d.valueOf(),i-=st(i,6e4);break;case"second":i=this._d.valueOf(),i-=st(i,1e3);}return this._d.setTime(i),He.updateOffset(this,!0),this},Ti.subtract=Za,Ti.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},Ti.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},Ti.toDate=function(){return new Date(this.valueOf())},Ti.toISOString=function(n){if(!this.isValid())return null;var e=!0!==n,a=e?this.clone().utc():this;return 0>a.year()||9999<a.year()?W(a,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):w(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+1e3*(60*this.utcOffset())).toISOString().replace("Z",W(a,"Z")):W(a,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Ti.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var i="moment",o="",d,r,c;return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),d="["+i+"(\"]",r=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY",c=o+"[\")]",this.format(d+r+"-MM-DD[T]HH:mm:ss.SSS"+c)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Ti[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Ti.toJSON=function(){return this.isValid()?this.toISOString():null},Ti.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Ti.unix=function(){return we(this.valueOf()/1e3)},Ti.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Ti.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Ti.eraName=function(){for(var n=this.localeData().eras(),a=0,i=n.length,s;a<i;++a){if(s=this.clone().startOf("day").valueOf(),n[a].since<=s&&s<=n[a].until)return n[a].name;if(n[a].until<=s&&s<=n[a].since)return n[a].name}return""},Ti.eraNarrow=function(){for(var n=this.localeData().eras(),a=0,i=n.length,s;a<i;++a){if(s=this.clone().startOf("day").valueOf(),n[a].since<=s&&s<=n[a].until)return n[a].narrow;if(n[a].until<=s&&s<=n[a].since)return n[a].narrow}return""},Ti.eraAbbr=function(){for(var n=this.localeData().eras(),a=0,i=n.length,s;a<i;++a){if(s=this.clone().startOf("day").valueOf(),n[a].since<=s&&s<=n[a].until)return n[a].abbr;if(n[a].until<=s&&s<=n[a].since)return n[a].abbr}return""},Ti.eraYear=function(){for(var i=this.localeData().eras(),t=0,o=i.length,n,d;t<o;++t)if(n=i[t].since<=i[t].until?1:-1,d=this.clone().startOf("day").valueOf(),i[t].since<=d&&d<=i[t].until||i[t].until<=d&&d<=i[t].since)return(this.year()-He(i[t].since).year())*n+i[t].offset;return this.year()},Ti.year=xe,Ti.isLeapYear=function(){return C(this.year())},Ti.weekYear=function(t){return mt.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Ti.isoWeekYear=function(t){return mt.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Ti.quarter=Ti.quarters=function(t){return null==t?be((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Ti.month=Ye,Ti.daysInMonth=function(){return Le(this.year(),this.month())},Ti.week=Ti.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Ti.isoWeek=Ti.isoWeeks=function(t){var e=Re(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Ti.weeksInYear=function(){var t=this.localeData()._week;return Ce(this.year(),t.dow,t.doy)},Ti.weeksInWeekYear=function(){var t=this.localeData()._week;return Ce(this.weekYear(),t.dow,t.doy)},Ti.isoWeeksInYear=function(){return Ce(this.year(),1,4)},Ti.isoWeeksInISOWeekYear=function(){return Ce(this.isoWeekYear(),1,4)},Ti.date=tt,Ti.day=Ti.days=function(n){if(!this.isValid())return null==n?NaN:this;var i=this._isUTC?this._d.getUTCDay():this._d.getDay(),s,o;return null==n?i:(s=n,o=this.localeData(),n="string"==typeof s?isNaN(s)?"number"==typeof(s=o.weekdaysParse(s))?s:null:parseInt(s,10):s,this.add(n-i,"d"))},Ti.weekday=function(t){if(!this.isValid())return null==t?NaN:this;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Ti.isoWeekday=function(n){if(!this.isValid())return null==n?NaN:this;if(null==n)return this.day()||7;var e=(i=n,s=this.localeData(),"string"==typeof i?s.weekdaysParse(i)%7||7:isNaN(i)?null:i),i,s;return this.day(this.day()%7?e:e-7)},Ti.dayOfYear=function(t){var e=oe((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Ti.hour=Ti.hours=Ve,Ti.minute=Ti.minutes=lt,Ti.second=Ti.seconds=Mt,Ti.millisecond=Ti.milliseconds=Li,Ti.utcOffset=function(i,o,a){var t=this._offset||0,n;if(!this.isValid())return null==i?NaN:this;if(null==i)return this._isUTC?t:Na(this);if("string"!=typeof i)16>ve(i)&&!a&&(i*=60);else if(null===(i=Ea(_e,i)))return this;return!this._isUTC&&o&&(n=Na(this)),this._offset=i,this._isUTC=!0,null!=n&&this.add(n,"m"),t!==i&&(!o||this._changeInProgress?Fa(this,Ca(i-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,He.updateOffset(this,!0),this._changeInProgress=null)),this},Ti.utc=function(t){return this.utcOffset(0,t)},Ti.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Na(this),"m")),this},Ti.parseZone=function(){var t;return null==this._tzm?"string"==typeof this._i&&(null==(t=Ea(/Z|[+-]\d\d:?\d\d/gi,this._i))?this.utcOffset(0,!0):this.utcOffset(t)):this.utcOffset(this._tzm,!1,!0),this},Ti.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?ba(t).utcOffset():0,0==(this.utcOffset()-t)%60)},Ti.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Ti.isLocal=function(){return!!this.isValid()&&!this._isUTC},Ti.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Ti.isUtc=Ra,Ti.isUTC=Ra,Ti.zoneAbbr=function(){return this._isUTC?"UTC":""},Ti.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Ti.dates=T("dates accessor is deprecated. Use date instead.",tt),Ti.months=T("months accessor is deprecated. Use month instead",Ye),Ti.years=T("years accessor is deprecated. Use year instead",xe),Ti.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,n){return null==t?-this.utcOffset():("string"!=typeof t&&(t=-t),this.utcOffset(t,n),this)}),Ti.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={},n;return Y(t,this),(t=_a(t))._a?(n=(t._isUTC?l:ba)(t._a),this._isDSTShifted=this.isValid()&&0<function(i,e,a){for(var t=Oe(i.length,e.length),s=ve(i.length-e.length),n=0,o=0;o<t;o++)(a&&i[o]!==e[o]||!a&&U(i[o])!==U(e[o]))&&n++;return n+s}(t._a,n.toArray())):this._isDSTShifted=!1,this._isDSTShifted});var yt=b.prototype;yt.calendar=function(n,e,a){var t=this._calendar[n]||this._calendar.sameElse;return w(t)?t.call(e,a):t},yt.longDateFormat=function(n){var e=this._longDateFormat[n],a=this._longDateFormat[n.toUpperCase()];return e||!a?e:(this._longDateFormat[n]=a.match(wi).map(function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t}).join(""),this._longDateFormat[n])},yt.invalidDate=function(){return this._invalidDate},yt.ordinal=function(t){return this._ordinal.replace("%d",t)},yt.preparse=Yt,yt.postformat=Yt,yt.relativeTime=function(i,e,a,t){var s=this._relativeTime[a];return w(s)?s(i,e,a,t):s.replace(/%d/i,i)},yt.pastFuture=function(n,e){var a=this._relativeTime[0<n?"future":"past"];return w(a)?a(e):a.replace(/%s/i,e)},yt.set=function(n){var e,i;for(i in n)Pe(n,i)&&(w(e=n[i])?this[i]=e:this["_"+i]=e);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},yt.eras=function(){for(var e=this._eras||ea("en")._eras,a=0,i=e.length,s;a<i;++a){switch(typeof e[a].since){case"string":s=He(e[a].since).startOf("day"),e[a].since=s.valueOf();}switch(typeof e[a].until){case"undefined":e[a].until=1/0;break;case"string":s=He(e[a].until).startOf("day").valueOf(),e[a].until=s.valueOf();}}return e},yt.erasParse=function(o,c,a){var t=this.eras(),l,p,u,m,g;for(o=o.toUpperCase(),l=0,p=t.length;l<p;++l)if(u=t[l].name.toUpperCase(),m=t[l].abbr.toUpperCase(),g=t[l].narrow.toUpperCase(),a)switch(c){case"N":case"NN":case"NNN":if(m===o)return t[l];break;case"NNNN":if(u===o)return t[l];break;case"NNNNN":if(g===o)return t[l];}else if(0<=[u,m,g].indexOf(o))return t[l]},yt.erasConvertYear=function(n,e){var a=n.since<=n.until?1:-1;return void 0===e?He(n.since).year():He(n.since).year()+(e-n.offset)*a},yt.erasAbbrRegex=function(t){return Pe(this,"_erasAbbrRegex")||_t.call(this),t?this._erasAbbrRegex:this._erasRegex},yt.erasNameRegex=function(t){return Pe(this,"_erasNameRegex")||_t.call(this),t?this._erasNameRegex:this._erasRegex},yt.erasNarrowRegex=function(t){return Pe(this,"_erasNarrowRegex")||_t.call(this),t?this._erasNarrowRegex:this._erasRegex},yt.months=function(t,e){return t?M(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||je).test(e)?"format":"standalone"][t.month()]:M(this._months)?this._months:this._months.standalone},yt.monthsShort=function(t,e){return t?M(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[je.test(e)?"format":"standalone"][t.month()]:M(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},yt.monthsParse=function(i,e,a){var t,o,d;if(this._monthsParseExact)return function(i,e,a){var t=i.toLocaleLowerCase(),o,d,c;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;12>o;++o)c=l([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(c,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(c,"").toLocaleLowerCase();return a?"MMM"===e?-1===(d=ge.call(this._shortMonthsParse,t))?null:d:-1===(d=ge.call(this._longMonthsParse,t))?null:d:"MMM"===e?-1!==(d=ge.call(this._shortMonthsParse,t))||-1!==(d=ge.call(this._longMonthsParse,t))?d:null:-1!==(d=ge.call(this._longMonthsParse,t))||-1!==(d=ge.call(this._shortMonthsParse,t))?d:null}.call(this,i,e,a);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),t=0;12>t;t++){if(o=l([2e3,t]),a&&!this._longMonthsParse[t]&&(this._longMonthsParse[t]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[t]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),a||this._monthsParse[t]||(d="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[t]=new RegExp(d.replace(".",""),"i")),a&&"MMMM"===e&&this._longMonthsParse[t].test(i))return t;if(a&&"MMM"===e&&this._shortMonthsParse[t].test(i))return t;if(!a&&this._monthsParse[t].test(i))return t}},yt.monthsRegex=function(t){return this._monthsParseExact?(Pe(this,"_monthsRegex")||Ae.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Pe(this,"_monthsRegex")||(this._monthsRegex=me),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},yt.monthsShortRegex=function(t){return this._monthsParseExact?(Pe(this,"_monthsRegex")||Ae.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Pe(this,"_monthsShortRegex")||(this._monthsShortRegex=me),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},yt.week=function(t){return Re(t,this._week.dow,this._week.doy).week},yt.firstDayOfYear=function(){return this._week.doy},yt.firstDayOfWeek=function(){return this._week.dow},yt.weekdays=function(n,e){var a=M(this._weekdays)?this._weekdays:this._weekdays[n&&!0!==n&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===n?Ie(a,this._week.dow):n?a[n.day()]:a},yt.weekdaysMin=function(t){return!0===t?Ie(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},yt.weekdaysShort=function(t){return!0===t?Ie(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},yt.weekdaysParse=function(i,e,a){var t,o,d;if(this._weekdaysParseExact)return function(i,e,a){var t=i.toLocaleLowerCase(),o,d,c;if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;7>o;++o)c=l([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(c,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(c,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(c,"").toLocaleLowerCase();return a?"dddd"===e?-1===(d=ge.call(this._weekdaysParse,t))?null:d:"ddd"===e?-1===(d=ge.call(this._shortWeekdaysParse,t))?null:d:-1===(d=ge.call(this._minWeekdaysParse,t))?null:d:"dddd"===e?-1!==(d=ge.call(this._weekdaysParse,t))||-1!==(d=ge.call(this._shortWeekdaysParse,t))||-1!==(d=ge.call(this._minWeekdaysParse,t))?d:null:"ddd"===e?-1!==(d=ge.call(this._shortWeekdaysParse,t))||-1!==(d=ge.call(this._weekdaysParse,t))||-1!==(d=ge.call(this._minWeekdaysParse,t))?d:null:-1!==(d=ge.call(this._minWeekdaysParse,t))||-1!==(d=ge.call(this._weekdaysParse,t))||-1!==(d=ge.call(this._shortWeekdaysParse,t))?d:null}.call(this,i,e,a);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),t=0;7>t;t++){if(o=l([2e3,1]).day(t),a&&!this._fullWeekdaysParse[t]&&(this._fullWeekdaysParse[t]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[t]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[t]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[t]||(d="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[t]=new RegExp(d.replace(".",""),"i")),a&&"dddd"===e&&this._fullWeekdaysParse[t].test(i))return t;if(a&&"ddd"===e&&this._shortWeekdaysParse[t].test(i))return t;if(a&&"dd"===e&&this._minWeekdaysParse[t].test(i))return t;if(!a&&this._weekdaysParse[t].test(i))return t}},yt.weekdaysRegex=function(t){return this._weekdaysParseExact?(Pe(this,"_weekdaysRegex")||Ue.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Pe(this,"_weekdaysRegex")||(this._weekdaysRegex=me),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},yt.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(Pe(this,"_weekdaysRegex")||Ue.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Pe(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=me),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},yt.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(Pe(this,"_weekdaysRegex")||Ue.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Pe(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=me),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},yt.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},yt.meridiem=function(n,e,a){return 11<n?a?"pm":"PM":a?"am":"AM"},Ze("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===U(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),He.lang=T("moment.lang is deprecated. Use moment.locale instead.",Ze),He.langData=T("moment.langData is deprecated. Use moment.localeData instead.",ea);var pt=ve,gt=St("ms"),jt=St("s"),xt=St("m"),Pt=St("h"),Ot=St("d"),Wt=St("w"),At=St("M"),Et=St("Q"),Ft=St("y"),zt=Ht("milliseconds"),Jt=Ht("seconds"),Rt=Ht("minutes"),Ct=Ht("hours"),It=Ht("days"),Ut=Ht("months"),Gt=Ht("years"),Vt=oe,Ei={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},Kt=ve,Zt=ka.prototype;Zt.isValid=function(){return this._isValid},Zt.abs=function(){var t=this._data;return this._milliseconds=pt(this._milliseconds),this._days=pt(this._days),this._months=pt(this._months),t.milliseconds=pt(t.milliseconds),t.seconds=pt(t.seconds),t.minutes=pt(t.minutes),t.hours=pt(t.hours),t.months=pt(t.months),t.years=pt(t.years),this},Zt.add=function(t,e){return Tt(this,t,e,1)},Zt.subtract=function(t,e){return Tt(this,t,e,-1)},Zt.as=function(n){if(!this.isValid())return NaN;var i=this._milliseconds,s,o;if("month"===(n=E(n))||"quarter"===n||"year"===n)switch(s=this._days+i/864e5,o=this._months+vt(s),n){case"month":return o;case"quarter":return o/3;case"year":return o/12;}else switch(s=this._days+oe(bt(this._months)),n){case"week":return s/7+i/6048e5;case"day":return s+i/864e5;case"hour":return 24*s+i/36e5;case"minute":return 1440*s+i/6e4;case"second":return 86400*s+i/1e3;case"millisecond":return we(864e5*s)+i;default:throw new Error("Unknown unit "+n);}},Zt.asMilliseconds=gt,Zt.asSeconds=jt,Zt.asMinutes=xt,Zt.asHours=Pt,Zt.asDays=Ot,Zt.asWeeks=Wt,Zt.asMonths=At,Zt.asQuarters=Et,Zt.asYears=Ft,Zt.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*U(this._months/12):NaN},Zt._bubble=function(){var o=this._milliseconds,c=this._days,l=this._months,p=this._data,u,m,g,h,f;return 0<=o&&0<=c&&0<=l||0>=o&&0>=c&&0>=l||(o+=864e5*wt(bt(l)+c),l=c=0),p.milliseconds=o%1e3,u=I(o/1e3),p.seconds=u%60,m=I(u/60),p.minutes=m%60,g=I(m/60),p.hours=g%24,c+=I(g/24),l+=f=I(vt(c)),c-=wt(bt(f)),h=I(l/12),l%=12,p.days=c,p.months=l,p.years=h,this},Zt.clone=function(){return Ca(this)},Zt.get=function(t){return t=E(t),this.isValid()?this[t+"s"]():NaN},Zt.milliseconds=zt,Zt.seconds=Jt,Zt.minutes=Rt,Zt.hours=Ct,Zt.days=It,Zt.weeks=function(){return I(this.days()/7)},Zt.months=Ut,Zt.years=Gt,Zt.humanize=function(i,o){if(!this.isValid())return this.localeData().invalidDate();var d=!1,c=Ei,l,p;return"object"==typeof i&&(o=i,i=!1),"boolean"==typeof i&&(d=i),"object"==typeof o&&(c=Object.assign({},Ei,o),null!=o.s&&null==o.ss&&(c.ss=o.s-1)),l=this.localeData(),p=Nt(this,!d,c,l),d&&(p=l.pastFuture(+this,p)),l.postformat(p)},Zt.toISOString=$t,Zt.toString=$t,Zt.toJSON=$t,Zt.locale=et,Zt.localeData=at,Zt.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$t),Zt.lang=$a,H("X",0,0,"unix"),H("x",0,0,"valueOf"),J("x",ie),J("X",/[+-]?\d+(\.\d{1,3})?/),he("X",function(n,e,a){a._d=new Date(1e3*parseFloat(n))}),he("x",function(n,e,a){a._d=new Date(U(n))}),He.version="2.29.1",yi=ba,He.fn=Ti,He.min=function(){return wa("isBefore",[].slice.call(arguments,0))},He.max=function(){return wa("isAfter",[].slice.call(arguments,0))},He.now=function(){return Date.now?Date.now():+new Date},He.utc=l,He.unix=function(t){return ba(1e3*t)},He.months=function(t,e){return kt(t,e,"months")},He.isDate=r,He.locale=Ze,He.invalid=L,He.duration=Ca,He.isMoment=k,He.weekdays=function(n,e,a){return Dt(n,e,a,"weekdays")},He.parseZone=function(){return ba.apply(null,arguments).parseZone()},He.localeData=ea,He.isDuration=Sa,He.monthsShort=function(t,e){return kt(t,e,"monthsShort")},He.weekdaysMin=function(n,e,a){return Dt(n,e,a,"weekdaysMin")},He.defineLocale=nt,He.updateLocale=function(i,e){var o,d,r;return null==e?null!=sa[i]&&(null==sa[i].parentLocale?null!=sa[i]&&delete sa[i]:(sa[i]=sa[i].parentLocale,i===Ze()&&Ze(i))):(r=aa,null!=sa[i]&&null!=sa[i].parentLocale?sa[i].set(v(sa[i]._config,e)):(null!=(d=Xe(i))&&(r=d._config),e=v(r,e),null==d&&(e.abbr=i),(o=new b(e)).parentLocale=sa[i],sa[i]=o),Ze(i)),sa[i]},He.locales=function(){return g(sa)},He.weekdaysShort=function(n,e,a){return Dt(n,e,a,"weekdaysShort")},He.normalizeUnits=E,He.relativeTimeRounding=function(t){return void 0===t?Vt:"function"==typeof t&&(Vt=t,!0)},He.relativeTimeThreshold=function(t,e){return void 0!==Ei[t]&&(void 0===e?Ei[t]:(Ei[t]=e,"s"===t&&(Ei.ss=e-1),!0))},He.calendarFormat=function(n,e){var a=n.diff(e,"days",!0);return-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse"},He.prototype=Ti,He.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},He.defineLocale("af",{months:["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],weekdays:["Sondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrydag","Saterdag"],weekdaysShort:["Son","Maa","Din","Woe","Don","Vry","Sat"],weekdaysMin:["So","Ma","Di","Wo","Do","Vr","Sa"],meridiemParse:/vm|nm/i,isPM:function(t){return /^nm$/i.test(t)},meridiem:function(n,e,a){return 12>n?a?"vm":"VM":a?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xF4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}});var Xt={s:["\u0623\u0642\u0644 \u0645\u0646 \u062B\u0627\u0646\u064A\u0629","\u062B\u0627\u0646\u064A\u0629 \u0648\u0627\u062D\u062F\u0629",["\u062B\u0627\u0646\u064A\u062A\u0627\u0646","\u062B\u0627\u0646\u064A\u062A\u064A\u0646"],"%d \u062B\u0648\u0627\u0646","%d \u062B\u0627\u0646\u064A\u0629","%d \u062B\u0627\u0646\u064A\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062F\u0642\u064A\u0642\u0629","\u062F\u0642\u064A\u0642\u0629 \u0648\u0627\u062D\u062F\u0629",["\u062F\u0642\u064A\u0642\u062A\u0627\u0646","\u062F\u0642\u064A\u0642\u062A\u064A\u0646"],"%d \u062F\u0642\u0627\u0626\u0642","%d \u062F\u0642\u064A\u0642\u0629","%d \u062F\u0642\u064A\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062D\u062F\u0629",["\u0633\u0627\u0639\u062A\u0627\u0646","\u0633\u0627\u0639\u062A\u064A\u0646"],"%d \u0633\u0627\u0639\u0627\u062A","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064A\u0648\u0645","\u064A\u0648\u0645 \u0648\u0627\u062D\u062F",["\u064A\u0648\u0645\u0627\u0646","\u064A\u0648\u0645\u064A\u0646"],"%d \u0623\u064A\u0627\u0645","%d \u064A\u0648\u0645\u064B\u0627","%d \u064A\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062D\u062F",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064A\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062D\u062F",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064A\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064B\u0627","%d \u0639\u0627\u0645"]},Di=["\u062C\u0627\u0646\u0641\u064A","\u0641\u064A\u0641\u0631\u064A","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064A\u0644","\u0645\u0627\u064A","\u062C\u0648\u0627\u0646","\u062C\u0648\u064A\u0644\u064A\u0629","\u0623\u0648\u062A","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"];He.defineLocale("ar-dz",{months:Di,monthsShort:Di,weekdays:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0625\u062B\u0646\u064A\u0646","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],weekdaysShort:["\u0623\u062D\u062F","\u0625\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"],weekdaysMin:["\u062D","\u0646","\u062B","\u0631","\u062E","\u062C","\u0633"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200FM/\u200FYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t){return 12>t?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064A\u0648\u0645 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063A\u062F\u064B\u0627 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062F %s",past:"\u0645\u0646\u0630 %s",s:Ga("s"),ss:Ga("s"),m:Ga("m"),mm:Ga("m"),h:Ga("h"),hh:Ga("h"),d:Ga("d"),dd:Ga("d"),M:Ga("M"),MM:Ga("M"),y:Ga("y"),yy:Ga("y")},postformat:function(t){return t.replace(/,/g,"\u060C")},week:{dow:0,doy:4}}),He.defineLocale("ar-kw",{months:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648\u0632","\u063A\u0634\u062A","\u0634\u062A\u0646\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0646\u0628\u0631","\u062F\u062C\u0646\u0628\u0631"],monthsShort:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648\u0632","\u063A\u0634\u062A","\u0634\u062A\u0646\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0646\u0628\u0631","\u062F\u062C\u0646\u0628\u0631"],weekdays:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0625\u062A\u0646\u064A\u0646","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],weekdaysShort:["\u0627\u062D\u062F","\u0627\u062A\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"],weekdaysMin:["\u062D","\u0646","\u062B","\u0631","\u062E","\u062C","\u0633"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064A\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063A\u062F\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064A %s",past:"\u0645\u0646\u0630 %s",s:"\u062B\u0648\u0627\u0646",ss:"%d \u062B\u0627\u0646\u064A\u0629",m:"\u062F\u0642\u064A\u0642\u0629",mm:"%d \u062F\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062A",d:"\u064A\u0648\u0645",dd:"%d \u0623\u064A\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062A"},week:{dow:0,doy:12}});var Yi={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},Ii={s:["\u0623\u0642\u0644 \u0645\u0646 \u062B\u0627\u0646\u064A\u0629","\u062B\u0627\u0646\u064A\u0629 \u0648\u0627\u062D\u062F\u0629",["\u062B\u0627\u0646\u064A\u062A\u0627\u0646","\u062B\u0627\u0646\u064A\u062A\u064A\u0646"],"%d \u062B\u0648\u0627\u0646","%d \u062B\u0627\u0646\u064A\u0629","%d \u062B\u0627\u0646\u064A\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062F\u0642\u064A\u0642\u0629","\u062F\u0642\u064A\u0642\u0629 \u0648\u0627\u062D\u062F\u0629",["\u062F\u0642\u064A\u0642\u062A\u0627\u0646","\u062F\u0642\u064A\u0642\u062A\u064A\u0646"],"%d \u062F\u0642\u0627\u0626\u0642","%d \u062F\u0642\u064A\u0642\u0629","%d \u062F\u0642\u064A\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062D\u062F\u0629",["\u0633\u0627\u0639\u062A\u0627\u0646","\u0633\u0627\u0639\u062A\u064A\u0646"],"%d \u0633\u0627\u0639\u0627\u062A","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064A\u0648\u0645","\u064A\u0648\u0645 \u0648\u0627\u062D\u062F",["\u064A\u0648\u0645\u0627\u0646","\u064A\u0648\u0645\u064A\u0646"],"%d \u0623\u064A\u0627\u0645","%d \u064A\u0648\u0645\u064B\u0627","%d \u064A\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062D\u062F",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064A\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062D\u062F",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064A\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064B\u0627","%d \u0639\u0627\u0645"]},ji=["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648","\u0623\u063A\u0633\u0637\u0633","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"];He.defineLocale("ar-ly",{months:ji,monthsShort:ji,weekdays:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0625\u062B\u0646\u064A\u0646","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],weekdaysShort:["\u0623\u062D\u062F","\u0625\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"],weekdaysMin:["\u062D","\u0646","\u062B","\u0631","\u062E","\u062C","\u0633"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200FM/\u200FYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t){return 12>t?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064A\u0648\u0645 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063A\u062F\u064B\u0627 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062F %s",past:"\u0645\u0646\u0630 %s",s:Ja("s"),ss:Ja("s"),m:Ja("m"),mm:Ja("m"),h:Ja("h"),hh:Ja("h"),d:Ja("d"),dd:Ja("d"),M:Ja("M"),MM:Ja("M"),y:Ja("y"),yy:Ja("y")},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return Yi[t]}).replace(/,/g,"\u060C")},week:{dow:6,doy:12}}),He.defineLocale("ar-ma",{months:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648\u0632","\u063A\u0634\u062A","\u0634\u062A\u0646\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0646\u0628\u0631","\u062F\u062C\u0646\u0628\u0631"],monthsShort:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648\u0632","\u063A\u0634\u062A","\u0634\u062A\u0646\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0646\u0628\u0631","\u062F\u062C\u0646\u0628\u0631"],weekdays:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0625\u062B\u0646\u064A\u0646","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],weekdaysShort:["\u0627\u062D\u062F","\u0627\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"],weekdaysMin:["\u062D","\u0646","\u062B","\u0631","\u062E","\u062C","\u0633"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064A\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063A\u062F\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064A %s",past:"\u0645\u0646\u0630 %s",s:"\u062B\u0648\u0627\u0646",ss:"%d \u062B\u0627\u0646\u064A\u0629",m:"\u062F\u0642\u064A\u0642\u0629",mm:"%d \u062F\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062A",d:"\u064A\u0648\u0645",dd:"%d \u0623\u064A\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062A"},week:{dow:1,doy:4}});var Ni={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},Oi={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};He.defineLocale("ar-sa",{months:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648","\u0623\u063A\u0633\u0637\u0633","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"],monthsShort:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648","\u0623\u063A\u0633\u0637\u0633","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"],weekdays:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0625\u062B\u0646\u064A\u0646","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],weekdaysShort:["\u0623\u062D\u062F","\u0625\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"],weekdaysMin:["\u062D","\u0646","\u062B","\u0631","\u062E","\u062C","\u0633"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t){return 12>t?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064A\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063A\u062F\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064A %s",past:"\u0645\u0646\u0630 %s",s:"\u062B\u0648\u0627\u0646",ss:"%d \u062B\u0627\u0646\u064A\u0629",m:"\u062F\u0642\u064A\u0642\u0629",mm:"%d \u062F\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062A",d:"\u064A\u0648\u0645",dd:"%d \u0623\u064A\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062A"},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(t){return Oi[t]}).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return Ni[t]}).replace(/,/g,"\u060C")},week:{dow:0,doy:6}}),He.defineLocale("ar-tn",{months:["\u062C\u0627\u0646\u0641\u064A","\u0641\u064A\u0641\u0631\u064A","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064A\u0644","\u0645\u0627\u064A","\u062C\u0648\u0627\u0646","\u062C\u0648\u064A\u0644\u064A\u0629","\u0623\u0648\u062A","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"],monthsShort:["\u062C\u0627\u0646\u0641\u064A","\u0641\u064A\u0641\u0631\u064A","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064A\u0644","\u0645\u0627\u064A","\u062C\u0648\u0627\u0646","\u062C\u0648\u064A\u0644\u064A\u0629","\u0623\u0648\u062A","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"],weekdays:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0625\u062B\u0646\u064A\u0646","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],weekdaysShort:["\u0623\u062D\u062F","\u0625\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"],weekdaysMin:["\u062D","\u0646","\u062B","\u0631","\u062E","\u062C","\u0633"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064A\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063A\u062F\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064A %s",past:"\u0645\u0646\u0630 %s",s:"\u062B\u0648\u0627\u0646",ss:"%d \u062B\u0627\u0646\u064A\u0629",m:"\u062F\u0642\u064A\u0642\u0629",mm:"%d \u062F\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062A",d:"\u064A\u0648\u0645",dd:"%d \u0623\u064A\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062A"},week:{dow:1,doy:4}});var Ri={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},Hi={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},Pi={s:["\u0623\u0642\u0644 \u0645\u0646 \u062B\u0627\u0646\u064A\u0629","\u062B\u0627\u0646\u064A\u0629 \u0648\u0627\u062D\u062F\u0629",["\u062B\u0627\u0646\u064A\u062A\u0627\u0646","\u062B\u0627\u0646\u064A\u062A\u064A\u0646"],"%d \u062B\u0648\u0627\u0646","%d \u062B\u0627\u0646\u064A\u0629","%d \u062B\u0627\u0646\u064A\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062F\u0642\u064A\u0642\u0629","\u062F\u0642\u064A\u0642\u0629 \u0648\u0627\u062D\u062F\u0629",["\u062F\u0642\u064A\u0642\u062A\u0627\u0646","\u062F\u0642\u064A\u0642\u062A\u064A\u0646"],"%d \u062F\u0642\u0627\u0626\u0642","%d \u062F\u0642\u064A\u0642\u0629","%d \u062F\u0642\u064A\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062D\u062F\u0629",["\u0633\u0627\u0639\u062A\u0627\u0646","\u0633\u0627\u0639\u062A\u064A\u0646"],"%d \u0633\u0627\u0639\u0627\u062A","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064A\u0648\u0645","\u064A\u0648\u0645 \u0648\u0627\u062D\u062F",["\u064A\u0648\u0645\u0627\u0646","\u064A\u0648\u0645\u064A\u0646"],"%d \u0623\u064A\u0627\u0645","%d \u064A\u0648\u0645\u064B\u0627","%d \u064A\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062D\u062F",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064A\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062D\u062F",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064A\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064B\u0627","%d \u0639\u0627\u0645"]},Bi=["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648","\u0623\u063A\u0633\u0637\u0633","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"];He.defineLocale("ar",{months:Bi,monthsShort:Bi,weekdays:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0625\u062B\u0646\u064A\u0646","\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062E\u0645\u064A\u0633","\u0627\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],weekdaysShort:["\u0623\u062D\u062F","\u0625\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"],weekdaysMin:["\u062D","\u0646","\u062B","\u0631","\u062E","\u062C","\u0633"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200FM/\u200FYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t){return 12>t?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064A\u0648\u0645 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063A\u062F\u064B\u0627 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062F \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062F %s",past:"\u0645\u0646\u0630 %s",s:Xa("s"),ss:Xa("s"),m:Xa("m"),mm:Xa("m"),h:Xa("h"),hh:Xa("h"),d:Xa("d"),dd:Xa("d"),M:Xa("M"),MM:Xa("M"),y:Xa("y"),yy:Xa("y")},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(t){return Hi[t]}).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return Ri[t]}).replace(/,/g,"\u060C")},week:{dow:6,doy:12}});var $i={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xFCnc\xFC",4:"-\xFCnc\xFC",100:"-\xFCnc\xFC",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};He.defineLocale("az",{months:["yanvar","fevral","mart","aprel","may","iyun","iyul","avqust","sentyabr","oktyabr","noyabr","dekabr"],monthsShort:["yan","fev","mar","apr","may","iyn","iyl","avq","sen","okt","noy","dek"],weekdays:["Bazar","Bazar ert\u0259si","\xC7\u0259r\u015F\u0259nb\u0259 ax\u015Fam\u0131","\xC7\u0259r\u015F\u0259nb\u0259","C\xFCm\u0259 ax\u015Fam\u0131","C\xFCm\u0259","\u015E\u0259nb\u0259"],weekdaysShort:["Baz","BzE","\xC7Ax","\xC7\u0259r","CAx","C\xFCm","\u015E\u0259n"],weekdaysMin:["Bz","BE","\xC7A","\xC7\u0259","CA","C\xFC","\u015E\u0259"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xFCn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xFCn\u0259n] LT",lastWeek:"[ke\xE7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xE7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xFCn",dd:"%d g\xFCn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(t){return /^(g\xfcnd\xfcz|ax\u015fam)$/.test(t)},meridiem:function(t){return 4>t?"gec\u0259":12>t?"s\u0259h\u0259r":17>t?"g\xFCnd\xFCz":"ax\u015Fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(t){if(0===t)return t+"-\u0131nc\u0131";var e=t%10;return t+($i[e]||$i[t%100-e]||$i[100<=t?100:null])},week:{dow:1,doy:7}}),He.defineLocale("be",{months:{format:["\u0441\u0442\u0443\u0434\u0437\u0435\u043D\u044F","\u043B\u044E\u0442\u0430\u0433\u0430","\u0441\u0430\u043A\u0430\u0432\u0456\u043A\u0430","\u043A\u0440\u0430\u0441\u0430\u0432\u0456\u043A\u0430","\u0442\u0440\u0430\u045E\u043D\u044F","\u0447\u044D\u0440\u0432\u0435\u043D\u044F","\u043B\u0456\u043F\u0435\u043D\u044F","\u0436\u043D\u0456\u045E\u043D\u044F","\u0432\u0435\u0440\u0430\u0441\u043D\u044F","\u043A\u0430\u0441\u0442\u0440\u044B\u0447\u043D\u0456\u043A\u0430","\u043B\u0456\u0441\u0442\u0430\u043F\u0430\u0434\u0430","\u0441\u043D\u0435\u0436\u043D\u044F"],standalone:["\u0441\u0442\u0443\u0434\u0437\u0435\u043D\u044C","\u043B\u044E\u0442\u044B","\u0441\u0430\u043A\u0430\u0432\u0456\u043A","\u043A\u0440\u0430\u0441\u0430\u0432\u0456\u043A","\u0442\u0440\u0430\u0432\u0435\u043D\u044C","\u0447\u044D\u0440\u0432\u0435\u043D\u044C","\u043B\u0456\u043F\u0435\u043D\u044C","\u0436\u043D\u0456\u0432\u0435\u043D\u044C","\u0432\u0435\u0440\u0430\u0441\u0435\u043D\u044C","\u043A\u0430\u0441\u0442\u0440\u044B\u0447\u043D\u0456\u043A","\u043B\u0456\u0441\u0442\u0430\u043F\u0430\u0434","\u0441\u043D\u0435\u0436\u0430\u043D\u044C"]},monthsShort:["\u0441\u0442\u0443\u0434","\u043B\u044E\u0442","\u0441\u0430\u043A","\u043A\u0440\u0430\u0441","\u0442\u0440\u0430\u0432","\u0447\u044D\u0440\u0432","\u043B\u0456\u043F","\u0436\u043D\u0456\u0432","\u0432\u0435\u0440","\u043A\u0430\u0441\u0442","\u043B\u0456\u0441\u0442","\u0441\u043D\u0435\u0436"],weekdays:{format:["\u043D\u044F\u0434\u0437\u0435\u043B\u044E","\u043F\u0430\u043D\u044F\u0434\u0437\u0435\u043B\u0430\u043A","\u0430\u045E\u0442\u043E\u0440\u0430\u043A","\u0441\u0435\u0440\u0430\u0434\u0443","\u0447\u0430\u0446\u0432\u0435\u0440","\u043F\u044F\u0442\u043D\u0456\u0446\u0443","\u0441\u0443\u0431\u043E\u0442\u0443"],standalone:["\u043D\u044F\u0434\u0437\u0435\u043B\u044F","\u043F\u0430\u043D\u044F\u0434\u0437\u0435\u043B\u0430\u043A","\u0430\u045E\u0442\u043E\u0440\u0430\u043A","\u0441\u0435\u0440\u0430\u0434\u0430","\u0447\u0430\u0446\u0432\u0435\u0440","\u043F\u044F\u0442\u043D\u0456\u0446\u0430","\u0441\u0443\u0431\u043E\u0442\u0430"],isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:["\u043D\u0434","\u043F\u043D","\u0430\u0442","\u0441\u0440","\u0447\u0446","\u043F\u0442","\u0441\u0431"],weekdaysMin:["\u043D\u0434","\u043F\u043D","\u0430\u0442","\u0441\u0440","\u0447\u0446","\u043F\u0442","\u0441\u0431"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043D\u043D\u044F \u045E] LT",nextDay:"[\u0417\u0430\u045E\u0442\u0440\u0430 \u045E] LT",lastDay:"[\u0423\u0447\u043E\u0440\u0430 \u045E] LT",nextWeek:function(){return"[\u0423] dddd [\u045E] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043C\u0456\u043D\u0443\u043B\u0443\u044E] dddd [\u045E] LT";case 1:case 2:case 4:return"[\u0423 \u043C\u0456\u043D\u0443\u043B\u044B] dddd [\u045E] LT";}},sameElse:"L"},relativeTime:{future:"\u043F\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043C\u0443",s:"\u043D\u0435\u043A\u0430\u043B\u044C\u043A\u0456 \u0441\u0435\u043A\u0443\u043D\u0434",m:ei,mm:ei,h:ei,hh:ei,d:"\u0434\u0437\u0435\u043D\u044C",dd:ei,M:"\u043C\u0435\u0441\u044F\u0446",MM:ei,y:"\u0433\u043E\u0434",yy:ei},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(t){return /^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(t)},meridiem:function(t){return 4>t?"\u043D\u043E\u0447\u044B":12>t?"\u0440\u0430\u043D\u0456\u0446\u044B":17>t?"\u0434\u043D\u044F":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(t,e){return"M"===e||"d"===e||"DDD"===e||"w"===e||"W"===e?2!=t%10&&3!=t%10||12==t%100||13==t%100?t+"-\u044B":t+"-\u0456":"D"===e?t+"-\u0433\u0430":t},week:{dow:1,doy:7}}),He.defineLocale("bg",{months:["\u044F\u043D\u0443\u0430\u0440\u0438","\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0438\u043B","\u043C\u0430\u0439","\u044E\u043D\u0438","\u044E\u043B\u0438","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043F\u0442\u0435\u043C\u0432\u0440\u0438","\u043E\u043A\u0442\u043E\u043C\u0432\u0440\u0438","\u043D\u043E\u0435\u043C\u0432\u0440\u0438","\u0434\u0435\u043A\u0435\u043C\u0432\u0440\u0438"],monthsShort:["\u044F\u043D\u0443","\u0444\u0435\u0432","\u043C\u0430\u0440","\u0430\u043F\u0440","\u043C\u0430\u0439","\u044E\u043D\u0438","\u044E\u043B\u0438","\u0430\u0432\u0433","\u0441\u0435\u043F","\u043E\u043A\u0442","\u043D\u043E\u0435","\u0434\u0435\u043A"],weekdays:["\u043D\u0435\u0434\u0435\u043B\u044F","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u044F\u0434\u0430","\u0447\u0435\u0442\u0432\u044A\u0440\u0442\u044A\u043A","\u043F\u0435\u0442\u044A\u043A","\u0441\u044A\u0431\u043E\u0442\u0430"],weekdaysShort:["\u043D\u0435\u0434","\u043F\u043E\u043D","\u0432\u0442\u043E","\u0441\u0440\u044F","\u0447\u0435\u0442","\u043F\u0435\u0442","\u0441\u044A\u0431"],weekdaysMin:["\u043D\u0434","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043D\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041C\u0438\u043D\u0430\u043B\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041C\u0438\u043D\u0430\u043B\u0438\u044F] dddd [\u0432] LT";}},sameElse:"L"},relativeTime:{future:"\u0441\u043B\u0435\u0434 %s",past:"\u043F\u0440\u0435\u0434\u0438 %s",s:"\u043D\u044F\u043A\u043E\u043B\u043A\u043E \u0441\u0435\u043A\u0443\u043D\u0434\u0438",ss:"%d \u0441\u0435\u043A\u0443\u043D\u0434\u0438",m:"\u043C\u0438\u043D\u0443\u0442\u0430",mm:"%d \u043C\u0438\u043D\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043D",dd:"%d \u0434\u0435\u043D\u0430",w:"\u0441\u0435\u0434\u043C\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043C\u0438\u0446\u0438",M:"\u043C\u0435\u0441\u0435\u0446",MM:"%d \u043C\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043E\u0434\u0438\u043D\u0430",yy:"%d \u0433\u043E\u0434\u0438\u043D\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(n){var e=n%10,a=n%100;return 0===n?n+"-\u0435\u0432":0==a?n+"-\u0435\u043D":10<a&&20>a?n+"-\u0442\u0438":1==e?n+"-\u0432\u0438":2==e?n+"-\u0440\u0438":7==e||8==e?n+"-\u043C\u0438":n+"-\u0442\u0438"},week:{dow:1,doy:7}}),He.defineLocale("bm",{months:["Zanwuyekalo","Fewuruyekalo","Marisikalo","Awirilikalo","M\u025Bkalo","Zuw\u025Bnkalo","Zuluyekalo","Utikalo","S\u025Btanburukalo","\u0254kut\u0254burukalo","Nowanburukalo","Desanburukalo"],monthsShort:["Zan","Few","Mar","Awi","M\u025B","Zuw","Zul","Uti","S\u025Bt","\u0254ku","Now","Des"],weekdays:["Kari","Nt\u025Bn\u025Bn","Tarata","Araba","Alamisa","Juma","Sibiri"],weekdaysShort:["Kar","Nt\u025B","Tar","Ara","Ala","Jum","Sib"],weekdaysMin:["Ka","Nt","Ta","Ar","Al","Ju","Si"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025Br\u025B] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025Br\u025B] HH:mm"},calendar:{sameDay:"[Bi l\u025Br\u025B] LT",nextDay:"[Sini l\u025Br\u025B] LT",nextWeek:"dddd [don l\u025Br\u025B] LT",lastDay:"[Kunu l\u025Br\u025B] LT",lastWeek:"dddd [t\u025Bm\u025Bnen l\u025Br\u025B] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025B %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025Br\u025B kelen",hh:"l\u025Br\u025B %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});var Fi={1:"\u09E7",2:"\u09E8",3:"\u09E9",4:"\u09EA",5:"\u09EB",6:"\u09EC",7:"\u09ED",8:"\u09EE",9:"\u09EF",0:"\u09E6"},Vi={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};He.defineLocale("bn-bd",{months:["\u099C\u09BE\u09A8\u09C1\u09DF\u09BE\u09B0\u09BF","\u09AB\u09C7\u09AC\u09CD\u09B0\u09C1\u09DF\u09BE\u09B0\u09BF","\u09AE\u09BE\u09B0\u09CD\u099A","\u098F\u09AA\u09CD\u09B0\u09BF\u09B2","\u09AE\u09C7","\u099C\u09C1\u09A8","\u099C\u09C1\u09B2\u09BE\u0987","\u0986\u0997\u09B8\u09CD\u099F","\u09B8\u09C7\u09AA\u09CD\u099F\u09C7\u09AE\u09CD\u09AC\u09B0","\u0985\u0995\u09CD\u099F\u09CB\u09AC\u09B0","\u09A8\u09AD\u09C7\u09AE\u09CD\u09AC\u09B0","\u09A1\u09BF\u09B8\u09C7\u09AE\u09CD\u09AC\u09B0"],monthsShort:["\u099C\u09BE\u09A8\u09C1","\u09AB\u09C7\u09AC\u09CD\u09B0\u09C1","\u09AE\u09BE\u09B0\u09CD\u099A","\u098F\u09AA\u09CD\u09B0\u09BF\u09B2","\u09AE\u09C7","\u099C\u09C1\u09A8","\u099C\u09C1\u09B2\u09BE\u0987","\u0986\u0997\u09B8\u09CD\u099F","\u09B8\u09C7\u09AA\u09CD\u099F","\u0985\u0995\u09CD\u099F\u09CB","\u09A8\u09AD\u09C7","\u09A1\u09BF\u09B8\u09C7"],weekdays:["\u09B0\u09AC\u09BF\u09AC\u09BE\u09B0","\u09B8\u09CB\u09AE\u09AC\u09BE\u09B0","\u09AE\u0999\u09CD\u0997\u09B2\u09AC\u09BE\u09B0","\u09AC\u09C1\u09A7\u09AC\u09BE\u09B0","\u09AC\u09C3\u09B9\u09B8\u09CD\u09AA\u09A4\u09BF\u09AC\u09BE\u09B0","\u09B6\u09C1\u0995\u09CD\u09B0\u09AC\u09BE\u09B0","\u09B6\u09A8\u09BF\u09AC\u09BE\u09B0"],weekdaysShort:["\u09B0\u09AC\u09BF","\u09B8\u09CB\u09AE","\u09AE\u0999\u09CD\u0997\u09B2","\u09AC\u09C1\u09A7","\u09AC\u09C3\u09B9\u09B8\u09CD\u09AA\u09A4\u09BF","\u09B6\u09C1\u0995\u09CD\u09B0","\u09B6\u09A8\u09BF"],weekdaysMin:["\u09B0\u09AC\u09BF","\u09B8\u09CB\u09AE","\u09AE\u0999\u09CD\u0997\u09B2","\u09AC\u09C1\u09A7","\u09AC\u09C3\u09B9","\u09B6\u09C1\u0995\u09CD\u09B0","\u09B6\u09A8\u09BF"],longDateFormat:{LT:"A h:mm \u09B8\u09AE\u09DF",LTS:"A h:mm:ss \u09B8\u09AE\u09DF",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09B8\u09AE\u09DF",LLLL:"dddd, D MMMM YYYY, A h:mm \u09B8\u09AE\u09DF"},calendar:{sameDay:"[\u0986\u099C] LT",nextDay:"[\u0986\u0997\u09BE\u09AE\u09C0\u0995\u09BE\u09B2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09A4\u0995\u09BE\u09B2] LT",lastWeek:"[\u0997\u09A4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09AA\u09B0\u09C7",past:"%s \u0986\u0997\u09C7",s:"\u0995\u09DF\u09C7\u0995 \u09B8\u09C7\u0995\u09C7\u09A8\u09CD\u09A1",ss:"%d \u09B8\u09C7\u0995\u09C7\u09A8\u09CD\u09A1",m:"\u098F\u0995 \u09AE\u09BF\u09A8\u09BF\u099F",mm:"%d \u09AE\u09BF\u09A8\u09BF\u099F",h:"\u098F\u0995 \u0998\u09A8\u09CD\u099F\u09BE",hh:"%d \u0998\u09A8\u09CD\u099F\u09BE",d:"\u098F\u0995 \u09A6\u09BF\u09A8",dd:"%d \u09A6\u09BF\u09A8",M:"\u098F\u0995 \u09AE\u09BE\u09B8",MM:"%d \u09AE\u09BE\u09B8",y:"\u098F\u0995 \u09AC\u099B\u09B0",yy:"%d \u09AC\u099B\u09B0"},preparse:function(t){return t.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(t){return Vi[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Fi[t]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(t,n){return 12===t&&(t=0),"\u09B0\u09BE\u09A4"===n?4>t?t:t+12:"\u09AD\u09CB\u09B0"===n||"\u09B8\u0995\u09BE\u09B2"===n?t:"\u09A6\u09C1\u09AA\u09C1\u09B0"===n?3<=t?t:t+12:"\u09AC\u09BF\u0995\u09BE\u09B2"===n||"\u09B8\u09A8\u09CD\u09A7\u09CD\u09AF\u09BE"===n?t+12:void 0},meridiem:function(t){return 4>t?"\u09B0\u09BE\u09A4":6>t?"\u09AD\u09CB\u09B0":12>t?"\u09B8\u0995\u09BE\u09B2":15>t?"\u09A6\u09C1\u09AA\u09C1\u09B0":18>t?"\u09AC\u09BF\u0995\u09BE\u09B2":20>t?"\u09B8\u09A8\u09CD\u09A7\u09CD\u09AF\u09BE":"\u09B0\u09BE\u09A4"},week:{dow:0,doy:6}});var Ui={1:"\u09E7",2:"\u09E8",3:"\u09E9",4:"\u09EA",5:"\u09EB",6:"\u09EC",7:"\u09ED",8:"\u09EE",9:"\u09EF",0:"\u09E6"},qi={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};He.defineLocale("bn",{months:["\u099C\u09BE\u09A8\u09C1\u09DF\u09BE\u09B0\u09BF","\u09AB\u09C7\u09AC\u09CD\u09B0\u09C1\u09DF\u09BE\u09B0\u09BF","\u09AE\u09BE\u09B0\u09CD\u099A","\u098F\u09AA\u09CD\u09B0\u09BF\u09B2","\u09AE\u09C7","\u099C\u09C1\u09A8","\u099C\u09C1\u09B2\u09BE\u0987","\u0986\u0997\u09B8\u09CD\u099F","\u09B8\u09C7\u09AA\u09CD\u099F\u09C7\u09AE\u09CD\u09AC\u09B0","\u0985\u0995\u09CD\u099F\u09CB\u09AC\u09B0","\u09A8\u09AD\u09C7\u09AE\u09CD\u09AC\u09B0","\u09A1\u09BF\u09B8\u09C7\u09AE\u09CD\u09AC\u09B0"],monthsShort:["\u099C\u09BE\u09A8\u09C1","\u09AB\u09C7\u09AC\u09CD\u09B0\u09C1","\u09AE\u09BE\u09B0\u09CD\u099A","\u098F\u09AA\u09CD\u09B0\u09BF\u09B2","\u09AE\u09C7","\u099C\u09C1\u09A8","\u099C\u09C1\u09B2\u09BE\u0987","\u0986\u0997\u09B8\u09CD\u099F","\u09B8\u09C7\u09AA\u09CD\u099F","\u0985\u0995\u09CD\u099F\u09CB","\u09A8\u09AD\u09C7","\u09A1\u09BF\u09B8\u09C7"],weekdays:["\u09B0\u09AC\u09BF\u09AC\u09BE\u09B0","\u09B8\u09CB\u09AE\u09AC\u09BE\u09B0","\u09AE\u0999\u09CD\u0997\u09B2\u09AC\u09BE\u09B0","\u09AC\u09C1\u09A7\u09AC\u09BE\u09B0","\u09AC\u09C3\u09B9\u09B8\u09CD\u09AA\u09A4\u09BF\u09AC\u09BE\u09B0","\u09B6\u09C1\u0995\u09CD\u09B0\u09AC\u09BE\u09B0","\u09B6\u09A8\u09BF\u09AC\u09BE\u09B0"],weekdaysShort:["\u09B0\u09AC\u09BF","\u09B8\u09CB\u09AE","\u09AE\u0999\u09CD\u0997\u09B2","\u09AC\u09C1\u09A7","\u09AC\u09C3\u09B9\u09B8\u09CD\u09AA\u09A4\u09BF","\u09B6\u09C1\u0995\u09CD\u09B0","\u09B6\u09A8\u09BF"],weekdaysMin:["\u09B0\u09AC\u09BF","\u09B8\u09CB\u09AE","\u09AE\u0999\u09CD\u0997\u09B2","\u09AC\u09C1\u09A7","\u09AC\u09C3\u09B9","\u09B6\u09C1\u0995\u09CD\u09B0","\u09B6\u09A8\u09BF"],longDateFormat:{LT:"A h:mm \u09B8\u09AE\u09DF",LTS:"A h:mm:ss \u09B8\u09AE\u09DF",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09B8\u09AE\u09DF",LLLL:"dddd, D MMMM YYYY, A h:mm \u09B8\u09AE\u09DF"},calendar:{sameDay:"[\u0986\u099C] LT",nextDay:"[\u0986\u0997\u09BE\u09AE\u09C0\u0995\u09BE\u09B2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09A4\u0995\u09BE\u09B2] LT",lastWeek:"[\u0997\u09A4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09AA\u09B0\u09C7",past:"%s \u0986\u0997\u09C7",s:"\u0995\u09DF\u09C7\u0995 \u09B8\u09C7\u0995\u09C7\u09A8\u09CD\u09A1",ss:"%d \u09B8\u09C7\u0995\u09C7\u09A8\u09CD\u09A1",m:"\u098F\u0995 \u09AE\u09BF\u09A8\u09BF\u099F",mm:"%d \u09AE\u09BF\u09A8\u09BF\u099F",h:"\u098F\u0995 \u0998\u09A8\u09CD\u099F\u09BE",hh:"%d \u0998\u09A8\u09CD\u099F\u09BE",d:"\u098F\u0995 \u09A6\u09BF\u09A8",dd:"%d \u09A6\u09BF\u09A8",M:"\u098F\u0995 \u09AE\u09BE\u09B8",MM:"%d \u09AE\u09BE\u09B8",y:"\u098F\u0995 \u09AC\u099B\u09B0",yy:"%d \u09AC\u099B\u09B0"},preparse:function(t){return t.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(t){return qi[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Ui[t]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(t,n){return 12===t&&(t=0),"\u09B0\u09BE\u09A4"===n&&4<=t||"\u09A6\u09C1\u09AA\u09C1\u09B0"===n&&5>t||"\u09AC\u09BF\u0995\u09BE\u09B2"===n?t+12:t},meridiem:function(t){return 4>t?"\u09B0\u09BE\u09A4":10>t?"\u09B8\u0995\u09BE\u09B2":17>t?"\u09A6\u09C1\u09AA\u09C1\u09B0":20>t?"\u09AC\u09BF\u0995\u09BE\u09B2":"\u09B0\u09BE\u09A4"},week:{dow:0,doy:6}});var Wi={1:"\u0F21",2:"\u0F22",3:"\u0F23",4:"\u0F24",5:"\u0F25",6:"\u0F26",7:"\u0F27",8:"\u0F28",9:"\u0F29",0:"\u0F20"},zi={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};He.defineLocale("bo",{months:["\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F51\u0F44\u0F0B\u0F54\u0F7C","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F42\u0F49\u0F72\u0F66\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F42\u0F66\u0F74\u0F58\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F5E\u0F72\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F63\u0F94\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F51\u0FB2\u0F74\u0F42\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F51\u0F74\u0F53\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F62\u0F92\u0FB1\u0F51\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F51\u0F42\u0F74\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F45\u0F74\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F45\u0F74\u0F0B\u0F42\u0F45\u0F72\u0F42\u0F0B\u0F54","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F56\u0F45\u0F74\u0F0B\u0F42\u0F49\u0F72\u0F66\u0F0B\u0F54"],monthsShort:["\u0F5F\u0FB3\u0F0B1","\u0F5F\u0FB3\u0F0B2","\u0F5F\u0FB3\u0F0B3","\u0F5F\u0FB3\u0F0B4","\u0F5F\u0FB3\u0F0B5","\u0F5F\u0FB3\u0F0B6","\u0F5F\u0FB3\u0F0B7","\u0F5F\u0FB3\u0F0B8","\u0F5F\u0FB3\u0F0B9","\u0F5F\u0FB3\u0F0B10","\u0F5F\u0FB3\u0F0B11","\u0F5F\u0FB3\u0F0B12"],monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:["\u0F42\u0F5F\u0F60\u0F0B\u0F49\u0F72\u0F0B\u0F58\u0F0B","\u0F42\u0F5F\u0F60\u0F0B\u0F5F\u0FB3\u0F0B\u0F56\u0F0B","\u0F42\u0F5F\u0F60\u0F0B\u0F58\u0F72\u0F42\u0F0B\u0F51\u0F58\u0F62\u0F0B","\u0F42\u0F5F\u0F60\u0F0B\u0F63\u0FB7\u0F42\u0F0B\u0F54\u0F0B","\u0F42\u0F5F\u0F60\u0F0B\u0F55\u0F74\u0F62\u0F0B\u0F56\u0F74","\u0F42\u0F5F\u0F60\u0F0B\u0F54\u0F0B\u0F66\u0F44\u0F66\u0F0B","\u0F42\u0F5F\u0F60\u0F0B\u0F66\u0FA4\u0F7A\u0F53\u0F0B\u0F54\u0F0B"],weekdaysShort:["\u0F49\u0F72\u0F0B\u0F58\u0F0B","\u0F5F\u0FB3\u0F0B\u0F56\u0F0B","\u0F58\u0F72\u0F42\u0F0B\u0F51\u0F58\u0F62\u0F0B","\u0F63\u0FB7\u0F42\u0F0B\u0F54\u0F0B","\u0F55\u0F74\u0F62\u0F0B\u0F56\u0F74","\u0F54\u0F0B\u0F66\u0F44\u0F66\u0F0B","\u0F66\u0FA4\u0F7A\u0F53\u0F0B\u0F54\u0F0B"],weekdaysMin:["\u0F49\u0F72","\u0F5F\u0FB3","\u0F58\u0F72\u0F42","\u0F63\u0FB7\u0F42","\u0F55\u0F74\u0F62","\u0F66\u0F44\u0F66","\u0F66\u0FA4\u0F7A\u0F53"],longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0F51\u0F72\u0F0B\u0F62\u0F72\u0F44] LT",nextDay:"[\u0F66\u0F44\u0F0B\u0F49\u0F72\u0F53] LT",nextWeek:"[\u0F56\u0F51\u0F74\u0F53\u0F0B\u0F55\u0FB2\u0F42\u0F0B\u0F62\u0F97\u0F7A\u0F66\u0F0B\u0F58], LT",lastDay:"[\u0F41\u0F0B\u0F66\u0F44] LT",lastWeek:"[\u0F56\u0F51\u0F74\u0F53\u0F0B\u0F55\u0FB2\u0F42\u0F0B\u0F58\u0F50\u0F60\u0F0B\u0F58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0F63\u0F0B",past:"%s \u0F66\u0F94\u0F53\u0F0B\u0F63",s:"\u0F63\u0F58\u0F0B\u0F66\u0F44",ss:"%d \u0F66\u0F90\u0F62\u0F0B\u0F46\u0F0D",m:"\u0F66\u0F90\u0F62\u0F0B\u0F58\u0F0B\u0F42\u0F45\u0F72\u0F42",mm:"%d \u0F66\u0F90\u0F62\u0F0B\u0F58",h:"\u0F46\u0F74\u0F0B\u0F5A\u0F7C\u0F51\u0F0B\u0F42\u0F45\u0F72\u0F42",hh:"%d \u0F46\u0F74\u0F0B\u0F5A\u0F7C\u0F51",d:"\u0F49\u0F72\u0F53\u0F0B\u0F42\u0F45\u0F72\u0F42",dd:"%d \u0F49\u0F72\u0F53\u0F0B",M:"\u0F5F\u0FB3\u0F0B\u0F56\u0F0B\u0F42\u0F45\u0F72\u0F42",MM:"%d \u0F5F\u0FB3\u0F0B\u0F56",y:"\u0F63\u0F7C\u0F0B\u0F42\u0F45\u0F72\u0F42",yy:"%d \u0F63\u0F7C"},preparse:function(t){return t.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(t){return zi[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Wi[t]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(t,n){return 12===t&&(t=0),"\u0F58\u0F5A\u0F53\u0F0B\u0F58\u0F7C"===n&&4<=t||"\u0F49\u0F72\u0F53\u0F0B\u0F42\u0F74\u0F44"===n&&5>t||"\u0F51\u0F42\u0F7C\u0F44\u0F0B\u0F51\u0F42"===n?t+12:t},meridiem:function(t){return 4>t?"\u0F58\u0F5A\u0F53\u0F0B\u0F58\u0F7C":10>t?"\u0F5E\u0F7C\u0F42\u0F66\u0F0B\u0F40\u0F66":17>t?"\u0F49\u0F72\u0F53\u0F0B\u0F42\u0F74\u0F44":20>t?"\u0F51\u0F42\u0F7C\u0F44\u0F0B\u0F51\u0F42":"\u0F58\u0F5A\u0F53\u0F0B\u0F58\u0F7C"},week:{dow:0,doy:6}});var Gi=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],Qi=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,Ji=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];He.defineLocale("br",{months:["Genver","C\u02BChwevrer","Meurzh","Ebrel","Mae","Mezheven","Gouere","Eost","Gwengolo","Here","Du","Kerzu"],monthsShort:["Gen","C\u02BChwe","Meu","Ebr","Mae","Eve","Gou","Eos","Gwe","Her","Du","Ker"],weekdays:["Sul","Lun","Meurzh","Merc\u02BCher","Yaou","Gwener","Sadorn"],weekdaysShort:["Sul","Lun","Meu","Mer","Yao","Gwe","Sad"],weekdaysMin:["Su","Lu","Me","Mer","Ya","Gw","Sa"],weekdaysParse:Ji,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:Ji,monthsRegex:Qi,monthsShortRegex:Qi,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:Gi,longMonthsParse:Gi,shortMonthsParse:Gi,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02BChoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02BCh da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02BCzo",s:"un nebeud segondenno\xF9",ss:"%d eilenn",m:"ur vunutenn",mm:ti,h:"un eur",hh:"%d eur",d:"un devezh",dd:ti,M:"ur miz",MM:ti,y:"ur bloaz",yy:function(t){switch(function t(e){return 9<e?t(e%10):e}(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz";}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(t){return t+(1===t?"a\xF1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(t){return"g.m."===t},meridiem:function(t){return 12>t?"a.m.":"g.m."}}),He.defineLocale("bs",{months:["januar","februar","mart","april","maj","juni","juli","august","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj.","jun.","jul.","aug.","sep.","okt.","nov.","dec."],monthsParseExact:!0,weekdays:["nedjelja","ponedjeljak","utorak","srijeda","\u010Detvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sri.","\u010Det.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","\u010De","pe","su"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT";}},lastDay:"[ju\u010Der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT";}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:ai,m:ai,mm:ai,h:ai,hh:ai,d:"dan",dd:ai,M:"mjesec",MM:ai,y:"godinu",yy:ai},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),He.defineLocale("ca",{months:{standalone:["gener","febrer","mar\xE7","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],format:["de gener","de febrer","de mar\xE7","d'abril","de maig","de juny","de juliol","d'agost","de setembre","d'octubre","de novembre","de desembre"],isFormat:/D[oD]?(\s)+MMMM/},monthsShort:["gen.","febr.","mar\xE7","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."],monthsParseExact:!0,weekdays:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],weekdaysShort:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],weekdaysMin:["dg","dl","dt","dc","dj","dv","ds"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1===this.hours()?"la":"les")+"] LT"},nextDay:function(){return"[dem\xE0 a "+(1===this.hours()?"la":"les")+"] LT"},nextWeek:function(){return"dddd [a "+(1===this.hours()?"la":"les")+"] LT"},lastDay:function(){return"[ahir a "+(1===this.hours()?"la":"les")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1===this.hours()?"la":"les")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xED %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(t,e){return t+("w"!==e&&"W"!==e?1===t?"r":2===t?"n":3===t?"r":4===t?"t":"\xE8":"a")},week:{dow:1,doy:4}});var Ki=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],Xi=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;He.defineLocale("cs",{months:["leden","\xFAnor","b\u0159ezen","duben","kv\u011Bten","\u010Derven","\u010Dervenec","srpen","z\xE1\u0159\xED","\u0159\xEDjen","listopad","prosinec"],monthsShort:["led","\xFAno","b\u0159e","dub","kv\u011B","\u010Dvn","\u010Dvc","srp","z\xE1\u0159","\u0159\xEDj","lis","pro"],monthsRegex:Xi,monthsShortRegex:Xi,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:Ki,longMonthsParse:Ki,shortMonthsParse:Ki,weekdays:["ned\u011Ble","pond\u011Bl\xED","\xFAter\xFD","st\u0159eda","\u010Dtvrtek","p\xE1tek","sobota"],weekdaysShort:["ne","po","\xFAt","st","\u010Dt","p\xE1","so"],weekdaysMin:["ne","po","\xFAt","st","\u010Dt","p\xE1","so"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xEDtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011Bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010Dtvrtek v] LT";case 5:return"[v p\xE1tek v] LT";case 6:return"[v sobotu v] LT";}},lastDay:"[v\u010Dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011Bli v] LT";case 1:case 2:return"[minul\xE9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xFD] dddd [v] LT";case 6:return"[minulou sobotu v] LT";}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:ii,ss:ii,m:ii,mm:ii,h:ii,hh:ii,d:ii,dd:ii,M:ii,MM:ii,y:ii,yy:ii},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),He.defineLocale("cv",{months:["\u043A\u04D1\u0440\u043B\u0430\u0447","\u043D\u0430\u0440\u04D1\u0441","\u043F\u0443\u0448","\u0430\u043A\u0430","\u043C\u0430\u0439","\u04AB\u04D7\u0440\u0442\u043C\u0435","\u0443\u0442\u04D1","\u04AB\u0443\u0440\u043B\u0430","\u0430\u0432\u04D1\u043D","\u044E\u043F\u0430","\u0447\u04F3\u043A","\u0440\u0430\u0448\u0442\u0430\u0432"],monthsShort:["\u043A\u04D1\u0440","\u043D\u0430\u0440","\u043F\u0443\u0448","\u0430\u043A\u0430","\u043C\u0430\u0439","\u04AB\u04D7\u0440","\u0443\u0442\u04D1","\u04AB\u0443\u0440","\u0430\u0432\u043D","\u044E\u043F\u0430","\u0447\u04F3\u043A","\u0440\u0430\u0448"],weekdays:["\u0432\u044B\u0440\u0441\u0430\u0440\u043D\u0438\u043A\u0443\u043D","\u0442\u0443\u043D\u0442\u0438\u043A\u0443\u043D","\u044B\u0442\u043B\u0430\u0440\u0438\u043A\u0443\u043D","\u044E\u043D\u043A\u0443\u043D","\u043A\u04D7\u04AB\u043D\u0435\u0440\u043D\u0438\u043A\u0443\u043D","\u044D\u0440\u043D\u0435\u043A\u0443\u043D","\u0448\u04D1\u043C\u0430\u0442\u043A\u0443\u043D"],weekdaysShort:["\u0432\u044B\u0440","\u0442\u0443\u043D","\u044B\u0442\u043B","\u044E\u043D","\u043A\u04D7\u04AB","\u044D\u0440\u043D","\u0448\u04D1\u043C"],weekdaysMin:["\u0432\u0440","\u0442\u043D","\u044B\u0442","\u044E\u043D","\u043A\u04AB","\u044D\u0440","\u0448\u043C"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04AB\u0443\u043B\u0445\u0438] MMMM [\u0443\u0439\u04D1\u0445\u04D7\u043D] D[-\u043C\u04D7\u0448\u04D7]",LLL:"YYYY [\u04AB\u0443\u043B\u0445\u0438] MMMM [\u0443\u0439\u04D1\u0445\u04D7\u043D] D[-\u043C\u04D7\u0448\u04D7], HH:mm",LLLL:"dddd, YYYY [\u04AB\u0443\u043B\u0445\u0438] MMMM [\u0443\u0439\u04D1\u0445\u04D7\u043D] D[-\u043C\u04D7\u0448\u04D7], HH:mm"},calendar:{sameDay:"[\u041F\u0430\u044F\u043D] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042B\u0440\u0430\u043D] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04D6\u043D\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04AA\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043D\u04D7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(t){return t+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(t)?"\u0440\u0435\u043D":/\u04ab\u0443\u043b$/i.exec(t)?"\u0442\u0430\u043D":"\u0440\u0430\u043D")},past:"%s \u043A\u0430\u044F\u043B\u043B\u0430",s:"\u043F\u04D7\u0440-\u0438\u043A \u04AB\u0435\u043A\u043A\u0443\u043D\u0442",ss:"%d \u04AB\u0435\u043A\u043A\u0443\u043D\u0442",m:"\u043F\u04D7\u0440 \u043C\u0438\u043D\u0443\u0442",mm:"%d \u043C\u0438\u043D\u0443\u0442",h:"\u043F\u04D7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043F\u04D7\u0440 \u043A\u0443\u043D",dd:"%d \u043A\u0443\u043D",M:"\u043F\u04D7\u0440 \u0443\u0439\u04D1\u0445",MM:"%d \u0443\u0439\u04D1\u0445",y:"\u043F\u04D7\u0440 \u04AB\u0443\u043B",yy:"%d \u04AB\u0443\u043B"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043C\u04D7\u0448",week:{dow:1,doy:7}}),He.defineLocale("cy",{months:["Ionawr","Chwefror","Mawrth","Ebrill","Mai","Mehefin","Gorffennaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr"],monthsShort:["Ion","Chwe","Maw","Ebr","Mai","Meh","Gor","Aws","Med","Hyd","Tach","Rhag"],weekdays:["Dydd Sul","Dydd Llun","Dydd Mawrth","Dydd Mercher","Dydd Iau","Dydd Gwener","Dydd Sadwrn"],weekdaysShort:["Sul","Llun","Maw","Mer","Iau","Gwe","Sad"],weekdaysMin:["Su","Ll","Ma","Me","Ia","Gw","Sa"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xF4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e="";return 20<t?e=40===t||50===t||60===t||80===t||100===t?"fed":"ain":0<t&&(e=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),t+e},week:{dow:1,doy:4}}),He.defineLocale("da",{months:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"],monthsShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],weekdays:["s\xF8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xF8rdag"],weekdaysShort:["s\xF8n","man","tir","ons","tor","fre","l\xF8r"],weekdaysMin:["s\xF8","ma","ti","on","to","fr","l\xF8"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xE5 dddd [kl.] LT",lastDay:"[i g\xE5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xE5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xE5ned",MM:"%d m\xE5neder",y:"et \xE5r",yy:"%d \xE5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),He.defineLocale("de-at",{months:["J\xE4nner","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["J\xE4n.","Feb.","M\xE4rz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],monthsParseExact:!0,weekdays:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],weekdaysShort:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],weekdaysMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:si,mm:"%d Minuten",h:si,hh:"%d Stunden",d:si,dd:si,w:si,ww:"%d Wochen",M:si,MM:si,y:si,yy:si},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),He.defineLocale("de-ch",{months:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan.","Feb.","M\xE4rz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],monthsParseExact:!0,weekdays:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],weekdaysShort:["So","Mo","Di","Mi","Do","Fr","Sa"],weekdaysMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:oi,mm:"%d Minuten",h:oi,hh:"%d Stunden",d:oi,dd:oi,w:oi,ww:"%d Wochen",M:oi,MM:oi,y:oi,yy:oi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),He.defineLocale("de",{months:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan.","Feb.","M\xE4rz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],monthsParseExact:!0,weekdays:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],weekdaysShort:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],weekdaysMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:di,mm:"%d Minuten",h:di,hh:"%d Stunden",d:di,dd:di,w:di,ww:"%d Wochen",M:di,MM:di,y:di,yy:di},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Zi=["\u0796\u07AC\u0782\u07AA\u0787\u07A6\u0783\u07A9","\u078A\u07AC\u0784\u07B0\u0783\u07AA\u0787\u07A6\u0783\u07A9","\u0789\u07A7\u0783\u07A8\u0797\u07AA","\u0787\u07AD\u0795\u07B0\u0783\u07A9\u078D\u07AA","\u0789\u07AD","\u0796\u07AB\u0782\u07B0","\u0796\u07AA\u078D\u07A6\u0787\u07A8","\u0787\u07AF\u078E\u07A6\u0790\u07B0\u0793\u07AA","\u0790\u07AC\u0795\u07B0\u0793\u07AC\u0789\u07B0\u0784\u07A6\u0783\u07AA","\u0787\u07AE\u0786\u07B0\u0793\u07AF\u0784\u07A6\u0783\u07AA","\u0782\u07AE\u0788\u07AC\u0789\u07B0\u0784\u07A6\u0783\u07AA","\u0791\u07A8\u0790\u07AC\u0789\u07B0\u0784\u07A6\u0783\u07AA"],es=["\u0787\u07A7\u078B\u07A8\u0787\u07B0\u078C\u07A6","\u0780\u07AF\u0789\u07A6","\u0787\u07A6\u0782\u07B0\u078E\u07A7\u0783\u07A6","\u0784\u07AA\u078B\u07A6","\u0784\u07AA\u0783\u07A7\u0790\u07B0\u078A\u07A6\u078C\u07A8","\u0780\u07AA\u0786\u07AA\u0783\u07AA","\u0780\u07AE\u0782\u07A8\u0780\u07A8\u0783\u07AA"];He.defineLocale("dv",{months:Zi,monthsShort:Zi,weekdays:es,weekdaysShort:es,weekdaysMin:["\u0787\u07A7\u078B\u07A8","\u0780\u07AF\u0789\u07A6","\u0787\u07A6\u0782\u07B0","\u0784\u07AA\u078B\u07A6","\u0784\u07AA\u0783\u07A7","\u0780\u07AA\u0786\u07AA","\u0780\u07AE\u0782\u07A8"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(t){return"\u0789\u078A"===t},meridiem:function(t){return 12>t?"\u0789\u0786":"\u0789\u078A"},calendar:{sameDay:"[\u0789\u07A8\u0787\u07A6\u078B\u07AA] LT",nextDay:"[\u0789\u07A7\u078B\u07A6\u0789\u07A7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07A8\u0787\u07B0\u0794\u07AC] LT",lastWeek:"[\u078A\u07A7\u0787\u07A8\u078C\u07AA\u0788\u07A8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078C\u07AC\u0783\u07AD\u078E\u07A6\u0787\u07A8 %s",past:"\u0786\u07AA\u0783\u07A8\u0782\u07B0 %s",s:"\u0790\u07A8\u0786\u07AA\u0782\u07B0\u078C\u07AA\u0786\u07AE\u0785\u07AC\u0787\u07B0",ss:"d% \u0790\u07A8\u0786\u07AA\u0782\u07B0\u078C\u07AA",m:"\u0789\u07A8\u0782\u07A8\u0793\u07AC\u0787\u07B0",mm:"\u0789\u07A8\u0782\u07A8\u0793\u07AA %d",h:"\u078E\u07A6\u0791\u07A8\u0787\u07A8\u0783\u07AC\u0787\u07B0",hh:"\u078E\u07A6\u0791\u07A8\u0787\u07A8\u0783\u07AA %d",d:"\u078B\u07AA\u0788\u07A6\u0780\u07AC\u0787\u07B0",dd:"\u078B\u07AA\u0788\u07A6\u0790\u07B0 %d",M:"\u0789\u07A6\u0780\u07AC\u0787\u07B0",MM:"\u0789\u07A6\u0790\u07B0 %d",y:"\u0787\u07A6\u0780\u07A6\u0783\u07AC\u0787\u07B0",yy:"\u0787\u07A6\u0780\u07A6\u0783\u07AA %d"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060C")},week:{dow:7,doy:12}}),He.defineLocale("el",{monthsNominativeEl:["\u0399\u03B1\u03BD\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u03A6\u03B5\u03B2\u03C1\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u039C\u03AC\u03C1\u03C4\u03B9\u03BF\u03C2","\u0391\u03C0\u03C1\u03AF\u03BB\u03B9\u03BF\u03C2","\u039C\u03AC\u03B9\u03BF\u03C2","\u0399\u03BF\u03CD\u03BD\u03B9\u03BF\u03C2","\u0399\u03BF\u03CD\u03BB\u03B9\u03BF\u03C2","\u0391\u03CD\u03B3\u03BF\u03C5\u03C3\u03C4\u03BF\u03C2","\u03A3\u03B5\u03C0\u03C4\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u039F\u03BA\u03C4\u03CE\u03B2\u03C1\u03B9\u03BF\u03C2","\u039D\u03BF\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u0394\u03B5\u03BA\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2"],monthsGenitiveEl:["\u0399\u03B1\u03BD\u03BF\u03C5\u03B1\u03C1\u03AF\u03BF\u03C5","\u03A6\u03B5\u03B2\u03C1\u03BF\u03C5\u03B1\u03C1\u03AF\u03BF\u03C5","\u039C\u03B1\u03C1\u03C4\u03AF\u03BF\u03C5","\u0391\u03C0\u03C1\u03B9\u03BB\u03AF\u03BF\u03C5","\u039C\u03B1\u0390\u03BF\u03C5","\u0399\u03BF\u03C5\u03BD\u03AF\u03BF\u03C5","\u0399\u03BF\u03C5\u03BB\u03AF\u03BF\u03C5","\u0391\u03C5\u03B3\u03BF\u03CD\u03C3\u03C4\u03BF\u03C5","\u03A3\u03B5\u03C0\u03C4\u03B5\u03BC\u03B2\u03C1\u03AF\u03BF\u03C5","\u039F\u03BA\u03C4\u03C9\u03B2\u03C1\u03AF\u03BF\u03C5","\u039D\u03BF\u03B5\u03BC\u03B2\u03C1\u03AF\u03BF\u03C5","\u0394\u03B5\u03BA\u03B5\u03BC\u03B2\u03C1\u03AF\u03BF\u03C5"],months:function(t,e){return t?"string"==typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:["\u0399\u03B1\u03BD","\u03A6\u03B5\u03B2","\u039C\u03B1\u03C1","\u0391\u03C0\u03C1","\u039C\u03B1\u03CA","\u0399\u03BF\u03C5\u03BD","\u0399\u03BF\u03C5\u03BB","\u0391\u03C5\u03B3","\u03A3\u03B5\u03C0","\u039F\u03BA\u03C4","\u039D\u03BF\u03B5","\u0394\u03B5\u03BA"],weekdays:["\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE","\u0394\u03B5\u03C5\u03C4\u03AD\u03C1\u03B1","\u03A4\u03C1\u03AF\u03C4\u03B7","\u03A4\u03B5\u03C4\u03AC\u03C1\u03C4\u03B7","\u03A0\u03AD\u03BC\u03C0\u03C4\u03B7","\u03A0\u03B1\u03C1\u03B1\u03C3\u03BA\u03B5\u03C5\u03AE","\u03A3\u03AC\u03B2\u03B2\u03B1\u03C4\u03BF"],weekdaysShort:["\u039A\u03C5\u03C1","\u0394\u03B5\u03C5","\u03A4\u03C1\u03B9","\u03A4\u03B5\u03C4","\u03A0\u03B5\u03BC","\u03A0\u03B1\u03C1","\u03A3\u03B1\u03B2"],weekdaysMin:["\u039A\u03C5","\u0394\u03B5","\u03A4\u03C1","\u03A4\u03B5","\u03A0\u03B5","\u03A0\u03B1","\u03A3\u03B1"],meridiem:function(n,e,a){return 11<n?a?"\u03BC\u03BC":"\u039C\u039C":a?"\u03C0\u03BC":"\u03A0\u039C"},isPM:function(t){return"\u03BC"===(t+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03A3\u03AE\u03BC\u03B5\u03C1\u03B1 {}] LT",nextDay:"[\u0391\u03CD\u03C1\u03B9\u03BF {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03A7\u03B8\u03B5\u03C2 {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[\u03C4\u03BF \u03C0\u03C1\u03BF\u03B7\u03B3\u03BF\u03CD\u03BC\u03B5\u03BD\u03BF] dddd [{}] LT";default:return"[\u03C4\u03B7\u03BD \u03C0\u03C1\u03BF\u03B7\u03B3\u03BF\u03CD\u03BC\u03B5\u03BD\u03B7] dddd [{}] LT";}},sameElse:"L"},calendar:function(i,e){var a=this._calendarEl[i],o=e&&e.hours(),n;return n=a,("undefined"!=typeof Function&&n instanceof Function||"[object Function]"===Object.prototype.toString.call(n))&&(a=a.apply(e)),a.replace("{}",1==o%12?"\u03C3\u03C4\u03B7":"\u03C3\u03C4\u03B9\u03C2")},relativeTime:{future:"\u03C3\u03B5 %s",past:"%s \u03C0\u03C1\u03B9\u03BD",s:"\u03BB\u03AF\u03B3\u03B1 \u03B4\u03B5\u03C5\u03C4\u03B5\u03C1\u03CC\u03BB\u03B5\u03C0\u03C4\u03B1",ss:"%d \u03B4\u03B5\u03C5\u03C4\u03B5\u03C1\u03CC\u03BB\u03B5\u03C0\u03C4\u03B1",m:"\u03AD\u03BD\u03B1 \u03BB\u03B5\u03C0\u03C4\u03CC",mm:"%d \u03BB\u03B5\u03C0\u03C4\u03AC",h:"\u03BC\u03AF\u03B1 \u03CE\u03C1\u03B1",hh:"%d \u03CE\u03C1\u03B5\u03C2",d:"\u03BC\u03AF\u03B1 \u03BC\u03AD\u03C1\u03B1",dd:"%d \u03BC\u03AD\u03C1\u03B5\u03C2",M:"\u03AD\u03BD\u03B1\u03C2 \u03BC\u03AE\u03BD\u03B1\u03C2",MM:"%d \u03BC\u03AE\u03BD\u03B5\u03C2",y:"\u03AD\u03BD\u03B1\u03C2 \u03C7\u03C1\u03CC\u03BD\u03BF\u03C2",yy:"%d \u03C7\u03C1\u03CC\u03BD\u03B9\u03B1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03B7",week:{dow:1,doy:4}}),He.defineLocale("en-au",{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:0,doy:4}}),He.defineLocale("en-ca",{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),He.defineLocale("en-gb",{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),He.defineLocale("en-ie",{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),He.defineLocale("en-il",{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),He.defineLocale("en-in",{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:0,doy:6}}),He.defineLocale("en-nz",{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),He.defineLocale("en-sg",{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),He.defineLocale("eo",{months:["januaro","februaro","marto","aprilo","majo","junio","julio","a\u016Dgusto","septembro","oktobro","novembro","decembro"],monthsShort:["jan","feb","mart","apr","maj","jun","jul","a\u016Dg","sept","okt","nov","dec"],weekdays:["diman\u0109o","lundo","mardo","merkredo","\u0135a\u016Ddo","vendredo","sabato"],weekdaysShort:["dim","lun","mard","merk","\u0135a\u016D","ven","sab"],weekdaysMin:["di","lu","ma","me","\u0135a","ve","sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(n,e,a){return 11<n?a?"p.t.m.":"P.T.M.":a?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016D je] LT",nextDay:"[Morga\u016D je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016D je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016D %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});var ts=["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],as=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],ns=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],is=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;He.defineLocale("es-do",{months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthsShort:function(t,e){return t?/-MMM-/.test(e)?as[t.month()]:ts[t.month()]:ts},monthsRegex:is,monthsShortRegex:is,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:ns,longMonthsParse:ns,shortMonthsParse:ns,weekdays:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],weekdaysShort:["dom.","lun.","mar.","mi\xE9.","jue.","vie.","s\xE1b."],weekdaysMin:["do","lu","ma","mi","ju","vi","s\xE1"],weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1===this.hours()?"":"s")+"] LT"},nextDay:function(){return"[ma\xF1ana a la"+(1===this.hours()?"":"s")+"] LT"},nextWeek:function(){return"dddd [a la"+(1===this.hours()?"":"s")+"] LT"},lastDay:function(){return"[ayer a la"+(1===this.hours()?"":"s")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1===this.hours()?"":"s")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:1,doy:4}});var ss=["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],os=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],ds=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],rs=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;He.defineLocale("es-mx",{months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthsShort:function(t,e){return t?/-MMM-/.test(e)?os[t.month()]:ss[t.month()]:ss},monthsRegex:rs,monthsShortRegex:rs,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:ds,longMonthsParse:ds,shortMonthsParse:ds,weekdays:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],weekdaysShort:["dom.","lun.","mar.","mi\xE9.","jue.","vie.","s\xE1b."],weekdaysMin:["do","lu","ma","mi","ju","vi","s\xE1"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1===this.hours()?"":"s")+"] LT"},nextDay:function(){return"[ma\xF1ana a la"+(1===this.hours()?"":"s")+"] LT"},nextWeek:function(){return"dddd [a la"+(1===this.hours()?"":"s")+"] LT"},lastDay:function(){return"[ayer a la"+(1===this.hours()?"":"s")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1===this.hours()?"":"s")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:0,doy:4},invalidDate:"Fecha inv\xE1lida"});var cs=["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],ls=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],ps=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],us=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;He.defineLocale("es-us",{months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthsShort:function(t,e){return t?/-MMM-/.test(e)?ls[t.month()]:cs[t.month()]:cs},monthsRegex:us,monthsShortRegex:us,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:ps,longMonthsParse:ps,shortMonthsParse:ps,weekdays:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],weekdaysShort:["dom.","lun.","mar.","mi\xE9.","jue.","vie.","s\xE1b."],weekdaysMin:["do","lu","ma","mi","ju","vi","s\xE1"],weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1===this.hours()?"":"s")+"] LT"},nextDay:function(){return"[ma\xF1ana a la"+(1===this.hours()?"":"s")+"] LT"},nextWeek:function(){return"dddd [a la"+(1===this.hours()?"":"s")+"] LT"},lastDay:function(){return"[ayer a la"+(1===this.hours()?"":"s")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1===this.hours()?"":"s")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:0,doy:6}});var ms=["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],gs=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],en=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],an=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;He.defineLocale("es",{months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthsShort:function(t,e){return t?/-MMM-/.test(e)?gs[t.month()]:ms[t.month()]:ms},monthsRegex:an,monthsShortRegex:an,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:en,longMonthsParse:en,shortMonthsParse:en,weekdays:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],weekdaysShort:["dom.","lun.","mar.","mi\xE9.","jue.","vie.","s\xE1b."],weekdaysMin:["do","lu","ma","mi","ju","vi","s\xE1"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1===this.hours()?"":"s")+"] LT"},nextDay:function(){return"[ma\xF1ana a la"+(1===this.hours()?"":"s")+"] LT"},nextWeek:function(){return"dddd [a la"+(1===this.hours()?"":"s")+"] LT"},lastDay:function(){return"[ayer a la"+(1===this.hours()?"":"s")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1===this.hours()?"":"s")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:1,doy:4},invalidDate:"Fecha inv\xE1lida"}),He.defineLocale("et",{months:["jaanuar","veebruar","m\xE4rts","aprill","mai","juuni","juuli","august","september","oktoober","november","detsember"],monthsShort:["jaan","veebr","m\xE4rts","apr","mai","juuni","juuli","aug","sept","okt","nov","dets"],weekdays:["p\xFChap\xE4ev","esmasp\xE4ev","teisip\xE4ev","kolmap\xE4ev","neljap\xE4ev","reede","laup\xE4ev"],weekdaysShort:["P","E","T","K","N","R","L"],weekdaysMin:["P","E","T","K","N","R","L"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xE4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xE4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xE4rast",past:"%s tagasi",s:ri,ss:ri,m:ri,mm:ri,h:ri,hh:ri,d:ri,dd:"%d p\xE4eva",M:ri,MM:ri,y:ri,yy:ri},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),He.defineLocale("eu",{months:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua"],monthsShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe."],monthsParseExact:!0,weekdays:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],weekdaysShort:["ig.","al.","ar.","az.","og.","ol.","lr."],weekdaysMin:["ig","al","ar","az","og","ol","lr"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var tn={1:"\u06F1",2:"\u06F2",3:"\u06F3",4:"\u06F4",5:"\u06F5",6:"\u06F6",7:"\u06F7",8:"\u06F8",9:"\u06F9",0:"\u06F0"},nn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};He.defineLocale("fa",{months:["\u0698\u0627\u0646\u0648\u06CC\u0647","\u0641\u0648\u0631\u06CC\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06CC\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06CC\u0647","\u0627\u0648\u062A","\u0633\u067E\u062A\u0627\u0645\u0628\u0631","\u0627\u06A9\u062A\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062F\u0633\u0627\u0645\u0628\u0631"],monthsShort:["\u0698\u0627\u0646\u0648\u06CC\u0647","\u0641\u0648\u0631\u06CC\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06CC\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06CC\u0647","\u0627\u0648\u062A","\u0633\u067E\u062A\u0627\u0645\u0628\u0631","\u0627\u06A9\u062A\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062F\u0633\u0627\u0645\u0628\u0631"],weekdays:["\u06CC\u06A9\u200C\u0634\u0646\u0628\u0647","\u062F\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200C\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067E\u0646\u062C\u200C\u0634\u0646\u0628\u0647","\u062C\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],weekdaysShort:["\u06CC\u06A9\u200C\u0634\u0646\u0628\u0647","\u062F\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200C\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067E\u0646\u062C\u200C\u0634\u0646\u0628\u0647","\u062C\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],weekdaysMin:["\u06CC","\u062F","\u0633","\u0686","\u067E","\u062C","\u0634"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(t){return /\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(t)},meridiem:function(t){return 12>t?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062F \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062A] LT",nextDay:"[\u0641\u0631\u062F\u0627 \u0633\u0627\u0639\u062A] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062A] LT",lastDay:"[\u062F\u06CC\u0631\u0648\u0632 \u0633\u0627\u0639\u062A] LT",lastWeek:"dddd [\u067E\u06CC\u0634] [\u0633\u0627\u0639\u062A] LT",sameElse:"L"},relativeTime:{future:"\u062F\u0631 %s",past:"%s \u067E\u06CC\u0634",s:"\u0686\u0646\u062F \u062B\u0627\u0646\u06CC\u0647",ss:"%d \u062B\u0627\u0646\u06CC\u0647",m:"\u06CC\u06A9 \u062F\u0642\u06CC\u0642\u0647",mm:"%d \u062F\u0642\u06CC\u0642\u0647",h:"\u06CC\u06A9 \u0633\u0627\u0639\u062A",hh:"%d \u0633\u0627\u0639\u062A",d:"\u06CC\u06A9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06CC\u06A9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06CC\u06A9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(t){return t.replace(/[\u06f0-\u06f9]/g,function(t){return nn[t]}).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return tn[t]}).replace(/,/g,"\u060C")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}});var rn=["nolla","yksi","kaksi","kolme","nelj\xE4","viisi","kuusi","seitsem\xE4n","kahdeksan","yhdeks\xE4n"],dn=["nolla","yhden","kahden","kolmen","nelj\xE4n","viiden","kuuden",rn[7],rn[8],rn[9]];He.defineLocale("fi",{months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kes\xE4kuu","hein\xE4kuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],monthsShort:["tammi","helmi","maalis","huhti","touko","kes\xE4","hein\xE4","elo","syys","loka","marras","joulu"],weekdays:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],weekdaysShort:["su","ma","ti","ke","to","pe","la"],weekdaysMin:["su","ma","ti","ke","to","pe","la"],longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xE4n\xE4\xE4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xE4\xE4st\xE4",past:"%s sitten",s:sn,ss:sn,m:sn,mm:sn,h:sn,hh:sn,d:sn,dd:sn,M:sn,MM:sn,y:sn,yy:sn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),He.defineLocale("fil",{months:["Enero","Pebrero","Marso","Abril","Mayo","Hunyo","Hulyo","Agosto","Setyembre","Oktubre","Nobyembre","Disyembre"],monthsShort:["Ene","Peb","Mar","Abr","May","Hun","Hul","Ago","Set","Okt","Nob","Dis"],weekdays:["Linggo","Lunes","Martes","Miyerkules","Huwebes","Biyernes","Sabado"],weekdaysShort:["Lin","Lun","Mar","Miy","Huw","Biy","Sab"],weekdaysMin:["Li","Lu","Ma","Mi","Hu","Bi","Sab"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}}),He.defineLocale("fo",{months:["januar","februar","mars","apr\xEDl","mai","juni","juli","august","september","oktober","november","desember"],monthsShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],weekdays:["sunnudagur","m\xE1nadagur","t\xFDsdagur","mikudagur","h\xF3sdagur","fr\xEDggjadagur","leygardagur"],weekdaysShort:["sun","m\xE1n","t\xFDs","mik","h\xF3s","fr\xED","ley"],weekdaysMin:["su","m\xE1","t\xFD","mi","h\xF3","fr","le"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xCD dag kl.] LT",nextDay:"[\xCD morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xCD gj\xE1r kl.] LT",lastWeek:"[s\xED\xF0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xED\xF0ani",s:"f\xE1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xEDmi",hh:"%d t\xEDmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xE1na\xF0ur",MM:"%d m\xE1na\xF0ir",y:"eitt \xE1r",yy:"%d \xE1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),He.defineLocale("fr-ca",{months:["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"],monthsShort:["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],monthsParseExact:!0,weekdays:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],weekdaysShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],weekdaysMin:["di","lu","ma","me","je","ve","sa"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xE0] LT",nextDay:"[Demain \xE0] LT",nextWeek:"dddd [\xE0] LT",lastDay:"[Hier \xE0] LT",lastWeek:"dddd [dernier \xE0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e");}}}),He.defineLocale("fr-ch",{months:["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"],monthsShort:["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],monthsParseExact:!0,weekdays:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],weekdaysShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],weekdaysMin:["di","lu","ma","me","je","ve","sa"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xE0] LT",nextDay:"[Demain \xE0] LT",nextWeek:"dddd [\xE0] LT",lastDay:"[Hier \xE0] LT",lastWeek:"dddd [dernier \xE0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e");}},week:{dow:1,doy:4}});var _n=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,mn=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];He.defineLocale("fr",{months:["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"],monthsShort:["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],monthsRegex:_n,monthsShortRegex:_n,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:mn,longMonthsParse:mn,shortMonthsParse:mn,weekdays:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],weekdaysShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],weekdaysMin:["di","lu","ma","me","je","ve","sa"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xE0] LT",nextDay:"[Demain \xE0] LT",nextWeek:"dddd [\xE0] LT",lastDay:"[Hier \xE0] LT",lastWeek:"dddd [dernier \xE0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e");}},week:{dow:1,doy:4}});var un=["jan.","feb.","mrt.","apr.","mai","jun.","jul.","aug.","sep.","okt.","nov.","des."],ln=["jan","feb","mrt","apr","mai","jun","jul","aug","sep","okt","nov","des"];He.defineLocale("fy",{months:["jannewaris","febrewaris","maart","april","maaie","juny","july","augustus","septimber","oktober","novimber","desimber"],monthsShort:function(t,e){return t?/-MMM-/.test(e)?ln[t.month()]:un[t.month()]:un},monthsParseExact:!0,weekdays:["snein","moandei","tiisdei","woansdei","tongersdei","freed","sneon"],weekdaysShort:["si.","mo.","ti.","wo.","to.","fr.","so."],weekdaysMin:["Si","Mo","Ti","Wo","To","Fr","So"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xF4fr\xFBne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xFAt",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}}),He.defineLocale("ga",{months:["Ean\xE1ir","Feabhra","M\xE1rta","Aibre\xE1n","Bealtaine","Meitheamh","I\xFAil","L\xFAnasa","Me\xE1n F\xF3mhair","Deireadh F\xF3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xE1rt","Aib","Beal","Meith","I\xFAil","L\xFAn","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xE9 Domhnaigh","D\xE9 Luain","D\xE9 M\xE1irt","D\xE9 C\xE9adaoin","D\xE9ardaoin","D\xE9 hAoine","D\xE9 Sathairn"],weekdaysShort:["Domh","Luan","M\xE1irt","C\xE9ad","D\xE9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xE1","C\xE9","D\xE9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xE1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xE9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xF3 shin",s:"c\xFApla soicind",ss:"%d soicind",m:"n\xF3im\xE9ad",mm:"%d n\xF3im\xE9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xE1",dd:"%d l\xE1",M:"m\xED",MM:"%d m\xEDonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":2==t%10?"na":"mh")},week:{dow:1,doy:4}}),He.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xE0rt","An Giblean","An C\xE8itean","An t-\xD2gmhios","An t-Iuchar","An L\xF9nastal","An t-Sultain","An D\xE0mhair","An t-Samhain","An D\xF9bhlachd"],monthsShort:["Faoi","Gear","M\xE0rt","Gibl","C\xE8it","\xD2gmh","Iuch","L\xF9n","Sult","D\xE0mh","Samh","D\xF9bh"],monthsParseExact:!0,weekdays:["Did\xF2mhnaich","Diluain","Dim\xE0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xF2","Lu","M\xE0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xE0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xE8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xECos",MM:"%d m\xECosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":2==t%10?"na":"mh")},week:{dow:1,doy:4}}),He.defineLocale("gl",{months:["xaneiro","febreiro","marzo","abril","maio","xu\xF1o","xullo","agosto","setembro","outubro","novembro","decembro"],monthsShort:["xan.","feb.","mar.","abr.","mai.","xu\xF1.","xul.","ago.","set.","out.","nov.","dec."],monthsParseExact:!0,weekdays:["domingo","luns","martes","m\xE9rcores","xoves","venres","s\xE1bado"],weekdaysShort:["dom.","lun.","mar.","m\xE9r.","xov.","ven.","s\xE1b."],weekdaysMin:["do","lu","ma","m\xE9","xo","ve","s\xE1"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1===this.hours()?"\xE1":"\xE1s")+"] LT"},nextDay:function(){return"[ma\xF1\xE1 "+(1===this.hours()?"\xE1":"\xE1s")+"] LT"},nextWeek:function(){return"dddd ["+(1===this.hours()?"a":"\xE1s")+"] LT"},lastDay:function(){return"[onte "+(1===this.hours()?"a":"\xE1")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1===this.hours()?"a":"\xE1s")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:1,doy:4}}),He.defineLocale("gom-deva",{months:{standalone:["\u091C\u093E\u0928\u0947\u0935\u093E\u0930\u0940","\u092B\u0947\u092C\u094D\u0930\u0941\u0935\u093E\u0930\u0940","\u092E\u093E\u0930\u094D\u091A","\u090F\u092A\u094D\u0930\u0940\u0932","\u092E\u0947","\u091C\u0942\u0928","\u091C\u0941\u0932\u092F","\u0911\u0917\u0938\u094D\u091F","\u0938\u092A\u094D\u091F\u0947\u0902\u092C\u0930","\u0911\u0915\u094D\u091F\u094B\u092C\u0930","\u0928\u094B\u0935\u094D\u0939\u0947\u0902\u092C\u0930","\u0921\u093F\u0938\u0947\u0902\u092C\u0930"],format:["\u091C\u093E\u0928\u0947\u0935\u093E\u0930\u0940\u091A\u094D\u092F\u093E","\u092B\u0947\u092C\u094D\u0930\u0941\u0935\u093E\u0930\u0940\u091A\u094D\u092F\u093E","\u092E\u093E\u0930\u094D\u091A\u093E\u091A\u094D\u092F\u093E","\u090F\u092A\u094D\u0930\u0940\u0932\u093E\u091A\u094D\u092F\u093E","\u092E\u0947\u092F\u093E\u091A\u094D\u092F\u093E","\u091C\u0942\u0928\u093E\u091A\u094D\u092F\u093E","\u091C\u0941\u0932\u092F\u093E\u091A\u094D\u092F\u093E","\u0911\u0917\u0938\u094D\u091F\u093E\u091A\u094D\u092F\u093E","\u0938\u092A\u094D\u091F\u0947\u0902\u092C\u0930\u093E\u091A\u094D\u092F\u093E","\u0911\u0915\u094D\u091F\u094B\u092C\u0930\u093E\u091A\u094D\u092F\u093E","\u0928\u094B\u0935\u094D\u0939\u0947\u0902\u092C\u0930\u093E\u091A\u094D\u092F\u093E","\u0921\u093F\u0938\u0947\u0902\u092C\u0930\u093E\u091A\u094D\u092F\u093E"],isFormat:/MMMM(\s)+D[oD]?/},monthsShort:["\u091C\u093E\u0928\u0947.","\u092B\u0947\u092C\u094D\u0930\u0941.","\u092E\u093E\u0930\u094D\u091A","\u090F\u092A\u094D\u0930\u0940.","\u092E\u0947","\u091C\u0942\u0928","\u091C\u0941\u0932.","\u0911\u0917.","\u0938\u092A\u094D\u091F\u0947\u0902.","\u0911\u0915\u094D\u091F\u094B.","\u0928\u094B\u0935\u094D\u0939\u0947\u0902.","\u0921\u093F\u0938\u0947\u0902."],monthsParseExact:!0,weekdays:["\u0906\u092F\u0924\u093E\u0930","\u0938\u094B\u092E\u093E\u0930","\u092E\u0902\u0917\u0933\u093E\u0930","\u092C\u0941\u0927\u0935\u093E\u0930","\u092C\u093F\u0930\u0947\u0938\u094D\u0924\u093E\u0930","\u0938\u0941\u0915\u094D\u0930\u093E\u0930","\u0936\u0947\u0928\u0935\u093E\u0930"],weekdaysShort:["\u0906\u092F\u0924.","\u0938\u094B\u092E.","\u092E\u0902\u0917\u0933.","\u092C\u0941\u0927.","\u092C\u094D\u0930\u0947\u0938\u094D\u0924.","\u0938\u0941\u0915\u094D\u0930.","\u0936\u0947\u0928."],weekdaysMin:["\u0906","\u0938\u094B","\u092E\u0902","\u092C\u0941","\u092C\u094D\u0930\u0947","\u0938\u0941","\u0936\u0947"],weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093E\u091C\u0924\u093E\u0902]",LTS:"A h:mm:ss [\u0935\u093E\u091C\u0924\u093E\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093E\u091C\u0924\u093E\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093E\u091C\u0924\u093E\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093E\u091C\u0924\u093E\u0902]"},calendar:{sameDay:"[\u0906\u092F\u091C] LT",nextDay:"[\u092B\u093E\u0932\u094D\u092F\u093E\u0902] LT",nextWeek:"[\u092B\u0941\u0921\u0932\u094B] dddd[,] LT",lastDay:"[\u0915\u093E\u0932] LT",lastWeek:"[\u092B\u093E\u091F\u0932\u094B] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:on,ss:on,m:on,mm:on,h:on,hh:on,d:on,dd:on,M:on,MM:on,y:on,yy:on},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(t,e){switch(e){case"D":return t+"\u0935\u0947\u0930";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t;}},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(t,n){return 12===t&&(t=0),"\u0930\u093E\u0924\u0940"===n?4>t?t:t+12:"\u0938\u0915\u093E\u0933\u0940\u0902"===n?t:"\u0926\u0928\u092A\u093E\u0930\u093E\u0902"===n?12<t?t:t+12:"\u0938\u093E\u0902\u091C\u0947"===n?t+12:void 0},meridiem:function(t){return 4>t?"\u0930\u093E\u0924\u0940":12>t?"\u0938\u0915\u093E\u0933\u0940\u0902":16>t?"\u0926\u0928\u092A\u093E\u0930\u093E\u0902":20>t?"\u0938\u093E\u0902\u091C\u0947":"\u0930\u093E\u0924\u0940"}}),He.defineLocale("gom-latn",{months:{standalone:["Janer","Febrer","Mars","Abril","Mai","Jun","Julai","Agost","Setembr","Otubr","Novembr","Dezembr"],format:["Janerachea","Febrerachea","Marsachea","Abrilachea","Maiachea","Junachea","Julaiachea","Agostachea","Setembrachea","Otubrachea","Novembrachea","Dezembrachea"],isFormat:/MMMM(\s)+D[oD]?/},monthsShort:["Jan.","Feb.","Mars","Abr.","Mai","Jun","Jul.","Ago.","Set.","Otu.","Nov.","Dez."],monthsParseExact:!0,weekdays:["Aitar","Somar","Mongllar","Budhvar","Birestar","Sukrar","Son'var"],weekdaysShort:["Ait.","Som.","Mon.","Bud.","Bre.","Suk.","Son."],weekdaysMin:["Ai","Sm","Mo","Bu","Br","Su","Sn"],weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:hn,ss:hn,m:hn,mm:hn,h:hn,hh:hn,d:hn,dd:hn,M:hn,MM:hn,y:hn,yy:hn},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){switch(e){case"D":return t+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t;}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(t,n){return 12===t&&(t=0),"rati"===n?4>t?t:t+12:"sokallim"===n?t:"donparam"===n?12<t?t:t+12:"sanje"===n?t+12:void 0},meridiem:function(t){return 4>t?"rati":12>t?"sokallim":16>t?"donparam":20>t?"sanje":"rati"}});var Mn={1:"\u0AE7",2:"\u0AE8",3:"\u0AE9",4:"\u0AEA",5:"\u0AEB",6:"\u0AEC",7:"\u0AED",8:"\u0AEE",9:"\u0AEF",0:"\u0AE6"},Ln={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};He.defineLocale("gu",{months:["\u0A9C\u0ABE\u0AA8\u0ACD\u0AAF\u0AC1\u0A86\u0AB0\u0AC0","\u0AAB\u0AC7\u0AAC\u0ACD\u0AB0\u0AC1\u0A86\u0AB0\u0AC0","\u0AAE\u0ABE\u0AB0\u0ACD\u0A9A","\u0A8F\u0AAA\u0ACD\u0AB0\u0ABF\u0AB2","\u0AAE\u0AC7","\u0A9C\u0AC2\u0AA8","\u0A9C\u0AC1\u0AB2\u0ABE\u0A88","\u0A91\u0A97\u0AB8\u0ACD\u0A9F","\u0AB8\u0AAA\u0ACD\u0A9F\u0AC7\u0AAE\u0ACD\u0AAC\u0AB0","\u0A91\u0A95\u0ACD\u0A9F\u0ACD\u0AAC\u0AB0","\u0AA8\u0AB5\u0AC7\u0AAE\u0ACD\u0AAC\u0AB0","\u0AA1\u0ABF\u0AB8\u0AC7\u0AAE\u0ACD\u0AAC\u0AB0"],monthsShort:["\u0A9C\u0ABE\u0AA8\u0ACD\u0AAF\u0AC1.","\u0AAB\u0AC7\u0AAC\u0ACD\u0AB0\u0AC1.","\u0AAE\u0ABE\u0AB0\u0ACD\u0A9A","\u0A8F\u0AAA\u0ACD\u0AB0\u0ABF.","\u0AAE\u0AC7","\u0A9C\u0AC2\u0AA8","\u0A9C\u0AC1\u0AB2\u0ABE.","\u0A91\u0A97.","\u0AB8\u0AAA\u0ACD\u0A9F\u0AC7.","\u0A91\u0A95\u0ACD\u0A9F\u0ACD.","\u0AA8\u0AB5\u0AC7.","\u0AA1\u0ABF\u0AB8\u0AC7."],monthsParseExact:!0,weekdays:["\u0AB0\u0AB5\u0ABF\u0AB5\u0ABE\u0AB0","\u0AB8\u0ACB\u0AAE\u0AB5\u0ABE\u0AB0","\u0AAE\u0A82\u0A97\u0AB3\u0AB5\u0ABE\u0AB0","\u0AAC\u0AC1\u0AA7\u0ACD\u0AB5\u0ABE\u0AB0","\u0A97\u0AC1\u0AB0\u0AC1\u0AB5\u0ABE\u0AB0","\u0AB6\u0AC1\u0A95\u0ACD\u0AB0\u0AB5\u0ABE\u0AB0","\u0AB6\u0AA8\u0ABF\u0AB5\u0ABE\u0AB0"],weekdaysShort:["\u0AB0\u0AB5\u0ABF","\u0AB8\u0ACB\u0AAE","\u0AAE\u0A82\u0A97\u0AB3","\u0AAC\u0AC1\u0AA7\u0ACD","\u0A97\u0AC1\u0AB0\u0AC1","\u0AB6\u0AC1\u0A95\u0ACD\u0AB0","\u0AB6\u0AA8\u0ABF"],weekdaysMin:["\u0AB0","\u0AB8\u0ACB","\u0AAE\u0A82","\u0AAC\u0AC1","\u0A97\u0AC1","\u0AB6\u0AC1","\u0AB6"],longDateFormat:{LT:"A h:mm \u0AB5\u0ABE\u0A97\u0ACD\u0AAF\u0AC7",LTS:"A h:mm:ss \u0AB5\u0ABE\u0A97\u0ACD\u0AAF\u0AC7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0AB5\u0ABE\u0A97\u0ACD\u0AAF\u0AC7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0AB5\u0ABE\u0A97\u0ACD\u0AAF\u0AC7"},calendar:{sameDay:"[\u0A86\u0A9C] LT",nextDay:"[\u0A95\u0ABE\u0AB2\u0AC7] LT",nextWeek:"dddd, LT",lastDay:"[\u0A97\u0A87\u0A95\u0ABE\u0AB2\u0AC7] LT",lastWeek:"[\u0AAA\u0ABE\u0A9B\u0AB2\u0ABE] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0AAE\u0ABE",past:"%s \u0AAA\u0AB9\u0AC7\u0AB2\u0ABE",s:"\u0A85\u0AAE\u0AC1\u0A95 \u0AAA\u0AB3\u0ACB",ss:"%d \u0AB8\u0AC7\u0A95\u0A82\u0AA1",m:"\u0A8F\u0A95 \u0AAE\u0ABF\u0AA8\u0ABF\u0A9F",mm:"%d \u0AAE\u0ABF\u0AA8\u0ABF\u0A9F",h:"\u0A8F\u0A95 \u0A95\u0AB2\u0ABE\u0A95",hh:"%d \u0A95\u0AB2\u0ABE\u0A95",d:"\u0A8F\u0A95 \u0AA6\u0ABF\u0AB5\u0AB8",dd:"%d \u0AA6\u0ABF\u0AB5\u0AB8",M:"\u0A8F\u0A95 \u0AAE\u0AB9\u0ABF\u0AA8\u0ACB",MM:"%d \u0AAE\u0AB9\u0ABF\u0AA8\u0ACB",y:"\u0A8F\u0A95 \u0AB5\u0AB0\u0ACD\u0AB7",yy:"%d \u0AB5\u0AB0\u0ACD\u0AB7"},preparse:function(t){return t.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(t){return Ln[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Mn[t]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(t,n){return 12===t&&(t=0),"\u0AB0\u0ABE\u0AA4"===n?4>t?t:t+12:"\u0AB8\u0AB5\u0ABE\u0AB0"===n?t:"\u0AAC\u0AAA\u0ACB\u0AB0"===n?10<=t?t:t+12:"\u0AB8\u0ABE\u0A82\u0A9C"===n?t+12:void 0},meridiem:function(t){return 4>t?"\u0AB0\u0ABE\u0AA4":10>t?"\u0AB8\u0AB5\u0ABE\u0AB0":17>t?"\u0AAC\u0AAA\u0ACB\u0AB0":20>t?"\u0AB8\u0ABE\u0A82\u0A9C":"\u0AB0\u0ABE\u0AA4"},week:{dow:0,doy:6}}),He.defineLocale("he",{months:["\u05D9\u05E0\u05D5\u05D0\u05E8","\u05E4\u05D1\u05E8\u05D5\u05D0\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8\u05D9\u05DC","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0\u05D9","\u05D9\u05D5\u05DC\u05D9","\u05D0\u05D5\u05D2\u05D5\u05E1\u05D8","\u05E1\u05E4\u05D8\u05DE\u05D1\u05E8","\u05D0\u05D5\u05E7\u05D8\u05D5\u05D1\u05E8","\u05E0\u05D5\u05D1\u05DE\u05D1\u05E8","\u05D3\u05E6\u05DE\u05D1\u05E8"],monthsShort:["\u05D9\u05E0\u05D5\u05F3","\u05E4\u05D1\u05E8\u05F3","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8\u05F3","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0\u05D9","\u05D9\u05D5\u05DC\u05D9","\u05D0\u05D5\u05D2\u05F3","\u05E1\u05E4\u05D8\u05F3","\u05D0\u05D5\u05E7\u05F3","\u05E0\u05D5\u05D1\u05F3","\u05D3\u05E6\u05DE\u05F3"],weekdays:["\u05E8\u05D0\u05E9\u05D5\u05DF","\u05E9\u05E0\u05D9","\u05E9\u05DC\u05D9\u05E9\u05D9","\u05E8\u05D1\u05D9\u05E2\u05D9","\u05D7\u05DE\u05D9\u05E9\u05D9","\u05E9\u05D9\u05E9\u05D9","\u05E9\u05D1\u05EA"],weekdaysShort:["\u05D0\u05F3","\u05D1\u05F3","\u05D2\u05F3","\u05D3\u05F3","\u05D4\u05F3","\u05D5\u05F3","\u05E9\u05F3"],weekdaysMin:["\u05D0","\u05D1","\u05D2","\u05D3","\u05D4","\u05D5","\u05E9"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05D1]MMMM YYYY",LLL:"D [\u05D1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05D1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05D4\u05D9\u05D5\u05DD \u05D1\u05BE]LT",nextDay:"[\u05DE\u05D7\u05E8 \u05D1\u05BE]LT",nextWeek:"dddd [\u05D1\u05E9\u05E2\u05D4] LT",lastDay:"[\u05D0\u05EA\u05DE\u05D5\u05DC \u05D1\u05BE]LT",lastWeek:"[\u05D1\u05D9\u05D5\u05DD] dddd [\u05D4\u05D0\u05D7\u05E8\u05D5\u05DF \u05D1\u05E9\u05E2\u05D4] LT",sameElse:"L"},relativeTime:{future:"\u05D1\u05E2\u05D5\u05D3 %s",past:"\u05DC\u05E4\u05E0\u05D9 %s",s:"\u05DE\u05E1\u05E4\u05E8 \u05E9\u05E0\u05D9\u05D5\u05EA",ss:"%d \u05E9\u05E0\u05D9\u05D5\u05EA",m:"\u05D3\u05E7\u05D4",mm:"%d \u05D3\u05E7\u05D5\u05EA",h:"\u05E9\u05E2\u05D4",hh:function(t){return 2===t?"\u05E9\u05E2\u05EA\u05D9\u05D9\u05DD":t+" \u05E9\u05E2\u05D5\u05EA"},d:"\u05D9\u05D5\u05DD",dd:function(t){return 2===t?"\u05D9\u05D5\u05DE\u05D9\u05D9\u05DD":t+" \u05D9\u05DE\u05D9\u05DD"},M:"\u05D7\u05D5\u05D3\u05E9",MM:function(t){return 2===t?"\u05D7\u05D5\u05D3\u05E9\u05D9\u05D9\u05DD":t+" \u05D7\u05D5\u05D3\u05E9\u05D9\u05DD"},y:"\u05E9\u05E0\u05D4",yy:function(t){return 2===t?"\u05E9\u05E0\u05EA\u05D9\u05D9\u05DD":0==t%10&&10!==t?t+" \u05E9\u05E0\u05D4":t+" \u05E9\u05E0\u05D9\u05DD"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(t){return /^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(t)},meridiem:function(n,e,a){return 5>n?"\u05DC\u05E4\u05E0\u05D5\u05EA \u05D1\u05D5\u05E7\u05E8":10>n?"\u05D1\u05D1\u05D5\u05E7\u05E8":12>n?a?"\u05DC\u05E4\u05E0\u05D4\"\u05E6":"\u05DC\u05E4\u05E0\u05D9 \u05D4\u05E6\u05D4\u05E8\u05D9\u05D9\u05DD":18>n?a?"\u05D0\u05D7\u05D4\"\u05E6":"\u05D0\u05D7\u05E8\u05D9 \u05D4\u05E6\u05D4\u05E8\u05D9\u05D9\u05DD":"\u05D1\u05E2\u05E8\u05D1"}});var Yn={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096A",5:"\u096B",6:"\u096C",7:"\u096D",8:"\u096E",9:"\u096F",0:"\u0966"},yn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},fn=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];He.defineLocale("hi",{months:{format:["\u091C\u0928\u0935\u0930\u0940","\u092B\u093C\u0930\u0935\u0930\u0940","\u092E\u093E\u0930\u094D\u091A","\u0905\u092A\u094D\u0930\u0948\u0932","\u092E\u0908","\u091C\u0942\u0928","\u091C\u0941\u0932\u093E\u0908","\u0905\u0917\u0938\u094D\u0924","\u0938\u093F\u0924\u092E\u094D\u092C\u0930","\u0905\u0915\u094D\u091F\u0942\u092C\u0930","\u0928\u0935\u092E\u094D\u092C\u0930","\u0926\u093F\u0938\u092E\u094D\u092C\u0930"],standalone:["\u091C\u0928\u0935\u0930\u0940","\u092B\u0930\u0935\u0930\u0940","\u092E\u093E\u0930\u094D\u091A","\u0905\u092A\u094D\u0930\u0948\u0932","\u092E\u0908","\u091C\u0942\u0928","\u091C\u0941\u0932\u093E\u0908","\u0905\u0917\u0938\u094D\u0924","\u0938\u093F\u0924\u0902\u092C\u0930","\u0905\u0915\u094D\u091F\u0942\u092C\u0930","\u0928\u0935\u0902\u092C\u0930","\u0926\u093F\u0938\u0902\u092C\u0930"]},monthsShort:["\u091C\u0928.","\u092B\u093C\u0930.","\u092E\u093E\u0930\u094D\u091A","\u0905\u092A\u094D\u0930\u0948.","\u092E\u0908","\u091C\u0942\u0928","\u091C\u0941\u0932.","\u0905\u0917.","\u0938\u093F\u0924.","\u0905\u0915\u094D\u091F\u0942.","\u0928\u0935.","\u0926\u093F\u0938."],weekdays:["\u0930\u0935\u093F\u0935\u093E\u0930","\u0938\u094B\u092E\u0935\u093E\u0930","\u092E\u0902\u0917\u0932\u0935\u093E\u0930","\u092C\u0941\u0927\u0935\u093E\u0930","\u0917\u0941\u0930\u0942\u0935\u093E\u0930","\u0936\u0941\u0915\u094D\u0930\u0935\u093E\u0930","\u0936\u0928\u093F\u0935\u093E\u0930"],weekdaysShort:["\u0930\u0935\u093F","\u0938\u094B\u092E","\u092E\u0902\u0917\u0932","\u092C\u0941\u0927","\u0917\u0941\u0930\u0942","\u0936\u0941\u0915\u094D\u0930","\u0936\u0928\u093F"],weekdaysMin:["\u0930","\u0938\u094B","\u092E\u0902","\u092C\u0941","\u0917\u0941","\u0936\u0941","\u0936"],longDateFormat:{LT:"A h:mm \u092C\u091C\u0947",LTS:"A h:mm:ss \u092C\u091C\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092C\u091C\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092C\u091C\u0947"},monthsParse:fn,longMonthsParse:fn,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091C] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092A\u093F\u091B\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092E\u0947\u0902",past:"%s \u092A\u0939\u0932\u0947",s:"\u0915\u0941\u091B \u0939\u0940 \u0915\u094D\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090F\u0915 \u092E\u093F\u0928\u091F",mm:"%d \u092E\u093F\u0928\u091F",h:"\u090F\u0915 \u0918\u0902\u091F\u093E",hh:"%d \u0918\u0902\u091F\u0947",d:"\u090F\u0915 \u0926\u093F\u0928",dd:"%d \u0926\u093F\u0928",M:"\u090F\u0915 \u092E\u0939\u0940\u0928\u0947",MM:"%d \u092E\u0939\u0940\u0928\u0947",y:"\u090F\u0915 \u0935\u0930\u094D\u0937",yy:"%d \u0935\u0930\u094D\u0937"},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(t){return yn[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Yn[t]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(t,n){return 12===t&&(t=0),"\u0930\u093E\u0924"===n?4>t?t:t+12:"\u0938\u0941\u092C\u0939"===n?t:"\u0926\u094B\u092A\u0939\u0930"===n?10<=t?t:t+12:"\u0936\u093E\u092E"===n?t+12:void 0},meridiem:function(t){return 4>t?"\u0930\u093E\u0924":10>t?"\u0938\u0941\u092C\u0939":17>t?"\u0926\u094B\u092A\u0939\u0930":20>t?"\u0936\u093E\u092E":"\u0930\u093E\u0924"},week:{dow:0,doy:6}}),He.defineLocale("hr",{months:{format:["sije\u010Dnja","velja\u010De","o\u017Eujka","travnja","svibnja","lipnja","srpnja","kolovoza","rujna","listopada","studenoga","prosinca"],standalone:["sije\u010Danj","velja\u010Da","o\u017Eujak","travanj","svibanj","lipanj","srpanj","kolovoz","rujan","listopad","studeni","prosinac"]},monthsShort:["sij.","velj.","o\u017Eu.","tra.","svi.","lip.","srp.","kol.","ruj.","lis.","stu.","pro."],monthsParseExact:!0,weekdays:["nedjelja","ponedjeljak","utorak","srijeda","\u010Detvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sri.","\u010Det.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","\u010De","pe","su"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT";}},lastDay:"[ju\u010Der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT";}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:cn,m:cn,mm:cn,h:cn,hh:cn,d:"dan",dd:cn,M:"mjesec",MM:cn,y:"godinu",yy:cn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var pn=["vas\xE1rnap","h\xE9tf\u0151n","kedden","szerd\xE1n","cs\xFCt\xF6rt\xF6k\xF6n","p\xE9nteken","szombaton"];He.defineLocale("hu",{months:["janu\xE1r","febru\xE1r","m\xE1rcius","\xE1prilis","m\xE1jus","j\xFAnius","j\xFAlius","augusztus","szeptember","okt\xF3ber","november","december"],monthsShort:["jan.","feb.","m\xE1rc.","\xE1pr.","m\xE1j.","j\xFAn.","j\xFAl.","aug.","szept.","okt.","nov.","dec."],monthsParseExact:!0,weekdays:["vas\xE1rnap","h\xE9tf\u0151","kedd","szerda","cs\xFCt\xF6rt\xF6k","p\xE9ntek","szombat"],weekdaysShort:["vas","h\xE9t","kedd","sze","cs\xFCt","p\xE9n","szo"],weekdaysMin:["v","h","k","sze","cs","p","szo"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(n,e,a){return 12>n?!0===a?"de":"DE":!0===a?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return Tn.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return Tn.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xFAlva",past:"%s",s:kn,ss:kn,m:kn,mm:kn,h:kn,hh:kn,d:kn,dd:kn,M:kn,MM:kn,y:kn,yy:kn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),He.defineLocale("hy-am",{months:{format:["\u0570\u0578\u0582\u0576\u057E\u0561\u0580\u056B","\u0583\u0565\u057F\u0580\u057E\u0561\u0580\u056B","\u0574\u0561\u0580\u057F\u056B","\u0561\u057A\u0580\u056B\u056C\u056B","\u0574\u0561\u0575\u056B\u057D\u056B","\u0570\u0578\u0582\u0576\u056B\u057D\u056B","\u0570\u0578\u0582\u056C\u056B\u057D\u056B","\u0585\u0563\u0578\u057D\u057F\u0578\u057D\u056B","\u057D\u0565\u057A\u057F\u0565\u0574\u0562\u0565\u0580\u056B","\u0570\u0578\u056F\u057F\u0565\u0574\u0562\u0565\u0580\u056B","\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056B","\u0564\u0565\u056F\u057F\u0565\u0574\u0562\u0565\u0580\u056B"],standalone:["\u0570\u0578\u0582\u0576\u057E\u0561\u0580","\u0583\u0565\u057F\u0580\u057E\u0561\u0580","\u0574\u0561\u0580\u057F","\u0561\u057A\u0580\u056B\u056C","\u0574\u0561\u0575\u056B\u057D","\u0570\u0578\u0582\u0576\u056B\u057D","\u0570\u0578\u0582\u056C\u056B\u057D","\u0585\u0563\u0578\u057D\u057F\u0578\u057D","\u057D\u0565\u057A\u057F\u0565\u0574\u0562\u0565\u0580","\u0570\u0578\u056F\u057F\u0565\u0574\u0562\u0565\u0580","\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580","\u0564\u0565\u056F\u057F\u0565\u0574\u0562\u0565\u0580"]},monthsShort:["\u0570\u0576\u057E","\u0583\u057F\u0580","\u0574\u0580\u057F","\u0561\u057A\u0580","\u0574\u0575\u057D","\u0570\u0576\u057D","\u0570\u056C\u057D","\u0585\u0563\u057D","\u057D\u057A\u057F","\u0570\u056F\u057F","\u0576\u0574\u0562","\u0564\u056F\u057F"],weekdays:["\u056F\u056B\u0580\u0561\u056F\u056B","\u0565\u0580\u056F\u0578\u0582\u0577\u0561\u0562\u0569\u056B","\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056B","\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056B","\u0570\u056B\u0576\u0563\u0577\u0561\u0562\u0569\u056B","\u0578\u0582\u0580\u0562\u0561\u0569","\u0577\u0561\u0562\u0561\u0569"],weekdaysShort:["\u056F\u0580\u056F","\u0565\u0580\u056F","\u0565\u0580\u0584","\u0579\u0580\u0584","\u0570\u0576\u0563","\u0578\u0582\u0580\u0562","\u0577\u0562\u0569"],weekdaysMin:["\u056F\u0580\u056F","\u0565\u0580\u056F","\u0565\u0580\u0584","\u0579\u0580\u0584","\u0570\u0576\u0563","\u0578\u0582\u0580\u0562","\u0577\u0562\u0569"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057D\u0585\u0580] LT",nextDay:"[\u057E\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056F] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056A\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056E] dddd [\u0585\u0580\u0568 \u056A\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057F\u0578",past:"%s \u0561\u057C\u0561\u057B",s:"\u0574\u056B \u0584\u0561\u0576\u056B \u057E\u0561\u0575\u0580\u056F\u0575\u0561\u0576",ss:"%d \u057E\u0561\u0575\u0580\u056F\u0575\u0561\u0576",m:"\u0580\u0578\u057A\u0565",mm:"%d \u0580\u0578\u057A\u0565",h:"\u056A\u0561\u0574",hh:"%d \u056A\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056B\u057D",MM:"%d \u0561\u0574\u056B\u057D",y:"\u057F\u0561\u0580\u056B",yy:"%d \u057F\u0561\u0580\u056B"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(t){return /^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(t)},meridiem:function(t){return 4>t?"\u0563\u056B\u0577\u0565\u0580\u057E\u0561":12>t?"\u0561\u057C\u0561\u057E\u0578\u057F\u057E\u0561":17>t?"\u0581\u0565\u0580\u0565\u056F\u057E\u0561":"\u0565\u0580\u0565\u056F\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(t,e){return"DDD"===e||"w"===e||"W"===e||"DDDo"===e?1===t?t+"-\u056B\u0576":t+"-\u0580\u0564":t},week:{dow:1,doy:7}}),He.defineLocale("id",{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],weekdays:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],weekdaysShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],weekdaysMin:["Mg","Sn","Sl","Rb","Km","Jm","Sb"],longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,n){return 12===t&&(t=0),"pagi"===n?t:"siang"===n?11<=t?t:t+12:"sore"===n||"malam"===n?t+12:void 0},meridiem:function(t){return 11>t?"pagi":15>t?"siang":19>t?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}}),He.defineLocale("is",{months:["jan\xFAar","febr\xFAar","mars","apr\xEDl","ma\xED","j\xFAn\xED","j\xFAl\xED","\xE1g\xFAst","september","okt\xF3ber","n\xF3vember","desember"],monthsShort:["jan","feb","mar","apr","ma\xED","j\xFAn","j\xFAl","\xE1g\xFA","sep","okt","n\xF3v","des"],weekdays:["sunnudagur","m\xE1nudagur","\xFEri\xF0judagur","mi\xF0vikudagur","fimmtudagur","f\xF6studagur","laugardagur"],weekdaysShort:["sun","m\xE1n","\xFEri","mi\xF0","fim","f\xF6s","lau"],weekdaysMin:["Su","M\xE1","\xDEr","Mi","Fi","F\xF6","La"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xED dag kl.] LT",nextDay:"[\xE1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xED g\xE6r kl.] LT",lastWeek:"[s\xED\xF0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xED\xF0an",s:wn,ss:wn,m:wn,mm:wn,h:"klukkustund",hh:wn,d:wn,dd:wn,M:wn,MM:wn,y:wn,yy:wn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),He.defineLocale("it-ch",{months:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],monthsShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],weekdays:["domenica","luned\xEC","marted\xEC","mercoled\xEC","gioved\xEC","venerd\xEC","sabato"],weekdaysShort:["dom","lun","mar","mer","gio","ven","sab"],weekdaysMin:["do","lu","ma","me","gi","ve","sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT";}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:1,doy:4}}),He.defineLocale("it",{months:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],monthsShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],weekdays:["domenica","luned\xEC","marted\xEC","mercoled\xEC","gioved\xEC","venerd\xEC","sabato"],weekdaysShort:["dom","lun","mar","mer","gio","ven","sab"],weekdaysMin:["do","lu","ma","me","gi","ve","sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT";}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:1,doy:4}}),He.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4EE4\u548C",narrow:"\u32FF",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5E73\u6210",narrow:"\u337B",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662D\u548C",narrow:"\u337C",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6B63",narrow:"\u337D",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660E\u6CBB",narrow:"\u337E",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897F\u66A6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7D00\u5143\u524D",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(t,e){return"\u5143"===e[1]?1:parseInt(e[1]||t,10)},months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],monthsShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],weekdays:["\u65E5\u66DC\u65E5","\u6708\u66DC\u65E5","\u706B\u66DC\u65E5","\u6C34\u66DC\u65E5","\u6728\u66DC\u65E5","\u91D1\u66DC\u65E5","\u571F\u66DC\u65E5"],weekdaysShort:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"],weekdaysMin:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5 HH:mm",LLLL:"YYYY\u5E74M\u6708D\u65E5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(t){return"\u5348\u5F8C"===t},meridiem:function(t){return 12>t?"\u5348\u524D":"\u5348\u5F8C"},calendar:{sameDay:"[\u4ECA\u65E5] LT",nextDay:"[\u660E\u65E5] LT",nextWeek:function(t){return t.week()===this.week()?"dddd LT":"[\u6765\u9031]dddd LT"},lastDay:"[\u6628\u65E5] LT",lastWeek:function(t){return this.week()===t.week()?"dddd LT":"[\u5148\u9031]dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(t,e){return"y"===e?1===t?"\u5143\u5E74":t+"\u5E74":"d"===e||"D"===e||"DDD"===e?t+"\u65E5":t},relativeTime:{future:"%s\u5F8C",past:"%s\u524D",s:"\u6570\u79D2",ss:"%d\u79D2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65E5",dd:"%d\u65E5",M:"1\u30F6\u6708",MM:"%d\u30F6\u6708",y:"1\u5E74",yy:"%d\u5E74"}}),He.defineLocale("jv",{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Nopember","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nop","Des"],weekdays:["Minggu","Senen","Seloso","Rebu","Kemis","Jemuwah","Septu"],weekdaysShort:["Min","Sen","Sel","Reb","Kem","Jem","Sep"],weekdaysMin:["Mg","Sn","Sl","Rb","Km","Jm","Sp"],longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,n){return 12===t&&(t=0),"enjing"===n?t:"siyang"===n?11<=t?t:t+12:"sonten"===n||"ndalu"===n?t+12:void 0},meridiem:function(t){return 11>t?"enjing":15>t?"siyang":19>t?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),He.defineLocale("ka",{months:["\u10D8\u10D0\u10DC\u10D5\u10D0\u10E0\u10D8","\u10D7\u10D4\u10D1\u10D4\u10E0\u10D5\u10D0\u10DA\u10D8","\u10DB\u10D0\u10E0\u10E2\u10D8","\u10D0\u10DE\u10E0\u10D8\u10DA\u10D8","\u10DB\u10D0\u10D8\u10E1\u10D8","\u10D8\u10D5\u10DC\u10D8\u10E1\u10D8","\u10D8\u10D5\u10DA\u10D8\u10E1\u10D8","\u10D0\u10D2\u10D5\u10D8\u10E1\u10E2\u10DD","\u10E1\u10D4\u10E5\u10E2\u10D4\u10DB\u10D1\u10D4\u10E0\u10D8","\u10DD\u10E5\u10E2\u10DD\u10DB\u10D1\u10D4\u10E0\u10D8","\u10DC\u10DD\u10D4\u10DB\u10D1\u10D4\u10E0\u10D8","\u10D3\u10D4\u10D9\u10D4\u10DB\u10D1\u10D4\u10E0\u10D8"],monthsShort:["\u10D8\u10D0\u10DC","\u10D7\u10D4\u10D1","\u10DB\u10D0\u10E0","\u10D0\u10DE\u10E0","\u10DB\u10D0\u10D8","\u10D8\u10D5\u10DC","\u10D8\u10D5\u10DA","\u10D0\u10D2\u10D5","\u10E1\u10D4\u10E5","\u10DD\u10E5\u10E2","\u10DC\u10DD\u10D4","\u10D3\u10D4\u10D9"],weekdays:{standalone:["\u10D9\u10D5\u10D8\u10E0\u10D0","\u10DD\u10E0\u10E8\u10D0\u10D1\u10D0\u10D7\u10D8","\u10E1\u10D0\u10DB\u10E8\u10D0\u10D1\u10D0\u10D7\u10D8","\u10DD\u10D7\u10EE\u10E8\u10D0\u10D1\u10D0\u10D7\u10D8","\u10EE\u10E3\u10D7\u10E8\u10D0\u10D1\u10D0\u10D7\u10D8","\u10DE\u10D0\u10E0\u10D0\u10E1\u10D9\u10D4\u10D5\u10D8","\u10E8\u10D0\u10D1\u10D0\u10D7\u10D8"],format:["\u10D9\u10D5\u10D8\u10E0\u10D0\u10E1","\u10DD\u10E0\u10E8\u10D0\u10D1\u10D0\u10D7\u10E1","\u10E1\u10D0\u10DB\u10E8\u10D0\u10D1\u10D0\u10D7\u10E1","\u10DD\u10D7\u10EE\u10E8\u10D0\u10D1\u10D0\u10D7\u10E1","\u10EE\u10E3\u10D7\u10E8\u10D0\u10D1\u10D0\u10D7\u10E1","\u10DE\u10D0\u10E0\u10D0\u10E1\u10D9\u10D4\u10D5\u10E1","\u10E8\u10D0\u10D1\u10D0\u10D7\u10E1"],isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:["\u10D9\u10D5\u10D8","\u10DD\u10E0\u10E8","\u10E1\u10D0\u10DB","\u10DD\u10D7\u10EE","\u10EE\u10E3\u10D7","\u10DE\u10D0\u10E0","\u10E8\u10D0\u10D1"],weekdaysMin:["\u10D9\u10D5","\u10DD\u10E0","\u10E1\u10D0","\u10DD\u10D7","\u10EE\u10E3","\u10DE\u10D0","\u10E8\u10D0"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10D3\u10E6\u10D4\u10E1] LT[-\u10D6\u10D4]",nextDay:"[\u10EE\u10D5\u10D0\u10DA] LT[-\u10D6\u10D4]",lastDay:"[\u10D2\u10E3\u10E8\u10D8\u10DC] LT[-\u10D6\u10D4]",nextWeek:"[\u10E8\u10D4\u10DB\u10D3\u10D4\u10D2] dddd LT[-\u10D6\u10D4]",lastWeek:"[\u10EC\u10D8\u10DC\u10D0] dddd LT-\u10D6\u10D4",sameElse:"L"},relativeTime:{future:function(t){return t.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(n,e,a){return"\u10D8"===a?e+"\u10E8\u10D8":e+a+"\u10E8\u10D8"})},past:function(t){return /(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(t)?t.replace(/(\u10d8|\u10d4)$/,"\u10D8\u10E1 \u10EC\u10D8\u10DC"):/\u10ec\u10d4\u10da\u10d8/.test(t)?t.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10EC\u10DA\u10D8\u10E1 \u10EC\u10D8\u10DC"):t},s:"\u10E0\u10D0\u10DB\u10D3\u10D4\u10DC\u10D8\u10DB\u10D4 \u10EC\u10D0\u10DB\u10D8",ss:"%d \u10EC\u10D0\u10DB\u10D8",m:"\u10EC\u10E3\u10D7\u10D8",mm:"%d \u10EC\u10E3\u10D7\u10D8",h:"\u10E1\u10D0\u10D0\u10D7\u10D8",hh:"%d \u10E1\u10D0\u10D0\u10D7\u10D8",d:"\u10D3\u10E6\u10D4",dd:"%d \u10D3\u10E6\u10D4",M:"\u10D7\u10D5\u10D4",MM:"%d \u10D7\u10D5\u10D4",y:"\u10EC\u10D4\u10DA\u10D8",yy:"%d \u10EC\u10D4\u10DA\u10D8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(t){return 0===t?t:1===t?t+"-\u10DA\u10D8":20>t||100>=t&&0==t%20||0==t%100?"\u10DB\u10D4-"+t:t+"-\u10D4"},week:{dow:1,doy:7}});var Dn={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044B",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044B",10:"-\u0448\u044B",20:"-\u0448\u044B",30:"-\u0448\u044B",40:"-\u0448\u044B",50:"-\u0448\u0456",60:"-\u0448\u044B",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044B",100:"-\u0448\u0456"};He.defineLocale("kk",{months:["\u049B\u0430\u04A3\u0442\u0430\u0440","\u0430\u049B\u043F\u0430\u043D","\u043D\u0430\u0443\u0440\u044B\u0437","\u0441\u04D9\u0443\u0456\u0440","\u043C\u0430\u043C\u044B\u0440","\u043C\u0430\u0443\u0441\u044B\u043C","\u0448\u0456\u043B\u0434\u0435","\u0442\u0430\u043C\u044B\u0437","\u049B\u044B\u0440\u043A\u04AF\u0439\u0435\u043A","\u049B\u0430\u0437\u0430\u043D","\u049B\u0430\u0440\u0430\u0448\u0430","\u0436\u0435\u043B\u0442\u043E\u049B\u0441\u0430\u043D"],monthsShort:["\u049B\u0430\u04A3","\u0430\u049B\u043F","\u043D\u0430\u0443","\u0441\u04D9\u0443","\u043C\u0430\u043C","\u043C\u0430\u0443","\u0448\u0456\u043B","\u0442\u0430\u043C","\u049B\u044B\u0440","\u049B\u0430\u0437","\u049B\u0430\u0440","\u0436\u0435\u043B"],weekdays:["\u0436\u0435\u043A\u0441\u0435\u043D\u0431\u0456","\u0434\u04AF\u0439\u0441\u0435\u043D\u0431\u0456","\u0441\u0435\u0439\u0441\u0435\u043D\u0431\u0456","\u0441\u04D9\u0440\u0441\u0435\u043D\u0431\u0456","\u0431\u0435\u0439\u0441\u0435\u043D\u0431\u0456","\u0436\u04B1\u043C\u0430","\u0441\u0435\u043D\u0431\u0456"],weekdaysShort:["\u0436\u0435\u043A","\u0434\u04AF\u0439","\u0441\u0435\u0439","\u0441\u04D9\u0440","\u0431\u0435\u0439","\u0436\u04B1\u043C","\u0441\u0435\u043D"],weekdaysMin:["\u0436\u043A","\u0434\u0439","\u0441\u0439","\u0441\u0440","\u0431\u0439","\u0436\u043C","\u0441\u043D"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04AF\u0433\u0456\u043D \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04A3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041A\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04E8\u0442\u043A\u0435\u043D \u0430\u043F\u0442\u0430\u043D\u044B\u04A3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043D\u0434\u0435",past:"%s \u0431\u04B1\u0440\u044B\u043D",s:"\u0431\u0456\u0440\u043D\u0435\u0448\u0435 \u0441\u0435\u043A\u0443\u043D\u0434",ss:"%d \u0441\u0435\u043A\u0443\u043D\u0434",m:"\u0431\u0456\u0440 \u043C\u0438\u043D\u0443\u0442",mm:"%d \u043C\u0438\u043D\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043A\u04AF\u043D",dd:"%d \u043A\u04AF\u043D",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044B\u043B",yy:"%d \u0436\u044B\u043B"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(t){return t+(Dn[t]||Dn[t%10]||Dn[100<=t?100:null])},week:{dow:1,doy:7}});var bn={1:"\u17E1",2:"\u17E2",3:"\u17E3",4:"\u17E4",5:"\u17E5",6:"\u17E6",7:"\u17E7",8:"\u17E8",9:"\u17E9",0:"\u17E0"},Sn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};He.defineLocale("km",{months:["\u1798\u1780\u179A\u17B6","\u1780\u17BB\u1798\u17D2\u1797\u17C8","\u1798\u17B8\u1793\u17B6","\u1798\u17C1\u179F\u17B6","\u17A7\u179F\u1797\u17B6","\u1798\u17B7\u1790\u17BB\u1793\u17B6","\u1780\u1780\u17D2\u1780\u178A\u17B6","\u179F\u17B8\u17A0\u17B6","\u1780\u1789\u17D2\u1789\u17B6","\u178F\u17BB\u179B\u17B6","\u179C\u17B7\u1785\u17D2\u1786\u17B7\u1780\u17B6","\u1792\u17D2\u1793\u17BC"],monthsShort:["\u1798\u1780\u179A\u17B6","\u1780\u17BB\u1798\u17D2\u1797\u17C8","\u1798\u17B8\u1793\u17B6","\u1798\u17C1\u179F\u17B6","\u17A7\u179F\u1797\u17B6","\u1798\u17B7\u1790\u17BB\u1793\u17B6","\u1780\u1780\u17D2\u1780\u178A\u17B6","\u179F\u17B8\u17A0\u17B6","\u1780\u1789\u17D2\u1789\u17B6","\u178F\u17BB\u179B\u17B6","\u179C\u17B7\u1785\u17D2\u1786\u17B7\u1780\u17B6","\u1792\u17D2\u1793\u17BC"],weekdays:["\u17A2\u17B6\u1791\u17B7\u178F\u17D2\u1799","\u1785\u17D0\u1793\u17D2\u1791","\u17A2\u1784\u17D2\u1782\u17B6\u179A","\u1796\u17BB\u1792","\u1796\u17D2\u179A\u17A0\u179F\u17D2\u1794\u178F\u17B7\u17CD","\u179F\u17BB\u1780\u17D2\u179A","\u179F\u17C5\u179A\u17CD"],weekdaysShort:["\u17A2\u17B6","\u1785","\u17A2","\u1796","\u1796\u17D2\u179A","\u179F\u17BB","\u179F"],weekdaysMin:["\u17A2\u17B6","\u1785","\u17A2","\u1796","\u1796\u17D2\u179A","\u179F\u17BB","\u179F"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(t){return"\u179B\u17D2\u1784\u17B6\u1785"===t},meridiem:function(t){return 12>t?"\u1796\u17D2\u179A\u17B9\u1780":"\u179B\u17D2\u1784\u17B6\u1785"},calendar:{sameDay:"[\u1790\u17D2\u1784\u17C3\u1793\u17C1\u17C7 \u1798\u17C9\u17C4\u1784] LT",nextDay:"[\u179F\u17D2\u17A2\u17C2\u1780 \u1798\u17C9\u17C4\u1784] LT",nextWeek:"dddd [\u1798\u17C9\u17C4\u1784] LT",lastDay:"[\u1798\u17D2\u179F\u17B7\u179B\u1798\u17B7\u1789 \u1798\u17C9\u17C4\u1784] LT",lastWeek:"dddd [\u179F\u1794\u17D2\u178F\u17B6\u17A0\u17CD\u1798\u17BB\u1793] [\u1798\u17C9\u17C4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17C0\u178F",past:"%s\u1798\u17BB\u1793",s:"\u1794\u17C9\u17BB\u1793\u17D2\u1798\u17B6\u1793\u179C\u17B7\u1793\u17B6\u1791\u17B8",ss:"%d \u179C\u17B7\u1793\u17B6\u1791\u17B8",m:"\u1798\u17BD\u1799\u1793\u17B6\u1791\u17B8",mm:"%d \u1793\u17B6\u1791\u17B8",h:"\u1798\u17BD\u1799\u1798\u17C9\u17C4\u1784",hh:"%d \u1798\u17C9\u17C4\u1784",d:"\u1798\u17BD\u1799\u1790\u17D2\u1784\u17C3",dd:"%d \u1790\u17D2\u1784\u17C3",M:"\u1798\u17BD\u1799\u1781\u17C2",MM:"%d \u1781\u17C2",y:"\u1798\u17BD\u1799\u1786\u17D2\u1793\u17B6\u17C6",yy:"%d \u1786\u17D2\u1793\u17B6\u17C6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17B8%d",preparse:function(t){return t.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(t){return Sn[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return bn[t]})},week:{dow:1,doy:4}});var Hn={1:"\u0CE7",2:"\u0CE8",3:"\u0CE9",4:"\u0CEA",5:"\u0CEB",6:"\u0CEC",7:"\u0CED",8:"\u0CEE",9:"\u0CEF",0:"\u0CE6"},jn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};He.defineLocale("kn",{months:["\u0C9C\u0CA8\u0CB5\u0CB0\u0CBF","\u0CAB\u0CC6\u0CAC\u0CCD\u0CB0\u0CB5\u0CB0\u0CBF","\u0CAE\u0CBE\u0CB0\u0CCD\u0C9A\u0CCD","\u0C8F\u0CAA\u0CCD\u0CB0\u0CBF\u0CB2\u0CCD","\u0CAE\u0CC6\u0CD5","\u0C9C\u0CC2\u0CA8\u0CCD","\u0C9C\u0CC1\u0CB2\u0CC6\u0CD6","\u0C86\u0C97\u0CB8\u0CCD\u0C9F\u0CCD","\u0CB8\u0CC6\u0CAA\u0CCD\u0C9F\u0CC6\u0C82\u0CAC\u0CB0\u0CCD","\u0C85\u0C95\u0CCD\u0C9F\u0CC6\u0CC2\u0CD5\u0CAC\u0CB0\u0CCD","\u0CA8\u0CB5\u0CC6\u0C82\u0CAC\u0CB0\u0CCD","\u0CA1\u0CBF\u0CB8\u0CC6\u0C82\u0CAC\u0CB0\u0CCD"],monthsShort:["\u0C9C\u0CA8","\u0CAB\u0CC6\u0CAC\u0CCD\u0CB0","\u0CAE\u0CBE\u0CB0\u0CCD\u0C9A\u0CCD","\u0C8F\u0CAA\u0CCD\u0CB0\u0CBF\u0CB2\u0CCD","\u0CAE\u0CC6\u0CD5","\u0C9C\u0CC2\u0CA8\u0CCD","\u0C9C\u0CC1\u0CB2\u0CC6\u0CD6","\u0C86\u0C97\u0CB8\u0CCD\u0C9F\u0CCD","\u0CB8\u0CC6\u0CAA\u0CCD\u0C9F\u0CC6\u0C82","\u0C85\u0C95\u0CCD\u0C9F\u0CC6\u0CC2\u0CD5","\u0CA8\u0CB5\u0CC6\u0C82","\u0CA1\u0CBF\u0CB8\u0CC6\u0C82"],monthsParseExact:!0,weekdays:["\u0CAD\u0CBE\u0CA8\u0CC1\u0CB5\u0CBE\u0CB0","\u0CB8\u0CC6\u0CC2\u0CD5\u0CAE\u0CB5\u0CBE\u0CB0","\u0CAE\u0C82\u0C97\u0CB3\u0CB5\u0CBE\u0CB0","\u0CAC\u0CC1\u0CA7\u0CB5\u0CBE\u0CB0","\u0C97\u0CC1\u0CB0\u0CC1\u0CB5\u0CBE\u0CB0","\u0CB6\u0CC1\u0C95\u0CCD\u0CB0\u0CB5\u0CBE\u0CB0","\u0CB6\u0CA8\u0CBF\u0CB5\u0CBE\u0CB0"],weekdaysShort:["\u0CAD\u0CBE\u0CA8\u0CC1","\u0CB8\u0CC6\u0CC2\u0CD5\u0CAE","\u0CAE\u0C82\u0C97\u0CB3","\u0CAC\u0CC1\u0CA7","\u0C97\u0CC1\u0CB0\u0CC1","\u0CB6\u0CC1\u0C95\u0CCD\u0CB0","\u0CB6\u0CA8\u0CBF"],weekdaysMin:["\u0CAD\u0CBE","\u0CB8\u0CC6\u0CC2\u0CD5","\u0CAE\u0C82","\u0CAC\u0CC1","\u0C97\u0CC1","\u0CB6\u0CC1","\u0CB6"],longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0C87\u0C82\u0CA6\u0CC1] LT",nextDay:"[\u0CA8\u0CBE\u0CB3\u0CC6] LT",nextWeek:"dddd, LT",lastDay:"[\u0CA8\u0CBF\u0CA8\u0CCD\u0CA8\u0CC6] LT",lastWeek:"[\u0C95\u0CC6\u0CC2\u0CA8\u0CC6\u0CAF] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0CA8\u0C82\u0CA4\u0CB0",past:"%s \u0CB9\u0CBF\u0C82\u0CA6\u0CC6",s:"\u0C95\u0CC6\u0CB2\u0CB5\u0CC1 \u0C95\u0CCD\u0CB7\u0CA3\u0C97\u0CB3\u0CC1",ss:"%d \u0CB8\u0CC6\u0C95\u0CC6\u0C82\u0CA1\u0CC1\u0C97\u0CB3\u0CC1",m:"\u0C92\u0C82\u0CA6\u0CC1 \u0CA8\u0CBF\u0CAE\u0CBF\u0CB7",mm:"%d \u0CA8\u0CBF\u0CAE\u0CBF\u0CB7",h:"\u0C92\u0C82\u0CA6\u0CC1 \u0C97\u0C82\u0C9F\u0CC6",hh:"%d \u0C97\u0C82\u0C9F\u0CC6",d:"\u0C92\u0C82\u0CA6\u0CC1 \u0CA6\u0CBF\u0CA8",dd:"%d \u0CA6\u0CBF\u0CA8",M:"\u0C92\u0C82\u0CA6\u0CC1 \u0CA4\u0CBF\u0C82\u0C97\u0CB3\u0CC1",MM:"%d \u0CA4\u0CBF\u0C82\u0C97\u0CB3\u0CC1",y:"\u0C92\u0C82\u0CA6\u0CC1 \u0CB5\u0CB0\u0CCD\u0CB7",yy:"%d \u0CB5\u0CB0\u0CCD\u0CB7"},preparse:function(t){return t.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(t){return jn[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Hn[t]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(t,n){return 12===t&&(t=0),"\u0CB0\u0CBE\u0CA4\u0CCD\u0CB0\u0CBF"===n?4>t?t:t+12:"\u0CAC\u0CC6\u0CB3\u0CBF\u0C97\u0CCD\u0C97\u0CC6"===n?t:"\u0CAE\u0CA7\u0CCD\u0CAF\u0CBE\u0CB9\u0CCD\u0CA8"===n?10<=t?t:t+12:"\u0CB8\u0C82\u0C9C\u0CC6"===n?t+12:void 0},meridiem:function(t){return 4>t?"\u0CB0\u0CBE\u0CA4\u0CCD\u0CB0\u0CBF":10>t?"\u0CAC\u0CC6\u0CB3\u0CBF\u0C97\u0CCD\u0C97\u0CC6":17>t?"\u0CAE\u0CA7\u0CCD\u0CAF\u0CBE\u0CB9\u0CCD\u0CA8":20>t?"\u0CB8\u0C82\u0C9C\u0CC6":"\u0CB0\u0CBE\u0CA4\u0CCD\u0CB0\u0CBF"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(t){return t+"\u0CA8\u0CC6\u0CD5"},week:{dow:0,doy:6}}),He.defineLocale("ko",{months:["1\uC6D4","2\uC6D4","3\uC6D4","4\uC6D4","5\uC6D4","6\uC6D4","7\uC6D4","8\uC6D4","9\uC6D4","10\uC6D4","11\uC6D4","12\uC6D4"],monthsShort:["1\uC6D4","2\uC6D4","3\uC6D4","4\uC6D4","5\uC6D4","6\uC6D4","7\uC6D4","8\uC6D4","9\uC6D4","10\uC6D4","11\uC6D4","12\uC6D4"],weekdays:["\uC77C\uC694\uC77C","\uC6D4\uC694\uC77C","\uD654\uC694\uC77C","\uC218\uC694\uC77C","\uBAA9\uC694\uC77C","\uAE08\uC694\uC77C","\uD1A0\uC694\uC77C"],weekdaysShort:["\uC77C","\uC6D4","\uD654","\uC218","\uBAA9","\uAE08","\uD1A0"],weekdaysMin:["\uC77C","\uC6D4","\uD654","\uC218","\uBAA9","\uAE08","\uD1A0"],longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\uB144 MMMM D\uC77C",LLL:"YYYY\uB144 MMMM D\uC77C A h:mm",LLLL:"YYYY\uB144 MMMM D\uC77C dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\uB144 MMMM D\uC77C",lll:"YYYY\uB144 MMMM D\uC77C A h:mm",llll:"YYYY\uB144 MMMM D\uC77C dddd A h:mm"},calendar:{sameDay:"\uC624\uB298 LT",nextDay:"\uB0B4\uC77C LT",nextWeek:"dddd LT",lastDay:"\uC5B4\uC81C LT",lastWeek:"\uC9C0\uB09C\uC8FC dddd LT",sameElse:"L"},relativeTime:{future:"%s \uD6C4",past:"%s \uC804",s:"\uBA87 \uCD08",ss:"%d\uCD08",m:"1\uBD84",mm:"%d\uBD84",h:"\uD55C \uC2DC\uAC04",hh:"%d\uC2DC\uAC04",d:"\uD558\uB8E8",dd:"%d\uC77C",M:"\uD55C \uB2EC",MM:"%d\uB2EC",y:"\uC77C \uB144",yy:"%d\uB144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(t,e){return"d"===e||"D"===e||"DDD"===e?t+"\uC77C":"M"===e?t+"\uC6D4":"w"===e||"W"===e?t+"\uC8FC":t},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(t){return"\uC624\uD6C4"===t},meridiem:function(t){return 12>t?"\uC624\uC804":"\uC624\uD6C4"}});var xn={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},Pn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},On=["\u06A9\u0627\u0646\u0648\u0646\u06CC \u062F\u0648\u0648\u06D5\u0645","\u0634\u0648\u0628\u0627\u062A","\u0626\u0627\u0632\u0627\u0631","\u0646\u06CC\u0633\u0627\u0646","\u0626\u0627\u06CC\u0627\u0631","\u062D\u0648\u0632\u06D5\u06CC\u0631\u0627\u0646","\u062A\u06D5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06D5\u06CC\u0644\u0648\u0648\u0644","\u062A\u0634\u0631\u06CC\u0646\u06CC \u06CC\u06D5\u0643\u06D5\u0645","\u062A\u0634\u0631\u06CC\u0646\u06CC \u062F\u0648\u0648\u06D5\u0645","\u0643\u0627\u0646\u0648\u0646\u06CC \u06CC\u06D5\u06A9\u06D5\u0645"];He.defineLocale("ku",{months:On,monthsShort:On,weekdays:["\u06CC\u0647\u200C\u0643\u0634\u0647\u200C\u0645\u0645\u0647\u200C","\u062F\u0648\u0648\u0634\u0647\u200C\u0645\u0645\u0647\u200C","\u0633\u06CE\u0634\u0647\u200C\u0645\u0645\u0647\u200C","\u0686\u0648\u0627\u0631\u0634\u0647\u200C\u0645\u0645\u0647\u200C","\u067E\u06CE\u0646\u062C\u0634\u0647\u200C\u0645\u0645\u0647\u200C","\u0647\u0647\u200C\u06CC\u0646\u06CC","\u0634\u0647\u200C\u0645\u0645\u0647\u200C"],weekdaysShort:["\u06CC\u0647\u200C\u0643\u0634\u0647\u200C\u0645","\u062F\u0648\u0648\u0634\u0647\u200C\u0645","\u0633\u06CE\u0634\u0647\u200C\u0645","\u0686\u0648\u0627\u0631\u0634\u0647\u200C\u0645","\u067E\u06CE\u0646\u062C\u0634\u0647\u200C\u0645","\u0647\u0647\u200C\u06CC\u0646\u06CC","\u0634\u0647\u200C\u0645\u0645\u0647\u200C"],weekdaysMin:["\u06CC","\u062F","\u0633","\u0686","\u067E","\u0647","\u0634"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(t){return /\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(t)},meridiem:function(t){return 12>t?"\u0628\u0647\u200C\u06CC\u0627\u0646\u06CC":"\u0626\u06CE\u0648\u0627\u0631\u0647\u200C"},calendar:{sameDay:"[\u0626\u0647\u200C\u0645\u0631\u06C6 \u0643\u0627\u062A\u0698\u0645\u06CE\u0631] LT",nextDay:"[\u0628\u0647\u200C\u06CC\u0627\u0646\u06CC \u0643\u0627\u062A\u0698\u0645\u06CE\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062A\u0698\u0645\u06CE\u0631] LT",lastDay:"[\u062F\u0648\u06CE\u0646\u06CE \u0643\u0627\u062A\u0698\u0645\u06CE\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062A\u0698\u0645\u06CE\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200C %s",past:"%s",s:"\u0686\u0647\u200C\u0646\u062F \u0686\u0631\u0643\u0647\u200C\u06CC\u0647\u200C\u0643",ss:"\u0686\u0631\u0643\u0647\u200C %d",m:"\u06CC\u0647\u200C\u0643 \u062E\u0648\u0644\u0647\u200C\u0643",mm:"%d \u062E\u0648\u0644\u0647\u200C\u0643",h:"\u06CC\u0647\u200C\u0643 \u0643\u0627\u062A\u0698\u0645\u06CE\u0631",hh:"%d \u0643\u0627\u062A\u0698\u0645\u06CE\u0631",d:"\u06CC\u0647\u200C\u0643 \u0695\u06C6\u0698",dd:"%d \u0695\u06C6\u0698",M:"\u06CC\u0647\u200C\u0643 \u0645\u0627\u0646\u06AF",MM:"%d \u0645\u0627\u0646\u06AF",y:"\u06CC\u0647\u200C\u0643 \u0633\u0627\u06B5",yy:"%d \u0633\u0627\u06B5"},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(t){return Pn[t]}).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return xn[t]}).replace(/,/g,"\u060C")},week:{dow:6,doy:12}});var Wn={0:"-\u0447\u04AF",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04AF",4:"-\u0447\u04AF",5:"-\u0447\u0438",6:"-\u0447\u044B",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044B",30:"-\u0447\u0443",40:"-\u0447\u044B",50:"-\u0447\u04AF",60:"-\u0447\u044B",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04AF"};He.defineLocale("ky",{months:["\u044F\u043D\u0432\u0430\u0440\u044C","\u0444\u0435\u0432\u0440\u0430\u043B\u044C","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0435\u043B\u044C","\u043C\u0430\u0439","\u0438\u044E\u043D\u044C","\u0438\u044E\u043B\u044C","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u043E\u043A\u0442\u044F\u0431\u0440\u044C","\u043D\u043E\u044F\u0431\u0440\u044C","\u0434\u0435\u043A\u0430\u0431\u0440\u044C"],monthsShort:["\u044F\u043D\u0432","\u0444\u0435\u0432","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440","\u043C\u0430\u0439","\u0438\u044E\u043D\u044C","\u0438\u044E\u043B\u044C","\u0430\u0432\u0433","\u0441\u0435\u043D","\u043E\u043A\u0442","\u043D\u043E\u044F","\u0434\u0435\u043A"],weekdays:["\u0416\u0435\u043A\u0448\u0435\u043C\u0431\u0438","\u0414\u04AF\u0439\u0448\u04E9\u043C\u0431\u04AF","\u0428\u0435\u0439\u0448\u0435\u043C\u0431\u0438","\u0428\u0430\u0440\u0448\u0435\u043C\u0431\u0438","\u0411\u0435\u0439\u0448\u0435\u043C\u0431\u0438","\u0416\u0443\u043C\u0430","\u0418\u0448\u0435\u043C\u0431\u0438"],weekdaysShort:["\u0416\u0435\u043A","\u0414\u04AF\u0439","\u0428\u0435\u0439","\u0428\u0430\u0440","\u0411\u0435\u0439","\u0416\u0443\u043C","\u0418\u0448\u0435"],weekdaysMin:["\u0416\u043A","\u0414\u0439","\u0428\u0439","\u0428\u0440","\u0411\u0439","\u0416\u043C","\u0418\u0448"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04AF\u0433\u04AF\u043D \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042D\u0440\u0442\u0435\u04A3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041A\u0435\u0447\u044D\u044D \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04E8\u0442\u043A\u04E9\u043D \u0430\u043F\u0442\u0430\u043D\u044B\u043D] dddd [\u043A\u04AF\u043D\u04AF] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043D\u0434\u0435",past:"%s \u043C\u0443\u0440\u0443\u043D",s:"\u0431\u0438\u0440\u043D\u0435\u0447\u0435 \u0441\u0435\u043A\u0443\u043D\u0434",ss:"%d \u0441\u0435\u043A\u0443\u043D\u0434",m:"\u0431\u0438\u0440 \u043C\u04AF\u043D\u04E9\u0442",mm:"%d \u043C\u04AF\u043D\u04E9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043A\u04AF\u043D",dd:"%d \u043A\u04AF\u043D",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044B\u043B",yy:"%d \u0436\u044B\u043B"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(t){return t+(Wn[t]||Wn[t%10]||Wn[100<=t?100:null])},week:{dow:1,doy:7}}),He.defineLocale("lb",{months:["Januar","Februar","M\xE4erz","Abr\xEBll","Mee","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan.","Febr.","Mrz.","Abr.","Mee","Jun.","Jul.","Aug.","Sept.","Okt.","Nov.","Dez."],monthsParseExact:!0,weekdays:["Sonndeg","M\xE9indeg","D\xEBnschdeg","M\xEBttwoch","Donneschdeg","Freideg","Samschdeg"],weekdaysShort:["So.","M\xE9.","D\xEB.","M\xEB.","Do.","Fr.","Sa."],weekdaysMin:["So","M\xE9","D\xEB","M\xEB","Do","Fr","Sa"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xEBschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT";}}},relativeTime:{future:function(t){return En(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t},past:function(t){return En(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t},s:"e puer Sekonnen",ss:"%d Sekonnen",m:vn,mm:"%d Minutten",h:vn,hh:"%d Stonnen",d:vn,dd:"%d Deeg",M:vn,MM:"%d M\xE9int",y:vn,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),He.defineLocale("lo",{months:["\u0EA1\u0EB1\u0E87\u0E81\u0EAD\u0E99","\u0E81\u0EB8\u0EA1\u0E9E\u0EB2","\u0EA1\u0EB5\u0E99\u0EB2","\u0EC0\u0EA1\u0EAA\u0EB2","\u0E9E\u0EB6\u0E94\u0EAA\u0EB0\u0E9E\u0EB2","\u0EA1\u0EB4\u0E96\u0EB8\u0E99\u0EB2","\u0E81\u0ECD\u0EA5\u0EB0\u0E81\u0EBB\u0E94","\u0EAA\u0EB4\u0E87\u0EAB\u0EB2","\u0E81\u0EB1\u0E99\u0E8D\u0EB2","\u0E95\u0EB8\u0EA5\u0EB2","\u0E9E\u0EB0\u0E88\u0EB4\u0E81","\u0E97\u0EB1\u0E99\u0EA7\u0EB2"],monthsShort:["\u0EA1\u0EB1\u0E87\u0E81\u0EAD\u0E99","\u0E81\u0EB8\u0EA1\u0E9E\u0EB2","\u0EA1\u0EB5\u0E99\u0EB2","\u0EC0\u0EA1\u0EAA\u0EB2","\u0E9E\u0EB6\u0E94\u0EAA\u0EB0\u0E9E\u0EB2","\u0EA1\u0EB4\u0E96\u0EB8\u0E99\u0EB2","\u0E81\u0ECD\u0EA5\u0EB0\u0E81\u0EBB\u0E94","\u0EAA\u0EB4\u0E87\u0EAB\u0EB2","\u0E81\u0EB1\u0E99\u0E8D\u0EB2","\u0E95\u0EB8\u0EA5\u0EB2","\u0E9E\u0EB0\u0E88\u0EB4\u0E81","\u0E97\u0EB1\u0E99\u0EA7\u0EB2"],weekdays:["\u0EAD\u0EB2\u0E97\u0EB4\u0E94","\u0E88\u0EB1\u0E99","\u0EAD\u0EB1\u0E87\u0E84\u0EB2\u0E99","\u0E9E\u0EB8\u0E94","\u0E9E\u0EB0\u0EAB\u0EB1\u0E94","\u0EAA\u0EB8\u0E81","\u0EC0\u0EAA\u0EBB\u0EB2"],weekdaysShort:["\u0E97\u0EB4\u0E94","\u0E88\u0EB1\u0E99","\u0EAD\u0EB1\u0E87\u0E84\u0EB2\u0E99","\u0E9E\u0EB8\u0E94","\u0E9E\u0EB0\u0EAB\u0EB1\u0E94","\u0EAA\u0EB8\u0E81","\u0EC0\u0EAA\u0EBB\u0EB2"],weekdaysMin:["\u0E97","\u0E88","\u0EAD\u0E84","\u0E9E","\u0E9E\u0EAB","\u0EAA\u0E81","\u0EAA"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0EA7\u0EB1\u0E99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(t){return"\u0E95\u0EAD\u0E99\u0EC1\u0EA5\u0E87"===t},meridiem:function(t){return 12>t?"\u0E95\u0EAD\u0E99\u0EC0\u0E8A\u0EBB\u0EC9\u0EB2":"\u0E95\u0EAD\u0E99\u0EC1\u0EA5\u0E87"},calendar:{sameDay:"[\u0EA1\u0EB7\u0EC9\u0E99\u0EB5\u0EC9\u0EC0\u0EA7\u0EA5\u0EB2] LT",nextDay:"[\u0EA1\u0EB7\u0EC9\u0EAD\u0EB7\u0EC8\u0E99\u0EC0\u0EA7\u0EA5\u0EB2] LT",nextWeek:"[\u0EA7\u0EB1\u0E99]dddd[\u0EDC\u0EC9\u0EB2\u0EC0\u0EA7\u0EA5\u0EB2] LT",lastDay:"[\u0EA1\u0EB7\u0EC9\u0EA7\u0EB2\u0E99\u0E99\u0EB5\u0EC9\u0EC0\u0EA7\u0EA5\u0EB2] LT",lastWeek:"[\u0EA7\u0EB1\u0E99]dddd[\u0EC1\u0EA5\u0EC9\u0EA7\u0E99\u0EB5\u0EC9\u0EC0\u0EA7\u0EA5\u0EB2] LT",sameElse:"L"},relativeTime:{future:"\u0EAD\u0EB5\u0E81 %s",past:"%s\u0E9C\u0EC8\u0EB2\u0E99\u0EA1\u0EB2",s:"\u0E9A\u0ECD\u0EC8\u0EC0\u0E97\u0EBB\u0EC8\u0EB2\u0EC3\u0E94\u0EA7\u0EB4\u0E99\u0EB2\u0E97\u0EB5",ss:"%d \u0EA7\u0EB4\u0E99\u0EB2\u0E97\u0EB5",m:"1 \u0E99\u0EB2\u0E97\u0EB5",mm:"%d \u0E99\u0EB2\u0E97\u0EB5",h:"1 \u0E8A\u0EBB\u0EC8\u0EA7\u0EC2\u0EA1\u0E87",hh:"%d \u0E8A\u0EBB\u0EC8\u0EA7\u0EC2\u0EA1\u0E87",d:"1 \u0EA1\u0EB7\u0EC9",dd:"%d \u0EA1\u0EB7\u0EC9",M:"1 \u0EC0\u0E94\u0EB7\u0EAD\u0E99",MM:"%d \u0EC0\u0E94\u0EB7\u0EAD\u0E99",y:"1 \u0E9B\u0EB5",yy:"%d \u0E9B\u0EB5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(t){return"\u0E97\u0EB5\u0EC8"+t}});var An={ss:"sekund\u0117_sekund\u017Ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010Di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012F",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};He.defineLocale("lt",{months:{format:["sausio","vasario","kovo","baland\u017Eio","gegu\u017E\u0117s","bir\u017Eelio","liepos","rugpj\u016B\u010Dio","rugs\u0117jo","spalio","lapkri\u010Dio","gruod\u017Eio"],standalone:["sausis","vasaris","kovas","balandis","gegu\u017E\u0117","bir\u017Eelis","liepa","rugpj\u016Btis","rugs\u0117jis","spalis","lapkritis","gruodis"],isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:["sau","vas","kov","bal","geg","bir","lie","rgp","rgs","spa","lap","grd"],weekdays:{format:["sekmadien\u012F","pirmadien\u012F","antradien\u012F","tre\u010Diadien\u012F","ketvirtadien\u012F","penktadien\u012F","\u0161e\u0161tadien\u012F"],standalone:["sekmadienis","pirmadienis","antradienis","tre\u010Diadienis","ketvirtadienis","penktadienis","\u0161e\u0161tadienis"],isFormat:/dddd HH:mm/},weekdaysShort:["Sek","Pir","Ant","Tre","Ket","Pen","\u0160e\u0161"],weekdaysMin:["S","P","A","T","K","Pn","\u0160"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012F] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function(n,e,a,t){return e?"kelios sekund\u0117s":t?"keli\u0173 sekund\u017Ei\u0173":"kelias sekundes"},ss:Rn,m:Fn,mm:Rn,h:Fn,hh:Rn,d:Fn,dd:Rn,M:Fn,MM:Rn,y:Fn,yy:Rn},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}});var zn={ss:["sekundes","sekund\u0113m","sekunde","sekundes"],m:["min\u016Btes","min\u016Bt\u0113m","min\u016Bte","min\u016Btes"],mm:["min\u016Btes","min\u016Bt\u0113m","min\u016Bte","min\u016Btes"],h:["stundas","stund\u0101m","stunda","stundas"],hh:["stundas","stund\u0101m","stunda","stundas"],d:["dienas","dien\u0101m","diena","dienas"],dd:["dienas","dien\u0101m","diena","dienas"],M:["m\u0113ne\u0161a","m\u0113ne\u0161iem","m\u0113nesis","m\u0113ne\u0161i"],MM:["m\u0113ne\u0161a","m\u0113ne\u0161iem","m\u0113nesis","m\u0113ne\u0161i"],y:["gada","gadiem","gads","gadi"],yy:["gada","gadiem","gads","gadi"]};He.defineLocale("lv",{months:["janv\u0101ris","febru\u0101ris","marts","apr\u012Blis","maijs","j\u016Bnijs","j\u016Blijs","augusts","septembris","oktobris","novembris","decembris"],monthsShort:["jan","feb","mar","apr","mai","j\u016Bn","j\u016Bl","aug","sep","okt","nov","dec"],weekdays:["sv\u0113tdiena","pirmdiena","otrdiena","tre\u0161diena","ceturtdiena","piektdiena","sestdiena"],weekdaysShort:["Sv","P","O","T","C","Pk","S"],weekdaysMin:["Sv","P","O","T","C","Pk","S"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012Bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function(t,e){return e?"da\u017Eas sekundes":"da\u017E\u0101m sekund\u0113m"},ss:Un,m:Gn,mm:Un,h:Gn,hh:Un,d:Gn,dd:Un,M:Gn,MM:Un,y:Gn,yy:Un},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var In={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:2<=t&&4>=t?e[1]:e[2]},translate:function(n,e,a){var t=In.words[a];return 1===a.length?e?t[0]:t[1]:n+" "+In.correctGrammaticalCase(n,t)}};He.defineLocale("me",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],monthsParseExact:!0,weekdays:["nedjelja","ponedjeljak","utorak","srijeda","\u010Detvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sri.","\u010Det.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","\u010De","pe","su"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT";}},lastDay:"[ju\u010De u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010Detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:In.translate,m:In.translate,mm:In.translate,h:In.translate,hh:In.translate,d:"dan",dd:In.translate,M:"mjesec",MM:In.translate,y:"godinu",yy:In.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),He.defineLocale("mi",{months:["Kohi-t\u0101te","Hui-tanguru","Pout\u016B-te-rangi","Paenga-wh\u0101wh\u0101","Haratua","Pipiri","H\u014Dngoingoi","Here-turi-k\u014Dk\u0101","Mahuru","Whiringa-\u0101-nuku","Whiringa-\u0101-rangi","Hakihea"],monthsShort:["Kohi","Hui","Pou","Pae","Hara","Pipi","H\u014Dngoi","Here","Mahu","Whi-nu","Whi-ra","Haki"],monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:["R\u0101tapu","Mane","T\u016Brei","Wenerei","T\u0101ite","Paraire","H\u0101tarei"],weekdaysShort:["Ta","Ma","T\u016B","We","T\u0101i","Pa","H\u0101"],weekdaysMin:["Ta","Ma","T\u016B","We","T\u0101i","Pa","H\u0101"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:1,doy:4}}),He.defineLocale("mk",{months:["\u0458\u0430\u043D\u0443\u0430\u0440\u0438","\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0438\u043B","\u043C\u0430\u0458","\u0458\u0443\u043D\u0438","\u0458\u0443\u043B\u0438","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043F\u0442\u0435\u043C\u0432\u0440\u0438","\u043E\u043A\u0442\u043E\u043C\u0432\u0440\u0438","\u043D\u043E\u0435\u043C\u0432\u0440\u0438","\u0434\u0435\u043A\u0435\u043C\u0432\u0440\u0438"],monthsShort:["\u0458\u0430\u043D","\u0444\u0435\u0432","\u043C\u0430\u0440","\u0430\u043F\u0440","\u043C\u0430\u0458","\u0458\u0443\u043D","\u0458\u0443\u043B","\u0430\u0432\u0433","\u0441\u0435\u043F","\u043E\u043A\u0442","\u043D\u043E\u0435","\u0434\u0435\u043A"],weekdays:["\u043D\u0435\u0434\u0435\u043B\u0430","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0440\u0442\u043E\u043A","\u043F\u0435\u0442\u043E\u043A","\u0441\u0430\u0431\u043E\u0442\u0430"],weekdaysShort:["\u043D\u0435\u0434","\u043F\u043E\u043D","\u0432\u0442\u043E","\u0441\u0440\u0435","\u0447\u0435\u0442","\u043F\u0435\u0442","\u0441\u0430\u0431"],weekdaysMin:["\u043De","\u043Fo","\u0432\u0442","\u0441\u0440","\u0447\u0435","\u043F\u0435","\u0441a"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043D\u0435\u0441 \u0432\u043E] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043E] LT",nextWeek:"[\u0412\u043E] dddd [\u0432\u043E] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043E] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043C\u0438\u043D\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043E] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043C\u0438\u043D\u0430\u0442\u0438\u043E\u0442] dddd [\u0432\u043E] LT";}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043F\u0440\u0435\u0434 %s",s:"\u043D\u0435\u043A\u043E\u043B\u043A\u0443 \u0441\u0435\u043A\u0443\u043D\u0434\u0438",ss:"%d \u0441\u0435\u043A\u0443\u043D\u0434\u0438",m:"\u0435\u0434\u043D\u0430 \u043C\u0438\u043D\u0443\u0442\u0430",mm:"%d \u043C\u0438\u043D\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043D \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043D \u0434\u0435\u043D",dd:"%d \u0434\u0435\u043D\u0430",M:"\u0435\u0434\u0435\u043D \u043C\u0435\u0441\u0435\u0446",MM:"%d \u043C\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043D\u0430 \u0433\u043E\u0434\u0438\u043D\u0430",yy:"%d \u0433\u043E\u0434\u0438\u043D\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(n){var e=n%10,a=n%100;return 0===n?n+"-\u0435\u0432":0==a?n+"-\u0435\u043D":10<a&&20>a?n+"-\u0442\u0438":1==e?n+"-\u0432\u0438":2==e?n+"-\u0440\u0438":7==e||8==e?n+"-\u043C\u0438":n+"-\u0442\u0438"},week:{dow:1,doy:7}}),He.defineLocale("ml",{months:["\u0D1C\u0D28\u0D41\u0D35\u0D30\u0D3F","\u0D2B\u0D46\u0D2C\u0D4D\u0D30\u0D41\u0D35\u0D30\u0D3F","\u0D2E\u0D3E\u0D7C\u0D1A\u0D4D\u0D1A\u0D4D","\u0D0F\u0D2A\u0D4D\u0D30\u0D3F\u0D7D","\u0D2E\u0D47\u0D2F\u0D4D","\u0D1C\u0D42\u0D7A","\u0D1C\u0D42\u0D32\u0D48","\u0D13\u0D17\u0D38\u0D4D\u0D31\u0D4D\u0D31\u0D4D","\u0D38\u0D46\u0D2A\u0D4D\u0D31\u0D4D\u0D31\u0D02\u0D2C\u0D7C","\u0D12\u0D15\u0D4D\u0D1F\u0D4B\u0D2C\u0D7C","\u0D28\u0D35\u0D02\u0D2C\u0D7C","\u0D21\u0D3F\u0D38\u0D02\u0D2C\u0D7C"],monthsShort:["\u0D1C\u0D28\u0D41.","\u0D2B\u0D46\u0D2C\u0D4D\u0D30\u0D41.","\u0D2E\u0D3E\u0D7C.","\u0D0F\u0D2A\u0D4D\u0D30\u0D3F.","\u0D2E\u0D47\u0D2F\u0D4D","\u0D1C\u0D42\u0D7A","\u0D1C\u0D42\u0D32\u0D48.","\u0D13\u0D17.","\u0D38\u0D46\u0D2A\u0D4D\u0D31\u0D4D\u0D31.","\u0D12\u0D15\u0D4D\u0D1F\u0D4B.","\u0D28\u0D35\u0D02.","\u0D21\u0D3F\u0D38\u0D02."],monthsParseExact:!0,weekdays:["\u0D1E\u0D3E\u0D2F\u0D31\u0D3E\u0D34\u0D4D\u0D1A","\u0D24\u0D3F\u0D19\u0D4D\u0D15\u0D33\u0D3E\u0D34\u0D4D\u0D1A","\u0D1A\u0D4A\u0D35\u0D4D\u0D35\u0D3E\u0D34\u0D4D\u0D1A","\u0D2C\u0D41\u0D27\u0D28\u0D3E\u0D34\u0D4D\u0D1A","\u0D35\u0D4D\u0D2F\u0D3E\u0D34\u0D3E\u0D34\u0D4D\u0D1A","\u0D35\u0D46\u0D33\u0D4D\u0D33\u0D3F\u0D2F\u0D3E\u0D34\u0D4D\u0D1A","\u0D36\u0D28\u0D3F\u0D2F\u0D3E\u0D34\u0D4D\u0D1A"],weekdaysShort:["\u0D1E\u0D3E\u0D2F\u0D7C","\u0D24\u0D3F\u0D19\u0D4D\u0D15\u0D7E","\u0D1A\u0D4A\u0D35\u0D4D\u0D35","\u0D2C\u0D41\u0D27\u0D7B","\u0D35\u0D4D\u0D2F\u0D3E\u0D34\u0D02","\u0D35\u0D46\u0D33\u0D4D\u0D33\u0D3F","\u0D36\u0D28\u0D3F"],weekdaysMin:["\u0D1E\u0D3E","\u0D24\u0D3F","\u0D1A\u0D4A","\u0D2C\u0D41","\u0D35\u0D4D\u0D2F\u0D3E","\u0D35\u0D46","\u0D36"],longDateFormat:{LT:"A h:mm -\u0D28\u0D41",LTS:"A h:mm:ss -\u0D28\u0D41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0D28\u0D41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0D28\u0D41"},calendar:{sameDay:"[\u0D07\u0D28\u0D4D\u0D28\u0D4D] LT",nextDay:"[\u0D28\u0D3E\u0D33\u0D46] LT",nextWeek:"dddd, LT",lastDay:"[\u0D07\u0D28\u0D4D\u0D28\u0D32\u0D46] LT",lastWeek:"[\u0D15\u0D34\u0D3F\u0D1E\u0D4D\u0D1E] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0D15\u0D34\u0D3F\u0D1E\u0D4D\u0D1E\u0D4D",past:"%s \u0D2E\u0D41\u0D7B\u0D2A\u0D4D",s:"\u0D05\u0D7D\u0D2A \u0D28\u0D3F\u0D2E\u0D3F\u0D37\u0D19\u0D4D\u0D19\u0D7E",ss:"%d \u0D38\u0D46\u0D15\u0D4D\u0D15\u0D7B\u0D21\u0D4D",m:"\u0D12\u0D30\u0D41 \u0D2E\u0D3F\u0D28\u0D3F\u0D31\u0D4D\u0D31\u0D4D",mm:"%d \u0D2E\u0D3F\u0D28\u0D3F\u0D31\u0D4D\u0D31\u0D4D",h:"\u0D12\u0D30\u0D41 \u0D2E\u0D23\u0D3F\u0D15\u0D4D\u0D15\u0D42\u0D7C",hh:"%d \u0D2E\u0D23\u0D3F\u0D15\u0D4D\u0D15\u0D42\u0D7C",d:"\u0D12\u0D30\u0D41 \u0D26\u0D3F\u0D35\u0D38\u0D02",dd:"%d \u0D26\u0D3F\u0D35\u0D38\u0D02",M:"\u0D12\u0D30\u0D41 \u0D2E\u0D3E\u0D38\u0D02",MM:"%d \u0D2E\u0D3E\u0D38\u0D02",y:"\u0D12\u0D30\u0D41 \u0D35\u0D7C\u0D37\u0D02",yy:"%d \u0D35\u0D7C\u0D37\u0D02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(t,n){return 12===t&&(t=0),"\u0D30\u0D3E\u0D24\u0D4D\u0D30\u0D3F"===n&&4<=t||"\u0D09\u0D1A\u0D4D\u0D1A \u0D15\u0D34\u0D3F\u0D1E\u0D4D\u0D1E\u0D4D"===n||"\u0D35\u0D48\u0D15\u0D41\u0D28\u0D4D\u0D28\u0D47\u0D30\u0D02"===n?t+12:t},meridiem:function(t){return 4>t?"\u0D30\u0D3E\u0D24\u0D4D\u0D30\u0D3F":12>t?"\u0D30\u0D3E\u0D35\u0D3F\u0D32\u0D46":17>t?"\u0D09\u0D1A\u0D4D\u0D1A \u0D15\u0D34\u0D3F\u0D1E\u0D4D\u0D1E\u0D4D":20>t?"\u0D35\u0D48\u0D15\u0D41\u0D28\u0D4D\u0D28\u0D47\u0D30\u0D02":"\u0D30\u0D3E\u0D24\u0D4D\u0D30\u0D3F"}}),He.defineLocale("mn",{months:["\u041D\u044D\u0433\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440","\u0425\u043E\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440","\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440","\u0414\u04E9\u0440\u04E9\u0432\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440","\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440","\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440","\u0414\u043E\u043B\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440","\u041D\u0430\u0439\u043C\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440","\u0415\u0441\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440","\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440","\u0410\u0440\u0432\u0430\u043D \u043D\u044D\u0433\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440","\u0410\u0440\u0432\u0430\u043D \u0445\u043E\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440"],monthsShort:["1 \u0441\u0430\u0440","2 \u0441\u0430\u0440","3 \u0441\u0430\u0440","4 \u0441\u0430\u0440","5 \u0441\u0430\u0440","6 \u0441\u0430\u0440","7 \u0441\u0430\u0440","8 \u0441\u0430\u0440","9 \u0441\u0430\u0440","10 \u0441\u0430\u0440","11 \u0441\u0430\u0440","12 \u0441\u0430\u0440"],monthsParseExact:!0,weekdays:["\u041D\u044F\u043C","\u0414\u0430\u0432\u0430\u0430","\u041C\u044F\u0433\u043C\u0430\u0440","\u041B\u0445\u0430\u0433\u0432\u0430","\u041F\u04AF\u0440\u044D\u0432","\u0411\u0430\u0430\u0441\u0430\u043D","\u0411\u044F\u043C\u0431\u0430"],weekdaysShort:["\u041D\u044F\u043C","\u0414\u0430\u0432","\u041C\u044F\u0433","\u041B\u0445\u0430","\u041F\u04AF\u0440","\u0411\u0430\u0430","\u0411\u044F\u043C"],weekdaysMin:["\u041D\u044F","\u0414\u0430","\u041C\u044F","\u041B\u0445","\u041F\u04AF","\u0411\u0430","\u0411\u044F"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043E\u043D\u044B MMMM\u044B\u043D D",LLL:"YYYY \u043E\u043D\u044B MMMM\u044B\u043D D HH:mm",LLLL:"dddd, YYYY \u043E\u043D\u044B MMMM\u044B\u043D D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(t){return"\u04AE\u0425"===t},meridiem:function(t){return 12>t?"\u04AE\u04E8":"\u04AE\u0425"},calendar:{sameDay:"[\u04E8\u043D\u04E9\u04E9\u0434\u04E9\u0440] LT",nextDay:"[\u041C\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044D\u0445] dddd LT",lastDay:"[\u04E8\u0447\u0438\u0433\u0434\u04E9\u0440] LT",lastWeek:"[\u04E8\u043D\u0433\u04E9\u0440\u0441\u04E9\u043D] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04E9\u043C\u043D\u04E9",s:Vn,ss:Vn,m:Vn,mm:Vn,h:Vn,hh:Vn,d:Vn,dd:Vn,M:Vn,MM:Vn,y:Vn,yy:Vn},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(t,e){return"d"===e||"D"===e||"DDD"===e?t+" \u04E9\u0434\u04E9\u0440":t}});var Bn={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096A",5:"\u096B",6:"\u096C",7:"\u096D",8:"\u096E",9:"\u096F",0:"\u0966"},qn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};He.defineLocale("mr",{months:["\u091C\u093E\u0928\u0947\u0935\u093E\u0930\u0940","\u092B\u0947\u092C\u094D\u0930\u0941\u0935\u093E\u0930\u0940","\u092E\u093E\u0930\u094D\u091A","\u090F\u092A\u094D\u0930\u093F\u0932","\u092E\u0947","\u091C\u0942\u0928","\u091C\u0941\u0932\u0948","\u0911\u0917\u0938\u094D\u091F","\u0938\u092A\u094D\u091F\u0947\u0902\u092C\u0930","\u0911\u0915\u094D\u091F\u094B\u092C\u0930","\u0928\u094B\u0935\u094D\u0939\u0947\u0902\u092C\u0930","\u0921\u093F\u0938\u0947\u0902\u092C\u0930"],monthsShort:["\u091C\u093E\u0928\u0947.","\u092B\u0947\u092C\u094D\u0930\u0941.","\u092E\u093E\u0930\u094D\u091A.","\u090F\u092A\u094D\u0930\u093F.","\u092E\u0947.","\u091C\u0942\u0928.","\u091C\u0941\u0932\u0948.","\u0911\u0917.","\u0938\u092A\u094D\u091F\u0947\u0902.","\u0911\u0915\u094D\u091F\u094B.","\u0928\u094B\u0935\u094D\u0939\u0947\u0902.","\u0921\u093F\u0938\u0947\u0902."],monthsParseExact:!0,weekdays:["\u0930\u0935\u093F\u0935\u093E\u0930","\u0938\u094B\u092E\u0935\u093E\u0930","\u092E\u0902\u0917\u0933\u0935\u093E\u0930","\u092C\u0941\u0927\u0935\u093E\u0930","\u0917\u0941\u0930\u0942\u0935\u093E\u0930","\u0936\u0941\u0915\u094D\u0930\u0935\u093E\u0930","\u0936\u0928\u093F\u0935\u093E\u0930"],weekdaysShort:["\u0930\u0935\u093F","\u0938\u094B\u092E","\u092E\u0902\u0917\u0933","\u092C\u0941\u0927","\u0917\u0941\u0930\u0942","\u0936\u0941\u0915\u094D\u0930","\u0936\u0928\u093F"],weekdaysMin:["\u0930","\u0938\u094B","\u092E\u0902","\u092C\u0941","\u0917\u0941","\u0936\u0941","\u0936"],longDateFormat:{LT:"A h:mm \u0935\u093E\u091C\u0924\u093E",LTS:"A h:mm:ss \u0935\u093E\u091C\u0924\u093E",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093E\u091C\u0924\u093E",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093E\u091C\u0924\u093E"},calendar:{sameDay:"[\u0906\u091C] LT",nextDay:"[\u0909\u0926\u094D\u092F\u093E] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093E\u0932] LT",lastWeek:"[\u092E\u093E\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092E\u0927\u094D\u092F\u0947",past:"%s\u092A\u0942\u0930\u094D\u0935\u0940",s:Kn,ss:Kn,m:Kn,mm:Kn,h:Kn,hh:Kn,d:Kn,dd:Kn,M:Kn,MM:Kn,y:Kn,yy:Kn},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(t){return qn[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Bn[t]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(t,n){return 12===t&&(t=0),"\u092A\u0939\u093E\u091F\u0947"===n||"\u0938\u0915\u093E\u0933\u0940"===n?t:"\u0926\u0941\u092A\u093E\u0930\u0940"===n||"\u0938\u093E\u092F\u0902\u0915\u093E\u0933\u0940"===n||"\u0930\u093E\u0924\u094D\u0930\u0940"===n?12<=t?t:t+12:void 0},meridiem:function(t){return 0<=t&&6>t?"\u092A\u0939\u093E\u091F\u0947":12>t?"\u0938\u0915\u093E\u0933\u0940":17>t?"\u0926\u0941\u092A\u093E\u0930\u0940":20>t?"\u0938\u093E\u092F\u0902\u0915\u093E\u0933\u0940":"\u0930\u093E\u0924\u094D\u0930\u0940"},week:{dow:0,doy:6}}),He.defineLocale("ms-my",{months:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"],monthsShort:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogs","Sep","Okt","Nov","Dis"],weekdays:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],weekdaysShort:["Ahd","Isn","Sel","Rab","Kha","Jum","Sab"],weekdaysMin:["Ah","Is","Sl","Rb","Km","Jm","Sb"],longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,n){return 12===t&&(t=0),"pagi"===n?t:"tengahari"===n?11<=t?t:t+12:"petang"===n||"malam"===n?t+12:void 0},meridiem:function(t){return 11>t?"pagi":15>t?"tengahari":19>t?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),He.defineLocale("ms",{months:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"],monthsShort:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogs","Sep","Okt","Nov","Dis"],weekdays:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],weekdaysShort:["Ahd","Isn","Sel","Rab","Kha","Jum","Sab"],weekdaysMin:["Ah","Is","Sl","Rb","Km","Jm","Sb"],longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,n){return 12===t&&(t=0),"pagi"===n?t:"tengahari"===n?11<=t?t:t+12:"petang"===n||"malam"===n?t+12:void 0},meridiem:function(t){return 11>t?"pagi":15>t?"tengahari":19>t?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),He.defineLocale("mt",{months:["Jannar","Frar","Marzu","April","Mejju","\u0120unju","Lulju","Awwissu","Settembru","Ottubru","Novembru","Di\u010Bembru"],monthsShort:["Jan","Fra","Mar","Apr","Mej","\u0120un","Lul","Aww","Set","Ott","Nov","Di\u010B"],weekdays:["Il-\u0126add","It-Tnejn","It-Tlieta","L-Erbg\u0127a","Il-\u0126amis","Il-\u0120img\u0127a","Is-Sibt"],weekdaysShort:["\u0126ad","Tne","Tli","Erb","\u0126am","\u0120im","Sib"],weekdaysMin:["\u0126a","Tn","Tl","Er","\u0126a","\u0120i","Si"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:1,doy:4}});var Zn={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},Qn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};He.defineLocale("my",{months:["\u1007\u1014\u103A\u1014\u101D\u102B\u101B\u102E","\u1016\u1031\u1016\u1031\u102C\u103A\u101D\u102B\u101B\u102E","\u1019\u1010\u103A","\u1027\u1015\u103C\u102E","\u1019\u1031","\u1007\u103D\u1014\u103A","\u1007\u1030\u101C\u102D\u102F\u1004\u103A","\u101E\u103C\u1002\u102F\u1010\u103A","\u1005\u1000\u103A\u1010\u1004\u103A\u1018\u102C","\u1021\u1031\u102C\u1000\u103A\u1010\u102D\u102F\u1018\u102C","\u1014\u102D\u102F\u101D\u1004\u103A\u1018\u102C","\u1012\u102E\u1007\u1004\u103A\u1018\u102C"],monthsShort:["\u1007\u1014\u103A","\u1016\u1031","\u1019\u1010\u103A","\u1015\u103C\u102E","\u1019\u1031","\u1007\u103D\u1014\u103A","\u101C\u102D\u102F\u1004\u103A","\u101E\u103C","\u1005\u1000\u103A","\u1021\u1031\u102C\u1000\u103A","\u1014\u102D\u102F","\u1012\u102E"],weekdays:["\u1010\u1014\u1004\u103A\u1039\u1002\u1014\u103D\u1031","\u1010\u1014\u1004\u103A\u1039\u101C\u102C","\u1021\u1004\u103A\u1039\u1002\u102B","\u1017\u102F\u1012\u1039\u1013\u101F\u1030\u1038","\u1000\u103C\u102C\u101E\u1015\u1010\u1031\u1038","\u101E\u1031\u102C\u1000\u103C\u102C","\u1005\u1014\u1031"],weekdaysShort:["\u1014\u103D\u1031","\u101C\u102C","\u1002\u102B","\u101F\u1030\u1038","\u1000\u103C\u102C","\u101E\u1031\u102C","\u1014\u1031"],weekdaysMin:["\u1014\u103D\u1031","\u101C\u102C","\u1002\u102B","\u101F\u1030\u1038","\u1000\u103C\u102C","\u101E\u1031\u102C","\u1014\u1031"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101A\u1014\u1031.] LT [\u1019\u103E\u102C]",nextDay:"[\u1019\u1014\u1000\u103A\u1016\u103C\u1014\u103A] LT [\u1019\u103E\u102C]",nextWeek:"dddd LT [\u1019\u103E\u102C]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103E\u102C]",lastWeek:"[\u1015\u103C\u102E\u1038\u1001\u1032\u1037\u101E\u1031\u102C] dddd LT [\u1019\u103E\u102C]",sameElse:"L"},relativeTime:{future:"\u101C\u102C\u1019\u100A\u103A\u1037 %s \u1019\u103E\u102C",past:"\u101C\u103D\u1014\u103A\u1001\u1032\u1037\u101E\u1031\u102C %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103A.\u1021\u1014\u100A\u103A\u1038\u1004\u101A\u103A",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103A",m:"\u1010\u1005\u103A\u1019\u102D\u1014\u1005\u103A",mm:"%d \u1019\u102D\u1014\u1005\u103A",h:"\u1010\u1005\u103A\u1014\u102C\u101B\u102E",hh:"%d \u1014\u102C\u101B\u102E",d:"\u1010\u1005\u103A\u101B\u1000\u103A",dd:"%d \u101B\u1000\u103A",M:"\u1010\u1005\u103A\u101C",MM:"%d \u101C",y:"\u1010\u1005\u103A\u1014\u103E\u1005\u103A",yy:"%d \u1014\u103E\u1005\u103A"},preparse:function(t){return t.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(t){return Qn[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Zn[t]})},week:{dow:1,doy:4}}),He.defineLocale("nb",{months:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],monthsShort:["jan.","feb.","mars","apr.","mai","juni","juli","aug.","sep.","okt.","nov.","des."],monthsParseExact:!0,weekdays:["s\xF8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xF8rdag"],weekdaysShort:["s\xF8.","ma.","ti.","on.","to.","fr.","l\xF8."],weekdaysMin:["s\xF8","ma","ti","on","to","fr","l\xF8"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xE5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en m\xE5ned",MM:"%d m\xE5neder",y:"ett \xE5r",yy:"%d \xE5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Xn={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096A",5:"\u096B",6:"\u096C",7:"\u096D",8:"\u096E",9:"\u096F",0:"\u0966"},hs={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};He.defineLocale("ne",{months:["\u091C\u0928\u0935\u0930\u0940","\u092B\u0947\u092C\u094D\u0930\u0941\u0935\u0930\u0940","\u092E\u093E\u0930\u094D\u091A","\u0905\u092A\u094D\u0930\u093F\u0932","\u092E\u0908","\u091C\u0941\u0928","\u091C\u0941\u0932\u093E\u0908","\u0905\u0917\u0937\u094D\u091F","\u0938\u0947\u092A\u094D\u091F\u0947\u092E\u094D\u092C\u0930","\u0905\u0915\u094D\u091F\u094B\u092C\u0930","\u0928\u094B\u092D\u0947\u092E\u094D\u092C\u0930","\u0921\u093F\u0938\u0947\u092E\u094D\u092C\u0930"],monthsShort:["\u091C\u0928.","\u092B\u0947\u092C\u094D\u0930\u0941.","\u092E\u093E\u0930\u094D\u091A","\u0905\u092A\u094D\u0930\u093F.","\u092E\u0908","\u091C\u0941\u0928","\u091C\u0941\u0932\u093E\u0908.","\u0905\u0917.","\u0938\u0947\u092A\u094D\u091F.","\u0905\u0915\u094D\u091F\u094B.","\u0928\u094B\u092D\u0947.","\u0921\u093F\u0938\u0947."],monthsParseExact:!0,weekdays:["\u0906\u0907\u0924\u092C\u093E\u0930","\u0938\u094B\u092E\u092C\u093E\u0930","\u092E\u0919\u094D\u0917\u0932\u092C\u093E\u0930","\u092C\u0941\u0927\u092C\u093E\u0930","\u092C\u093F\u0939\u093F\u092C\u093E\u0930","\u0936\u0941\u0915\u094D\u0930\u092C\u093E\u0930","\u0936\u0928\u093F\u092C\u093E\u0930"],weekdaysShort:["\u0906\u0907\u0924.","\u0938\u094B\u092E.","\u092E\u0919\u094D\u0917\u0932.","\u092C\u0941\u0927.","\u092C\u093F\u0939\u093F.","\u0936\u0941\u0915\u094D\u0930.","\u0936\u0928\u093F."],weekdaysMin:["\u0906.","\u0938\u094B.","\u092E\u0902.","\u092C\u0941.","\u092C\u093F.","\u0936\u0941.","\u0936."],weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094B h:mm \u092C\u091C\u0947",LTS:"A\u0915\u094B h:mm:ss \u092C\u091C\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094B h:mm \u092C\u091C\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094B h:mm \u092C\u091C\u0947"},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(t){return hs[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Xn[t]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(t,n){return 12===t&&(t=0),"\u0930\u093E\u0924\u093F"===n?4>t?t:t+12:"\u092C\u093F\u0939\u093E\u0928"===n?t:"\u0926\u093F\u0909\u0901\u0938\u094B"===n?10<=t?t:t+12:"\u0938\u093E\u0901\u091D"===n?t+12:void 0},meridiem:function(t){return 3>t?"\u0930\u093E\u0924\u093F":12>t?"\u092C\u093F\u0939\u093E\u0928":16>t?"\u0926\u093F\u0909\u0901\u0938\u094B":20>t?"\u0938\u093E\u0901\u091D":"\u0930\u093E\u0924\u093F"},calendar:{sameDay:"[\u0906\u091C] LT",nextDay:"[\u092D\u094B\u0932\u093F] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094B] dddd[,] LT",lastDay:"[\u0939\u093F\u091C\u094B] LT",lastWeek:"[\u0917\u090F\u0915\u094B] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092E\u093E",past:"%s \u0905\u0917\u093E\u0921\u093F",s:"\u0915\u0947\u0939\u0940 \u0915\u094D\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094D\u0921",m:"\u090F\u0915 \u092E\u093F\u0928\u0947\u091F",mm:"%d \u092E\u093F\u0928\u0947\u091F",h:"\u090F\u0915 \u0918\u0923\u094D\u091F\u093E",hh:"%d \u0918\u0923\u094D\u091F\u093E",d:"\u090F\u0915 \u0926\u093F\u0928",dd:"%d \u0926\u093F\u0928",M:"\u090F\u0915 \u092E\u0939\u093F\u0928\u093E",MM:"%d \u092E\u0939\u093F\u0928\u093E",y:"\u090F\u0915 \u092C\u0930\u094D\u0937",yy:"%d \u092C\u0930\u094D\u0937"},week:{dow:0,doy:6}});var _s=["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],fs=["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],vs=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],ys=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;He.defineLocale("nl-be",{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsShort:function(t,e){return t?/-MMM-/.test(e)?fs[t.month()]:_s[t.month()]:_s},monthsRegex:ys,monthsShortRegex:ys,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:vs,longMonthsParse:vs,shortMonthsParse:vs,weekdays:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],weekdaysShort:["zo.","ma.","di.","wo.","do.","vr.","za."],weekdaysMin:["zo","ma","di","wo","do","vr","za"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xE9\xE9n minuut",mm:"%d minuten",h:"\xE9\xE9n uur",hh:"%d uur",d:"\xE9\xE9n dag",dd:"%d dagen",M:"\xE9\xE9n maand",MM:"%d maanden",y:"\xE9\xE9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}});var bs=["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],As=["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],xs=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],ws=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;He.defineLocale("nl",{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsShort:function(t,e){return t?/-MMM-/.test(e)?As[t.month()]:bs[t.month()]:bs},monthsRegex:ws,monthsShortRegex:ws,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:xs,longMonthsParse:xs,shortMonthsParse:xs,weekdays:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],weekdaysShort:["zo.","ma.","di.","wo.","do.","vr.","za."],weekdaysMin:["zo","ma","di","wo","do","vr","za"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xE9\xE9n minuut",mm:"%d minuten",h:"\xE9\xE9n uur",hh:"%d uur",d:"\xE9\xE9n dag",dd:"%d dagen",w:"\xE9\xE9n week",ww:"%d weken",M:"\xE9\xE9n maand",MM:"%d maanden",y:"\xE9\xE9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}}),He.defineLocale("nn",{months:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],monthsShort:["jan.","feb.","mars","apr.","mai","juni","juli","aug.","sep.","okt.","nov.","des."],monthsParseExact:!0,weekdays:["sundag","m\xE5ndag","tysdag","onsdag","torsdag","fredag","laurdag"],weekdaysShort:["su.","m\xE5.","ty.","on.","to.","fr.","lau."],weekdaysMin:["su","m\xE5","ty","on","to","fr","la"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xE5r klokka] LT",lastWeek:"[F\xF8reg\xE5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xE5nad",MM:"%d m\xE5nader",y:"eit \xE5r",yy:"%d \xE5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),He.defineLocale("oc-lnc",{months:{standalone:["geni\xE8r","febri\xE8r","mar\xE7","abril","mai","junh","julhet","agost","setembre","oct\xF2bre","novembre","decembre"],format:["de geni\xE8r","de febri\xE8r","de mar\xE7","d'abril","de mai","de junh","de julhet","d'agost","de setembre","d'oct\xF2bre","de novembre","de decembre"],isFormat:/D[oD]?(\s)+MMMM/},monthsShort:["gen.","febr.","mar\xE7","abr.","mai","junh","julh.","ago.","set.","oct.","nov.","dec."],monthsParseExact:!0,weekdays:["dimenge","diluns","dimars","dim\xE8cres","dij\xF2us","divendres","dissabte"],weekdaysShort:["dg.","dl.","dm.","dc.","dj.","dv.","ds."],weekdaysMin:["dg","dl","dm","dc","dj","dv","ds"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xE8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xE8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xED %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(t,e){return t+("w"!==e&&"W"!==e?1===t?"r":2===t?"n":3===t?"r":4===t?"t":"\xE8":"a")},week:{dow:1,doy:4}});var ks={1:"\u0A67",2:"\u0A68",3:"\u0A69",4:"\u0A6A",5:"\u0A6B",6:"\u0A6C",7:"\u0A6D",8:"\u0A6E",9:"\u0A6F",0:"\u0A66"},Ss={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};He.defineLocale("pa-in",{months:["\u0A1C\u0A28\u0A35\u0A30\u0A40","\u0A2B\u0A3C\u0A30\u0A35\u0A30\u0A40","\u0A2E\u0A3E\u0A30\u0A1A","\u0A05\u0A2A\u0A4D\u0A30\u0A48\u0A32","\u0A2E\u0A08","\u0A1C\u0A42\u0A28","\u0A1C\u0A41\u0A32\u0A3E\u0A08","\u0A05\u0A17\u0A38\u0A24","\u0A38\u0A24\u0A70\u0A2C\u0A30","\u0A05\u0A15\u0A24\u0A42\u0A2C\u0A30","\u0A28\u0A35\u0A70\u0A2C\u0A30","\u0A26\u0A38\u0A70\u0A2C\u0A30"],monthsShort:["\u0A1C\u0A28\u0A35\u0A30\u0A40","\u0A2B\u0A3C\u0A30\u0A35\u0A30\u0A40","\u0A2E\u0A3E\u0A30\u0A1A","\u0A05\u0A2A\u0A4D\u0A30\u0A48\u0A32","\u0A2E\u0A08","\u0A1C\u0A42\u0A28","\u0A1C\u0A41\u0A32\u0A3E\u0A08","\u0A05\u0A17\u0A38\u0A24","\u0A38\u0A24\u0A70\u0A2C\u0A30","\u0A05\u0A15\u0A24\u0A42\u0A2C\u0A30","\u0A28\u0A35\u0A70\u0A2C\u0A30","\u0A26\u0A38\u0A70\u0A2C\u0A30"],weekdays:["\u0A10\u0A24\u0A35\u0A3E\u0A30","\u0A38\u0A4B\u0A2E\u0A35\u0A3E\u0A30","\u0A2E\u0A70\u0A17\u0A32\u0A35\u0A3E\u0A30","\u0A2C\u0A41\u0A27\u0A35\u0A3E\u0A30","\u0A35\u0A40\u0A30\u0A35\u0A3E\u0A30","\u0A38\u0A3C\u0A41\u0A71\u0A15\u0A30\u0A35\u0A3E\u0A30","\u0A38\u0A3C\u0A28\u0A40\u0A1A\u0A30\u0A35\u0A3E\u0A30"],weekdaysShort:["\u0A10\u0A24","\u0A38\u0A4B\u0A2E","\u0A2E\u0A70\u0A17\u0A32","\u0A2C\u0A41\u0A27","\u0A35\u0A40\u0A30","\u0A38\u0A3C\u0A41\u0A15\u0A30","\u0A38\u0A3C\u0A28\u0A40"],weekdaysMin:["\u0A10\u0A24","\u0A38\u0A4B\u0A2E","\u0A2E\u0A70\u0A17\u0A32","\u0A2C\u0A41\u0A27","\u0A35\u0A40\u0A30","\u0A38\u0A3C\u0A41\u0A15\u0A30","\u0A38\u0A3C\u0A28\u0A40"],longDateFormat:{LT:"A h:mm \u0A35\u0A1C\u0A47",LTS:"A h:mm:ss \u0A35\u0A1C\u0A47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0A35\u0A1C\u0A47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0A35\u0A1C\u0A47"},calendar:{sameDay:"[\u0A05\u0A1C] LT",nextDay:"[\u0A15\u0A32] LT",nextWeek:"[\u0A05\u0A17\u0A32\u0A3E] dddd, LT",lastDay:"[\u0A15\u0A32] LT",lastWeek:"[\u0A2A\u0A3F\u0A1B\u0A32\u0A47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0A35\u0A3F\u0A71\u0A1A",past:"%s \u0A2A\u0A3F\u0A1B\u0A32\u0A47",s:"\u0A15\u0A41\u0A1D \u0A38\u0A15\u0A3F\u0A70\u0A1F",ss:"%d \u0A38\u0A15\u0A3F\u0A70\u0A1F",m:"\u0A07\u0A15 \u0A2E\u0A3F\u0A70\u0A1F",mm:"%d \u0A2E\u0A3F\u0A70\u0A1F",h:"\u0A07\u0A71\u0A15 \u0A18\u0A70\u0A1F\u0A3E",hh:"%d \u0A18\u0A70\u0A1F\u0A47",d:"\u0A07\u0A71\u0A15 \u0A26\u0A3F\u0A28",dd:"%d \u0A26\u0A3F\u0A28",M:"\u0A07\u0A71\u0A15 \u0A2E\u0A39\u0A40\u0A28\u0A3E",MM:"%d \u0A2E\u0A39\u0A40\u0A28\u0A47",y:"\u0A07\u0A71\u0A15 \u0A38\u0A3E\u0A32",yy:"%d \u0A38\u0A3E\u0A32"},preparse:function(t){return t.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(t){return Ss[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return ks[t]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(t,n){return 12===t&&(t=0),"\u0A30\u0A3E\u0A24"===n?4>t?t:t+12:"\u0A38\u0A35\u0A47\u0A30"===n?t:"\u0A26\u0A41\u0A2A\u0A39\u0A3F\u0A30"===n?10<=t?t:t+12:"\u0A38\u0A3C\u0A3E\u0A2E"===n?t+12:void 0},meridiem:function(t){return 4>t?"\u0A30\u0A3E\u0A24":10>t?"\u0A38\u0A35\u0A47\u0A30":17>t?"\u0A26\u0A41\u0A2A\u0A39\u0A3F\u0A30":20>t?"\u0A38\u0A3C\u0A3E\u0A2E":"\u0A30\u0A3E\u0A24"},week:{dow:0,doy:6}});var Ms=["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017Adziernik","listopad","grudzie\u0144"],Cs=["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrze\u015Bnia","pa\u017Adziernika","listopada","grudnia"],Ls=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];He.defineLocale("pl",{months:function(t,e){return t?/D MMMM/.test(e)?Cs[t.month()]:Ms[t.month()]:Ms},monthsShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa\u017A","lis","gru"],monthsParse:Ls,longMonthsParse:Ls,shortMonthsParse:Ls,weekdays:["niedziela","poniedzia\u0142ek","wtorek","\u015Broda","czwartek","pi\u0105tek","sobota"],weekdaysShort:["ndz","pon","wt","\u015Br","czw","pt","sob"],weekdaysMin:["Nd","Pn","Wt","\u015Ar","Cz","Pt","So"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015B o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015Brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT";}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015Brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT";}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:ci,m:ci,mm:ci,h:ci,hh:ci,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:ci,M:"miesi\u0105c",MM:ci,y:"rok",yy:ci},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),He.defineLocale("pt-br",{months:["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],monthsShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],weekdays:["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],weekdaysShort:["dom","seg","ter","qua","qui","sex","s\xE1b"],weekdaysMin:["do","2\xAA","3\xAA","4\xAA","5\xAA","6\xAA","s\xE1"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xE0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xE0s] HH:mm"},calendar:{sameDay:"[Hoje \xE0s] LT",nextDay:"[Amanh\xE3 \xE0s] LT",nextWeek:"dddd [\xE0s] LT",lastDay:"[Ontem \xE0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xDAltimo] dddd [\xE0s] LT":"[\xDAltima] dddd [\xE0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xE1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xEAs",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",invalidDate:"Data inv\xE1lida"}),He.defineLocale("pt",{months:["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],monthsShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],weekdays:["Domingo","Segunda-feira","Ter\xE7a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S\xE1bado"],weekdaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","S\xE1b"],weekdaysMin:["Do","2\xAA","3\xAA","4\xAA","5\xAA","6\xAA","S\xE1"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xE0s] LT",nextDay:"[Amanh\xE3 \xE0s] LT",nextWeek:"dddd [\xE0s] LT",lastDay:"[Ontem \xE0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xDAltimo] dddd [\xE0s] LT":"[\xDAltima] dddd [\xE0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xE1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xEAs",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xBA",week:{dow:1,doy:4}}),He.defineLocale("ro",{months:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],monthsShort:["ian.","feb.","mart.","apr.","mai","iun.","iul.","aug.","sept.","oct.","nov.","dec."],monthsParseExact:!0,weekdays:["duminic\u0103","luni","mar\u021Bi","miercuri","joi","vineri","s\xE2mb\u0103t\u0103"],weekdaysShort:["Dum","Lun","Mar","Mie","Joi","Vin","S\xE2m"],weekdaysMin:["Du","Lu","Ma","Mi","Jo","Vi","S\xE2"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xE2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xEEn urm\u0103",s:"c\xE2teva secunde",ss:li,m:"un minut",mm:li,h:"o or\u0103",hh:li,d:"o zi",dd:li,w:"o s\u0103pt\u0103m\xE2n\u0103",ww:li,M:"o lun\u0103",MM:li,y:"un an",yy:li},week:{dow:1,doy:7}});var Ts=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];He.defineLocale("ru",{months:{format:["\u044F\u043D\u0432\u0430\u0440\u044F","\u0444\u0435\u0432\u0440\u0430\u043B\u044F","\u043C\u0430\u0440\u0442\u0430","\u0430\u043F\u0440\u0435\u043B\u044F","\u043C\u0430\u044F","\u0438\u044E\u043D\u044F","\u0438\u044E\u043B\u044F","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F","\u043E\u043A\u0442\u044F\u0431\u0440\u044F","\u043D\u043E\u044F\u0431\u0440\u044F","\u0434\u0435\u043A\u0430\u0431\u0440\u044F"],standalone:["\u044F\u043D\u0432\u0430\u0440\u044C","\u0444\u0435\u0432\u0440\u0430\u043B\u044C","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0435\u043B\u044C","\u043C\u0430\u0439","\u0438\u044E\u043D\u044C","\u0438\u044E\u043B\u044C","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u043E\u043A\u0442\u044F\u0431\u0440\u044C","\u043D\u043E\u044F\u0431\u0440\u044C","\u0434\u0435\u043A\u0430\u0431\u0440\u044C"]},monthsShort:{format:["\u044F\u043D\u0432.","\u0444\u0435\u0432\u0440.","\u043C\u0430\u0440.","\u0430\u043F\u0440.","\u043C\u0430\u044F","\u0438\u044E\u043D\u044F","\u0438\u044E\u043B\u044F","\u0430\u0432\u0433.","\u0441\u0435\u043D\u0442.","\u043E\u043A\u0442.","\u043D\u043E\u044F\u0431.","\u0434\u0435\u043A."],standalone:["\u044F\u043D\u0432.","\u0444\u0435\u0432\u0440.","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440.","\u043C\u0430\u0439","\u0438\u044E\u043D\u044C","\u0438\u044E\u043B\u044C","\u0430\u0432\u0433.","\u0441\u0435\u043D\u0442.","\u043E\u043A\u0442.","\u043D\u043E\u044F\u0431.","\u0434\u0435\u043A."]},weekdays:{standalone:["\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043F\u044F\u0442\u043D\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043E\u0442\u0430"],format:["\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u0435\u0434\u0443","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043F\u044F\u0442\u043D\u0438\u0446\u0443","\u0441\u0443\u0431\u0431\u043E\u0442\u0443"],isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:["\u0432\u0441","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],weekdaysMin:["\u0432\u0441","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],monthsParse:Ts,longMonthsParse:Ts,shortMonthsParse:Ts,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043E\u0434\u043D\u044F, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[\u0412\u043E] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E] dddd, [\u0432] LT";}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[\u0412\u043E] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043F\u0440\u043E\u0448\u043B\u043E\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043F\u0440\u043E\u0448\u043B\u044B\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043F\u0440\u043E\u0448\u043B\u0443\u044E] dddd, [\u0432] LT";}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043D\u0430\u0437\u0430\u0434",s:"\u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0441\u0435\u043A\u0443\u043D\u0434",ss:pi,m:pi,mm:pi,h:"\u0447\u0430\u0441",hh:pi,d:"\u0434\u0435\u043D\u044C",dd:pi,w:"\u043D\u0435\u0434\u0435\u043B\u044F",ww:pi,M:"\u043C\u0435\u0441\u044F\u0446",MM:pi,y:"\u0433\u043E\u0434",yy:pi},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(t){return /^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(t)},meridiem:function(t){return 4>t?"\u043D\u043E\u0447\u0438":12>t?"\u0443\u0442\u0440\u0430":17>t?"\u0434\u043D\u044F":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(t,e){return"M"===e||"d"===e||"DDD"===e?t+"-\u0439":"D"===e?t+"-\u0433\u043E":"w"===e||"W"===e?t+"-\u044F":t},week:{dow:1,doy:4}});var Es=["\u062C\u0646\u0648\u0631\u064A","\u0641\u064A\u0628\u0631\u0648\u0631\u064A","\u0645\u0627\u0631\u0686","\u0627\u067E\u0631\u064A\u0644","\u0645\u0626\u064A","\u062C\u0648\u0646","\u062C\u0648\u0644\u0627\u0621\u0650","\u0622\u06AF\u0633\u067D","\u0633\u064A\u067E\u067D\u0645\u0628\u0631","\u0622\u06AA\u067D\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068A\u0633\u0645\u0628\u0631"],Ds=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06B1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639","\u0687\u0646\u0687\u0631"];He.defineLocale("sd",{months:Es,monthsShort:Es,weekdays:Ds,weekdaysShort:Ds,weekdaysMin:Ds,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060C D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(t){return"\u0634\u0627\u0645"===t},meridiem:function(t){return 12>t?"\u0635\u0628\u062D":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06BB\u064A] LT",nextWeek:"dddd [\u0627\u06B3\u064A\u0646 \u0647\u0641\u062A\u064A \u062A\u064A] LT",lastDay:"[\u06AA\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06AF\u0632\u0631\u064A\u0644 \u0647\u0641\u062A\u064A] dddd [\u062A\u064A] LT",sameElse:"L"},relativeTime:{future:"%s \u067E\u0648\u0621",past:"%s \u0627\u06B3",s:"\u0686\u0646\u062F \u0633\u064A\u06AA\u0646\u068A",ss:"%d \u0633\u064A\u06AA\u0646\u068A",m:"\u0647\u06AA \u0645\u0646\u067D",mm:"%d \u0645\u0646\u067D",h:"\u0647\u06AA \u06AA\u0644\u0627\u06AA",hh:"%d \u06AA\u0644\u0627\u06AA",d:"\u0647\u06AA \u068F\u064A\u0646\u0647\u0646",dd:"%d \u068F\u064A\u0646\u0647\u0646",M:"\u0647\u06AA \u0645\u0647\u064A\u0646\u0648",MM:"%d \u0645\u0647\u064A\u0646\u0627",y:"\u0647\u06AA \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060C")},week:{dow:1,doy:4}}),He.defineLocale("se",{months:["o\u0111\u0111ajagem\xE1nnu","guovvam\xE1nnu","njuk\u010Dam\xE1nnu","cuo\u014Bom\xE1nnu","miessem\xE1nnu","geassem\xE1nnu","suoidnem\xE1nnu","borgem\xE1nnu","\u010Dak\u010Dam\xE1nnu","golggotm\xE1nnu","sk\xE1bmam\xE1nnu","juovlam\xE1nnu"],monthsShort:["o\u0111\u0111j","guov","njuk","cuo","mies","geas","suoi","borg","\u010Dak\u010D","golg","sk\xE1b","juov"],weekdays:["sotnabeaivi","vuoss\xE1rga","ma\u014B\u014Beb\xE1rga","gaskavahkku","duorastat","bearjadat","l\xE1vvardat"],weekdaysShort:["sotn","vuos","ma\u014B","gask","duor","bear","l\xE1v"],weekdaysMin:["s","v","m","g","d","b","L"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017Ees",past:"ma\u014Bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xE1nnu",MM:"%d m\xE1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),He.defineLocale("si",{months:["\u0DA2\u0DB1\u0DC0\u0DCF\u0DBB\u0DD2","\u0DB4\u0DD9\u0DB6\u0DBB\u0DC0\u0DCF\u0DBB\u0DD2","\u0DB8\u0DCF\u0DBB\u0DCA\u0DAD\u0DD4","\u0D85\u0DB4\u0DCA\u200D\u0DBB\u0DDA\u0DBD\u0DCA","\u0DB8\u0DD0\u0DBA\u0DD2","\u0DA2\u0DD6\u0DB1\u0DD2","\u0DA2\u0DD6\u0DBD\u0DD2","\u0D85\u0D9C\u0DDD\u0DC3\u0DCA\u0DAD\u0DD4","\u0DC3\u0DD0\u0DB4\u0DCA\u0DAD\u0DD0\u0DB8\u0DCA\u0DB6\u0DBB\u0DCA","\u0D94\u0D9A\u0DCA\u0DAD\u0DDD\u0DB6\u0DBB\u0DCA","\u0DB1\u0DDC\u0DC0\u0DD0\u0DB8\u0DCA\u0DB6\u0DBB\u0DCA","\u0DAF\u0DD9\u0DC3\u0DD0\u0DB8\u0DCA\u0DB6\u0DBB\u0DCA"],monthsShort:["\u0DA2\u0DB1","\u0DB4\u0DD9\u0DB6","\u0DB8\u0DCF\u0DBB\u0DCA","\u0D85\u0DB4\u0DCA","\u0DB8\u0DD0\u0DBA\u0DD2","\u0DA2\u0DD6\u0DB1\u0DD2","\u0DA2\u0DD6\u0DBD\u0DD2","\u0D85\u0D9C\u0DDD","\u0DC3\u0DD0\u0DB4\u0DCA","\u0D94\u0D9A\u0DCA","\u0DB1\u0DDC\u0DC0\u0DD0","\u0DAF\u0DD9\u0DC3\u0DD0"],weekdays:["\u0D89\u0DBB\u0DD2\u0DAF\u0DCF","\u0DC3\u0DB3\u0DD4\u0DAF\u0DCF","\u0D85\u0D9F\u0DC4\u0DBB\u0DD4\u0DC0\u0DCF\u0DAF\u0DCF","\u0DB6\u0DAF\u0DCF\u0DAF\u0DCF","\u0DB6\u0DCA\u200D\u0DBB\u0DC4\u0DC3\u0DCA\u0DB4\u0DAD\u0DD2\u0DB1\u0DCA\u0DAF\u0DCF","\u0DC3\u0DD2\u0D9A\u0DD4\u0DBB\u0DCF\u0DAF\u0DCF","\u0DC3\u0DD9\u0DB1\u0DC3\u0DD4\u0DBB\u0DCF\u0DAF\u0DCF"],weekdaysShort:["\u0D89\u0DBB\u0DD2","\u0DC3\u0DB3\u0DD4","\u0D85\u0D9F","\u0DB6\u0DAF\u0DCF","\u0DB6\u0DCA\u200D\u0DBB\u0DC4","\u0DC3\u0DD2\u0D9A\u0DD4","\u0DC3\u0DD9\u0DB1"],weekdaysMin:["\u0D89","\u0DC3","\u0D85","\u0DB6","\u0DB6\u0DCA\u200D\u0DBB","\u0DC3\u0DD2","\u0DC3\u0DD9"],weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0DC0\u0DD0\u0DB1\u0DD2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0D85\u0DAF] LT[\u0DA7]",nextDay:"[\u0DC4\u0DD9\u0DA7] LT[\u0DA7]",nextWeek:"dddd LT[\u0DA7]",lastDay:"[\u0D8A\u0DBA\u0DDA] LT[\u0DA7]",lastWeek:"[\u0DB4\u0DC3\u0DD4\u0D9C\u0DD2\u0DBA] dddd LT[\u0DA7]",sameElse:"L"},relativeTime:{future:"%s\u0D9A\u0DD2\u0DB1\u0DCA",past:"%s\u0D9A\u0DA7 \u0DB4\u0DD9\u0DBB",s:"\u0DAD\u0DAD\u0DCA\u0DB4\u0DBB \u0D9A\u0DD2\u0DC4\u0DD2\u0DB4\u0DBA",ss:"\u0DAD\u0DAD\u0DCA\u0DB4\u0DBB %d",m:"\u0DB8\u0DD2\u0DB1\u0DD2\u0DAD\u0DCA\u0DAD\u0DD4\u0DC0",mm:"\u0DB8\u0DD2\u0DB1\u0DD2\u0DAD\u0DCA\u0DAD\u0DD4 %d",h:"\u0DB4\u0DD0\u0DBA",hh:"\u0DB4\u0DD0\u0DBA %d",d:"\u0DAF\u0DD2\u0DB1\u0DBA",dd:"\u0DAF\u0DD2\u0DB1 %d",M:"\u0DB8\u0DCF\u0DC3\u0DBA",MM:"\u0DB8\u0DCF\u0DC3 %d",y:"\u0DC0\u0DC3\u0DBB",yy:"\u0DC0\u0DC3\u0DBB %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(t){return t+" \u0DC0\u0DD0\u0DB1\u0DD2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(t){return"\u0DB4.\u0DC0."===t||"\u0DB4\u0DC3\u0DCA \u0DC0\u0DBB\u0DD4"===t},meridiem:function(n,e,a){return 11<n?a?"\u0DB4.\u0DC0.":"\u0DB4\u0DC3\u0DCA \u0DC0\u0DBB\u0DD4":a?"\u0DB4\u0DD9.\u0DC0.":"\u0DB4\u0DD9\u0DBB \u0DC0\u0DBB\u0DD4"}});He.defineLocale("sk",{months:["janu\xE1r","febru\xE1r","marec","apr\xEDl","m\xE1j","j\xFAn","j\xFAl","august","september","okt\xF3ber","november","december"],monthsShort:["jan","feb","mar","apr","m\xE1j","j\xFAn","j\xFAl","aug","sep","okt","nov","dec"],weekdays:["nede\u013Ea","pondelok","utorok","streda","\u0161tvrtok","piatok","sobota"],weekdaysShort:["ne","po","ut","st","\u0161t","pi","so"],weekdaysMin:["ne","po","ut","st","\u0161t","pi","so"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013Eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT";}},lastDay:"[v\u010Dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xFA nede\u013Eu o] LT";case 1:case 2:return"[minul\xFD] dddd [o] LT";case 3:return"[minul\xFA stredu o] LT";case 4:case 5:return"[minul\xFD] dddd [o] LT";case 6:return"[minul\xFA sobotu o] LT";}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:mi,ss:mi,m:mi,mm:mi,h:mi,hh:mi,d:mi,dd:mi,M:mi,MM:mi,y:mi,yy:mi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),He.defineLocale("sl",{months:["januar","februar","marec","april","maj","junij","julij","avgust","september","oktober","november","december"],monthsShort:["jan.","feb.","mar.","apr.","maj.","jun.","jul.","avg.","sep.","okt.","nov.","dec."],monthsParseExact:!0,weekdays:["nedelja","ponedeljek","torek","sreda","\u010Detrtek","petek","sobota"],weekdaysShort:["ned.","pon.","tor.","sre.","\u010Det.","pet.","sob."],weekdaysMin:["ne","po","to","sr","\u010De","pe","so"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT";}},lastDay:"[v\u010Deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT";}},sameElse:"L"},relativeTime:{future:"\u010Dez %s",past:"pred %s",s:gi,ss:gi,m:gi,mm:gi,h:gi,hh:gi,d:gi,dd:gi,M:gi,MM:gi,y:gi,yy:gi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),He.defineLocale("sq",{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","N\xEBntor","Dhjetor"],monthsShort:["Jan","Shk","Mar","Pri","Maj","Qer","Kor","Gus","Sht","Tet","N\xEBn","Dhj"],weekdays:["E Diel","E H\xEBn\xEB","E Mart\xEB","E M\xEBrkur\xEB","E Enjte","E Premte","E Shtun\xEB"],weekdaysShort:["Die","H\xEBn","Mar","M\xEBr","Enj","Pre","Sht"],weekdaysMin:["D","H","Ma","M\xEB","E","P","Sh"],weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t){return 12>t?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xEB] LT",nextDay:"[Nes\xEBr n\xEB] LT",nextWeek:"dddd [n\xEB] LT",lastDay:"[Dje n\xEB] LT",lastWeek:"dddd [e kaluar n\xEB] LT",sameElse:"L"},relativeTime:{future:"n\xEB %s",past:"%s m\xEB par\xEB",s:"disa sekonda",ss:"%d sekonda",m:"nj\xEB minut\xEB",mm:"%d minuta",h:"nj\xEB or\xEB",hh:"%d or\xEB",d:"nj\xEB dit\xEB",dd:"%d dit\xEB",M:"nj\xEB muaj",MM:"%d muaj",y:"nj\xEB vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Ys={words:{ss:["\u0441\u0435\u043A\u0443\u043D\u0434\u0430","\u0441\u0435\u043A\u0443\u043D\u0434\u0435","\u0441\u0435\u043A\u0443\u043D\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043D \u043C\u0438\u043D\u0443\u0442","\u0458\u0435\u0434\u043D\u0435 \u043C\u0438\u043D\u0443\u0442\u0435"],mm:["\u043C\u0438\u043D\u0443\u0442","\u043C\u0438\u043D\u0443\u0442\u0435","\u043C\u0438\u043D\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043D \u0441\u0430\u0442","\u0458\u0435\u0434\u043D\u043E\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],dd:["\u0434\u0430\u043D","\u0434\u0430\u043D\u0430","\u0434\u0430\u043D\u0430"],MM:["\u043C\u0435\u0441\u0435\u0446","\u043C\u0435\u0441\u0435\u0446\u0430","\u043C\u0435\u0441\u0435\u0446\u0438"],yy:["\u0433\u043E\u0434\u0438\u043D\u0430","\u0433\u043E\u0434\u0438\u043D\u0435","\u0433\u043E\u0434\u0438\u043D\u0430"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:2<=t&&4>=t?e[1]:e[2]},translate:function(n,e,a){var t=Ys.words[a];return 1===a.length?e?t[0]:t[1]:n+" "+Ys.correctGrammaticalCase(n,t)}};He.defineLocale("sr-cyrl",{months:["\u0458\u0430\u043D\u0443\u0430\u0440","\u0444\u0435\u0431\u0440\u0443\u0430\u0440","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0438\u043B","\u043C\u0430\u0458","\u0458\u0443\u043D","\u0458\u0443\u043B","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043F\u0442\u0435\u043C\u0431\u0430\u0440","\u043E\u043A\u0442\u043E\u0431\u0430\u0440","\u043D\u043E\u0432\u0435\u043C\u0431\u0430\u0440","\u0434\u0435\u0446\u0435\u043C\u0431\u0430\u0440"],monthsShort:["\u0458\u0430\u043D.","\u0444\u0435\u0431.","\u043C\u0430\u0440.","\u0430\u043F\u0440.","\u043C\u0430\u0458","\u0458\u0443\u043D","\u0458\u0443\u043B","\u0430\u0432\u0433.","\u0441\u0435\u043F.","\u043E\u043A\u0442.","\u043D\u043E\u0432.","\u0434\u0435\u0446."],monthsParseExact:!0,weekdays:["\u043D\u0435\u0434\u0435\u0459\u0430","\u043F\u043E\u043D\u0435\u0434\u0435\u0459\u0430\u043A","\u0443\u0442\u043E\u0440\u0430\u043A","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043A","\u043F\u0435\u0442\u0430\u043A","\u0441\u0443\u0431\u043E\u0442\u0430"],weekdaysShort:["\u043D\u0435\u0434.","\u043F\u043E\u043D.","\u0443\u0442\u043E.","\u0441\u0440\u0435.","\u0447\u0435\u0442.","\u043F\u0435\u0442.","\u0441\u0443\u0431."],weekdaysMin:["\u043D\u0435","\u043F\u043E","\u0443\u0442","\u0441\u0440","\u0447\u0435","\u043F\u0435","\u0441\u0443"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043D\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043D\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043E\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT";}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043F\u0440\u043E\u0448\u043B\u0435] [\u043D\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043F\u0440\u043E\u0448\u043B\u043E\u0433] [\u043F\u043E\u043D\u0435\u0434\u0435\u0459\u043A\u0430] [\u0443] LT","[\u043F\u0440\u043E\u0448\u043B\u043E\u0433] [\u0443\u0442\u043E\u0440\u043A\u0430] [\u0443] LT","[\u043F\u0440\u043E\u0448\u043B\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043F\u0440\u043E\u0448\u043B\u043E\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043A\u0430] [\u0443] LT","[\u043F\u0440\u043E\u0448\u043B\u043E\u0433] [\u043F\u0435\u0442\u043A\u0430] [\u0443] LT","[\u043F\u0440\u043E\u0448\u043B\u0435] [\u0441\u0443\u0431\u043E\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043F\u0440\u0435 %s",s:"\u043D\u0435\u043A\u043E\u043B\u0438\u043A\u043E \u0441\u0435\u043A\u0443\u043D\u0434\u0438",ss:Ys.translate,m:Ys.translate,mm:Ys.translate,h:Ys.translate,hh:Ys.translate,d:"\u0434\u0430\u043D",dd:Ys.translate,M:"\u043C\u0435\u0441\u0435\u0446",MM:Ys.translate,y:"\u0433\u043E\u0434\u0438\u043D\u0443",yy:Ys.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Is={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:2<=t&&4>=t?e[1]:e[2]},translate:function(n,e,a){var t=Is.words[a];return 1===a.length?e?t[0]:t[1]:n+" "+Is.correctGrammaticalCase(n,t)}};He.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],monthsParseExact:!0,weekdays:["nedelja","ponedeljak","utorak","sreda","\u010Detvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","\u010Det.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","\u010De","pe","su"],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT";}},lastDay:"[ju\u010De u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010Detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:Is.translate,m:Is.translate,mm:Is.translate,h:Is.translate,hh:Is.translate,d:"dan",dd:Is.translate,M:"mesec",MM:Is.translate,y:"godinu",yy:Is.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),He.defineLocale("ss",{months:["Bhimbidvwane","Indlovana","Indlov'lenkhulu","Mabasa","Inkhwekhweti","Inhlaba","Kholwane","Ingci","Inyoni","Imphala","Lweti","Ingongoni"],monthsShort:["Bhi","Ina","Inu","Mab","Ink","Inh","Kho","Igc","Iny","Imp","Lwe","Igo"],weekdays:["Lisontfo","Umsombuluko","Lesibili","Lesitsatfu","Lesine","Lesihlanu","Umgcibelo"],weekdaysShort:["Lis","Umb","Lsb","Les","Lsi","Lsh","Umg"],weekdaysMin:["Li","Us","Lb","Lt","Ls","Lh","Ug"],weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t){return 11>t?"ekuseni":15>t?"emini":19>t?"entsambama":"ebusuku"},meridiemHour:function(t,n){return 12===t&&(t=0),"ekuseni"===n?t:"emini"===n?11<=t?t:t+12:"entsambama"===n||"ebusuku"===n?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),He.defineLocale("sv",{months:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],monthsShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],weekdays:["s\xF6ndag","m\xE5ndag","tisdag","onsdag","torsdag","fredag","l\xF6rdag"],weekdaysShort:["s\xF6n","m\xE5n","tis","ons","tor","fre","l\xF6r"],weekdaysMin:["s\xF6","m\xE5","ti","on","to","fr","l\xF6"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xE5r] LT",nextWeek:"[P\xE5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xF6r %s sedan",s:"n\xE5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xE5nad",MM:"%d m\xE5nader",y:"ett \xE5r",yy:"%d \xE5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(t){var e=t%10;return t+(1!=~~(t%100/10)&&(1==e||2==e)?":a":":e")},week:{dow:1,doy:4}}),He.defineLocale("sw",{months:["Januari","Februari","Machi","Aprili","Mei","Juni","Julai","Agosti","Septemba","Oktoba","Novemba","Desemba"],monthsShort:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ago","Sep","Okt","Nov","Des"],weekdays:["Jumapili","Jumatatu","Jumanne","Jumatano","Alhamisi","Ijumaa","Jumamosi"],weekdaysShort:["Jpl","Jtat","Jnne","Jtan","Alh","Ijm","Jmos"],weekdaysMin:["J2","J3","J4","J5","Al","Ij","J1"],weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});var js={1:"\u0BE7",2:"\u0BE8",3:"\u0BE9",4:"\u0BEA",5:"\u0BEB",6:"\u0BEC",7:"\u0BED",8:"\u0BEE",9:"\u0BEF",0:"\u0BE6"},Ns={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};He.defineLocale("ta",{months:["\u0B9C\u0BA9\u0BB5\u0BB0\u0BBF","\u0BAA\u0BBF\u0BAA\u0BCD\u0BB0\u0BB5\u0BB0\u0BBF","\u0BAE\u0BBE\u0BB0\u0BCD\u0B9A\u0BCD","\u0B8F\u0BAA\u0BCD\u0BB0\u0BB2\u0BCD","\u0BAE\u0BC7","\u0B9C\u0BC2\u0BA9\u0BCD","\u0B9C\u0BC2\u0BB2\u0BC8","\u0B86\u0B95\u0BB8\u0BCD\u0B9F\u0BCD","\u0B9A\u0BC6\u0BAA\u0BCD\u0B9F\u0BC6\u0BAE\u0BCD\u0BAA\u0BB0\u0BCD","\u0B85\u0B95\u0BCD\u0B9F\u0BC7\u0BBE\u0BAA\u0BB0\u0BCD","\u0BA8\u0BB5\u0BAE\u0BCD\u0BAA\u0BB0\u0BCD","\u0B9F\u0BBF\u0B9A\u0BAE\u0BCD\u0BAA\u0BB0\u0BCD"],monthsShort:["\u0B9C\u0BA9\u0BB5\u0BB0\u0BBF","\u0BAA\u0BBF\u0BAA\u0BCD\u0BB0\u0BB5\u0BB0\u0BBF","\u0BAE\u0BBE\u0BB0\u0BCD\u0B9A\u0BCD","\u0B8F\u0BAA\u0BCD\u0BB0\u0BB2\u0BCD","\u0BAE\u0BC7","\u0B9C\u0BC2\u0BA9\u0BCD","\u0B9C\u0BC2\u0BB2\u0BC8","\u0B86\u0B95\u0BB8\u0BCD\u0B9F\u0BCD","\u0B9A\u0BC6\u0BAA\u0BCD\u0B9F\u0BC6\u0BAE\u0BCD\u0BAA\u0BB0\u0BCD","\u0B85\u0B95\u0BCD\u0B9F\u0BC7\u0BBE\u0BAA\u0BB0\u0BCD","\u0BA8\u0BB5\u0BAE\u0BCD\u0BAA\u0BB0\u0BCD","\u0B9F\u0BBF\u0B9A\u0BAE\u0BCD\u0BAA\u0BB0\u0BCD"],weekdays:["\u0B9E\u0BBE\u0BAF\u0BBF\u0BB1\u0BCD\u0BB1\u0BC1\u0B95\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8","\u0BA4\u0BBF\u0B99\u0BCD\u0B95\u0B9F\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8","\u0B9A\u0BC6\u0BB5\u0BCD\u0BB5\u0BBE\u0BAF\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8","\u0BAA\u0BC1\u0BA4\u0BA9\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8","\u0BB5\u0BBF\u0BAF\u0BBE\u0BB4\u0B95\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8","\u0BB5\u0BC6\u0BB3\u0BCD\u0BB3\u0BBF\u0B95\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8","\u0B9A\u0BA9\u0BBF\u0B95\u0BCD\u0B95\u0BBF\u0BB4\u0BAE\u0BC8"],weekdaysShort:["\u0B9E\u0BBE\u0BAF\u0BBF\u0BB1\u0BC1","\u0BA4\u0BBF\u0B99\u0BCD\u0B95\u0BB3\u0BCD","\u0B9A\u0BC6\u0BB5\u0BCD\u0BB5\u0BBE\u0BAF\u0BCD","\u0BAA\u0BC1\u0BA4\u0BA9\u0BCD","\u0BB5\u0BBF\u0BAF\u0BBE\u0BB4\u0BA9\u0BCD","\u0BB5\u0BC6\u0BB3\u0BCD\u0BB3\u0BBF","\u0B9A\u0BA9\u0BBF"],weekdaysMin:["\u0B9E\u0BBE","\u0BA4\u0BBF","\u0B9A\u0BC6","\u0BAA\u0BC1","\u0BB5\u0BBF","\u0BB5\u0BC6","\u0B9A"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0B87\u0BA9\u0BCD\u0BB1\u0BC1] LT",nextDay:"[\u0BA8\u0BBE\u0BB3\u0BC8] LT",nextWeek:"dddd, LT",lastDay:"[\u0BA8\u0BC7\u0BB1\u0BCD\u0BB1\u0BC1] LT",lastWeek:"[\u0B95\u0B9F\u0BA8\u0BCD\u0BA4 \u0BB5\u0BBE\u0BB0\u0BAE\u0BCD] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0B87\u0BB2\u0BCD",past:"%s \u0BAE\u0BC1\u0BA9\u0BCD",s:"\u0B92\u0BB0\u0BC1 \u0B9A\u0BBF\u0BB2 \u0BB5\u0BBF\u0BA8\u0BBE\u0B9F\u0BBF\u0B95\u0BB3\u0BCD",ss:"%d \u0BB5\u0BBF\u0BA8\u0BBE\u0B9F\u0BBF\u0B95\u0BB3\u0BCD",m:"\u0B92\u0BB0\u0BC1 \u0BA8\u0BBF\u0BAE\u0BBF\u0B9F\u0BAE\u0BCD",mm:"%d \u0BA8\u0BBF\u0BAE\u0BBF\u0B9F\u0B99\u0BCD\u0B95\u0BB3\u0BCD",h:"\u0B92\u0BB0\u0BC1 \u0BAE\u0BA3\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",hh:"%d \u0BAE\u0BA3\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",d:"\u0B92\u0BB0\u0BC1 \u0BA8\u0BBE\u0BB3\u0BCD",dd:"%d \u0BA8\u0BBE\u0B9F\u0BCD\u0B95\u0BB3\u0BCD",M:"\u0B92\u0BB0\u0BC1 \u0BAE\u0BBE\u0BA4\u0BAE\u0BCD",MM:"%d \u0BAE\u0BBE\u0BA4\u0B99\u0BCD\u0B95\u0BB3\u0BCD",y:"\u0B92\u0BB0\u0BC1 \u0BB5\u0BB0\u0BC1\u0B9F\u0BAE\u0BCD",yy:"%d \u0B86\u0BA3\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(t){return t+"\u0BB5\u0BA4\u0BC1"},preparse:function(t){return t.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(t){return Ns[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return js[t]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(t){return 2>t?" \u0BAF\u0BBE\u0BAE\u0BAE\u0BCD":6>t?" \u0BB5\u0BC8\u0B95\u0BB1\u0BC8":10>t?" \u0B95\u0BBE\u0BB2\u0BC8":14>t?" \u0BA8\u0BA3\u0BCD\u0BAA\u0B95\u0BB2\u0BCD":18>t?" \u0B8E\u0BB1\u0BCD\u0BAA\u0BBE\u0B9F\u0BC1":22>t?" \u0BAE\u0BBE\u0BB2\u0BC8":" \u0BAF\u0BBE\u0BAE\u0BAE\u0BCD"},meridiemHour:function(t,n){return 12===t&&(t=0),"\u0BAF\u0BBE\u0BAE\u0BAE\u0BCD"===n?2>t?t:t+12:"\u0BB5\u0BC8\u0B95\u0BB1\u0BC8"===n||"\u0B95\u0BBE\u0BB2\u0BC8"===n||"\u0BA8\u0BA3\u0BCD\u0BAA\u0B95\u0BB2\u0BCD"===n&&10<=t?t:t+12},week:{dow:0,doy:6}}),He.defineLocale("te",{months:["\u0C1C\u0C28\u0C35\u0C30\u0C3F","\u0C2B\u0C3F\u0C2C\u0C4D\u0C30\u0C35\u0C30\u0C3F","\u0C2E\u0C3E\u0C30\u0C4D\u0C1A\u0C3F","\u0C0F\u0C2A\u0C4D\u0C30\u0C3F\u0C32\u0C4D","\u0C2E\u0C47","\u0C1C\u0C42\u0C28\u0C4D","\u0C1C\u0C41\u0C32\u0C48","\u0C06\u0C17\u0C38\u0C4D\u0C1F\u0C41","\u0C38\u0C46\u0C2A\u0C4D\u0C1F\u0C46\u0C02\u0C2C\u0C30\u0C4D","\u0C05\u0C15\u0C4D\u0C1F\u0C4B\u0C2C\u0C30\u0C4D","\u0C28\u0C35\u0C02\u0C2C\u0C30\u0C4D","\u0C21\u0C3F\u0C38\u0C46\u0C02\u0C2C\u0C30\u0C4D"],monthsShort:["\u0C1C\u0C28.","\u0C2B\u0C3F\u0C2C\u0C4D\u0C30.","\u0C2E\u0C3E\u0C30\u0C4D\u0C1A\u0C3F","\u0C0F\u0C2A\u0C4D\u0C30\u0C3F.","\u0C2E\u0C47","\u0C1C\u0C42\u0C28\u0C4D","\u0C1C\u0C41\u0C32\u0C48","\u0C06\u0C17.","\u0C38\u0C46\u0C2A\u0C4D.","\u0C05\u0C15\u0C4D\u0C1F\u0C4B.","\u0C28\u0C35.","\u0C21\u0C3F\u0C38\u0C46."],monthsParseExact:!0,weekdays:["\u0C06\u0C26\u0C3F\u0C35\u0C3E\u0C30\u0C02","\u0C38\u0C4B\u0C2E\u0C35\u0C3E\u0C30\u0C02","\u0C2E\u0C02\u0C17\u0C33\u0C35\u0C3E\u0C30\u0C02","\u0C2C\u0C41\u0C27\u0C35\u0C3E\u0C30\u0C02","\u0C17\u0C41\u0C30\u0C41\u0C35\u0C3E\u0C30\u0C02","\u0C36\u0C41\u0C15\u0C4D\u0C30\u0C35\u0C3E\u0C30\u0C02","\u0C36\u0C28\u0C3F\u0C35\u0C3E\u0C30\u0C02"],weekdaysShort:["\u0C06\u0C26\u0C3F","\u0C38\u0C4B\u0C2E","\u0C2E\u0C02\u0C17\u0C33","\u0C2C\u0C41\u0C27","\u0C17\u0C41\u0C30\u0C41","\u0C36\u0C41\u0C15\u0C4D\u0C30","\u0C36\u0C28\u0C3F"],weekdaysMin:["\u0C06","\u0C38\u0C4B","\u0C2E\u0C02","\u0C2C\u0C41","\u0C17\u0C41","\u0C36\u0C41","\u0C36"],longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0C28\u0C47\u0C21\u0C41] LT",nextDay:"[\u0C30\u0C47\u0C2A\u0C41] LT",nextWeek:"dddd, LT",lastDay:"[\u0C28\u0C3F\u0C28\u0C4D\u0C28] LT",lastWeek:"[\u0C17\u0C24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0C32\u0C4B",past:"%s \u0C15\u0C4D\u0C30\u0C3F\u0C24\u0C02",s:"\u0C15\u0C4A\u0C28\u0C4D\u0C28\u0C3F \u0C15\u0C4D\u0C37\u0C23\u0C3E\u0C32\u0C41",ss:"%d \u0C38\u0C46\u0C15\u0C28\u0C4D\u0C32\u0C41",m:"\u0C12\u0C15 \u0C28\u0C3F\u0C2E\u0C3F\u0C37\u0C02",mm:"%d \u0C28\u0C3F\u0C2E\u0C3F\u0C37\u0C3E\u0C32\u0C41",h:"\u0C12\u0C15 \u0C17\u0C02\u0C1F",hh:"%d \u0C17\u0C02\u0C1F\u0C32\u0C41",d:"\u0C12\u0C15 \u0C30\u0C4B\u0C1C\u0C41",dd:"%d \u0C30\u0C4B\u0C1C\u0C41\u0C32\u0C41",M:"\u0C12\u0C15 \u0C28\u0C46\u0C32",MM:"%d \u0C28\u0C46\u0C32\u0C32\u0C41",y:"\u0C12\u0C15 \u0C38\u0C02\u0C35\u0C24\u0C4D\u0C38\u0C30\u0C02",yy:"%d \u0C38\u0C02\u0C35\u0C24\u0C4D\u0C38\u0C30\u0C3E\u0C32\u0C41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0C35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(t,n){return 12===t&&(t=0),"\u0C30\u0C3E\u0C24\u0C4D\u0C30\u0C3F"===n?4>t?t:t+12:"\u0C09\u0C26\u0C2F\u0C02"===n?t:"\u0C2E\u0C27\u0C4D\u0C2F\u0C3E\u0C39\u0C4D\u0C28\u0C02"===n?10<=t?t:t+12:"\u0C38\u0C3E\u0C2F\u0C02\u0C24\u0C4D\u0C30\u0C02"===n?t+12:void 0},meridiem:function(t){return 4>t?"\u0C30\u0C3E\u0C24\u0C4D\u0C30\u0C3F":10>t?"\u0C09\u0C26\u0C2F\u0C02":17>t?"\u0C2E\u0C27\u0C4D\u0C2F\u0C3E\u0C39\u0C4D\u0C28\u0C02":20>t?"\u0C38\u0C3E\u0C2F\u0C02\u0C24\u0C4D\u0C30\u0C02":"\u0C30\u0C3E\u0C24\u0C4D\u0C30\u0C3F"},week:{dow:0,doy:6}}),He.defineLocale("tet",{months:["Janeiru","Fevereiru","Marsu","Abril","Maiu","Ju\xF1u","Jullu","Agustu","Setembru","Outubru","Novembru","Dezembru"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],weekdays:["Domingu","Segunda","Tersa","Kuarta","Kinta","Sesta","Sabadu"],weekdaysShort:["Dom","Seg","Ters","Kua","Kint","Sest","Sab"],weekdaysMin:["Do","Seg","Te","Ku","Ki","Ses","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}});var Os={0:"-\u0443\u043C",1:"-\u0443\u043C",2:"-\u044E\u043C",3:"-\u044E\u043C",4:"-\u0443\u043C",5:"-\u0443\u043C",6:"-\u0443\u043C",7:"-\u0443\u043C",8:"-\u0443\u043C",9:"-\u0443\u043C",10:"-\u0443\u043C",12:"-\u0443\u043C",13:"-\u0443\u043C",20:"-\u0443\u043C",30:"-\u044E\u043C",40:"-\u0443\u043C",50:"-\u0443\u043C",60:"-\u0443\u043C",70:"-\u0443\u043C",80:"-\u0443\u043C",90:"-\u0443\u043C",100:"-\u0443\u043C"};He.defineLocale("tg",{months:{format:["\u044F\u043D\u0432\u0430\u0440\u0438","\u0444\u0435\u0432\u0440\u0430\u043B\u0438","\u043C\u0430\u0440\u0442\u0438","\u0430\u043F\u0440\u0435\u043B\u0438","\u043C\u0430\u0439\u0438","\u0438\u044E\u043D\u0438","\u0438\u044E\u043B\u0438","\u0430\u0432\u0433\u0443\u0441\u0442\u0438","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u0438","\u043E\u043A\u0442\u044F\u0431\u0440\u0438","\u043D\u043E\u044F\u0431\u0440\u0438","\u0434\u0435\u043A\u0430\u0431\u0440\u0438"],standalone:["\u044F\u043D\u0432\u0430\u0440","\u0444\u0435\u0432\u0440\u0430\u043B","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0435\u043B","\u043C\u0430\u0439","\u0438\u044E\u043D","\u0438\u044E\u043B","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043D\u0442\u044F\u0431\u0440","\u043E\u043A\u0442\u044F\u0431\u0440","\u043D\u043E\u044F\u0431\u0440","\u0434\u0435\u043A\u0430\u0431\u0440"]},monthsShort:["\u044F\u043D\u0432","\u0444\u0435\u0432","\u043C\u0430\u0440","\u0430\u043F\u0440","\u043C\u0430\u0439","\u0438\u044E\u043D","\u0438\u044E\u043B","\u0430\u0432\u0433","\u0441\u0435\u043D","\u043E\u043A\u0442","\u043D\u043E\u044F","\u0434\u0435\u043A"],weekdays:["\u044F\u043A\u0448\u0430\u043D\u0431\u0435","\u0434\u0443\u0448\u0430\u043D\u0431\u0435","\u0441\u0435\u0448\u0430\u043D\u0431\u0435","\u0447\u043E\u0440\u0448\u0430\u043D\u0431\u0435","\u043F\u0430\u043D\u04B7\u0448\u0430\u043D\u0431\u0435","\u04B7\u0443\u043C\u044A\u0430","\u0448\u0430\u043D\u0431\u0435"],weekdaysShort:["\u044F\u0448\u0431","\u0434\u0448\u0431","\u0441\u0448\u0431","\u0447\u0448\u0431","\u043F\u0448\u0431","\u04B7\u0443\u043C","\u0448\u043D\u0431"],weekdaysMin:["\u044F\u0448","\u0434\u0448","\u0441\u0448","\u0447\u0448","\u043F\u0448","\u04B7\u043C","\u0448\u0431"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043C\u0440\u04EF\u0437 \u0441\u043E\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043E \u0441\u043E\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04EF\u0437 \u0441\u043E\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04B3\u0430\u0444\u0442\u0430\u0438 \u043E\u044F\u043D\u0434\u0430 \u0441\u043E\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04B3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043E\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044A\u0434\u0438 %s",past:"%s \u043F\u0435\u0448",s:"\u044F\u043A\u0447\u0430\u043D\u0434 \u0441\u043E\u043D\u0438\u044F",m:"\u044F\u043A \u0434\u0430\u049B\u0438\u049B\u0430",mm:"%d \u0434\u0430\u049B\u0438\u049B\u0430",h:"\u044F\u043A \u0441\u043E\u0430\u0442",hh:"%d \u0441\u043E\u0430\u0442",d:"\u044F\u043A \u0440\u04EF\u0437",dd:"%d \u0440\u04EF\u0437",M:"\u044F\u043A \u043C\u043E\u04B3",MM:"%d \u043C\u043E\u04B3",y:"\u044F\u043A \u0441\u043E\u043B",yy:"%d \u0441\u043E\u043B"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(t,n){return 12===t&&(t=0),"\u0448\u0430\u0431"===n?4>t?t:t+12:"\u0441\u0443\u0431\u04B3"===n?t:"\u0440\u04EF\u0437"===n?11<=t?t:t+12:"\u0431\u0435\u0433\u043E\u04B3"===n?t+12:void 0},meridiem:function(t){return 4>t?"\u0448\u0430\u0431":11>t?"\u0441\u0443\u0431\u04B3":16>t?"\u0440\u04EF\u0437":19>t?"\u0431\u0435\u0433\u043E\u04B3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(t){return t+(Os[t]||Os[t%10]||Os[100<=t?100:null])},week:{dow:1,doy:7}}),He.defineLocale("th",{months:["\u0E21\u0E01\u0E23\u0E32\u0E04\u0E21","\u0E01\u0E38\u0E21\u0E20\u0E32\u0E1E\u0E31\u0E19\u0E18\u0E4C","\u0E21\u0E35\u0E19\u0E32\u0E04\u0E21","\u0E40\u0E21\u0E29\u0E32\u0E22\u0E19","\u0E1E\u0E24\u0E29\u0E20\u0E32\u0E04\u0E21","\u0E21\u0E34\u0E16\u0E38\u0E19\u0E32\u0E22\u0E19","\u0E01\u0E23\u0E01\u0E0E\u0E32\u0E04\u0E21","\u0E2A\u0E34\u0E07\u0E2B\u0E32\u0E04\u0E21","\u0E01\u0E31\u0E19\u0E22\u0E32\u0E22\u0E19","\u0E15\u0E38\u0E25\u0E32\u0E04\u0E21","\u0E1E\u0E24\u0E28\u0E08\u0E34\u0E01\u0E32\u0E22\u0E19","\u0E18\u0E31\u0E19\u0E27\u0E32\u0E04\u0E21"],monthsShort:["\u0E21.\u0E04.","\u0E01.\u0E1E.","\u0E21\u0E35.\u0E04.","\u0E40\u0E21.\u0E22.","\u0E1E.\u0E04.","\u0E21\u0E34.\u0E22.","\u0E01.\u0E04.","\u0E2A.\u0E04.","\u0E01.\u0E22.","\u0E15.\u0E04.","\u0E1E.\u0E22.","\u0E18.\u0E04."],monthsParseExact:!0,weekdays:["\u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C","\u0E08\u0E31\u0E19\u0E17\u0E23\u0E4C","\u0E2D\u0E31\u0E07\u0E04\u0E32\u0E23","\u0E1E\u0E38\u0E18","\u0E1E\u0E24\u0E2B\u0E31\u0E2A\u0E1A\u0E14\u0E35","\u0E28\u0E38\u0E01\u0E23\u0E4C","\u0E40\u0E2A\u0E32\u0E23\u0E4C"],weekdaysShort:["\u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C","\u0E08\u0E31\u0E19\u0E17\u0E23\u0E4C","\u0E2D\u0E31\u0E07\u0E04\u0E32\u0E23","\u0E1E\u0E38\u0E18","\u0E1E\u0E24\u0E2B\u0E31\u0E2A","\u0E28\u0E38\u0E01\u0E23\u0E4C","\u0E40\u0E2A\u0E32\u0E23\u0E4C"],weekdaysMin:["\u0E2D\u0E32.","\u0E08.","\u0E2D.","\u0E1E.","\u0E1E\u0E24.","\u0E28.","\u0E2A."],weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0E40\u0E27\u0E25\u0E32 H:mm",LLLL:"\u0E27\u0E31\u0E19dddd\u0E17\u0E35\u0E48 D MMMM YYYY \u0E40\u0E27\u0E25\u0E32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(t){return"\u0E2B\u0E25\u0E31\u0E07\u0E40\u0E17\u0E35\u0E48\u0E22\u0E07"===t},meridiem:function(t){return 12>t?"\u0E01\u0E48\u0E2D\u0E19\u0E40\u0E17\u0E35\u0E48\u0E22\u0E07":"\u0E2B\u0E25\u0E31\u0E07\u0E40\u0E17\u0E35\u0E48\u0E22\u0E07"},calendar:{sameDay:"[\u0E27\u0E31\u0E19\u0E19\u0E35\u0E49 \u0E40\u0E27\u0E25\u0E32] LT",nextDay:"[\u0E1E\u0E23\u0E38\u0E48\u0E07\u0E19\u0E35\u0E49 \u0E40\u0E27\u0E25\u0E32] LT",nextWeek:"dddd[\u0E2B\u0E19\u0E49\u0E32 \u0E40\u0E27\u0E25\u0E32] LT",lastDay:"[\u0E40\u0E21\u0E37\u0E48\u0E2D\u0E27\u0E32\u0E19\u0E19\u0E35\u0E49 \u0E40\u0E27\u0E25\u0E32] LT",lastWeek:"[\u0E27\u0E31\u0E19]dddd[\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27 \u0E40\u0E27\u0E25\u0E32] LT",sameElse:"L"},relativeTime:{future:"\u0E2D\u0E35\u0E01 %s",past:"%s\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27",s:"\u0E44\u0E21\u0E48\u0E01\u0E35\u0E48\u0E27\u0E34\u0E19\u0E32\u0E17\u0E35",ss:"%d \u0E27\u0E34\u0E19\u0E32\u0E17\u0E35",m:"1 \u0E19\u0E32\u0E17\u0E35",mm:"%d \u0E19\u0E32\u0E17\u0E35",h:"1 \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07",hh:"%d \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07",d:"1 \u0E27\u0E31\u0E19",dd:"%d \u0E27\u0E31\u0E19",w:"1 \u0E2A\u0E31\u0E1B\u0E14\u0E32\u0E2B\u0E4C",ww:"%d \u0E2A\u0E31\u0E1B\u0E14\u0E32\u0E2B\u0E4C",M:"1 \u0E40\u0E14\u0E37\u0E2D\u0E19",MM:"%d \u0E40\u0E14\u0E37\u0E2D\u0E19",y:"1 \u0E1B\u0E35",yy:"%d \u0E1B\u0E35"}});var Rs={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xFCnji",4:"'\xFCnji",100:"'\xFCnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};He.defineLocale("tk",{months:["\xDDanwar","Fewral","Mart","Aprel","Ma\xFD","I\xFDun","I\xFDul","Awgust","Sent\xFDabr","Okt\xFDabr","No\xFDabr","Dekabr"],monthsShort:["\xDDan","Few","Mar","Apr","Ma\xFD","I\xFDn","I\xFDl","Awg","Sen","Okt","No\xFD","Dek"],weekdays:["\xDDek\u015Fenbe","Du\u015Fenbe","Si\u015Fenbe","\xC7ar\u015Fenbe","Pen\u015Fenbe","Anna","\u015Eenbe"],weekdaysShort:["\xDDek","Du\u015F","Si\u015F","\xC7ar","Pen","Ann","\u015Een"],weekdaysMin:["\xDDk","D\u015F","S\u015F","\xC7r","Pn","An","\u015En"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xFCn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xFC\xFDn] LT",lastWeek:"[ge\xE7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xF6\u0148",s:"birn\xE4\xE7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xFCn",dd:"%d g\xFCn",M:"bir a\xFD",MM:"%d a\xFD",y:"bir \xFDyl",yy:"%d \xFDyl"},ordinal:function(n,e){switch(e){case"d":case"D":case"Do":case"DD":return n;default:if(0===n)return n+"'unjy";var a=n%10;return n+(Rs[a]||Rs[n%100-a]||Rs[100<=n?100:null]);}},week:{dow:1,doy:7}}),He.defineLocale("tl-ph",{months:["Enero","Pebrero","Marso","Abril","Mayo","Hunyo","Hulyo","Agosto","Setyembre","Oktubre","Nobyembre","Disyembre"],monthsShort:["Ene","Peb","Mar","Abr","May","Hun","Hul","Ago","Set","Okt","Nob","Dis"],weekdays:["Linggo","Lunes","Martes","Miyerkules","Huwebes","Biyernes","Sabado"],weekdaysShort:["Lin","Lun","Mar","Miy","Huw","Biy","Sab"],weekdaysMin:["Li","Lu","Ma","Mi","Hu","Bi","Sab"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}});var Hs=["pagh","wa\u2019","cha\u2019","wej","loS","vagh","jav","Soch","chorgh","Hut"];He.defineLocale("tlh",{months:["tera\u2019 jar wa\u2019","tera\u2019 jar cha\u2019","tera\u2019 jar wej","tera\u2019 jar loS","tera\u2019 jar vagh","tera\u2019 jar jav","tera\u2019 jar Soch","tera\u2019 jar chorgh","tera\u2019 jar Hut","tera\u2019 jar wa\u2019maH","tera\u2019 jar wa\u2019maH wa\u2019","tera\u2019 jar wa\u2019maH cha\u2019"],monthsShort:["jar wa\u2019","jar cha\u2019","jar wej","jar loS","jar vagh","jar jav","jar Soch","jar chorgh","jar Hut","jar wa\u2019maH","jar wa\u2019maH wa\u2019","jar wa\u2019maH cha\u2019"],monthsParseExact:!0,weekdays:["lojmItjaj","DaSjaj","povjaj","ghItlhjaj","loghjaj","buqjaj","ghInjaj"],weekdaysShort:["lojmItjaj","DaSjaj","povjaj","ghItlhjaj","loghjaj","buqjaj","ghInjaj"],weekdaysMin:["lojmItjaj","DaSjaj","povjaj","ghItlhjaj","loghjaj","buqjaj","ghInjaj"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(t){var e=t;return e=-1===t.indexOf("jaj")?-1===t.indexOf("jar")?-1===t.indexOf("DIS")?e+" pIq":e.slice(0,-3)+"nem":e.slice(0,-3)+"waQ":e.slice(0,-3)+"leS"},past:function(t){var e=t;return e=-1===t.indexOf("jaj")?-1===t.indexOf("jar")?-1===t.indexOf("DIS")?e+" ret":e.slice(0,-3)+"ben":e.slice(0,-3)+"wen":e.slice(0,-3)+"Hu\u2019"},s:"puS lup",ss:hi,m:"wa\u2019 tup",mm:hi,h:"wa\u2019 rep",hh:hi,d:"wa\u2019 jaj",dd:hi,M:"wa\u2019 jar",MM:hi,y:"wa\u2019 DIS",yy:hi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Ps={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xFCnc\xFC",4:"'\xFCnc\xFC",100:"'\xFCnc\xFC",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};He.defineLocale("tr",{months:["Ocak","\u015Eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011Fustos","Eyl\xFCl","Ekim","Kas\u0131m","Aral\u0131k"],monthsShort:["Oca","\u015Eub","Mar","Nis","May","Haz","Tem","A\u011Fu","Eyl","Eki","Kas","Ara"],weekdays:["Pazar","Pazartesi","Sal\u0131","\xC7ar\u015Famba","Per\u015Fembe","Cuma","Cumartesi"],weekdaysShort:["Paz","Pts","Sal","\xC7ar","Per","Cum","Cts"],weekdaysMin:["Pz","Pt","Sa","\xC7a","Pe","Cu","Ct"],meridiem:function(n,e,a){return 12>n?a?"\xF6\xF6":"\xD6\xD6":a?"\xF6s":"\xD6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(t){return"\xF6s"===t||"\xD6S"===t},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xFCn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xFCn] LT",lastWeek:"[ge\xE7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xF6nce",s:"birka\xE7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xFCn",dd:"%d g\xFCn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(n,e){switch(e){case"d":case"D":case"Do":case"DD":return n;default:if(0===n)return n+"'\u0131nc\u0131";var a=n%10;return n+(Ps[a]||Ps[n%100-a]||Ps[100<=n?100:null]);}},week:{dow:1,doy:7}}),He.defineLocale("tzl",{months:["Januar","Fevraglh","Mar\xE7","Avr\xEFu","Mai","G\xFCn","Julia","Guscht","Setemvar","Listop\xE4ts","Noemvar","Zecemvar"],monthsShort:["Jan","Fev","Mar","Avr","Mai","G\xFCn","Jul","Gus","Set","Lis","Noe","Zec"],weekdays:["S\xFAladi","L\xFAne\xE7i","Maitzi","M\xE1rcuri","Xh\xFAadi","Vi\xE9ner\xE7i","S\xE1turi"],weekdaysShort:["S\xFAl","L\xFAn","Mai","M\xE1r","Xh\xFA","Vi\xE9","S\xE1t"],weekdaysMin:["S\xFA","L\xFA","Ma","M\xE1","Xh","Vi","S\xE1"],longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(n,e,a){return 11<n?a?"d'o":"D'O":a?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xE0] LT",nextDay:"[dem\xE0 \xE0] LT",nextWeek:"dddd [\xE0] LT",lastDay:"[ieiri \xE0] LT",lastWeek:"[s\xFCr el] dddd [lasteu \xE0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:_i,ss:_i,m:_i,mm:_i,h:_i,hh:_i,d:_i,dd:_i,M:_i,MM:_i,y:_i,yy:_i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),He.defineLocale("tzm-latn",{months:["innayr","br\u02E4ayr\u02E4","mar\u02E4s\u02E4","ibrir","mayyw","ywnyw","ywlywz","\u0263w\u0161t","\u0161wtanbir","kt\u02E4wbr\u02E4","nwwanbir","dwjnbir"],monthsShort:["innayr","br\u02E4ayr\u02E4","mar\u02E4s\u02E4","ibrir","mayyw","ywnyw","ywlywz","\u0263w\u0161t","\u0161wtanbir","kt\u02E4wbr\u02E4","nwwanbir","dwjnbir"],weekdays:["asamas","aynas","asinas","akras","akwas","asimwas","asi\u1E0Dyas"],weekdaysShort:["asamas","aynas","asinas","akras","akwas","asimwas","asi\u1E0Dyas"],weekdaysMin:["asamas","aynas","asinas","akras","akwas","asimwas","asi\u1E0Dyas"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1E0D",mm:"%d minu\u1E0D",h:"sa\u025Ba",hh:"%d tassa\u025Bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),He.defineLocale("tzm",{months:["\u2D49\u2D4F\u2D4F\u2D30\u2D62\u2D54","\u2D31\u2D55\u2D30\u2D62\u2D55","\u2D4E\u2D30\u2D55\u2D5A","\u2D49\u2D31\u2D54\u2D49\u2D54","\u2D4E\u2D30\u2D62\u2D62\u2D53","\u2D62\u2D53\u2D4F\u2D62\u2D53","\u2D62\u2D53\u2D4D\u2D62\u2D53\u2D63","\u2D56\u2D53\u2D5B\u2D5C","\u2D5B\u2D53\u2D5C\u2D30\u2D4F\u2D31\u2D49\u2D54","\u2D3D\u2D5F\u2D53\u2D31\u2D55","\u2D4F\u2D53\u2D61\u2D30\u2D4F\u2D31\u2D49\u2D54","\u2D37\u2D53\u2D4A\u2D4F\u2D31\u2D49\u2D54"],monthsShort:["\u2D49\u2D4F\u2D4F\u2D30\u2D62\u2D54","\u2D31\u2D55\u2D30\u2D62\u2D55","\u2D4E\u2D30\u2D55\u2D5A","\u2D49\u2D31\u2D54\u2D49\u2D54","\u2D4E\u2D30\u2D62\u2D62\u2D53","\u2D62\u2D53\u2D4F\u2D62\u2D53","\u2D62\u2D53\u2D4D\u2D62\u2D53\u2D63","\u2D56\u2D53\u2D5B\u2D5C","\u2D5B\u2D53\u2D5C\u2D30\u2D4F\u2D31\u2D49\u2D54","\u2D3D\u2D5F\u2D53\u2D31\u2D55","\u2D4F\u2D53\u2D61\u2D30\u2D4F\u2D31\u2D49\u2D54","\u2D37\u2D53\u2D4A\u2D4F\u2D31\u2D49\u2D54"],weekdays:["\u2D30\u2D59\u2D30\u2D4E\u2D30\u2D59","\u2D30\u2D62\u2D4F\u2D30\u2D59","\u2D30\u2D59\u2D49\u2D4F\u2D30\u2D59","\u2D30\u2D3D\u2D54\u2D30\u2D59","\u2D30\u2D3D\u2D61\u2D30\u2D59","\u2D30\u2D59\u2D49\u2D4E\u2D61\u2D30\u2D59","\u2D30\u2D59\u2D49\u2D39\u2D62\u2D30\u2D59"],weekdaysShort:["\u2D30\u2D59\u2D30\u2D4E\u2D30\u2D59","\u2D30\u2D62\u2D4F\u2D30\u2D59","\u2D30\u2D59\u2D49\u2D4F\u2D30\u2D59","\u2D30\u2D3D\u2D54\u2D30\u2D59","\u2D30\u2D3D\u2D61\u2D30\u2D59","\u2D30\u2D59\u2D49\u2D4E\u2D61\u2D30\u2D59","\u2D30\u2D59\u2D49\u2D39\u2D62\u2D30\u2D59"],weekdaysMin:["\u2D30\u2D59\u2D30\u2D4E\u2D30\u2D59","\u2D30\u2D62\u2D4F\u2D30\u2D59","\u2D30\u2D59\u2D49\u2D4F\u2D30\u2D59","\u2D30\u2D3D\u2D54\u2D30\u2D59","\u2D30\u2D3D\u2D61\u2D30\u2D59","\u2D30\u2D59\u2D49\u2D4E\u2D61\u2D30\u2D59","\u2D30\u2D59\u2D49\u2D39\u2D62\u2D30\u2D59"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2D30\u2D59\u2D37\u2D45 \u2D34] LT",nextDay:"[\u2D30\u2D59\u2D3D\u2D30 \u2D34] LT",nextWeek:"dddd [\u2D34] LT",lastDay:"[\u2D30\u2D5A\u2D30\u2D4F\u2D5C \u2D34] LT",lastWeek:"dddd [\u2D34] LT",sameElse:"L"},relativeTime:{future:"\u2D37\u2D30\u2D37\u2D45 \u2D59 \u2D62\u2D30\u2D4F %s",past:"\u2D62\u2D30\u2D4F %s",s:"\u2D49\u2D4E\u2D49\u2D3D",ss:"%d \u2D49\u2D4E\u2D49\u2D3D",m:"\u2D4E\u2D49\u2D4F\u2D53\u2D3A",mm:"%d \u2D4E\u2D49\u2D4F\u2D53\u2D3A",h:"\u2D59\u2D30\u2D44\u2D30",hh:"%d \u2D5C\u2D30\u2D59\u2D59\u2D30\u2D44\u2D49\u2D4F",d:"\u2D30\u2D59\u2D59",dd:"%d o\u2D59\u2D59\u2D30\u2D4F",M:"\u2D30\u2D62o\u2D53\u2D54",MM:"%d \u2D49\u2D62\u2D62\u2D49\u2D54\u2D4F",y:"\u2D30\u2D59\u2D33\u2D30\u2D59",yy:"%d \u2D49\u2D59\u2D33\u2D30\u2D59\u2D4F"},week:{dow:6,doy:12}}),He.defineLocale("ug-cn",{months:["\u064A\u0627\u0646\u06CB\u0627\u0631","\u0641\u06D0\u06CB\u0631\u0627\u0644","\u0645\u0627\u0631\u062A","\u0626\u0627\u067E\u0631\u06D0\u0644","\u0645\u0627\u064A","\u0626\u0649\u064A\u06C7\u0646","\u0626\u0649\u064A\u06C7\u0644","\u0626\u0627\u06CB\u063A\u06C7\u0633\u062A","\u0633\u06D0\u0646\u062A\u06D5\u0628\u0649\u0631","\u0626\u06C6\u0643\u062A\u06D5\u0628\u0649\u0631","\u0646\u0648\u064A\u0627\u0628\u0649\u0631","\u062F\u06D0\u0643\u0627\u0628\u0649\u0631"],monthsShort:["\u064A\u0627\u0646\u06CB\u0627\u0631","\u0641\u06D0\u06CB\u0631\u0627\u0644","\u0645\u0627\u0631\u062A","\u0626\u0627\u067E\u0631\u06D0\u0644","\u0645\u0627\u064A","\u0626\u0649\u064A\u06C7\u0646","\u0626\u0649\u064A\u06C7\u0644","\u0626\u0627\u06CB\u063A\u06C7\u0633\u062A","\u0633\u06D0\u0646\u062A\u06D5\u0628\u0649\u0631","\u0626\u06C6\u0643\u062A\u06D5\u0628\u0649\u0631","\u0646\u0648\u064A\u0627\u0628\u0649\u0631","\u062F\u06D0\u0643\u0627\u0628\u0649\u0631"],weekdays:["\u064A\u06D5\u0643\u0634\u06D5\u0646\u0628\u06D5","\u062F\u06C8\u0634\u06D5\u0646\u0628\u06D5","\u0633\u06D5\u064A\u0634\u06D5\u0646\u0628\u06D5","\u0686\u0627\u0631\u0634\u06D5\u0646\u0628\u06D5","\u067E\u06D5\u064A\u0634\u06D5\u0646\u0628\u06D5","\u062C\u06C8\u0645\u06D5","\u0634\u06D5\u0646\u0628\u06D5"],weekdaysShort:["\u064A\u06D5","\u062F\u06C8","\u0633\u06D5","\u0686\u0627","\u067E\u06D5","\u062C\u06C8","\u0634\u06D5"],weekdaysMin:["\u064A\u06D5","\u062F\u06C8","\u0633\u06D5","\u0686\u0627","\u067E\u06D5","\u062C\u06C8","\u0634\u06D5"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064A\u0649\u0644\u0649M-\u0626\u0627\u064A\u0646\u0649\u06ADD-\u0643\u06C8\u0646\u0649",LLL:"YYYY-\u064A\u0649\u0644\u0649M-\u0626\u0627\u064A\u0646\u0649\u06ADD-\u0643\u06C8\u0646\u0649\u060C HH:mm",LLLL:"dddd\u060C YYYY-\u064A\u0649\u0644\u0649M-\u0626\u0627\u064A\u0646\u0649\u06ADD-\u0643\u06C8\u0646\u0649\u060C HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(t,n){return 12===t&&(t=0),"\u064A\u06D0\u0631\u0649\u0645 \u0643\u06D0\u0686\u06D5"===n||"\u0633\u06D5\u06BE\u06D5\u0631"===n||"\u0686\u06C8\u0634\u062A\u0649\u0646 \u0628\u06C7\u0631\u06C7\u0646"===n||"\u0686\u06C8\u0634\u062A\u0649\u0646 \u0643\u06D0\u064A\u0649\u0646"!==n&&"\u0643\u06D5\u0686"!==n&&11<=t?t:t+12},meridiem:function(t,e){var a=100*t+e;return 600>a?"\u064A\u06D0\u0631\u0649\u0645 \u0643\u06D0\u0686\u06D5":900>a?"\u0633\u06D5\u06BE\u06D5\u0631":1130>a?"\u0686\u06C8\u0634\u062A\u0649\u0646 \u0628\u06C7\u0631\u06C7\u0646":1230>a?"\u0686\u06C8\u0634":1800>a?"\u0686\u06C8\u0634\u062A\u0649\u0646 \u0643\u06D0\u064A\u0649\u0646":"\u0643\u06D5\u0686"},calendar:{sameDay:"[\u0628\u06C8\u06AF\u06C8\u0646 \u0633\u0627\u0626\u06D5\u062A] LT",nextDay:"[\u0626\u06D5\u062A\u06D5 \u0633\u0627\u0626\u06D5\u062A] LT",nextWeek:"[\u0643\u06D0\u0644\u06D5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06D5\u062A] LT",lastDay:"[\u062A\u06C6\u0646\u06C8\u06AF\u06C8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062F\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06D5\u062A] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06D0\u064A\u0649\u0646",past:"%s \u0628\u06C7\u0631\u06C7\u0646",s:"\u0646\u06D5\u0686\u0686\u06D5 \u0633\u06D0\u0643\u0648\u0646\u062A",ss:"%d \u0633\u06D0\u0643\u0648\u0646\u062A",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06C7\u062A",mm:"%d \u0645\u0649\u0646\u06C7\u062A",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06D5\u062A",hh:"%d \u0633\u0627\u0626\u06D5\u062A",d:"\u0628\u0649\u0631 \u0643\u06C8\u0646",dd:"%d \u0643\u06C8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064A",MM:"%d \u0626\u0627\u064A",y:"\u0628\u0649\u0631 \u064A\u0649\u0644",yy:"%d \u064A\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(t,e){return"d"===e||"D"===e||"DDD"===e?t+"-\u0643\u06C8\u0646\u0649":"w"===e||"W"===e?t+"-\u06BE\u06D5\u067E\u062A\u06D5":t},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060C")},week:{dow:1,doy:7}}),He.defineLocale("uk",{months:{format:["\u0441\u0456\u0447\u043D\u044F","\u043B\u044E\u0442\u043E\u0433\u043E","\u0431\u0435\u0440\u0435\u0437\u043D\u044F","\u043A\u0432\u0456\u0442\u043D\u044F","\u0442\u0440\u0430\u0432\u043D\u044F","\u0447\u0435\u0440\u0432\u043D\u044F","\u043B\u0438\u043F\u043D\u044F","\u0441\u0435\u0440\u043F\u043D\u044F","\u0432\u0435\u0440\u0435\u0441\u043D\u044F","\u0436\u043E\u0432\u0442\u043D\u044F","\u043B\u0438\u0441\u0442\u043E\u043F\u0430\u0434\u0430","\u0433\u0440\u0443\u0434\u043D\u044F"],standalone:["\u0441\u0456\u0447\u0435\u043D\u044C","\u043B\u044E\u0442\u0438\u0439","\u0431\u0435\u0440\u0435\u0437\u0435\u043D\u044C","\u043A\u0432\u0456\u0442\u0435\u043D\u044C","\u0442\u0440\u0430\u0432\u0435\u043D\u044C","\u0447\u0435\u0440\u0432\u0435\u043D\u044C","\u043B\u0438\u043F\u0435\u043D\u044C","\u0441\u0435\u0440\u043F\u0435\u043D\u044C","\u0432\u0435\u0440\u0435\u0441\u0435\u043D\u044C","\u0436\u043E\u0432\u0442\u0435\u043D\u044C","\u043B\u0438\u0441\u0442\u043E\u043F\u0430\u0434","\u0433\u0440\u0443\u0434\u0435\u043D\u044C"]},monthsShort:["\u0441\u0456\u0447","\u043B\u044E\u0442","\u0431\u0435\u0440","\u043A\u0432\u0456\u0442","\u0442\u0440\u0430\u0432","\u0447\u0435\u0440\u0432","\u043B\u0438\u043F","\u0441\u0435\u0440\u043F","\u0432\u0435\u0440","\u0436\u043E\u0432\u0442","\u043B\u0438\u0441\u0442","\u0433\u0440\u0443\u0434"],weekdays:function(n,e){var a={nominative:["\u043D\u0435\u0434\u0456\u043B\u044F","\u043F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A","\u0432\u0456\u0432\u0442\u043E\u0440\u043E\u043A","\u0441\u0435\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440","\u043F\u2019\u044F\u0442\u043D\u0438\u0446\u044F","\u0441\u0443\u0431\u043E\u0442\u0430"],accusative:["\u043D\u0435\u0434\u0456\u043B\u044E","\u043F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A","\u0432\u0456\u0432\u0442\u043E\u0440\u043E\u043A","\u0441\u0435\u0440\u0435\u0434\u0443","\u0447\u0435\u0442\u0432\u0435\u0440","\u043F\u2019\u044F\u0442\u043D\u0438\u0446\u044E","\u0441\u0443\u0431\u043E\u0442\u0443"],genitive:["\u043D\u0435\u0434\u0456\u043B\u0456","\u043F\u043E\u043D\u0435\u0434\u0456\u043B\u043A\u0430","\u0432\u0456\u0432\u0442\u043E\u0440\u043A\u0430","\u0441\u0435\u0440\u0435\u0434\u0438","\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430","\u043F\u2019\u044F\u0442\u043D\u0438\u0446\u0456","\u0441\u0443\u0431\u043E\u0442\u0438"]};return!0===n?a.nominative.slice(1,7).concat(a.nominative.slice(0,1)):n?a[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(e)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(e)?"genitive":"nominative"][n.day()]:a.nominative},weekdaysShort:["\u043D\u0434","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],weekdaysMin:["\u043D\u0434","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:vi("[\u0421\u044C\u043E\u0433\u043E\u0434\u043D\u0456 "),nextDay:vi("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:vi("[\u0412\u0447\u043E\u0440\u0430 "),nextWeek:vi("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return vi("[\u041C\u0438\u043D\u0443\u043B\u043E\u0457] dddd [").call(this);case 1:case 2:case 4:return vi("[\u041C\u0438\u043D\u0443\u043B\u043E\u0433\u043E] dddd [").call(this);}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043E\u043C\u0443",s:"\u0434\u0435\u043A\u0456\u043B\u044C\u043A\u0430 \u0441\u0435\u043A\u0443\u043D\u0434",ss:fi,m:fi,mm:fi,h:"\u0433\u043E\u0434\u0438\u043D\u0443",hh:fi,d:"\u0434\u0435\u043D\u044C",dd:fi,M:"\u043C\u0456\u0441\u044F\u0446\u044C",MM:fi,y:"\u0440\u0456\u043A",yy:fi},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(t){return /^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(t)},meridiem:function(t){return 4>t?"\u043D\u043E\u0447\u0456":12>t?"\u0440\u0430\u043D\u043A\u0443":17>t?"\u0434\u043D\u044F":"\u0432\u0435\u0447\u043E\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(t,e){return"M"===e||"d"===e||"DDD"===e||"w"===e||"W"===e?t+"-\u0439":"D"===e?t+"-\u0433\u043E":t},week:{dow:1,doy:7}});var Bs=["\u062C\u0646\u0648\u0631\u06CC","\u0641\u0631\u0648\u0631\u06CC","\u0645\u0627\u0631\u0686","\u0627\u067E\u0631\u06CC\u0644","\u0645\u0626\u06CC","\u062C\u0648\u0646","\u062C\u0648\u0644\u0627\u0626\u06CC","\u0627\u06AF\u0633\u062A","\u0633\u062A\u0645\u0628\u0631","\u0627\u06A9\u062A\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062F\u0633\u0645\u0628\u0631"],$s=["\u0627\u062A\u0648\u0627\u0631","\u067E\u06CC\u0631","\u0645\u0646\u06AF\u0644","\u0628\u062F\u06BE","\u062C\u0645\u0639\u0631\u0627\u062A","\u062C\u0645\u0639\u06C1","\u06C1\u0641\u062A\u06C1"];return He.defineLocale("ur",{months:Bs,monthsShort:Bs,weekdays:$s,weekdaysShort:$s,weekdaysMin:$s,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060C D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(t){return"\u0634\u0627\u0645"===t},meridiem:function(t){return 12>t?"\u0635\u0628\u062D":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062C \u0628\u0648\u0642\u062A] LT",nextDay:"[\u06A9\u0644 \u0628\u0648\u0642\u062A] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062A] LT",lastDay:"[\u06AF\u0630\u0634\u062A\u06C1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062A] LT",lastWeek:"[\u06AF\u0630\u0634\u062A\u06C1] dddd [\u0628\u0648\u0642\u062A] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062F",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062F \u0633\u06CC\u06A9\u0646\u0688",ss:"%d \u0633\u06CC\u06A9\u0646\u0688",m:"\u0627\u06CC\u06A9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06CC\u06A9 \u06AF\u06BE\u0646\u0679\u06C1",hh:"%d \u06AF\u06BE\u0646\u0679\u06D2",d:"\u0627\u06CC\u06A9 \u062F\u0646",dd:"%d \u062F\u0646",M:"\u0627\u06CC\u06A9 \u0645\u0627\u06C1",MM:"%d \u0645\u0627\u06C1",y:"\u0627\u06CC\u06A9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060C")},week:{dow:1,doy:4}}),He.defineLocale("uz-latn",{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust","Sentabr","Oktabr","Noyabr","Dekabr"],monthsShort:["Yan","Fev","Mar","Apr","May","Iyun","Iyul","Avg","Sen","Okt","Noy","Dek"],weekdays:["Yakshanba","Dushanba","Seshanba","Chorshanba","Payshanba","Juma","Shanba"],weekdaysShort:["Yak","Dush","Sesh","Chor","Pay","Jum","Shan"],weekdaysMin:["Ya","Du","Se","Cho","Pa","Ju","Sha"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}}),He.defineLocale("uz",{months:["\u044F\u043D\u0432\u0430\u0440","\u0444\u0435\u0432\u0440\u0430\u043B","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0435\u043B","\u043C\u0430\u0439","\u0438\u044E\u043D","\u0438\u044E\u043B","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043D\u0442\u044F\u0431\u0440","\u043E\u043A\u0442\u044F\u0431\u0440","\u043D\u043E\u044F\u0431\u0440","\u0434\u0435\u043A\u0430\u0431\u0440"],monthsShort:["\u044F\u043D\u0432","\u0444\u0435\u0432","\u043C\u0430\u0440","\u0430\u043F\u0440","\u043C\u0430\u0439","\u0438\u044E\u043D","\u0438\u044E\u043B","\u0430\u0432\u0433","\u0441\u0435\u043D","\u043E\u043A\u0442","\u043D\u043E\u044F","\u0434\u0435\u043A"],weekdays:["\u042F\u043A\u0448\u0430\u043D\u0431\u0430","\u0414\u0443\u0448\u0430\u043D\u0431\u0430","\u0421\u0435\u0448\u0430\u043D\u0431\u0430","\u0427\u043E\u0440\u0448\u0430\u043D\u0431\u0430","\u041F\u0430\u0439\u0448\u0430\u043D\u0431\u0430","\u0416\u0443\u043C\u0430","\u0428\u0430\u043D\u0431\u0430"],weekdaysShort:["\u042F\u043A\u0448","\u0414\u0443\u0448","\u0421\u0435\u0448","\u0427\u043E\u0440","\u041F\u0430\u0439","\u0416\u0443\u043C","\u0428\u0430\u043D"],weekdaysMin:["\u042F\u043A","\u0414\u0443","\u0421\u0435","\u0427\u043E","\u041F\u0430","\u0416\u0443","\u0428\u0430"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043D \u0441\u043E\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042D\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043A\u0443\u043D\u0438 \u0441\u043E\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041A\u0435\u0447\u0430 \u0441\u043E\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043D] dddd [\u043A\u0443\u043D\u0438 \u0441\u043E\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042F\u043A\u0438\u043D %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043D\u0435\u0447\u0430 %s \u043E\u043B\u0434\u0438\u043D",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043A\u0438\u043A\u0430",mm:"%d \u0434\u0430\u043A\u0438\u043A\u0430",h:"\u0431\u0438\u0440 \u0441\u043E\u0430\u0442",hh:"%d \u0441\u043E\u0430\u0442",d:"\u0431\u0438\u0440 \u043A\u0443\u043D",dd:"%d \u043A\u0443\u043D",M:"\u0431\u0438\u0440 \u043E\u0439",MM:"%d \u043E\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043B",yy:"%d \u0439\u0438\u043B"},week:{dow:1,doy:7}}),He.defineLocale("vi",{months:["th\xE1ng 1","th\xE1ng 2","th\xE1ng 3","th\xE1ng 4","th\xE1ng 5","th\xE1ng 6","th\xE1ng 7","th\xE1ng 8","th\xE1ng 9","th\xE1ng 10","th\xE1ng 11","th\xE1ng 12"],monthsShort:["Thg 01","Thg 02","Thg 03","Thg 04","Thg 05","Thg 06","Thg 07","Thg 08","Thg 09","Thg 10","Thg 11","Thg 12"],monthsParseExact:!0,weekdays:["ch\u1EE7 nh\u1EADt","th\u1EE9 hai","th\u1EE9 ba","th\u1EE9 t\u01B0","th\u1EE9 n\u0103m","th\u1EE9 s\xE1u","th\u1EE9 b\u1EA3y"],weekdaysShort:["CN","T2","T3","T4","T5","T6","T7"],weekdaysMin:["CN","T2","T3","T4","T5","T6","T7"],weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return /^ch$/i.test(t)},meridiem:function(n,e,a){return 12>n?a?"sa":"SA":a?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xF4m nay l\xFAc] LT",nextDay:"[Ng\xE0y mai l\xFAc] LT",nextWeek:"dddd [tu\u1EA7n t\u1EDBi l\xFAc] LT",lastDay:"[H\xF4m qua l\xFAc] LT",lastWeek:"dddd [tu\u1EA7n tr\u01B0\u1EDBc l\xFAc] LT",sameElse:"L"},relativeTime:{future:"%s t\u1EDBi",past:"%s tr\u01B0\u1EDBc",s:"v\xE0i gi\xE2y",ss:"%d gi\xE2y",m:"m\u1ED9t ph\xFAt",mm:"%d ph\xFAt",h:"m\u1ED9t gi\u1EDD",hh:"%d gi\u1EDD",d:"m\u1ED9t ng\xE0y",dd:"%d ng\xE0y",w:"m\u1ED9t tu\u1EA7n",ww:"%d tu\u1EA7n",M:"m\u1ED9t th\xE1ng",MM:"%d th\xE1ng",y:"m\u1ED9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}}),He.defineLocale("x-pseudo",{months:["J~\xE1\xF1\xFA\xE1~r\xFD","F~\xE9br\xFA~\xE1r\xFD","~M\xE1rc~h","\xC1p~r\xEDl","~M\xE1\xFD","~J\xFA\xF1\xE9~","J\xFAl~\xFD","\xC1\xFA~g\xFAst~","S\xE9p~t\xE9mb~\xE9r","\xD3~ct\xF3b~\xE9r","\xD1~\xF3v\xE9m~b\xE9r","~D\xE9c\xE9~mb\xE9r"],monthsShort:["J~\xE1\xF1","~F\xE9b","~M\xE1r","~\xC1pr","~M\xE1\xFD","~J\xFA\xF1","~J\xFAl","~\xC1\xFAg","~S\xE9p","~\xD3ct","~\xD1\xF3v","~D\xE9c"],monthsParseExact:!0,weekdays:["S~\xFA\xF1d\xE1~\xFD","M\xF3~\xF1d\xE1\xFD~","T\xFA\xE9~sd\xE1\xFD~","W\xE9d~\xF1\xE9sd~\xE1\xFD","T~h\xFArs~d\xE1\xFD","~Fr\xEDd~\xE1\xFD","S~\xE1t\xFAr~d\xE1\xFD"],weekdaysShort:["S~\xFA\xF1","~M\xF3\xF1","~T\xFA\xE9","~W\xE9d","~Th\xFA","~Fr\xED","~S\xE1t"],weekdaysMin:["S~\xFA","M\xF3~","T\xFA","~W\xE9","T~h","Fr~","S\xE1"],weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xF3d\xE1~\xFD \xE1t] LT",nextDay:"[T~\xF3m\xF3~rr\xF3~w \xE1t] LT",nextWeek:"dddd [\xE1t] LT",lastDay:"[\xDD~\xE9st~\xE9rd\xE1~\xFD \xE1t] LT",lastWeek:"[L~\xE1st] dddd [\xE1t] LT",sameElse:"L"},relativeTime:{future:"\xED~\xF1 %s",past:"%s \xE1~g\xF3",s:"\xE1 ~f\xE9w ~s\xE9c\xF3~\xF1ds",ss:"%d s~\xE9c\xF3\xF1~ds",m:"\xE1 ~m\xED\xF1~\xFAt\xE9",mm:"%d m~\xED\xF1\xFA~t\xE9s",h:"\xE1~\xF1 h\xF3~\xFAr",hh:"%d h~\xF3\xFArs",d:"\xE1 ~d\xE1\xFD",dd:"%d d~\xE1\xFDs",M:"\xE1 ~m\xF3\xF1~th",MM:"%d m~\xF3\xF1t~hs",y:"\xE1 ~\xFD\xE9\xE1r",yy:"%d \xFD~\xE9\xE1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),He.defineLocale("yo",{months:["S\u1EB9\u0301r\u1EB9\u0301","E\u0300re\u0300le\u0300","\u1EB8r\u1EB9\u0300na\u0300","I\u0300gbe\u0301","E\u0300bibi","O\u0300ku\u0300du","Ag\u1EB9mo","O\u0300gu\u0301n","Owewe","\u1ECC\u0300wa\u0300ra\u0300","Be\u0301lu\u0301","\u1ECC\u0300p\u1EB9\u0300\u0300"],monthsShort:["S\u1EB9\u0301r","E\u0300rl","\u1EB8rn","I\u0300gb","E\u0300bi","O\u0300ku\u0300","Ag\u1EB9","O\u0300gu\u0301","Owe","\u1ECC\u0300wa\u0300","Be\u0301l","\u1ECC\u0300p\u1EB9\u0300\u0300"],weekdays:["A\u0300i\u0300ku\u0301","Aje\u0301","I\u0300s\u1EB9\u0301gun","\u1ECCj\u1ECD\u0301ru\u0301","\u1ECCj\u1ECD\u0301b\u1ECD","\u1EB8ti\u0300","A\u0300ba\u0301m\u1EB9\u0301ta"],weekdaysShort:["A\u0300i\u0300k","Aje\u0301","I\u0300s\u1EB9\u0301","\u1ECCjr","\u1ECCjb","\u1EB8ti\u0300","A\u0300ba\u0301"],weekdaysMin:["A\u0300i\u0300","Aj","I\u0300s","\u1ECCr","\u1ECCb","\u1EB8t","A\u0300b"],longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ECC\u0300la ni] LT",nextWeek:"dddd [\u1ECCs\u1EB9\u0300 to\u0301n'b\u1ECD] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1ECCs\u1EB9\u0300 to\u0301l\u1ECD\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ECDja\u0301",s:"i\u0300s\u1EB9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1EB9ju\u0301 kan",mm:"i\u0300s\u1EB9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ECDj\u1ECD\u0301 kan",dd:"\u1ECDj\u1ECD\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ECDdu\u0301n kan",yy:"\u1ECDdu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ECDj\u1ECD\u0301 %d",week:{dow:1,doy:4}}),He.defineLocale("zh-cn",{months:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthsShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],weekdays:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],weekdaysShort:["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],weekdaysMin:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5Ah\u70B9mm\u5206",LLLL:"YYYY\u5E74M\u6708D\u65E5ddddAh\u70B9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,n){return 12===t&&(t=0),"\u51CC\u6668"===n||"\u65E9\u4E0A"===n||"\u4E0A\u5348"===n||"\u4E0B\u5348"!==n&&"\u665A\u4E0A"!==n&&11<=t?t:t+12},meridiem:function(t,e){var a=100*t+e;return 600>a?"\u51CC\u6668":900>a?"\u65E9\u4E0A":1130>a?"\u4E0A\u5348":1230>a?"\u4E2D\u5348":1800>a?"\u4E0B\u5348":"\u665A\u4E0A"},calendar:{sameDay:"[\u4ECA\u5929]LT",nextDay:"[\u660E\u5929]LT",nextWeek:function(t){return t.week()===this.week()?"[\u672C]dddLT":"[\u4E0B]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(t){return this.week()===t.week()?"[\u672C]dddLT":"[\u4E0A]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(t,e){return"d"===e||"D"===e||"DDD"===e?t+"\u65E5":"M"===e?t+"\u6708":"w"===e||"W"===e?t+"\u5468":t},relativeTime:{future:"%s\u540E",past:"%s\u524D",s:"\u51E0\u79D2",ss:"%d \u79D2",m:"1 \u5206\u949F",mm:"%d \u5206\u949F",h:"1 \u5C0F\u65F6",hh:"%d \u5C0F\u65F6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4E2A\u6708",MM:"%d \u4E2A\u6708",y:"1 \u5E74",yy:"%d \u5E74"},week:{dow:1,doy:4}}),He.defineLocale("zh-hk",{months:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthsShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],weekdays:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],weekdaysShort:["\u9031\u65E5","\u9031\u4E00","\u9031\u4E8C","\u9031\u4E09","\u9031\u56DB","\u9031\u4E94","\u9031\u516D"],weekdaysMin:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5 HH:mm",LLLL:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,n){return 12===t&&(t=0),"\u51CC\u6668"===n||"\u65E9\u4E0A"===n||"\u4E0A\u5348"===n?t:"\u4E2D\u5348"===n?11<=t?t:t+12:"\u4E0B\u5348"===n||"\u665A\u4E0A"===n?t+12:void 0},meridiem:function(t,e){var a=100*t+e;return 600>a?"\u51CC\u6668":900>a?"\u65E9\u4E0A":1200>a?"\u4E0A\u5348":1200===a?"\u4E2D\u5348":1800>a?"\u4E0B\u5348":"\u665A\u4E0A"},calendar:{sameDay:"[\u4ECA\u5929]LT",nextDay:"[\u660E\u5929]LT",nextWeek:"[\u4E0B]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4E0A]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){return"d"===e||"D"===e||"DDD"===e?t+"\u65E5":"M"===e?t+"\u6708":"w"===e||"W"===e?t+"\u9031":t},relativeTime:{future:"%s\u5F8C",past:"%s\u524D",s:"\u5E7E\u79D2",ss:"%d \u79D2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5C0F\u6642",hh:"%d \u5C0F\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500B\u6708",MM:"%d \u500B\u6708",y:"1 \u5E74",yy:"%d \u5E74"}}),He.defineLocale("zh-mo",{months:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthsShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],weekdays:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],weekdaysShort:["\u9031\u65E5","\u9031\u4E00","\u9031\u4E8C","\u9031\u4E09","\u9031\u56DB","\u9031\u4E94","\u9031\u516D"],weekdaysMin:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5 HH:mm",LLLL:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,n){return 12===t&&(t=0),"\u51CC\u6668"===n||"\u65E9\u4E0A"===n||"\u4E0A\u5348"===n?t:"\u4E2D\u5348"===n?11<=t?t:t+12:"\u4E0B\u5348"===n||"\u665A\u4E0A"===n?t+12:void 0},meridiem:function(t,e){var a=100*t+e;return 600>a?"\u51CC\u6668":900>a?"\u65E9\u4E0A":1130>a?"\u4E0A\u5348":1230>a?"\u4E2D\u5348":1800>a?"\u4E0B\u5348":"\u665A\u4E0A"},calendar:{sameDay:"[\u4ECA\u5929] LT",nextDay:"[\u660E\u5929] LT",nextWeek:"[\u4E0B]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4E0A]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){return"d"===e||"D"===e||"DDD"===e?t+"\u65E5":"M"===e?t+"\u6708":"w"===e||"W"===e?t+"\u9031":t},relativeTime:{future:"%s\u5167",past:"%s\u524D",s:"\u5E7E\u79D2",ss:"%d \u79D2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5C0F\u6642",hh:"%d \u5C0F\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500B\u6708",MM:"%d \u500B\u6708",y:"1 \u5E74",yy:"%d \u5E74"}}),He.defineLocale("zh-tw",{months:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthsShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],weekdays:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],weekdaysShort:["\u9031\u65E5","\u9031\u4E00","\u9031\u4E8C","\u9031\u4E09","\u9031\u56DB","\u9031\u4E94","\u9031\u516D"],weekdaysMin:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5 HH:mm",LLLL:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,n){return 12===t&&(t=0),"\u51CC\u6668"===n||"\u65E9\u4E0A"===n||"\u4E0A\u5348"===n?t:"\u4E2D\u5348"===n?11<=t?t:t+12:"\u4E0B\u5348"===n||"\u665A\u4E0A"===n?t+12:void 0},meridiem:function(t,e){var a=100*t+e;return 600>a?"\u51CC\u6668":900>a?"\u65E9\u4E0A":1130>a?"\u4E0A\u5348":1230>a?"\u4E2D\u5348":1800>a?"\u4E0B\u5348":"\u665A\u4E0A"},calendar:{sameDay:"[\u4ECA\u5929] LT",nextDay:"[\u660E\u5929] LT",nextWeek:"[\u4E0B]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4E0A]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){return"d"===e||"D"===e||"DDD"===e?t+"\u65E5":"M"===e?t+"\u6708":"w"===e||"W"===e?t+"\u9031":t},relativeTime:{future:"%s\u5F8C",past:"%s\u524D",s:"\u5E7E\u79D2",ss:"%d \u79D2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5C0F\u6642",hh:"%d \u5C0F\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500B\u6708",MM:"%d \u500B\u6708",y:"1 \u5E74",yy:"%d \u5E74"}}),He.locale("en"),He}),function(e,t){"function"==typeof define&&define.amd?define("wavesurfer",[],function(){return e.WaveSurfer=t()}):"object"==typeof exports?module.exports=t():e.WaveSurfer=t()}(this,function(){var t=Math.round,a=Math.ceil,n=Math.floor,s=Math.min,o=Math.max,d={defaultParams:{audioContext:null,audioRate:1,autoCenter:!0,backend:"WebAudio",container:null,cursorColor:"#333",cursorWidth:1,dragSelection:!0,fillParent:!0,forceDecode:!1,height:128,hideScrollbar:!1,interact:!0,loopSelection:!0,mediaContainer:null,mediaControls:!1,mediaType:"audio",minPxPerSec:20,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,progressColor:"#555",normalize:!1,renderer:"MultiCanvas",scrollParent:!1,skipLength:2,splitChannels:!1,waveColor:"#999"},init:function(e){if(this.params=d.util.extend({},this.defaultParams,e),this.container="string"==typeof e.container?document.querySelector(this.params.container):this.params.container,!this.container)throw new Error("Container element not found");if(this.mediaContainer=null==this.params.mediaContainer?this.container:"string"==typeof this.params.mediaContainer?document.querySelector(this.params.mediaContainer):this.params.mediaContainer,!this.mediaContainer)throw new Error("Media Container element not found");this.savedVolume=0,this.isMuted=!1,this.tmpEvents=[],this.currentAjax=null,this.createDrawer(),this.createBackend(),this.createPeakCache(),this.isDestroyed=!1},createDrawer:function(){var t=this;this.drawer=Object.create(d.Drawer[this.params.renderer]),this.drawer.init(this.container,this.params),this.drawer.on("redraw",function(){t.drawBuffer(),t.drawer.progress(t.backend.getPlayedPercents())}),this.drawer.on("click",function(a,e){setTimeout(function(){t.seekTo(e)},0)}),this.drawer.on("scroll",function(a){t.params.partialRender&&t.drawBuffer(),t.fireEvent("scroll",a)})},createBackend:function(){var e=this;this.backend&&this.backend.destroy(),"AudioElement"==this.params.backend&&(this.params.backend="MediaElement"),"WebAudio"!=this.params.backend||d.WebAudio.supportsWebAudio()||(this.params.backend="MediaElement"),this.backend=Object.create(d[this.params.backend]),this.backend.init(this.params),this.backend.on("finish",function(){e.fireEvent("finish")}),this.backend.on("play",function(){e.fireEvent("play")}),this.backend.on("pause",function(){e.fireEvent("pause")}),this.backend.on("audioprocess",function(t){e.drawer.progress(e.backend.getPlayedPercents()),e.fireEvent("audioprocess",t)})},createPeakCache:function(){this.params.partialRender&&(this.peakCache=Object.create(d.PeakCache),this.peakCache.init())},getDuration:function(){return this.backend.getDuration()},getCurrentTime:function(){return this.backend.getCurrentTime()},play:function(e,t){this.fireEvent("interaction",this.play.bind(this,e,t)),this.backend.play(e,t)},pause:function(){this.backend.isPaused()||this.backend.pause()},playPause:function(){this.backend.isPaused()?this.play():this.pause()},isPlaying:function(){return!this.backend.isPaused()},skipBackward:function(e){this.skip(-e||-this.params.skipLength)},skipForward:function(e){this.skip(e||this.params.skipLength)},skip:function(e){var t=this.getCurrentTime()||0,a=this.getDuration()||1;t=o(0,s(a,t+(e||0))),this.seekAndCenter(t/a)},seekAndCenter:function(e){this.seekTo(e),this.drawer.recenter(e)},seekTo:function(e){this.fireEvent("interaction",this.seekTo.bind(this,e));var t=this.backend.isPaused();t||this.backend.pause();var a=this.params.scrollParent;this.params.scrollParent=!1,this.backend.seekTo(e*this.getDuration()),this.drawer.progress(this.backend.getPlayedPercents()),t||this.backend.play(),this.params.scrollParent=a,this.fireEvent("seek",e)},stop:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)},setVolume:function(e){this.backend.setVolume(e)},getVolume:function(){return this.backend.getVolume()},setPlaybackRate:function(e){this.backend.setPlaybackRate(e)},getPlaybackRate:function(){return this.backend.getPlaybackRate()},toggleMute:function(){this.setMute(!this.isMuted)},setMute:function(e){e===this.isMuted||(e?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0):(this.backend.setVolume(this.savedVolume),this.isMuted=!1))},getMute:function(){return this.isMuted},getFilters:function(){return this.backend.filters||[]},toggleScroll:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()},toggleInteraction:function(){this.params.interact=!this.params.interact},drawBuffer:function(){var e=t(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),a=this.drawer.getWidth(),n=e,o=this.drawer.getScrollX(),d=s(o+a,n);if(this.params.fillParent&&(!this.params.scrollParent||e<a)&&(n=a,o=0,d=n),this.params.partialRender)for(var r=this.peakCache.addRangeToPeakCache(n,o,d),c=0,l;c<r.length;c++)l=this.backend.getPeaks(n,r[c][0],r[c][1]),this.drawer.drawPeaks(l,n,r[c][0],r[c][1]);else{o=0,d=n;var l=this.backend.getPeaks(n,o,d);this.drawer.drawPeaks(l,n,o,d)}this.fireEvent("redraw",l,n)},zoom:function(e){this.params.minPxPerSec=e,this.params.scrollParent=!0,this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",e)},loadArrayBuffer:function(e){this.decodeArrayBuffer(e,function(e){this.isDestroyed||this.loadDecodedBuffer(e)}.bind(this))},loadDecodedBuffer:function(e){this.backend.load(e),this.drawBuffer(),this.fireEvent("ready")},loadBlob:function(e){var t=this,a=new FileReader;a.addEventListener("progress",function(a){t.onProgress(a)}),a.addEventListener("load",function(a){t.loadArrayBuffer(a.target.result)}),a.addEventListener("error",function(){t.fireEvent("error","Error reading file")}),a.readAsArrayBuffer(e),this.empty()},load:function(e,t,a){switch(this.empty(),this.params.backend){case"WebAudio":return this.loadBuffer(e,t);case"MediaElement":return this.loadMediaElement(e,t,a);}},loadBuffer:function(e,t){var a=function(t){return t&&this.tmpEvents.push(this.once("ready",t)),this.getArrayBuffer(e,this.loadArrayBuffer.bind(this))}.bind(this);return t?void(this.backend.setPeaks(t),this.drawBuffer(),this.tmpEvents.push(this.once("interaction",a))):a()},loadMediaElement:function(e,t,a){var n=e;if("string"==typeof e)this.backend.load(n,this.mediaContainer,t,a);else{var i=e;this.backend.loadElt(i,t),n=i.src}this.tmpEvents.push(this.backend.once("canplay",function(){this.drawBuffer(),this.fireEvent("ready")}.bind(this)),this.backend.once("error",function(e){this.fireEvent("error",e)}.bind(this))),t&&this.backend.setPeaks(t),(!t||this.params.forceDecode)&&this.backend.supportsWebAudio()&&this.getArrayBuffer(n,function(e){this.decodeArrayBuffer(e,function(e){this.backend.buffer=e,this.backend.setPeaks(null),this.drawBuffer(),this.fireEvent("waveform-ready")}.bind(this))}.bind(this))},decodeArrayBuffer:function(e,t){this.arraybuffer=e,this.backend.decodeArrayBuffer(e,function(a){this.isDestroyed||this.arraybuffer!=e||(t(a),this.arraybuffer=null)}.bind(this),this.fireEvent.bind(this,"error","Error decoding audiobuffer"))},getArrayBuffer:function(e,t){var a=this,n=d.util.ajax({url:e,responseType:"arraybuffer"});return this.currentAjax=n,this.tmpEvents.push(n.on("progress",function(t){a.onProgress(t)}),n.on("success",function(e){t(e),a.currentAjax=null}),n.on("error",function(t){a.fireEvent("error","XHR error: "+t.target.statusText),a.currentAjax=null})),n},onProgress:function(a){if(a.lengthComputable)var e=a.loaded/a.total;else e=a.loaded/(a.loaded+1e6);this.fireEvent("loading",t(100*e),a.target)},exportPCM:function(e,a,n){e=e||1024,a=a||1e4,n=n||!1;var i=this.backend.getPeaks(e,a),s=[].map.call(i,function(e){return t(e*a)/a}),o=JSON.stringify(s);return n||window.open("data:application/json;charset=utf-8,"+encodeURIComponent(o)),o},exportImage:function(e,t){return e||(e="image/png"),t||(t=1),this.drawer.getImage(e,t)},cancelAjax:function(){this.currentAjax&&(this.currentAjax.xhr.abort(),this.currentAjax=null)},clearTmpEvents:function(){this.tmpEvents.forEach(function(t){t.un()})},empty:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)},destroy:function(){this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),this.backend.destroy(),this.drawer.destroy(),this.isDestroyed=!0}};return d.create=function(e){var t=Object.create(d);return t.init(e),t},d.util={extend:function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){Object.keys(t).forEach(function(a){e[a]=t[a]})}),e},debounce:function(e,t,a){var n=function(){o=null,a||e.apply(s,i)},i,s,o;return function(){s=this,i=arguments;var d=a&&!o;clearTimeout(o),o=setTimeout(n,t),o||(o=setTimeout(n,t)),d&&e.apply(s,i)}},min:function(e){var t=+Infinity;for(var a in e)e[a]<t&&(t=e[a]);return t},max:function(e){var t=-Infinity;for(var a in e)e[a]>t&&(t=e[a]);return t},getId:function(){return"wavesurfer_"+Math.random().toString(32).substring(2)},ajax:function(e){var t=Object.create(d.Observer),a=new XMLHttpRequest,n=!1;return a.open(e.method||"GET",e.url,!0),a.responseType=e.responseType||"json",a.addEventListener("progress",function(a){t.fireEvent("progress",a),a.lengthComputable&&a.loaded==a.total&&(n=!0)}),a.addEventListener("load",function(i){n||t.fireEvent("progress",i),t.fireEvent("load",i),200==a.status||206==a.status?t.fireEvent("success",a.response,i):t.fireEvent("error",i)}),a.addEventListener("error",function(a){t.fireEvent("error",a)}),a.send(),t.xhr=a,t}},d.Observer={on:function(e,t){this.handlers||(this.handlers={});var a=this.handlers[e];return a||(a=this.handlers[e]=[]),a.push(t),{name:e,callback:t,un:this.un.bind(this,e,t)}},un:function(e,t){if(this.handlers){var a=this.handlers[e];if(a)if(t)for(var n=a.length-1;0<=n;n--)a[n]==t&&a.splice(n,1);else a.length=0}},unAll:function(){this.handlers=null},once:function(e,t){var a=this,n=function(){t.apply(this,arguments),setTimeout(function(){a.un(e,n)},0)};return this.on(e,n)},fireEvent:function(e){if(this.handlers){var t=this.handlers[e],a=Array.prototype.slice.call(arguments,1);t&&t.forEach(function(e){e.apply(null,a)})}}},d.util.extend(d,d.Observer),d.WebAudio={scriptBufferSize:256,PLAYING_STATE:0,PAUSED_STATE:1,FINISHED_STATE:2,supportsWebAudio:function(){return!!(window.AudioContext||window.webkitAudioContext)},getAudioContext:function(){return this.ac||(this.ac=new(window.AudioContext||window.webkitAudioContext)),this.ac},getOfflineAudioContext:function(e){return d.WebAudio.offlineAudioContext||(d.WebAudio.offlineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,e)),d.WebAudio.offlineAudioContext},init:function(e){this.params=e,this.ac=e.audioContext||this.getAudioContext(),this.lastPlay=this.ac.currentTime,this.startPosition=0,this.scheduledPause=null,this.states=[Object.create(d.WebAudio.state.playing),Object.create(d.WebAudio.state.paused),Object.create(d.WebAudio.state.finished)],this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(this.PAUSED_STATE),this.setPlaybackRate(this.params.audioRate),this.setLength(0)},disconnectFilters:function(){this.filters&&(this.filters.forEach(function(e){e&&e.disconnect()}),this.filters=null,this.analyser.connect(this.gainNode))},setState:function(e){this.state!==this.states[e]&&(this.state=this.states[e],this.state.init.call(this))},setFilter:function(){this.setFilters([].slice.call(arguments))},setFilters:function(e){this.disconnectFilters(),e&&e.length&&(this.filters=e,this.analyser.disconnect(),e.reduce(function(e,t){return e.connect(t),t},this.analyser).connect(this.gainNode))},createScriptNode:function(){this.scriptNode=this.ac.createScriptProcessor?this.ac.createScriptProcessor(this.scriptBufferSize):this.ac.createJavaScriptNode(this.scriptBufferSize),this.scriptNode.connect(this.ac.destination)},addOnAudioProcess:function(){var e=this;this.scriptNode.onaudioprocess=function(){var t=e.getCurrentTime();t>=e.getDuration()?(e.setState(e.FINISHED_STATE),e.fireEvent("pause")):t>=e.scheduledPause?e.pause():e.state===e.states[e.PLAYING_STATE]&&e.fireEvent("audioprocess",t)}},removeOnAudioProcess:function(){this.scriptNode.onaudioprocess=null},createAnalyserNode:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)},createVolumeNode:function(){this.gainNode=this.ac.createGain?this.ac.createGain():this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)},setVolume:function(e){this.gainNode.gain.value=e},getVolume:function(){return this.gainNode.gain.value},decodeArrayBuffer:function(e,t,a){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac?this.ac.sampleRate:44100)),this.offlineAc.decodeAudioData(e,function(e){t(e)}.bind(this),a)},setPeaks:function(e){this.peaks=e},setLength:function(e){if(!(this.mergedPeaks&&e==2*this.mergedPeaks.length-1+2)){this.splitPeaks=[],this.mergedPeaks=[];for(var t=this.buffer?this.buffer.numberOfChannels:1,a=0;a<t;a++)this.splitPeaks[a]=[],this.splitPeaks[a][2*(e-1)]=0,this.splitPeaks[a][2*(e-1)+1]=0;this.mergedPeaks[2*(e-1)]=0,this.mergedPeaks[2*(e-1)+1]=0}},getPeaks:function(e,t,a){if(this.peaks)return this.peaks;this.setLength(e);for(var n=this.buffer.length/e,s=this.buffer.numberOfChannels,o=0;o<s;o++)for(var d=this.splitPeaks[o],r=this.buffer.getChannelData(o),l=t;l<=a;l++){for(var p=~~(l*n),u=0,m=0,g=p,h;g<~~(p+n);g+=~~(n/10)||1)h=r[g],h>m&&(m=h),h<u&&(u=h);d[2*l]=m,d[2*l+1]=u,(0==o||m>this.mergedPeaks[2*l])&&(this.mergedPeaks[2*l]=m),(0==o||u<this.mergedPeaks[2*l+1])&&(this.mergedPeaks[2*l+1]=u)}return this.params.splitChannels?this.splitPeaks:this.mergedPeaks},getPlayedPercents:function(){return this.state.getPlayedPercents.call(this)},disconnectSource:function(){this.source&&this.source.disconnect()},destroy:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.audioContext||"function"!=typeof this.ac.close||this.ac.close()},load:function(e){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=e,this.createSource()},createSource:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.source.playbackRate.value=this.playbackRate,this.source.buffer=this.buffer,this.source.connect(this.analyser)},isPaused:function(){return this.state!==this.states[this.PLAYING_STATE]},getDuration:function(){return this.buffer?this.buffer.duration:0},seekTo:function(e,t){if(this.buffer)return this.scheduledPause=null,null==e&&(e=this.getCurrentTime(),e>=this.getDuration()&&(e=0)),null==t&&(t=this.getDuration()),this.startPosition=e,this.lastPlay=this.ac.currentTime,this.state===this.states[this.FINISHED_STATE]&&this.setState(this.PAUSED_STATE),{start:e,end:t}},getPlayedTime:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate},play:function(e,t){if(this.buffer){this.createSource();var a=this.seekTo(e,t);e=a.start,t=a.end,this.scheduledPause=t,this.source.start(0,e,t-e),"suspended"==this.ac.state&&this.ac.resume&&this.ac.resume(),this.setState(this.PLAYING_STATE),this.fireEvent("play")}},pause:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime(),this.source&&this.source.stop(0),this.setState(this.PAUSED_STATE),this.fireEvent("pause")},getCurrentTime:function(){return this.state.getCurrentTime.call(this)},getPlaybackRate:function(){return this.playbackRate},setPlaybackRate:function(e){e=e||1,this.isPaused()?this.playbackRate=e:(this.pause(),this.playbackRate=e,this.play())}},d.WebAudio.state={},d.WebAudio.state.playing={init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}},d.WebAudio.state.paused={init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition}},d.WebAudio.state.finished={init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}},d.util.extend(d.WebAudio,d.Observer),d.MediaElement=Object.create(d.WebAudio),d.util.extend(d.MediaElement,{init:function(e){this.params=e,this.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){}},this.mediaType=e.mediaType.toLowerCase(),this.elementPosition=e.elementPosition,this.setPlaybackRate(this.params.audioRate),this.createTimer()},createTimer:function(){var e=this,t=function(){if(!e.isPaused()){e.fireEvent("audioprocess",e.getCurrentTime());var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame;a(t)}};this.on("play",t)},load:function(e,t,a,n){var i=this,s=document.createElement(this.mediaType);s.controls=this.params.mediaControls,s.autoplay=this.params.autoplay||!1,s.preload=null==n?"auto":n,s.src=e,s.style.width="100%";var o=t.querySelector(this.mediaType);o&&t.removeChild(o),t.appendChild(s),this._load(s,a)},loadElt:function(e,t){var a=this,n=e;n.controls=this.params.mediaControls,n.autoplay=this.params.autoplay||!1,this._load(n,t)},_load:function(e,t){var a=this;"function"==typeof e.load&&e.load(),e.addEventListener("error",function(){a.fireEvent("error","Error loading media element")}),e.addEventListener("canplay",function(){a.fireEvent("canplay")}),e.addEventListener("ended",function(){a.fireEvent("finish")}),this.media=e,this.peaks=t,this.onPlayEnd=null,this.buffer=null,this.setPlaybackRate(this.playbackRate)},isPaused:function(){return!this.media||this.media.paused},getDuration:function(){var e=(this.buffer||this.media).duration;return e>=1/0&&(e=this.media.seekable.end(0)),e},getCurrentTime:function(){return this.media&&this.media.currentTime},getPlayedPercents:function(){return this.getCurrentTime()/this.getDuration()||0},setPlaybackRate:function(e){this.playbackRate=e||1,this.media.playbackRate=this.playbackRate},seekTo:function(e){null!=e&&(this.media.currentTime=e),this.clearPlayEnd()},play:function(e,t){this.seekTo(e),this.media.play(),t&&this.setPlayEnd(t),this.fireEvent("play")},pause:function(){this.media&&this.media.pause(),this.clearPlayEnd(),this.fireEvent("pause")},setPlayEnd:function(e){var t=this;this.onPlayEnd=function(a){a>=e&&(t.pause(),t.seekTo(e))},this.on("audioprocess",this.onPlayEnd)},clearPlayEnd:function(){this.onPlayEnd&&(this.un("audioprocess",this.onPlayEnd),this.onPlayEnd=null)},getPeaks:function(e,t,a){return this.buffer?d.WebAudio.getPeaks.call(this,e,t,a):this.peaks||[]},getVolume:function(){return this.media.volume},setVolume:function(e){this.media.volume=e},destroy:function(){this.pause(),this.unAll(),this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}),d.AudioElement=d.MediaElement,d.Drawer={init:function(e,t){this.container=e,this.params=t,this.width=0,this.height=t.height*this.params.pixelRatio,this.lastPos=0,this.initDrawer(t),this.createWrapper(),this.createElements()},createWrapper:function(){this.wrapper=this.container.appendChild(document.createElement("wave")),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()},handleEvent:function(t,e){e||t.preventDefault();var a=t.targetTouches?t.targetTouches[0].clientX:t.clientX,n=this.wrapper.getBoundingClientRect(),i=this.width,s=this.getWidth(),o;return!this.params.fillParent&&i<s?(o=(a-n.left)*this.params.pixelRatio/i||0,1<o&&(o=1)):o=(a-n.left+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,o},setupWrapperEvents:function(){var t=this;this.wrapper.addEventListener("click",function(a){var e=t.wrapper.offsetHeight-t.wrapper.clientHeight;if(0!=e){var n=t.wrapper.getBoundingClientRect();if(a.clientY>=n.bottom-e)return}t.params.interact&&t.fireEvent("click",a,t.handleEvent(a))}),this.wrapper.addEventListener("scroll",function(a){t.fireEvent("scroll",a)})},drawPeaks:function(e,t,a,n){this.setWidth(t),this.params.barWidth?this.drawBars(e,0,a,n):this.drawWave(e,0,a,n)},style:function(e,t){return Object.keys(t).forEach(function(a){e.style[a]!==t[a]&&(e.style[a]=t[a])}),e},resetScroll:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)},recenter:function(e){var t=this.wrapper.scrollWidth*e;this.recenterOnPosition(t,!0)},recenterOnPosition:function(e,t){var a=this.wrapper.scrollLeft,n=~~(this.wrapper.clientWidth/2),i=e-n,d=i-a,r=this.wrapper.scrollWidth-this.wrapper.clientWidth;if(0!=r){if(!t&&-n<=d&&d<n){d=o(-5,s(5,d)),i=a+d}i=o(0,s(r,i)),i!=a&&(this.wrapper.scrollLeft=i)}},getScrollX:function(){return t(this.wrapper.scrollLeft*this.params.pixelRatio)},getWidth:function(){return t(this.container.clientWidth*this.params.pixelRatio)},setWidth:function(e){this.width==e||(this.width=e,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:""}):this.style(this.wrapper,{width:~~(this.width/this.params.pixelRatio)+"px"}),this.updateSize())},setHeight:function(e){e==this.height||(this.height=e,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize())},progress:function(e){var a=1/this.params.pixelRatio,n=t(e*this.width)*a;if(n<this.lastPos||n-this.lastPos>=a){if(this.lastPos=n,this.params.scrollParent&&this.params.autoCenter){var i=~~(this.wrapper.scrollWidth*e);this.recenterOnPosition(i)}this.updateProgress(n)}},destroy:function(){this.unAll(),this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=null)},initDrawer:function(){},createElements:function(){},updateSize:function(){},drawWave:function(){},clearWave:function(){},updateProgress:function(){}},d.util.extend(d.Drawer,d.Observer),d.Drawer.Canvas=Object.create(d.Drawer),d.util.extend(d.Drawer.Canvas,{createElements:function(){var e=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:1,left:0,top:0,bottom:0}));if(this.waveCc=e.getContext("2d"),this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:2,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})),this.params.waveColor!=this.params.progressColor){var t=this.progressWave.appendChild(document.createElement("canvas"));this.progressCc=t.getContext("2d")}},updateSize:function(){var e=t(this.width/this.params.pixelRatio);this.waveCc.canvas.width=this.width,this.waveCc.canvas.height=this.height,this.style(this.waveCc.canvas,{width:e+"px"}),this.style(this.progressWave,{display:"block"}),this.progressCc&&(this.progressCc.canvas.width=this.width,this.progressCc.canvas.height=this.height,this.style(this.progressCc.canvas,{width:e+"px"})),this.clearWave()},clearWave:function(){this.waveCc.clearRect(0,0,this.width,this.height),this.progressCc&&this.progressCc.clearRect(0,0,this.width,this.height)},drawBars:function(e,a,s,r){var c=this;if(e[0]instanceof Array){var i=e;if(this.params.splitChannels)return this.setHeight(i.length*this.params.height*this.params.pixelRatio),void i.forEach(function(e,t){c.drawBars(e,t,s,r)});e=i[0]}var l=[].some.call(e,function(e){return 0>e}),p=1;l&&(p=2);var u=.5/this.params.pixelRatio,m=this.width,g=this.params.height*this.params.pixelRatio,f=g/2,v=e.length/p,b=this.params.barWidth*this.params.pixelRatio,A=o(this.params.pixelRatio,~~(b/2)),x=1;if(this.params.normalize){var w=d.util.max(e),k=d.util.min(e);x=-k>w?-k:w}var S=v/m;this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(o){if(o)for(var d=s/S;d<r/S;d+=b+A){var c=e[n(d*S*p)]||0,l=t(c/x*f);o.fillRect(d+u,f-l+(g*a||0),b+u,2*l)}},this)},drawWave:function(e,a,n,s){var o=this;if(e[0]instanceof Array){var r=e;if(this.params.splitChannels)return this.setHeight(r.length*this.params.height*this.params.pixelRatio),void r.forEach(function(e,t){o.drawWave(e,t,n,s)});e=r[0]}var c=[].some.call(e,function(e){return 0>e});if(!c){for(var l=[],p=0,u=e.length;p<u;p++)l[2*p]=e[p],l[2*p+1]=-e[p];e=l}var m=.5/this.params.pixelRatio,g=this.params.height*this.params.pixelRatio,f=g*a||0,v=g/2,b=~~(e.length/2),A=1;this.params.fillParent&&this.width!=b&&(A=this.width/b);var x=1;if(this.params.normalize){var w=d.util.max(e),k=d.util.min(e);x=-k>w?-k:w}this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(a){if(a){a.beginPath(),a.moveTo(n*A+m,v+f);for(var o=n,d;o<s;o++)d=t(e[2*o]/x*v),a.lineTo(o*A+m,v-d+f);for(var o=s-1,d;o>=n;o--)d=t(e[2*o+1]/x*v),a.lineTo(o*A+m,v-d+f);a.closePath(),a.fill(),a.fillRect(0,v+f-m,this.width,m)}},this)},updateProgress:function(e){this.style(this.progressWave,{width:e+"px"})},getImage:function(e,t){return this.waveCc.canvas.toDataURL(e,t)}}),d.Drawer.MultiCanvas=Object.create(d.Drawer),d.util.extend(d.Drawer.MultiCanvas,{initDrawer:function(e){if(this.maxCanvasWidth=null==e.maxCanvasWidth?4e3:e.maxCanvasWidth,this.maxCanvasElementWidth=t(this.maxCanvasWidth/this.params.pixelRatio),1>=this.maxCanvasWidth)throw"maxCanvasWidth must be greater than 1.";else if(1==this.maxCanvasWidth%2)throw"maxCanvasWidth must be an even number.";this.hasProgressCanvas=this.params.waveColor!=this.params.progressColor,this.halfPixel=.5/this.params.pixelRatio,this.canvases=[]},createElements:function(){this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:2,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})),this.addCanvas()},updateSize:function(){for(var e=t(this.width/this.params.pixelRatio),n=a(e/this.maxCanvasElementWidth);this.canvases.length<n;)this.addCanvas();for(;this.canvases.length>n;)this.removeCanvas();for(var s in this.canvases){var i=this.maxCanvasWidth+2*a(this.params.pixelRatio/2);s==this.canvases.length-1&&(i=this.width-this.maxCanvasWidth*(this.canvases.length-1)),this.updateDimensions(this.canvases[s],i,this.height),this.clearWaveForEntry(this.canvases[s])}},addCanvas:function(){var e={},t=this.maxCanvasElementWidth*this.canvases.length;e.wave=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:1,left:t+"px",top:0,bottom:0})),e.waveCtx=e.wave.getContext("2d"),this.hasProgressCanvas&&(e.progress=this.progressWave.appendChild(this.style(document.createElement("canvas"),{position:"absolute",left:t+"px",top:0,bottom:0})),e.progressCtx=e.progress.getContext("2d")),this.canvases.push(e)},removeCanvas:function(){var e=this.canvases.pop();e.wave.parentElement.removeChild(e.wave),this.hasProgressCanvas&&e.progress.parentElement.removeChild(e.progress)},updateDimensions:function(e,a,n){var i=t(a/this.params.pixelRatio),s=t(this.width/this.params.pixelRatio);e.start=e.waveCtx.canvas.offsetLeft/s||0,e.end=e.start+i/s,e.waveCtx.canvas.width=a,e.waveCtx.canvas.height=n,this.style(e.waveCtx.canvas,{width:i+"px"}),this.style(this.progressWave,{display:"block"}),this.hasProgressCanvas&&(e.progressCtx.canvas.width=a,e.progressCtx.canvas.height=n,this.style(e.progressCtx.canvas,{width:i+"px"}))},clearWave:function(){for(var e in this.canvases)this.clearWaveForEntry(this.canvases[e])},clearWaveForEntry:function(e){e.waveCtx.clearRect(0,0,e.waveCtx.canvas.width,e.waveCtx.canvas.height),this.hasProgressCanvas&&e.progressCtx.clearRect(0,0,e.progressCtx.canvas.width,e.progressCtx.canvas.height)},drawBars:function(e,a,s,r){var c=this;if(e[0]instanceof Array){var l=e;if(this.params.splitChannels)return this.setHeight(l.length*this.params.height*this.params.pixelRatio),void l.forEach(function(e,t){c.drawBars(e,t,s,r)});e=l[0]}var p=[].some.call(e,function(e){return 0>e}),u=1;p&&(u=2);var m=this.width,g=this.params.height*this.params.pixelRatio,f=g/2,v=e.length/u,b=this.params.barWidth*this.params.pixelRatio,A=o(this.params.pixelRatio,~~(b/2)),x=1;if(this.params.normalize){var w=d.util.max(e),k=d.util.min(e);x=-k>w?-k:w}for(var S=v/m,M=s/S;M<r/S;M+=b+A){var C=e[n(M*S*u)]||0,L=t(C/x*f);this.fillRect(M+this.halfPixel,f-L+(g*a||0),b+this.halfPixel,2*L)}},drawWave:function(e,t,a,n){var s=this;if(e[0]instanceof Array){var o=e;if(this.params.splitChannels)return this.setHeight(o.length*this.params.height*this.params.pixelRatio),void o.forEach(function(e,t){s.drawWave(e,t,a,n)});e=o[0]}var r=[].some.call(e,function(e){return 0>e});if(!r){for(var c=[],l=0,p=e.length;l<p;l++)c[2*l]=e[l],c[2*l+1]=-e[l];e=c}var u=this.params.height*this.params.pixelRatio,m=u*t||0,g=u/2,h=1;if(this.params.normalize){var f=d.util.max(e),v=d.util.min(e);h=-v>f?-v:f}this.drawLine(e,h,g,m,a,n),this.fillRect(0,g+m-this.halfPixel,this.width,this.halfPixel)},drawLine:function(e,t,a,n,i,s){for(var o in this.canvases){var d=this.canvases[o];this.setFillStyles(d),this.drawLineToContext(d,d.waveCtx,e,t,a,n,i,s),this.drawLineToContext(d,d.progressCtx,e,t,a,n,i,s)}},drawLineToContext:function(e,a,n,d,r,c,l,p){if(a){var u=n.length/2,m=1;this.params.fillParent&&this.width!=u&&(m=this.width/u);var g=t(u*e.start),f=t(u*e.end);if(!(g>p||f<l)){var v=o(g,l),b=s(f,p);a.beginPath(),a.moveTo((v-g)*m+this.halfPixel,r+c);for(var A=v;A<b;A++){var x=n[2*A]||0,w=t(x/d*r);a.lineTo((A-g)*m+this.halfPixel,r-w+c)}for(var A=b-1;A>=v;A--){var x=n[2*A+1]||0,w=t(x/d*r);a.lineTo((A-g)*m+this.halfPixel,r-w+c)}a.closePath(),a.fill()}}},fillRect:function(e,t,d,r){for(var c=n(e/this.maxCanvasWidth),l=s(a((e+d)/this.maxCanvasWidth)+1,this.canvases.length),p=c;p<l;p++){var u=this.canvases[p],m=p*this.maxCanvasWidth,g={x1:o(e,p*this.maxCanvasWidth),y1:t,x2:s(e+d,p*this.maxCanvasWidth+u.waveCtx.canvas.width),y2:t+r};g.x1<g.x2&&(this.setFillStyles(u),this.fillRectToContext(u.waveCtx,g.x1-m,g.y1,g.x2-g.x1,g.y2-g.y1),this.fillRectToContext(u.progressCtx,g.x1-m,g.y1,g.x2-g.x1,g.y2-g.y1))}},fillRectToContext:function(e,t,a,n,i){e&&e.fillRect(t,a,n,i)},setFillStyles:function(e){e.waveCtx.fillStyle=this.params.waveColor,this.hasProgressCanvas&&(e.progressCtx.fillStyle=this.params.progressColor)},updateProgress:function(e){this.style(this.progressWave,{width:e+"px"})}}),d.PeakCache={init:function(){this.clearPeakCache()},clearPeakCache:function(){this.peakCacheRanges=[],this.peakCacheLength=-1},addRangeToPeakCache:function(e,t,a){e!=this.peakCacheLength&&(this.clearPeakCache(),this.peakCacheLength=e);for(var n=[],s=0;s<this.peakCacheRanges.length&&this.peakCacheRanges[s]<t;)s++;for(0==s%2&&n.push(t);s<this.peakCacheRanges.length&&this.peakCacheRanges[s]<=a;)n.push(this.peakCacheRanges[s]),s++;0==s%2&&n.push(a),n=n.filter(function(e,t,a){return 0==t?e!=a[t+1]:t==a.length-1?e!=a[t-1]:e!=a[t-1]&&e!=a[t+1]}),this.peakCacheRanges=this.peakCacheRanges.concat(n),this.peakCacheRanges=this.peakCacheRanges.sort(function(e,t){return e-t}).filter(function(e,t,a){return 0==t?e!=a[t+1]:t==a.length-1?e!=a[t-1]:e!=a[t-1]&&e!=a[t+1]});var o=[];for(s=0;s<n.length;s+=2)o.push([n[s],n[s+1]]);return o},getCacheRanges:function(){for(var e=[],t=0;t<this.peakCacheRanges.length;t+=2)e.push([this.peakCacheRanges[t],this.peakCacheRanges[t+1]]);return e}},function(){var e=function(){var e=document.querySelectorAll("wavesurfer");Array.prototype.forEach.call(e,function(e){var t=d.util.extend({container:e,backend:"MediaElement",mediaControls:!0},e.dataset);e.style.display="block";var a=d.create(t);if(e.dataset.peaks)var n=JSON.parse(e.dataset.peaks);a.load(e.dataset.url,n)})};"complete"===document.readyState?e():window.addEventListener("load",e)}(),d}),function(e){function t(e,t){const a=e.charCodeAt(t);if(isNaN(a))throw new RangeError("Index "+t+" out of range for string \""+e+"\"; please open an issue at https://github.com/Trott/slug/issues/new");if(55296>a||57343<a)return[e.charAt(t),t];if(55296<=a&&56319>=a){if(e.length<=t+1)return[" ",t];const a=e.charCodeAt(t+1);return 56320>a||57343<a?[" ",t]:[e.charAt(t)+e.charAt(t+1),t+1]}if(0===t)return[" ",t];const n=e.charCodeAt(t-1);if(55296>n||56319<n)return[" ",t];throw new Error("String \""+e+"\" reaches code believed to be unreachable; please open an issue at https://github.com/Trott/slug/issues/new")}function a(e,a){let s=n(e,a);if(""===s){let o="";for(let a=0;a<e.length;a++){const n=t(e,a);a=n[1],o+=n[0]}s=n(i(o),a)}return s}function n(e,t){if("string"!=typeof e)throw new Error("slug() requires a string argument, received "+typeof e);"string"==typeof t&&(t={replacement:t}),t=t?Object.assign({},t):{},t.mode=t.mode||a.defaults.mode;const n=a.defaults.modes[t.mode],o=["replacement","multicharmap","charmap","remove","lower"];for(let a=0,i=o.length,s;a<i;a++)s=o[a],t[s]=s in t?t[s]:n[s];const d=s[t.locale]||{};let r=[];for(let a in t.multicharmap){if(!Object.prototype.hasOwnProperty.call(t.multicharmap,a))continue;const e=a.length;-1===r.indexOf(e)&&r.push(e)}r=r.sort(function(e,t){return t-e});const c="rfc3986"===t.mode?/[^\w\s\-.~]/:/[^A-Za-z0-9\s]/;let l="";for(let a=0,n=e.length,i;a<n;a++){i=e[a];let n=!1;for(let s=0;s<r.length;s++){const o=r[s],d=e.substr(a,o);if(t.multicharmap[d]){a+=o-1,i=t.multicharmap[d],n=!0;break}}n||(d[i]?i=d[i]:t.charmap[i]?i=t.charmap[i]:i.includes(t.replacement)?i=i.replace(t.replacement," "):i=i.replace(c,"")),l+=i}return t.remove&&(l=l.replace(t.remove,"")),l=l.trim(),l=l.replace(/\s+/g,t.replacement),t.lower&&(l=l.toLowerCase()),l}let i;i="undefined"==typeof window?function(e){return Buffer.from(e).toString("base64")}:window.btoa?function(e){return btoa(unescape(encodeURIComponent(e)))}:function(e){const t=unescape(encodeURIComponent(e+""));let a="";for(let n=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s,o;t.charAt(0|n)||(i="=",n%1);a+=i.charAt(63&s>>8-8*(n%1))){if(o=t.charCodeAt(n+=3/4),255<o)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");s=s<<8|o}return a},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){'use strict';if(null===e||e===void 0)throw new TypeError("Cannot convert undefined or null to object");const t=Object(e);for(let n=1;n<arguments.length;n++){const e=arguments[n];if(null!==e&&e!==void 0)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},writable:!0,configurable:!0});const s={bg:{:"Y",:"y",X:"H",x:"h",:"Ts",:"ts",:"Sht",:"sht",:"A",:"a",:"Y",:"y"},de:{:"AE",:"ae",:"OE",:"oe",:"UE",:"ue"},sr:{:"dj",:"DJ"},uk:{:"Y",:"y",:"Y",:"y",:"Ts",:"ts",:"Kh",:"kh",:"Shch",:"shch",:"H",:"h"}},o={:"Fi",:"Ghi",:"Khi",:"Qi",:"ugDha",:"ugDhha",:"Yi",:"Za",:"i",:"e",:"e",:"e",:"a",:"a",:"o",:"o",:"u",:"u",:"b",:"k",:"k",:"p",:"sh",:"s",:"e",:"e",:"a",:"o",:"i"},d={:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"C",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"U",:"Y",:"TH",:"ss",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"OE",:"oe",:"u",:"u",:"u",:"u",:"u",:"y",:"th",:"y",:"SS",:"a",:"b",:"g",:"d",:"e",:"z",:"h",:"8",:"i",:"k",:"l",:"m",:"n",:"3",:"o",:"p",:"r",:"s",:"t",:"y",:"f",:"x",:"ps",:"w",:"a",:"e",:"i",:"o",:"y",:"h",:"w",:"s",:"i",:"y",:"y",:"i",:"A",:"B",:"G",:"D",:"E",:"Z",:"H",:"8",:"I",:"K",:"L",:"M",:"N",:"3",:"O",:"P",:"R",:"S",:"T",:"Y",:"F",:"X",:"PS",:"W",:"A",:"E",:"I",:"O",:"Y",:"H",:"W",:"I",:"Y",:"s",:"S",:"i",:"I",:"g",:"G",:"a",:"b",:"v",:"g",:"d",:"e",:"yo",:"zh",:"z",:"i",:"j",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"h",:"c",:"ch",:"sh",:"sh",:"u",:"y",:"",:"e",:"yu",:"ya",:"A",:"B",:"V",:"G",:"D",:"E",:"Yo",:"Zh",:"Z",:"I",:"J",:"K",:"L",:"M",:"N",:"O",:"P",:"R",:"S",:"T",:"U",:"F",:"H",:"C",:"Ch",:"Sh",:"Sh",:"U",:"Y",:"",:"E",:"Yu",:"Ya",:"Ye",:"I",:"Yi",:"G",:"ye",:"i",:"yi",:"g",:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z",:"l",:"l",:"r",:"L",:"L",:"R",:"a",:"c",:"e",:"l",:"n",:"s",:"z",:"z",:"A",:"C",:"E",:"L",:"N",:"S",:"Z",:"Z",:"a",:"e",:"g",:"i",:"k",:"l",:"n",:"u",:"A",:"E",:"G",:"I",:"K",:"L",:"N",:"U",:"a",:"i",:"b",:"t",:"th",:"g",:"h",:"kh",:"d",:"th",:"r",:"z",:"s",:"sh",:"s",:"d",:"t",:"th",:"aa",:"gh",:"f",:"k",:"k",:"l",:"m",:"n",:"h",:"o",:"y",:"aa",:"a",:"a",:"a",:"p",:"zh",:"g",:"ch",:"k",:"i",:"e",:"i",:"u",:"E",:"I",:"U",:"t",:"T",:"t",:"T",:"s",:"S",:"a",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"Y",:"Y",:"Y",:"Y",:"D",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"y",:"y",:"y",:"y",:"d",:"AE",:"ae",:"GH",:"gh",:"KH",:"kh",:"NG",:"ng",:"UE",:"ue",:"U",:"u",:"H",:"h",:"OE",:"oe",:"dj",:"j",:"lj",:"nj",:"c",:"dz",:"Dj",:"j",:"Lj",:"Nj",:"C",:"Dz",:"nj",:"lj",:"NJ",:"LJ",:"a",:"aa",:"e",:"ii",:"ei",:"ae",:"ai",:"i",:"o",:"oi",:"oii",:"uu",:"ou",:"u",:"B",:"Bha",:"Ca",:"Chha",:"Da",:"Dha",:"Fa",:"Ga",:"Gha",:"Ghi",:"Ha",:"Ja",:"Jha",:"Ka",:"Kha",:"Khi",:"L",:"Li",:"Li",:"Lii",:"Lii",:"Ma",:"Na",:"Na",:"Nia",:"Nae",:"Ni",:"oms",:"Pa",:"Qi",:"Ra",:"Ri",:"Ri",:"Ri",:"Sa",:"Sha",:"Shha",:"Ta",:"Ta",:"Tha",:"Tha",:"Tha",:"Thha",:"ugDha",:"ugDhha",:"Va",:"Ya",:"Yi",:"Za",:"e",:"E",:"a",:"b",:"g",:"d",:"e",:"v",:"z",:"t",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"zh",:"r",:"s",:"t",:"u",:"p",:"k",:"gh",:"q",:"sh",:"ch",:"ts",:"dz",:"ts",:"ch",:"kh",:"j",:"h",:"v",:"g",:"g",:"d",:"d",:"h",:"v",:"z",:"h",:"t",:"y",:"kh",:"kh",:"l",:"m",:"m",:"n",:"n",:"s",:"f",:"f",:"ts",:"ts",:"k",:"r",:"t",:"t"};a.charmap=Object.assign({},d),a.multicharmap=Object.assign({},o),a.defaults={charmap:a.charmap,mode:"pretty",modes:{rfc3986:{replacement:"-",remove:null,lower:!0,charmap:a.charmap,multicharmap:a.multicharmap},pretty:{replacement:"-",remove:null,lower:!0,charmap:a.charmap,multicharmap:a.multicharmap}},multicharmap:a.multicharmap},a.reset=function(){a.defaults.modes.rfc3986.charmap=a.defaults.modes.pretty.charmap=a.charmap=a.defaults.charmap=Object.assign({},d),a.defaults.modes.rfc3986.multicharmap=a.defaults.modes.pretty.multicharmap=a.multicharmap=a.defaults.multicharmap=Object.assign({},o)},a.extend=function(e){const t=Object.keys(e),n={},s={};for(let a=0;a<t.length;a++)1<t[a].length?n[t[a]]=e[t[a]]:s[t[a]]=e[t[a]];Object.assign(a.charmap,s),Object.assign(a.multicharmap,n)},"undefined"!=typeof define&&define.amd?define("slug",[],function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:e.slug=a}(this),function(){'use strict';function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,a){var n=typeof e,s;if("string"==n){var o=[],d=e.length,r=0,c;for(s=0;s<d;++s)c=e.charCodeAt(s),128>c?o[r++]=c:2048>c?(o[r++]=192|c>>6,o[r++]=128|63&c):55296>c||57344<=c?(o[r++]=224|c>>12,o[r++]=128|63&c>>6,o[r++]=128|63&c):(c=65536+((1023&c)<<10|1023&e.charCodeAt(++s)),o[r++]=240|c>>18,o[r++]=128|63&c>>12,o[r++]=128|63&c>>6,o[r++]=128|63&c);e=o}else if("object"!==n)throw new Error("input is invalid type");else if(null===e)throw new Error("input is invalid type");else if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error("input is invalid type");64<e.length&&(e=new Sha256(t,!0).update(e).array());var l=[],p=[];for(s=0;64>s;++s){var u=e[s]||0;l[s]=92^u,p[s]=54^u}Sha256.call(this,t,a),this.update(p),this.oKeyPad=l,this.inner=!0,this.sharedMemory=a}var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(a){return new Sha256(t,!0).update(a)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var a=0,n;a<OUTPUT_TYPES.length;++a)n=OUTPUT_TYPES[a],t[n]=createOutputMethod(n,e);return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null===e||void 0===e)throw new Error("input is invalid type");else e.constructor===ArrayBuffer&&(e=new Uint8Array(e));return Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(a,n){return new HmacSha256(a,t,!0).update(n)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,a){return t.create(e).update(a)};for(var a=0,n;a<OUTPUT_TYPES.length;++a)n=OUTPUT_TYPES[a],t[n]=createHmacOutputMethod(n,e);return t};Sha256.prototype.update=function(e){if(!this.finalized){var t=typeof e,a;if("string"!=t){if("object"!==t)throw new Error("input is invalid type");else if(null===e)throw new Error("input is invalid type");else if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error("input is invalid type");a=!0}for(var n=0,s=e.length,o=this.blocks,d,r;n<s;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),a)for(r=this.start;n<s&&64>r;++n)o[r>>2]|=e[n]<<SHIFT[3&r++];else for(r=this.start;n<s&&64>r;++n)d=e.charCodeAt(n),128>d?o[r>>2]|=d<<SHIFT[3&r++]:2048>d?(o[r>>2]|=(192|d>>6)<<SHIFT[3&r++],o[r>>2]|=(128|63&d)<<SHIFT[3&r++]):55296>d||57344<=d?(o[r>>2]|=(224|d>>12)<<SHIFT[3&r++],o[r>>2]|=(128|63&d>>6)<<SHIFT[3&r++],o[r>>2]|=(128|63&d)<<SHIFT[3&r++]):(d=65536+((1023&d)<<10|1023&e.charCodeAt(++n)),o[r>>2]|=(240|d>>18)<<SHIFT[3&r++],o[r>>2]|=(128|63&d>>12)<<SHIFT[3&r++],o[r>>2]|=(128|63&d>>6)<<SHIFT[3&r++],o[r>>2]|=(128|63&d)<<SHIFT[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,64<=r?(this.block=o[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return 4294967295<this.bytes&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes%=4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],56<=t&&(!this.hashed&&this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t=this.h0,n=this.h1,i=this.h2,s=this.h3,o=this.h4,r=this.h5,l=this.h6,p=this.h7,u=this.blocks,m,v,A,x,w,k,S,M,C,L,T;for(m=16;64>m;++m)w=u[m-15],v=(w>>>7|w<<25)^(w>>>18|w<<14)^w>>>3,w=u[m-2],A=(w>>>17|w<<15)^(w>>>19|w<<13)^w>>>10,u[m]=u[m-16]+v+u[m-7]+A<<0;for(T=n&i,m=0;64>m;m+=4)this.first?(this.is224?(M=300032,w=u[0]-1413257819,p=w-150054599<<0,s=w+24177077<<0):(M=704751109,w=u[0]-210244248,p=w-1521486534<<0,s=w+143694565<<0),this.first=!1):(v=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),A=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),M=t&n,x=M^t&i^T,S=o&r^~o&l,w=p+A+S+K[m]+u[m],k=v+x,p=s+w<<0,s=w+k<<0),v=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),A=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),C=s&t,x=C^s&n^M,S=p&o^~p&r,w=l+A+S+K[m+1]+u[m+1],k=v+x,l=i+w<<0,i=w+k<<0,v=(i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10),A=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),L=i&s,x=L^i&t^C,S=l&p^~l&o,w=r+A+S+K[m+2]+u[m+2],k=v+x,r=n+w<<0,n=w+k<<0,v=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),A=(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7),T=n&i,x=T^n&s^L,S=r&l^~r&p,w=o+A+S+K[m+3]+u[m+3],k=v+x,o=t+w<<0,t=w+k<<0;this.h0=this.h0+t<<0,this.h1=this.h1+n<<0,this.h2=this.h2+i<<0,this.h3=this.h3+s<<0,this.h4=this.h4+o<<0,this.h5=this.h5+r<<0,this.h6=this.h6+l<<0,this.h7=this.h7+p<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,a=this.h2,n=this.h3,i=this.h4,s=this.h5,o=this.h6,d=this.h7,r=HEX_CHARS[15&e>>28]+HEX_CHARS[15&e>>24]+HEX_CHARS[15&e>>20]+HEX_CHARS[15&e>>16]+HEX_CHARS[15&e>>12]+HEX_CHARS[15&e>>8]+HEX_CHARS[15&e>>4]+HEX_CHARS[15&e]+HEX_CHARS[15&t>>28]+HEX_CHARS[15&t>>24]+HEX_CHARS[15&t>>20]+HEX_CHARS[15&t>>16]+HEX_CHARS[15&t>>12]+HEX_CHARS[15&t>>8]+HEX_CHARS[15&t>>4]+HEX_CHARS[15&t]+HEX_CHARS[15&a>>28]+HEX_CHARS[15&a>>24]+HEX_CHARS[15&a>>20]+HEX_CHARS[15&a>>16]+HEX_CHARS[15&a>>12]+HEX_CHARS[15&a>>8]+HEX_CHARS[15&a>>4]+HEX_CHARS[15&a]+HEX_CHARS[15&n>>28]+HEX_CHARS[15&n>>24]+HEX_CHARS[15&n>>20]+HEX_CHARS[15&n>>16]+HEX_CHARS[15&n>>12]+HEX_CHARS[15&n>>8]+HEX_CHARS[15&n>>4]+HEX_CHARS[15&n]+HEX_CHARS[15&i>>28]+HEX_CHARS[15&i>>24]+HEX_CHARS[15&i>>20]+HEX_CHARS[15&i>>16]+HEX_CHARS[15&i>>12]+HEX_CHARS[15&i>>8]+HEX_CHARS[15&i>>4]+HEX_CHARS[15&i]+HEX_CHARS[15&s>>28]+HEX_CHARS[15&s>>24]+HEX_CHARS[15&s>>20]+HEX_CHARS[15&s>>16]+HEX_CHARS[15&s>>12]+HEX_CHARS[15&s>>8]+HEX_CHARS[15&s>>4]+HEX_CHARS[15&s]+HEX_CHARS[15&o>>28]+HEX_CHARS[15&o>>24]+HEX_CHARS[15&o>>20]+HEX_CHARS[15&o>>16]+HEX_CHARS[15&o>>12]+HEX_CHARS[15&o>>8]+HEX_CHARS[15&o>>4]+HEX_CHARS[15&o];return this.is224||(r+=HEX_CHARS[15&d>>28]+HEX_CHARS[15&d>>24]+HEX_CHARS[15&d>>20]+HEX_CHARS[15&d>>16]+HEX_CHARS[15&d>>12]+HEX_CHARS[15&d>>8]+HEX_CHARS[15&d>>4]+HEX_CHARS[15&d]),r},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,a=this.h2,n=this.h3,i=this.h4,s=this.h5,o=this.h6,d=this.h7,r=[255&e>>24,255&e>>16,255&e>>8,255&e,255&t>>24,255&t>>16,255&t>>8,255&t,255&a>>24,255&a>>16,255&a>>8,255&a,255&n>>24,255&n>>16,255&n>>8,255&n,255&i>>24,255&i>>16,255&i>>8,255&i,255&s>>24,255&s>>16,255&s>>8,255&s,255&o>>24,255&o>>16,255&o>>8,255&o];return this.is224||r.push(255&d>>24,255&d>>16,255&d>>8,255&d),r},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&define("sha256",[],function(){return exports}))}();(function(e){"function"==typeof define&&define.amd?define("magnific-popup",["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery||window.Zepto)})(function(t){var e=Math.min,a=function(){},n=!!window.jQuery,o=t(window),d=function(e,t){m.ev.on("mfp"+e+".mfp",t)},r=function(e,a,n,i){var s=document.createElement("div");return s.className="mfp-"+e,n&&(s.innerHTML=n),i?a&&a.appendChild(s):(s=t(s),a&&s.appendTo(a)),s},c=function(a,n){m.ev.triggerHandler("mfp"+a,n),m.st.callbacks&&(a=a.charAt(0).toLowerCase()+a.slice(1),m.st.callbacks[a]&&m.st.callbacks[a].apply(m,t.isArray(n)?n:[n]))},l=function(e){return e===b&&m.currTemplate.closeBtn||(m.currTemplate.closeBtn=t(m.st.closeMarkup.replace("%title%",m.st.tClose)),b=e),m.currTemplate.closeBtn},p=function(){t.magnificPopup.instance||(m=new a,m.init(),t.magnificPopup.instance=m)},u=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1},m,g,h,f,v,b;a.prototype={constructor:a,init:function(){var e=navigator.appVersion;m.isLowIE=m.isIE8=document.all&&!document.addEventListener,m.isAndroid=/android/gi.test(e),m.isIOS=/iphone|ipad|ipod/gi.test(e),m.supportsTransition=u(),m.probablyMobile=m.isAndroid||m.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),h=t(document),m.popupsCache={}},open:function(e){var a;if(!1===e.isObj){m.items=e.items.toArray(),m.index=0;var p=e.items,u;for(a=0;a<p.length;a++)if(u=p[a],u.parsed&&(u=u.el[0]),u===e.el[0]){m.index=a;break}}else m.items=t.isArray(e.items)?e.items:[e.items],m.index=e.index||0;if(m.isOpen)return void m.updateItemHTML();m.types=[],v="",m.ev=e.mainEl&&e.mainEl.length?e.mainEl.eq(0):h,e.key?(!m.popupsCache[e.key]&&(m.popupsCache[e.key]={}),m.currTemplate=m.popupsCache[e.key]):m.currTemplate={},m.st=t.extend(!0,{},t.magnificPopup.defaults,e),m.fixedContentPos="auto"===m.st.fixedContentPos?!m.probablyMobile:m.st.fixedContentPos,m.st.modal&&(m.st.closeOnContentClick=!1,m.st.closeOnBgClick=!1,m.st.showCloseBtn=!1,m.st.enableEscapeKey=!1),m.bgOverlay||(m.bgOverlay=r("bg").on("click.mfp",function(){m.close()}),m.wrap=r("wrap").attr("tabindex",-1).on("click.mfp",function(t){m._checkIfClose(t.target)&&m.close()}),m.container=r("container",m.wrap)),m.contentContainer=r("content"),m.st.preloader&&(m.preloader=r("preloader",m.container,m.st.tLoading));var g=t.magnificPopup.modules;for(a=0;a<g.length;a++){var f=g[a];f=f.charAt(0).toUpperCase()+f.slice(1),m["init"+f].call(m)}c("BeforeOpen"),m.st.showCloseBtn&&(m.st.closeBtnInside?(d("MarkupParse",function(t,e,a,n){a.close_replaceWith=l(n.type)}),v+=" mfp-close-btn-in"):m.wrap.append(l())),m.st.alignTop&&(v+=" mfp-align-top"),m.fixedContentPos?m.wrap.css({overflow:m.st.overflowY,overflowX:"hidden",overflowY:m.st.overflowY}):m.wrap.css({top:o.scrollTop(),position:"absolute"}),!1!==m.st.fixedBgPos&&("auto"!==m.st.fixedBgPos||m.fixedContentPos)||m.bgOverlay.css({height:h.height(),position:"absolute"}),m.st.enableEscapeKey&&h.on("keyup.mfp",function(t){27===t.keyCode&&m.close()}),o.on("resize.mfp",function(){m.updateSize()}),m.st.closeOnContentClick||(v+=" mfp-auto-cursor"),v&&m.wrap.addClass(v);var b=m.wH=o.height(),A={};if(m.fixedContentPos&&m._hasScrollBar(b)){var x=m._getScrollbarSize();x&&(A.marginRight=x)}m.fixedContentPos&&(m.isIE7?t("body, html").css("overflow","hidden"):A.overflow="hidden");var s=m.st.mainClass;return m.isIE7&&(s+=" mfp-ie7"),s&&m._addClassToMFP(s),m.updateItemHTML(),c("BuildControls"),t("html").css(A),m.bgOverlay.add(m.wrap).prependTo(m.st.prependTo||t(document.body)),m._lastFocusedEl=document.activeElement,setTimeout(function(){m.content?(m._addClassToMFP("mfp-ready"),m._setFocus()):m.bgOverlay.addClass("mfp-ready"),h.on("focusin.mfp",m._onFocusIn)},16),m.isOpen=!0,m.updateSize(b),c("Open"),e},close:function(){m.isOpen&&(c("BeforeClose"),m.isOpen=!1,m.st.removalDelay&&!m.isLowIE&&m.supportsTransition?(m._addClassToMFP("mfp-removing"),setTimeout(function(){m._close()},m.st.removalDelay)):m._close())},_close:function(){c("Close");var e="mfp-removing mfp-ready ";if(m.bgOverlay.detach(),m.wrap.detach(),m.container.empty(),m.st.mainClass&&(e+=m.st.mainClass+" "),m._removeClassFromMFP(e),m.fixedContentPos){var a={marginRight:""};m.isIE7?t("body, html").css("overflow",""):a.overflow="",t("html").css(a)}h.off("keyup.mfp focusin.mfp"),m.ev.off(".mfp"),m.wrap.attr("class","mfp-wrap").removeAttr("style"),m.bgOverlay.attr("class","mfp-bg"),m.container.attr("class","mfp-container"),m.st.showCloseBtn&&(!m.st.closeBtnInside||!0===m.currTemplate[m.currItem.type])&&m.currTemplate.closeBtn&&m.currTemplate.closeBtn.detach(),m.st.autoFocusLast&&m._lastFocusedEl&&t(m._lastFocusedEl).focus(),m.currItem=null,m.content=null,m.currTemplate=null,m.prevHeight=0,c("AfterClose")},updateSize:function(e){if(m.isIOS){var t=document.documentElement.clientWidth/window.innerWidth,a=window.innerHeight*t;m.wrap.css("height",a),m.wH=a}else m.wH=e||o.height();m.fixedContentPos||m.wrap.css("height",m.wH),c("Resize")},updateItemHTML:function(){var e=m.items[m.index];m.contentContainer.detach(),m.content&&m.content.detach(),e.parsed||(e=m.parseEl(m.index));var a=e.type;if(c("BeforeChange",[m.currItem?m.currItem.type:"",a]),m.currItem=e,!m.currTemplate[a]){var n=!!m.st[a]&&m.st[a].markup;c("FirstMarkupParse",n),m.currTemplate[a]=!n||t(n)}f&&f!==e.type&&m.container.removeClass("mfp-"+f+"-holder");var i=m["get"+a.charAt(0).toUpperCase()+a.slice(1)](e,m.currTemplate[a]);m.appendContent(i,a),e.preloaded=!0,c("Change",e),f=e.type,m.container.prepend(m.contentContainer),c("AfterChange")},appendContent:function(e,t){m.content=e,e?m.st.showCloseBtn&&m.st.closeBtnInside&&!0===m.currTemplate[t]?!m.content.find(".mfp-close").length&&m.content.append(l()):m.content=e:m.content="",c("BeforeAppend"),m.container.addClass("mfp-"+t+"-holder"),m.contentContainer.append(m.content)},parseEl:function(e){var a=m.items[e],n;if(a.tagName?a={el:t(a)}:(n=a.type,a={data:a,src:a.src}),a.el){for(var s=m.types,o=0;o<s.length;o++)if(a.el.hasClass("mfp-"+s[o])){n=s[o];break}a.src=a.el.attr("data-mfp-src"),a.src||(a.src=a.el.attr("href"))}return a.type=n||m.st.type||"inline",a.index=e,a.parsed=!0,m.items[e]=a,c("ElementParse",a),m.items[e]},addGroup:function(t,a){var n=function(n){n.mfpEl=this,m._openClick(n,t,a)};a||(a={});a.mainEl=t,a.items?(a.isObj=!0,t.off("click.magnificPopup").on("click.magnificPopup",n)):(a.isObj=!1,a.delegate?t.off("click.magnificPopup").on("click.magnificPopup",a.delegate,n):(a.items=t,t.off("click.magnificPopup").on("click.magnificPopup",n)))},_openClick:function(a,e,n){var i=n.midClick===void 0?t.magnificPopup.defaults.midClick:n.midClick;if(!(!i&&(2===a.which||a.ctrlKey||a.metaKey||a.altKey||a.shiftKey))){var s=void 0===n.disableOn?t.magnificPopup.defaults.disableOn:n.disableOn;if(s)if(t.isFunction(s)){if(!s.call(m))return!0;}else if(o.width()<s)return!0;a.type&&(a.preventDefault(),m.isOpen&&a.stopPropagation()),n.el=t(a.mfpEl),n.delegate&&(n.items=e.find(n.delegate)),m.open(n)}},updateStatus:function(e,t){if(m.preloader){g!==e&&m.container.removeClass("mfp-s-"+g),t||"loading"!==e||(t=m.st.tLoading);var a={status:e,text:t};c("UpdateStatus",a),e=a.status,t=a.text,m.preloader.html(t),m.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),m.container.addClass("mfp-s-"+e),g=e}},_checkIfClose:function(e){if(!t(e).hasClass("mfp-prevent-close")){var a=m.st.closeOnContentClick,n=m.st.closeOnBgClick;if(a&&n)return!0;if(!m.content||t(e).hasClass("mfp-close")||m.preloader&&e===m.preloader[0])return!0;if(e!==m.content[0]&&!t.contains(m.content[0],e)){if(n&&t.contains(document,e))return!0;}else if(a)return!0;return!1}},_addClassToMFP:function(e){m.bgOverlay.addClass(e),m.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),m.wrap.removeClass(e)},_hasScrollBar:function(e){return(m.isIE7?h.height():document.body.scrollHeight)>(e||o.height())},_setFocus:function(){(m.st.focus?m.content.find(m.st.focus).eq(0):m.wrap).focus()},_onFocusIn:function(a){if(a.target!==m.wrap[0]&&!t.contains(m.wrap[0],a.target))return m._setFocus(),!1},_parseMarkup:function(e,a,n){var i;n.data&&(a=t.extend(n.data,a)),c("MarkupParse",[e,a,n]),t.each(a,function(a,n){if(void 0===n||!1===n)return!0;if(i=a.split("_"),1<i.length){var s=e.find(".mfp-"+i[0]);if(0<s.length){var o=i[1];"replaceWith"===o?s[0]!==n[0]&&s.replaceWith(n):"img"===o?s.is("img")?s.attr("src",n):s.replaceWith(t("<img>").attr("src",n).attr("class",s.attr("class"))):s.attr(i[1],n)}}else e.find(".mfp-"+a).html(n)})},_getScrollbarSize:function(){if(m.scrollbarSize===void 0){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),m.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return m.scrollbarSize}},t.magnificPopup={instance:null,proto:a.prototype,modules:[],open:function(e,a){return p(),e=e?t.extend(!0,{},e):{},e.isObj=!0,e.index=a||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,a){a.options&&(t.magnificPopup.defaults[e]=a.options),t.extend(this.proto,a.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:"<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>",tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},t.fn.magnificPopup=function(e){p();var a=t(this);if(!("string"==typeof e))e=t.extend(!0,{},e),n?a.data("magnificPopup",e):a[0].magnificPopup=e,m.addGroup(a,e);else if("open"===e){var i=n?a.data("magnificPopup"):a[0].magnificPopup,s=parseInt(arguments[1],10)||0,o;i.items?o=i.items[s]:(o=a,i.delegate&&(o=o.find(i.delegate)),o=o.eq(s)),m._openClick({mfpEl:o},a,i)}else m.isOpen&&m[e].apply(m,Array.prototype.slice.call(arguments,1));return a};var A=function(){k&&(w.after(k.addClass(x)).detach(),k=null)},x,w,k;t.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){m.types.push("inline"),d("Close.inline",function(){A()})},getInline:function(e,a){if(A(),e.src){var n=m.st.inline,i=t(e.src);if(i.length){var s=i[0].parentNode;s&&s.tagName&&(!w&&(x=n.hiddenClass,w=r(x),x="mfp-"+x),k=i.after(w).detach().removeClass(x)),m.updateStatus("ready")}else m.updateStatus("error",n.tNotFound),i=t("<div>");return e.inlineElement=i,i}return m.updateStatus("ready"),m._parseMarkup(a,{},e),a}}});var S=function(){C&&t(document.body).removeClass(C)},M=function(){S(),m.req&&m.req.abort()},C;t.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:"<a href=\"%url%\">The content</a> could not be loaded."},proto:{initAjax:function(){m.types.push("ajax"),C=m.st.ajax.cursor,d("Close.ajax",M),d("BeforeChange.ajax",M)},getAjax:function(e){C&&t(document.body).addClass(C),m.updateStatus("loading");var a=t.extend({url:e.src,success:function(a,n,i){var s={data:a,xhr:i};c("ParseAjax",s),m.appendContent(t(s.data),"ajax"),e.finished=!0,S(),m._setFocus(),setTimeout(function(){m.wrap.addClass("mfp-ready")},16),m.updateStatus("ready"),c("AjaxContentAdded")},error:function(){S(),e.finished=e.loadError=!0,m.updateStatus("error",m.st.ajax.tError.replace("%url%",e.src))}},m.st.ajax.settings);return m.req=t.ajax(a),""}}});var L=function(e){if(e.data&&e.data.title!==void 0)return e.data.title;var a=m.st.image.titleSrc;if(a){if(t.isFunction(a))return a.call(m,e);if(e.el)return e.el.attr(a)||""}return""},T;t.magnificPopup.registerModule("image",{options:{markup:"<div class=\"mfp-figure\"><div class=\"mfp-close\"></div><figure><div class=\"mfp-img\"></div><figcaption><div class=\"mfp-bottom-bar\"><div class=\"mfp-title\"></div><div class=\"mfp-counter\"></div></div></figcaption></figure></div>",cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:"<a href=\"%url%\">The image</a> could not be loaded."},proto:{initImage:function(){var e=m.st.image;m.types.push("image"),d("Open.image",function(){"image"===m.currItem.type&&e.cursor&&t(document.body).addClass(e.cursor)}),d("Close.image",function(){e.cursor&&t(document.body).removeClass(e.cursor),o.off("resize.mfp")}),d("Resize.image",m.resizeImage),m.isLowIE&&d("AfterChange",m.resizeImage)},resizeImage:function(){var e=m.currItem;if(e&&e.img&&m.st.image.verticalFit){var t=0;m.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",m.wH-t)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,T&&clearInterval(T),e.isCheckingImgSize=!1,c("ImageHasSize",e),e.imgHidden&&(m.content&&m.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var t=0,a=e.img[0],n=function(i){T&&clearInterval(T),T=setInterval(function(){return 0<a.naturalWidth?void m._onImageHasSize(e):void(200<t&&clearInterval(T),t++,3===t?n(10):40===t?n(50):100==t&&n(500))},i)};n(1)},getImage:function(e,a){var n=0,i=function(){e&&(e.img[0].complete?(e.img.off(".mfploader"),e===m.currItem&&(m._onImageHasSize(e),m.updateStatus("ready")),e.hasSize=!0,e.loaded=!0,c("ImageLoadComplete")):(n++,200>n?setTimeout(i,100):s()))},s=function(){e&&(e.img.off(".mfploader"),e===m.currItem&&(m._onImageHasSize(e),m.updateStatus("error",o.tError.replace("%url%",e.src))),e.hasSize=!0,e.loaded=!0,e.loadError=!0)},o=m.st.image,d=a.find(".mfp-img");if(d.length){var r=document.createElement("img");r.className="mfp-img",e.el&&e.el.find("img").length&&(r.alt=e.el.find("img").attr("alt")),e.img=t(r).on("load.mfploader",i).on("error.mfploader",s),r.src=e.src,d.is("img")&&(e.img=e.img.clone()),r=e.img[0],0<r.naturalWidth?e.hasSize=!0:!r.width&&(e.hasSize=!1)}return(m._parseMarkup(a,{title:L(e),img_replaceWith:e.img},e),m.resizeImage(),e.hasSize)?(T&&clearInterval(T),e.loadError?(a.addClass("mfp-loading"),m.updateStatus("error",o.tError.replace("%url%",e.src))):(a.removeClass("mfp-loading"),m.updateStatus("ready")),a):(m.updateStatus("loading"),e.loading=!0,e.hasSize||(e.imgHidden=!0,a.addClass("mfp-loading"),m.findImageSize(e)),a)}}});var E=function(){return void 0===D&&(D=void 0!==document.createElement("p").style.MozTransform),D},D;t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e=m.st.zoom,t;if(e.enabled&&m.supportsTransition){var a=e.duration,n=function(t){var a=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+e.duration/1e3+"s "+e.easing,i={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"};return i["-webkit-transition"]=i["-moz-transition"]=i["-o-transition"]=i.transition=n,a.css(i),a},i=function(){m.content.css("visibility","visible")},s,o;d("BuildControls.zoom",function(){if(m._allowZoom()){if(clearTimeout(s),m.content.css("visibility","hidden"),t=m._getItemToZoom(),!t)return void i();o=n(t),o.css(m._getOffset()),m.wrap.append(o),s=setTimeout(function(){o.css(m._getOffset(!0)),s=setTimeout(function(){i(),setTimeout(function(){o.remove(),t=o=null,c("ZoomAnimationEnded")},16)},a)},16)}}),d("BeforeClose.zoom",function(){if(m._allowZoom()){if(clearTimeout(s),m.st.removalDelay=a,!t){if(t=m._getItemToZoom(),!t)return;o=n(t)}o.css(m._getOffset(!0)),m.wrap.append(o),m.content.css("visibility","hidden"),setTimeout(function(){o.css(m._getOffset())},16)}}),d("Close.zoom",function(){m._allowZoom()&&(i(),o&&o.remove(),t=null)})}},_allowZoom:function(){return"image"===m.currItem.type},_getItemToZoom:function(){return!!m.currItem.hasSize&&m.currItem.img},_getOffset:function(e){var a=e?m.currItem.img:m.st.zoom.opener(m.currItem.el||m.currItem);var i=a.offset(),s=parseInt(a.css("padding-top"),10),o=parseInt(a.css("padding-bottom"),10);i.top-=t(window).scrollTop()-s;var d={width:a.width(),height:(n?a.innerHeight():a[0].offsetHeight)-o-s};return E()?d["-moz-transform"]=d.transform="translate("+i.left+"px,"+i.top+"px)":(d.left=i.left,d.top=i.top),d}}});var Y=function(e){if(m.currTemplate.iframe){var t=m.currTemplate.iframe.find("iframe");t.length&&(!e&&(t[0].src="//about:blank"),m.isIE8&&t.css("display",e?"block":"none"))}};t.magnificPopup.registerModule("iframe",{options:{markup:"<div class=\"mfp-iframe-scaler\"><div class=\"mfp-close\"></div><iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe></div>",srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){m.types.push("iframe"),d("BeforeChange",function(t,e,a){e!==a&&(e==="iframe"?Y():a==="iframe"&&Y(!0))}),d("Close.iframe",function(){Y()})},getIframe:function(e,a){var n=e.src,i=m.st.iframe;t.each(i.patterns,function(){if(-1<n.indexOf(this.index))return this.id&&("string"==typeof this.id?n=n.substr(n.lastIndexOf(this.id)+this.id.length,n.length):n=this.id.call(this,n)),n=this.src.replace("%id%",n),!1});var s={};return i.srcAction&&(s[i.srcAction]=n),m._parseMarkup(a,s,e),m.updateStatus("ready"),a}}});var I=function(e){var t=m.items.length;if(e>t-1)return e-t;return 0>e?t+e:e},j=function(e,t,a){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,a)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:"<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>",preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var a=m.st.gallery;return m.direction=!0,!!(a&&a.enabled)&&void(v+=" mfp-gallery",d("Open.mfp-gallery",function(){a.navigateByImgClick&&m.wrap.on("click.mfp-gallery",".mfp-img",function(){if(1<m.items.length)return m.next(),!1}),h.on("keydown.mfp-gallery",function(t){37===t.keyCode?m.prev():39===t.keyCode&&m.next()})}),d("UpdateStatus.mfp-gallery",function(t,e){e.text&&(e.text=j(e.text,m.currItem.index,m.items.length))}),d("MarkupParse.mfp-gallery",function(t,e,n,i){var s=m.items.length;n.counter=1<s?j(a.tCounter,i.index,s):""}),d("BuildControls.mfp-gallery",function(){if(1<m.items.length&&a.arrows&&!m.arrowLeft){var e=a.arrowMarkup,n=m.arrowLeft=t(e.replace(/%title%/gi,a.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),i=m.arrowRight=t(e.replace(/%title%/gi,a.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close");n.click(function(){m.prev()}),i.click(function(){m.next()}),m.container.append(n.add(i))}}),d("Change.mfp-gallery",function(){m._preloadTimeout&&clearTimeout(m._preloadTimeout),m._preloadTimeout=setTimeout(function(){m.preloadNearbyImages(),m._preloadTimeout=null},16)}),d("Close.mfp-gallery",function(){h.off(".mfp-gallery"),m.wrap.off("click.mfp-gallery"),m.arrowRight=m.arrowLeft=null}))},next:function(){m.direction=!0,m.index=I(m.index+1),m.updateItemHTML()},prev:function(){m.direction=!1,m.index=I(m.index-1),m.updateItemHTML()},goTo:function(e){m.direction=e>=m.index,m.index=e,m.updateItemHTML()},preloadNearbyImages:function(){var t=m.st.gallery.preload,a=e(t[0],m.items.length),n=e(t[1],m.items.length),s;for(s=1;s<=(m.direction?n:a);s++)m._preloadItem(m.index+s);for(s=1;s<=(m.direction?a:n);s++)m._preloadItem(m.index-s)},_preloadItem:function(e){if(e=I(e),!m.items[e].preloaded){var a=m.items[e];a.parsed||(a=m.parseEl(e)),c("LazyLoad",a),"image"===a.type&&(a.img=t("<img class=\"mfp-img\" />").on("load.mfploader",function(){a.hasSize=!0}).on("error.mfploader",function(){a.hasSize=!0,a.loadError=!0,c("LazyLoadError",a)}).attr("src",a.src)),a.preloaded=!0}}}});t.magnificPopup.registerModule("retina",{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var t=m.st.retina,a=t.ratio;a=isNaN(a)?a():a,1<a&&(d("ImageHasSize.retina",function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/a,width:"100%"})}),d("ElementParse.retina",function(n,e){e.src=t.replaceSrc(e,a)}))}}}}),p()}),!function(a,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define("i18next",n):(a="undefined"==typeof globalThis?a||self:globalThis).i18next=n()}(this,function(){"use strict";function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function D(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function Y(t){for(var e=1;e<arguments.length;e++){var a=null==arguments[e]?{}:Object(arguments[e]),i=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),i.forEach(function(e){D(t,e,a[e])})}return t}function I(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function i(a,e){for(var t=0,s;t<e.length;t++)s=e[t],s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}function n(a,e,t){return e&&i(a.prototype,e),t&&i(a,t),a}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(e,t){return t&&("object"===M(t)||"function"==typeof t)?t:H(e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(a,e){return(o=Object.setPrototypeOf||function(a,e){return a.__proto__=e,a})(a,e)}function r(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),e&&o(a,e)}function B(){var a=new Promise(function(e,t){s=e,o=t}),s,o;return a.resolve=s,a.reject=o,a}function h(t){return null==t?"":""+t}function d(s,d,t){function n(t){return t&&-1<t.indexOf("###")?t.replace(/###/g,"."):t}function i(){return!s||"string"==typeof s}for(var o="string"==typeof d?d.split("."):[].concat(d);1<o.length;){if(i())return{};var r=n(o.shift());!s[r]&&t&&(s[r]=new t),s=Object.prototype.hasOwnProperty.call(s,r)?s[r]:{}}return i()?{}:{obj:s,k:n(o.shift())}}function c(a,e,t){var n=d(a,e,Object);n.obj[n.k]=t}function v(a,e){var t=d(a,e),n=t.obj,i=t.k;if(n)return n[i]}function m(a,e,t){var n=v(a,t);return void 0===n?v(e,t):n}function b(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function k(a){return"string"==typeof a?a.replace(/[&<>"'\/]/g,function(a){return t[a]}):a}function w(t){return t.charAt(0).toUpperCase()+t.slice(1)}function N(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&(t.whitelist&&0>t.whitelist.indexOf("cimode")&&(t.whitelist=t.whitelist.concat(["cimode"])),t.supportedLngs=t.whitelist),t.nonExplicitWhitelist&&(t.nonExplicitSupportedLngs=t.nonExplicitWhitelist),t.supportedLngs&&0>t.supportedLngs.indexOf("cimode")&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function A(){}var U={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(a,e){console&&console[a]&&console[a].apply(console,e)}},p=new(function(){function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};I(this,a),this.init(e,t)}return n(a,[{key:"init",value:function(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=a||U,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var a=arguments.length,e=Array(a),t=0;t<a;t++)e[t]=arguments[t];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var a=arguments.length,e=Array(a),t=0;t<a;t++)e[t]=arguments[t];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var a=arguments.length,e=Array(a),t=0;t<a;t++)e[t]=arguments[t];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var a=arguments.length,e=Array(a),t=0;t<a;t++)e[t]=arguments[t];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(a,e,t,n){return n&&!this.debug?null:("string"==typeof a[0]&&(a[0]="".concat(t).concat(this.prefix," ").concat(a[0])),this.logger[e](a))}},{key:"create",value:function(e){return new a(this.logger,Y({},{prefix:"".concat(this.prefix,":").concat(e,":")},this.options))}}]),a}()),g=function(){function t(){I(this,t),this.observers={}}return n(t,[{key:"on",value:function(a,i){var t=this;return a.split(" ").forEach(function(a){t.observers[a]=t.observers[a]||[],t.observers[a].push(i)}),this}},{key:"off",value:function(a,n){this.observers[a]&&(n?this.observers[a]=this.observers[a].filter(function(t){return t!==n}):delete this.observers[a])}},{key:"emit",value:function(a){for(var e=arguments.length,s=Array(1<e?e-1:0),t=1;t<e;t++)s[t-1]=arguments[t];this.observers[a]&&[].concat(this.observers[a]).forEach(function(t){t.apply(void 0,s)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(e){e.apply(e,[a].concat(s))})}}]),t}(),t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},f="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&-1<window.navigator.userAgent.indexOf("MSIE"),x=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"},o;return I(this,i),o=a(this,s(i).call(this)),f&&g.call(H(o)),o.data=t||{},o.options=e,void 0===o.options.keySeparator&&(o.options.keySeparator="."),o}return r(i,g),n(i,[{key:"addNamespaces",value:function(t){0>this.options.ns.indexOf(t)&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(a){var e=this.options.ns.indexOf(a);-1<e&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(a,e,t){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=void 0===n.keySeparator?this.options.keySeparator:n.keySeparator,s=[a,e];return t&&"string"!=typeof t&&(s=s.concat(t)),t&&"string"==typeof t&&(s=s.concat(i?t.split(i):t)),-1<a.indexOf(".")&&(s=a.split(".")),v(this.data,s)}},{key:"addResource",value:function(s,e,d,n){var l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var p=[s,e];d&&(p=p.concat(o?d.split(o):d)),-1<s.indexOf(".")&&(n=e,e=(p=s.split("."))[1]),this.addNamespaces(e),c(this.data,p,n),l.silent||this.emit("added",s,e,d,n)}},{key:"addResources",value:function(a,e,t){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in t)"string"!=typeof t[i]&&"[object Array]"!==Object.prototype.toString.apply(t[i])||this.addResource(a,e,i,t[i],{silent:!0});n.silent||this.emit("added",a,e,t)}},{key:"addResourceBundle",value:function(n,e,d,l,p){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[n,e];-1<n.indexOf(".")&&(l=d,d=e,e=(a=n.split("."))[1]),this.addNamespaces(e);var m=v(this.data,a)||{};l?function a(e,t,n){for(var i in t)"__proto__"!=i&&"constructor"!==i&&(i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof t[i]||t[i]instanceof String?n&&(e[i]=t[i]):a(e[i],t[i],n):e[i]=t[i]);return e}(m,d,p):m=Y({},m,d),c(this.data,a,m),r.silent||this.emit("added",n,e,d)}},{key:"removeResourceBundle",value:function(a,e){this.hasResourceBundle(a,e)&&delete this.data[a][e],this.removeNamespaces(e),this.emit("removed",a,e)}},{key:"hasResourceBundle",value:function(a,e){return void 0!==this.getResource(a,e)}},{key:"getResourceBundle",value:function(a,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Y({},{},this.getResource(a,e)):this.getResource(a,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"toJSON",value:function(){return this.data}}]),i}(),S={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(a,s,d,n,i){var o=this;return a.forEach(function(t){o.processors[t]&&(s=o.processors[t].process(s,d,n,i))}),s}},L={},O=function(){function u(i){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o,d,c,m;return I(this,u),o=a(this,s(u).call(this)),f&&g.call(H(o)),d=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],c=i,m=H(o),d.forEach(function(t){c[t]&&(m[t]=c[t])}),o.options=e,void 0===o.options.keySeparator&&(o.options.keySeparator="."),o.logger=p.create("translator"),o}return r(u,g),n(u,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},t=this.resolve(a,e);return t&&void 0!==t.res}},{key:"extractFromKey",value:function(s,d){var t=void 0===d.nsSeparator?this.options.nsSeparator:d.nsSeparator;void 0===t&&(t=":");var c=void 0===d.keySeparator?this.options.keySeparator:d.keySeparator,i=d.ns||this.options.defaultNS;if(t&&-1<s.indexOf(t)){var l=s.match(this.interpolator.nestingRegexp);if(l&&0<l.length)return{key:s,namespaces:i};var r=s.split(t);(t!==c||t===c&&-1<this.options.ns.indexOf(r[0]))&&(i=r.shift()),s=r.join(c)}return"string"==typeof i&&(i=[i]),{key:s,namespaces:i}}},{key:"translate",value:function(e,o,n){var r=this;if("object"!==M(o)&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),o||(o={}),null==e)return"";Array.isArray(e)||(e=[e+""]);var a=void 0===o.keySeparator?this.options.keySeparator:o.keySeparator,s=this.extractFromKey(e[e.length-1],o),H=s.key,l=s.namespaces,c=l[l.length-1],p=o.lng||this.language,g=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&"cimode"===p.toLowerCase()){if(g){var f=o.nsSeparator||this.options.nsSeparator;return c+f+H}return H}var h=this.resolve(e,o),d=h&&h.res,B=h&&h.usedKey||H,q=h&&h.exactUsedKey||H,m=Object.prototype.toString.apply(d),b=void 0===o.joinArrays?this.options.joinArrays:o.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject;if(k&&d&&"string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(m)&&("string"!=typeof b||"[object Array]"!==m)){if(!o.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(B,d,o):"key '".concat(H," (").concat(this.language,")' returned an object instead of string.");if(a){var x="[object Array]"===m,w=x?[]:{},S=x?q:B;for(var L in d)if(Object.prototype.hasOwnProperty.call(d,L)){var O="".concat(S).concat(a).concat(L);w[L]=this.translate(O,Y({},o,{joinArrays:!1,ns:l})),w[L]===O&&(w[L]=d[L])}d=w}}else if(k&&"string"==typeof b&&"[object Array]"===m)(d=d.join(b))&&(d=this.extendTranslation(d,e,o,n));else{var R=!1,W=!1,z=void 0!==o.count&&"string"!=typeof o.count,j=u.hasDefaultValue(o),E=z?this.pluralResolver.getSuffix(p,o.count):"",P=o["defaultValue".concat(E)]||o.defaultValue;!this.isValidLookup(d)&&j&&(R=!0,d=P),this.isValidLookup(d)||(W=!0,d=H);var F=j&&P!==d&&this.options.updateMissing;if(W||R||F){if(this.logger.log(F?"updateKey":"missingKey",p,c,H,F?P:d),a){var V=this.resolve(H,Y({},o,{keySeparator:!1}));V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var T=[],G=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if("fallback"===this.options.saveMissingTo&&G&&G[0])for(var U=0;U<G.length;U++)T.push(G[U]);else"all"===this.options.saveMissingTo?T=this.languageUtils.toResolveHierarchy(o.lng||this.language):T.push(o.lng||this.language);var Q=function(a,e,t){r.options.missingKeyHandler?r.options.missingKeyHandler(a,c,e,F?t:d,F,o):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(a,c,e,F?t:d,F,o),r.emit("missingKey",a,c,e,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&z?T.forEach(function(a){r.pluralResolver.getSuffixes(a).forEach(function(e){Q([a],H+e,o["defaultValue".concat(e)]||P)})}):Q(T,H,P))}d=this.extendTranslation(d,e,o,h,n),W&&d===H&&this.options.appendNamespaceToMissingKey&&(d="".concat(c,":").concat(H)),W&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(d))}return d}},{key:"extendTranslation",value:function(n,d,t,i,m){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)n=this.i18nFormat.parse(n,t,i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!t.skipInterpolation){t.interpolation&&this.interpolator.init(Y({},t,{interpolation:Y({},this.options.interpolation,t.interpolation)}));var a=t.interpolation&&t.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,o;if(a){var u=n.match(this.interpolator.nestingRegexp);o=u&&u.length}var l=t.replace&&"string"!=typeof t.replace?t.replace:t;if(this.options.interpolation.defaultVariables&&(l=Y({},this.options.interpolation.defaultVariables,l)),n=this.interpolator.interpolate(n,l,t.lng||this.language,t),a){var h=n.match(this.interpolator.nestingRegexp);o<(h&&h.length)&&(t.nest=!1)}!1!==t.nest&&(n=this.interpolator.nest(n,function(){for(var a=arguments.length,e=Array(a),n=0;n<a;n++)e[n]=arguments[n];return m&&m[0]===e[0]&&!t.context?(r.logger.warn("It seems you are nesting recursively key: ".concat(e[0]," in key: ").concat(d[0])),null):r.translate.apply(r,e.concat([d]))},t)),t.interpolation&&this.interpolator.reset()}var p=t.postProcess||this.options.postProcess,g="string"==typeof p?[p]:p;return null!=n&&g&&g.length&&!1!==t.applyPostProcessor&&(n=S.handle(g,n,d,this.options&&this.options.postProcessPassResolved?Y({i18nResolved:i},t):t,this)),n}},{key:"resolve",value:function(d){var m=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s,h,v,b,c;return"string"==typeof d&&(d=[d]),d.forEach(function(t){if(!m.isValidLookup(s)){var e=m.extractFromKey(t,a),i=e.key;h=i;var n=e.namespaces;m.options.fallbackNS&&(n=n.concat(m.options.fallbackNS));var o=void 0!==a.count&&"string"!=typeof a.count,d=void 0!==a.context&&"string"==typeof a.context&&""!==a.context,r=a.lngs?a.lngs:m.languageUtils.toResolveHierarchy(a.lng||m.language,a.fallbackLng);n.forEach(function(t){m.isValidLookup(s)||(c=t,!L["".concat(r[0],"-").concat(t)]&&m.utils&&m.utils.hasLoadedNamespace&&!m.utils.hasLoadedNamespace(c)&&(L["".concat(r[0],"-").concat(t)]=!0,m.logger.warn("key \"".concat(h,"\" for languages \"").concat(r.join(", "),"\" won't get resolved as namespace \"").concat(c,"\" was not yet loaded"),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),r.forEach(function(e){if(!m.isValidLookup(s)){b=e;var n=i,l=[n],p,g;for(m.i18nFormat&&m.i18nFormat.addLookupKeys?m.i18nFormat.addLookupKeys(l,i,e,t,a):(o&&(p=m.pluralResolver.getSuffix(e,a.count)),o&&d&&l.push(n+p),d&&l.push(n+="".concat(m.options.contextSeparator).concat(a.context)),o&&l.push(n+=p));g=l.pop();)m.isValidLookup(s)||(v=g,s=m.getResource(e,t,g,a))}}))})}}),{res:s,usedKey:h,exactUsedKey:v,usedLng:b,usedNS:c}}},{key:"isValidLookup",value:function(t){return void 0!==t&&(this.options.returnNull||null!==t)&&(this.options.returnEmptyString||""!==t)}},{key:"getResource",value:function(a,e,t){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(a,e,t,n):this.resourceStore.getResource(a,e,t,n)}}],[{key:"hasDefaultValue",value:function(a){for(var e in a)if(Object.prototype.hasOwnProperty.call(a,e)&&"defaultValue"===e.substring(0,12)&&void 0!==a[e])return!0;return!1}}]),u}(),C=function(){function a(e){I(this,a),this.options=e,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=p.create("languageUtils")}return n(a,[{key:"getScriptPartFromCode",value:function(a){if(!a||0>a.indexOf("-"))return null;var e=a.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(a){if(!a||0>a.indexOf("-"))return a;var e=a.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(a){if("string"==typeof a&&-1<a.indexOf("-")){var e=["hans","hant","latn","cyrl","cans","mong","arab"],t=a.split("-");return this.options.lowerCaseLng?t=t.map(function(t){return t.toLowerCase()}):2===t.length?(t[0]=t[0].toLowerCase(),t[1]=t[1].toUpperCase(),-1<e.indexOf(t[1].toLowerCase())&&(t[1]=w(t[1].toLowerCase()))):3===t.length&&(t[0]=t[0].toLowerCase(),2===t[1].length&&(t[1]=t[1].toUpperCase()),"sgn"!==t[0]&&2===t[2].length&&(t[2]=t[2].toUpperCase()),-1<e.indexOf(t[1].toLowerCase())&&(t[1]=w(t[1].toLowerCase())),-1<e.indexOf(t[2].toLowerCase())&&(t[2]=w(t[2].toLowerCase()))),t.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?a.toLowerCase():a}},{key:"isWhitelisted",value:function(t){return this.logger.deprecate("languageUtils.isWhitelisted","function \"isWhitelisted\" will be renamed to \"isSupportedCode\" in the next major - please make sure to rename it's usage asap."),this.isSupportedCode(t)}},{key:"isSupportedCode",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||-1<this.supportedLngs.indexOf(t)}},{key:"getBestMatchFromCodes",value:function(a){var s=this,n;return a?(a.forEach(function(t){if(!n){var e=s.formatLanguageCode(t);s.options.supportedLngs&&!s.isSupportedCode(e)||(n=e)}}),!n&&this.options.supportedLngs&&a.forEach(function(t){if(!n){var a=s.getLanguagePartFromCode(t);if(s.isSupportedCode(a))return n=a;n=s.options.supportedLngs.find(function(t){if(0===t.indexOf(a))return t})}}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n):null}},{key:"getFallbackCodes",value:function(a,i){if(!a)return[];if("function"==typeof a&&(a=a(i)),"string"==typeof a&&(a=[a]),"[object Array]"===Object.prototype.toString.apply(a))return a;if(!i)return a.default||[];var t=a[i];return t||(t=a[this.getScriptPartFromCode(i)]),t||(t=a[this.formatLanguageCode(i)]),t||(t=a[this.getLanguagePartFromCode(i)]),t||(t=a.default),t||[]}},{key:"toResolveHierarchy",value:function(a,e){var t=this,n=this.getFallbackCodes(e||this.options.fallbackLng||[],a),i=[],s=function(a){a&&(t.isSupportedCode(a)?i.push(a):t.logger.warn("rejecting language code not found in supportedLngs: ".concat(a)))};return"string"==typeof a&&-1<a.indexOf("-")?("languageOnly"!==this.options.load&&s(this.formatLanguageCode(a)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&s(this.getScriptPartFromCode(a)),"currentOnly"!==this.options.load&&s(this.getLanguagePartFromCode(a))):"string"==typeof a&&s(this.formatLanguageCode(a)),n.forEach(function(a){0>i.indexOf(a)&&s(t.formatLanguageCode(a))}),i}}]),a}(),j=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],E={1:function(t){return+(1<t)},2:function(t){return+(1!=t)},3:function(){return 0},4:function(t){return+(1==t%10&&11!=t%100?0:2<=t%10&&4>=t%10&&(10>t%100||20<=t%100)?1:2)},5:function(t){return+(0==t?0:1==t?1:2==t?2:3<=t%100&&10>=t%100?3:11<=t%100?4:5)},6:function(t){return+(1==t?0:2<=t&&4>=t?1:2)},7:function(t){return+(1==t?0:2<=t%10&&4>=t%10&&(10>t%100||20<=t%100)?1:2)},8:function(t){return+(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return+(2<=t)},10:function(t){return+(1==t?0:2==t?1:7>t?2:11>t?3:4)},11:function(t){return+(1==t||11==t?0:2==t||12==t?1:2<t&&20>t?2:3)},12:function(t){return+(1!=t%10||11==t%100)},13:function(t){return+(0!==t)},14:function(t){return+(1==t?0:2==t?1:3==t?2:3)},15:function(t){return+(1==t%10&&11!=t%100?0:2<=t%10&&(10>t%100||20<=t%100)?1:2)},16:function(t){return+(1==t%10&&11!=t%100?0:0===t?2:1)},17:function(t){return+(1==t||1==t%10&&11!=t%100?0:1)},18:function(t){return+(0==t?0:1==t?1:2)},19:function(t){return+(1==t?0:0==t||1<t%100&&11>t%100?1:10<t%100&&20>t%100?2:3)},20:function(t){return+(1==t?0:0==t||0<t%100&&20>t%100?1:2)},21:function(t){return+(1==t%100?1:2==t%100?2:3==t%100||4==t%100?3:0)},22:function(t){return+(1==t?0:2==t?1:(0>t||10<t)&&0==t%10?2:3)}},R=function(){function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i;I(this,a),this.languageUtils=e,this.options=t,this.logger=p.create("pluralResolver"),this.rules=(i={},j.forEach(function(a){a.lngs.forEach(function(e){i[e]={numbers:a.nr,plurals:E[a.fc]}})}),i)}return n(a,[{key:"addRule",value:function(a,e){this.rules[a]=e}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(a){var e=this.getRule(a);return e&&1<e.numbers.length}},{key:"getPluralFormsOfKey",value:function(a,n){return this.getSuffixes(a).map(function(t){return n+t})}},{key:"getSuffixes",value:function(a){var e=this,t=this.getRule(a);return t?t.numbers.map(function(t){return e.getSuffix(a,t)}):[]}},{key:"getSuffix",value:function(s,e){var t=this,n=this.getRule(s);if(n){var i=n.noAbs?n.plurals(e):n.plurals(Math.abs(e)),o=n.numbers[i];this.options.simplifyPluralSuffix&&2===n.numbers.length&&1===n.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var d=function(){return t.options.prepend&&o.toString()?t.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):d():"v2"===this.options.compatibilityJSON?d():this.options.simplifyPluralSuffix&&2===n.numbers.length&&1===n.numbers[0]?d():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: ".concat(s)),""}}]),a}(),P=function(){function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};I(this,a),this.logger=p.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return n(a,[{key:"init",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a.interpolation||(a.interpolation={escapeValue:!0});var e=a.interpolation;this.escape=void 0===e.escape?k:e.escape,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?b(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?b(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?b(e.nestingPrefix):e.nestingPrefixEscaped||b("$t("),this.nestingSuffix=e.nestingSuffix?b(e.nestingSuffix):e.nestingSuffixEscaped||b(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var a="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(a,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var t="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(t,"g")}},{key:"interpolate",value:function(d,f,t,v){function n(t){return t.replace(/\$/g,"$$$$")}var i=this,s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=function(n){if(0>n.indexOf(i.formatSeparator)){var e=m(f,s,n);return i.alwaysFormat?i.format(e,void 0,t):e}var o=n.split(i.formatSeparator),d=o.shift().trim(),a=o.join(i.formatSeparator).trim();return i.format(m(f,s,d),a,t,v)},c,u,b;this.resetRegExp();var A=v&&v.missingInterpolationHandler||this.options.missingInterpolationHandler,p=v&&v.interpolation&&v.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(t){return n(t)}},{regex:this.regexp,safeValue:function(t){return i.escapeValue?n(i.escape(t)):n(t)}}].forEach(function(e){for(b=0;c=e.regex.exec(d);){if(!(void 0===(u=l(c[1].trim()))))"string"==typeof u||i.useRawValueToEscape||(u=h(u));else if("function"==typeof A){var t=A(d,c,v);u="string"==typeof t?t:""}else{if(p){u=c[0];continue}i.logger.warn("missed to pass in variable ".concat(c[1]," for interpolating ").concat(d)),u=""}if(d=d.replace(c[0],e.safeValue(u)),e.regex.lastIndex=0,++b>=i.maxReplaces)break}}),d}},{key:"nest",value:function(n,d){function t(n,s){var d=this.nestingOptionsSeparator;if(0>n.indexOf(d))return n;var t=n.split(new RegExp("".concat(d,"[ ]*{"))),i="{".concat(t[1]);n=t[0],i=(i=this.interpolate(i,a)).replace(/'/g,"\"");try{a=JSON.parse(i),s&&(a=Y({},s,a))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(n),e),"".concat(n).concat(d).concat(i)}return delete a.defaultValue,n}var u=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=Y({},r),m,g;for(a.applyPostProcessor=!1,delete a.defaultValue;m=this.nestingRegexp.exec(n);){var f=[],v=!1;if(m[0].includes(this.formatSeparator)&&!/{.*}/.test(m[1])){var b=m[1].split(this.formatSeparator).map(function(t){return t.trim()});m[1]=b.shift(),f=b,v=!0}if((g=d(t.call(this,m[1].trim(),a),a))&&m[0]===n&&"string"!=typeof g)return g;"string"!=typeof g&&(g=h(g)),g||(this.logger.warn("missed to resolve ".concat(m[1]," for nesting ").concat(n)),g=""),v&&(g=f.reduce(function(a,e){return u.format(a,e,r.lng,r)},g.trim())),n=n.replace(m[0],g),this.regexp.lastIndex=0}return n}}]),a}(),F=function(){function i(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},d;return I(this,i),d=a(this,s(i).call(this)),f&&g.call(H(d)),d.backend=t,d.store=e,d.services=n,d.languageUtils=n.languageUtils,d.options=o,d.logger=p.create("backendConnector"),d.state={},d.queue=[],d.backend&&d.backend.init&&d.backend.init(n,o.backend,o),d}return r(i,g),n(i,[{key:"queueLoad",value:function(d,c,l,e){var n=this,i=[],o=[],t=[],a=[];return d.forEach(function(d){var e=!0;c.forEach(function(r){var t="".concat(d,"|").concat(r);!l.reload&&n.store.hasResourceBundle(d,r)?n.state[t]=2:0>n.state[t]||(1===n.state[t]?0>o.indexOf(t)&&o.push(t):(n.state[t]=1,e=!1,0>o.indexOf(t)&&o.push(t),0>i.indexOf(t)&&i.push(t),0>a.indexOf(r)&&a.push(r)))}),e||t.push(d)}),(i.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:e}),{toLoad:i,pending:o,toLoadLanguages:t,toLoadNamespaces:a}}},{key:"loaded",value:function(m,e,t){var n=m.split("|"),g=n[0],o=n[1];e&&this.emit("failedLoading",g,o,e),t&&this.store.addResourceBundle(g,o,t),this.state[m]=e?-1:2;var i={};this.queue.forEach(function(t){var a,n,r,u,h,f;a=t.loaded,n=o,u=d(a,[g],Object),h=u.obj,f=u.k,h[f]=h[f]||[],r&&(h[f]=h[f].concat(n)),r||h[f].push(n),function(a,e){for(var t=a.indexOf(e);-1!==t;)a.splice(t,1),t=a.indexOf(e)}(t.pending,m),e&&t.errors.push(e),0!==t.pending.length||t.done||(Object.keys(t.loaded).forEach(function(a){i[a]||(i[a]=[]),t.loaded[a].length&&t.loaded[a].forEach(function(e){0>i[a].indexOf(e)&&i[a].push(e)})}),t.done=!0,t.errors.length?t.callback(t.errors):t.callback())}),this.emit("loaded",i),this.queue=this.queue.filter(function(t){return!t.done})}},{key:"read",value:function(s,e,t){var n=this,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:350,d=5<arguments.length?arguments[5]:void 0;return s.length?this.backend[t](s,e,function(a,r){a&&r&&5>i?setTimeout(function(){n.read.call(n,s,e,t,i+1,2*o,d)},o):d(a,r)}):d(null,{})}},{key:"prepareLoading",value:function(a,s){var d=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=3<arguments.length?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof a&&(a=this.languageUtils.toResolveHierarchy(a)),"string"==typeof s&&(s=[s]);var o=this.queueLoad(a,s,n,i);return o.toLoad.length?void o.toLoad.forEach(function(t){d.loadOne(t)}):(o.pending.length||i(),null)}},{key:"load",value:function(a,e,t){this.prepareLoading(a,e,{},t)}},{key:"reload",value:function(a,e,t){this.prepareLoading(a,e,{reload:!0},t)}},{key:"loadOne",value:function(s){var e=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",a=s.split("|"),n=a[0],o=a[1];this.read(n,o,"read",void 0,void 0,function(d,i){d&&e.logger.warn("".concat(t,"loading namespace ").concat(o," for language ").concat(n," failed"),d),!d&&i&&e.logger.log("".concat(t,"loaded namespace ").concat(o," for language ").concat(n),i),e.loaded(s,d,i)})}},{key:"saveMissing",value:function(n,e,t,i,s){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn("did not save key \"".concat(t,"\" as the namespace \"").concat(e,"\" was not yet loaded"),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=t&&""!==t&&(this.backend&&this.backend.create&&this.backend.create(n,e,t,i,null,Y({},o,{isUpdate:s})),n&&n[0]&&this.store.addResource(n[0],e,t,i))}}]),i}();return new(function(){function d(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n;if(I(this,d),n=a(this,s(d).call(this)),f&&g.call(H(n)),n.options=N(i),n.services={},n.logger=p,n.modules={external:[]},t&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,t),a(n,H(n));setTimeout(function(){n.init(i,t)},0)}return n}return r(d,g),n(d,[{key:"init",value:function(){function e(t){return t?"function"==typeof t?new t:t:null}var d=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0;if("function"==typeof t&&(r=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist","option \"whitelist\" will be renamed to \"supportedLngs\" in the next major - please make sure to rename this option asap."),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist","options \"nonExplicitWhitelist\" will be renamed to \"nonExplicitSupportedLngs\" in the next major - please make sure to rename this option asap."),this.options=Y({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===M(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===M(e[2])||"object"===M(e[3])){var a=e[3]||e[2];Object.keys(a).forEach(function(n){t[n]=a[n]})}return t},interpolation:{escapeValue:!0,format:function(t){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}},this.options,N(t)),this.format=this.options.interpolation.format,r||(r=A),!this.options.isClone){this.modules.logger?p.init(e(this.modules.logger),this.options):p.init(null,this.options);var n=new C(this.options);this.store=new x(this.options.resources,this.options);var a=this.services;a.logger=p,a.resourceStore=this.store,a.languageUtils=n,a.pluralResolver=new R(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),a.interpolator=new P(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new F(e(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(t){for(var e=arguments.length,a=Array(1<e?e-1:0),n=1;n<e;n++)a[n-1]=arguments[n];d.emit.apply(d,[t].concat(a))}),this.modules.languageDetector&&(a.languageDetector=e(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=e(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new O(this.services,this.options),this.translator.on("*",function(t){for(var e=arguments.length,a=Array(1<e?e-1:0),n=1;n<e;n++)a[n-1]=arguments[n];d.emit.apply(d,[t].concat(a))}),this.modules.external.forEach(function(t){t.init&&t.init(d)})}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);0<s.length&&"dev"!==s[0]&&(this.options.lng=s[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(t){d[t]=function(){var e;return(e=d.store)[t].apply(e,arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(function(t){d[t]=function(){var e;return(e=d.store)[t].apply(e,arguments),d}});var u=B(),l=function(){var t=function(t,e){d.isInitialized&&d.logger.warn("init: i18next is already initialized. You should call init just once!"),d.isInitialized=!0,d.options.isClone||d.logger.log("initialized",d.options),d.emit("initialized",d.options),u.resolve(e),r(t,e)};return d.languages&&"v1"!==d.options.compatibilityAPI&&!d.isInitialized?t(null,d.t.bind(d)):void d.changeLanguage(d.options.lng,t)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),u}},{key:"loadResources",value:function(a){var s=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:A,t="string"==typeof a?a:this.language;if("function"==typeof a&&(e=a),!this.options.resources||this.options.partialBundledLanguages){if(t&&"cimode"===t.toLowerCase())return e();var i=[],o=function(t){t&&s.services.languageUtils.toResolveHierarchy(t).forEach(function(t){0>i.indexOf(t)&&i.push(t)})};t?o(t):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(t){return o(t)}),this.options.preload&&this.options.preload.forEach(function(t){return o(t)}),this.services.backendConnector.load(i,this.options.ns,e)}else e(null)}},{key:"reloadResources",value:function(a,s,o){var d=B();return a||(a=this.languages),s||(s=this.options.ns),o||(o=A),this.services.backendConnector.reload(a,s,function(t){d.resolve(),o(t)}),d}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&S.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"changeLanguage",value:function(a,s){var t=this;this.isLanguageChangingTo=a;var n=B();this.emit("languageChanging",a);var e=function(a){var i="string"==typeof a?a:t.services.languageUtils.getBestMatchFromCodes(a);i&&(t.language||(t.language=i,t.languages=t.services.languageUtils.toResolveHierarchy(i)),t.translator.language||t.translator.changeLanguage(i),t.services.languageDetector&&t.services.languageDetector.cacheUserLanguage(i)),t.loadResources(i,function(a){!function(a,e){e?(t.language=e,t.languages=t.services.languageUtils.toResolveHierarchy(e),t.translator.changeLanguage(e),t.isLanguageChangingTo=void 0,t.emit("languageChanged",e),t.logger.log("languageChanged",e)):t.isLanguageChangingTo=void 0,n.resolve(function(){return t.t.apply(t,arguments)}),s&&s(a,function(){return t.t.apply(t,arguments)})}(a,i)})};return a||!this.services.languageDetector||this.services.languageDetector.async?!a&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(e):e(a):e(this.services.languageDetector.detect()),n}},{key:"getFixedT",value:function(e,t){var n=this,a=function e(t,i){var o;if("object"!==M(i)){for(var d=arguments.length,s=Array(2<d?d-2:0),r=2;r<d;r++)s[r-2]=arguments[r];o=n.options.overloadTranslationOptionHandler([t,i].concat(s))}else o=Y({},i);return o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns,n.t(t,o)};return"string"==typeof e?a.lng=e:a.lngs=e,a.ns=t,a}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(d){var c=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var t=this.languages[0],n=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===t.toLowerCase())return!0;var o=function(t,e){var a=c.services.backendConnector.state["".concat(t,"|").concat(e)];return-1===a||2===a};if(e.precheck){var a=e.precheck(this,o);if(void 0!==a)return a}return!!this.hasResourceBundle(t,d)||!this.services.backendConnector.backend||o(t,d)&&(!n||o(i,d))}},{key:"loadNamespaces",value:function(a,s){var t=this,n=B();return this.options.ns?("string"==typeof a&&(a=[a]),a.forEach(function(a){0>t.options.ns.indexOf(a)&&t.options.ns.push(a)}),this.loadResources(function(t){n.resolve(),s&&s(t)}),n):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(a,s){var t=B();"string"==typeof a&&(a=[a]);var n=this.options.preload||[],i=a.filter(function(t){return 0>n.indexOf(t)});return i.length?(this.options.preload=n.concat(i),this.loadResources(function(a){t.resolve(),s&&s(a)}),t):(s&&s(),Promise.resolve())}},{key:"dir",value:function(t){return(t||(t=this.languages&&0<this.languages.length?this.languages[0]:this.language),!t)?"rtl":0<=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))?"rtl":"ltr"}},{key:"createInstance",value:function(){return new d(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},1<arguments.length?arguments[1]:void 0)}},{key:"cloneInstance",value:function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:A,i=Y({},this.options,e,{isClone:!0}),s=new d(i);return["store","services","language"].forEach(function(e){s[e]=n[e]}),s.services=Y({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s.translator=new O(s.services,s.options),s.translator.on("*",function(a){for(var e=arguments.length,t=Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];s.emit.apply(s,[a].concat(t))}),s.init(i,t),s.translator.options=s.options,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}}]),d}())}),!function(a,e){define("i18next-post",[],e)}(this,function(){"use strict";function d(){var e=arguments[0],t=d.cache;return t[e]&&t.hasOwnProperty(e)||(t[e]=d.parse(e)),d.format.call(null,t[e],arguments)}function e(e,t,a){return a=(t||[]).slice(0),a.splice(0,0,e),d.apply(null,a)}function m(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function r(a,e){return Array(e+1).join(a)}var t={typeof:"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}},v={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};d.format=function(e,t){var n=1,s=e.length,o="",A=[],h=!0,w="",k,S,M,C,L,T,E;for(S=0;s>S;S++)if(o=m(e[S]),"string"===o)A[A.length]=e[S];else if("array"===o){if(C=e[S],C[2])for(k=t[n],M=0;M<C[2].length;M++){if(!k.hasOwnProperty(C[2][M]))throw new Error(d("[sprintf] property '%s' does not exist",C[2][M]));k=k[C[2][M]]}else k=C[1]?t[C[1]]:t[n++];if("function"==m(k)&&(k=k()),v.not_string.test(C[8])&&v.not_json.test(C[8])&&"number"!=m(k)&&isNaN(k))throw new TypeError(d("[sprintf] expecting number but found %s",m(k)));switch(v.number.test(C[8])&&(h=0<=k),C[8]){case"b":k=k.toString(2);break;case"c":k=String.fromCharCode(k);break;case"d":case"i":k=parseInt(k,10);break;case"j":k=JSON.stringify(k,null,C[6]?parseInt(C[6]):0);break;case"e":k=C[7]?k.toExponential(C[7]):k.toExponential();break;case"f":k=C[7]?parseFloat(k).toFixed(C[7]):parseFloat(k);break;case"g":k=C[7]?parseFloat(k).toPrecision(C[7]):parseFloat(k);break;case"o":k=k.toString(8);break;case"s":k=(k=k+"")&&C[7]?k.substring(0,C[7]):k;break;case"u":k>>>=0;break;case"x":k=k.toString(16);break;case"X":k=k.toString(16).toUpperCase();}v.json.test(C[8])?A[A.length]=k:(v.number.test(C[8])&&(!h||C[3])?(w=h?"+":"-",k=k.toString().replace(v.sign,"")):w="",T=C[4]?"0"===C[4]?"0":C[4].charAt(1):" ",E=C[6]-(w+k).length,L=C[6]&&0<E?r(T,E):"",A[A.length]=C[5]?w+k+L:"0"===T?w+L+k:L+w+k)}return A.join("")},d.cache={},d.parse=function(s){for(var e=s,d=[],c=[],n=0;e;){if(null!==(d=v.text.exec(e)))c[c.length]=d[0];else if(null!==(d=v.modulo.exec(e)))c[c.length]="%";else{if(null===(d=v.placeholder.exec(e)))throw new SyntaxError("[sprintf] unexpected placeholder");if(d[2]){n|=1;var p=[],i=d[2],u=[];if(null===(u=v.key.exec(i)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(p[p.length]=u[1];""!==(i=i.substring(u[0].length));)if(null!==(u=v.key_access.exec(i)))p[p.length]=u[1];else{if(null===(u=v.index_access.exec(i)))throw new SyntaxError("[sprintf] failed to parse named argument key");p[p.length]=u[1]}d[2]=p}else n|=2;if(3===n)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");c[c.length]=d}e=e.substring(d[0].length)}return c};return{name:"sprintf",type:"postProcessor",process:function(a,i,n){return n.sprintf?"[object Array]"===Object.prototype.toString.apply(n.sprintf)?e(a,n.sprintf):"object"===t["typeof"](n.sprintf)?d(a,n.sprintf):a:a},overloadTranslationOptionHandler:function(a){for(var e=[],t=1;t<a.length;t++)e.push(a[t]);return{postProcess:"sprintf",sprintf:e}}}}),function(e,t){if("function"==typeof define&&define.amd)define("strophe",[],t);else{var a=t();e.Strophe=a.Strophe,e.$build=a.$build,e.$iq=a.$iq,e.$msg=a.$msg,e.$pres=a.$pres,e.SHA1=a.SHA1,e.MD5=a.MD5,e.b64_hmac_sha1=a.b64_hmac_sha1,e.b64_sha1=a.b64_sha1,e.str_hmac_sha1=a.str_hmac_sha1,e.str_sha1=a.str_sha1}}(this,function(){var e=Math.abs,t=String.fromCharCode,a=Math.ceil,n=Math.floor,i=Math.pow,s=Math.min,o,d,r;return function(e){function t(e,t){return v.call(e,t)}function a(e,t){var a=t&&t.split("/"),n=h.map,s=n&&n["*"]||{},o,d,r,c,l,p,u,m,g,f,v,b;if(e){for(e=e.split("/"),l=e.length-1,h.nodeIdCompat&&A.test(e[l])&&(e[l]=e[l].replace(A,"")),"."===e[0].charAt(0)&&a&&(b=a.slice(0,a.length-1),e=b.concat(e)),g=0;g<e.length;g++)if(v=e[g],"."===v)e.splice(g,1),g-=1;else if(".."===v)if(0===g||1===g&&".."===e[2]||".."===e[g-1])continue;else 0<g&&(e.splice(g-1,2),g-=2);e=e.join("/")}if((a||s)&&n){for(o=e.split("/"),g=o.length;0<g;g-=1){if(d=o.slice(0,g).join("/"),a)for(f=a.length;0<f;f-=1)if(r=n[a.slice(0,f).join("/")],r&&(r=r[d],r)){c=r,p=g;break}if(c)break;!u&&s&&s[d]&&(u=s[d],m=g)}!c&&u&&(c=u,p=m),c&&(o.splice(0,p,c),e=o.join("/"))}return e}function n(t,a){return function(){var n=b.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),w.apply(e,n.concat([t,a]))}}function i(e){return function(t){return a(t,e)}}function s(e){return function(t){m[e]=t}}function c(a){if(t(g,a)){var n=g[a];delete g[a],f[a]=!0,x.apply(e,n)}if(!t(m,a)&&!t(f,a))throw new Error("No "+a);return m[a]}function l(e){var t=e?e.indexOf("!"):-1,a;return-1<t&&(a=e.substring(0,t),e=e.substring(t+1,e.length)),[a,e]}function p(e){return e?l(e):[]}function u(e){return function(){return h&&h.config&&h.config[e]||{}}}var m={},g={},h={},f={},v=Object.prototype.hasOwnProperty,b=[].slice,A=/\.js$/,x,w,k,S;k=function(e,t){var n=l(e),s=n[0],o=t[1],d;return e=n[1],s&&(s=a(s,o),d=c(s)),s?d&&d.normalize?e=d.normalize(e,i(o)):e=a(e,o):(e=a(e,o),n=l(e),s=n[0],e=n[1],s&&(d=c(s))),{f:s?s+"!"+e:e,n:e,pr:s,p:d}},S={require:function(e){return n(e)},exports:function(t){var a=m[t];return"undefined"==typeof a?m[t]={}:a},module:function(e){return{id:e,uri:"",exports:m[e],config:u(e)}}},x=function(a,o,d,r){var l=[],u=typeof d,h,v,b,A,x,w,M;if(r=r||a,w=p(r),"undefined"==u||"function"===u){for(o=!o.length&&d.length?["require","exports","module"]:o,x=0;x<o.length;x+=1)if(A=k(o[x],w),v=A.f,"require"===v)l[x]=S.require(a);else if("exports"===v)l[x]=S.exports(a),M=!0;else if("module"===v)h=l[x]=S.module(a);else if(t(m,v)||t(g,v)||t(f,v))l[x]=c(v);else if(A.p)A.p.load(A.n,n(r,!0),s(v),{}),l[x]=m[v];else throw new Error(a+" missing "+v);b=d?d.apply(m[a],l):void 0,a&&(h&&h.exports!==e&&h.exports!==m[a]?m[a]=h.exports:(b!==e||!M)&&(m[a]=b))}else a&&(m[a]=d)},o=d=w=function(t,a,n,i,s){if("string"==typeof t)return S[t]?S[t](a):c(k(t,p(a)).f);if(!t.splice){if(h=t,h.deps&&w(h.deps,h.callback),!a)return;a.splice?(t=a,a=n,n=null):t=e}return a=a||function(){},"function"==typeof n&&(n=i,i=s),i?x(e,t,a,n):setTimeout(function(){x(e,t,a,n)},4),w},w.config=function(e){return w(e)},o._defined=m,r=function(e,a,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");a.splice||(n=a,a=[]),t(m,e)||t(g,e)||(g[e]=[e,a,n])},r.amd={jQuery:!0}}(),r("node_modules/almond/almond.js",function(){}),function(e,t){return"function"==typeof r&&r.amd?void r("strophe-polyfill",[],function(){return t(e)}):t(e)}(this,function(e){Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,a=Array.prototype.slice,n=Array.prototype.concat,i=a.call(arguments,1);return function(){return t.apply(e?e:this,n.call(i,a.call(arguments,0)))}}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=+arguments[1]||0;for(i=0>i?a(i):n(i),0>i&&(i+=t);i<t;i++)if(i in this&&this[i]===e)return i;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var a,n;if(null===this)throw new TypeError(" this is null or not defined");var i=Object(this),s=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(a=t),n=0;n<s;){var o;n in i&&(o=i[n],e.call(a,o,n,i)),n++}});e.btoa||(e.btoa=function(e){var t="",a=0,n,s,o,d,r,c,l;do n=e.charCodeAt(a++),s=e.charCodeAt(a++),o=e.charCodeAt(a++),d=n>>2,r=(3&n)<<4|s>>4,c=(15&s)<<2|o>>6,l=63&o,isNaN(s)?(r=(3&n)<<4,c=l=64):isNaN(o)&&(l=64),t=t+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l);while(a<e.length);return t}),e.atob||(e.atob=function(e){var a="",n=0,s,o,d,r,c,l,p;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++)),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++)),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++)),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++)),s=r<<2|c>>4,o=(15&c)<<4|l>>2,d=(3&l)<<6|p,a+=t(s),64!==l&&(a+=t(o)),64!==p&&(a+=t(d));while(n<e.length);return a})}),function(e,t){"function"==typeof r&&r.amd?r("strophe-sha1",[],function(){return t()}):"object"==typeof exports?module.exports=t():e.SHA1=t()}(this,function(){function e(o,p){o[p>>5]|=128<<24-p%32,o[(p+64>>9<<4)+15]=p;var u=Array(80),m=1732584193,g=-271733879,h=-1732584194,f=271733878,v=-1009589776,A,x,w,k,S,M,C,L;for(A=0;A<o.length;A+=16){for(k=m,S=g,M=h,C=f,L=v,x=0;80>x;x++)u[x]=16>x?o[A+x]:l(u[x-3]^u[x-8]^u[x-14]^u[x-16],1),w=r(r(l(m,5),n(x,g,h,f)),r(r(v,u[x]),s(x))),v=f,f=h,h=l(g,30),g=m,m=w;m=r(m,k),g=r(g,S),h=r(h,M),f=r(f,C),v=r(v,L)}return[m,g,h,f,v]}function n(e,t,a,n){return 20>e?t&a|~t&n:40>e?t^a^n:60>e?t&a|t&n|a&n:t^a^n}function s(e){return 20>e?1518500249:40>e?1859775393:60>e?-1894007588:-899497514}function o(t,a){var n=p(t);16<n.length&&(n=e(n,8*t.length));for(var s=Array(16),o=Array(16),d=0;16>d;d++)s[d]=909522486^n[d],o[d]=1549556828^n[d];var r=e(s.concat(p(a)),512+8*a.length);return e(o.concat(r),672)}function r(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function l(e,t){return e<<t|e>>>32-t}function p(e){for(var t=[],a=0;a<8*e.length;a+=8)t[a>>5]|=(e.charCodeAt(a/8)&255)<<24-a%32;return t}function u(e){for(var a="",n=0;n<32*e.length;n+=8)a+=t(e[n>>5]>>>24-n%32&255);return a}function m(e){for(var t="",a=0,n,s;a<4*e.length;a+=3)for(n=(255&e[a>>2]>>8*(3-a%4))<<16|(255&e[a+1>>2]>>8*(3-(a+1)%4))<<8|255&e[a+2>>2]>>8*(3-(a+2)%4),s=0;4>s;s++)t+=8*a+6*s>32*e.length?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&n>>6*(3-s));return t}return{b64_hmac_sha1:function(e,t){return m(o(e,t))},b64_sha1:function(t){return m(e(p(t),8*t.length))},binb2str:u,core_hmac_sha1:o,str_hmac_sha1:function(e,t){return u(o(e,t))},str_sha1:function(t){return u(e(p(t),8*t.length))}}}),function(e,t){"function"==typeof r&&r.amd?r("strophe-md5",[],function(){return t()}):"object"==typeof exports?module.exports=t():e.MD5=t()}(this,function(){var e=function(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a},n=function(e,t){return e<<t|e>>>32-t},i=function(e){for(var t=[],a=0;a<8*e.length;a+=8)t[a>>5]|=(255&e.charCodeAt(a/8))<<a%32;return t},o=function(e){for(var a="",n=0;n<32*e.length;n+=8)a+=t(255&e[n>>5]>>>n%32);return a},d=function(e){for(var t="0123456789abcdef",a="",n=0;n<4*e.length;n++)a+=t.charAt(15&e[n>>2]>>8*(n%4)+4)+t.charAt(15&e[n>>2]>>8*(n%4));return a},r=function(i,o,a,d,r,s){return e(n(e(e(o,i),e(d,s)),r),a)},l=function(e,a,n,i,o,d,s){return r(a&n|~a&i,e,a,o,d,s)},p=function(e,a,n,i,o,d,s){return r(a&i|n&~i,e,a,o,d,s)},u=function(e,a,n,i,o,d,s){return r(a^n^i,e,a,o,d,s)},m=function(e,a,n,i,o,d,s){return r(n^(a|~i),e,a,o,d,s)},g=function(t,n){t[n>>5]|=128<<n%32,t[(n+64>>>9<<4)+14]=n;for(var s=1732584193,o=-271733879,r=-1732584194,g=271733878,h=0,f,v,A,x;h<t.length;h+=16)f=s,v=o,A=r,x=g,s=l(s,o,r,g,t[h+0],7,-680876936),g=l(g,s,o,r,t[h+1],12,-389564586),r=l(r,g,s,o,t[h+2],17,606105819),o=l(o,r,g,s,t[h+3],22,-1044525330),s=l(s,o,r,g,t[h+4],7,-176418897),g=l(g,s,o,r,t[h+5],12,1200080426),r=l(r,g,s,o,t[h+6],17,-1473231341),o=l(o,r,g,s,t[h+7],22,-45705983),s=l(s,o,r,g,t[h+8],7,1770035416),g=l(g,s,o,r,t[h+9],12,-1958414417),r=l(r,g,s,o,t[h+10],17,-42063),o=l(o,r,g,s,t[h+11],22,-1990404162),s=l(s,o,r,g,t[h+12],7,1804603682),g=l(g,s,o,r,t[h+13],12,-40341101),r=l(r,g,s,o,t[h+14],17,-1502002290),o=l(o,r,g,s,t[h+15],22,1236535329),s=p(s,o,r,g,t[h+1],5,-165796510),g=p(g,s,o,r,t[h+6],9,-1069501632),r=p(r,g,s,o,t[h+11],14,643717713),o=p(o,r,g,s,t[h+0],20,-373897302),s=p(s,o,r,g,t[h+5],5,-701558691),g=p(g,s,o,r,t[h+10],9,38016083),r=p(r,g,s,o,t[h+15],14,-660478335),o=p(o,r,g,s,t[h+4],20,-405537848),s=p(s,o,r,g,t[h+9],5,568446438),g=p(g,s,o,r,t[h+14],9,-1019803690),r=p(r,g,s,o,t[h+3],14,-187363961),o=p(o,r,g,s,t[h+8],20,1163531501),s=p(s,o,r,g,t[h+13],5,-1444681467),g=p(g,s,o,r,t[h+2],9,-51403784),r=p(r,g,s,o,t[h+7],14,1735328473),o=p(o,r,g,s,t[h+12],20,-1926607734),s=u(s,o,r,g,t[h+5],4,-378558),g=u(g,s,o,r,t[h+8],11,-2022574463),r=u(r,g,s,o,t[h+11],16,1839030562),o=u(o,r,g,s,t[h+14],23,-35309556),s=u(s,o,r,g,t[h+1],4,-1530992060),g=u(g,s,o,r,t[h+4],11,1272893353),r=u(r,g,s,o,t[h+7],16,-155497632),o=u(o,r,g,s,t[h+10],23,-1094730640),s=u(s,o,r,g,t[h+13],4,681279174),g=u(g,s,o,r,t[h+0],11,-358537222),r=u(r,g,s,o,t[h+3],16,-722521979),o=u(o,r,g,s,t[h+6],23,76029189),s=u(s,o,r,g,t[h+9],4,-640364487),g=u(g,s,o,r,t[h+12],11,-421815835),r=u(r,g,s,o,t[h+15],16,530742520),o=u(o,r,g,s,t[h+2],23,-995338651),s=m(s,o,r,g,t[h+0],6,-198630844),g=m(g,s,o,r,t[h+7],10,1126891415),r=m(r,g,s,o,t[h+14],15,-1416354905),o=m(o,r,g,s,t[h+5],21,-57434055),s=m(s,o,r,g,t[h+12],6,1700485571),g=m(g,s,o,r,t[h+3],10,-1894986606),r=m(r,g,s,o,t[h+10],15,-1051523),o=m(o,r,g,s,t[h+1],21,-2054922799),s=m(s,o,r,g,t[h+8],6,1873313359),g=m(g,s,o,r,t[h+15],10,-30611744),r=m(r,g,s,o,t[h+6],15,-1560198380),o=m(o,r,g,s,t[h+13],21,1309151649),s=m(s,o,r,g,t[h+4],6,-145523070),g=m(g,s,o,r,t[h+11],10,-1120210379),r=m(r,g,s,o,t[h+2],15,718787259),o=m(o,r,g,s,t[h+9],21,-343485551),s=e(s,f),o=e(o,v),r=e(r,A),g=e(g,x);return[s,o,r,g]};return{hexdigest:function(e){return d(g(i(e),8*e.length))},hash:function(e){return o(g(i(e),8*e.length))}}}),function(e,t){"function"==typeof r&&r.amd?r("strophe-utils",[],function(){return t()}):"object"==typeof exports?module.exports=t():e.stropheUtils=t()}(this,function(){return{utf16to8:function(e){var a="",n=e.length,s,o;for(s=0;s<n;s++)o=e.charCodeAt(s),0<=o&&127>=o?a+=e.charAt(s):2047<o?(a+=t(224|15&o>>12),a+=t(128|63&o>>6),a+=t(128|63&o>>0)):(a+=t(192|31&o>>6),a+=t(128|63&o>>0));return a},addCookies:function(e){var t,a,n,i,s,o,d;for(t in e||{})s="",o="",d="",a=e[t],n="object"==typeof a,i=escape(unescape(n?a.value:a)),n&&(s=a.expires?";expires="+a.expires:"",o=a.domain?";domain="+a.domain:"",d=a.path?";path="+a.path:""),document.cookie=t+"="+i+s+o+d}}}),function(e,t){if("function"==typeof r&&r.amd)r("strophe-core",["strophe-sha1","strophe-md5","strophe-utils"],function(){return t.apply(this,arguments)});else if("object"==typeof exports)module.exports=t(d("./sha1"),d("./md5"),d("./utils"));else{var a=t(e.SHA1,e.MD5,e.stropheUtils);e.Strophe=a.Strophe,e.$build=a.$build,e.$iq=a.$iq,e.$msg=a.$msg,e.$pres=a.$pres,e.SHA1=a.SHA1,e.MD5=a.MD5,e.b64_hmac_sha1=a.SHA1.b64_hmac_sha1,e.b64_sha1=a.SHA1.b64_sha1,e.str_hmac_sha1=a.SHA1.str_hmac_sha1,e.str_sha1=a.SHA1.str_sha1}}(this,function(e,t,a){function n(e,t){return new d.Builder(e,t)}function i(e){return new d.Builder("message",e)}function s(e){return new d.Builder("iq",e)}function o(e){return new d.Builder("presence",e)}var d;return d={VERSION:"1.2.16",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},XHTML:{tags:["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul","body"],attributes:{a:["href"],blockquote:["style"],br:[],cite:["style"],em:[],img:["src","alt","style","height","width"],li:["style"],ol:["style"],p:["style"],span:["style"],strong:[],ul:["style"],body:[]},css:["background-color","color","font-family","font-size","font-style","font-weight","margin-left","margin-right","text-align","text-decoration"],validTag:function(e){for(var t=0;t<d.XHTML.tags.length;t++)if(e===d.XHTML.tags[t])return!0;return!1},validAttribute:function(e,t){if("undefined"!=typeof d.XHTML.attributes[e]&&0<d.XHTML.attributes[e].length)for(var a=0;a<d.XHTML.attributes[e].length;a++)if(t===d.XHTML.attributes[e][a])return!0;return!1},validCSS:function(e){for(var t=0;t<d.XHTML.css.length;t++)if(e===d.XHTML.css[t])return!0;return!1}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9,CONNTIMEOUT:10},ErrorCondition:{BAD_FORMAT:"bad-format",CONFLICT:"conflict",MISSING_JID_NODE:"x-strophe-bad-non-anon-jid",NO_AUTH_MECH:"no-auth-mech",UNKNOWN_REASON:"unknown"},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,addNamespace:function(e,t){d.NS[e]=t},forEachChild:function(e,t,a){var n,s;for(n=0;n<e.childNodes.length;n++)s=e.childNodes[n],s.nodeType===d.ElementType.NORMAL&&(!t||this.isTagEqual(s,t))&&a(s)},isTagEqual:function(e,t){return e.tagName===t},_xmlGenerator:null,_makeGenerator:function(){var e;return void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&10>document.documentMode?(e=this._getIEXmlDom(),e.appendChild(e.createElement("strophe"))):e=document.implementation.createDocument("jabber:client","strophe",null),e},xmlGenerator:function(){return d._xmlGenerator||(d._xmlGenerator=d._makeGenerator()),d._xmlGenerator},_getIEXmlDom:function(){for(var t=null,a=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"],n=0;n<a.length&&null===t;n++)try{t=new ActiveXObject(a[n])}catch(a){t=null}return t},xmlElement:function(e){if(!e)return null;var t=d.xmlGenerator().createElement(e),n,s,o;for(n=1;n<arguments.length;n++){var r=arguments[n];if(r)if("string"==typeof r||"number"==typeof r)t.appendChild(d.xmlTextNode(r));else if("object"==typeof r&&"function"==typeof r.sort)for(s=0;s<r.length;s++){var c=r[s];"object"==typeof c&&"function"==typeof c.sort&&void 0!==c[1]&&null!==c[1]&&t.setAttribute(c[0],c[1])}else if("object"==typeof r)for(o in r)r.hasOwnProperty(o)&&void 0!==r[o]&&null!==r[o]&&t.setAttribute(o,r[o])}return t},xmlescape:function(e){return e=e.replace(/\&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/'/g,"&apos;"),e=e.replace(/"/g,"&quot;"),e},xmlunescape:function(e){return e=e.replace(/\&amp;/g,"&"),e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&apos;/g,"'"),e=e.replace(/&quot;/g,"\""),e},xmlTextNode:function(e){return d.xmlGenerator().createTextNode(e)},xmlHtmlNode:function(e){var t;if(DOMParser){var a=new DOMParser;t=a.parseFromString(e,"text/xml")}else t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t},getText:function(e){if(!e)return null;var t="";0===e.childNodes.length&&e.nodeType===d.ElementType.TEXT&&(t+=e.nodeValue);for(var a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===d.ElementType.TEXT&&(t+=e.childNodes[a].nodeValue);return d.xmlescape(t)},copyElement:function(e){var t,a;if(e.nodeType===d.ElementType.NORMAL){for(a=d.xmlElement(e.tagName),t=0;t<e.attributes.length;t++)a.setAttribute(e.attributes[t].nodeName,e.attributes[t].value);for(t=0;t<e.childNodes.length;t++)a.appendChild(d.copyElement(e.childNodes[t]))}else e.nodeType===d.ElementType.TEXT&&(a=d.xmlGenerator().createTextNode(e.nodeValue));return a},createHtml:function(e){var t,a,n,s,o,r,c,l,p,u,m;if(e.nodeType===d.ElementType.NORMAL){if(s=e.nodeName.toLowerCase(),d.XHTML.validTag(s))try{for(a=d.xmlElement(s),t=0;t<d.XHTML.attributes[s].length;t++)if(o=d.XHTML.attributes[s][t],r=e.getAttribute(o),"undefined"!=typeof r&&null!==r&&""!==r&&!1!==r&&0!==r)if("style"===o&&"object"==typeof r&&"undefined"!=typeof r.cssText&&(r=r.cssText),"style"===o){for(c=[],l=r.split(";"),n=0;n<l.length;n++)p=l[n].split(":"),u=p[0].replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase(),d.XHTML.validCSS(u)&&(m=p[1].replace(/^\s*/,"").replace(/\s*$/,""),c.push(u+": "+m));0<c.length&&(r=c.join("; "),a.setAttribute(o,r))}else a.setAttribute(o,r);for(t=0;t<e.childNodes.length;t++)a.appendChild(d.createHtml(e.childNodes[t]))}catch(t){a=d.xmlTextNode("")}else for(a=d.xmlGenerator().createDocumentFragment(),t=0;t<e.childNodes.length;t++)a.appendChild(d.createHtml(e.childNodes[t]));}else if(e.nodeType===d.ElementType.FRAGMENT)for(a=d.xmlGenerator().createDocumentFragment(),t=0;t<e.childNodes.length;t++)a.appendChild(d.createHtml(e.childNodes[t]));else e.nodeType===d.ElementType.TEXT&&(a=d.xmlTextNode(e.nodeValue));return a},escapeNode:function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40"):e},unescapeNode:function(e){return"string"==typeof e?e.replace(/\\20/g," ").replace(/\\22/g,"\"").replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\"):e},getNodeFromJid:function(e){return 0>e.indexOf("@")?null:e.split("@")[0]},getDomainFromJid:function(e){var t=d.getBareJidFromJid(e);if(0>t.indexOf("@"))return t;var a=t.split("@");return a.splice(0,1),a.join("@")},getResourceFromJid:function(e){var t=e.split("/");return 2>t.length?null:(t.splice(0,1),t.join("/"))},getBareJidFromJid:function(e){return e?e.split("/")[0]:null},_handleError:function(t){"undefined"!=typeof t.stack&&d.fatal(t.stack),t.sourceURL?d.fatal("error: "+this.handler+" "+t.sourceURL+":"+t.line+" - "+t.name+": "+t.message):t.fileName?d.fatal("error: "+this.handler+" "+t.fileName+":"+t.lineNumber+" - "+t.name+": "+t.message):d.fatal("error: "+t.message)},log:function(e,t){e===this.LogLevel.FATAL&&"object"==typeof window.console&&"function"==typeof window.console.error&&window.console.error(t)},debug:function(e){this.log(this.LogLevel.DEBUG,e)},info:function(e){this.log(this.LogLevel.INFO,e)},warn:function(e){this.log(this.LogLevel.WARN,e)},error:function(e){this.log(this.LogLevel.ERROR,e)},fatal:function(e){this.log(this.LogLevel.FATAL,e)},serialize:function(e){var t;if(!e)return null;"function"==typeof e.tree&&(e=e.tree());var a=e.nodeName,n,s;for(e.getAttribute("_realname")&&(a=e.getAttribute("_realname")),t="<"+a,n=0;n<e.attributes.length;n++)"_realname"!==e.attributes[n].nodeName&&(t+=" "+e.attributes[n].nodeName+"='"+d.xmlescape(e.attributes[n].value)+"'");if(0<e.childNodes.length){for(t+=">",n=0;n<e.childNodes.length;n++)switch(s=e.childNodes[n],s.nodeType){case d.ElementType.NORMAL:t+=d.serialize(s);break;case d.ElementType.TEXT:t+=d.xmlescape(s.nodeValue);break;case d.ElementType.CDATA:t+="<![CDATA["+s.nodeValue+"]]>";}t+="</"+a+">"}else t+="/>";return t},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(e,t){d._connectionPlugins[e]=t}},d.Builder=function(e,t){("presence"===e||"message"===e||"iq"===e)&&(t&&!t.xmlns?t.xmlns=d.NS.CLIENT:!t&&(t={xmlns:d.NS.CLIENT})),this.nodeTree=d.xmlElement(e,t),this.node=this.nodeTree},d.Builder.prototype={tree:function(){return this.nodeTree},toString:function(){return d.serialize(this.nodeTree)},up:function(){return this.node=this.node.parentNode,this},root:function(){return this.node=this.nodeTree,this},attrs:function(e){for(var t in e)e.hasOwnProperty(t)&&(void 0===e[t]?this.node.removeAttribute(t):this.node.setAttribute(t,e[t]));return this},c:function(e,t,a){var n=d.xmlElement(e,t,a);return this.node.appendChild(n),"string"!=typeof a&&"number"!=typeof a&&(this.node=n),this},cnode:function(e){var t=d.xmlGenerator(),a;try{a=void 0!==t.importNode}catch(t){a=!1}var n=a?t.importNode(e,!0):d.copyElement(e);return this.node.appendChild(n),this.node=n,this},t:function(e){var t=d.xmlTextNode(e);return this.node.appendChild(t),this},h:function(e){var t=document.createElement("body");t.innerHTML=e;for(var a=d.createHtml(t);0<a.childNodes.length;)this.node.appendChild(a.childNodes[0]);return this}},d.Handler=function(e,t,a,n,i,s,o){this.handler=e,this.ns=t,this.name=a,this.type=n,this.id=i,this.options=o||{matchBareFromJid:!1,ignoreNamespaceFragment:!1},this.options.matchBare&&(d.warn("The \"matchBare\" option is deprecated, use \"matchBareFromJid\" instead."),this.options.matchBareFromJid=this.options.matchBare,delete this.options.matchBare),this.from=this.options.matchBareFromJid?s?d.getBareJidFromJid(s):null:s,this.user=!0},d.Handler.prototype={getNamespace:function(e){var t=e.getAttribute("xmlns");return t&&this.options.ignoreNamespaceFragment&&(t=t.split("#")[0]),t},namespaceMatch:function(e){var t=!1;if(!this.ns)return!0;var a=this;return d.forEachChild(e,null,function(e){a.getNamespace(e)===a.ns&&(t=!0)}),t=t||this.getNamespace(e)===this.ns,t},isMatch:function(e){var t=e.getAttribute("from");this.options.matchBareFromJid&&(t=d.getBareJidFromJid(t));var a=e.getAttribute("type");return!(!this.namespaceMatch(e)||this.name&&!d.isTagEqual(e,this.name)||this.type&&(Array.isArray(this.type)?-1===this.type.indexOf(a):a!==this.type)||this.id&&e.getAttribute("id")!==this.id||this.from&&t!==this.from)},run:function(e){var t=null;try{t=this.handler(e)}catch(t){throw d._handleError(t),t}return t},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}},d.TimedHandler=function(e,t){this.period=e,this.handler=t,this.lastCalled=new Date().getTime(),this.user=!0},d.TimedHandler.prototype={run:function(){return this.lastCalled=new Date().getTime(),this.handler()},reset:function(){this.lastCalled=new Date().getTime()},toString:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}},d.Connection=function(e,t){this.service=e,this.options=t||{};var n=this.options.protocol||"";for(var i in this._proto=0===e.indexOf("ws:")||0===e.indexOf("wss:")||0===n.indexOf("ws")?new d.Websocket(this):new d.Bosh(this),this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.protocolErrorHandlers={HTTP:{},websocket:{}},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout(function(){this._onIdle()}.bind(this),100),a.addCookies(this.options.cookies),this.registerSASLMechanisms(this.options.mechanisms),d._connectionPlugins)if(d._connectionPlugins.hasOwnProperty(i)){var s=d._connectionPlugins[i],o=function(){};o.prototype=s,this[i]=new o,this[i].init(this)}},d.Connection.prototype={reset:function(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0},pause:function(){this.paused=!0},resume:function(){this.paused=!1},getUniqueId:function(e){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),a="x"===e?t:8|3&t;return a.toString(16)});return"string"==typeof e||"number"==typeof e?t+":"+e:t+""},addProtocolErrorHandler:function(e,t,a){this.protocolErrorHandlers[e][t]=a},connect:function(e,t,a,n,i,s,o){this.jid=e,this.authzid=d.getBareJidFromJid(this.jid),this.authcid=o||d.getNodeFromJid(this.jid),this.pass=t,this.servtype="xmpp",this.connect_callback=a,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.domain=d.getDomainFromJid(this.jid),this._changeConnectStatus(d.Status.CONNECTING,null),this._proto._connect(n,i,s)},attach:function(e,t,a,n,i,s,o){if(this._proto instanceof d.Bosh)this._proto._attach(e,t,a,n,i,s,o);else throw{name:"StropheSessionError",message:"The \"attach\" method can only be used with a BOSH connection."}},restore:function(e,t,a,n,i){if(this._sessionCachingSupported())this._proto._restore(e,t,a,n,i);else throw{name:"StropheSessionError",message:"The \"restore\" method can only be used with a BOSH connection."}},_sessionCachingSupported:function(){if(this._proto instanceof d.Bosh){if(!JSON)return!1;try{sessionStorage.setItem("_strophe_","_strophe_"),sessionStorage.removeItem("_strophe_")}catch(t){return!1}return!0}return!1},xmlInput:function(){},xmlOutput:function(){},rawInput:function(){},rawOutput:function(){},nextValidRid:function(){},send:function(e){if(null!==e){if("function"==typeof e.sort)for(var t=0;t<e.length;t++)this._queueData(e[t]);else"function"==typeof e.tree?this._queueData(e.tree()):this._queueData(e);this._proto._send()}},flush:function(){clearTimeout(this._idleTimeout),this._onIdle()},sendPresence:function(e,t,a,n){var i=null,s=this;"function"==typeof e.tree&&(e=e.tree());var o=e.getAttribute("id");if(o||(o=this.getUniqueId("sendPresence"),e.setAttribute("id",o)),"function"==typeof t||"function"==typeof a){var d=this.addHandler(function(e){i&&s.deleteTimedHandler(i);var n=e.getAttribute("type");"error"===n?a&&a(e):t&&t(e)},null,"presence",null,o);n&&(i=this.addTimedHandler(n,function(){return s.deleteHandler(d),a&&a(null),!1}))}return this.send(e),o},sendIQ:function(e,t,a,n){var i=null,s=this;"function"==typeof e.tree&&(e=e.tree());var o=e.getAttribute("id");if(o||(o=this.getUniqueId("sendIQ"),e.setAttribute("id",o)),"function"==typeof t||"function"==typeof a){var d=this.addHandler(function(e){i&&s.deleteTimedHandler(i);var n=e.getAttribute("type");if("result"===n)t&&t(e);else if("error"===n)a&&a(e);else throw{name:"StropheError",message:"Got bad IQ type of "+n}},null,"iq",["error","result"],o);n&&(i=this.addTimedHandler(n,function(){return s.deleteHandler(d),a&&a(null),!1}))}return this.send(e),o},_queueData:function(e){if(null===e||!e.tagName||!e.childNodes)throw{name:"StropheError",message:"Cannot queue non-DOMElement."};this._data.push(e)},_sendRestart:function(){this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout(function(){this._onIdle()}.bind(this),100)},addTimedHandler:function(e,t){var a=new d.TimedHandler(e,t);return this.addTimeds.push(a),a},deleteTimedHandler:function(e){this.removeTimeds.push(e)},addHandler:function(e,t,a,n,i,s,o){var r=new d.Handler(e,t,a,n,i,s,o);return this.addHandlers.push(r),r},deleteHandler:function(e){this.removeHandlers.push(e);var t=this.addHandlers.indexOf(e);0<=t&&this.addHandlers.splice(t,1)},registerSASLMechanisms:function(e){this.mechanisms={},e=e||[d.SASLAnonymous,d.SASLExternal,d.SASLMD5,d.SASLOAuthBearer,d.SASLXOAuth2,d.SASLPlain,d.SASLSHA1],e.forEach(this.registerSASLMechanism.bind(this))},registerSASLMechanism:function(e){this.mechanisms[e.prototype.name]=e},disconnect:function(e){if(this._changeConnectStatus(d.Status.DISCONNECTING,e),d.info("Disconnect was called because: "+e),this.connected){var t=!1;this.disconnecting=!0,this.authenticated&&(t=o({xmlns:d.NS.CLIENT,type:"unavailable"})),this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(t)}else d.info("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests(),this._doDisconnect()},_changeConnectStatus:function(e,t,a){for(var n in d._connectionPlugins)if(d._connectionPlugins.hasOwnProperty(n)){var i=this[n];if(i.statusChanged)try{i.statusChanged(e,t)}catch(e){d.error(""+n+" plugin caused an exception changing status: "+e)}}if(this.connect_callback)try{this.connect_callback(e,t,a)}catch(t){d._handleError(t),d.error("User connection callback caused an exception: "+t)}},_doDisconnect:function(e){"number"==typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),d.info("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(d.Status.DISCONNECTED,e),this.connected=!1},_dataRecv:function(e,t){d.info("_dataRecv called");var a=this._proto._reqToData(e);if(null!==a){this.xmlInput!==d.Connection.prototype.xmlInput&&(a.nodeName===this._proto.strip&&a.childNodes.length?this.xmlInput(a.childNodes[0]):this.xmlInput(a)),this.rawInput!==d.Connection.prototype.rawInput&&(t?this.rawInput(t):this.rawInput(d.serialize(a)));for(var n,s;0<this.removeHandlers.length;)s=this.removeHandlers.pop(),n=this.handlers.indexOf(s),0<=n&&this.handlers.splice(n,1);for(;0<this.addHandlers.length;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())return void this._doDisconnect();var o=a.getAttribute("type"),r,c;if(null!==o&&"terminate"===o)return this.disconnecting?void 0:(r=a.getAttribute("condition"),c=a.getElementsByTagName("conflict"),null===r?this._changeConnectStatus(d.Status.CONNFAIL,d.ErrorCondition.UNKOWN_REASON):("remote-stream-error"===r&&0<c.length&&(r="conflict"),this._changeConnectStatus(d.Status.CONNFAIL,r)),void this._doDisconnect(r));var l=this;d.forEachChild(a,null,function(e){var t,a;for(a=l.handlers,l.handlers=[],t=0;t<a.length;t++){var n=a[t];try{n.isMatch(e)&&(l.authenticated||!n.user)?n.run(e)&&l.handlers.push(n):l.handlers.push(n)}catch(t){d.warn("Removing Strophe handlers due to uncaught exception: "+t.message)}}})}},mechanisms:{},_connect_cb:function(e,t,a){d.info("_connect_cb was called"),this.connected=!0;var n;try{n=this._proto._reqToData(e)}catch(t){if("badformat"!==t)throw t;this._changeConnectStatus(d.Status.CONNFAIL,d.ErrorCondition.BAD_FORMAT),this._doDisconnect(d.ErrorCondition.BAD_FORMAT)}if(n){this.xmlInput!==d.Connection.prototype.xmlInput&&(n.nodeName===this._proto.strip&&n.childNodes.length?this.xmlInput(n.childNodes[0]):this.xmlInput(n)),this.rawInput!==d.Connection.prototype.rawInput&&(a?this.rawInput(a):this.rawInput(d.serialize(n)));var s=this._proto._connect_cb(n);if(s!==d.Status.CONNFAIL){var o;if(o=n.getElementsByTagNameNS?0<n.getElementsByTagNameNS(d.NS.STREAM,"features").length:0<n.getElementsByTagName("stream:features").length||0<n.getElementsByTagName("features").length,!o)return void this._proto._no_auth_received(t);var r=[],c=n.getElementsByTagName("mechanism"),l,p;if(0<c.length)for(l=0;l<c.length;l++)p=d.getText(c[l]),this.mechanisms[p]&&r.push(this.mechanisms[p]);return 0===r.length&&0===n.getElementsByTagName("auth").length?void this._proto._no_auth_received(t):void(!1!==this.do_authentication&&this.authenticate(r))}}},sortMechanismsByPriority:function(e){var t,a,n,s;for(t=0;t<e.length-1;++t){for(n=t,a=t+1;a<e.length;++a)e[a].prototype.priority>e[n].prototype.priority&&(n=a);n!==t&&(s=e[t],e[t]=e[n],e[n]=s)}return e},_attemptSASLAuth:function(e){e=this.sortMechanismsByPriority(e||[]);var t=0,a=!1;for(t=0;t<e.length;++t)if(e[t].prototype.test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=new e[t],this._sasl_mechanism.onStart(this);var s=n("auth",{xmlns:d.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){var o=this._sasl_mechanism.onChallenge(this,null);s.t(btoa(o))}this.send(s.tree()),a=!0;break}return a},_attemptLegacyAuth:function(){null===d.getNodeFromJid(this.jid)?(this._changeConnectStatus(d.Status.CONNFAIL,d.ErrorCondition.MISSING_JID_NODE),this.disconnect(d.ErrorCondition.MISSING_JID_NODE)):(this._changeConnectStatus(d.Status.AUTHENTICATING,null),this._addSysHandler(this._auth1_cb.bind(this),null,null,null,"_auth_1"),this.send(s({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:d.NS.AUTH}).c("username",{}).t(d.getNodeFromJid(this.jid)).tree()))},authenticate:function(e){this._attemptSASLAuth(e)||this._attemptLegacyAuth()},_sasl_challenge_cb:function(e){var t=atob(d.getText(e)),a=this._sasl_mechanism.onChallenge(this,t),i=n("response",{xmlns:d.NS.SASL});return""!==a&&i.t(btoa(a)),this.send(i.tree()),!0},_auth1_cb:function(){var e=s({type:"set",id:"_auth_2"}).c("query",{xmlns:d.NS.AUTH}).c("username",{}).t(d.getNodeFromJid(this.jid)).up().c("password").t(this.pass);return d.getResourceFromJid(this.jid)||(this.jid=d.getBareJidFromJid(this.jid)+"/strophe"),e.up().c("resource",{}).t(d.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(e.tree()),!1},_sasl_success_cb:function(e){if(this._sasl_data["server-signature"]){var t=atob(d.getText(e)),a=t.match(/([a-z]+)=([^,]+)(,|$)/),n;if("v"===a[1]&&(n=a[2]),n!==this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}d.info("SASL authentication succeeded."),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var i=[],s=function(e,t){for(;e.length;)this.deleteHandler(e.pop());return this._sasl_auth1_cb.bind(this)(t),!1};return i.push(this._addSysHandler(function(e){s.bind(this)(i,e)}.bind(this),null,"stream:features",null,null)),i.push(this._addSysHandler(function(e){s.bind(this)(i,e)}.bind(this),d.NS.STREAM,"features",null,null)),this._sendRestart(),!1},_sasl_auth1_cb:function(e){this.features=e;var t,a;for(t=0;t<e.childNodes.length;t++)a=e.childNodes[t],"bind"===a.nodeName&&(this.do_bind=!0),"session"===a.nodeName&&(this.do_session=!0);if(!this.do_bind)return this._changeConnectStatus(d.Status.AUTHFAIL,null),!1;this._addSysHandler(this._sasl_bind_cb.bind(this),null,null,null,"_bind_auth_2");var n=d.getResourceFromJid(this.jid);return n?this.send(s({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:d.NS.BIND}).c("resource",{}).t(n).tree()):this.send(s({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:d.NS.BIND}).tree()),!1},_sasl_bind_cb:function(e){if("error"===e.getAttribute("type")){d.info("SASL binding failed.");var t=e.getElementsByTagName("conflict"),a;return 0<t.length&&(a=d.ErrorCondition.CONFLICT),this._changeConnectStatus(d.Status.AUTHFAIL,a,e),!1}var n=e.getElementsByTagName("bind"),i;return 0<n.length?void(i=n[0].getElementsByTagName("jid"),0<i.length&&(this.jid=d.getText(i[0]),this.do_session?(this._addSysHandler(this._sasl_session_cb.bind(this),null,null,null,"_session_auth_2"),this.send(s({type:"set",id:"_session_auth_2"}).c("session",{xmlns:d.NS.SESSION}).tree())):(this.authenticated=!0,this._changeConnectStatus(d.Status.CONNECTED,null)))):(d.info("SASL binding failed."),this._changeConnectStatus(d.Status.AUTHFAIL,null,e),!1)},_sasl_session_cb:function(e){if("result"===e.getAttribute("type"))this.authenticated=!0,this._changeConnectStatus(d.Status.CONNECTED,null);else if("error"===e.getAttribute("type"))return d.info("Session creation failed."),this._changeConnectStatus(d.Status.AUTHFAIL,null,e),!1;return!1},_sasl_failure_cb:function(e){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(d.Status.AUTHFAIL,null,e),!1},_auth2_cb:function(e){return"result"===e.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(d.Status.CONNECTED,null)):"error"===e.getAttribute("type")&&(this._changeConnectStatus(d.Status.AUTHFAIL,null,e),this.disconnect("authentication failed")),!1},_addSysTimedHandler:function(e,t){var a=new d.TimedHandler(e,t);return a.user=!1,this.addTimeds.push(a),a},_addSysHandler:function(e,t,a,n,i){var s=new d.Handler(e,t,a,n,i);return s.user=!1,this.addHandlers.push(s),s},_onDisconnectTimeout:function(){return d.info("_onDisconnectTimeout was called"),this._changeConnectStatus(d.Status.CONNTIMEOUT,null),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1},_onIdle:function(){for(var e,t,a,n;0<this.addTimeds.length;)this.timedHandlers.push(this.addTimeds.pop());for(;0<this.removeTimeds.length;)t=this.removeTimeds.pop(),e=this.timedHandlers.indexOf(t),0<=e&&this.timedHandlers.splice(e,1);var s=new Date().getTime();for(n=[],e=0;e<this.timedHandlers.length;e++)t=this.timedHandlers[e],(this.authenticated||!t.user)&&(a=t.lastCalled+t.period,0>=a-s?t.run()&&n.push(t):n.push(t));this.timedHandlers=n,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout(function(){this._onIdle()}.bind(this),100))}},d.SASLMechanism=function(e,t,a){this.name=e,this.isClientFirst=t,this.priority=a},d.SASLMechanism.prototype={test:function(){return!0},onStart:function(e){this._connection=e},onChallenge:function(){throw new Error("You should implement challenge handling!")},onFailure:function(){this._connection=null},onSuccess:function(){this._connection=null}},d.SASLAnonymous=function(){},d.SASLAnonymous.prototype=new d.SASLMechanism("ANONYMOUS",!1,20),d.SASLAnonymous.prototype.test=function(e){return null===e.authcid},d.SASLPlain=function(){},d.SASLPlain.prototype=new d.SASLMechanism("PLAIN",!0,50),d.SASLPlain.prototype.test=function(e){return null!==e.authcid},d.SASLPlain.prototype.onChallenge=function(e){var t=e.authzid;return t+="\0",t+=e.authcid,t+="\0",t+=e.pass,a.utf16to8(t)},d.SASLSHA1=function(){},d.SASLSHA1.prototype=new d.SASLMechanism("SCRAM-SHA-1",!0,70),d.SASLSHA1.prototype.test=function(e){return null!==e.authcid},d.SASLSHA1.prototype.onChallenge=function(n,i,s){var o=s||t.hexdigest(1234567890*Math.random()),d="n="+a.utf16to8(n.authcid);return d+=",r=",d+=o,n._sasl_data.cnonce=o,n._sasl_data["client-first-message-bare"]=d,d="n,,"+d,this.onChallenge=function(t,n){for(var s="c=biws,",o=t._sasl_data["client-first-message-bare"]+","+n+",",d=t._sasl_data.cnonce,r=/([a-z]+)=([^,]+)(,|$)/,c,l,p,u,m,g,h,f,v,b,A,x,w;n.match(r);)switch(w=n.match(r),n=n.replace(w[0],""),w[1]){case"r":c=w[2];break;case"s":l=w[2];break;case"i":p=w[2];}if(c.substr(0,d.length)!==d)return t._sasl_data={},t._sasl_failure_cb();for(s+="r="+c,o+=s,l=atob(l),l+="\0\0\0\x01",v=a.utf16to8(t.pass),u=g=e.core_hmac_sha1(v,l),h=1;h<p;h++){for(m=e.core_hmac_sha1(v,e.binb2str(g)),f=0;5>f;f++)u[f]^=m[f];g=m}for(u=e.binb2str(u),b=e.core_hmac_sha1(u,"Client Key"),A=e.str_hmac_sha1(u,"Server Key"),x=e.core_hmac_sha1(e.str_sha1(e.binb2str(b)),o),t._sasl_data["server-signature"]=e.b64_hmac_sha1(A,o),f=0;5>f;f++)b[f]^=x[f];return s+=",p="+btoa(e.binb2str(b)),s}.bind(this),d},d.SASLMD5=function(){},d.SASLMD5.prototype=new d.SASLMechanism("DIGEST-MD5",!1,60),d.SASLMD5.prototype.test=function(e){return null!==e.authcid},d.SASLMD5.prototype._quote=function(e){return"\""+e.replace(/\\/g,"\\\\").replace(/"/g,"\\\"")+"\""},d.SASLMD5.prototype.onChallenge=function(e,n,i){for(var s=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,o=i||t.hexdigest(""+1234567890*Math.random()),d="",r=null,c="",l;n.match(s);)switch(l=n.match(s),n=n.replace(l[0],""),l[2]=l[2].replace(/^"(.+)"$/,"$1"),l[1]){case"realm":d=l[2];break;case"nonce":c=l[2];break;case"qop":l[2];break;case"host":r=l[2];}var p=e.servtype+"/"+e.domain;null!==r&&(p=p+"/"+r);var u=a.utf16to8(e.authcid+":"+d+":"+this._connection.pass),m=t.hash(u)+":"+c+":"+o,g="AUTHENTICATE:"+p,h="";return h+="charset=utf-8,",h+="username="+this._quote(a.utf16to8(e.authcid))+",",h+="realm="+this._quote(d)+",",h+="nonce="+this._quote(c)+",",h+="nc=00000001,",h+="cnonce="+this._quote(o)+",",h+="digest-uri="+this._quote(p)+",",h+="response="+t.hexdigest(t.hexdigest(m)+":"+c+":00000001:"+o+":auth:"+t.hexdigest(g))+",",h+="qop=auth",this.onChallenge=function(){return""},h},d.SASLOAuthBearer=function(){},d.SASLOAuthBearer.prototype=new d.SASLMechanism("OAUTHBEARER",!0,40),d.SASLOAuthBearer.prototype.test=function(e){return null!==e.pass},d.SASLOAuthBearer.prototype.onChallenge=function(e){var t="n,";return null!==e.authcid&&(t=t+"a="+e.authzid),t+=",",t+="\x01",t+="auth=Bearer ",t+=e.pass,t+="\x01",t+="\x01",a.utf16to8(t)},d.SASLExternal=function(){},d.SASLExternal.prototype=new d.SASLMechanism("EXTERNAL",!0,10),d.SASLExternal.prototype.onChallenge=function(e){return e.authcid===e.authzid?"":e.authzid},d.SASLXOAuth2=function(){},d.SASLXOAuth2.prototype=new d.SASLMechanism("X-OAUTH2",!0,30),d.SASLXOAuth2.prototype.test=function(e){return null!==e.pass},d.SASLXOAuth2.prototype.onChallenge=function(e){var t="\0";return null!==e.authcid&&(t+=e.authzid),t+="\0",t+=e.pass,a.utf16to8(t)},{Strophe:d,$build:n,$iq:s,$msg:i,$pres:o,SHA1:e,MD5:t,b64_hmac_sha1:e.b64_hmac_sha1,b64_sha1:e.b64_sha1,str_hmac_sha1:e.str_hmac_sha1,str_sha1:e.str_sha1}}),function(e,t){if("function"==typeof r&&r.amd)r("strophe-bosh",["strophe-core"],function(e){return t(e.Strophe,e.$build)});else if("object"==typeof exports){var a=d("./core");module.exports=t(a.Strophe,a.$build)}else return t(Strophe,$build)}(this,function(t,a){return t.Request=function(e,a,n,i){this.id=++t._requestId,this.xmlData=e,this.data=t.serialize(e),this.origFunc=a,this.func=a,this.rid=n,this.date=NaN,this.sends=i||0,this.abort=!1,this.dead=null,this.age=function(){if(!this.date)return 0;var e=new Date;return(e-this.date)/1e3},this.timeDead=function(){if(!this.dead)return 0;var e=new Date;return(e-this.dead)/1e3},this.xhr=this._newXHR()},t.Request.prototype={getResponse:function(){var e=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if(e=this.xhr.responseXML.documentElement,"parsererror"===e.tagName)throw t.error("invalid response received"),t.error("responseText: "+this.xhr.responseText),t.error("responseXML: "+t.serialize(this.xhr.responseXML)),"parsererror";}else if(this.xhr.responseText)if(t.debug("Got responseText but no responseXML; attempting to parse it with DOMParser..."),e=new DOMParser().parseFromString(this.xhr.responseText,"application/xml").documentElement,!e)throw new Error("Parsing produced null node");else if(e.querySelector("parsererror"))throw t.error("invalid response received: "+e.querySelector("parsererror").textContent),t.error("responseText: "+this.xhr.responseText),"badformat";return e},_newXHR:function(){var e=null;return window.XMLHttpRequest?(e=new XMLHttpRequest,e.overrideMimeType&&e.overrideMimeType("text/xml; charset=utf-8")):window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e.onreadystatechange=this.func.bind(null,this),e}},t.Bosh=function(e){this._conn=e,this.rid=n(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this.inactivity=null,this.lastResponseHeaders=null,this._requests=[]},t.Bosh.prototype={strip:null,_buildBody:function(){var e=a("body",{rid:this.rid++,xmlns:t.NS.HTTPBIND});return null!==this.sid&&e.attrs({sid:this.sid}),this._conn.options.keepalive&&this._conn._sessionCachingSupported()&&this._cacheSession(),e},_reset:function(){this.rid=n(4294967295*Math.random()),this.sid=null,this.errors=0,this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_connect:function(e,a,n){this.wait=e||this.wait,this.hold=a||this.hold,this.errors=0;var i=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":t.NS.BOSH});n&&i.attrs({route:n});var s=this._conn._connect_cb;this._requests.push(new t.Request(i.tree(),this._onRequestStateChange.bind(this,s.bind(this._conn)),i.tree().getAttribute("rid"))),this._throttledRequestHandler()},_attach:function(e,a,n,i,s,o,d){this._conn.jid=e,this.sid=a,this.rid=n,this._conn.connect_callback=i,this._conn.domain=t.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=s||this.wait,this.hold=o||this.hold,this.window=d||this.window,this._conn._changeConnectStatus(t.Status.ATTACHED,null)},_restore:function(e,a,n,i,s){var o=JSON.parse(window.sessionStorage.getItem("strophe-bosh-session"));if("undefined"!=typeof o&&null!==o&&o.rid&&o.sid&&o.jid&&("undefined"==typeof e||null===e||t.getBareJidFromJid(o.jid)===t.getBareJidFromJid(e)||null===t.getNodeFromJid(e)&&t.getDomainFromJid(o.jid)===e))this._conn.restored=!0,this._attach(o.jid,o.sid,o.rid,a,n,i,s);else throw{name:"StropheSessionError",message:"_restore: no restoreable session."}},_cacheSession:function(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem("strophe-bosh-session",JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem("strophe-bosh-session")},_connect_cb:function(e){var a=e.getAttribute("type"),n,i;if(null!==a&&"terminate"===a)return n=e.getAttribute("condition"),t.error("BOSH-Connection failed: "+n),i=e.getElementsByTagName("conflict"),null===n?this._conn._changeConnectStatus(t.Status.CONNFAIL,"unknown"):("remote-stream-error"===n&&0<i.length&&(n="conflict"),this._conn._changeConnectStatus(t.Status.CONNFAIL,n)),this._conn._doDisconnect(n),t.Status.CONNFAIL;this.sid||(this.sid=e.getAttribute("sid"));var s=e.getAttribute("requests");s&&(this.window=parseInt(s,10));var o=e.getAttribute("hold");o&&(this.hold=parseInt(o,10));var d=e.getAttribute("wait");d&&(this.wait=parseInt(d,10));var r=e.getAttribute("inactivity");r&&(this.inactivity=parseInt(r,10))},_disconnect:function(e){this._sendTerminate(e)},_doDisconnect:function(){this.sid=null,this.rid=n(4294967295*Math.random()),this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_emptyQueue:function(){return 0===this._requests.length},_callProtocolErrorHandlers:function(e){var t=this._getRequestStatus(e),a;a=this._conn.protocolErrorHandlers.HTTP[t],a&&a.call(this,t)},_hitError:function(e){this.errors++,t.warn("request errored, status: "+e+", number of errors: "+this.errors),4<this.errors&&this._conn._onDisconnectTimeout()},_no_auth_received:function(e){t.warn("Server did not yet offer a supported authentication mechanism. Sending a blank poll request."),e=e?e.bind(this._conn):this._conn._connect_cb.bind(this._conn);var a=this._buildBody();this._requests.push(new t.Request(a.tree(),this._onRequestStateChange.bind(this,e),a.tree().getAttribute("rid"))),this._throttledRequestHandler()},_onDisconnectTimeout:function(){this._abortAllRequests()},_abortAllRequests:function(){for(var e;0<this._requests.length;)e=this._requests.pop(),e.abort=!0,e.xhr.abort(),e.xhr.onreadystatechange=function(){}},_onIdle:function(){var e=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===e.length&&!this._conn.disconnecting&&(t.info("no requests during idle cycle, sending blank request"),e.push(null)),!this._conn.paused){if(2>this._requests.length&&0<e.length){for(var a=this._buildBody(),s=0;s<e.length;s++)null!==e[s]&&("restart"===e[s]?a.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":t.NS.BOSH}):a.cnode(e[s]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new t.Request(a.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),a.tree().getAttribute("rid"))),this._throttledRequestHandler()}if(0<this._requests.length){var o=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>n(t.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),o>n(t.TIMEOUT*this.wait)&&(t.warn("Request "+this._requests[0].id+" timed out, over "+n(t.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler())}}},_getRequestStatus:function(e,a){var n;if(4===e.xhr.readyState)try{n=e.xhr.status}catch(a){t.error("Caught an error while retrieving a request's status, reqStatus: "+n)}return"undefined"==typeof n&&(n="number"==typeof a?a:0),n},_onRequestStateChange:function(e,a){if(t.debug("request id "+a.id+"."+a.sends+" state changed to "+a.xhr.readyState),a.abort)return void(a.abort=!1);if(4===a.xhr.readyState){var i=this._getRequestStatus(a);if(this.lastResponseHeaders=a.xhr.getAllResponseHeaders(),this.disconnecting&&400<=i)return this._hitError(i),void this._callProtocolErrorHandlers(a);var s=0<i&&500>i,o=a.sends>this._conn.maxRetries;if((s||o)&&(this._removeRequest(a),t.debug("request id "+a.id+" should now be removed")),200===i){var d=this._requests[0]===a,r=this._requests[1]===a;(r||d&&0<this._requests.length&&this._requests[0].age()>n(t.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(+a.rid+1),t.debug("request id "+a.id+"."+a.sends+" got 200"),e(a),this.errors=0}else 0===i||400<=i&&600>i||12e3<=i?(t.error("request id "+a.id+"."+a.sends+" error "+i+" happened"),this._hitError(i),this._callProtocolErrorHandlers(a),400<=i&&500>i&&(this._conn._changeConnectStatus(t.Status.DISCONNECTING,null),this._conn._doDisconnect())):t.error("request id "+a.id+"."+a.sends+" error "+i+" happened");s||o?o&&!this._conn.connected&&this._conn._changeConnectStatus(t.Status.CONNFAIL,"giving-up"):this._throttledRequestHandler()}},_processRequest:function(e){var a=this,o=this._requests[e],d=this._getRequestStatus(o,-1);if(o.sends>this._conn.maxRetries)return void this._conn._onDisconnectTimeout();var r=o.age(),c=!isNaN(r)&&r>n(t.TIMEOUT*this.wait),l=null!==o.dead&&o.timeDead()>n(t.SECONDARY_TIMEOUT*this.wait),p=4===o.xhr.readyState&&(1>d||500<=d);if((c||l||p)&&(l&&t.error("Request "+this._requests[e].id+" timed out (secondary), restarting"),o.abort=!0,o.xhr.abort(),o.xhr.onreadystatechange=function(){},this._requests[e]=new t.Request(o.xmlData,o.origFunc,o.rid,o.sends),o=this._requests[e]),0===o.xhr.readyState){t.debug("request id "+o.id+"."+o.sends+" posting");try{var u=this._conn.options.contentType||"text/xml; charset=utf-8";o.xhr.open("POST",this._conn.service,!this._conn.options.sync),"undefined"!=typeof o.xhr.setRequestHeader&&o.xhr.setRequestHeader("Content-Type",u),this._conn.options.withCredentials&&(o.xhr.withCredentials=!0)}catch(e){return t.error("XHR open failed: "+e.toString()),this._conn.connected||this._conn._changeConnectStatus(t.Status.CONNFAIL,"bad-service"),void this._conn.disconnect()}var m=function(){if(o.date=new Date,a._conn.options.customHeaders){var e=a._conn.options.customHeaders;for(var t in e)e.hasOwnProperty(t)&&o.xhr.setRequestHeader(t,e[t])}o.xhr.send(o.data)};if(1<o.sends){var g=1e3*s(n(t.TIMEOUT*this.wait),i(o.sends,3));setTimeout(function(){m()},g)}else m();o.sends++,this._conn.xmlOutput!==t.Connection.prototype.xmlOutput&&(o.xmlData.nodeName===this.strip&&o.xmlData.childNodes.length?this._conn.xmlOutput(o.xmlData.childNodes[0]):this._conn.xmlOutput(o.xmlData)),this._conn.rawOutput!==t.Connection.prototype.rawOutput&&this._conn.rawOutput(o.data)}else t.debug("_processRequest: "+(0===e?"first":"second")+" request has readyState of "+o.xhr.readyState)},_removeRequest:function(e){t.debug("removing request");var a;for(a=this._requests.length-1;0<=a;a--)e===this._requests[a]&&this._requests.splice(a,1);e.xhr.onreadystatechange=function(){},this._throttledRequestHandler()},_restartRequest:function(e){var t=this._requests[e];null===t.dead&&(t.dead=new Date),this._processRequest(e)},_reqToData:function(e){try{return e.getResponse()}catch(t){if("parsererror"!==t)throw t;this._conn.disconnect("strophe-parsererror")}},_sendTerminate:function(e){t.info("_sendTerminate was called");var a=this._buildBody().attrs({type:"terminate"});e&&a.cnode(e.tree());var n=new t.Request(a.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),a.tree().getAttribute("rid"));this._requests.push(n),this._throttledRequestHandler()},_send:function(){clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout(function(){this._onIdle()}.bind(this._conn),100)},_sendRestart:function(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)},_throttledRequestHandler:function(){this._requests?t.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):t.debug("_throttledRequestHandler called with undefined requests"),this._requests&&0!==this._requests.length&&(0<this._requests.length&&this._processRequest(0),1<this._requests.length&&e(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}},t}),function(e,t){if("function"==typeof r&&r.amd)r("strophe-websocket",["strophe-core"],function(e){return t(e.Strophe,e.$build)});else if("object"==typeof exports){var a=d("./core");module.exports=t(a.Strophe,a.$build)}else return t(Strophe,$build)}(this,function(t,a){return t.Websocket=function(e){this._conn=e,this.strip="wrapper";var t=e.service;if(0!==t.indexOf("ws:")&&0!==t.indexOf("wss:")){var a="";a+="ws"===e.options.protocol&&"https:"!==window.location.protocol?"ws":"wss",a+="://"+window.location.host,a+=0===t.indexOf("/")?t:window.location.pathname+t,e.service=a}},t.Websocket.prototype={_buildStream:function(){return a("open",{xmlns:t.NS.FRAMING,to:this._conn.domain,version:"1.0"})},_check_streamerror:function(a,n){var s;if(s=a.getElementsByTagNameNS?a.getElementsByTagNameNS(t.NS.STREAM,"error"):a.getElementsByTagName("stream:error"),0===s.length)return!1;for(var o=s[0],d="",r="",c=0,l;c<o.childNodes.length&&(l=o.childNodes[c],l.getAttribute("xmlns")==="urn:ietf:params:xml:ns:xmpp-streams");c++)"text"===l.nodeName?r=l.textContent:d=l.nodeName;var p="WebSocket stream error: ";return p+=d?d:"unknown",r&&(p+=" - "+r),t.error(p),this._conn._changeConnectStatus(n,d),this._conn._doDisconnect(),!0},_reset:function(){},_connect:function(){this._closeSocket(),this.socket=new WebSocket(this._conn.service,"xmpp"),this.socket.onopen=this._onOpen.bind(this),this.socket.onerror=this._onError.bind(this),this.socket.onclose=this._onClose.bind(this),this.socket.onmessage=this._connect_cb_wrapper.bind(this)},_connect_cb:function(e){var a=this._check_streamerror(e,t.Status.CONNFAIL);if(a)return t.Status.CONNFAIL},_handleStreamStart:function(e){var a=!1,n=e.getAttribute("xmlns");"string"==typeof n?n!==t.NS.FRAMING&&(a="Wrong xmlns in <open />: "+n):a="Missing xmlns in <open />";var i=e.getAttribute("version");return"string"==typeof i?"1.0"!=i&&(a="Wrong version in <open />: "+i):a="Missing version in <open />",!a||(this._conn._changeConnectStatus(t.Status.CONNFAIL,a),this._conn._doDisconnect(),!1)},_connect_cb_wrapper:function(e){if(0===e.data.indexOf("<open ")||0===e.data.indexOf("<?xml")){var a=e.data.replace(/^(<\?.*?\?>\s*)*/,"");if(""===a)return;var n=new DOMParser().parseFromString(a,"text/xml").documentElement;this._conn.xmlInput(n),this._conn.rawInput(e.data),this._handleStreamStart(n)&&this._connect_cb(n)}else if(0===e.data.indexOf("<close ")){var i=new DOMParser().parseFromString(e.data,"text/xml").documentElement;this._conn.xmlInput(i),this._conn.rawInput(e.data);var s=i.getAttribute("see-other-uri");if(s){var o=this._conn.service,d=0<=o.indexOf("wss:")&&0<=s.indexOf("wss:")||0<=o.indexOf("ws:");d&&(this._conn._changeConnectStatus(t.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=s,this._connect())}else this._conn._changeConnectStatus(t.Status.CONNFAIL,"Received closing stream"),this._conn._doDisconnect()}else{var r=this._streamWrap(e.data),c=new DOMParser().parseFromString(r,"text/xml").documentElement;this.socket.onmessage=this._onMessage.bind(this),this._conn._connect_cb(c,null,e.data)}},_disconnect:function(e){if(this.socket&&this.socket.readyState!==WebSocket.CLOSED){e&&this._conn.send(e);var n=a("close",{xmlns:t.NS.FRAMING});this._conn.xmlOutput(n.tree());var i=t.serialize(n);this._conn.rawOutput(i);try{this.socket.send(i)}catch(a){t.info("Couldn't send <close /> tag.")}}this._conn._doDisconnect()},_doDisconnect:function(){t.info("WebSockets _doDisconnect was called"),this._closeSocket()},_streamWrap:function(e){return"<wrapper>"+e+"</wrapper>"},_closeSocket:function(){if(this.socket)try{this.socket.onerror=null,this.socket.close()}catch(t){}this.socket=null},_emptyQueue:function(){return!0},_onClose:function(a){this._conn.connected&&!this._conn.disconnecting?(t.error("Websocket closed unexpectedly"),this._conn._doDisconnect()):a&&1006===a.code&&!this._conn.connected&&this.socket?(t.error("Websocket closed unexcectedly"),this._conn._changeConnectStatus(t.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._conn._doDisconnect()):t.info("Websocket closed")},_no_auth_received:function(e){t.error("Server did not offer a supported authentication mechanism"),this._changeConnectStatus(t.Status.CONNFAIL,t.ErrorCondition.NO_AUTH_MECH),e&&e.call(this._conn),this._conn._doDisconnect()},_onDisconnectTimeout:function(){},_abortAllRequests:function(){},_onError:function(e){t.error("Websocket error "+e),this._conn._changeConnectStatus(t.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._disconnect()},_onIdle:function(){var e=this._conn._data;if(0<e.length&&!this._conn.paused){for(var a=0;a<e.length;a++)if(null!==e[a]){var n,s;n="restart"===e[a]?this._buildStream().tree():e[a],s=t.serialize(n),this._conn.xmlOutput(n),this._conn.rawOutput(s),this.socket.send(s)}this._conn._data=[]}},_onMessage:function(e){var a="<close xmlns=\"urn:ietf:params:xml:ns:xmpp-framing\" />",n,i;if(e.data===a)return this._conn.rawInput(a),this._conn.xmlInput(e),void(this._conn.disconnecting||this._conn._doDisconnect());if(0!==e.data.search("<open "))i=this._streamWrap(e.data),n=new DOMParser().parseFromString(i,"text/xml").documentElement;else if(n=new DOMParser().parseFromString(e.data,"text/xml").documentElement,!this._handleStreamStart(n))return;return this._check_streamerror(n,t.Status.ERROR)?void 0:this._conn.disconnecting&&"presence"===n.firstChild.nodeName&&"unavailable"===n.firstChild.getAttribute("type")?(this._conn.xmlInput(n),void this._conn.rawInput(t.serialize(n))):void this._conn._dataRecv(n,e.data)},_onOpen:function(){t.info("Websocket open");var e=this._buildStream();this._conn.xmlOutput(e.tree());var a=t.serialize(e);this._conn.rawOutput(a),this.socket.send(a)},_reqToData:function(e){return e},_send:function(){this._conn.flush()},_sendRestart:function(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}},t}),function(){if("function"==typeof r&&r.amd)r("strophe",["strophe-core","strophe-bosh","strophe-websocket"],function(e){return e});else if("object"==typeof exports){var e=d("./core");d("./bosh"),d("./websocket"),module.exports=e}}(this),d(["strophe-polyfill"]),d("strophe")});(function(e,t){"function"==typeof define&&define.amd?define("strophe.disco",["strophe"],function(e){return t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres),e}):t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres)})(this,function(e,t,a){e.addConnectionPlugin("disco",{_connection:null,_identities:[],_features:[],_items:[],init:function(t){this._connection=t,this._identities=[],this._features=[],this._items=[],t.addHandler(this._onDiscoInfo.bind(this),e.NS.DISCO_INFO,"iq","get",null,null),t.addHandler(this._onDiscoItems.bind(this),e.NS.DISCO_ITEMS,"iq","get",null,null)},addIdentity:function(e,t,a,n){for(var s=0;s<this._identities.length;s++)if(this._identities[s].category==e&&this._identities[s].type==t&&this._identities[s].name==a&&this._identities[s].lang==n)return!1;return this._identities.push({category:e,type:t,name:a,lang:n}),!0},addFeature:function(e){for(var t=0;t<this._features.length;t++)if(this._features[t]==e)return!1;return this._features.push(e),!0},removeFeature:function(e){for(var t=0;t<this._features.length;t++)if(this._features[t]===e)return this._features.splice(t,1),!0;return!1},addItem:function(e,t,a,n){return(!a||n)&&(this._items.push({jid:e,name:t,node:a,call_back:n}),!0)},info:function(t,n,i,s,o){var d={xmlns:e.NS.DISCO_INFO};n&&(d.node=n);var r=a({from:this._connection.jid,to:t,type:"get"}).c("query",d);this._connection.sendIQ(r,i,s,o)},items:function(t,n,i,s,o){var d={xmlns:e.NS.DISCO_ITEMS};n&&(d.node=n);var r=a({from:this._connection.jid,to:t,type:"get"}).c("query",d);this._connection.sendIQ(r,i,s,o)},_buildIQResult:function(e,t){var n=e.getAttribute("id"),i=e.getAttribute("from"),s=a({type:"result",id:n});return null!==i&&s.attrs({to:i}),s.c("query",t)},_onDiscoInfo:function(t){var a=t.getElementsByTagName("query")[0].getAttribute("node"),n={xmlns:e.NS.DISCO_INFO},s;a&&(n.node=a);var o=this._buildIQResult(t,n);for(s=0;s<this._identities.length;s++)n={category:this._identities[s].category,type:this._identities[s].type},this._identities[s].name&&(n.name=this._identities[s].name),this._identities[s].lang&&(n["xml:lang"]=this._identities[s].lang),o.c("identity",n).up();for(s=0;s<this._features.length;s++)o.c("feature",{var:this._features[s]}).up();return this._connection.send(o.tree()),!0},_onDiscoItems:function(t){var a={xmlns:e.NS.DISCO_ITEMS},n=t.getElementsByTagName("query")[0].getAttribute("node"),s,o;if(n){for(a.node=n,s=[],o=0;o<this._items.length;o++)if(this._items[o].node==n){s=this._items[o].call_back(t);break}}else s=this._items;var d=this._buildIQResult(t,a);for(o=0;o<s.length;o++){var r={jid:s[o].jid};s[o].name&&(r.name=s[o].name),s[o].node&&(r.node=s[o].node),d.c("item",r).up()}return this._connection.send(d.tree()),!0}})}),function(e,t){"function"==typeof define&&define.amd?define("strophe.ping",["strophe"],function(e){return t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres),e}):t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres)}(this,function(e,t,a){e.addConnectionPlugin("ping",{_c:null,init:function(t){this._c=t,e.addNamespace("PING","urn:xmpp:ping")},ping:function(t,n,i,s){var o=this._c.getUniqueId("ping"),d=a({type:"get",to:t,id:o}).c("ping",{xmlns:e.NS.PING});this._c.sendIQ(d,n,i,s)},pong:function(e){var t=e.getAttribute("from"),n=e.getAttribute("id"),i=a({type:"result",to:t,id:n});this._c.sendIQ(i)},addPingHandler:function(t){return this._c.addHandler(t,e.NS.PING,"iq","get")}})}),function(e,t){"function"==typeof define&&define.amd?define("strophe.rsm",["strophe"],function(e){return t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres),e}):t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres)}(this,function(e,t){e.addNamespace("RSM","http://jabber.org/protocol/rsm"),e.RSM=function(e){if(this.attribs=["max","first","last","after","before","index","count"],"undefined"!=typeof e.xml)this.fromXMLElement(e.xml);else for(var t=0,a;t<this.attribs.length;t++)a=this.attribs[t],this[a]=e[a]},e.RSM.prototype={toXML:function(){for(var a=t("set",{xmlns:e.NS.RSM}),n=0,i;n<this.attribs.length;n++)i=this.attribs[n],"undefined"!=typeof this[i]&&(a=a.c(i).t(this[i].toString()).up());return a.tree()},next:function(t){var a=new e.RSM({max:t,after:this.last});return a},previous:function(t){var a=new e.RSM({max:t,before:this.first});return a},fromXMLElement:function(t){for(var a=0;a<this.attribs.length;a++){var n=this.attribs[a],i=t.getElementsByTagName(n)[0];"undefined"!=typeof i&&null!==i&&(this[n]=e.getText(i),"first"==n&&(this.index=i.getAttribute("index")))}}}}),function(e,t){define("strophe.caps",["strophe","strophe.disco"],function(e){t(e.Strophe,e.SHA1,e.$build,e.$iq,e.$msg,e.$pres)})}(this,function(e,t,a,n,i,s){var o=t.b64_sha1;e.addConnectionPlugin("caps",function(){var t,n,i,d,r,c,l;return this._connection=null,d=function(t){if(this._connection=t,e.addNamespace("CAPS","http://jabber.org/protocol/caps"),void 0===this._connection.disco)throw new Error("disco plugin required!");if(void 0===o)throw new Error("SHA-1 library required!");this._connection.disco.addFeature(e.NS.CAPS),this._connection.disco.addFeature(e.NS.DISCO_INFO)},t=function(e){return this._connection.disco.addFeature(e)},c=function(e){return this._connection.disco.removeFeature(e)},getPres=function(){return s().cnode(n())},l=function(){return this._connection.send(s().cnode(n().tree()))},n=function(t){t||(t={});var n=t.node;return n||(0<this._connection.disco._identities.length?n=this._connection.disco._identities[0].name||"":n="strophejs"),a("c",{xmlns:e.NS.CAPS,hash:"sha-1",node:n,ver:i.call(this)})},r=function(e,t){return e.sort(function(e,a){return e[t]>a[t]?-1:1})},i=function(){var e,t,a,n,s,d,c,l,p,u,m,g,h,f,v,b;for(s=[],v=this._connection.disco._identities,(p=0,g=v.length);p<g;p++)a=v[p],s.push(a);for(t=[],b=this._connection.disco._features,(u=0,h=b.length);u<h;u++)d=b[u],t.push(d);for(c in e="",r(s,"category"),r(s,"type"),r(s,"lang"),s)n=s[c],e+=""+n.category+"/"+n.type+"/"+n.lang+"/"+n.name+"<";for(t.sort(),m=0,f=t.length;m<f;m++)l=t[m],e+=""+l+"<";return o(e)},{init:d,removeFeature:c,addFeature:t,sendPres:l,generateVerificationString:i,createCapsNode:n}}())}),function(e,t){define("strophe.pubsub",["strophe","strophe.disco"],function(e){t(e.Strophe,e.$build,e.$iq)})}(this,function(e,t,a){e.Builder.prototype.form=function(t,a){var n=this.node.appendChild(e.xmlElement("x",{xmlns:"jabber:x:data",type:"submit"}));for(var s in n.appendChild(e.xmlElement("field",{var:"FORM_TYPE",type:"hidden"})).appendChild(e.xmlElement("value")).appendChild(e.xmlTextNode(t)),a)n.appendChild(e.xmlElement("field",{var:s})).appendChild(e.xmlElement("value")).appendChild(e.xmlTextNode(a[s]));return this},e.Builder.prototype.list=function(t,a){for(var n=0;n<a.length;++n)this.c(t,a[n].attrs),this.node.appendChild(a[n].data.cloneNode?a[n].data.cloneNode(!0):e.xmlTextNode(a[n].data)),this.up();return this},e.Builder.prototype.children=function(e){var t,a;for(t in e)e.hasOwnProperty(t)&&(a=e[t],Array.isArray(a)?this.list(t,a):"string"==typeof a?this.c(t,{},a):"number"==typeof a?this.c(t,{},""+a):"object"==typeof a?this.c(t).children(a).up():this.c(t).up());return this},e.addConnectionPlugin("pubsub",{_connection:null,_autoService:!0,service:null,jid:null,handler:{},init:function(t){this._connection=t,e.addNamespace("PUBSUB","http://jabber.org/protocol/pubsub"),e.addNamespace("PUBSUB_SUBSCRIBE_OPTIONS",e.NS.PUBSUB+"#subscribe_options"),e.addNamespace("PUBSUB_ERRORS",e.NS.PUBSUB+"#errors"),e.addNamespace("PUBSUB_EVENT",e.NS.PUBSUB+"#event"),e.addNamespace("PUBSUB_OWNER",e.NS.PUBSUB+"#owner"),e.addNamespace("PUBSUB_AUTO_CREATE",e.NS.PUBSUB+"#auto-create"),e.addNamespace("PUBSUB_PUBLISH_OPTIONS",e.NS.PUBSUB+"#publish-options"),e.addNamespace("PUBSUB_NODE_CONFIG",e.NS.PUBSUB+"#node_config"),e.addNamespace("PUBSUB_CREATE_AND_CONFIGURE",e.NS.PUBSUB+"#create-and-configure"),e.addNamespace("PUBSUB_SUBSCRIBE_AUTHORIZATION",e.NS.PUBSUB+"#subscribe_authorization"),e.addNamespace("PUBSUB_GET_PENDING",e.NS.PUBSUB+"#get-pending"),e.addNamespace("PUBSUB_MANAGE_SUBSCRIPTIONS",e.NS.PUBSUB+"#manage-subscriptions"),e.addNamespace("PUBSUB_META_DATA",e.NS.PUBSUB+"#meta-data"),e.addNamespace("ATOM","http://www.w3.org/2005/Atom"),t.disco&&t.disco.addFeature(e.NS.PUBSUB)},statusChanged:function(t){var a=this._connection;this._autoService&&t===e.Status.CONNECTED&&(this.service="pubsub."+e.getDomainFromJid(a.jid),this.jid=a.jid)},connect:function(e,t){var a=this._connection;t===void 0&&(t=e,e=void 0),this.jid=e||a.jid,this.service=t||null,this._autoService=!1},storeHandler:function(e,t){this.handler[e]||(this.handler[e]=[]),this.handler[e].push(t)},removeHandler:function(e){var t=this.handler[e];if(this.handler[e]=[],t&&0<t.length)for(var a=0,n=t.length;a<n;a++)this._connection.deleteHandler(t[a])},createNode:function(t,n,i){var s=this._connection,o=s.getUniqueId("pubsubcreatenode"),d=a({from:this.jid,to:this.service,type:"set",id:o}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("create",{node:t});return n&&d.up().c("configure").form(e.NS.PUBSUB_NODE_CONFIG,n),s.addHandler(i,null,"iq",null,o,null),s.send(d.tree()),o},deleteNode:function(t,n){var i=this._connection,s=i.getUniqueId("pubsubdeletenode"),o=a({from:this.jid,to:this.service,type:"set",id:s}).c("pubsub",{xmlns:e.NS.PUBSUB_OWNER}).c("delete",{node:t});return i.addHandler(n,null,"iq",null,s,null),i.send(o.tree()),s},discoverNodes:function(t,n,i){var s=a({from:this.jid,to:this.service,type:"get"}).c("query",{xmlns:e.NS.DISCO_ITEMS});return this._connection.sendIQ(s.tree(),t,n,i)},getConfig:function(t,n){var i=this._connection,s=i.getUniqueId("pubsubconfigurenode"),o=a({from:this.jid,to:this.service,type:"get",id:s}).c("pubsub",{xmlns:e.NS.PUBSUB_OWNER}).c("configure",{node:t});return i.addHandler(n,null,"iq",null,s,null),i.send(o.tree()),s},getDefaultNodeConfig:function(t){var n=this._connection,i=n.getUniqueId("pubsubdefaultnodeconfig"),s=a({from:this.jid,to:this.service,type:"get",id:i}).c("pubsub",{xmlns:e.NS.PUBSUB_OWNER}).c("default");return n.addHandler(t,null,"iq",null,i,null),n.send(s.tree()),i},subscribe:function(t,n,i,s,o,d){var r=this._connection,c=r.getUniqueId("subscribenode"),l=this.jid;d&&(l=e.getBareJidFromJid(l));var p=a({from:this.jid,to:this.service,type:"set",id:c}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("subscribe",{node:t,jid:l});n&&p.up().c("options").form(e.NS.PUBSUB_SUBSCRIBE_OPTIONS,n);var u=r.addHandler(i,null,"message",null,null,null);return this.storeHandler(t,u),r.sendIQ(p.tree(),s,o),c},unsubscribe:function(t,n,i,s,o){var d=this._connection,r=d.getUniqueId("pubsubunsubscribenode"),c=a({from:this.jid,to:this.service,type:"set",id:r}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("unsubscribe",{node:t,jid:n});return i&&c.attrs({subid:i}),d.sendIQ(c.tree(),s,o),this.removeHandler(t),r},publish:function(t,n,i){var s=this._connection,o=s.getUniqueId("pubsubpublishnode"),d=a({from:this.jid,to:this.service,type:"set",id:o}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("publish",{node:t,jid:this.jid}).list("item",n);return s.addHandler(i,null,"iq",null,o,null),s.send(d.tree()),o},items:function(t,n,i,s){var o=a({from:this.jid,to:this.service,type:"get"}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("items",{node:t});return this._connection.sendIQ(o.tree(),n,i,s)},getSubscriptions:function(t){var n=this._connection,i=n.getUniqueId("pubsubsubscriptions"),s=a({from:this.jid,to:this.service,type:"get",id:i}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("subscriptions");return n.addHandler(t,null,"iq",null,i,null),n.send(s.tree()),i},getNodeSubscriptions:function(t,n){var i=this._connection,s=i.getUniqueId("pubsubsubscriptions"),o=a({from:this.jid,to:this.service,type:"get",id:s}).c("pubsub",{xmlns:e.NS.PUBSUB_OWNER}).c("subscriptions",{node:t});return i.addHandler(n,null,"iq",null,s,null),i.send(o.tree()),s},getSubOptions:function(t,n,i){var s=this._connection,o=s.getUniqueId("pubsubsuboptions"),d=a({from:this.jid,to:this.service,type:"get",id:o}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("options",{node:t,jid:this.jid});return n&&d.attrs({subid:n}),s.addHandler(i,null,"iq",null,o,null),s.send(d.tree()),o},getAffiliations:function(t,n){var i=this._connection,s=i.getUniqueId("pubsubaffiliations");"function"==typeof t&&(n=t,t=void 0);var o={},d={xmlns:e.NS.PUBSUB};t&&(o.node=t,d={xmlns:e.NS.PUBSUB_OWNER});var r=a({from:this.jid,to:this.service,type:"get",id:s}).c("pubsub",d).c("affiliations",o);return i.addHandler(n,null,"iq",null,s,null),i.send(r.tree()),s},setAffiliation:function(t,n,i,s){var o=this._connection,d=o.getUniqueId("pubsubaffiliations"),r=a({from:this.jid,to:this.service,type:"set",id:d}).c("pubsub",{xmlns:e.NS.PUBSUB_OWNER}).c("affiliations",{node:t}).c("affiliation",{jid:n,affiliation:i});return o.addHandler(s,null,"iq",null,d,null),o.send(r.tree()),d},publishAtom:function(a,n,s){Array.isArray(n)||(n=[n]);var o=[],d,r;for(d=0;d<n.length;d++)r=n[d],r.updated=r.updated||new Date().toISOString(),r.published&&r.published.toISOString&&(r.published=r.published.toISOString()),o.push({data:t("entry",{xmlns:e.NS.ATOM}).children(r).tree(),attrs:r.id?{id:r.id}:{}});return this.publish(a,o,s)}})}),function(e,t){define("omemo",["strophe","strophe.disco","strophe.pubsub"],function(e){t(e.Strophe,e.$build,e.$iq)})}(this,function(e,t,a){e.addConnectionPlugin("omemo",function(){let t;this._connection=null,t=function(t){this._connection=t,this.devices={},e.addNamespace("OMEMO","urn:xmpp:omemo:1"),e.addNamespace("PUBSUB_NODE_CONFIG","http://jabber.org/protocol/pubsub#node_config"),this._connection.disco.addFeature(e.NS.OMEMO),this._connection.disco.addFeature(e.NS.OMEMO+"+notify"),this._connection.disco.addFeature(e.NS.OMEMO+":devices+notify"),this._connection.disco.addFeature(e.NS.OMEMO+":bundles+notify")};var n=function(t){i.call(this,e.NS.OMEMO+":devices",{"pubsub#access_model":"open"},t)},i=function(t,n,i){let s=a({from:this._connection.jid,type:"set"}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("create",{node:t});n&&s.up().c("configure").form(e.NS.PUBSUB_NODE_CONFIG,n),this._connection.sendIQ(s,i)};return{init:t,parseUserDevices:function(t){let a={};return t.find(`devices[xmlns="${e.NS.OMEMO}"] device`).each(function(e,t){let n=$(t),i=n.attr("id"),s=n.attr("label");i&&(a[i]={id:i,label:s})}.bind(this)),a},getDevicesNode:function(t,i,s){let o={from:this._connection.jid,type:"get"};t&&(o.to=t);let d=a(o).c("pubsub",{xmlns:e.NS.PUBSUB}).c("items",{node:e.NS.OMEMO+":devices"});this._connection.sendIQ(d,i,function(e){404!=$(e).find("error").attr("code")||t?s&&s():n.call(this,i)}.bind(this))},configNode:function(t){let n=a({from:this._connection.jid,type:"set"}).c("pubsub",{xmlns:e.NS.PUBSUB+"#owner"}).c("configure",{node:`${e.NS.OMEMO}:bundles`}).form(e.NS.PUBSUB_NODE_CONFIG,{"pubsub#max_items":32});this._connection.sendIQ(n,t,t)},publishDevice:function(t,n,s,o){this.devices||(this.devices={}),t&&(this.devices[t]={id:t,label:n});let d=a({from:this._connection.jid,type:"set"}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("publish",{node:e.NS.OMEMO+":devices"}).c("item",{id:"current"}).c("devices",{xmlns:e.NS.OMEMO});for(var r in this.devices){let e=this.devices[r];if(!e.id)continue;let t={id:e.id};e.label&&(t.label=e.label),d.c("device",t).up()}this._connection.sendIQ(d,s,o)},createBundleNode:function(t){i.call(this,`${e.NS.OMEMO}:bundles`,{"pubsub#access_model":"open","pubsub#max_items":10},t)},createDeviceNode:n,publishBundle:function(t,n,s){let o=t.pks,d=t.spk,r=a({from:this._connection.jid,type:"set"}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("publish",{node:`${e.NS.OMEMO}:bundles`}).c("item",{id:t.device_id}).c("bundle",{xmlns:e.NS.OMEMO}).c("spk",{id:d.id}).t(d.key).up().c("spks").t(t.spks).up().c("ik").t(t.ik).up().c("prekeys");for(var c in o){let e=o[c];r.c("pk",{id:e.id}).t(e.key).up()}this._connection.sendIQ(r,n,s)},removeItemFromNode:function(t,n,i){let s=a({from:this._connection.jid,type:"set"}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("retract",{node:t}).c("item",{id:n});this._connection.sendIQ(s,i)},getBundleInfo:function(t,n,i){let s=a({type:"get",from:this._connection.jid,to:t.jid}).c("pubsub",{xmlns:e.NS.PUBSUB}).c("items",{node:`${e.NS.OMEMO}:bundles`});t.id&&s.c("item",{id:t.id}),this._connection.sendIQ(s,n,i)}}}())}),function(e,t){define("backbone.localsync",["backbone","underscore"],function(e,a){return t(e,a)})}(this,function(t,a){try{localStorage.setItem("test",1),localStorage.removeItem("test"),t.useLocalStorage=!0}catch(a){Storage.prototype._getItem=Storage.prototype.getItem,Storage.prototype._setItem=Storage.prototype.setItem,Storage.prototype._removeItem=Storage.prototype.removeItem,Storage.prototype.getItem=function(){},Storage.prototype.setItem=function(){},Storage.prototype.removeItem=function(){},t.useLocalStorage=!1}var e=function(e){this.name=e;var t=localStorage.getItem(this.name);this.records=this.from_string(t,[])},n=function(e,t){this.version=e.version||1,this.name=e.name;var a=indexedDB.open(this.name,this.version);a.onupgradeneeded=function(){let e=a.result;this.createStore(e)}.bind(this),a.onsuccess=function(){this.db=a.result,t&&t(),e.model.trigger("database_opened")}.bind(this),this.createStore=function(t){t.createObjectStore(e.objStoreName,{keyPath:e.primKey})}};a.extend(n.prototype,{put:function(e,t,a){if(!this.db)return void(a&&a(!1));let n=this.db.transaction([e],"readwrite").objectStore(e),i=n.put(t);i.onsuccess=function(){a&&a(!0)}.bind(this),i.onerror=function(){a&&a(!1)}.bind(this)},get_all:function(e,t,n){if(!this.db)return void(n&&n(null));let i=this.db.transaction([e],"readonly").objectStore(e),s;s=a.isNull(t)?i.getAll():i.getAll(t),s.onsuccess=function(e){var t=e.target.result;t===void 0?n&&n(null):n&&n(t)}.bind(this)},get:function(e,t,a){if(!this.db)return void(a&&a(null));let n=this.db.transaction([e],"readonly").objectStore(e),i=n.get(t);i.onsuccess=function(e){var t=e.target.result;t===void 0?a&&a(null):a&&a(t)}.bind(this)},remove:function(e,t,a){if(!this.db)return void(a&&a(!1));let n=this.db.transaction([e],"readwrite").objectStore(e);var i=n.delete(t);i.onsuccess=function(){a&&a(!0)}.bind(this),i.onerror=function(){a&&a(!1)}.bind(this)},clear_database:function(e,t){if(!this.db)return void(t&&t(!1));let a=this.db.transaction([e],"readwrite").objectStore(e);var n=a.clear();n.onsuccess=function(){t&&t(!0)}.bind(this),n.onerror=function(){t&&t(!1)}.bind(this)}}),a.extend(e.prototype,{from_string:function(e,t){if(!e)return t;try{return JSON.parse(e)}catch(a){return t||{}}},to_string:function(e){try{return JSON.stringify(e)}catch(t){return""}},save:function(){this.records.length?localStorage.setItem(this.name,this.to_string(this.records)):localStorage.removeItem(this.name)},clear:function(){a.each(this.records,function(e){localStorage.removeItem(this._itemName(e))}.bind(this)),localStorage.removeItem(this.name)},create:function(e){localStorage.setItem(this._itemName(e.id),this.to_string(e)),this.records.push(e.id),this.save()},update:function(e){localStorage.setItem(this._itemName(e.id),this.to_string(e)),a.contains(this.records,e.id)||(this.records.push(e.id),this.save())},find:function(e){var t=localStorage.getItem(this._itemName(e.id));return this.from_string(t,{})},findAll:function(){return a.reduce(this.records,function(e,t){var a=localStorage.getItem(this._itemName(t));return a&&e.push(this.from_string(a,{})),e}.bind(this),[])},destroy:function(e){localStorage.removeItem(this._itemName(e.id));var t=this.records.indexOf(e.id);0<=t&&(this.records.splice(t,1),this.save())},_itemName:function(e){return this.name+"-"+e}}),t.sync=function(e,t,a){var n=t.storage||t.collection&&t.collection.storage;if(!n)return!1;var i;"read"===e?i=t.id?n.find(t):n.findAll():"create"===e?i=n.create(t):"update"===e?i=n.update(t):"delete"===e?i=n.destroy(t):void 0;i?a.success(i):a.error("Record not found")},t.ModelWithStorage=t.Model.extend({initialize:function(t,a){this.storage=new e(a.storage_name),"before"===a.fetch&&this.fetch(),this._initialize&&this._initialize(t,a),"after"===a.fetch&&this.fetch()},clearStorage:function(){this.storage.clear()}}),t.ModelWithDataBase=t.Model.extend({initialize:function(e,t){t=t||{},this.database=new n(a.extend(t,{model:this})),this._initialize&&this._initialize(e,t),this.on("quit",this.onQuit,this)},clearDataBase:function(e){this.database.clear_database(e)},onQuit:function(){this.clearDataBase()}}),t.CollectionWithStorage=t.Collection.extend({initialize:function(t,a){this.storage=new e(a.storage_name),this._initialize&&this._initialize(t,a)},clearStorage:function(){this.storage.clear()}})}),!function(){"use strict";function t(e){e?(f[0]=f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0,this.blocks=f):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}var h="object"==typeof window?window:{},s=!h.JS_SHA1_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;s&&(h=global);var i=!h.JS_SHA1_NO_COMMON_JS&&"object"==typeof module&&module.exports,e="function"==typeof define&&define.amd,r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],o=[-2147483648,8388608,32768,128],n=[24,16,8,0],a=["hex","array","digest","arrayBuffer"],f=[],u=function(e){return function(a){return new t(!0).update(a)[e]()}},c=function(){var n=u("hex");s&&(n=p(n)),n.create=function(){return new t},n.update=function(e){return n.create().update(e)};for(var o=0,d;o<a.length;++o)d=a[o],n[d]=u(d);return n},p=function(t){var h=eval("require('crypto')"),s=eval("require('buffer').Buffer"),i=function(e){if("string"==typeof e)return h.createHash("sha1").update(e,"utf8").digest("hex");if(e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(void 0===e.length)return t(e);return h.createHash("sha1").update(new s(e)).digest("hex")};return i};t.prototype.update=function(d){if(!this.finalized){var c="string"!=typeof d;c&&d.constructor===h.ArrayBuffer&&(d=new Uint8Array(d));for(var s=0,l=d.length||0,o=this.blocks,a,p;s<l;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),c)for(p=this.start;s<l&&64>p;++s)o[p>>2]|=d[s]<<n[3&p++];else for(p=this.start;s<l&&64>p;++s)128>(a=d.charCodeAt(s))?o[p>>2]|=a<<n[3&p++]:2048>a?(o[p>>2]|=(192|a>>6)<<n[3&p++],o[p>>2]|=(128|63&a)<<n[3&p++]):55296>a||57344<=a?(o[p>>2]|=(224|a>>12)<<n[3&p++],o[p>>2]|=(128|63&a>>6)<<n[3&p++],o[p>>2]|=(128|63&a)<<n[3&p++]):(a=65536+((1023&a)<<10|1023&d.charCodeAt(++s)),o[p>>2]|=(240|a>>18)<<n[3&p++],o[p>>2]|=(128|63&a>>12)<<n[3&p++],o[p>>2]|=(128|63&a>>6)<<n[3&p++],o[p>>2]|=(128|63&a)<<n[3&p++]);this.lastByteIndex=p,this.bytes+=p-this.start,64<=p?(this.block=o[16],this.start=p-64,this.hash(),this.hashed=!0):this.start=p}return 4294967295<this.bytes&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes%=4294967296),this}},t.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=o[3&t],this.block=e[16],56<=t&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},t.prototype.hash=function(){var a=this.h0,d=this.h1,c=this.h2,l=this.h3,p=this.h4,u=this.blocks,n,m;for(n=16;80>n;++n)m=u[n-3]^u[n-8]^u[n-14]^u[n-16],u[n]=m<<1|m>>>31;for(n=0;20>n;n+=5)a=(m=(d=(m=(c=(m=(l=(m=(p=(m=a<<5|a>>>27)+(d&c|~d&l)+p+1518500249+u[n]<<0)<<5|p>>>27)+(a&(d=d<<30|d>>>2)|~a&c)+l+1518500249+u[n+1]<<0)<<5|l>>>27)+(p&(a=a<<30|a>>>2)|~p&d)+c+1518500249+u[n+2]<<0)<<5|c>>>27)+(l&(p=p<<30|p>>>2)|~l&a)+d+1518500249+u[n+3]<<0)<<5|d>>>27)+(c&(l=l<<30|l>>>2)|~c&p)+a+1518500249+u[n+4]<<0,c=c<<30|c>>>2;for(;40>n;n+=5)a=(m=(d=(m=(c=(m=(l=(m=(p=(m=a<<5|a>>>27)+(d^c^l)+p+1859775393+u[n]<<0)<<5|p>>>27)+(a^(d=d<<30|d>>>2)^c)+l+1859775393+u[n+1]<<0)<<5|l>>>27)+(p^(a=a<<30|a>>>2)^d)+c+1859775393+u[n+2]<<0)<<5|c>>>27)+(l^(p=p<<30|p>>>2)^a)+d+1859775393+u[n+3]<<0)<<5|d>>>27)+(c^(l=l<<30|l>>>2)^p)+a+1859775393+u[n+4]<<0,c=c<<30|c>>>2;for(;60>n;n+=5)a=(m=(d=(m=(c=(m=(l=(m=(p=(m=a<<5|a>>>27)+(d&c|d&l|c&l)+p-1894007588+u[n]<<0)<<5|p>>>27)+(a&(d=d<<30|d>>>2)|a&c|d&c)+l-1894007588+u[n+1]<<0)<<5|l>>>27)+(p&(a=a<<30|a>>>2)|p&d|a&d)+c-1894007588+u[n+2]<<0)<<5|c>>>27)+(l&(p=p<<30|p>>>2)|l&a|p&a)+d-1894007588+u[n+3]<<0)<<5|d>>>27)+(c&(l=l<<30|l>>>2)|c&p|l&p)+a-1894007588+u[n+4]<<0,c=c<<30|c>>>2;for(;80>n;n+=5)a=(m=(d=(m=(c=(m=(l=(m=(p=(m=a<<5|a>>>27)+(d^c^l)+p-899497514+u[n]<<0)<<5|p>>>27)+(a^(d=d<<30|d>>>2)^c)+l-899497514+u[n+1]<<0)<<5|l>>>27)+(p^(a=a<<30|a>>>2)^d)+c-899497514+u[n+2]<<0)<<5|c>>>27)+(l^(p=p<<30|p>>>2)^a)+d-899497514+u[n+3]<<0)<<5|d>>>27)+(c^(l=l<<30|l>>>2)^p)+a-899497514+u[n+4]<<0,c=c<<30|c>>>2;this.h0=this.h0+a<<0,this.h1=this.h1+d<<0,this.h2=this.h2+c<<0,this.h3=this.h3+l<<0,this.h4=this.h4+p<<0},t.prototype.hex=function(){this.finalize();var a=this.h0,t=this.h1,n=this.h2,s=this.h3,i=this.h4;return r[15&a>>28]+r[15&a>>24]+r[15&a>>20]+r[15&a>>16]+r[15&a>>12]+r[15&a>>8]+r[15&a>>4]+r[15&a]+r[15&t>>28]+r[15&t>>24]+r[15&t>>20]+r[15&t>>16]+r[15&t>>12]+r[15&t>>8]+r[15&t>>4]+r[15&t]+r[15&n>>28]+r[15&n>>24]+r[15&n>>20]+r[15&n>>16]+r[15&n>>12]+r[15&n>>8]+r[15&n>>4]+r[15&n]+r[15&s>>28]+r[15&s>>24]+r[15&s>>20]+r[15&s>>16]+r[15&s>>12]+r[15&s>>8]+r[15&s>>4]+r[15&s]+r[15&i>>28]+r[15&i>>24]+r[15&i>>20]+r[15&i>>16]+r[15&i>>12]+r[15&i>>8]+r[15&i>>4]+r[15&i]},t.prototype.toString=t.prototype.hex,t.prototype.digest=function(){this.finalize();var a=this.h0,t=this.h1,n=this.h2,s=this.h3,i=this.h4;return[255&a>>24,255&a>>16,255&a>>8,255&a,255&t>>24,255&t>>16,255&t>>8,255&t,255&n>>24,255&n>>16,255&n>>8,255&n,255&s>>24,255&s>>16,255&s>>8,255&s,255&i>>24,255&i>>16,255&i>>8,255&i]},t.prototype.array=t.prototype.digest,t.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),e};var y=c();i?module.exports=y:(h.sha1=y,e&&define("sha1_hasher",[],function(){return y}))}(),!function(M,L,a,Y){"use strict";var F=Math.abs;function J(e,t,a){return setTimeout(p(e,a),t)}function d(e,t,a){return!!Array.isArray(e)&&(l(e,a[t],a),!0)}function l(t,a,n){if(t)if(t.forEach)t.forEach(a,n);else if(t.length!==Y)for(i=0;i<t.length;)a.call(n,t[i],i,t),i++;else for(var i in t)t.hasOwnProperty(i)&&a.call(n,t[i],i,t)}function m(t,a,n){for(var i=Object.keys(a),e=0;e<i.length;)(!n||n&&t[i[e]]===Y)&&(t[i[e]]=a[i[e]]),e++;return t}function n(e,t){return m(e,t,!0)}function o(t,a,n){var i=a.prototype,s;s=t.prototype=Object.create(i),s.constructor=t,s._super=i,n&&m(s,n)}function p(e,t){return function(){return e.apply(t,arguments)}}function k(e,t){return typeof e==f?e.apply(t?t[0]||Y:Y,t):e}function r(e,t){return e===Y?t:e}function s(e,t,a){l(w(t),function(t){e.addEventListener(t,a,!1)})}function t(e,t,a){l(w(t),function(t){e.removeEventListener(t,a,!1)})}function u(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function v(e,t){return-1<e.indexOf(t)}function w(e){return e.trim().split(/\s+/g)}function x(e,t,a){if(e.indexOf&&!a)return e.indexOf(t);for(var n=0;n<e.length;){if(a&&e[n][a]==t||!a&&e[n]===t)return n;n++}return-1}function q(e){return Array.prototype.slice.call(e,0)}function z(t,n,a){for(var i=[],s=[],e=0,o;e<t.length;)o=n?t[e][n]:t[e],0>x(s,o)&&i.push(t[e]),s[e]=o,e++;return a&&(i=n?i.sort(function(e,t){return e[n]>t[n]}):i.sort()),i}function A(e,t){for(var a=t[0].toUpperCase()+t.slice(1),n=0,i,s;n<Ye.length;){if(i=Ye[n],s=i?i+a:t,s in e)return s;n++}return Y}function c(){return i++}function b(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function E(e,t){var a=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){k(e.options.enable,[e])&&a.handler(t)},this.init()}function D(e){var t=e.options.inputClass,a;return a=t?t:G?ce:H?ue:j?ge:re,new a(e,B)}function B(t,a,n){var i=n.pointers.length,s=n.changedPointers.length,e=a&N&&0==i-s;n.isFirst=!!e,n.isFinal=!!(a&(P|Q)&&0==i-s),e&&(t.session={}),n.eventType=a,K(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function K(t,a){var n=t.session,s=a.pointers,o=s.length;n.firstInput||(n.firstInput=ee(a)),1<o&&!n.firstMultiple?n.firstMultiple=ee(a):1===o&&(n.firstMultiple=!1);var e=n.firstInput,d=n.firstMultiple,r=d?d.center:e.center,c=a.center=te(s);a.timeStamp=Ie(),a.deltaTime=a.timeStamp-e.timeStamp,a.angle=se(r,c),a.distance=ie(r,c),X(n,a),a.offsetDirection=ne(a.deltaX,a.deltaY),a.scale=d?de(d.pointers,s):1,a.rotation=d?oe(d.pointers,s):0,Z(n,a);var i=t.element;u(a.srcEvent.target,i)&&(i=a.srcEvent.target),a.target=i}function X(t,a){var n=a.center,i=t.offsetDelta||{},s=t.prevDelta||{},o=t.prevInput||{};(a.eventType===N||o.eventType===P)&&(s=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),a.deltaX=s.x+(n.x-i.x),a.deltaY=s.y+(n.y-i.y)}function Z(t,a){var n=t.lastInterval||a,i=a.timeStamp-n.timeStamp,e,s,o,d;if(a.eventType!=Q&&(i>I||n.velocity===Y)){var r=n.deltaX-a.deltaX,c=n.deltaY-a.deltaY,l=ae(i,r,c);s=l.x,o=l.y,e=h(l.x)>h(l.y)?l.x:l.y,d=ne(r,c),t.lastInterval=a}else e=n.velocity,s=n.velocityX,o=n.velocityY,d=n.direction;a.velocity=e,a.velocityX=s,a.velocityY=o,a.direction=d}function ee(e){for(var t=[],a=0;a<e.pointers.length;)t[a]={clientX:g(e.pointers[a].clientX),clientY:g(e.pointers[a].clientY)},a++;return{timeStamp:Ie(),pointers:t,center:te(t),deltaX:e.deltaX,deltaY:e.deltaY}}function te(t){var a=t.length;if(1===a)return{x:g(t[0].clientX),y:g(t[0].clientY)};for(var n=0,i=0,s=0;a>s;)n+=t[s].clientX,i+=t[s].clientY,s++;return{x:g(n/a),y:g(i/a)}}function ae(e,t,a){return{x:t/e||0,y:a/e||0}}function ne(e,t){return e===t?R:h(e)>=h(t)?0<e?S:T:0<t?U:V}function ie(t,a,n){n||(n=W);var i=a[n[0]]-t[n[0]],s=a[n[1]]-t[n[1]];return Math.sqrt(i*i+s*s)}function se(t,a,n){n||(n=W);var i=a[n[0]]-t[n[0]],s=a[n[1]]-t[n[1]];return 180*Math.atan2(s,i)/Math.PI}function oe(e,t){return se(t[1],t[0],je)-se(e[1],e[0],je)}function de(e,t){return ie(t[0],t[1],je)/ie(e[0],e[1],je)}function re(){this.evEl=Oe,this.evWin=Re,this.allow=!0,this.pressed=!1,E.apply(this,arguments)}function ce(){this.evEl=Be,this.evWin=$e,E.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function le(){this.evTarget=Ve,this.evWin=Ue,this.started=!1,E.apply(this,arguments)}function pe(e,t){var a=q(e.touches),n=q(e.changedTouches);return t&(P|Q)&&(a=z(a.concat(n),"identifier",!0)),[a,n]}function ue(){this.evTarget=We,this.targetIds={},E.apply(this,arguments)}function me(t,a){var n=q(t.touches),s=this.targetIds;if(a&(N|O)&&1===n.length)return s[n[0].identifier]=!0,[n,n];var o=q(t.changedTouches),d=[],r=this.target,i,c;if(c=n.filter(function(e){return u(e.target,r)}),a===N)for(i=0;i<c.length;)s[c[i].identifier]=!0,i++;for(i=0;i<o.length;)s[o[i].identifier]&&d.push(o[i]),a&(P|Q)&&delete s[o[i].identifier],i++;return d.length?[z(c.concat(d),"identifier",!0),d]:void 0}function ge(){E.apply(this,arguments);var e=p(this.handler,this);this.touch=new ue(this.manager,e),this.mouse=new re(this.manager,e)}function he(e,t){this.manager=e,this.set(t)}function _e(e){if(v(e,Ke))return Ke;var t=v(e,Xe),a=v(e,Ze);return t&&a?Xe+" "+Ze:t||a?t?Xe:Ze:v(e,Je)?Je:Qe}function fe(e){this.id=c(),this.manager=null,this.options=n(e||{},this.defaults),this.options.enable=r(this.options.enable,!0),this.state=et,this.simultaneous={},this.requireFail=[]}function ve(e){return e&it?"cancel":e&nt?"end":e&at?"move":e&tt?"start":""}function ye(e){return e==V?"down":e==U?"up":e==S?"left":e==T?"right":""}function be(e,t){var a=t.manager;return a?a.get(e):e}function Ae(){fe.apply(this,arguments)}function xe(){Ae.apply(this,arguments),this.pX=null,this.pY=null}function we(){Ae.apply(this,arguments)}function ke(){fe.apply(this,arguments),this._timer=null,this._input=null}function Se(){Ae.apply(this,arguments)}function Me(){Ae.apply(this,arguments)}function Ce(){fe.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Le(e,t){return t=t||{},t.recognizers=r(t.recognizers,Le.defaults.preset),new Te(e,t)}function Te(e,t){t=t||{},this.options=n(t,Le.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=D(this),this.touchAction=new he(this,this.options.touchAction),Ee(this,!0),l(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function Ee(e,t){var n=e.element;l(e.options.cssProps,function(e,a){n.style[A(n.style,a)]=t?e:""})}function De(e,t){var a=L.createEvent("Event");a.initEvent(e,!0,!0),a.gesture=t,t.target.dispatchEvent(a)}var Ye=["","webkit","moz","MS","ms","o"],e=L.createElement("div"),f="function",g=Math.round,h=F,Ie=Date.now,i=1,j=("ontouchstart"in M),G=A(M,"PointerEvent")!==Y,H=j&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),I=25,N=1,O=2,P=4,Q=8,R=1,S=2,T=4,U=8,V=16,W=["x","y"],je=["clientX","clientY"];E.prototype={handler:function(){},init:function(){this.evEl&&s(this.element,this.evEl,this.domHandler),this.evTarget&&s(this.target,this.evTarget,this.domHandler),this.evWin&&s(b(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&t(this.element,this.evEl,this.domHandler),this.evTarget&&t(this.target,this.evTarget,this.domHandler),this.evWin&&t(b(this.element),this.evWin,this.domHandler)}};var Ne={mousedown:1,mousemove:2,mouseup:4},Oe="mousedown",Re="mousemove mouseup";o(re,E,{handler:function(e){var t=Ne[e.type];t&1&&0===e.button&&(this.pressed=!0),t&2&&1!==e.which&&(t=4),this.pressed&&this.allow&&(t&4&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var He={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Pe={2:"touch",3:"pen",4:"mouse",5:"kinect"},Be="pointerdown",$e="pointermove pointerup pointercancel";M.MSPointerEvent&&(Be="MSPointerDown",$e="MSPointerMove MSPointerUp MSPointerCancel"),o(ce,E,{handler:function(t){var a=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),s=He[i],e=Pe[t.pointerType]||t.pointerType,o=x(a,t.pointerId,"pointerId");s&1&&(0===t.button||e=="touch")?0>o&&(a.push(t),o=a.length-1):s&12&&(n=!0),0>o||(a[o]=t,this.callback(this.manager,s,{pointers:a,changedPointers:[t],pointerType:e,srcEvent:t}),n&&a.splice(o,1))}});var Fe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Ve="touchstart",Ue="touchstart touchmove touchend touchcancel";o(le,E,{handler:function(e){var t=Fe[e.type];if(t===1&&(this.started=!0),this.started){var a=pe.call(this,e,t);t&12&&0==a[0].length-a[1].length&&(this.started=!1),this.callback(this.manager,t,{pointers:a[0],changedPointers:a[1],pointerType:"touch",srcEvent:e})}}});var qe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},We="touchstart touchmove touchend touchcancel";o(ue,E,{handler:function(e){var t=qe[e.type],a=me.call(this,e,t);a&&this.callback(this.manager,t,{pointers:a[0],changedPointers:a[1],pointerType:"touch",srcEvent:e})}}),o(ge,E,{handler:function(t,a,n){var i=n.pointerType=="touch",s=n.pointerType=="mouse";if(i)this.mouse.allow=!1;else if(s&&!this.mouse.allow)return;a&12&&(this.mouse.allow=!0),this.callback(t,a,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ze=A(e.style,"touchAction"),Ge=ze!==Y,Qe="auto",Je="manipulation",Ke="none",Xe="pan-x",Ze="pan-y";he.prototype={set:function(e){e=="compute"&&(e=this.compute()),Ge&&(this.manager.element.style[ze]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return l(this.manager.recognizers,function(t){k(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),_e(e.join(" "))},preventDefaults:function(t){if(!Ge){var a=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return a.preventDefault(),void 0;var i=this.actions,s=v(i,"none"),e=v(i,"pan-y"),o=v(i,"pan-x");return s||e&&n&6||o&&n&24?this.preventSrc(a):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var et=1,tt=2,at=4,nt=8,it=16;fe.prototype={defaults:{},set:function(e){return m(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(d(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=be(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return d(e,"dropRecognizeWith",this)?this:(e=be(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(d(e,"requireFailure",this))return this;var t=this.requireFail;return e=be(e,this),-1===x(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(d(e,"dropRequireFailure",this))return this;e=be(e,this);var t=x(this.requireFail,e);return-1<t&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){a.manager.emit(a.options.event+(t?ve(n):""),e)}var a=this,n=this.state;8>n&&t(!0),t(),n>=8&&t(!0)},tryEmit:function(e){return this.canEmit()?this.emit(e):(this.state=32,void 0)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&33))return!1;e++}return!0},recognize:function(e){var t=m({},e);return k(this.options.enable,[this,t])?(this.state&56&&(this.state=1),this.state=this.process(t),this.state&30&&this.tryEmit(t),void 0):(this.reset(),this.state=32,void 0)},process:function(){},getTouchAction:function(){},reset:function(){}},o(Ae,fe,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(t){var a=this.state,n=t.eventType,i=a&6,s=this.attrTest(t);return i&&(n&8||!s)?a|16:i||s?n&4?a|8:a&2?a|4:2:32}}),o(xe,Ae,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return e&6&&t.push("pan-y"),e&24&&t.push("pan-x"),t},directionTest:function(t){var a=this.options,n=!0,i=t.distance,s=t.direction,o=t.deltaX,r=t.deltaY;return s&a.direction||(a.direction&6?(s=0===o?1:0>o?2:4,n=o!=this.pX,i=F(t.deltaX)):(s=0===r?1:0>r?8:16,n=r!=this.pY,i=F(t.deltaY))),t.direction=s,n&&i>a.threshold&&s&a.direction},attrTest:function(e){return Ae.prototype.attrTest.call(this,e)&&(this.state&2||!(this.state&2)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ye(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),o(we,Ae,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(F(e.scale-1)>this.options.threshold||this.state&2)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=1>e.scale?"in":"out";this.manager.emit(this.options.event+t,e)}}}),o(ke,fe,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return["auto"]},process:function(t){var a=this.options,n=t.pointers.length===a.pointers,i=t.distance<a.threshold,s=t.deltaTime>a.time;if(this._input=t,!i||!n||t.eventType&12&&!s)this.reset();else if(t.eventType&1)this.reset(),this._timer=J(function(){this.state=8,this.tryEmit()},a.time,this);else if(t.eventType&4)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===8&&(e&&e.eventType&4?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=Ie(),this.manager.emit(this.options.event,this._input)))}}),o(Se,Ae,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(F(e.rotation)>this.options.threshold||this.state&2)}}),o(Me,Ae,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:30,pointers:1},getTouchAction:function(){return xe.prototype.getTouchAction.call(this)},attrTest:function(e){var t=this.options.direction,a;return t&30?a=e.velocity:t&6?a=e.velocityX:t&24&&(a=e.velocityY),this._super.attrTest.call(this,e)&&t&e.direction&&e.distance>this.options.threshold&&h(a)>this.options.velocity&&e.eventType&4},emit:function(e){var t=ye(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),o(Ce,fe,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var a=this.options,n=t.pointers.length===a.pointers,i=t.distance<a.threshold,s=t.deltaTime<a.time;if(this.reset(),t.eventType&1&&0===this.count)return this.failTimeout();if(i&&s&&n){if(4!=t.eventType)return this.failTimeout();var e=!this.pTime||t.timeStamp-this.pTime<a.interval,o=!this.pCenter||ie(this.pCenter,t.center)<a.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,o&&e?this.count+=1:this.count=1,this._input=t;var d=this.count%a.taps;if(0==d)return this.hasRequireFailures()?(this._timer=J(function(){this.state=8,this.tryEmit()},a.interval,this),2):8}return 32},failTimeout:function(){return this._timer=J(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==8&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Le.VERSION="2.0.4",Le.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Se,{enable:!1}],[we,{enable:!1},["rotate"]],[Me,{direction:6}],[xe,{direction:6},["swipe"]],[Ce],[Ce,{event:"doubletap",taps:2},["tap"]],[ke]],cssProps:{userSelect:"default",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};Te.prototype={set:function(e){return m(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(t){var a=this.session;if(!a.stopped){this.touchAction.preventDefaults(t);var n=this.recognizers,i=a.curRecognizer,s;(!i||i&&i.state&8)&&(i=a.curRecognizer=null);for(var o=0;o<n.length;)s=n[o],a.stopped===2||i&&s!=i&&!s.canRecognizeWith(i)?s.reset():s.recognize(t),!i&&s.state&14&&(i=a.curRecognizer=s),o++}},get:function(e){if(e instanceof fe)return e;for(var t=this.recognizers,a=0;a<t.length;a++)if(t[a].options.event==e)return t[a];return null},add:function(e){if(d(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(d(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(x(t,e),1),this.touchAction.update(),this},on:function(e,t){var n=this.handlers;return l(w(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},off:function(e,t){var n=this.handlers;return l(w(e),function(e){t?n[e].splice(x(n[e],t),1):delete n[e]}),this},emit:function(e,t){this.options.domEvents&&De(e,t);var a=this.handlers[e]&&this.handlers[e].slice();if(a&&a.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var n=0;n<a.length;)a[n](t),n++}},destroy:function(){this.element&&Ee(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},m(Le,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Te,Input:E,TouchAction:he,TouchInput:ue,MouseInput:re,PointerEventInput:ce,TouchMouseInput:ge,SingleTouchInput:le,Recognizer:fe,AttrRecognizer:Ae,Tap:Ce,Pan:xe,Swipe:Me,Pinch:we,Rotate:Se,Press:ke,on:s,off:t,each:l,merge:n,extend:m,inherit:o,bindFn:p,prefixed:A}),typeof define=="function"&&define.amd?define("hammerjs",[],function(){return Le}):"undefined"!=typeof module&&module.exports?module.exports=Le:M[a]=Le}(window,document,"Hammer"),define("materialize",["jquery","hammerjs"],function(h,f){var v=Math.exp,A=Math.asin,w=Math.sin,k=Math.sqrt,M=Math.round,L=Math.abs,T=Math.cos,E=Math.PI,D=String.fromCharCode,Y=Math.floor,I=Math.pow,O=Math.min,R=Math.max;window.$=window.jQuery=$=h,h.easing.jswing=h.easing.swing,h.extend(h.easing,{def:"easeOutQuad",swing:function(e,a,t,n,i){return h.easing[h.easing.def](e,a,t,n,i)},easeInQuad:function(e,a,n,i,s){return i*(a/=s)*a+n},easeOutQuad:function(e,a,n,i,s){return-i*(a/=s)*(a-2)+n},easeInOutQuad:function(e,a,n,i,s){return 1>(a/=s/2)?i/2*a*a+n:-i/2*(--a*(a-2)-1)+n},easeInCubic:function(e,a,n,i,s){return i*(a/=s)*a*a+n},easeOutCubic:function(e,a,n,i,s){return i*((a=a/s-1)*a*a+1)+n},easeInOutCubic:function(e,a,n,i,s){return 1>(a/=s/2)?i/2*a*a*a+n:i/2*((a-=2)*a*a+2)+n},easeInQuart:function(e,a,n,i,s){return i*(a/=s)*a*a*a+n},easeOutQuart:function(e,a,n,i,s){return-i*((a=a/s-1)*a*a*a-1)+n},easeInOutQuart:function(e,a,n,i,s){return 1>(a/=s/2)?i/2*a*a*a*a+n:-i/2*((a-=2)*a*a*a-2)+n},easeInQuint:function(e,a,n,i,s){return i*(a/=s)*a*a*a*a+n},easeOutQuint:function(e,a,n,i,s){return i*((a=a/s-1)*a*a*a*a+1)+n},easeInOutQuint:function(e,a,n,i,s){return 1>(a/=s/2)?i/2*a*a*a*a*a+n:i/2*((a-=2)*a*a*a*a+2)+n},easeInSine:function(e,a,t,n,i){return-n*T(a/i*(E/2))+n+t},easeOutSine:function(e,a,t,n,i){return n*w(a/i*(E/2))+t},easeInOutSine:function(e,a,t,n,i){return-n/2*(T(E*a/i)-1)+t},easeInExpo:function(e,a,t,n,i){return 0==a?t:n*I(2,10*(a/i-1))+t},easeOutExpo:function(e,a,t,n,i){return a==i?t+n:n*(-I(2,-10*a/i)+1)+t},easeInOutExpo:function(e,a,n,i,s){return 0==a?n:a==s?n+i:1>(a/=s/2)?i/2*I(2,10*(a-1))+n:i/2*(-I(2,-10*--a)+2)+n},easeInCirc:function(e,a,n,i,s){return-i*(k(1-(a/=s)*a)-1)+n},easeOutCirc:function(e,a,n,i,s){return i*k(1-(a=a/s-1)*a)+n},easeInOutCirc:function(e,a,n,i,s){return 1>(a/=s/2)?-i/2*(k(1-a*a)-1)+n:i/2*(k(1-(a-=2)*a)+1)+n},easeInElastic:function(e,n,i,o,r){var d=1.70158,c=0,l=o;if(0==n)return i;if(1==(n/=r))return i+o;if(c||(c=.3*r),l<L(o)){l=o;var d=c/4}else var d=c/(2*E)*A(o/l);return-(l*I(2,10*(n-=1))*w((n*r-d)*(2*E)/c))+i},easeOutElastic:function(e,n,i,o,r){var d=1.70158,c=0,l=o;if(0==n)return i;if(1==(n/=r))return i+o;if(c||(c=.3*r),l<L(o)){l=o;var d=c/4}else var d=c/(2*E)*A(o/l);return l*I(2,-10*n)*w((n*r-d)*(2*E)/c)+o+i},easeInOutElastic:function(e,n,i,o,r){var d=1.70158,c=0,l=o;if(0==n)return i;if(2==(n/=r/2))return i+o;if(c||(c=r*(.3*1.5)),l<L(o)){l=o;var d=c/4}else var d=c/(2*E)*A(o/l);return 1>n?-.5*(l*I(2,10*(n-=1))*w((n*r-d)*(2*E)/c))+i:.5*(l*I(2,-10*(n-=1))*w((n*r-d)*(2*E)/c))+o+i},easeInBack:function(e,a,n,i,o,d){return null==d&&(d=1.70158),i*(a/=o)*a*((d+1)*a-d)+n},easeOutBack:function(e,a,n,i,o,d){return null==d&&(d=1.70158),i*((a=a/o-1)*a*((d+1)*a+d)+1)+n},easeInOutBack:function(e,a,n,i,o,d){return null==d&&(d=1.70158),1>(a/=o/2)?i/2*(a*a*(((d*=1.525)+1)*a-d))+n:i/2*((a-=2)*a*(((d*=1.525)+1)*a+d)+2)+n},easeInBounce:function(e,a,t,n,i){return n-h.easing.easeOutBounce(e,i-a,0,n,i)+t},easeOutBounce:function(e,a,n,i,s){return(a/=s)<1/2.75?i*(7.5625*a*a)+n:a<2/2.75?i*(7.5625*(a-=1.5/2.75)*a+.75)+n:a<2.5/2.75?i*(7.5625*(a-=2.25/2.75)*a+.9375)+n:i*(7.5625*(a-=2.625/2.75)*a+.984375)+n},easeInOutBounce:function(e,a,t,n,i){return a<i/2?.5*h.easing.easeInBounce(e,2*a,0,n,i)+t:.5*h.easing.easeOutBounce(e,2*a-i,0,n,i)+.5*n+t}});h.extend(h.easing,{easeInOutMaterial:function(e,a,n,i,s){return 1>(a/=s/2)?i/2*a*a+n:i/4*((a-=2)*a*a+2)+n}});h.Velocity?console.log("Velocity is already loaded. You may be needlessly importing Velocity again; note that Materialize includes Velocity."):(!function(d){function c(n){var e=n.length,t=p.type(n);return!("function"===t||p.isWindow(n))&&(!!(1===n.nodeType&&e)||"array"===t||0===e||"number"==typeof e&&0<e&&e-1 in n)}if(!d.jQuery){var p=function(a,e){return new p.fn.init(a,e)};p.isWindow=function(t){return null!=t&&t==t.window},p.type=function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?t[n.call(a)]||"object":typeof a},p.isArray=Array.isArray||function(t){return"array"===p.type(t)},p.isPlainObject=function(n){if(!n||"object"!==p.type(n)||n.nodeType||p.isWindow(n))return!1;try{if(n.constructor&&!a.call(n,"constructor")&&!a.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(var e in n);return void 0===e||a.call(n,e)},p.each=function(t,e,d){var a=0,r=t.length,i=c(t),s;if(d){if(i)for(;r>a&&(s=e.apply(t[a],d),!1!==s);a++);else for(a in t)if(s=e.apply(t[a],d),!1===s)break;}else if(i)for(;r>a&&(s=e.call(t[a],a,t[a]),!1!==s);a++);else for(a in t)if(s=e.call(t[a],a,t[a]),!1===s)break;return t},p.data=function(a,e,t){if(void 0===t){var n=a[p.expando],s=n&&r[n];if(void 0===e)return s;if(s&&e in s)return s[e]}else if(void 0!==e){var n=a[p.expando]||(a[p.expando]=++p.uuid);return r[n]=r[n]||{},r[n][e]=t,t}},p.removeData=function(a,e){var t=a[p.expando],n=t&&r[t];n&&p.each(e,function(a,e){delete n[e]})},p.extend=function(){var d=arguments[0]||{},r=1,m=arguments.length,u=!1,g,h,f,v,b,A;for("boolean"==typeof d&&(u=d,d=arguments[r]||{},r++),"object"!=typeof d&&"function"!==p.type(d)&&(d={}),r===m&&(d=this,r--);m>r;r++)if(null!=(b=arguments[r]))for(v in b)g=d[v],f=b[v],d!==f&&(u&&f&&(p.isPlainObject(f)||(h=p.isArray(f)))?(h?(h=!1,A=g&&p.isArray(g)?g:[]):A=g&&p.isPlainObject(g)?g:{},d[v]=p.extend(u,A,f)):void 0!==f&&(d[v]=f));return d},p.queue=function(t,e,s){function n(t,e){var n=e||[];return null!=t&&(c(Object(t))?!function(i,e){for(var t=+e.length,s=0,o=i.length;t>s;)i[o++]=e[s++];if(t!=t)for(;void 0!==e[s];)i[o++]=e[s++];return i.length=o,i}(n,"string"==typeof t?[t]:t):[].push.call(n,t)),n}if(t){e=(e||"fx")+"queue";var o=p.data(t,e);return s?(!o||p.isArray(s)?o=p.data(t,e,n(s)):o.push(s),o):o||[]}},p.dequeue=function(a,i){p.each(a.nodeType?[a]:a,function(t,e){i=i||"fx";var a=p.queue(e,i),n=a.shift();"inprogress"===n&&(n=a.shift()),n&&("fx"===i&&a.unshift("inprogress"),n.call(e,function(){p.dequeue(e,i)}))})},p.fn=p.prototype={init:function(t){if(t.nodeType)return this[0]=t,this;throw new Error("Not a DOM node.")},offset:function(){var e=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:e.top+(d.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:e.left+(d.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function i(){for(var t=this.offsetParent||document;t&&"html"===!t.nodeType.toLowerCase&&"static"===t.style.position;)t=t.offsetParent;return t||document}var s=this[0],i=i.apply(s),t=this.offset(),a=/^(?:body|html)$/i.test(i.nodeName)?{top:0,left:0}:p(i).offset();return t.top-=parseFloat(s.style.marginTop)||0,t.left-=parseFloat(s.style.marginLeft)||0,i.style&&(a.top+=parseFloat(i.style.borderTopWidth)||0,a.left+=parseFloat(i.style.borderLeftWidth)||0),{top:t.top-a.top,left:t.left-a.left}}};var r={};p.expando="velocity"+new Date().getTime(),p.uuid=0;for(var t={},a=t.hasOwnProperty,n=t.toString,e=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],i=0;i<e.length;i++)t["[object "+e[i]+"]"]=e[i].toLowerCase();p.fn.init.prototype=p.fn,d.Velocity={Utilities:p}}}(window),function(t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&define.amd?t():t()}(function(){return function(A,k,C,U){function e(i){for(var e=-1,s=i?i.length:0,o=[],a;++e<s;)a=i[e],a&&o.push(a);return o}function a(t){return c.isWrapped(t)?t=[].slice.call(t):c.isNode(t)&&(t=[t]),t}function J(a){var e=X.data(a,"velocity");return null===e?U:e}function n(a){return function(e){return M(e*a)*(1/a)}}function i(A,M,E,r){function n(a,e){return 1-3*e+3*a}function o(a,e){return 3*e-6*a}function i(t){return 3*t}function D(a,e,t){return((n(e,t)*a+o(e,t))*a+i(e))*a}function Y(a,e,t){return 3*n(e,t)*a*a+2*o(e,t)*a+i(e)}function u(e,t){for(var a=0,s;l>a;++a){if(s=Y(t,A,E),0===s)return t;var d=D(t,A,E)-e;t-=d/s}return t}function t(){for(var e=0;h>e;++e)x[e]=D(e*f,A,E)}function c(e,t,a){var d=0,c,l;do l=t+(a-t)/2,c=D(l,A,E)-e,0<c?a=l:t=l;while(L(c)>m&&++d<g);return l}function s(e){for(var t=0,a=1;a!=h-1&&x[a]<=e;++a)t+=f;--a;var o=(e-x[a])/(x[a+1]-x[a]),i=t+o*f,s=Y(i,A,E);return s>=p?u(e,i):0==s?i:c(e,t,t+f)}function d(){w=!0,(A!=M||E!=r)&&t()}var l=4,p=.001,m=1e-7,g=10,h=11,f=1/10,v=("Float32Array"in k);if(4!==arguments.length)return!1;for(var b=0;4>b;++b)if("number"!=typeof arguments[b]||isNaN(arguments[b])||!isFinite(arguments[b]))return!1;A=O(A,1),E=O(E,1),A=R(A,0),E=R(E,0);var x=v?new Float32Array(11):Array(11),w=!1,S=function(e){return w||d(),A===M&&E===r?e:0===e?0:1===e?1:D(s(e),M,r)};S.getControlPoints=function(){return[{x:A,y:M},{x:E,y:r}]};var C="generateBezier("+[A,M,E,r]+")";return S.toString=function(){return C},S}function D(a,e){var t=a;return c.isString(a)?Z.Easings[a]||(t=!1):t=c.isArray(a)&&1===a.length?n.apply(null,a):c.isArray(a)&&2===a.length?d.apply(null,a.concat([e])):!!(c.isArray(a)&&4===a.length)&&i.apply(null,a),!1===t&&(t=Z.Easings[Z.defaults.easing]?Z.defaults.easing:o),t}function K(a){if(a){var n=new Date().getTime(),t=Z.State.calls.length;1e4<t&&(Z.State.calls=e(Z.State.calls));for(var i=0;t>i;i++)if(Z.State.calls[i]){var f=Z.State.calls[i],s=f[0],l=f[2],u=f[3],b=!!u,g=null;u||(u=Z.State.calls[i][3]=n-16);for(var w=O((n-u)/l.duration,1),h=0,S=s.length;S>h;h++){var x=s[h],M=x.element;if(J(M)){var T=!1;if(l.display!==U&&null!==l.display&&"none"!==l.display){if("flex"===l.display){X.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],function(a,e){m.setPropertyValue(M,"display",e)})}m.setPropertyValue(M,"display",l.display)}for(var D in l.visibility!==U&&"hidden"!==l.visibility&&m.setPropertyValue(M,"visibility",l.visibility),x)if("element"!=D){var k=x[D],Y=c.isString(k.easing)?Z.Easings[k.easing]:k.easing,I;if(1===w)I=k.endValue;else{var j=k.endValue-k.startValue;if(I=k.startValue+j*Y(w,l,j),!b&&I===k.currentValue)continue}if(k.currentValue=I,"tween"===D)g=I;else{if(m.Hooks.registered[D]){var E=m.Hooks.getRoot(D),H=J(M).rootPropertyValueCache[E];H&&(k.rootPropertyValue=H)}var N=m.setPropertyValue(M,D,k.currentValue+(0===parseFloat(I)?"":k.unitType),k.rootPropertyValue,k.scrollData);m.Hooks.registered[D]&&(J(M).rootPropertyValueCache[E]=m.Normalizations.registered[E]?m.Normalizations.registered[E]("extract",null,N[1]):N[1]),"transform"===N[0]&&(T=!0)}}l.mobileHA&&J(M).transformCache.translate3d===U&&(J(M).transformCache.translate3d="(0px, 0px, 0px)",T=!0),T&&m.flushTransformCache(M)}}l.display!==U&&"none"!==l.display&&(Z.State.calls[i][2].display=!1),l.visibility!==U&&"hidden"!==l.visibility&&(Z.State.calls[i][2].visibility=!1),l.progress&&l.progress.call(f[1],f[1],w,R(0,u+l.duration-n),u,g),1===w&&r(i)}}Z.State.isTicking&&p(K)}function r(a,e){if(!Z.State.calls[a])return!1;for(var t=Z.State.calls[a][0],i=Z.State.calls[a][1],n=Z.State.calls[a][2],o=Z.State.calls[a][4],s=!1,r=0,g=t.length,c;g>r;r++){if(c=t[r].element,e||n.loop||("none"===n.display&&m.setPropertyValue(c,"display",n.display),"hidden"===n.visibility&&m.setPropertyValue(c,"visibility",n.visibility)),!0!==n.loop&&(X.queue(c)[1]===U||!/\.velocityQueueEntryFlag/i.test(X.queue(c)[1]))&&J(c)){J(c).isAnimating=!1,J(c).rootPropertyValueCache={};var h=!1;X.each(m.Lists.transforms3D,function(a,e){var t=/^scale/.test(e)?1:0,i=J(c).transformCache[e];J(c).transformCache[e]!==U&&new RegExp("^\\("+t+"[^.]").test(i)&&(h=!0,delete J(c).transformCache[e])}),n.mobileHA&&(h=!0,delete J(c).transformCache.translate3d),h&&m.flushTransformCache(c),m.Values.removeClass(c,"velocity-animating")}if(!e&&n.complete&&!n.loop&&r===g-1)try{n.complete.call(i,i)}catch(e){setTimeout(function(){throw e},1)}o&&!0!==n.loop&&o(i),J(c)&&!0===n.loop&&!e&&(X.each(J(c).tweensContainer,function(a,e){/^rotate/.test(a)&&360===parseFloat(e.endValue)&&(e.endValue=0,e.startValue=360),/^backgroundPosition/.test(a)&&100===parseFloat(e.endValue)&&"%"===e.unitType&&(e.endValue=0,e.startValue=100)}),Z(c,"reverse",{loop:!0,delay:n.delay})),!1!==n.queue&&X.dequeue(c,n.queue)}Z.State.calls[a]=!1;for(var f=0,v=Z.State.calls.length;v>f;f++)if(!1!==Z.State.calls[f]){s=!0;break}!1==s&&(Z.State.isTicking=!1,delete Z.State.calls,Z.State.calls=[])}var Y=function(){if(C.documentMode)return C.documentMode;for(var a=7,n;4<a;a--)if(n=C.createElement("div"),n.innerHTML="<!--[if IE "+a+"]><span></span><![endif]-->",n.getElementsByTagName("span").length)return n=null,a;return U}(),t=function(){var n=0;return k.webkitRequestAnimationFrame||k.mozRequestAnimationFrame||function(e){var t=new Date().getTime(),a;return a=R(0,16-(t-n)),n=t+a,setTimeout(function(){e(t+a)},a)}}(),c={isString:function(t){return"string"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNode:function(t){return t&&t.nodeType},isNodeList:function(t){return"object"==typeof t&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&t.length!==U&&(0===t.length||"object"==typeof t[0]&&0<t[0].nodeType)},isWrapped:function(t){return t&&(t.jquery||k.Zepto&&k.Zepto.zepto.isZ(t))},isSVG:function(t){return k.SVGElement&&t instanceof k.SVGElement},isEmptyObject:function(a){for(var e in a)return!1;return!0}},s=!1,X;if(A.fn&&A.fn.jquery?(X=A,s=!0):X=k.Velocity.Utilities,8>=Y&&!s)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=Y)return void(h.fn.velocity=h.fn.animate);var o="swing",Z={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:k.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:C.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:X,Redirects:{},Easings:{},Promise:k.Promise,defaults:{queue:"",duration:400,easing:"swing",begin:U,complete:U,progress:U,display:U,visibility:U,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(t){X.data(t,"velocity",{isSVG:c.isSVG(t),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};k.pageYOffset===U?(Z.State.scrollAnchor=C.documentElement||C.body.parentNode||C.body,Z.State.scrollPropertyLeft="scrollLeft",Z.State.scrollPropertyTop="scrollTop"):(Z.State.scrollAnchor=k,Z.State.scrollPropertyLeft="pageXOffset",Z.State.scrollPropertyTop="pageYOffset");var d=function(){function d(t){return-t.tension*t.x-t.friction*t.v}function e(e,t,i){var a={x:e.x+i.dx*t,v:e.v+i.dv*t,tension:e.tension,friction:e.friction};return{dx:a.v,dv:d(a)}}function m(t,r){var a={dx:t.v,dv:d(t)},n=e(t,.5*r,a),o=e(t,.5*r,n),i=e(t,r,o),s=1/6*(a.dx+2*(n.dx+o.dx)+i.dx),c=1/6*(a.dv+2*(n.dv+o.dv)+i.dv);return t.x+=s*r,t.v+=c*r,t}return function d(a,r,g){var h={x:-1,v:0,tension:null,friction:null},l=[0],u=0,v=1e-4,p=.016,f,b,A;for(a=parseFloat(a)||500,r=parseFloat(r)||20,g=g||null,h.tension=a,h.friction=r,f=null!==g,f?(u=d(a,r),b=u/g*p):b=p;A=m(A||h,b),l.push(1+A.x),u+=16,L(A.x)>v&&L(A.v)>v;);return f?function(t){return l[0|t*(l.length-1)]}:u}}();Z.Easings={linear:function(t){return t},swing:function(t){return .5-T(t*E)/2},spring:function(t){return 1-T(4.5*t*E)*v(6*-t)}},X.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(a,e){Z.Easings[e[0]]=i.apply(null,e[1])});var m=Z.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var d=0,c;d<m.Lists.colors.length;d++)c="color"===m.Lists.colors[d]?"0 0 0 1":"255 255 255 1",m.Hooks.templates[m.Lists.colors[d]]=["Red Green Blue Alpha",c];var l,p,u;if(Y)for(l in m.Hooks.templates){p=m.Hooks.templates[l],u=p[0].split(" ");var g=p[1].match(m.RegEx.valueSplit);"Color"===u[0]&&(u.push(u.shift()),g.push(g.shift()),m.Hooks.templates[l]=[u.join(" "),g.join(" ")])}for(l in m.Hooks.templates)for(var d in p=m.Hooks.templates[l],u=p[0].split(" "),u){var o=l+u[d],i=d;m.Hooks.registered[o]=[l,i]}},getRoot:function(a){var e=m.Hooks.registered[a];return e?e[0]:a},cleanRootPropertyValue:function(a,e){return m.RegEx.valueUnwrap.test(e)&&(e=e.match(m.RegEx.valueUnwrap)[1]),m.Values.isCSSNullValue(e)&&(e=m.Hooks.templates[a][1]),e},extractValue:function(i,e){var s=m.Hooks.registered[i];if(s){var o=s[0],a=s[1];return e=m.Hooks.cleanRootPropertyValue(o,e),e.toString().match(m.RegEx.valueSplit)[a]}return e},injectValue:function(d,e,t){var c=m.Hooks.registered[d];if(c){var a=c[0],i=c[1],s,l;return t=m.Hooks.cleanRootPropertyValue(a,t),s=t.toString().match(m.RegEx.valueSplit),s[i]=e,l=s.join(" ")}return t}},Normalizations:{registered:{clip:function(n,e,t){switch(n){case"name":return"clip";case"extract":var i;return m.RegEx.wrappedValueAlreadyExtracted.test(t)?i=t:(i=t.toString().match(m.RegEx.valueUnwrap),i=i?i[1].replace(/,(\s+)?/g," "):t),i;case"inject":return"rect("+t+")";}},blur:function(i,e,t){switch(i){case"name":return Z.State.isFirefox?"filter":"-webkit-filter";case"extract":var s=parseFloat(t);if(!s&&0!==s){var o=t.toString().match(/blur\(([0-9]+[A-z]+)\)/i);s=o?o[1]:0}return s;case"inject":return parseFloat(t)?"blur("+t+")":"none";}},opacity:function(n,e,t){if(8>=Y)switch(n){case"name":return"filter";case"extract":var i=t.toString().match(/alpha\(opacity=(.*)\)/i);return t=i?i[1]/100:1;case"inject":return e.style.zoom=1,1<=parseFloat(t)?"":"alpha(opacity="+parseInt(100*parseFloat(t),10)+")";}else switch(n){case"name":return"opacity";case"extract":return t;case"inject":return t;}}},register:function(){9>=Y||Z.State.isGingerbread||(m.Lists.transformsBase=m.Lists.transformsBase.concat(m.Lists.transforms3D));for(var a=0;a<m.Lists.transformsBase.length;a++)!function(){var i=m.Lists.transformsBase[a];m.Normalizations.registered[i]=function(t,e,a){switch(t){case"name":return"transform";case"extract":return J(e)===U||J(e).transformCache[i]===U?/^scale/i.test(i)?1:0:J(e).transformCache[i].replace(/[()]/g,"");case"inject":var s=!1;switch(i.substr(0,i.length-1)){case"translate":s=!/(%|px|em|rem|vw|vh|\d)$/i.test(a);break;case"scal":case"scale":Z.State.isAndroid&&J(e).transformCache[i]===U&&1>a&&(a=1),s=!/(\d)$/i.test(a);break;case"skew":s=!/(deg|\d)$/i.test(a);break;case"rotate":s=!/(deg|\d)$/i.test(a);}return s||(J(e).transformCache[i]="("+a+")"),J(e).transformCache[i];}}}();for(var a=0;a<m.Lists.colors.length;a++)!function(){var d=m.Lists.colors[a];m.Normalizations.registered[d]=function(t,e,a){switch(t){case"name":return d;case"extract":var r;if(m.RegEx.wrappedValueAlreadyExtracted.test(a))r=a;else{var c={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"},s;/^[A-z]+$/i.test(a)?s=c[a]===U?c.black:c[a]:m.RegEx.isHex.test(a)?s="rgb("+m.Values.hexToRgb(a).join(" ")+")":/^rgba?\(/i.test(a)||(s=c.black),r=(s||a).toString().match(m.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=Y||3!==r.split(" ").length||(r+=" 1"),r;case"inject":return 8>=Y?4===a.split(" ").length&&(a=a.split(/\s+/).slice(0,3).join(" ")):3===a.split(" ").length&&(a+=" 1"),(8>=Y?"rgb":"rgba")+"("+a.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")";}}}()}},Names:{camelCase:function(t){return t.replace(/-(\w)/g,function(a,e){return e.toUpperCase()})},SVGAttribute:function(a){var e="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(Y||Z.State.isAndroid&&!Z.State.isChrome)&&(e+="|transform"),new RegExp("^("+e+")$","i").test(a)},prefixCheck:function(i){if(Z.State.prefixMatches[i])return[Z.State.prefixMatches[i],!0];for(var e=["","Webkit","Moz","ms","O"],t=0,s=e.length;s>t;t++){var a;if(a=0==t?i:e[t]+i.replace(/^\w/,function(t){return t.toUpperCase()}),c.isString(Z.State.prefixElement.style[a]))return Z.State.prefixMatches[i]=a,[a,!0]}return[i,!1]}},Values:{hexToRgb:function(a){var n;return a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,e,t,i){return e+e+t+t+i+i}),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a),n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:[0,0,0]},isCSSNullValue:function(t){return 0==t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(t)},getUnitType:function(t){return /^(rotate|skew)/i.test(t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(t)?"":"px"},getDisplayType:function(a){var e=a&&a.tagName.toString().toLowerCase();return /^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(e)?"inline":/^(li)$/i.test(e)?"list-item":/^(tr)$/i.test(e)?"table-row":/^(table)$/i.test(e)?"table":/^(tbody)$/i.test(e)?"table-row-group":"block"},addClass:function(a,e){a.classList?a.classList.add(e):a.className+=(a.className.length?" ":"")+e},removeClass:function(a,e){a.classList?a.classList.remove(e):a.className=a.className.toString().replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(t,e,a,i){function o(t,e){function a(){s&&m.setPropertyValue(t,"display","none")}var n=0;if(8>=Y)n=X.css(t,e);else{var s=!1;if(/^(width|height)$/.test(e)&&0===m.getPropertyValue(t,"display")&&(s=!0,m.setPropertyValue(t,"display",m.Values.getDisplayType(t))),!i){if("height"===e&&"border-box"!==m.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var d=t.offsetHeight-(parseFloat(m.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(m.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(m.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(m.getPropertyValue(t,"paddingBottom"))||0);return a(),d}if("width"===e&&"border-box"!==m.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var c=t.offsetWidth-(parseFloat(m.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(m.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(m.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(m.getPropertyValue(t,"paddingRight"))||0);return a(),c}}var p;p=J(t)===U?k.getComputedStyle(t,null):J(t).computedStyle?J(t).computedStyle:J(t).computedStyle=k.getComputedStyle(t,null),"borderColor"===e&&(e="borderTopColor"),n=9===Y&&"filter"===e?p.getPropertyValue(e):p[e],(""===n||null===n)&&(n=t.style[e]),a()}if("auto"===n&&/^(top|right|bottom|left)$/i.test(e)){var h=o(t,"position");("fixed"===h||"absolute"===h&&/top|left/i.test(e))&&(n=X(t).position()[e]+"px")}return n}var s;if(m.Hooks.registered[e]){var d=e,r=m.Hooks.getRoot(d);a===U&&(a=m.getPropertyValue(t,m.Names.prefixCheck(r)[0])),m.Normalizations.registered[r]&&(a=m.Normalizations.registered[r]("extract",t,a)),s=m.Hooks.extractValue(d,a)}else if(m.Normalizations.registered[e]){var c,u;c=m.Normalizations.registered[e]("name",t),"transform"!==c&&(u=o(t,m.Names.prefixCheck(c)[0]),m.Values.isCSSNullValue(u)&&m.Hooks.templates[e]&&(u=m.Hooks.templates[e][1])),s=m.Normalizations.registered[e]("extract",t,u)}if(!/^[\d-]/.test(s))if(!(J(t)&&J(t).isSVG&&m.Names.SVGAttribute(e)))s=o(t,m.Names.prefixCheck(e)[0]);else if(/^(height|width)$/i.test(e))try{s=t.getBBox()[e]}catch(e){s=0}else s=t.getAttribute(e);return m.Values.isCSSNullValue(s)&&(s=0),2<=Z.debug&&console.log("Get "+e+": "+s),s},setPropertyValue:function(t,e,i,d,c){var o=e;if("scroll"===e)c.container?c.container["scroll"+c.direction]=i:"Left"===c.direction?k.scrollTo(i,c.alternateValue):k.scrollTo(c.alternateValue,i);else if(m.Normalizations.registered[e]&&"transform"===m.Normalizations.registered[e]("name",t))m.Normalizations.registered[e]("inject",t,i),o="transform",i=J(t).transformCache[e];else{if(m.Hooks.registered[e]){var p=e,l=m.Hooks.getRoot(e);d=d||m.getPropertyValue(t,l),i=m.Hooks.injectValue(p,i,d),e=l}if(m.Normalizations.registered[e]&&(i=m.Normalizations.registered[e]("inject",t,i),e=m.Normalizations.registered[e]("name",t)),o=m.Names.prefixCheck(e)[0],8>=Y)try{t.style[o]=i}catch(e){Z.debug&&console.log("Browser does not support ["+i+"] for ["+o+"]")}else J(t)&&J(t).isSVG&&m.Names.SVGAttribute(e)?t.setAttribute(e,i):t.style[o]=i;2<=Z.debug&&console.log("Set "+e+" ("+o+"): "+i)}return[o,i]},flushTransformCache:function(i){function e(e){return parseFloat(m.getPropertyValue(i,e))}var s="";if((Y||Z.State.isAndroid&&!Z.State.isChrome)&&J(i).isSVG){var t={translate:[e("translateX"),e("translateY")],skewX:[e("skewX")],skewY:[e("skewY")],scale:1===e("scale")?[e("scaleX"),e("scaleY")]:[e("scale"),e("scale")],rotate:[e("rotateZ"),0,0]};X.each(J(i).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate"),t[a]&&(s+=a+"("+t[a].join(" ")+") ",delete t[a])})}else{var a,d;X.each(J(i).transformCache,function(e){return a=J(i).transformCache[e],"transformPerspective"===e?(d=a,!0):(9===Y&&"rotateZ"==e&&(e="rotate"),void(s+=e+a+" "))}),d&&(s="perspective"+d+" "+s)}m.setPropertyValue(i,"transform",s)}};m.Hooks.register(),m.Normalizations.register(),Z.hook=function(i,d,t){var r=U;return i=a(i),X.each(i,function(a,e){if(J(e)===U&&Z.init(e),t===U)r===U&&(r=Z.CSS.getPropertyValue(e,d));else{var n=Z.CSS.setPropertyValue(e,d,t);"transform"===n[0]&&Z.CSS.flushTransformCache(e),r=n}}),r};var l=function(){function t(){return n?ee.promise||null:o}function i(){function a(){function a(a,e){var t=U,s=U,d=U;return c.isArray(a)?(t=a[0],!c.isArray(a[1])&&/^[\d-]/.test(a[1])||c.isFunction(a[1])||m.RegEx.isHex.test(a[1])?d=a[1]:(c.isString(a[1])&&!m.RegEx.isHex.test(a[1])||c.isArray(a[1]))&&(s=e?a[1]:D(a[1],o.duration),a[2]!==U&&(d=a[2]))):t=a,e||(s=s||o.easing),c.isFunction(t)&&(t=t.call(g,x,f)),c.isFunction(d)&&(d=d.call(g,x,f)),[t||0,s,d]}function n(n,e){var t,i;return i=(e||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(a){return t=a,""}),t||(t=m.Values.getUnitType(n)),[i,t]}function i(){var t={myParent:g.parentNode||C.body,position:m.getPropertyValue(g,"position"),fontSize:m.getPropertyValue(g,"fontSize")},e=t.position===N.lastPosition&&t.myParent===N.lastParent,a=t.fontSize===N.lastFontSize;N.lastParent=t.myParent,N.lastPosition=t.position,N.lastFontSize=t.fontSize;var n={};if(a&&e)n.emToPx=N.lastEmToPx,n.percentToPxWidth=N.lastPercentToPxWidth,n.percentToPxHeight=N.lastPercentToPxHeight;else{var i=J(g).isSVG?C.createElementNS("http://www.w3.org/2000/svg","rect"):C.createElement("div");Z.init(i),t.myParent.appendChild(i),X.each(["overflow","overflowX","overflowY"],function(a,e){Z.CSS.setPropertyValue(i,e,"hidden")}),Z.CSS.setPropertyValue(i,"position",t.position),Z.CSS.setPropertyValue(i,"fontSize",t.fontSize),Z.CSS.setPropertyValue(i,"boxSizing","content-box"),X.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(a,e){Z.CSS.setPropertyValue(i,e,"100%")}),Z.CSS.setPropertyValue(i,"paddingLeft","100em"),n.percentToPxWidth=N.lastPercentToPxWidth=(parseFloat(m.getPropertyValue(i,"width",null,!0))||1)/100,n.percentToPxHeight=N.lastPercentToPxHeight=(parseFloat(m.getPropertyValue(i,"height",null,!0))||1)/100,n.emToPx=N.lastEmToPx=(parseFloat(m.getPropertyValue(i,"paddingLeft"))||1)/100,t.myParent.removeChild(i)}return null===N.remToPx&&(N.remToPx=parseFloat(m.getPropertyValue(C.body,"fontSize"))||16),null===N.vwToPx&&(N.vwToPx=parseFloat(k.innerWidth)/100,N.vhToPx=parseFloat(k.innerHeight)/100),n.remToPx=N.remToPx,n.vwToPx=N.vwToPx,n.vhToPx=N.vhToPx,1<=Z.debug&&console.log("Unit ratios: "+JSON.stringify(n),g),n}if(o.begin&&0==x)try{o.begin.call(u,u)}catch(e){setTimeout(function(){throw e},1)}if("scroll"===te){var s=/^x$/i.test(o.axis)?"Left":"Top",d=parseFloat(o.offset)||0,r,l,p;o.container?c.isWrapped(o.container)||c.isNode(o.container)?(o.container=o.container[0]||o.container,r=o.container["scroll"+s],p=r+X(g).position()[s.toLowerCase()]+d):o.container=null:(r=Z.State.scrollAnchor[Z.State["scrollProperty"+s]],l=Z.State.scrollAnchor[Z.State["scrollProperty"+("Left"===s?"Top":"Left")]],p=X(g).offset()[s.toLowerCase()]+d),e={scroll:{rootPropertyValue:!1,startValue:r,currentValue:r,endValue:p,unitType:"",easing:o.easing,scrollData:{container:o.container,direction:s,alternateValue:l}},element:g},Z.debug&&console.log("tweensContainer (scroll): ",e.scroll,g)}else if("reverse"===te){if(!J(g).tweensContainer)return void X.dequeue(g,o.queue);"none"===J(g).opts.display&&(J(g).opts.display="auto"),"hidden"===J(g).opts.visibility&&(J(g).opts.visibility="visible"),J(g).opts.loop=!1,J(g).opts.begin=null,J(g).opts.complete=null,h.easing||delete o.easing,h.duration||delete o.duration,o=X.extend({},J(g).opts,o);var v=X.extend(!0,{},J(g).tweensContainer);for(var A in v)if("element"!=A){var w=v[A].startValue;v[A].startValue=v[A].currentValue=v[A].endValue,v[A].endValue=w,c.isEmptyObject(h)||(v[A].easing=o.easing),Z.debug&&console.log("reverse tweensContainer ("+A+"): "+JSON.stringify(v[A]),g)}e=v}else if("start"===te){var v;for(var S in J(g).tweensContainer&&!0===J(g).isAnimating&&(v=J(g).tweensContainer),X.each(b,function(d,e){if(RegExp("^"+m.Lists.colors.join("$|^")+"$").test(d)){var t=a(e,!0),r=t[0],n=t[1],o=t[2];if(m.RegEx.isHex.test(r)){for(var i=["Red","Green","Blue"],s=m.Values.hexToRgb(r),l=o?m.Values.hexToRgb(o):U,p=0,u;p<i.length;p++)u=[s[p]],n&&u.push(n),l!==U&&u.push(l[p]),b[d+i[p]]=u;delete b[d]}}}),b){var j=a(b[S]),O=j[0],R=j[1],H=j[2];S=m.Names.camelCase(S);var F=m.Hooks.getRoot(S),I=!1;if(J(g).isSVG||"tween"===F||!1!==m.Names.prefixCheck(F)[1]||m.Normalizations.registered[F]!==U){(o.display!==U&&null!==o.display&&"none"!==o.display||o.visibility!==U&&"hidden"!==o.visibility)&&/opacity|filter/.test(S)&&!H&&0!==O&&(H=0),o._cacheValues&&v&&v[S]?(H===U&&(H=v[S].endValue+v[S].unitType),I=J(g).rootPropertyValueCache[F]):m.Hooks.registered[S]?H===U?(I=m.getPropertyValue(g,F),H=m.getPropertyValue(g,S,I)):I=m.Hooks.templates[F][1]:H===U&&(H=m.getPropertyValue(g,S));var V=!1,ae,ne,ie;if(ae=n(S,H),H=ae[0],ie=ae[1],ae=n(S,O),O=ae[0].replace(/^([+-\/*])=/,function(a,e){return V=e,""}),ne=ae[1],H=parseFloat(H)||0,O=parseFloat(O)||0,"%"===ne&&(/^(fontSize|lineHeight)$/.test(S)?(O/=100,ne="em"):/^scale/.test(S)?(O/=100,ne=""):/(Red|Green|Blue)$/i.test(S)&&(O=255*(O/100),ne="")),/[\/*]/.test(V))ne=ie;else if(ie!==ne&&0!==H)if(0===O)ne=ie;else{t=t||i();var se=/margin|padding|left|right|width|text|word|letter/i.test(S)||/X$/.test(S)||"x"===S?"x":"y";switch(ie){case"%":H*="x"===se?t.percentToPxWidth:t.percentToPxHeight;break;case"px":break;default:H*=t[ie+"ToPx"];}switch(ne){case"%":H*=1/("x"===se?t.percentToPxWidth:t.percentToPxHeight);break;case"px":break;default:H*=1/t[ne+"ToPx"];}}"+"===V?O=H+O:"-"===V?O=H-O:"*"===V?O=H*O:"/"===V?O=H/O:void 0,e[S]={rootPropertyValue:I,startValue:H,currentValue:H,endValue:O,unitType:ne,easing:R},Z.debug&&console.log("tweensContainer ("+S+"): "+JSON.stringify(e[S]),g)}else Z.debug&&console.log("Skipping ["+F+"] due to a lack of browser support.")}e.element=g}e.element&&(m.Values.addClass(g,"velocity-animating"),L.push(e),""===o.queue&&(J(g).tweensContainer=e,J(g).opts=o),J(g).isAnimating=!0,x==f-1?(Z.State.calls.push([L,u,o,null,ee.resolver]),!1===Z.State.isTicking&&(Z.State.isTicking=!0,K())):x++)}var g=this,o=X.extend({},Z.defaults,h),e={},t;switch(J(g)===U&&Z.init(g),parseFloat(o.delay)&&!1!==o.queue&&X.queue(g,o.queue,function(t){Z.velocityQueueEntryFlag=!0,J(g).delayTimer={setTimeout:setTimeout(t,parseFloat(o.delay)),next:t}}),o.duration.toString().toLowerCase()){case"fast":o.duration=200;break;case"normal":o.duration=400;break;case"slow":o.duration=600;break;default:o.duration=parseFloat(o.duration)||1;}!1!==Z.mock&&(!0===Z.mock?o.duration=o.delay=1:(o.duration*=parseFloat(Z.mock)||1,o.delay*=parseFloat(Z.mock)||1)),o.easing=D(o.easing,o.duration),o.begin&&!c.isFunction(o.begin)&&(o.begin=null),o.progress&&!c.isFunction(o.progress)&&(o.progress=null),o.complete&&!c.isFunction(o.complete)&&(o.complete=null),o.display!==U&&null!==o.display&&(o.display=o.display.toString().toLowerCase(),"auto"===o.display&&(o.display=Z.CSS.Values.getDisplayType(g))),o.visibility!==U&&null!==o.visibility&&(o.visibility=o.visibility.toString().toLowerCase()),o.mobileHA=o.mobileHA&&Z.State.isMobile&&!Z.State.isGingerbread,!1===o.queue?o.delay?setTimeout(a,o.delay):a():X.queue(g,o.queue,function(e,t){return!0===t?(ee.promise&&ee.resolver(u),!0):(Z.velocityQueueEntryFlag=!0,void a(e))}),""!==o.queue&&"fx"!==o.queue||"inprogress"===X.queue(g)[0]||X.dequeue(g)}var e=arguments[0]&&(arguments[0].p||X.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||c.isString(arguments[0].properties)),n,o,p,u,b,h;if(c.isWrapped(this)?(n=!1,p=0,u=this,o=this):(n=!0,p=1,u=e?arguments[0].elements||arguments[0].e:arguments[0]),u=a(u)){e?(b=arguments[0].properties||arguments[0].p,h=arguments[0].options||arguments[0].o):(b=arguments[p],h=arguments[p+1]);var f=u.length,x=0;if(!/^(stop|finish)$/i.test(b)&&!X.isPlainObject(h)){var w=p+1;h={};for(var S=w;S<arguments.length;S++)!c.isArray(arguments[S])&&(/^(fast|normal|slow)$/i.test(arguments[S])||/^\d/.test(arguments[S]))?h.duration=arguments[S]:c.isString(arguments[S])||c.isArray(arguments[S])?h.easing=arguments[S]:c.isFunction(arguments[S])&&(h.complete=arguments[S])}var ee={promise:null,resolver:null,rejecter:null};n&&Z.Promise&&(ee.promise=new Z.Promise(function(a,e){ee.resolver=a,ee.rejecter=e}));var te;switch(b){case"scroll":te="scroll";break;case"reverse":te="reverse";break;case"finish":case"stop":X.each(u,function(a,e){J(e)&&J(e).delayTimer&&(clearTimeout(J(e).delayTimer.setTimeout),J(e).delayTimer.next&&J(e).delayTimer.next(),delete J(e).delayTimer)});var M=[];return X.each(Z.State.calls,function(i,e){e&&X.each(e[1],function(t,s){var n=h===U?"":h;return!0!==n&&e[2].queue!==n&&(h!==U||!1!==e[2].queue)||void X.each(u,function(t,o){o===s&&((!0===h||c.isString(h))&&(X.each(X.queue(o,c.isString(h)?h:""),function(a,e){c.isFunction(e)&&e(null,!0)}),X.queue(o,c.isString(h)?h:"",[])),"stop"===b?(J(o)&&J(o).tweensContainer&&!1!==n&&X.each(J(o).tweensContainer,function(a,e){e.endValue=e.currentValue}),M.push(i)):"finish"===b&&(e[2].duration=1))})})}),"stop"===b&&(X.each(M,function(a,e){r(e,!0)}),ee.promise&&ee.resolver(u)),t();default:if(!X.isPlainObject(b)||c.isEmptyObject(b)){if(c.isString(b)&&Z.Redirects[b]){var Y=X.extend({},h),I=Y.duration,E=Y.delay||0;return!0===Y.backwards&&(u=X.extend(!0,[],u).reverse()),X.each(u,function(a,e){parseFloat(Y.stagger)?Y.delay=E+parseFloat(Y.stagger)*a:c.isFunction(Y.stagger)&&(Y.delay=E+Y.stagger.call(e,a,f)),Y.drag&&(Y.duration=parseFloat(I)||(/^(callout|transition)/.test(b)?1e3:400),Y.duration=R(Y.duration*(Y.backwards?1-a/f:(a+1)/f),.75*Y.duration,200)),Z.Redirects[b].call(e,e,Y||{},a,f,u,ee.promise?ee:U)}),t()}var H="Velocity: First argument ("+b+") was not a property map, a known action, or a registered redirect. Aborting.";return ee.promise?ee.rejecter(new Error(H)):console.log(H),t()}te="start";}var N={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},L=[];X.each(u,function(a,e){c.isNode(e)&&i.call(e)});var Y=X.extend({},Z.defaults,h),P;if(Y.loop=parseInt(Y.loop),P=2*Y.loop-1,Y.loop)for(var B=0,F;P>B;B++)F={delay:Y.delay,progress:Y.progress},B==P-1&&(F.display=Y.display,F.visibility=Y.visibility,F.complete=Y.complete),l(u,"reverse",F);return t()}};Z=X.extend(l,Z),Z.animate=l;var p=k.requestAnimationFrame||t;return Z.State.isMobile||C.hidden===U||C.addEventListener("visibilitychange",function(){C.hidden?(p=function(t){return setTimeout(function(){t(!0)},16)},K()):p=k.requestAnimationFrame||t}),A.Velocity=Z,A!==k&&(A.fn.velocity=l,A.fn.velocity.defaults=Z.defaults),X.each(["Down","Up"],function(a,m){Z.Redirects["slide"+m]=function(g,e,t,a,n,i){var s=X.extend({},e),o=s.begin,r=s.complete,c={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},l={};s.display===U&&(s.display="Down"===m?"inline"===Z.CSS.Values.getDisplayType(g)?"inline-block":"block":"none"),s.begin=function(){for(var e in o&&o.call(n,n),c){l[e]=g.style[e];var t=Z.CSS.getPropertyValue(g,e);c[e]="Down"===m?[t,0]:[0,t]}l.overflow=g.style.overflow,g.style.overflow="hidden"},s.complete=function(){for(var e in l)g.style[e]=l[e];r&&r.call(n,n),i&&i.resolver(n)},Z(g,c,s)}}),X.each(["In","Out"],function(a,d){Z.Redirects["fade"+d]=function(t,e,a,n,o,i){var s=X.extend({},e),r={opacity:"In"===d?1:0},l=s.complete;s.complete=a===n-1?function(){l&&l.call(o,o),i&&i.resolver(o)}:s.begin=null,s.display===U&&(s.display="In"===d?"auto":"none"),Z(this,r,s)}}),Z}(window.jQuery||window.Zepto||window,window,document)}));!function(Y,F,a,J){"use strict";function K(e,t,a){return setTimeout(p(e,a),t)}function d(e,t,a){return!!Array.isArray(e)&&(l(e,a[t],a),!0)}function l(t,a,n){if(t)if(t.forEach)t.forEach(a,n);else if(t.length!==J)for(i=0;i<t.length;)a.call(n,t[i],i,t),i++;else for(var i in t)t.hasOwnProperty(i)&&a.call(n,t[i],i,t)}function m(t,a,n){for(var i=Object.keys(a),e=0;e<i.length;)(!n||n&&t[i[e]]===J)&&(t[i[e]]=a[i[e]]),e++;return t}function n(e,t){return m(e,t,!0)}function o(t,a,n){var i=a.prototype,s;s=t.prototype=Object.create(i),s.constructor=t,s._super=i,n&&m(s,n)}function p(e,t){return function(){return e.apply(t,arguments)}}function q(e,t){return typeof e==f?e.apply(t?t[0]||J:J,t):e}function r(e,t){return e===J?t:e}function s(e,t,a){l(w(t),function(t){e.addEventListener(t,a,!1)})}function t(e,t,a){l(w(t),function(t){e.removeEventListener(t,a,!1)})}function u(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function v(e,t){return-1<e.indexOf(t)}function w(e){return e.trim().split(/\s+/g)}function x(e,t,a){if(e.indexOf&&!a)return e.indexOf(t);for(var n=0;n<e.length;){if(a&&e[n][a]==t||!a&&e[n]===t)return n;n++}return-1}function X(e){return Array.prototype.slice.call(e,0)}function z(t,n,a){for(var i=[],s=[],e=0,o;e<t.length;)o=n?t[e][n]:t[e],0>x(s,o)&&i.push(t[e]),s[e]=o,e++;return a&&(i=n?i.sort(function(e,t){return e[n]>t[n]}):i.sort()),i}function A(e,t){for(var a=t[0].toUpperCase()+t.slice(1),n=0,i,s;n<Ne.length;){if(i=Ne[n],s=i?i+a:t,s in e)return s;n++}return J}function c(){return i++}function b(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function D(e,t){var a=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){q(e.options.enable,[e])&&a.handler(t)},this.init()}function B(e){var t=e.options.inputClass,a;return a=t?t:G?ue:H?he:j?fe:pe,new a(e,Z)}function Z(t,a,n){var i=n.pointers.length,s=n.changedPointers.length,e=a&N&&0==i-s;n.isFirst=!!e,n.isFinal=!!(a&(P|Q)&&0==i-s),e&&(t.session={}),n.eventType=a,ee(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function ee(t,a){var n=t.session,s=a.pointers,o=s.length;n.firstInput||(n.firstInput=ne(a)),1<o&&!n.firstMultiple?n.firstMultiple=ne(a):1===o&&(n.firstMultiple=!1);var e=n.firstInput,d=n.firstMultiple,r=d?d.center:e.center,c=a.center=ie(s);a.timeStamp=Oe(),a.deltaTime=a.timeStamp-e.timeStamp,a.angle=re(r,c),a.distance=de(r,c),te(n,a),a.offsetDirection=oe(a.deltaX,a.deltaY),a.scale=d?le(d.pointers,s):1,a.rotation=d?ce(d.pointers,s):0,ae(n,a);var i=t.element;u(a.srcEvent.target,i)&&(i=a.srcEvent.target),a.target=i}function te(t,a){var n=a.center,i=t.offsetDelta||{},s=t.prevDelta||{},o=t.prevInput||{};(a.eventType===N||o.eventType===P)&&(s=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),a.deltaX=s.x+(n.x-i.x),a.deltaY=s.y+(n.y-i.y)}function ae(t,a){var n=t.lastInterval||a,i=a.timeStamp-n.timeStamp,e,s,o,d;if(a.eventType!=Q&&(i>I||n.velocity===J)){var r=n.deltaX-a.deltaX,c=n.deltaY-a.deltaY,l=se(i,r,c);s=l.x,o=l.y,e=h(l.x)>h(l.y)?l.x:l.y,d=oe(r,c),t.lastInterval=a}else e=n.velocity,s=n.velocityX,o=n.velocityY,d=n.direction;a.velocity=e,a.velocityX=s,a.velocityY=o,a.direction=d}function ne(e){for(var t=[],a=0;a<e.pointers.length;)t[a]={clientX:g(e.pointers[a].clientX),clientY:g(e.pointers[a].clientY)},a++;return{timeStamp:Oe(),pointers:t,center:ie(t),deltaX:e.deltaX,deltaY:e.deltaY}}function ie(t){var a=t.length;if(1===a)return{x:g(t[0].clientX),y:g(t[0].clientY)};for(var n=0,i=0,s=0;a>s;)n+=t[s].clientX,i+=t[s].clientY,s++;return{x:g(n/a),y:g(i/a)}}function se(e,t,a){return{x:t/e||0,y:a/e||0}}function oe(e,t){return e===t?R:h(e)>=h(t)?0<e?S:T:0<t?U:V}function de(t,a,n){n||(n=W);var i=a[n[0]]-t[n[0]],s=a[n[1]]-t[n[1]];return k(i*i+s*s)}function re(t,a,n){n||(n=W);var i=a[n[0]]-t[n[0]],s=a[n[1]]-t[n[1]];return 180*Math.atan2(s,i)/E}function ce(e,t){return re(t[1],t[0],Re)-re(e[1],e[0],Re)}function le(e,t){return de(t[0],t[1],Re)/de(e[0],e[1],Re)}function pe(){this.evEl=Pe,this.evWin=Be,this.allow=!0,this.pressed=!1,D.apply(this,arguments)}function ue(){this.evEl=Ve,this.evWin=Ue,D.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function me(){this.evTarget=We,this.evWin=ze,this.started=!1,D.apply(this,arguments)}function ge(e,t){var a=X(e.touches),n=X(e.changedTouches);return t&(P|Q)&&(a=z(a.concat(n),"identifier",!0)),[a,n]}function he(){this.evTarget=Qe,this.targetIds={},D.apply(this,arguments)}function _e(t,a){var n=X(t.touches),s=this.targetIds;if(a&(N|O)&&1===n.length)return s[n[0].identifier]=!0,[n,n];var o=X(t.changedTouches),d=[],r=this.target,i,c;if(c=n.filter(function(e){return u(e.target,r)}),a===N)for(i=0;i<c.length;)s[c[i].identifier]=!0,i++;for(i=0;i<o.length;)s[o[i].identifier]&&d.push(o[i]),a&(P|Q)&&delete s[o[i].identifier],i++;return d.length?[z(c.concat(d),"identifier",!0),d]:void 0}function fe(){D.apply(this,arguments);var e=p(this.handler,this);this.touch=new he(this.manager,e),this.mouse=new pe(this.manager,e)}function ve(e,t){this.manager=e,this.set(t)}function ye(e){if(v(e,et))return et;var t=v(e,tt),a=v(e,at);return t&&a?tt+" "+at:t||a?t?tt:at:v(e,Ze)?Ze:Xe}function be(e){this.id=c(),this.manager=null,this.options=n(e||{},this.defaults),this.options.enable=r(this.options.enable,!0),this.state=nt,this.simultaneous={},this.requireFail=[]}function Ae(e){return e&dt?"cancel":e&ot?"end":e&st?"move":e&it?"start":""}function xe(e){return e==V?"down":e==U?"up":e==S?"left":e==T?"right":""}function we(e,t){var a=t.manager;return a?a.get(e):e}function ke(){be.apply(this,arguments)}function Se(){ke.apply(this,arguments),this.pX=null,this.pY=null}function Me(){ke.apply(this,arguments)}function Ce(){be.apply(this,arguments),this._timer=null,this._input=null}function Le(){ke.apply(this,arguments)}function Te(){ke.apply(this,arguments)}function Ee(){be.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function De(e,t){return t=t||{},t.recognizers=r(t.recognizers,De.defaults.preset),new Ye(e,t)}function Ye(e,t){t=t||{},this.options=n(t,De.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=B(this),this.touchAction=new ve(this,this.options.touchAction),Ie(this,!0),l(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function Ie(e,t){var n=e.element;l(e.options.cssProps,function(e,a){n.style[A(n.style,a)]=t?e:""})}function je(e,t){var a=F.createEvent("Event");a.initEvent(e,!0,!0),a.gesture=t,t.target.dispatchEvent(a)}var Ne=["","webkit","moz","MS","ms","o"],e=F.createElement("div"),f="function",g=M,h=L,Oe=Date.now,i=1,j=("ontouchstart"in Y),G=A(Y,"PointerEvent")!==J,H=j&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),I=25,N=1,O=2,P=4,Q=8,R=1,S=2,T=4,U=8,V=16,W=["x","y"],Re=["clientX","clientY"];D.prototype={handler:function(){},init:function(){this.evEl&&s(this.element,this.evEl,this.domHandler),this.evTarget&&s(this.target,this.evTarget,this.domHandler),this.evWin&&s(b(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&t(this.element,this.evEl,this.domHandler),this.evTarget&&t(this.target,this.evTarget,this.domHandler),this.evWin&&t(b(this.element),this.evWin,this.domHandler)}};var He={mousedown:1,mousemove:2,mouseup:4},Pe="mousedown",Be="mousemove mouseup";o(pe,D,{handler:function(e){var t=He[e.type];t&1&&0===e.button&&(this.pressed=!0),t&2&&1!==e.which&&(t=4),this.pressed&&this.allow&&(t&4&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var $e={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Fe={2:"touch",3:"pen",4:"mouse",5:"kinect"},Ve="pointerdown",Ue="pointermove pointerup pointercancel";Y.MSPointerEvent&&(Ve="MSPointerDown",Ue="MSPointerMove MSPointerUp MSPointerCancel"),o(ue,D,{handler:function(t){var a=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),s=$e[i],e=Fe[t.pointerType]||t.pointerType,o=x(a,t.pointerId,"pointerId");s&1&&(0===t.button||e=="touch")?0>o&&(a.push(t),o=a.length-1):s&12&&(n=!0),0>o||(a[o]=t,this.callback(this.manager,s,{pointers:a,changedPointers:[t],pointerType:e,srcEvent:t}),n&&a.splice(o,1))}});var qe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},We="touchstart",ze="touchstart touchmove touchend touchcancel";o(me,D,{handler:function(e){var t=qe[e.type];if(t===1&&(this.started=!0),this.started){var a=ge.call(this,e,t);t&12&&0==a[0].length-a[1].length&&(this.started=!1),this.callback(this.manager,t,{pointers:a[0],changedPointers:a[1],pointerType:"touch",srcEvent:e})}}});var Ge={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Qe="touchstart touchmove touchend touchcancel";o(he,D,{handler:function(e){var t=Ge[e.type],a=_e.call(this,e,t);a&&this.callback(this.manager,t,{pointers:a[0],changedPointers:a[1],pointerType:"touch",srcEvent:e})}}),o(fe,D,{handler:function(t,a,n){var i=n.pointerType=="touch",s=n.pointerType=="mouse";if(i)this.mouse.allow=!1;else if(s&&!this.mouse.allow)return;a&12&&(this.mouse.allow=!0),this.callback(t,a,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Je=A(e.style,"touchAction"),Ke=Je!==J,Xe="auto",Ze="manipulation",et="none",tt="pan-x",at="pan-y";ve.prototype={set:function(e){e=="compute"&&(e=this.compute()),Ke&&(this.manager.element.style[Je]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return l(this.manager.recognizers,function(t){q(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),ye(e.join(" "))},preventDefaults:function(t){if(!Ke){var a=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return a.preventDefault(),void 0;var i=this.actions,s=v(i,"none"),e=v(i,"pan-y"),o=v(i,"pan-x");return s||e&&n&6||o&&n&24?this.preventSrc(a):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var nt=1,it=2,st=4,ot=8,dt=16;be.prototype={defaults:{},set:function(e){return m(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(d(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=we(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return d(e,"dropRecognizeWith",this)?this:(e=we(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(d(e,"requireFailure",this))return this;var t=this.requireFail;return e=we(e,this),-1===x(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(d(e,"dropRequireFailure",this))return this;e=we(e,this);var t=x(this.requireFail,e);return-1<t&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){a.manager.emit(a.options.event+(t?Ae(n):""),e)}var a=this,n=this.state;8>n&&t(!0),t(),n>=8&&t(!0)},tryEmit:function(e){return this.canEmit()?this.emit(e):(this.state=32,void 0)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&33))return!1;e++}return!0},recognize:function(e){var t=m({},e);return q(this.options.enable,[this,t])?(this.state&56&&(this.state=1),this.state=this.process(t),this.state&30&&this.tryEmit(t),void 0):(this.reset(),this.state=32,void 0)},process:function(){},getTouchAction:function(){},reset:function(){}},o(ke,be,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(t){var a=this.state,n=t.eventType,i=a&6,s=this.attrTest(t);return i&&(n&8||!s)?a|16:i||s?n&4?a|8:a&2?a|4:2:32}}),o(Se,ke,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return e&6&&t.push("pan-y"),e&24&&t.push("pan-x"),t},directionTest:function(t){var a=this.options,n=!0,i=t.distance,s=t.direction,o=t.deltaX,r=t.deltaY;return s&a.direction||(a.direction&6?(s=0===o?1:0>o?2:4,n=o!=this.pX,i=L(t.deltaX)):(s=0===r?1:0>r?8:16,n=r!=this.pY,i=L(t.deltaY))),t.direction=s,n&&i>a.threshold&&s&a.direction},attrTest:function(e){return ke.prototype.attrTest.call(this,e)&&(this.state&2||!(this.state&2)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=xe(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),o(Me,ke,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(L(e.scale-1)>this.options.threshold||this.state&2)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=1>e.scale?"in":"out";this.manager.emit(this.options.event+t,e)}}}),o(Ce,be,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return["auto"]},process:function(t){var a=this.options,n=t.pointers.length===a.pointers,i=t.distance<a.threshold,s=t.deltaTime>a.time;if(this._input=t,!i||!n||t.eventType&12&&!s)this.reset();else if(t.eventType&1)this.reset(),this._timer=K(function(){this.state=8,this.tryEmit()},a.time,this);else if(t.eventType&4)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===8&&(e&&e.eventType&4?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=Oe(),this.manager.emit(this.options.event,this._input)))}}),o(Le,ke,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(L(e.rotation)>this.options.threshold||this.state&2)}}),o(Te,ke,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:30,pointers:1},getTouchAction:function(){return Se.prototype.getTouchAction.call(this)},attrTest:function(e){var t=this.options.direction,a;return t&30?a=e.velocity:t&6?a=e.velocityX:t&24&&(a=e.velocityY),this._super.attrTest.call(this,e)&&t&e.direction&&e.distance>this.options.threshold&&h(a)>this.options.velocity&&e.eventType&4},emit:function(e){var t=xe(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),o(Ee,be,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var a=this.options,n=t.pointers.length===a.pointers,i=t.distance<a.threshold,s=t.deltaTime<a.time;if(this.reset(),t.eventType&1&&0===this.count)return this.failTimeout();if(i&&s&&n){if(4!=t.eventType)return this.failTimeout();var e=!this.pTime||t.timeStamp-this.pTime<a.interval,o=!this.pCenter||de(this.pCenter,t.center)<a.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,o&&e?this.count+=1:this.count=1,this._input=t;var d=this.count%a.taps;if(0==d)return this.hasRequireFailures()?(this._timer=K(function(){this.state=8,this.tryEmit()},a.interval,this),2):8}return 32},failTimeout:function(){return this._timer=K(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==8&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),De.VERSION="2.0.4",De.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Le,{enable:!1}],[Me,{enable:!1},["rotate"]],[Te,{direction:6}],[Se,{direction:6},["swipe"]],[Ee],[Ee,{event:"doubletap",taps:2},["tap"]],[Ce]],cssProps:{userSelect:"default",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};Ye.prototype={set:function(e){return m(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(t){var a=this.session;if(!a.stopped){this.touchAction.preventDefaults(t);var n=this.recognizers,i=a.curRecognizer,s;(!i||i&&i.state&8)&&(i=a.curRecognizer=null);for(var o=0;o<n.length;)s=n[o],a.stopped===2||i&&s!=i&&!s.canRecognizeWith(i)?s.reset():s.recognize(t),!i&&s.state&14&&(i=a.curRecognizer=s),o++}},get:function(e){if(e instanceof be)return e;for(var t=this.recognizers,a=0;a<t.length;a++)if(t[a].options.event==e)return t[a];return null},add:function(e){if(d(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(d(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(x(t,e),1),this.touchAction.update(),this},on:function(e,t){var n=this.handlers;return l(w(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},off:function(e,t){var n=this.handlers;return l(w(e),function(e){t?n[e].splice(x(n[e],t),1):delete n[e]}),this},emit:function(e,t){this.options.domEvents&&je(e,t);var a=this.handlers[e]&&this.handlers[e].slice();if(a&&a.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var n=0;n<a.length;)a[n](t),n++}},destroy:function(){this.element&&Ie(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},m(De,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ye,Input:D,TouchAction:ve,TouchInput:he,MouseInput:pe,PointerEventInput:ue,TouchMouseInput:fe,SingleTouchInput:me,Recognizer:be,AttrRecognizer:ke,Tap:Ee,Pan:Se,Swipe:Te,Pinch:Me,Rotate:Le,Press:Ce,on:s,off:t,each:l,merge:n,extend:m,inherit:o,bindFn:p,prefixed:A}),typeof define=="function"&&define.amd?define("materialize_anonymous_module_3",[],function(){return De}):"undefined"!=typeof module&&module.exports?module.exports=De:Y[a]=De}(window,document,"Hammer");(function(e){"function"==typeof define&&define.amd?define("materialize_anonymous_module_1",["jquery","hammerjs"],e):"object"==typeof exports?e(h,f):e(h,f)})(function(e,t){function a(a,n){var i=e(a);i.data("hammer")||i.data("hammer",new t(i[0],n))}e.fn.hammer=function(e){return this.each(function(){a(this,e)})},t.Manager.prototype.emit=function(t){return function(a,n){t.call(this,a,n),e(this.element).trigger({type:a,gesture:n})}}(t.Manager.prototype.emit)});(function(e){e.Package?Materialize={}:e.Materialize={}})(window),Materialize.guid=function(){function e(){return Y(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}(),Materialize.elementOrParentIsFixed=function(e){var t=$(e),a=t.add(t.parents()),n=!1;return a.each(function(){if("fixed"===$(this).css("position"))return n=!0,!1}),n};var H=$?$.Velocity:h?h.Velocity:Velocity;(function(t){t.fn.collapsible=function(a){return a=t.extend({accordion:void 0},a),this.each(function(){function n(e){r=d.find("> li > .collapsible-header"),e.hasClass("active")?e.parent().addClass("active"):e.parent().removeClass("active"),e.parent().hasClass("active")?e.siblings(".collapsible-body").stop(!0,!1).slideDown({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}}):e.siblings(".collapsible-body").stop(!0,!1).slideUp({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}}),r.not(e).removeClass("active").parent().removeClass("active"),r.not(e).parent().children(".collapsible-body").stop(!0,!1).slideUp({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}})}function i(e){e.hasClass("active")?e.parent().addClass("active"):e.parent().removeClass("active"),e.parent().hasClass("active")?e.siblings(".collapsible-body").stop(!0,!1).slideDown({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}}):e.siblings(".collapsible-body").stop(!0,!1).slideUp({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}})}function s(e){var t=o(e);return 0<t.length}function o(e){return e.closest("li > .collapsible-header")}var d=t(this),r=t(this).find("> li > .collapsible-header"),c=d.data("collapsible");d.off("click.collapse","> li > .collapsible-header"),r.off("click.collapse"),d.on("click.collapse","> li > .collapsible-header",function(d){var e=t(this),r=t(d.target);s(r)&&(r=o(r)),r.toggleClass("active"),a.accordion||"accordion"===c||void 0===c?n(r):(i(r),e.hasClass("active")&&i(e))});var r=d.find("> li > .collapsible-header");a.accordion||"accordion"===c||void 0===c?n(r.filter(".active").first()):r.filter(".active").each(function(){i(t(this))})})},t(document).ready(function(){t(".collapsible").collapsible()})})(h);(function(t){t.fn.scrollTo=function(e){return t(this).scrollTop(t(this).scrollTop()-t(this).offset().top+t(e).offset().top),this},t.fn.dropdown=function(e){var a={inDuration:300,outDuration:225,constrain_width:!0,hover:!1,gutter:0,belowOrigin:!1,closeOnClick:!0,alignment:"left"};this.each(function(){function n(){void 0!==o.data("induration")&&(d.inDuration=o.data("inDuration")),void 0!==o.data("outduration")&&(d.outDuration=o.data("outDuration")),void 0!==o.data("constrainwidth")&&(d.constrain_width=o.data("constrainwidth")),void 0!==o.data("hover")&&(d.hover=o.data("hover")),void 0!==o.data("gutter")&&(d.gutter=o.data("gutter")),void 0!==o.data("beloworigin")&&(d.belowOrigin=o.data("beloworigin")),void 0!==o.data("closeOnClick")&&(d.closeOnClick=o.data("closeOnClick")),void 0!==o.data("alignment")&&(d.alignment=o.data("alignment"))}function i(e){"focus"===e&&(r=!0),n(),c.addClass("active"),o.addClass("active"),!0===d.constrain_width?c.css("width",o.outerWidth()):c.css("white-space","nowrap");var a=d.container?d.container.clientHeight:window.innerHeight,i=o.innerHeight(),s=o.offset().left,l=d.container?t(d.container).offset().top:t(window).scrollTop(),p=o.offset().top-l,u=d.alignment,m=0,g=0,h=0;!0===d.belowOrigin&&(h=i);var f=0,v=o.parent();if(!v.is("body")&&v[0].scrollHeight>v[0].clientHeight&&(f=v[0].scrollTop),s+c.innerWidth()>t(window).width()?u="right":0>s-c.innerWidth()+o.innerWidth()&&(u="left"),p+c.innerHeight()>a)if(0>p+i-c.innerHeight()){var b=a-p-h;c.css("max-height",b)}else h||(h+=i),h-=c.innerHeight();if("left"===u)m=d.gutter,g=o.position().left+m;else if("right"===u){var A=o.position().left+o.outerWidth()-c.outerWidth();m=-d.gutter,g=A+m}c.css({position:"absolute",top:o.position().top+h+f,left:g}),c.stop(!0,!0).css("opacity",0).slideDown({queue:!1,duration:d.inDuration,easing:"easeOutCubic",complete:function(){t(this).css("height",""),o.trigger("change_state",!0)}}).animate({opacity:1},{queue:!1,duration:d.inDuration,easing:"easeOutSine"})}function s(){r=!1,c.fadeOut(d.outDuration),c.removeClass("active"),o.removeClass("active"),setTimeout(function(){c.css("max-height",""),o.trigger("change_state",!1)},d.outDuration)}var o=t(this),d=t.extend({},a,e),r=!1,c=t("#"+o.attr("data-activates"));if(n(),o.after(c),d.hover){var l=!1;o.unbind("click."+o.attr("id")),o.on("mouseenter",function(){!1===l&&(i(),l=!0)}),o.on("mouseleave",function(a){var e=a.toElement||a.relatedTarget;t(e).closest(".dropdown-content").is(c)||(c.stop(!0,!0),s(),l=!1)}),c.on("mouseleave",function(a){var e=a.toElement||a.relatedTarget;t(e).closest(".dropdown-button").is(o)||(c.stop(!0,!0),s(),l=!1)})}else o.unbind("click."+o.attr("id")),o.bind("click."+o.attr("id"),function(a){r||(o[0]!=a.currentTarget||o.hasClass("active")||0!==t(a.target).closest(".dropdown-content").length?o.hasClass("active")&&(s(),t(document).unbind("click."+c.attr("id")+" touchstart."+c.attr("id"))):(a.preventDefault(),i("click")),c.hasClass("active")&&t(document).bind("click."+c.attr("id")+" touchstart."+c.attr("id"),function(a){c.is(a.target)||o.is(a.target)||o.find(a.target).length||(s(),t(document).unbind("click."+c.attr("id")+" touchstart."+c.attr("id")))}))});o.on("open",function(t,e){i(e)}),o.on("close",s)})},t(document).ready(function(){t(".dropdown-button").dropdown()})})(h);(function(t){var e=0,a=0,n=function(){return a++,"materialize-lean-overlay-"+a};Materialize.modalSettings={open:{},close:{}},t.fn.extend({openModal:function(a){var i=t("body"),s=i.innerWidth(),o=t.extend({opacity:.5,in_duration:350,out_duration:250,ready:void 0,complete:void 0,dismissible:!0,starting_top:"4%"},Materialize.modalSettings.open),d=t(this);d.hasClass("open")||(overlayID=n(),$overlay=t("<div class=\"lean-overlay\"></div>"),lStack=++e,$overlay.attr("id",overlayID).css("z-index",1e3+2*lStack),d.data("overlay-id",overlayID).css("z-index",1e3+2*lStack+1),d.addClass("open"),t("body").append($overlay),a=t.extend(o,a),a.dismissible&&($overlay.click(function(){d.closeModal(a)}),t(document).on("keyup.leanModal"+overlayID,function(t){27===t.keyCode&&(d.closeModal(a),t.preventDefault())})),d.find(".modal-close").on("click.close",function(){d.closeModal(a)}),$overlay.css({display:"block",opacity:0}),d.css({display:"block",opacity:0}),$overlay.velocity({opacity:a.opacity/lStack},{duration:a.in_duration,queue:!1,ease:"easeOutCubic"}),d.data("associated-overlay",$overlay[0]),d.hasClass("bottom-sheet")?d.velocity({bottom:"0",opacity:1},{duration:a.in_duration,queue:!1,ease:"easeOutCubic",complete:function(){"function"==typeof a.ready&&a.ready()}}):(t.Velocity.hook(d,"scaleX",.7),d.css({top:a.starting_top}),d.velocity({top:"10%",opacity:1,scaleX:"1"},{duration:a.in_duration,queue:!1,ease:"easeOutCubic",complete:function(){"function"==typeof a.ready&&a.ready()}})))}}),t.fn.extend({closeModal:function(a){var n=t.extend({out_duration:250,complete:void 0},Materialize.modalSettings.close),i=t(this),s=i.data("overlay-id"),o=t("#"+s);return i.hasClass("open")?void(i.removeClass("open"),a=t.extend(n,a),i.find(".modal-close").off("click.close"),t(document).off("keyup.leanModal"+s),o.velocity({opacity:0},{duration:a.out_duration,queue:!1,ease:"easeOutQuart"}),i.hasClass("bottom-sheet")?i.velocity({bottom:"-100%",opacity:0},{duration:a.out_duration,queue:!1,ease:"easeOutCubic",complete:function(){o.css({display:"none"}),e--,o.remove(),"function"==typeof a.complete&&a.complete()}}):i.velocity({top:a.starting_top,opacity:0,scaleX:.7},{duration:a.out_duration,complete:function(){t(this).css("display","none"),e--,o.remove(),"function"==typeof a.complete&&a.complete()}})):void("function"==typeof a.complete&&a.complete())}}),t.fn.extend({leanModal:function(e){return this.each(function(){var a=t.extend({starting_top:"4%"},e);t(this).click(function(n){a.starting_top=(t(this).offset().top-t(window).scrollTop())/1.15;var e=t(this).attr("href")||"#"+t(this).data("target");t(e).openModal(a),n.preventDefault()})})}})})(h);(function(e){e.fn.materialbox=function(){return this.each(function(){function t(){n=!1;var t=s.parent(".material-placeholder"),i=window.innerWidth,o=window.innerHeight,r=s.data("width"),c=s.data("height");s.velocity("stop",!0),e("#materialbox-overlay").velocity("stop",!0),e(".materialbox-caption").velocity("stop",!0),e("#materialbox-overlay").velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){a=!1,e(this).remove()}}),s.velocity({width:0,height:0,left:0,top:0},{duration:200,queue:!1,easing:"easeOutQuad"}),e(".materialbox-caption").velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){t.css({height:"",width:"",position:"",top:"",left:""}),s.css({height:"",top:"",left:"",width:"","max-width":"",position:"","z-index":""}),s.removeClass("active"),n=!0,e(this).remove(),d&&d.css("overflow","")}})}if(!e(this).hasClass("initialized")){e(this).addClass("initialized");var a=!1,n=!0,i=275,s=e(this),o=e("<div></div>").addClass("material-placeholder"),d,r;s.wrap(o),s.on("click",function(){var o=s.parent(".material-placeholder"),c=window.innerWidth,l=window.innerHeight,p=s.width(),u=s.height();if(!1===n)return t(),!1;if(a&&!0===n)return t(),!1;n=!1,s.addClass("active"),a=!0,o.css({width:o[0].getBoundingClientRect().width,height:o[0].getBoundingClientRect().height,position:"relative",top:0,left:0}),d=void 0,r=o[0].parentNode;for(var m;null!==r&&!e(r).is(document);)m=e(r),"visible"!==m.css("overflow")&&(m.css("overflow","visible"),d=void 0===d?m:d.add(m)),r=r.parentNode;s.css({position:"absolute","z-index":1e3}).data("width",p).data("height",u);var g=e("<div id=\"materialbox-overlay\"></div>").css({opacity:0}).click(function(){!0===n&&t()});if(s.before(g),g.velocity({opacity:1},{duration:i,queue:!1,easing:"easeOutQuad"}),""!==s.data("caption")){var h=e("<div class=\"materialbox-caption\"></div>");h.text(s.data("caption")),e("body").append(h),h.css({display:"inline"}),h.velocity({opacity:1},{duration:i,queue:!1,easing:"easeOutQuad"})}var f=0,v=0,b=0;p/c>u/l?(f=u/p,v=.9*c,b=.9*c*f):(f=p/u,v=.9*l*f,b=.9*l),s.hasClass("responsive-img")?s.velocity({"max-width":v,width:p},{duration:0,queue:!1,complete:function(){s.css({left:0,top:0}).velocity({height:b,width:v,left:e(document).scrollLeft()+c/2-s.parent(".material-placeholder").offset().left-v/2,top:e(document).scrollTop()+l/2-s.parent(".material-placeholder").offset().top-b/2},{duration:i,queue:!1,easing:"easeOutQuad",complete:function(){n=!0}})}}):s.css("left",0).css("top",0).velocity({height:b,width:v,left:e(document).scrollLeft()+c/2-s.parent(".material-placeholder").offset().left-v/2,top:e(document).scrollTop()+l/2-s.parent(".material-placeholder").offset().top-b/2},{duration:i,queue:!1,easing:"easeOutQuad",complete:function(){n=!0}})}),e(window).scroll(function(){a&&t()}),e(document).keyup(function(i){27===i.keyCode&&!0===n&&a&&t()})}})},e(document).ready(function(){e(".materialboxed").materialbox()})})(h);(function(e){e.fn.parallax=function(){var t=e(window).width();return this.each(function(){function a(a){var i=601>t?0<n.height()?n.height():n.children("img").height():0<n.height()?n.height():500;var s=n.children("img").first(),o=s.height(),d=o-i,r=n.offset().top+i,c=n.offset().top,l=e(window).scrollTop(),p=window.innerHeight,u=(l+p-c)/(i+p),m=M(d*u);a&&s.css("display","block"),r>l&&c<l+p&&s.css("transform","translate3D(-50%,"+m+"px, 0)")}var n=e(this);n.addClass("parallax"),n.children("img").one("load",function(){a(!0)}).each(function(){this.complete&&e(this).load()}),e(window).scroll(function(){t=e(window).width(),a(!1)}),e(window).resize(function(){t=e(window).width(),a(!1)})})}})(h);(function(t){var e={init:function(){return this.each(function(){var a=t(this),n=t(window).width();a.width("100%");var i=a.find("li.tab a"),s=a.width(),o=R(s,a[0].scrollWidth)/i.length,d=0,r,c;r=t(i.filter("[href=\""+location.hash+"\"]")),0===r.length&&(r=t(this).find("li.tab a.active").first()),0===r.length&&(r=t(this).find("li.tab a").first()),r.addClass("active"),d=i.index(r),0>d&&(d=0),r[0]!==void 0&&(c=t(r[0].hash)),a.append("<div class=\"indicator\"></div>");var l=a.find(".indicator");a.is(":visible")&&(l.css({right:s-(d+1)*o}),l.css({left:d*o})),t(window).resize(function(){s=a.width(),o=R(s,a[0].scrollWidth)/i.length,0>d&&(d=0),0!==o&&0!==s&&(l.css({right:s-(d+1)*o}),l.css({left:d*o}))}),i.not(r).each(function(){t(this.hash).hide()}),a.on("click","a",function(n){if(t(this).parent().hasClass("disabled"))return void n.preventDefault();s=a.width(),o=R(s,a[0].scrollWidth)/i.length,r.removeClass("active"),c!==void 0&&c.hide(),r=t(this),c=t(this.hash),i=a.find("li.tab a"),r.addClass("active");var e=d;d=i.index(t(this)),0>d&&(d=0),c!==void 0&&c.show(),0<=d-e?(l.velocity({right:s-(d+1)*o},{duration:300,queue:!1,easing:"easeOutQuad"}),l.velocity({left:d*o},{duration:300,queue:!1,easing:"easeOutQuad",delay:90})):(l.velocity({left:d*o},{duration:300,queue:!1,easing:"easeOutQuad"}),l.velocity({right:s-(d+1)*o},{duration:300,queue:!1,easing:"easeOutQuad",delay:90})),n.preventDefault()})})},select_tab:function(e){this.find("a[href=\"#"+e+"\"]").trigger("click")}};t.fn.tabs=function(a){if(e[a])return e[a].apply(this,Array.prototype.slice.call(arguments,1));return"object"!=typeof a&&a?void t.error("Method "+a+" does not exist on jQuery.tooltip"):e.init.apply(this,arguments)},t(document).ready(function(){t("ul.tabs").tabs()})})(h);(function(e){e.fn.tooltip=function(a){return"remove"===a?(this.each(function(){e("#"+e(this).attr("data-tooltip-id")).remove(),e(this).off("mouseenter.tooltip mouseleave.tooltip")}),!1):(a=e.extend({delay:350},a),this.each(function(){var n=Materialize.guid(),i=e(this);i.attr("data-tooltip-id",n);var s=e("<span></span>").text(i.attr("data-tooltip")),o=e("<div></div>");o.addClass("material-tooltip").append(s).appendTo(e("body")).attr("id",n);var d=e("<div></div>").addClass("backdrop");d.appendTo(o),d.css({top:0,left:0}),i.off("mouseenter.tooltip mouseleave.tooltip");var r=!1,c;i.on({"mouseenter.tooltip":function(){var e=i.attr("data-delay");e=void 0===e||""===e?a.delay:e,c=setTimeout(function(){r=!0,o.velocity("stop"),d.velocity("stop"),o.css({display:"block",left:"0px",top:"0px"}),o.children("span").text(i.attr("data-tooltip"));var e=i.outerWidth(),a=i.outerHeight(),n=i.attr("data-position"),s=o.outerHeight(),c=o.outerWidth(),l="0px",p="0px",u=8,m,g,h;"top"===n?(m=i.offset().top-s-5,g=i.offset().left+e/2-c/2,h=t(g,m,c,s),l="-10px",d.css({borderRadius:"14px 14px 0 0",transformOrigin:"50% 90%",marginTop:s,marginLeft:c/2-d.width()/2})):"left"===n?(m=i.offset().top+a/2-s/2,g=i.offset().left-c-5,h=t(g,m,c,s),p="-10px",d.css({width:"14px",height:"14px",borderRadius:"14px 0 0 14px",transformOrigin:"95% 50%",marginTop:s/2,marginLeft:c})):"right"===n?(m=i.offset().top+a/2-s/2,g=i.offset().left+e+5,h=t(g,m,c,s),p="+10px",d.css({width:"14px",height:"14px",borderRadius:"0 14px 14px 0",transformOrigin:"5% 50%",marginTop:s/2,marginLeft:"0px"})):(m=i.offset().top+i.outerHeight()+5,g=i.offset().left+e/2-c/2,h=t(g,m,c,s),l="+10px",d.css({marginLeft:c/2-d.width()/2})),o.css({top:h.y,left:h.x}),u=c/8,8>u&&(u=8),("right"===n||"left"===n)&&(u=c/10,6>u&&(u=6)),o.velocity({marginTop:l,marginLeft:p},{duration:350,queue:!1}).velocity({opacity:1},{duration:300,delay:50,queue:!1}),d.css({display:"block"}).velocity({opacity:1},{duration:55,delay:0,queue:!1}).velocity({scale:u},{duration:300,delay:0,queue:!1,easing:"easeInOutQuad"})},e)},"mouseleave.tooltip":function(){r=!1,clearTimeout(c),setTimeout(function(){!0!=r&&(o.velocity({opacity:0,marginTop:0,marginLeft:0},{duration:225,queue:!1}),d.velocity({opacity:0,scale:1},{duration:225,queue:!1,complete:function(){d.css("display","none"),o.css("display","none"),r=!1}}))},225)}})}))};var t=function(t,a,n,i){var s=t,o=a;return 0>s?s=4:s+n>window.innerWidth&&(s-=s+n-window.innerWidth),0>o?o=4:o+i>(options.container?options.container.clientHeight:window.innerHeight)+e(window).scrollTop&&(o-=o+i-(options.container?options.container.clientHeight:window.innerHeight)),{x:s,y:o}};e(document).ready(function(){e(".tooltipped").tooltip()})})(h);(function(t){'use strict';function a(e){return null!==e&&e===e.window}function n(e){return a(e)?e:9===e.nodeType&&e.defaultView}function i(e){var t={top:0,left:0},a=e&&e.ownerDocument,i,s;return i=a.documentElement,"undefined"!=typeof e.getBoundingClientRect&&(t=e.getBoundingClientRect()),s=n(a),{top:t.top+s.pageYOffset-i.clientTop,left:t.left+s.pageXOffset-i.clientLeft}}function s(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}function o(t){if(!1===p.allowEvent(t))return null;for(var e=null,a=t.target||t.srcElement;null!==a.parentElement;){if(!(a instanceof SVGElement)&&-1!==a.className.indexOf("waves-effect")){e=a;break}else if(a.classList.contains("waves-effect")){e=a;break}a=a.parentElement}return e}function d(a){var e=o(a);null!==e&&(l.show(a,e),"ontouchstart"in t&&(e.addEventListener("touchend",l.hide,!1),e.addEventListener("touchcancel",l.hide,!1)),e.addEventListener("mouseup",l.hide,!1),e.addEventListener("mouseleave",l.hide,!1))}var r=r||{},c=document.querySelectorAll.bind(document),l={duration:750,show:function(t,e){if(2===t.button)return!1;var a=e||this,n=document.createElement("div");n.className="waves-ripple",a.appendChild(n);var o=i(a),d=t.pageY-o.top,r=t.pageX-o.left,c="scale("+10*(a.clientWidth/100)+")";"touches"in t&&(d=t.touches[0].pageY-o.top,r=t.touches[0].pageX-o.left),n.setAttribute("data-hold",Date.now()),n.setAttribute("data-scale",c),n.setAttribute("data-x",r),n.setAttribute("data-y",d);var p={top:d+"px",left:r+"px"};n.className+=" waves-notransition",n.setAttribute("style",s(p)),n.className=n.className.replace("waves-notransition",""),p["-webkit-transform"]=c,p["-moz-transform"]=c,p["-ms-transform"]=c,p["-o-transform"]=c,p.transform=c,p.opacity="1",p["-webkit-transition-duration"]=l.duration+"ms",p["-moz-transition-duration"]=l.duration+"ms",p["-o-transition-duration"]=l.duration+"ms",p["transition-duration"]=l.duration+"ms",p["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",p["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",p["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",p["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",n.setAttribute("style",s(p))},hide:function(t){p.touchup(t);var e=this,a=1.4*e.clientWidth,n=null,i=e.getElementsByClassName("waves-ripple");if(0<i.length)n=i[i.length-1];else return!1;var o=n.getAttribute("data-x"),d=n.getAttribute("data-y"),r=n.getAttribute("data-scale"),c=Date.now()-+n.getAttribute("data-hold"),u=350-c;0>u&&(u=0),setTimeout(function(){var t={top:d+"px",left:o+"px",opacity:"0","-webkit-transition-duration":l.duration+"ms","-moz-transition-duration":l.duration+"ms","-o-transition-duration":l.duration+"ms","transition-duration":l.duration+"ms","-webkit-transform":r,"-moz-transform":r,"-ms-transform":r,"-o-transform":r,transform:r};n.setAttribute("style",s(t)),setTimeout(function(){try{e.removeChild(n)}catch(t){return!1}},l.duration)},u)},wrapInput:function(e){for(var t=0,n;t<e.length;t++)if(n=e[t],"input"===n.tagName.toLowerCase()){var i=n.parentNode;if("i"===i.tagName.toLowerCase()&&-1!==i.className.indexOf("waves-effect"))continue;var s=document.createElement("i");s.className=n.className+" waves-input-wrapper";var o=n.getAttribute("style");o||(o=""),s.setAttribute("style",o),n.className="waves-button-input",n.removeAttribute("style"),i.replaceChild(s,n),s.appendChild(n)}}},p={touches:0,allowEvent:function(t){var e=!0;return"touchstart"===t.type?p.touches+=1:"touchend"===t.type||"touchcancel"===t.type?setTimeout(function(){0<p.touches&&(p.touches-=1)},500):"mousedown"===t.type&&0<p.touches&&(e=!1),e},touchup:function(t){p.allowEvent(t)}};r.displayEffect=function(e){e=e||{},"duration"in e&&(l.duration=e.duration),l.wrapInput(c(".waves-effect")),"ontouchstart"in t&&document.body.addEventListener("touchstart",d,!1),document.body.addEventListener("mousedown",d,!1)},r.attach=function(e){"input"===e.tagName.toLowerCase()&&(l.wrapInput([e]),e=e.parentElement),"ontouchstart"in t&&e.addEventListener("touchstart",d,!1),e.addEventListener("mousedown",d,!1)},t.Waves=r,document.addEventListener("DOMContentLoaded",function(){r.displayEffect()},!1)})(window);Materialize.toast=function(e,t,a,n){function i(e){var t=document.createElement("div");if(t.classList.add("toast"),a)for(var s=a.split(" "),o=0,d=s.length;o<d;o++)t.classList.add(s[o]);("object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)?t.appendChild(e):e instanceof h?t.appendChild(e[0]):t.innerHTML=e;var r=new f(t,{prevent_default:!1});return r.on("pan",function(a){var e=a.deltaX;t.classList.contains("panning")||t.classList.add("panning");var n=1-L(e/80);0>n&&(n=0),H(t,{left:e,opacity:n},{duration:50,queue:!1,easing:"easeOutQuad"})}),r.on("panend",function(a){var e=a.deltaX;L(e)>80?H(t,{marginTop:"-40px"},{duration:375,easing:"easeOutExpo",queue:!1,complete:function(){"function"==typeof n&&n(),t.parentNode.removeChild(t)}}):(t.classList.remove("panning"),H(t,{left:0,opacity:1},{duration:300,easing:"easeOutExpo",queue:!1}))}),t}a=a||"";var s=document.getElementById("toast-container");null===s&&(s=document.createElement("div"),s.id="toast-container",document.body.appendChild(s));var o=i(e);e&&s.appendChild(o),o.style.top="35px",o.style.opacity=0,H(o,{top:"0px",opacity:1},{duration:300,easing:"easeOutCubic",queue:!1});var d=t,r=setInterval(function(){null===o.parentNode&&window.clearInterval(r),o.classList.contains("panning")||(d-=20),0>=d&&(H(o,{opacity:0,marginTop:"-40px"},{duration:375,easing:"easeOutExpo",queue:!1,complete:function(){"function"==typeof n&&n(),this[0].parentNode.removeChild(this[0])}}),window.clearInterval(r))},20)};(function(t){var e={init:function(a){a=t.extend({menuWidth:240,edge:"left",closeOnClick:!1},a),t(this).each(function(){function e(e){o=!1,d=!1,t("#sidenav-overlay").velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){t(this).remove()}}),"left"===a.edge?(s.css({width:"",right:"",left:"0"}),i.velocity({translateX:"-100%"},{duration:200,queue:!1,easing:"easeOutCubic",complete:function(){!0===e&&(i.removeAttr("style"),i.css("width",a.menuWidth))}})):(s.css({width:"",right:"0",left:""}),i.velocity({translateX:"100%"},{duration:200,queue:!1,easing:"easeOutCubic",complete:function(){!0===e&&(i.removeAttr("style"),i.css("width",a.menuWidth))}}))}var n=t(this),i=t("#"+n.attr("data-activates"));240!=a.menuWidth&&i.css("width",a.menuWidth);var s=t("<div class=\"drag-target\"></div>");t("body").append(s),"left"==a.edge?(i.css("transform","translateX(-100%)"),s.css({left:0})):(i.addClass("right-aligned").css("transform","translateX(100%)"),s.css({right:0})),i.hasClass("fixed")&&992<window.innerWidth&&i.css("transform","translateX(0)"),i.hasClass("fixed")&&t(window).resize(function(){992<window.innerWidth?0!=t("#sidenav-overlay").length&&d?e(!0):i.css("transform","translateX(0%)"):!1===d&&("left"===a.edge?i.css("transform","translateX(-100%)"):i.css("transform","translateX(100%)"))}),!0===a.closeOnClick&&i.on("click.itemclick","a:not(.collapsible-header)",function(){e()});var o=!1,d=!1;s.on("click",function(){e()}),s.hammer({prevent_default:!1}).bind("pan",function(n){if("touch"==n.gesture.pointerType){var s=n.gesture.direction,o=n.gesture.center.x,r=n.gesture.center.y,c=n.gesture.velocityX,l=t("body"),p=l.innerWidth();if(0===t("#sidenav-overlay").length){var u=t("<div id=\"sidenav-overlay\"></div>");u.css("opacity",0).click(function(){e()}),t("body").append(u)}if("left"===a.edge&&(o>a.menuWidth?o=a.menuWidth:0>o&&(o=0)),"left"===a.edge)o<a.menuWidth/2?d=!1:o>=a.menuWidth/2&&(d=!0),i.css("transform","translateX("+(o-a.menuWidth)+"px)");else{o<window.innerWidth-a.menuWidth/2?d=!0:o>=window.innerWidth-a.menuWidth/2&&(d=!1);var m=o-a.menuWidth/2;0>m&&(m=0),i.css("transform","translateX("+m+"px)")}var g;"left"===a.edge?(g=o/a.menuWidth,t("#sidenav-overlay").velocity({opacity:g},{duration:10,queue:!1,easing:"easeOutQuad"})):(g=L((o-window.innerWidth)/a.menuWidth),t("#sidenav-overlay").velocity({opacity:g},{duration:10,queue:!1,easing:"easeOutQuad"}))}}).bind("panend",function(n){if("touch"==n.gesture.pointerType){var e=n.gesture.velocityX,r=n.gesture.center.x,c=r-a.menuWidth,l=r-a.menuWidth/2;0<c&&(c=0),0>l&&(l=0),o=!1,"left"===a.edge?d&&.3>=e||-.5>e?(0!=c&&i.velocity({translateX:[0,c]},{duration:300,queue:!1,easing:"easeOutQuad"}),t("#sidenav-overlay").velocity({opacity:1},{duration:50,queue:!1,easing:"easeOutQuad"}),s.css({width:"50%",right:0,left:""})):(!d||.3<e)&&(i.velocity({translateX:[-1*a.menuWidth-10,c]},{duration:200,queue:!1,easing:"easeOutQuad"}),t("#sidenav-overlay").velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){t(this).remove()}}),s.css({width:"10px",right:"",left:0})):d&&-.3<=e||.5<e?(i.velocity({translateX:[0,l]},{duration:300,queue:!1,easing:"easeOutQuad"}),t("#sidenav-overlay").velocity({opacity:1},{duration:50,queue:!1,easing:"easeOutQuad"}),s.css({width:"50%",right:"",left:0})):(!d||-.3>e)&&(i.velocity({translateX:[a.menuWidth+10,l]},{duration:200,queue:!1,easing:"easeOutQuad"}),t("#sidenav-overlay").velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){t(this).remove()}}),s.css({width:"10px",right:0,left:""}))}}),n.click(function(){if(!0===d)d=!1,o=!1,e();else{var n=t("body"),r=n.innerWidth();t("body").append(s),"left"===a.edge?(s.css({width:"50%",right:0,left:""}),i.velocity({translateX:[0,-1*a.menuWidth]},{duration:300,queue:!1,easing:"easeOutQuad"})):(s.css({width:"50%",right:"",left:0}),i.velocity({translateX:[0,a.menuWidth]},{duration:300,queue:!1,easing:"easeOutQuad"}));var c=t("<div id=\"sidenav-overlay\"></div>");c.css("opacity",0).click(function(){d=!1,o=!1,e(),c.velocity({opacity:0},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){t(this).remove()}})}),t("body").append(c),c.velocity({opacity:1},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){d=!0,o=!1}})}return!1})})},show:function(){this.trigger("click")},hide:function(){t("#sidenav-overlay").trigger("click")}};t.fn.sideNav=function(a){if(e[a])return e[a].apply(this,Array.prototype.slice.call(arguments,1));return"object"!=typeof a&&a?void t.error("Method "+a+" does not exist on jQuery.sideNav"):e.init.apply(this,arguments)}})(h);(function(t){function e(e,a,n,i){var s=t();return t.each(o,function(t,o){if(0<o.height()){var d=o.offset().top,r=o.offset().left,c=r+o.width(),l=d+o.height();!(r>a||c<i||d>n||l<e)&&s.push(o)}}),s}function a(){++c;var a=s.scrollTop(),n=s.scrollLeft(),i=n+s.width(),o=a+s.height(),r=e(a+l.top+200,i+l.right,o+l.bottom,n+l.left);t.each(r,function(e,t){var a=t.data("scrollSpy:ticks");"number"!=typeof a&&t.triggerHandler("scrollSpy:enter"),t.data("scrollSpy:ticks",c)}),t.each(d,function(e,t){var a=t.data("scrollSpy:ticks");"number"==typeof a&&a!==c&&(t.triggerHandler("scrollSpy:exit"),t.data("scrollSpy:ticks",null))}),d=r}function n(){s.trigger("scrollSpy:winSize")}/**
	 * Get time in ms
   * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
	 * @type {function}
	 * @return {number}
	 */ /**
	 * Returns a function, that, when invoked, will only be triggered at most once
	 * during a given window of time. Normally, the throttled function will run
	 * as much as it can, without ever going more than once per `wait` duration;
	 * but if you'd like to disable the execution on the leading edge, pass
	 * `{leading: false}`. To disable execution on the trailing edge, ditto.
	 * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
	 * @param {function} func
	 * @param {number} wait
	 * @param {Object=} options
	 * @returns {Function}
	 */function i(e,t,a){var n=null,i=0,s,o,d;a||(a={});var r=function(){i=!1===a.leading?0:p(),n=null,d=e.apply(s,o),s=o=null};return function(){var c=p();i||!1!==a.leading||(i=c);var l=t-(c-i);return s=this,o=arguments,0>=l?(clearTimeout(n),n=null,i=c,d=e.apply(s,o),s=o=null):!n&&!1!==a.trailing&&(n=setTimeout(r,l)),d}}var s=t(window),o=[],d=[],r=!1,c=0,l={top:0,right:0,bottom:0,left:0},p=Date.now||function(){return new Date().getTime()};t.scrollSpy=function(e,n){var d=[];e=t(e),e.each(function(e,a){o.push(t(a)),t(a).data("scrollSpy:id",e),t("a[href=\"#"+t(a).attr("id")+"\"]").click(function(a){a.preventDefault();var e=t(this.hash).offset().top+1;t("html, body").animate({scrollTop:e-200},{duration:400,queue:!1,easing:"easeOutCubic"})})}),n=n||{throttle:100},l.top=n.offsetTop||0,l.right=n.offsetRight||0,l.bottom=n.offsetBottom||0,l.left=n.offsetLeft||0;var c=i(a,n.throttle||100),p=function(){t(document).ready(c)};return r||(s.on("scroll",p),s.on("resize",p),r=!0),setTimeout(p,0),e.on("scrollSpy:enter",function(){d=t.grep(d,function(e){return 0!=e.height()});var e=t(this);d[0]?(t("a[href=\"#"+d[0].attr("id")+"\"]").removeClass("active"),e.data("scrollSpy:id")<d[0].data("scrollSpy:id")?d.unshift(t(this)):d.push(t(this))):d.push(t(this)),t("a[href=\"#"+d[0].attr("id")+"\"]").addClass("active")}),e.on("scrollSpy:exit",function(){if(d=t.grep(d,function(e){return 0!=e.height()}),d[0]){t("a[href=\"#"+d[0].attr("id")+"\"]").removeClass("active");var e=t(this);d=t.grep(d,function(t){return t.attr("id")!=e.attr("id")}),d[0]&&t("a[href=\"#"+d[0].attr("id")+"\"]").addClass("active")}}),e},t.winSizeSpy=function(e){return t.winSizeSpy=function(){return s},e=e||{throttle:100},s.on("resize",i(n,e.throttle||100))},t.fn.scrollSpy=function(e){return t.scrollSpy(t(this),e)}})(h);(function(t){t(document).ready(function(){function e(e){var n=e.css("font-family"),i=e.css("font-size");i&&a.css("font-size",i),n&&a.css("font-family",n),"off"===e.attr("wrap")&&a.css("overflow-wrap","normal").css("white-space","pre"),a.text(e.val()+"\n");var s=a.html().replace(/\n/g,"<br>");a.html(s),e.is(":visible")?a.css("width",e.width()):a.css("width",t(window).width()/2),e.css("height",a.height())}Materialize.updateTextFields=function(){t("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea").each(function(e,a){0<t(a).val().length||a.autofocus||t(this).attr("placeholder")!==void 0||!0===t(a)[0].validity.badInput?t(this).siblings("label, i").addClass("active"):t(this).siblings("label, i").removeClass("active")})};t(document).on("change","input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea",function(){(0!==t(this).val().length||t(this).attr("placeholder")!==void 0)&&t(this).siblings("label").addClass("active"),validate_field(t(this))}),t(document).ready(function(){Materialize.updateTextFields()}),t(document).on("reset",function(a){var e=t(a.target);e.is("form")&&(e.find("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea").removeClass("valid").removeClass("invalid"),e.find("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea").each(function(){""===t(this).attr("value")&&t(this).siblings("label, i").removeClass("active")}),e.find("select.initialized").each(function(){var t=e.find("option[selected]").text();e.siblings("input.select-dropdown").val(t)}))}),t(document).on("focus","input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea",function(){t(this).siblings("label, i").addClass("active")}),t(document).on("blur","input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea",function(){var e=t(this);0===e.val().length&&!0!==e[0].validity.badInput&&e.attr("placeholder")===void 0&&e.siblings("label, i").removeClass("active"),0===e.val().length&&!0!==e[0].validity.badInput&&e.attr("placeholder")!==void 0&&e.siblings("i").removeClass("active"),validate_field(e)}),window.validate_field=function(e){var t=e.attr("length")!==void 0,a=parseInt(e.attr("length")),n=e.val().length;0===e.val().length&&!1===e[0].validity.badInput?e.hasClass("validate")&&(e.removeClass("valid"),e.removeClass("invalid")):e.hasClass("validate")&&(e.is(":valid")&&t&&n<=a||e.is(":valid")&&!t?(e.removeClass("invalid"),e.addClass("valid")):(e.removeClass("valid"),e.addClass("invalid")))};t(document).on("keyup.radio","input[type=radio], input[type=checkbox]",function(a){if(9===a.which){t(this).addClass("tabbed");var e=t(this);return void e.one("blur",function(){t(this).removeClass("tabbed")})}});var a=t(".hiddendiv").first();a.length||(a=t("<div class=\"hiddendiv common\"></div>"),t("body").append(a));t(".materialize-textarea").each(function(){var a=t(this);a.val().length&&e(a)}),t("body").on("keyup keydown autoresize",".materialize-textarea",function(){e(t(this))}),t(document).on("change",".file-field input[type=\"file\"]",function(){for(var e=t(this).closest(".file-field"),a=e.find("input.file-path"),n=t(this)[0].files,s=[],o=0;o<n.length;o++)s.push(n[o].name);a.val(s.join(", ")),a.trigger("change")});var n=!1,i;t("input[type=range]").each(function(){var e=t("<span class=\"thumb\"><span class=\"value\"></span></span>");t(this).after(e)});t(document).on("change","input[type=range]",function(){var e=t(this).siblings(".thumb");e.find(".value").html(t(this).val())}),t(document).on("input mousedown touchstart","input[type=range]",function(a){var e=t(this).siblings(".thumb"),s=t(this).outerWidth();0>=e.length&&(e=t("<span class=\"thumb\"><span class=\"value\"></span></span>"),t(this).after(e)),e.find(".value").html(t(this).val()),n=!0,t(this).addClass("active"),e.hasClass("active")||e.velocity({height:"30px",width:"30px",top:"-32px",marginLeft:"-15px"},{duration:300,easing:"easeOutExpo"}),"input"!==a.type&&(i=void 0===a.pageX||null===a.pageX?a.originalEvent.touches[0].pageX-t(this).offset().left:a.pageX-t(this).offset().left,0>i?i=0:i>s&&(i=s),e.addClass("active").css("left",i)),e.find(".value").html(t(this).val())}),t(document).on("mouseup touchend",".range-field",function(){n=!1,t(this).removeClass("active")}),t(document).on("mousemove touchmove",".range-field",function(a){var e=t(this).children(".thumb"),i;if(n){e.hasClass("active")||e.velocity({height:"30px",width:"30px",top:"-32px",marginLeft:"-15px"},{duration:300,easing:"easeOutExpo"}),i=void 0===a.pageX||null===a.pageX?a.originalEvent.touches[0].pageX-t(this).offset().left:a.pageX-t(this).offset().left;var s=t(this).outerWidth();0>i?i=0:i>s&&(i=s),e.addClass("active").css("left",i),e.find(".value").html(e.siblings("input[type=range]").val())}}),t(document).on("mouseout touchleave",".range-field",function(){if(!n){var e=t(this).children(".thumb");e.hasClass("active")&&e.velocity({height:"0",width:"0",top:"10px",marginLeft:"-6px"},{duration:100}),e.removeClass("active")}})}),t.fn.material_select=function(e){function a(e,t,a){var i=e.indexOf(t),s=-1===i;return s?e.push(t):e.splice(i,1),a.siblings("ul.dropdown-content").find("li").eq(t).toggleClass("active"),a.find("option").eq(t).prop("selected",s),n(e,a),s}function n(e,t){for(var a="",n=0,s=e.length,o;n<s;n++)o=t.find("option").eq(e[n]).text(),a+=0==n?o:", "+o;""===a&&(a=t.find("option:disabled").eq(0).text()),t.siblings("input.select-dropdown").val(a)}t(this).each(function(){var n=t(this),i=n.siblings(".select-options"),s=i.length;if(!n.hasClass("browser-default")){var o=!!n.attr("multiple"),d=n.data("select-id");if(d&&(n.parent().find("span.caret").remove(),n.parent().find("input").remove(),n.unwrap(),t("ul#select-options-"+d).remove()),"destroy"===e)return void n.data("select-id",null).removeClass("initialized");var r=Materialize.guid();n.data("select-id",r);var c=t("<div class=\"select-wrapper\"></div>");c.addClass(n.attr("class"));var l=t("<ul id=\"select-options-"+r+"\" class=\"dropdown-content select-dropdown "+(o?"multiple-select-dropdown":"")+"\"></ul>"),p=n.children("option, optgroup"),u=[],m=!1,g=n.find("option:selected")||n.find("option:first"),h;h=g.html();var f=function(e,a,n){var o=a.is(":disabled")?"disabled ":"",d="optgroup-option"===n?"optgroup-option ":"",r;r=s?i.find("[data-value="+a.attr("value")+"]").html()||"<span>"+a.html()+"</span>":"<span>"+a.html()+"</span>";var c=a.data("icon"),p=a.attr("class");if(!!c){var u="";return!p||(u=" class=\""+p+"\""),"multiple"===n?l.append(t("<li class=\""+o+"\"><img src=\""+c+"\""+u+"><span><input type=\"checkbox\""+o+"/><label></label>"+r+"</span></li>")):l.append(t("<li class=\""+o+d+"\"><img src=\""+c+"\""+u+">"+r+"</li>")),!0}"multiple"===n?l.append(t("<li class=\""+o+"\"><span><input type=\"checkbox\""+o+"/><label></label>"+r+"</li>")):l.append(t("<li class=\""+o+d+"\">"+r+"</li>"))};p.length&&p.each(function(){if(t(this).is("option"))o?f(n,t(this),"multiple"):f(n,t(this));else if(t(this).is("optgroup")){var e=t(this).children("option");l.append(t("<li class=\"optgroup\"><span>"+t(this).attr("label")+"</span></li>")),e.each(function(){f(n,t(this),"optgroup-option")})}}),l.find("li:not(.optgroup)").each(function(s){t(this).click(function(i){if(!t(this).hasClass("disabled")&&!t(this).hasClass("optgroup")){var d=!0;o?(t("input[type=\"checkbox\"]",this).prop("checked",function(e,t){return!t}),d=a(u,t(this).index(),n),A.trigger("focus")):(l.find("li").removeClass("active"),t(this).toggleClass("active"),A.val(t(this).text().trim())),x(l,t(this)),n.find("option").eq(s).prop("selected",d),n.trigger("change"),"undefined"!=typeof e&&e()}i.stopPropagation()})}),n.wrap(c);var v=t("<span class=\"caret\">&#9660;</span>");n.is(":disabled")&&v.addClass("disabled");var b=s?h:h.replace(/"/g,"&quot;");var A=t("<input type=\"text\" class=\"select-dropdown\" readonly=\"true\" "+(n.is(":disabled")?"disabled":"")+" data-activates=\"select-options-"+r+"\" value=\""+b+"\"/>");n.before(A),A.before(v),A.after(l),n.is(":disabled")||A.dropdown({hover:!1,closeOnClick:!1}),n.attr("tabindex")&&t(A[0]).attr("tabindex",n.attr("tabindex")),n.addClass("initialized"),A.on({focus:function(){if(t("ul.select-dropdown").not(l[0]).is(":visible")&&t("input.select-dropdown").trigger("close"),!l.is(":visible")){t(this).trigger("open",["focus"]);var e=t(this).val(),a=l.find("li").filter(function(){return t(this).text().toLowerCase()===e.toLowerCase()})[0];x(l,a)}},click:function(t){t.stopPropagation()}}),A.on("blur",function(){o||t(this).trigger("close"),l.find("li.selected").removeClass("selected")}),l.hover(function(){m=!0},function(){m=!1}),t(window).on({click:function(){o&&(m||A.trigger("close"))}}),o&&n.find("option:selected:not(:disabled)").each(function(){var e=t(this).index();a(u,e,n),l.find("li").eq(e).find(":checkbox").prop("checked",!0)});var x=function(e,a){if(a){e.find("li.selected").removeClass("selected");var n=t(a);n.addClass("selected"),l.scrollTo(n)}},w=[],k=function(a){if(9==a.which)return void A.trigger("close");if(40==a.which&&!l.is(":visible"))return void A.trigger("open");if(13!=a.which||l.is(":visible")){a.preventDefault();var e=D(a.which).toLowerCase();if(e&&-1===[9,13,27,38,40].indexOf(a.which)){w.push(e);var n=w.join(""),i=l.find("li").filter(function(){return 0===t(this).text().toLowerCase().indexOf(n)})[0];i&&x(l,i)}if(13==a.which){var s=l.find("li.selected:not(.disabled)")[0];s&&(t(s).trigger("click"),!o&&A.trigger("close"))}40==a.which&&(i=l.find("li.selected").length?l.find("li.selected").next("li:not(.disabled)")[0]:l.find("li:not(.disabled)")[0],x(l,i)),27==a.which&&A.trigger("close"),38==a.which&&(i=l.find("li.selected").prev("li:not(.disabled)")[0],i&&x(l,i)),setTimeout(function(){w=[]},1e3)}};A.on("keydown",k)}})}})(h);(function(e){var t={init:function(t){return t=e.extend({indicators:!0,height:400,transition:500,interval:6e3},t),this.each(function(){function a(e,t){e.hasClass("center-align")?e.velocity({opacity:0,translateY:-100},{duration:t,queue:!1}):e.hasClass("right-align")?e.velocity({opacity:0,translateX:100},{duration:t,queue:!1}):e.hasClass("left-align")&&e.velocity({opacity:0,translateX:-100},{duration:t,queue:!1})}function n(e){e>=o.length?e=0:0>e&&(e=o.length-1),d=s.find(".active").index(),d!=e&&(r=o.eq(d),$caption=r.find(".caption"),r.removeClass("active"),r.velocity({opacity:0},{duration:t.transition,queue:!1,easing:"easeOutQuad",complete:function(){o.not(".active").velocity({opacity:0,translateX:0,translateY:0},{duration:0,queue:!1})}}),a($caption,t.transition),t.indicators&&c.eq(d).removeClass("active"),o.eq(e).velocity({opacity:1},{duration:t.transition,queue:!1,easing:"easeOutQuad"}),o.eq(e).find(".caption").velocity({opacity:1,translateX:0,translateY:0},{duration:t.transition,delay:t.transition,queue:!1,easing:"easeOutQuad"}),o.eq(e).addClass("active"),t.indicators&&c.eq(e).addClass("active"))}var i=e(this),s=i.find("ul.slides").first(),o=s.find("li"),d=s.find(".active").index(),r,c,l;-1!=d&&(r=o.eq(d)),i.hasClass("fullscreen")||(t.indicators?i.height(t.height+40):i.height(t.height),s.height(t.height)),o.find(".caption").each(function(){a(e(this),0)}),o.find("img").each(function(){"data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="!==e(this).attr("src")&&(e(this).css("background-image","url("+e(this).attr("src")+")"),e(this).attr("src","data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="))}),t.indicators&&(c=e("<ul class=\"indicators\"></ul>"),o.each(function(){var a=e("<li class=\"indicator-item\"></li>");a.click(function(){var a=s.parent(),i=a.find(e(this)).index();n(i),clearInterval(l),l=setInterval(function(){d=s.find(".active").index(),o.length==d+1?d=0:d+=1,n(d)},t.transition+t.interval)}),c.append(a)}),i.append(c),c=i.find("ul.indicators").find("li.indicator-item")),r?r.show():(o.first().addClass("active").velocity({opacity:1},{duration:t.transition,queue:!1,easing:"easeOutQuad"}),d=0,r=o.eq(d),t.indicators&&c.eq(d).addClass("active")),r.find("img").each(function(){r.find(".caption").velocity({opacity:1,translateX:0,translateY:0},{duration:t.transition,queue:!1,easing:"easeOutQuad"})}),l=setInterval(function(){d=s.find(".active").index(),n(d+1)},t.transition+t.interval);var p=!1,u=!1,m=!1;i.hammer({prevent_default:!1}).bind("pan",function(t){if("touch"===t.gesture.pointerType){clearInterval(l);var e=t.gesture.direction,a=t.gesture.deltaX,n=t.gesture.velocityX;$curr_slide=s.find(".active"),$curr_slide.velocity({translateX:a},{duration:50,queue:!1,easing:"easeOutQuad"}),4===e&&(a>i.innerWidth()/2||-.65>n)?m=!0:2===e&&(a<-1*i.innerWidth()/2||.65<n)&&(u=!0);var d;u&&(d=$curr_slide.next(),0===d.length&&(d=o.first()),d.velocity({opacity:1},{duration:300,queue:!1,easing:"easeOutQuad"})),m&&(d=$curr_slide.prev(),0===d.length&&(d=o.last()),d.velocity({opacity:1},{duration:300,queue:!1,easing:"easeOutQuad"}))}}).bind("panend",function(a){"touch"===a.gesture.pointerType&&($curr_slide=s.find(".active"),p=!1,curr_index=s.find(".active").index(),(m||u)&&!(1>=o.length)?u?(n(curr_index+1),$curr_slide.velocity({translateX:-1*i.innerWidth()},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){$curr_slide.velocity({opacity:0,translateX:0},{duration:0,queue:!1})}})):m&&(n(curr_index-1),$curr_slide.velocity({translateX:i.innerWidth()},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){$curr_slide.velocity({opacity:0,translateX:0},{duration:0,queue:!1})}})):$curr_slide.velocity({translateX:0},{duration:300,queue:!1,easing:"easeOutQuad"}),u=!1,m=!1,clearInterval(l),l=setInterval(function(){d=s.find(".active").index(),o.length==d+1?d=0:d+=1,n(d)},t.transition+t.interval))}),i.on("sliderPause",function(){clearInterval(l)}),i.on("sliderStart",function(){clearInterval(l),l=setInterval(function(){d=s.find(".active").index(),o.length==d+1?d=0:d+=1,n(d)},t.transition+t.interval)}),i.on("sliderNext",function(){d=s.find(".active").index(),n(d+1)}),i.on("sliderPrev",function(){d=s.find(".active").index(),n(d-1)})})},pause:function(){e(this).trigger("sliderPause")},start:function(){e(this).trigger("sliderStart")},next:function(){e(this).trigger("sliderNext")},prev:function(){e(this).trigger("sliderPrev")}};e.fn.slider=function(a){if(t[a])return t[a].apply(this,Array.prototype.slice.call(arguments,1));return"object"!=typeof a&&a?void e.error("Method "+a+" does not exist on jQuery.tooltip"):t.init.apply(this,arguments)}})(h);(function(t){t(document).ready(function(){t(document).on("click.card",".card",function(a){t(this).find("> .card-reveal").length&&(t(a.target).is(t(".card-reveal .card-title"))||t(a.target).is(t(".card-reveal .card-title i"))?t(this).find(".card-reveal").velocity({translateY:0},{duration:225,queue:!1,easing:"easeInOutQuad",complete:function(){t(this).css({display:"none"})}}):(t(a.target).is(t(".card .activator"))||t(a.target).is(t(".card .activator i")))&&(t(a.target).closest(".card").css("overflow","hidden"),t(this).find(".card-reveal").css({display:"block"}).velocity("stop",!1).velocity({translateY:"-100%"},{duration:300,queue:!1,easing:"easeInOutQuad"}))),t(".card-reveal").closest(".card").css("overflow","hidden")})})})(h);(function(e){e(document).ready(function(){e(document).on("click.chip",".chip .material-icons",function(){e(this).parent().remove()})})})(h);(function(e){e.fn.pushpin=function(t){return t=e.extend({top:0,bottom:1/0,offset:0},t),$index=0,this.each(function(){function a(e){e.removeClass("pin-top"),e.removeClass("pinned"),e.removeClass("pin-bottom")}function n(n,i){n.each(function(){t.top<=i&&t.bottom>=i&&!e(this).hasClass("pinned")&&(a(e(this)),e(this).css("top",t.offset),e(this).addClass("pinned")),i<t.top&&!e(this).hasClass("pin-top")&&(a(e(this)),e(this).css("top",0),e(this).addClass("pin-top")),i>t.bottom&&!e(this).hasClass("pin-bottom")&&(a(e(this)),e(this).addClass("pin-bottom"),e(this).css("top",t.bottom-o))})}var i=Materialize.guid(),s=e(this),o=e(this).offset().top;n(s,e(window).scrollTop()),e(window).on("scroll."+i,function(){var a=e(window).scrollTop()+t.offset;n(s,a)})})}})(h);(function(e){e(document).ready(function(){e.fn.reverse=[].reverse,e(document).on("mouseenter.fixedActionBtn",".fixed-action-btn:not(.click-to-toggle)",function(){var a=e(this);t(a)}),e(document).on("mouseleave.fixedActionBtn",".fixed-action-btn:not(.click-to-toggle)",function(){var t=e(this);a(t)}),e(document).on("click.fixedActionBtn",".fixed-action-btn.click-to-toggle > a",function(){var n=e(this),i=n.parent();i.hasClass("active")?a(i):t(i)})}),e.fn.extend({openFAB:function(){t(e(this))},closeFAB:function(){a(e(this))}});var t=function(t){if($this=t,!1===$this.hasClass("active")){var a=$this.hasClass("horizontal"),n,i;!0===a?i=40:n=40,$this.addClass("active"),$this.find("ul .btn-floating").velocity({scaleY:".4",scaleX:".4",translateY:n+"px",translateX:i+"px"},{duration:0});var s=0;$this.find("ul .btn-floating").reverse().each(function(){e(this).velocity({opacity:"1",scaleX:"1",scaleY:"1",translateY:"0",translateX:"0"},{duration:80,delay:s}),s+=40})}},a=function(e){$this=e;var t=$this.hasClass("horizontal"),a,n;!0===t?n=40:a=40,$this.removeClass("active");$this.find("ul .btn-floating").velocity("stop",!0),$this.find("ul .btn-floating").velocity({opacity:"0",scaleX:".4",scaleY:".4",translateY:a+"px",translateX:n+"px"},{duration:80})}})(h);(function(t){Materialize.fadeInImage=function(e){var a=t(e);a.css({opacity:0}),t(a).velocity({opacity:1},{duration:650,queue:!1,easing:"easeOutSine"}),t(a).velocity({opacity:1},{duration:1300,queue:!1,easing:"swing",step:function(e,a){a.start=100;var n=e/100,i=150-(100-e)/1.75;100>i&&(i=100),0<=e&&t(this).css({"-webkit-filter":"grayscale("+n+")brightness("+i+"%)",filter:"grayscale("+n+")brightness("+i+"%)"})}})},Materialize.showStaggeredList=function(e){var a=0;t(e).find("li").velocity({translateX:"-100px"},{duration:0}),t(e).find("li").each(function(){t(this).velocity({opacity:"1",translateX:"0"},{duration:800,delay:a,easing:[60,10]}),a+=120})},t(document).ready(function(){var a=!1,n=!1;t(".dismissable").each(function(){t(this).hammer({prevent_default:!1}).bind("pan",function(i){if("touch"===i.gesture.pointerType){var e=t(this),s=i.gesture.direction,o=i.gesture.deltaX,d=i.gesture.velocityX;e.velocity({translateX:o},{duration:50,queue:!1,easing:"easeOutQuad"}),4===s&&(o>e.innerWidth()/2||-.75>d)&&(a=!0),2===s&&(o<-1*e.innerWidth()/2||.75<d)&&(n=!0)}}).bind("panend",function(i){if(L(i.gesture.deltaX)<t(this).innerWidth()/2&&(n=!1,a=!1),"touch"===i.gesture.pointerType){var e=t(this);if(a||n){var s;s=a?e.innerWidth():-1*e.innerWidth(),e.velocity({translateX:s},{duration:100,queue:!1,easing:"easeOutQuad",complete:function(){e.css("border","none"),e.velocity({height:0,padding:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){e.remove()}})}})}else e.velocity({translateX:0},{duration:100,queue:!1,easing:"easeOutQuad"});a=!1,n=!1}})})})})(h);(function(){Materialize.scrollFire=function(e){var t=!1;window.addEventListener("scroll",function(){t=!0}),setInterval(function(){if(t){t=!1;for(var a=window.pageYOffset+window.innerHeight,n=0;n<e.length;n++){var s=e[n],o=s.selector,d=s.offset,r=s.callback,c=document.querySelector(o);if(null!==c){var l=c.getBoundingClientRect().top+window.pageYOffset;if(a>l+d&&!0!==s.done){if("function"==typeof r)r.call(this);else if("string"==typeof r){var p=new Function(r);p()}s.done=!0}}}}},100)}})(h);(function(e){Materialize.DefaultDatePicker=e(h)})(function(e){function t(s,d,l,p){function u(){return t._.node("div",t._.node("div",t._.node("div",t._.node("div",M.component.nodes(A.open),w.box),w.wrap),w.frame),w.holder)}function m(){k.data(d,M).addClass(w.input).attr("tabindex",-1).val(k.data("value")?M.get("select",x.format):s.value),x.editable||k.on("focus."+A.id+" click."+A.id,function(e){e.preventDefault(),M.$root.eq(0).focus()}).on("keydown."+A.id,f),i(s,{haspopup:!0,expanded:!1,readonly:!1,owns:s.id+"_root"})}function g(){M.$root.on({keydown:f,focusin:function(e){M.$root.removeClass(w.focused),e.stopPropagation()},"mousedown click":function(t){var a=t.target;a!=M.$root.children()[0]&&(t.stopPropagation(),"mousedown"==t.type&&!e(a).is("input, select, textarea, button, option")&&(t.preventDefault(),M.$root.eq(0).focus()))}}).on({focus:function(){k.addClass(w.target)},blur:function(){k.removeClass(w.target)}}).on("focus.toOpen",v).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var t=e(this),a=t.data(),n=t.hasClass(w.navDisabled)||t.hasClass(w.disabled),i=o();i=i&&(i.type||i.href),(n||i&&!e.contains(M.$root[0],i))&&M.$root.eq(0).focus(),!n&&a.nav?M.set("highlight",M.component.item.highlight,{nav:a.nav}):!n&&"pick"in a?M.set("select",a.pick):a.clear?M.clear().close(!0):a.close&&M.close(!0)}),i(M.$root[0],"hidden",!0)}function h(){var t;!0===x.hiddenName?(t=s.name,s.name=""):(t=["string"==typeof x.hiddenPrefix?x.hiddenPrefix:"","string"==typeof x.hiddenSuffix?x.hiddenSuffix:"_submit"],t=t[0]+s.name+t[1]),M._hidden=e("<input type=hidden name=\""+t+"\""+(k.data("value")||s.value?" value=\""+M.get("select",x.formatSubmit)+"\"":"")+">")[0],k.on("change."+A.id,function(){M._hidden.value=s.value?M.get("select",x.formatSubmit):""}),x.container?e(x.container).append(M._hidden):k.after(M._hidden)}function f(e){var t=e.keyCode,a=/^(8|46)$/.test(t);return 27==t?(M.close(),!1):void((32==t||a||!A.open&&M.component.key[t])&&(e.preventDefault(),e.stopPropagation(),a?M.clear().close():M.open()))}function v(e){e.stopPropagation(),"focus"==e.type&&M.$root.addClass(w.focused),M.open()}if(!s)return t;var b=!1,A={id:s.id||"P"+L(~~(Math.random()*new Date))},x=l?e.extend(!0,{},l.defaults,p):p||{},w=e.extend({},t.klasses(),x.klass),k=e(s),S=function(){return this.start()},M=S.prototype={constructor:S,$node:k,start:function(){return A&&A.start?M:(A.methods={},A.start=!0,A.open=!1,A.type=s.type,s.autofocus=s==o(),s.readOnly=!x.editable,s.id=s.id||A.id,"text"!=s.type&&(s.type="text"),M.component=new l(M,x),M.$root=e(t._.node("div",u(),w.picker,"id=\""+s.id+"_root\" tabindex=\"0\"")),g(),x.formatSubmit&&h(),m(),x.container?e(x.container).append(M.$root):k.after(M.$root),M.on({start:M.component.onStart,render:M.component.onRender,stop:M.component.onStop,open:M.component.onOpen,close:M.component.onClose,set:M.component.onSet}).on({start:x.onStart,render:x.onRender,stop:x.onStop,open:x.onOpen,close:x.onClose,set:x.onSet}),b=a(M.$root.children()[0]),s.autofocus&&M.open(),M.trigger("start").trigger("render"))},render:function(e){return e?M.$root.html(u()):M.$root.find("."+w.box).html(M.component.nodes(A.open)),M.trigger("render")},stop:function(){return A.start?(M.close(),M._hidden&&M._hidden.parentNode.removeChild(M._hidden),M.$root.remove(),k.removeClass(w.input).removeData(d),setTimeout(function(){k.off("."+A.id)},0),s.type=A.type,s.readOnly=!1,M.trigger("stop"),A.methods={},A.start=!1,M):M},open:function(a){return A.open?M:(k.addClass(w.active),i(s,"expanded",!0),setTimeout(function(){M.$root.addClass(w.opened),i(M.$root[0],"hidden",!1)},0),!1!==a&&(A.open=!0,b&&c.css("overflow","hidden").css("padding-right","+="+n()),M.$root.eq(0).focus(),r.on("click."+A.id+" focusin."+A.id,function(e){var t=e.target;t!=s&&t!=document&&3!=e.which&&M.close(t===M.$root.children()[0])}).on("keydown."+A.id,function(a){var n=a.keyCode,i=M.component.key[n],s=a.target;27==n?M.close(!0):s==M.$root[0]&&(i||13==n)?(a.preventDefault(),i?t._.trigger(M.component.key.go,M,[t._.trigger(i)]):!M.$root.find("."+w.highlighted).hasClass(w.disabled)&&M.set("select",M.component.item.highlight).close()):e.contains(M.$root[0],s)&&13==n&&(a.preventDefault(),s.click())})),M.trigger("open"))},close:function(e){return(e&&(M.$root.off("focus.toOpen").eq(0).focus(),setTimeout(function(){M.$root.on("focus.toOpen",v)},0)),k.removeClass(w.active),i(s,"expanded",!1),setTimeout(function(){M.$root.removeClass(w.opened+" "+w.focused),i(M.$root[0],"hidden",!0)},0),!A.open)?M:(A.open=!1,b&&c.css("overflow","").css("padding-right","-="+n()),r.off("."+A.id),M.trigger("close"))},clear:function(e){return M.set("clear",null,e)},set:function(t,a,n){var i=e.isPlainObject(t),s=i?t:{},o,d;if(n=i&&e.isPlainObject(a)?a:n||{},t){for(o in i||(s[t]=a),s)d=s[o],o in M.component.item&&(void 0===d&&(d=null),M.component.set(o,d,n)),("select"==o||"clear"==o)&&k.val("clear"==o?"":M.get(o,x.format)).trigger("change");M.render()}return n.muted?M:M.trigger("set",s)},get:function(e,a){if(e=e||"value",null!=A[e])return A[e];if("valueSubmit"==e){if(M._hidden)return M._hidden.value;e="value"}if("value"==e)return s.value;if(e in M.component.item){if("string"==typeof a){var n=M.component.get(e);return n?t._.trigger(M.component.formats.toString,M.component,[a,n]):""}return M.component.get(e)}},on:function(t,a,n){var i=e.isPlainObject(t),s=i?t:{},o,d;if(t)for(o in i||(s[t]=a),s)d=s[o],n&&(o="_"+o),A.methods[o]=A.methods[o]||[],A.methods[o].push(d);return M},off:function(){var e=arguments,t,a;for(t=0,namesCount=e.length;t<namesCount;t+=1)a=e[t],a in A.methods&&delete A.methods[a];return M},trigger:function(e,a){var n=function(e){var n=A.methods[e];n&&n.map(function(e){t._.trigger(e,M,[a])})};return n("_"+e),n(e),M}};return new S}function a(e){var t;return e.currentStyle?t=e.currentStyle.position:window.getComputedStyle&&(t=getComputedStyle(e).position),"fixed"==t}function n(){if(c.height()<=d.height())return 0;var t=e("<div style=\"visibility:hidden;width:100px\" />").appendTo("body"),a=t[0].offsetWidth;t.css("overflow","scroll");var n=e("<div style=\"width:100%\" />").appendTo(t),i=n[0].offsetWidth;return t.remove(),a-i}function i(t,a,n){if(e.isPlainObject(a))for(var i in a)s(t,i,a[i]);else s(t,a,n)}function s(e,t,a){e.setAttribute(("role"==t?"":"aria-")+t,a)}function o(){try{return document.activeElement}catch(e){}}var d=e(window),r=e(document),c=e(document.documentElement);return t.klasses=function(e){return e=e||"picker",{picker:e,opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},t._={group:function(e){for(var a="",n=t._.trigger(e.min,e),i;n<=t._.trigger(e.max,e,[n]);n+=e.i)i=t._.trigger(e.item,e,[n]),a+=t._.node(e.node,i[0],i[1],i[2]);return a},node:function(t,a,n,i){return a?(a=e.isArray(a)?a.join(""):a,n=n?" class=\""+n+"\"":"",i=i?" "+i:"","<"+t+n+i+">"+a+"</"+t+">"):""},lead:function(e){return(10>e?"0":"")+e},trigger:function(e,t,a){return"function"==typeof e?e.apply(t,a||[]):e},digits:function(e){return /\d/.test(e[1])?2:1},isDate:function(e){return-1<{}.toString.call(e).indexOf("Date")&&this.isInteger(e.getDate())},isInteger:function(e){return-1<{}.toString.call(e).indexOf("Number")&&0==e%1},ariaAttr:function(t,a){for(var n in e.isPlainObject(t)||(t={attribute:a}),a="",t){var i=("role"==n?"":"aria-")+n,s=t[n];a+=null==s?"":i+"=\""+t[n]+"\""}return a}},t.extend=function(a,n){e.fn[a]=function(i,s){var o=this.data(a);return"picker"==i?o:o&&"string"==typeof i?t._.trigger(o[i],o,[s]):this.each(function(){var s=e(this);s.data(a)||new t(this,a,n,i)})},e.fn[a].defaults=n.defaults},t});(function(e){e(Materialize.DefaultDatePicker,h)})(function(e,t){function a(e,t){var a=this,n=e.$node[0],i=n.value,s=e.$node.data("value"),o=s||i,d=s?t.formatSubmit:t.format,r=function(){return n.currentStyle?"rtl"==n.currentStyle.direction:"rtl"==getComputedStyle(e.$root[0]).direction};a.settings=t,a.$node=e.$node,a.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},a.item={},a.item.clear=null,a.item.disable=(t.disable||[]).slice(0),a.item.enable=-function(e){return!0===e[0]?e.shift():-1}(a.item.disable),a.set("min",t.min).set("max",t.max).set("now"),o?a.set("select",o,{format:d}):a.set("select",null).set("highlight",a.item.now),a.key={40:7,38:-7,39:function(){return r()?-1:1},37:function(){return r()?1:-1},go:function(e){var t=a.item.highlight,n=new Date(t.year,t.month,t.date+e);a.set("highlight",n,{interval:e}),this.render()}},e.on("render",function(){e.$root.find("."+t.klass.selectMonth).on("change",function(){var a=this.value;a&&(e.set("highlight",[e.get("view").year,a,e.get("highlight").date]),e.$root.find("."+t.klass.selectMonth).trigger("focus"))}),e.$root.find("."+t.klass.selectYear).on("change",function(){var a=this.value;a&&(e.set("highlight",[a,e.get("view").month,e.get("highlight").date]),e.$root.find("."+t.klass.selectYear).trigger("focus"))})},1).on("open",function(){var n="";a.disabled(a.get("now"))&&(n=":not(."+t.klass.buttonToday+")"),e.$root.find("button"+n+", select").attr("disabled",!1)},1).on("close",function(){e.$root.find("button, select").attr("disabled",!0)},1)}var n=e._;a.prototype.set=function(e,t,a){var n=this,i=n.item;return null===t?("clear"==e&&(e="select"),i[e]=t,n):(i["enable"==e?"disable":"flip"==e?"enable":e]=n.queue[e].split(" ").map(function(i){return t=n[i](e,t,a),t}).pop(),"select"==e?n.set("highlight",i.select,a):"highlight"==e?n.set("view",i.highlight,a):e.match(/^(flip|min|max|disable|enable)$/)&&(i.select&&n.disabled(i.select)&&n.set("select",i.select,a),i.highlight&&n.disabled(i.highlight)&&n.set("highlight",i.highlight,a)),n)},a.prototype.get=function(e){return this.item[e]},a.prototype.create=function(e,a,i){var s=this,o;return a=void 0===a?e:a,a==-Infinity||a==1/0?o=a:t.isPlainObject(a)&&n.isInteger(a.pick)?a=a.obj:t.isArray(a)?(a=new Date(a[0],a[1],a[2]),a=n.isDate(a)?a:s.create().obj):n.isInteger(a)||n.isDate(a)?a=s.normalize(new Date(a),i):a=s.now(e,a,i),{year:o||a.getFullYear(),month:o||a.getMonth(),date:o||a.getDate(),day:o||a.getDay(),obj:o||a,pick:o||a.getTime()}},a.prototype.createRange=function(e,a){var i=this,s=function(e){return!0===e||t.isArray(e)||n.isDate(e)?i.create(e):e};return n.isInteger(e)||(e=s(e)),n.isInteger(a)||(a=s(a)),n.isInteger(e)&&t.isPlainObject(a)?e=[a.year,a.month,a.date+e]:n.isInteger(a)&&t.isPlainObject(e)&&(a=[e.year,e.month,e.date+a]),{from:s(e),to:s(a)}},a.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},a.prototype.overlapRanges=function(e,t){var a=this;return e=a.createRange(e.from,e.to),t=a.createRange(t.from,t.to),a.withinRange(e,t.from)||a.withinRange(e,t.to)||a.withinRange(t,e.from)||a.withinRange(t,e.to)},a.prototype.now=function(e,t,a){return t=new Date,a&&a.rel&&t.setDate(t.getDate()+a.rel),this.normalize(t,a)},a.prototype.navigate=function(e,a,n){var i=t.isArray(a),s=t.isPlainObject(a),o=this.item.view,d,r,c,l;if(i||s){for(s?(r=a.year,c=a.month,l=a.date):(r=+a[0],c=+a[1],l=+a[2]),n&&n.nav&&o&&o.month!==c&&(r=o.year,c=o.month),d=new Date(r,c+(n&&n.nav?n.nav:0),1),r=d.getFullYear(),c=d.getMonth();new Date(r,c,l).getMonth()!==c;)l-=1;a=[r,c,l]}return a},a.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},a.prototype.measure=function(e,t){var a=this;return t?"string"==typeof t?t=a.parse(e,t):n.isInteger(t)&&(t=a.now(e,t,{rel:t})):t="min"==e?-Infinity:1/0,t},a.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},a.prototype.validate=function(e,a,i){var s=this,o=a,d=i&&i.interval?i.interval:1,r=-1===s.item.enable,c=s.item.min,l=s.item.max,p=r&&s.item.disable.filter(function(e){if(t.isArray(e)){var i=s.create(e).pick;i<a.pick?u=!0:i>a.pick&&(m=!0)}return n.isInteger(e)}).length,u,m,g,h;if((!i||!i.nav)&&(!r&&s.disabled(a)||r&&s.disabled(a)&&(p||u||m)||!r&&(a.pick<=c.pick||a.pick>=l.pick)))for(r&&!p&&(!m&&0<d||!u&&0>d)&&(d*=-1);s.disabled(a)&&(1<L(d)&&(a.month<o.month||a.month>o.month)&&(a=o,d=0<d?1:-1),a.pick<=c.pick?(g=!0,d=1,a=s.create([c.year,c.month,c.date+(a.pick===c.pick?0:-1)])):a.pick>=l.pick&&(h=!0,d=-1,a=s.create([l.year,l.month,l.date+(a.pick===l.pick?0:1)])),!(g&&h));)a=s.create([a.year,a.month,a.date+d]);return a},a.prototype.disabled=function(e){var a=this,i=a.item.disable.filter(function(i){return n.isInteger(i)?e.day===(a.settings.firstDay?i:i-1)%7:t.isArray(i)||n.isDate(i)?e.pick===a.create(i).pick:t.isPlainObject(i)?a.withinRange(i,e):void 0});return i=i.length&&!i.filter(function(e){return t.isArray(e)&&"inverted"==e[3]||t.isPlainObject(e)&&e.inverted}).length,-1===a.item.enable?!i:i||e.pick<a.item.min.pick||e.pick>a.item.max.pick},a.prototype.parse=function(e,t,a){var i=this,s={};return t&&"string"==typeof t?(a&&a.format||(a=a||{},a.format=i.settings.format),i.formats.toArray(a.format).map(function(e){var a=i.formats[e],o=a?n.trigger(a,i,[t,s]):e.replace(/^!/,"").length;a&&(s[e]=t.substr(0,o)),t=t.substr(o)}),[s.yyyy||s.yy,+(s.mm||s.m)-1,s.dd||s.d]):t},a.prototype.formats=function(){function e(e,t,a){var n=e.match(/\w+/)[0];return a.mm||a.m||(a.m=t.indexOf(n)+1),n.length}function t(e){return e.match(/\w+/)[0].length}return{d:function(e,t){return e?n.digits(e):t.date},dd:function(e,t){return e?2:n.lead(t.date)},ddd:function(e,a){return e?t(e):this.settings.weekdaysShort[a.day]},dddd:function(e,a){return e?t(e):this.settings.weekdaysFull[a.day]},m:function(e,t){return e?n.digits(e):t.month+1},mm:function(e,t){return e?2:n.lead(t.month+1)},mmm:function(t,a){var n=this.settings.monthsShort;return t?e(t,n,a):n[a.month]},mmmm:function(t,a){var n=this.settings.monthsFull;return t?e(t,n,a):n[a.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,t){var a=this;return a.formats.toArray(e).map(function(e){return n.trigger(a.formats[e],a,[0,t])||e.replace(/^!/,"")}).join("")}}}(),a.prototype.isDateExact=function(e,a){var i=this;return n.isInteger(e)&&n.isInteger(a)||"boolean"==typeof e&&"boolean"==typeof a?e===a:(n.isDate(e)||t.isArray(e))&&(n.isDate(a)||t.isArray(a))?i.create(e).pick===i.create(a).pick:!!(t.isPlainObject(e)&&t.isPlainObject(a))&&i.isDateExact(e.from,a.from)&&i.isDateExact(e.to,a.to)},a.prototype.isDateOverlap=function(e,a){var i=this,s=i.settings.firstDay?1:0;return n.isInteger(e)&&(n.isDate(a)||t.isArray(a))?(e=e%7+s,e===i.create(a).day+1):n.isInteger(a)&&(n.isDate(e)||t.isArray(e))?(a=a%7+s,a===i.create(e).day+1):!!(t.isPlainObject(e)&&t.isPlainObject(a))&&i.overlapRanges(e,a)},a.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},a.prototype.deactivate=function(e,a){var i=this,s=i.item.disable.slice(0);return"flip"==a?i.flipEnable():!1===a?(i.flipEnable(1),s=[]):!0===a?(i.flipEnable(-1),s=[]):a.map(function(e){for(var a=0,o;a<s.length;a+=1)if(i.isDateExact(e,s[a])){o=!0;break}!o&&(n.isInteger(e)||n.isDate(e)||t.isArray(e)||t.isPlainObject(e)&&e.from&&e.to)&&s.push(e)}),s},a.prototype.activate=function(e,a){var i=this,s=i.item.disable,o=s.length;return"flip"==a?i.flipEnable():!0===a?(i.flipEnable(1),s=[]):!1===a?(i.flipEnable(-1),s=[]):a.map(function(e){var a,d,r,c;for(r=0;r<o;r+=1)if(d=s[r],i.isDateExact(d,e)){a=s[r]=null,c=!0;break}else if(i.isDateOverlap(d,e)){t.isPlainObject(e)?(e.inverted=!0,a=e):t.isArray(e)?(a=e,!a[3]&&a.push("inverted")):n.isDate(e)&&(a=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}if(a)for(r=0;r<o;r+=1)if(i.isDateExact(s[r],e)){s[r]=null;break}if(c)for(r=0;r<o;r+=1)if(i.isDateOverlap(s[r],e)){s[r]=null;break}a&&s.push(a)}),s.filter(function(e){return null!=e})},a.prototype.nodes=function(e){var t=this,a=t.settings,i=t.item,s=i.now,o=i.select,d=i.highlight,r=i.view,c=i.disable,l=i.min,p=i.max,u=function(e,t){return a.firstDay&&(e.push(e.shift()),t.push(t.shift())),n.node("thead",n.node("tr",n.group({min:0,max:6,i:1,node:"th",item:function(n){return[e[n],a.klass.weekdays,"scope=col title=\""+t[n]+"\""]}})))}((a.showWeekdaysFull?a.weekdaysFull:a.weekdaysLetter).slice(0),a.weekdaysFull.slice(0)),m=function(e){return n.node("div"," ",a.klass["nav"+(e?"Next":"Prev")]+(e&&r.year>=p.year&&r.month>=p.month||!e&&r.year<=l.year&&r.month<=l.month?" "+a.klass.navDisabled:""),"data-nav="+(e||-1)+" "+n.ariaAttr({role:"button",controls:t.$node[0].id+"_table"})+" title=\""+(e?a.labelMonthNext:a.labelMonthPrev)+"\"")},g=function(i){var s=a.showMonthsShort?a.monthsShort:a.monthsFull;return"short_months"==i&&(s=a.monthsShort),a.selectMonths&&null==i?n.node("select",n.group({min:0,max:11,i:1,node:"option",item:function(e){return[s[e],0,"value="+e+(r.month==e?" selected":"")+(r.year==l.year&&e<l.month||r.year==p.year&&e>p.month?" disabled":"")]}}),a.klass.selectMonth+" browser-default",(e?"":"disabled")+" "+n.ariaAttr({controls:t.$node[0].id+"_table"})+" title=\""+a.labelMonthSelect+"\""):"short_months"==i?null==o?n.node("div",s[r.month]):n.node("div",s[o.month]):n.node("div",s[r.month],a.klass.month)},h=function(i){var s=r.year,o=!0===a.selectYears?5:~~(a.selectYears/2);if(o){var d=l.year,c=p.year,u=s-o,m=s+o;if(d>u&&(m+=d-u,u=d),c<m){var g=u-d,h=m-c;u-=g>h?h:g,m=c}if(a.selectYears&&null==i)return n.node("select",n.group({min:u,max:m,i:1,node:"option",item:function(e){return[e,0,"value="+e+(s==e?" selected":"")]}}),a.klass.selectYear+" browser-default",(e?"":"disabled")+" "+n.ariaAttr({controls:t.$node[0].id+"_table"})+" title=\""+a.labelYearSelect+"\"")}return"raw"==i?n.node("div",s):n.node("div",s,a.klass.year)};return createDayLabel=function(){return null==o?n.node("div",s.date):n.node("div",o.date)},createWeekdayLabel=function(){var e=null==o?s.day:o.day;var t=a.weekdaysFull[e];return t},n.node("div",n.node("div",createWeekdayLabel(),a.klass.weekday_display)+n.node("div",g("short_months"),a.klass.month_display)+n.node("div",createDayLabel(),a.klass.day_display)+n.node("div",h("raw"),a.klass.year_display),a.klass.date_display)+n.node("div",n.node("div",(a.selectYears?g()+h():g()+h())+m()+m(1),a.klass.header)+n.node("table",u+n.node("tbody",n.group({min:0,max:5,i:1,node:"tr",item:function(e){var i=a.firstDay&&0===t.create([r.year,r.month,1]).day?-7:0;return[n.group({min:7*e-r.day+i+1,max:function(){return this.min+7-1},i:1,node:"td",item:function(e){e=t.create([r.year,r.month,e+(a.firstDay?1:0)]);var i=o&&o.pick==e.pick,u=d&&d.pick==e.pick,m=c&&t.disabled(e)||e.pick<l.pick||e.pick>p.pick,g=n.trigger(t.formats.toString,t,[a.format,e]);return[n.node("div",e.date,function(t){return t.push(r.month==e.month?a.klass.infocus:a.klass.outfocus),s.pick==e.pick&&t.push(a.klass.now),i&&t.push(a.klass.selected),u&&t.push(a.klass.highlighted),m&&t.push(a.klass.disabled),t.join(" ")}([a.klass.day]),"data-pick="+e.pick+" "+n.ariaAttr({role:"gridcell",label:g,selected:!!(i&&t.$node.val()===g)||null,activedescendant:!!u||null,disabled:!!m||null})),"",n.ariaAttr({role:"presentation"})]}})]}})),a.klass.table,"id=\""+t.$node[0].id+"_table\" "+n.ariaAttr({role:"grid",controls:t.$node[0].id,readonly:!0})),a.klass.calendar_container)+n.node("div",n.node("button",a.today,a.klass.buttonToday,"type=button data-pick="+s.pick+(e&&!t.disabled(s)?"":" disabled")+" "+n.ariaAttr({controls:t.$node[0].id}))+n.node("button",a.clear,a.klass.buttonClear,"type=button data-clear=1"+(e?"":" disabled")+" "+n.ariaAttr({controls:t.$node[0].id}))+n.node("button",a.close,a.klass.buttonClose,"type=button data-close=true "+(e?"":" disabled")+" "+n.ariaAttr({controls:t.$node[0].id})),a.klass.footer)},a.defaults=function(e){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysLetter:["S","M","T","W","T","F","S"],today:"Today",clear:"Clear",close:"Close",format:"d mmmm, yyyy",klass:{table:e+"table",header:e+"header",date_display:e+"date-display",day_display:e+"day-display",month_display:e+"month-display",year_display:e+"year-display",calendar_container:e+"calendar-container",navPrev:e+"nav--prev",navNext:e+"nav--next",navDisabled:e+"nav--disabled",month:e+"month",year:e+"year",selectMonth:e+"select--month",selectYear:e+"select--year",weekdays:e+"weekday",day:e+"day",disabled:e+"day--disabled",selected:e+"day--selected",highlighted:e+"day--highlighted",now:e+"day--today",infocus:e+"day--infocus",outfocus:e+"day--outfocus",footer:e+"footer",buttonClear:e+"button--clear",buttonToday:e+"button--today",buttonClose:e+"button--close"}}}(e.klasses().picker+"__"),e.extend("pickadate",a)});(function(e){function t(){var t=+e(this).attr("length"),a=+e(this).val().length;e(this).parent().find("span[class=\"character-counter\"]").html(a+"/"+t),i(a<=t,e(this))}function a(t){var a=t.parent().find("span[class=\"character-counter\"]");a.length||(a=e("<span/>").addClass("character-counter").css("float","right").css("font-size","12px").css("height",1),t.parent().append(a))}function n(){e(this).parent().find("span[class=\"character-counter\"]").html("")}function i(e,t){var a=t.hasClass("invalid");e&&a?t.removeClass("invalid"):!e&&!a&&(t.removeClass("valid"),t.addClass("invalid"))}e.fn.characterCounter=function(){return this.each(function(){var i=e(this),s=i.parent().find("span[class=\"character-counter\"]");if(!s.length){var o=void 0!==i.attr("length");o&&(i.on("input",t),i.on("focus",t),i.on("blur",n),a(i))}})},e(document).ready(function(){e("input, textarea").characterCounter()})})(h);(function(t){var e={init:function(a){return a=t.extend({time_constant:200,dist:-100,shift:0,padding:0,full_width:!1},a),this.each(function(){function n(t){return t.targetTouches&&1<=t.targetTouches.length?t.targetTouches[0].clientX:t.clientX}function i(t){return t.targetTouches&&1<=t.targetTouches.length?t.targetTouches[0].clientY:t.clientY}function s(e){return e>=w?e%w:0>e?s(w+e%w):e}function o(e){var t,n,o,d,r,c,l;for(h="number"==typeof e?e:h,f=Y((h+A/2)/A),o=h-f*A,d=0>o?1:-1,r=2*(-d*o)/A,a.full_width?l="translateX(0)":(l="translateX("+(m[0].clientWidth-item_width)/2+"px) ",l+="translateY("+(m[0].clientHeight-item_width)/2+"px)"),c=g[s(f)],c.style[D]=l+" translateX("+-o/2+"px) translateX("+d*a.shift*r*t+"px) translateZ("+a.dist*r+"px)",c.style.zIndex=0,tweenedOpacity=a.full_width?1:1-.2*r,c.style.opacity=tweenedOpacity,n=w>>1,t=1;t<=n;++t)a.full_width?(zTranslation=a.dist,tweenedOpacity=t===n&&0>o?1-r:1):(zTranslation=a.dist*(2*t+r*d),tweenedOpacity=1-.2*(2*t+r*d)),c=g[s(f+t)],c.style[D]=l+" translateX("+(a.shift+(A*t-o)/2)+"px) translateZ("+zTranslation+"px)",c.style.zIndex=-t,c.style.opacity=tweenedOpacity,a.full_width?(zTranslation=a.dist,tweenedOpacity=t===n&&0<o?1-r:1):(zTranslation=a.dist*(2*t-r*d),tweenedOpacity=1-.2*(2*t-r*d)),c=g[s(f-t)],c.style[D]=l+" translateX("+(-a.shift+(-A*t-o)/2)+"px) translateZ("+zTranslation+"px)",c.style.zIndex=-t,c.style.opacity=tweenedOpacity;c=g[s(f)],c.style[D]=l+" translateX("+-o/2+"px) translateX("+d*a.shift*r+"px) translateZ("+a.dist*r+"px)",c.style.zIndex=0,tweenedOpacity=a.full_width?1:1-.2*r,c.style.opacity=tweenedOpacity}function d(){var e,t,a,n;e=Date.now(),t=e-j,j=e,a=h-I,I=h,n=1e3*a/(1+t),E=.8*n+.2*E}function r(){var e,t;C&&(e=Date.now()-j,t=C*v(-e/a.time_constant),2<t||-2>t?(o(T-t),requestAnimationFrame(r)):o(T))}function c(n){if(O)return n.preventDefault(),n.stopPropagation(),!1;if(!a.full_width){var e=t(n.target).closest(".carousel-item").index(),i=f%w-e;0>i?L(i+w)<L(i)&&(i+=w):0<i&&L(i-w)<i&&(i-=w),0>i?t(this).trigger("carouselNext",[L(i)]):0<i&&t(this).trigger("carouselPrev",[i])}}function l(t){b=!0,O=!1,R=!1,k=n(t),S=i(t),E=C=0,I=h,j=Date.now(),clearInterval(N),N=setInterval(d,100)}function p(t){var e,a,s;if(b)if(e=n(t),y=i(t),a=k-e,s=L(S-y),30>s&&!R)(2<a||-2>a)&&(O=!0,k=e,o(h+a));else{if(O)return t.preventDefault(),t.stopPropagation(),!1;R=!0}return O?(t.preventDefault(),t.stopPropagation(),!1):void 0}function u(t){return b=!1,clearInterval(N),T=h,(10<E||-10>E)&&(C=.9*E,T=h+C),T=M(T/A)*A,C=T-h,j=Date.now(),requestAnimationFrame(r),t.preventDefault(),t.stopPropagation(),!1}var m=t(this),g,h,f,b,A,w,k,S,C,T,E,D,I,j,N,O,R;return!!m.hasClass("initialized")||void(a.full_width&&(a.dist=0,imageHeight=m.find(".carousel-item img").first().load(function(){m.css("height",t(this).height())})),m.addClass("initialized"),b=!1,h=T=0,g=[],item_width=m.find(".carousel-item").first().innerWidth(),A=2*item_width+a.padding,m.find(".carousel-item").each(function(){g.push(t(this)[0])}),w=g.length,D="transform",["webkit","Moz","O","ms"].every(function(t){var a=t+"Transform";return"undefined"==typeof document.body.style[a]||(D=a,!1)}),window.onresize=o,function(){"undefined"!=typeof window.ontouchstart&&(m[0].addEventListener("touchstart",l),m[0].addEventListener("touchmove",p),m[0].addEventListener("touchend",u)),m[0].addEventListener("mousedown",l),m[0].addEventListener("mousemove",p),m[0].addEventListener("mouseup",u),m[0].addEventListener("click",c)}(),o(h),t(this).on("carouselNext",function(t,e){void 0===e&&(e=1),T=h+A*e,h!==T&&(C=T-h,j=Date.now(),requestAnimationFrame(r))}),t(this).on("carouselPrev",function(t,e){void 0===e&&(e=1),T=h-A*e,h!==T&&(C=T-h,j=Date.now(),requestAnimationFrame(r))}))})},next:function(e){t(this).trigger("carouselNext",[e])},prev:function(e){t(this).trigger("carouselPrev",[e])}};t.fn.carousel=function(a){if(e[a])return e[a].apply(this,Array.prototype.slice.call(arguments,1));return"object"!=typeof a&&a?void t.error("Method "+a+" does not exist on jQuery.carousel"):e.init.apply(this,arguments)}})(h)});function VanillaQR(A){var x=this;A="object"==typeof A?A:{},x.revision=3,x.imageTypes={bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpg",png:"image/png","svg+xml":"image/svg+xml",tiff:"image/tiff",webp:"image/webp","x-icon":"image/x-icon"},x.toTable=A.toTable,x.domElement=x.toTable?document.createElement("div"):document.createElement("canvas"),x.url=A.url||"",x.size=A.size||280,x.qrc=!1,x.colorLight=A.colorLight||"#fff",x.colorDark=A.colorDark||"#000",x.ecclevel=A.ecclevel||1,x.noBorder=A.noBorder,x.borderSize=A.borderSize||4;var S=[],M=[],d=[],w=[],v=[],e=[],m=function(t,a){var n;t>a&&(n=t,t=a,a=n),n=a,n*=a,n+=a,n>>=1,n+=t,w[n]=1},u=function(t,a){var e;for(d[t+T*a]=1,e=-2;2>e;e++)d[t+e+T*(a-2)]=1,d[t-2+T*(a+e+1)]=1,d[t+2+T*(a+e)]=1,d[t+e+1+T*(a+2)]=1;for(e=0;2>e;e++)m(t-1,a+e),m(t+1,a-e),m(t-e,a-1),m(t+e,a+1)},g=function(e){for(;255<=e;)e-=255,e=(e>>8)+(255&e);return e},p=function(s,d,r,o){var a=VanillaQR.gexp,c=VanillaQR.glog,l,p,u;for(l=0;l<o;l++)S[r+l]=0;for(l=0;l<d;l++){if(u=c[S[s+l]^S[r]],255!=u)for(p=1;p<o;p++)S[r+p-1]=S[r+p]^a[g(u+e[o-p])];else for(p=r;p<r+o;p++)S[p]=S[p+1];S[r+o-1]=255==u?0:a[g(u+e[0])]}},h=function(t,a){var n;return t>a&&(n=t,t=a,a=n),n=a,n+=a*a,n>>=1,n+=t,w[n]},b=function(n){var i,s,r,c;switch(n){case 0:for(s=0;s<T;s++)for(i=0;i<T;i++)1&i+s||h(i,s)||(d[i+s*T]^=1);break;case 1:for(s=0;s<T;s++)for(i=0;i<T;i++)1&s||h(i,s)||(d[i+s*T]^=1);break;case 2:for(s=0;s<T;s++)for(r=0,i=0;i<T;i++,r++)3==r&&(r=0),r||h(i,s)||(d[i+s*T]^=1);break;case 3:for(c=0,s=0;s<T;s++,c++)for(3==c&&(c=0),r=c,i=0;i<T;i++,r++)3==r&&(r=0),r||h(i,s)||(d[i+s*T]^=1);break;case 4:for(s=0;s<T;s++)for(r=0,c=1&s>>1,i=0;i<T;i++,r++)3==r&&(r=0,c=!c),c||h(i,s)||(d[i+s*T]^=1);break;case 5:for(c=0,s=0;s<T;s++,c++)for(3==c&&(c=0),r=0,i=0;i<T;i++,r++)3==r&&(r=0),(1&(i&s))+!(!r|!c)||h(i,s)||(d[i+s*T]^=1);break;case 6:for(c=0,s=0;s<T;s++,c++)for(3==c&&(c=0),r=0,i=0;i<T;i++,r++)3==r&&(r=0),1&(1&(i&s))+(r&&r==c)||h(i,s)||(d[i+s*T]^=1);break;case 7:for(c=0,s=0;s<T;s++,c++)for(3==c&&(c=0),r=0,i=0;i<T;i++,r++)3==r&&(r=0),1&(r&&r==c)+(1&i+s)||h(i,s)||(d[i+s*T]^=1);}},C=function(t){var a=0,n;for(n=0;n<=t;n++)5<=v[n]&&(a+=VanillaQR.N1+v[n]-5);for(n=3;n<t-1;n+=2)v[n-2]==v[n+2]&&v[n+2]==v[n-1]&&v[n-1]==v[n+1]&&3*v[n-1]==v[n]&&(0==v[n-3]||n+3>t||3*v[n-3]>=4*v[n]||3*v[n+3]>=4*v[n])&&(a+=VanillaQR.N3);return a},L=function(){var n=0,s=0,p,u,m,g,h;for(u=0;u<T-1;u++)for(p=0;p<T-1;p++)(d[p+T*u]&&d[p+1+T*u]&&d[p+T*(u+1)]&&d[p+1+T*(u+1)]||!(d[p+T*u]||d[p+1+T*u]||d[p+T*(u+1)]||d[p+1+T*(u+1)]))&&(n+=VanillaQR.N2);for(u=0;u<T;u++){for(v[0]=0,m=g=p=0;p<T;p++)(h=d[p+T*u])==g?v[m]++:v[++m]=1,g=h,s+=g?1:-1;n+=C(m)}0>s&&(s=-s);var b=s,A=0;for(b+=b<<2,b<<=1;b>T*T;)b-=T*T,A++;for(n+=A*VanillaQR.N4,p=0;p<T;p++){for(v[0]=0,m=g=u=0;u<T;u++)(h=d[p+T*u])==g?v[m]++:v[++m]=1,g=h;n+=C(m)}return n},k,D,T,Y,I,j,O;x.genframe=function(t){var a=VanillaQR.eccblocks,n=VanillaQR.gexp,i=VanillaQR.glog,s,o,r,c,l,f,v,A;c=t.length,D=0;do if(D++,r=4*(k-1)+16*(D-1),Y=a[r++],I=a[r++],j=a[r++],O=a[r],r=j*(Y+I)+I-3+(9>=D),c<=r)break;while(40>D);for(T=17+4*D,l=j+(j+O)*(Y+I)+I,c=0;c<l;c++)M[c]=0;for(S=t.slice(0),c=0;c<T*T;c++)d[c]=0;for(c=0;c<(T*(T+1)+1)/2;c++)w[c]=0;for(c=0;3>c;c++){for(r=0,o=0,1==c&&(r=T-7),2==c&&(o=T-7),d[o+3+T*(r+3)]=1,s=0;6>s;s++)d[o+s+T*r]=1,d[o+T*(r+s+1)]=1,d[o+6+T*(r+s)]=1,d[o+s+1+T*(r+6)]=1;for(s=1;5>s;s++)m(o+s,r+1),m(o+1,r+s+1),m(o+5,r+s),m(o+s+1,r+5);for(s=2;4>s;s++)d[o+s+T*(r+2)]=1,d[o+2+T*(r+s+1)]=1,d[o+4+T*(r+s)]=1,d[o+s+1+T*(r+4)]=1}if(1<D)for(c=VanillaQR.adelta[D],o=T-7;;){for(s=T-7;s>c-3&&(u(s,o),!(s<c));)s-=c;if(o<=c+9)break;o-=c,u(6,o),u(o,6)}for(d[8+T*(T-8)]=1,o=0;7>o;o++)m(7,o),m(T-8,o),m(7,o+T-7);for(s=0;8>s;s++)m(s,7),m(s+T-8,7),m(s,T-8);for(s=0;9>s;s++)m(s,8);for(s=0;8>s;s++)m(s+T-8,8),m(8,s);for(o=0;7>o;o++)m(8,o+T-7);for(s=0;s<T-14;s++)1&s?(m(8+s,6),m(6,8+s)):(d[8+s+6*T]=1,d[6+T*(8+s)]=1);if(6<D)for(c=VanillaQR.vpat[D-7],r=17,s=0;6>s;s++)for(o=0;3>o;o++,r--)1&(11<r?D>>r-12:c>>r)?(d[5-s+T*(2-o+T-11)]=1,d[2-o+T-11+T*(5-s)]=1):(m(5-s,2-o+T-11),m(2-o+T-11,5-s));for(o=0;o<T;o++)for(s=0;s<=o;s++)d[s+T*o]&&m(s,o);for(l=S.length,f=0;f<l;f++)M[f]=S.charCodeAt(f);if(S=M.slice(0),s=j*(Y+I)+I,l>=s-2&&(l=s-2,9<D&&l--),f=l,9<D){for(S[f+2]=0,S[f+3]=0;f--;)c=S[f],S[f+3]|=255&c<<4,S[f+2]=c>>4;S[2]|=255&l<<4,S[1]=l>>4,S[0]=64|l>>12}else{for(S[f+1]=0,S[f+2]=0;f--;)c=S[f],S[f+2]|=255&c<<4,S[f+1]=c>>4;S[1]|=255&l<<4,S[0]=64|l>>4}for(f=l+3-(10>D);f<s;)S[f++]=236,S[f++]=17;for(e[0]=1,f=0;f<O;f++){for(e[f+1]=1,v=f;0<v;v--)e[v]=e[v]?e[v-1]^n[g(i[e[v]]+f)]:e[v-1];e[0]=n[g(i[e[0]]+f)]}for(f=0;f<=O;f++)e[f]=i[e[f]];for(r=s,o=0,f=0;f<Y;f++)p(o,j,r,O),o+=j,r+=O;for(f=0;f<I;f++)p(o,j+1,r,O),o+=j+1,r+=O;for(o=0,f=0;f<j;f++){for(v=0;v<Y;v++)M[o++]=S[f+v*j];for(v=0;v<I;v++)M[o++]=S[Y*j+f+v*(j+1)]}for(v=0;v<I;v++)M[o++]=S[Y*j+f+v*(j+1)];for(f=0;f<O;f++)for(v=0;v<Y+I;v++)M[o++]=S[s+f+v*O];for(S=M,s=o=T-1,r=l=1,A=(j+O)*(Y+I)+I,f=0;f<A;f++)for(c=S[f],v=0;8>v;v++,c<<=1){128&c&&(d[s+T*o]=1);do l?s--:(s++,r?0==o?(s-=2,r=!r,6==s&&(s--,o=9)):o--:o==T-1?(s-=2,r=!r,6==s&&(s--,o-=8)):o++),l=!l;while(h(s,o))}for(S=d.slice(0),c=0,o=3e4,r=0;8>r&&(b(r),s=L(),s<o&&(o=s,c=r),7!=c);r++)d=S.slice(0);for(c!=r&&b(c),o=VanillaQR.fmtword[c+(k-1<<3)],r=0;8>r;r++,o>>=1)1&o&&(d[T-1-r+8*T]=1,6>r?d[8+T*r]=1:d[8+T*(r+1)]=1);for(r=0;7>r;r++,o>>=1)1&o&&(d[8+T*(T-7+r)]=1,r?d[6-r+8*T]=1:d[7+8*T]=1);return d},x.init=function(){k=x.ecclevel;var e=x.genframe(x.url);x.toTable?x.tableWrite(e,T):x.canvasWrite(e,T)},x.init()}VanillaQR.prototype={canvasWrite:function(s,d){var e=this;if(!e.qrc&&(e.qrc=e.getContext(e.domElement),!e.qrc))return e.toTable=!0,e.domElement=document.createElement("div"),void e.tableWrite(s,d);var o=e.size,a=e.qrc;a.lineWidth=1;var n=o;n/=d+10,n=Math.round(n-.5);var r=4;e.noBorder?(a.canvas.width=a.canvas.height=n*d,r=0):a.canvas.width=a.canvas.height=o,a.clearRect(0,0,o,o),a.fillStyle=e.colorLight,a.fillRect(0,0,n*(d+8),n*(d+8)),a.fillStyle=e.colorDark;for(var c=0;c<d;c++)for(var p=0;p<d;p++)s[p*d+c]&&a.fillRect(n*(r+c),n*(r+p),n,n)},tableWrite:function(a,r){var A=this,e=Math.round(this.size/r-3.5)+"px",o=r+(A.noBorder?0:2*A.borderSize),t=A.borderSize,n="width:"+e+";height:"+e+";",i=A.colorLight,l=A.colorDark,c=document.createElement("table");c.style.cssText="border:0;border-collapse:collapse;";for(var d=document.createElement("tr"),s=document.createElement("td"),f=function(){return s.cloneNode()},g=function(){var e=f();return e.style.cssText=n+"background:"+l,e},m=function(){var e=f();return e.style.cssText=n+"background:"+i,e},u=function(t){for(var s=t.firstChild,e=0;e<A.borderSize;e++){for(var r=d.cloneNode(),n=0,c;n<o;n++)c=m(),r.appendChild(c);t.appendChild(r),t.insertBefore(r.cloneNode(!0),s)}},h=function(a){for(var n=a.firstChild,e=0;e<t;e++)a.insertBefore(m(),n),a.appendChild(m())},p=0,v;p<r;p++){v=d.cloneNode(),c.appendChild(v);for(var x=0;x<r;x++)if(1===a[p*r+x]){var w=g();v.appendChild(w)}else{var S=m();v.appendChild(S)}A.noBorder||h(v)}A.noBorder||u(c),A.domElement.innerHTML="",A.domElement.appendChild(c)},getContext:function(e){return e.getContext&&e.getContext("2d")?e.getContext("2d"):(console.log("Browser does not have 2d Canvas support"),!1)},toImage:function(t){if(this.qrc){var a=this.imageTypes[t];if(!a)throw new Error(t+" is not a valid image type ");var e=new Image;return e.src=this.domElement.toDataURL(a),e}}},VanillaQR.adelta=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],VanillaQR.vpat=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],VanillaQR.fmtword=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],VanillaQR.eccblocks=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],VanillaQR.glog=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],VanillaQR.gexp=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],VanillaQR.N1=3,VanillaQR.N2=3,VanillaQR.N3=40,VanillaQR.N4=10,define("qrcode",function(){}),function d(c,e,t){function a(i,s){if(!e[i]){if(!c[i]){var o="function"==typeof require&&require;if(!s&&o)return o(i,!0);if(n)return n(i,!0);var r=new Error("Cannot find module '"+i+"'");throw r.code="MODULE_NOT_FOUND",r}var p=e[i]={exports:{}};c[i][0].call(p.exports,function(t){var e=c[i][1][t];return a(e?e:t)},p,p.exports,d,c,e,t)}return e[i].exports}for(var n="function"==typeof require&&require,i=0;i<t.length;i++)a(t[i]);return a}({1:[function(e,t){'use strict';function a(e){e.fn.perfectScrollbar=function(e){return this.each(function(){if("object"==typeof e||"undefined"==typeof e){i.get(this)||n.initialize(this,e)}else{var t=e;"update"===t?n.update(this):"destroy"===t&&n.destroy(this)}})}}var n=e("../main"),i=e("../plugin/instances");if("function"==typeof define&&define.amd)define("perfectScrollbarJQuery",["jquery"],a);else{var s=window.jQuery?window.jQuery:window.$;"undefined"!=typeof s&&a(s)}t.exports=a},{"../main":7,"../plugin/instances":18}],2:[function(e,t,a){'use strict';function n(e,t){var a=e.className.split(" ");0>a.indexOf(t)&&a.push(t),e.className=a.join(" ")}function i(e,t){var a=e.className.split(" "),n=a.indexOf(t);0<=n&&a.splice(n,1),e.className=a.join(" ")}a.add=function(e,t){e.classList?e.classList.add(t):n(e,t)},a.remove=function(e,t){e.classList?e.classList.remove(t):i(e,t)},a.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},{}],3:[function(e,t){'use strict';function a(e,t){return window.getComputedStyle(e)[t]}function n(e,t,a){return"number"==typeof a&&(a=a.toString()+"px"),e.style[t]=a,e}function i(e,t){for(var a in t){var n=t[a];"number"==typeof n&&(n=n.toString()+"px"),e.style[a]=n}return e}var s={};s.e=function(e,t){var a=document.createElement(e);return a.className=t,a},s.appendTo=function(e,t){return t.appendChild(e),e},s.css=function(e,t,s){return"object"==typeof t?i(e,t):"undefined"==typeof s?a(e,t):n(e,t,s)},s.matches=function(e,t){if("undefined"!=typeof e.matches)return e.matches(t);return"undefined"==typeof e.matchesSelector?"undefined"==typeof e.webkitMatchesSelector?"undefined"==typeof e.mozMatchesSelector?"undefined"==typeof e.msMatchesSelector?void 0:e.msMatchesSelector(t):e.mozMatchesSelector(t):e.webkitMatchesSelector(t):e.matchesSelector(t)},s.remove=function(e){"undefined"==typeof e.remove?e.parentNode&&e.parentNode.removeChild(e):e.remove()},s.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return s.matches(e,t)})},t.exports=s},{}],4:[function(e,t){'use strict';var a=function(e){this.element=e,this.events={}};a.prototype.bind=function(e,t){"undefined"==typeof this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},a.prototype.unbind=function(e,t){this.events[e]=this.events[e].filter(function(a){return!!("undefined"!=typeof t&&a!==t)||(this.element.removeEventListener(e,a,!1),!1)},this)},a.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var n=function(){this.eventElements=[]};n.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return"undefined"==typeof t&&(t=new a(e),this.eventElements.push(t)),t},n.prototype.bind=function(e,t,a){this.eventElement(e).bind(t,a)},n.prototype.unbind=function(e,t,a){this.eventElement(e).unbind(t,a)},n.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},n.prototype.once=function(e,t,a){var n=this.eventElement(e),i=function(s){n.unbind(t,i),a(s)};n.bind(t,i)},t.exports=n},{}],5:[function(e,t){'use strict';t.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},{}],6:[function(e,t,a){'use strict';var n=e("./class"),i=e("./dom"),s=a.toInt=function(e){return parseInt(e,10)||0},o=a.clone=function(e){if(!e)return null;if(e.constructor===Array)return e.map(o);if("object"==typeof e){var t={};for(var a in e)t[a]=o(e[a]);return t}return e};a.extend=function(e,t){var a=o(e);for(var n in t)a[n]=o(t[n]);return a},a.isEditable=function(e){return i.matches(e,"input,[contenteditable]")||i.matches(e,"select,[contenteditable]")||i.matches(e,"textarea,[contenteditable]")||i.matches(e,"button,[contenteditable]")},a.removePsClasses=function(e){for(var t=n.list(e),a=0,s;a<t.length;a++)s=t[a],0===s.indexOf("ps-")&&n.remove(e,s)},a.outerWidth=function(e){return s(i.css(e,"width"))+s(i.css(e,"paddingLeft"))+s(i.css(e,"paddingRight"))+s(i.css(e,"borderLeftWidth"))+s(i.css(e,"borderRightWidth"))},a.startScrolling=function(e,t){n.add(e,"ps-in-scrolling"),"undefined"==typeof t?(n.add(e,"ps-x"),n.add(e,"ps-y")):n.add(e,"ps-"+t)},a.stopScrolling=function(e,t){n.remove(e,"ps-in-scrolling"),"undefined"==typeof t?(n.remove(e,"ps-x"),n.remove(e,"ps-y")):n.remove(e,"ps-"+t)},a.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(e,t){'use strict';var a=e("./plugin/destroy"),n=e("./plugin/initialize"),i=e("./plugin/update");t.exports={initialize:n,update:i,destroy:a}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(e,t){'use strict';t.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(e,t){'use strict';var a=e("../lib/helper"),n=e("../lib/dom"),s=e("./instances");t.exports=function(e){var t=s.get(e);t&&(t.event.unbindAll(),n.remove(t.scrollbarX),n.remove(t.scrollbarY),n.remove(t.scrollbarXRail),n.remove(t.scrollbarYRail),a.removePsClasses(e),s.remove(e))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(e,t){'use strict';function a(t,a){function n(e){return e.getBoundingClientRect()}var i=function(t){t.stopPropagation()};a.event.bind(a.scrollbarY,"click",i),a.event.bind(a.scrollbarYRail,"click",function(i){var e=i.pageY-window.pageYOffset-n(a.scrollbarYRail).top,d=e>a.scrollbarYTop?1:-1;o(t,"top",t.scrollTop+d*a.containerHeight),s(t),i.stopPropagation()}),a.event.bind(a.scrollbarX,"click",i),a.event.bind(a.scrollbarXRail,"click",function(i){var e=i.pageX-window.pageXOffset-n(a.scrollbarXRail).left,d=e>a.scrollbarXLeft?1:-1;o(t,"left",t.scrollLeft+d*a.containerWidth),s(t),i.stopPropagation()})}var n=e("../instances"),s=e("../update-geometry"),o=e("../update-scroll");t.exports=function(e){var t=n.get(e);a(e,t)}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(e,t){'use strict';var a=Math.max;function n(t,n){function i(e){var i=s+e*n.railXRatio,d=a(0,n.scrollbarXRail.getBoundingClientRect().left)+n.railXRatio*(n.railXWidth-n.scrollbarXWidth);n.scrollbarXLeft=0>i?0:i>d?d:i;var r=o.toInt(n.scrollbarXLeft*(n.contentWidth-n.containerWidth)/(n.containerWidth-n.railXRatio*n.scrollbarXWidth))-n.negativeScrollAdjustment;l(t,"left",r)}var s=null,r=null,p=function(a){i(a.pageX-r),c(t),a.stopPropagation(),a.preventDefault()},u=function(){o.stopScrolling(t,"x"),n.event.unbind(n.ownerDocument,"mousemove",p)};n.event.bind(n.scrollbarX,"mousedown",function(a){r=a.pageX,s=o.toInt(d.css(n.scrollbarX,"left"))*n.railXRatio,o.startScrolling(t,"x"),n.event.bind(n.ownerDocument,"mousemove",p),n.event.once(n.ownerDocument,"mouseup",u),a.stopPropagation(),a.preventDefault()})}function s(t,n){function i(e){var i=s+e*n.railYRatio,d=a(0,n.scrollbarYRail.getBoundingClientRect().top)+n.railYRatio*(n.railYHeight-n.scrollbarYHeight);n.scrollbarYTop=0>i?0:i>d?d:i;var r=o.toInt(n.scrollbarYTop*(n.contentHeight-n.containerHeight)/(n.containerHeight-n.railYRatio*n.scrollbarYHeight));l(t,"top",r)}var s=null,r=null,p=function(a){i(a.pageY-r),c(t),a.stopPropagation(),a.preventDefault()},u=function(){o.stopScrolling(t,"y"),n.event.unbind(n.ownerDocument,"mousemove",p)};n.event.bind(n.scrollbarY,"mousedown",function(a){r=a.pageY,s=o.toInt(d.css(n.scrollbarY,"top"))*n.railYRatio,o.startScrolling(t,"y"),n.event.bind(n.ownerDocument,"mousemove",p),n.event.once(n.ownerDocument,"mouseup",u),a.stopPropagation(),a.preventDefault()})}var o=e("../../lib/helper"),d=e("../../lib/dom"),r=e("../instances"),c=e("../update-geometry"),l=e("../update-scroll");t.exports=function(e){var t=r.get(e);n(e,t),s(e,t)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(e,t){'use strict';function a(t,a){function i(e,n){var i=t.scrollTop;if(0===e){if(!a.scrollbarYActive)return!1;if(0===i&&0<n||i>=a.contentHeight-a.containerHeight&&0>n)return!a.settings.wheelPropagation}var s=t.scrollLeft;if(0===n){if(!a.scrollbarXActive)return!1;if(0===s&&0>e||s>=a.contentWidth-a.containerWidth&&0<e)return!a.settings.wheelPropagation}return!0}var o=!1;a.event.bind(t,"mouseenter",function(){o=!0}),a.event.bind(t,"mouseleave",function(){o=!1});var c=!1;a.event.bind(a.ownerDocument,"keydown",function(l){if(!(l.isDefaultPrevented&&l.isDefaultPrevented()||l.defaultPrevented)){var e=s.matches(a.scrollbarX,":focus")||s.matches(a.scrollbarY,":focus");if(o||e){var p=document.activeElement?document.activeElement:a.ownerDocument.activeElement;if(p){if("IFRAME"===p.tagName)p=p.contentDocument.activeElement;else for(;p.shadowRoot;)p=p.shadowRoot.activeElement;if(n.isEditable(p))return}var u=0,m=0;switch(l.which){case 37:u=l.metaKey?-a.contentWidth:l.altKey?-a.containerWidth:-30;break;case 38:m=l.metaKey?a.contentHeight:l.altKey?a.containerHeight:30;break;case 39:u=l.metaKey?a.contentWidth:l.altKey?a.containerWidth:30;break;case 40:m=l.metaKey?-a.contentHeight:l.altKey?-a.containerHeight:-30;break;case 33:m=90;break;case 32:m=l.shiftKey?90:-90;break;case 34:m=-90;break;case 35:m=l.ctrlKey?-a.contentHeight:-a.containerHeight;break;case 36:m=l.ctrlKey?t.scrollTop:a.containerHeight;break;default:return;}r(t,"top",t.scrollTop-m),r(t,"left",t.scrollLeft+u),d(t),c=i(u,m),c&&l.preventDefault()}}})}var n=e("../../lib/helper"),s=e("../../lib/dom"),o=e("../instances"),d=e("../update-geometry"),r=e("../update-scroll");t.exports=function(e){var t=o.get(e);a(e,t)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(e,t){'use strict';function a(t,a){function n(e,n){var i=t.scrollTop;if(0===e){if(!a.scrollbarYActive)return!1;if(0===i&&0<n||i>=a.contentHeight-a.containerHeight&&0>n)return!a.settings.wheelPropagation}var s=t.scrollLeft;if(0===n){if(!a.scrollbarXActive)return!1;if(0===s&&0>e||s>=a.contentWidth-a.containerWidth&&0<e)return!a.settings.wheelPropagation}return!0}function i(t){var e=t.deltaX,a=-1*t.deltaY;return("undefined"==typeof e||"undefined"==typeof a)&&(e=-1*t.wheelDeltaX/6,a=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,a*=10),e!==e&&a!==a&&(e=0,a=t.wheelDelta),t.shiftKey?[-a,-e]:[e,a]}function d(e,a){var n=t.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(n){if(!window.getComputedStyle(n).overflow.match(/(scroll|auto)/))return!1;var i=n.scrollHeight-n.clientHeight;if(0<i&&!(0===n.scrollTop&&0<a)&&!(n.scrollTop===i&&0>a))return!0;var s=n.scrollLeft-n.clientWidth;if(0<s&&!(0===n.scrollLeft&&0>e)&&!(n.scrollLeft===s&&0<e))return!0}return!1}function r(r){var e=i(r),l=e[0],p=e[1];d(l,p)||(c=!1,a.settings.useBothWheelAxes?a.scrollbarYActive&&!a.scrollbarXActive?(p?o(t,"top",t.scrollTop-p*a.settings.wheelSpeed):o(t,"top",t.scrollTop+l*a.settings.wheelSpeed),c=!0):a.scrollbarXActive&&!a.scrollbarYActive&&(l?o(t,"left",t.scrollLeft+l*a.settings.wheelSpeed):o(t,"left",t.scrollLeft-p*a.settings.wheelSpeed),c=!0):(o(t,"top",t.scrollTop-p*a.settings.wheelSpeed),o(t,"left",t.scrollLeft+l*a.settings.wheelSpeed)),s(t),c=c||n(l,p),c&&(r.stopPropagation(),r.preventDefault()))}var c=!1;"undefined"==typeof window.onwheel?"undefined"!=typeof window.onmousewheel&&a.event.bind(t,"mousewheel",r):a.event.bind(t,"wheel",r)}var n=e("../instances"),s=e("../update-geometry"),o=e("../update-scroll");t.exports=function(e){var t=n.get(e);a(e,t)}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(e,t){'use strict';function a(e,t){t.event.bind(e,"scroll",function(){i(e)})}var n=e("../instances"),i=e("../update-geometry");t.exports=function(e){var t=n.get(e);a(e,t)}},{"../instances":18,"../update-geometry":19}],15:[function(e,t){'use strict';function a(t,a){function e(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}function i(){c||(c=setInterval(function(){return s.get(t)?void(d(t,"top",t.scrollTop+l.top),d(t,"left",t.scrollLeft+l.left),o(t)):void clearInterval(c)},50))}function r(){c&&(clearInterval(c),c=null),n.stopScrolling(t)}var c=null,l={top:0,left:0},p=!1;a.event.bind(a.ownerDocument,"selectionchange",function(){t.contains(e())?p=!0:(p=!1,r())}),a.event.bind(window,"mouseup",function(){p&&(p=!1,r())}),a.event.bind(window,"keyup",function(){p&&(p=!1,r())}),a.event.bind(window,"mousemove",function(a){if(p){var e={x:a.pageX,y:a.pageY},s={left:t.offsetLeft,right:t.offsetLeft+t.offsetWidth,top:t.offsetTop,bottom:t.offsetTop+t.offsetHeight};e.x<s.left+3?(l.left=-5,n.startScrolling(t,"x")):e.x>s.right-3?(l.left=5,n.startScrolling(t,"x")):l.left=0,e.y<s.top+3?(l.top=5>s.top+3-e.y?-5:-20,n.startScrolling(t,"y")):e.y>s.bottom-3?(l.top=5>e.y-s.bottom+3?5:20,n.startScrolling(t,"y")):l.top=0,0===l.top&&0===l.left?r():i()}})}var n=e("../../lib/helper"),s=e("../instances"),o=e("../update-geometry"),d=e("../update-scroll");t.exports=function(e){var t=s.get(e);a(e,t)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(e,t){'use strict';var a=Math.abs;function n(e,t,n,i){function s(n,i){var s=e.scrollTop,o=e.scrollLeft,d=a(n),r=a(i);if(r>d){if(0>i&&s===t.contentHeight-t.containerHeight||0<i&&0===s)return!t.settings.swipePropagation;}else if(d>r&&(0>n&&o===t.contentWidth-t.containerWidth||0<n&&0===o))return!t.settings.swipePropagation;return!0}function c(t,a){r(e,"top",e.scrollTop-a),r(e,"left",e.scrollLeft-t),d(e)}function l(){w=!0}function p(){w=!1}function u(t){return t.targetTouches?t.targetTouches[0]:t}function m(t){return!!(t.targetTouches&&1===t.targetTouches.length)||!!(t.pointerType&&"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE)}function g(t){if(m(t)){k=!0;var e=u(t);v.pageX=e.pageX,v.pageY=e.pageY,b=new Date().getTime(),null!==x&&clearInterval(x),t.stopPropagation()}}function h(a){if(!k&&t.settings.swipePropagation&&g(a),!w&&k&&m(a)){var e=u(a),n={pageX:e.pageX,pageY:e.pageY},i=n.pageX-v.pageX,o=n.pageY-v.pageY;c(i,o),v=n;var d=new Date().getTime(),r=d-b;0<r&&(A.x=i/r,A.y=o/r,b=d),s(i,o)&&(a.stopPropagation(),a.preventDefault())}}function f(){!w&&k&&(k=!1,clearInterval(x),x=setInterval(function(){return o.get(e)?A.x||A.y?.01>a(A.x)&&.01>a(A.y)?void clearInterval(x):void(c(30*A.x,30*A.y),A.x*=.8,A.y*=.8):void clearInterval(x):void clearInterval(x)},10))}var v={},b=0,A={},x=null,w=!1,k=!1;n?(t.event.bind(window,"touchstart",l),t.event.bind(window,"touchend",p),t.event.bind(e,"touchstart",g),t.event.bind(e,"touchmove",h),t.event.bind(e,"touchend",f)):i&&(window.PointerEvent?(t.event.bind(window,"pointerdown",l),t.event.bind(window,"pointerup",p),t.event.bind(e,"pointerdown",g),t.event.bind(e,"pointermove",h),t.event.bind(e,"pointerup",f)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",l),t.event.bind(window,"MSPointerUp",p),t.event.bind(e,"MSPointerDown",g),t.event.bind(e,"MSPointerMove",h),t.event.bind(e,"MSPointerUp",f)))}var s=e("../../lib/helper"),o=e("../instances"),d=e("../update-geometry"),r=e("../update-scroll");t.exports=function(e){if(s.env.supportsTouch||s.env.supportsIePointer){var t=o.get(e);n(e,t,s.env.supportsTouch,s.env.supportsIePointer)}}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(e,t){'use strict';var a=e("../lib/helper"),n=e("../lib/class"),s=e("./instances"),o=e("./update-geometry"),d={"click-rail":e("./handler/click-rail"),"drag-scrollbar":e("./handler/drag-scrollbar"),keyboard:e("./handler/keyboard"),wheel:e("./handler/mouse-wheel"),touch:e("./handler/touch"),selection:e("./handler/selection")},r=e("./handler/native-scroll");t.exports=function(e,t){t="object"==typeof t?t:{},n.add(e,"ps-container");var c=s.add(e);c.settings=a.extend(c.settings,t),n.add(e,"ps-theme-"+c.settings.theme),c.settings.handlers.forEach(function(t){d[t](e)}),r(e),o(e)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(e,t,a){'use strict';function n(e){function t(){r.add(e,"ps-focus")}function a(){r.remove(e,"ps-focus")}var n=this;n.settings=d.clone(c),n.containerWidth=null,n.containerHeight=null,n.contentWidth=null,n.contentHeight=null,n.isRtl="rtl"===l.css(e,"direction"),n.isNegativeScroll=function(){var t=e.scrollLeft,a=null;return e.scrollLeft=-1,a=0>e.scrollLeft,e.scrollLeft=t,a}(),n.negativeScrollAdjustment=n.isNegativeScroll?e.scrollWidth-e.clientWidth:0,n.event=new p,n.ownerDocument=e.ownerDocument||document,n.scrollbarXRail=l.appendTo(l.e("div","ps-scrollbar-x-rail"),e),n.scrollbarX=l.appendTo(l.e("div","ps-scrollbar-x"),n.scrollbarXRail),n.scrollbarX.setAttribute("tabindex",0),n.event.bind(n.scrollbarX,"focus",t),n.event.bind(n.scrollbarX,"blur",a),n.scrollbarXActive=null,n.scrollbarXWidth=null,n.scrollbarXLeft=null,n.scrollbarXBottom=d.toInt(l.css(n.scrollbarXRail,"bottom")),n.isScrollbarXUsingBottom=n.scrollbarXBottom===n.scrollbarXBottom,n.scrollbarXTop=n.isScrollbarXUsingBottom?null:d.toInt(l.css(n.scrollbarXRail,"top")),n.railBorderXWidth=d.toInt(l.css(n.scrollbarXRail,"borderLeftWidth"))+d.toInt(l.css(n.scrollbarXRail,"borderRightWidth")),l.css(n.scrollbarXRail,"display","block"),n.railXMarginWidth=d.toInt(l.css(n.scrollbarXRail,"marginLeft"))+d.toInt(l.css(n.scrollbarXRail,"marginRight")),l.css(n.scrollbarXRail,"display",""),n.railXWidth=null,n.railXRatio=null,n.scrollbarYRail=l.appendTo(l.e("div","ps-scrollbar-y-rail"),e),n.scrollbarY=l.appendTo(l.e("div","ps-scrollbar-y"),n.scrollbarYRail),n.scrollbarY.setAttribute("tabindex",0),n.event.bind(n.scrollbarY,"focus",t),n.event.bind(n.scrollbarY,"blur",a),n.scrollbarYActive=null,n.scrollbarYHeight=null,n.scrollbarYTop=null,n.scrollbarYRight=d.toInt(l.css(n.scrollbarYRail,"right")),n.isScrollbarYUsingRight=n.scrollbarYRight===n.scrollbarYRight,n.scrollbarYLeft=n.isScrollbarYUsingRight?null:d.toInt(l.css(n.scrollbarYRail,"left")),n.scrollbarYOuterWidth=n.isRtl?d.outerWidth(n.scrollbarY):null,n.railBorderYWidth=d.toInt(l.css(n.scrollbarYRail,"borderTopWidth"))+d.toInt(l.css(n.scrollbarYRail,"borderBottomWidth")),l.css(n.scrollbarYRail,"display","block"),n.railYMarginHeight=d.toInt(l.css(n.scrollbarYRail,"marginTop"))+d.toInt(l.css(n.scrollbarYRail,"marginBottom")),l.css(n.scrollbarYRail,"display",""),n.railYHeight=null,n.railYRatio=null}function i(e){return e.getAttribute("data-ps-id")}function s(e,t){e.setAttribute("data-ps-id",t)}function o(e){e.removeAttribute("data-ps-id")}var d=e("../lib/helper"),r=e("../lib/class"),c=e("./default-setting"),l=e("../lib/dom"),p=e("../lib/event-manager"),u=e("../lib/guid"),m={};a.add=function(e){var t=u();return s(e,t),m[t]=new n(e),m[t]},a.remove=function(e){delete m[i(e)],o(e)},a.get=function(e){return m[i(e)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(e,t){'use strict';var a=Math.min,n=Math.max;function s(e,t){return e.settings.minScrollbarLength&&(t=n(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=a(t,e.settings.maxScrollbarLength)),t}function o(e,t){var a={width:t.railXWidth};a.left=t.isRtl?t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:e.scrollLeft,t.isScrollbarXUsingBottom?a.bottom=t.scrollbarXBottom-e.scrollTop:a.top=t.scrollbarXTop+e.scrollTop,c.css(t.scrollbarXRail,a);var n={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?n.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:n.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:n.left=t.scrollbarYLeft+e.scrollLeft,c.css(t.scrollbarYRail,n),c.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),c.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}var d=e("../lib/helper"),r=e("../lib/class"),c=e("../lib/dom"),l=e("./instances"),p=e("./update-scroll");t.exports=function(e){var t=l.get(e);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight;var a;e.contains(t.scrollbarXRail)||(a=c.queryChildren(e,".ps-scrollbar-x-rail"),0<a.length&&a.forEach(function(e){c.remove(e)}),c.appendTo(t.scrollbarXRail,e)),e.contains(t.scrollbarYRail)||(a=c.queryChildren(e,".ps-scrollbar-y-rail"),0<a.length&&a.forEach(function(e){c.remove(e)}),c.appendTo(t.scrollbarYRail,e)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=s(t,d.toInt(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=d.toInt((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=s(t,d.toInt(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=d.toInt(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),o(e,t),t.scrollbarXActive?r.add(e,"ps-active-x"):(r.remove(e,"ps-active-x"),t.scrollbarXWidth=0,t.scrollbarXLeft=0,p(e,"left",0)),t.scrollbarYActive?r.add(e,"ps-active-y"):(r.remove(e,"ps-active-y"),t.scrollbarYHeight=0,t.scrollbarYTop=0,p(e,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(e,t){'use strict';var a=e("./instances"),n=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t},s,o;t.exports=function(e,t,d){if("undefined"==typeof e)throw"You must provide an element to the update-scroll function";if("undefined"==typeof t)throw"You must provide an axis to the update-scroll function";if("undefined"==typeof d)throw"You must provide a value to the update-scroll function";"top"===t&&0>=d&&(e.scrollTop=d=0,e.dispatchEvent(n("ps-y-reach-start"))),"left"===t&&0>=d&&(e.scrollLeft=d=0,e.dispatchEvent(n("ps-x-reach-start")));var r=a.get(e);"top"===t&&d>=r.contentHeight-r.containerHeight&&(d=r.contentHeight-r.containerHeight,1>=d-e.scrollTop?d=e.scrollTop:e.scrollTop=d,e.dispatchEvent(n("ps-y-reach-end"))),"left"===t&&d>=r.contentWidth-r.containerWidth&&(d=r.contentWidth-r.containerWidth,1>=d-e.scrollLeft?d=e.scrollLeft:e.scrollLeft=d,e.dispatchEvent(n("ps-x-reach-end"))),s||(s=e.scrollTop),o||(o=e.scrollLeft),"top"===t&&d<s&&e.dispatchEvent(n("ps-scroll-up")),"top"===t&&d>s&&e.dispatchEvent(n("ps-scroll-down")),"left"===t&&d<o&&e.dispatchEvent(n("ps-scroll-left")),"left"===t&&d>o&&e.dispatchEvent(n("ps-scroll-right")),"top"===t&&(e.scrollTop=s=d,e.dispatchEvent(n("ps-scroll-y"))),"left"===t&&(e.scrollLeft=o=d,e.dispatchEvent(n("ps-scroll-x")))}},{"./instances":18}],21:[function(e,t){'use strict';var a=e("../lib/helper"),n=e("../lib/dom"),s=e("./instances"),o=e("./update-geometry"),d=e("./update-scroll");t.exports=function(e){var t=s.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,n.css(t.scrollbarXRail,"display","block"),n.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=a.toInt(n.css(t.scrollbarXRail,"marginLeft"))+a.toInt(n.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=a.toInt(n.css(t.scrollbarYRail,"marginTop"))+a.toInt(n.css(t.scrollbarYRail,"marginBottom")),n.css(t.scrollbarXRail,"display","none"),n.css(t.scrollbarYRail,"display","none"),o(e),d(e,"top",e.scrollTop),d(e,"left",e.scrollLeft),n.css(t.scrollbarXRail,"display",""),n.css(t.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]),define("xabber-dependencies",["backbone","underscore","jquery","moment","wavesurfer","slug","sha256","magnific-popup","i18next","i18next-post","strophe","strophe.disco","strophe.ping","strophe.rsm","strophe.caps","strophe.pubsub","omemo","backbone.localsync","sha1_hasher","materialize","qrcode","perfectScrollbarJQuery"],function(e,t,a,n,i,s,o,d,r,c,l){return t.extend({$:a,_:t,moment:n,WaveSurfer:i,slug:s,xabber_i18next:r,xabber_i18next_sprintf:c,sha256:o,magnificPopup:d,Strophe:l},l)});var constants={DEBUG:!1,STORAGE_NAME:"xabber-storage",STORAGE_VERSION:"v8",FAVICON_DEFAULT:"images/favicon.png",FAVICON_MESSAGE:"images/favicon-message.png",BACKGROUND_IMAGE:"images/background.png",WIDTH_MEDIUM:1420,WIDTH_NARROW:1280,WIDTH_TINY:1152,LOG_LEVEL_NONE:-1,LOG_LEVEL_ERROR:1,LOG_LEVEL_WARN:2,LOG_LEVEL_INFO:3,LOG_LEVEL_DEBUG:4,LOG_LEVEL:"ERROR",KEY_BACKSPACE:8,KEY_TAB:9,KEY_ENTER:13,KEY_SHIFT:16,KEY_CTRL:17,KEY_ESCAPE:27,KEY_SPACE:32,KEY_ARROW_LEFT:37,KEY_ARROW_UP:38,KEY_ARROW_RIGHT:39,KEY_ARROW_DOWN:40,KEY_DELETE:46,KEY_FORWARD_SLASH:47,KEY_AT:50,VOICE_MSG_TIME:120,PASSWORD_DOT:String.fromCharCode(8226),CONNECTION_URL:null,CONN_STATUSES:{0:"ERROR",1:"CONNECTING",2:"CONNFAIL",3:"AUTHENTICATING",4:"AUTHFAIL",5:"CONNECTED",6:"DISCONNECTED",7:"DISCONNECTING",8:"ATTACHED",9:"REDIRECT",10:"CONNTIMEOUT"},PREKEYS_COUNT:100,MIN_PREKEYS_COUNT:80,AES_KEY_LENGTH:128,AES_TAG_LENGTH:128,AES_EXTRACTABLE:!0,BAD_CONN_STATUSES:[0,2,4,6,10],RECONNECTION_TIMEOUTS:[5e3,1e4,15e3],STATUS_WEIGHTS:{chat:1,online:2,away:3,xa:4,dnd:5,offline:6,unavailable:7},PRESENT_INTERVAL:3e4,CHATSTATE_INTERVAL_COMPOSING_AUDIO:5e3,CHATSTATE_TIMEOUT_PAUSED:15e3,CHATSTATE_TIMEOUT_STOPPED:5e3,CHATSTATE_TIMEOUT_PAUSED_AUDIO:1e4,JINGLE_WAITING_TIME:60,TURN_SERVERS_LIST:[{url:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"},{urls:"turn:turn.editcompany.org:5439",username:"test",credential:"1111"},{urls:"turn:192.158.29.39:3478?transport=udp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"},{urls:"turn:192.158.29.39:3478?transport=tcp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"}],JINGLE_MSG_PROPOSE:0,JINGLE_MSG_REJECT:1,JINGLE_MSG_ACCEPT:2,MSG_BLOCKED:-2,MSG_ERROR:-1,MSG_PENDING:0,MSG_SENT:1,MSG_DELIVERED:2,MSG_DISPLAYED:3,MSG_ARCHIVED:4,MSG_SAVED:5,RSM_ATTRIBUTES:["max","first","last","after","before","index","count"],MAM_ATTRIBUTES:["with","start","end"],GENERAL_GROUP_ID:1,NON_ROSTER_GROUP_ID:2,MATERIAL_COLORS:["red","green","blue","deep-purple","orange","lime","pink","purple","indigo","light-blue","cyan","teal","light-green","amber","deep-orange","brown","blue-grey"],MAX_AVATAR_FILE_SIZE:64e3,AVATAR_PRIORITIES:{VCARD_AVATAR:0,PUBSUB_AVATAR:1},EMAIL_FOR_JOIN_TRANSLATION:"info@xabber.com",AVATAR_SIZES:{TOOLBAR_ACCOUNT_ITEM:32,SETTINGS_ACCOUNT_ITEM:32,XABBER_ACCOUNT:32,SYNCHRONIZE_ACCOUNT_ITEM:36,MENTION_ITEM:36,ACCOUNT_SETTINGS_LEFT:96,ACCOUNT_VCARD_EDIT:80,ROSTER_RIGHT_ACCOUNT_ITEM:38,ROSTER_LEFT_ACCOUNT_ITEM:40,PARTICIPANT_DETAILS_ITEM:48,CONTACT_RIGHT_ITEM:32,GROUPCHAT_MEMBER_ITEM:32,CONTACT_LEFT_ITEM:32,CONTACT_BLOCKED_ITEM:32,CONTACT_DETAILS:192,GROUP_SETTINGS:96,CHAT_ITEM:40,CHAT_HEAD:40,CHAT_MESSAGE:32,CHAT_BOTTOM:48,XABBER_VOICE_CALL_VIEW:128,OMEMO_ENABLE_SETTING:182},SOUNDS:{beep_up:"sounds/beep_up.ogg",tiny_noize:"sounds/tiny_noize.ogg",retro_game:"sounds/retro_game.ogg",pixel_beep:"sounds/pixel_beep.ogg",beep_positive:"sounds/beep_positive.ogg",good_chime:"sounds/good_chime.ogg",cellular_click:"sounds/cellular_click.ogg",bleep:"sounds/bleep.ogg",mono_u:"sounds/mono_u.ogg",plop:"sounds/plop.ogg",ether:"sounds/ether.ogg",pop:"sounds/pop.ogg",computer_chime:"sounds/computer_chime.ogg",beep_a:"sounds/beep_a.ogg",call:"sounds/marching-band-dave-girtsman.mp3",connecting:"sounds/alien-bomb-timer.wav",busy:"sounds/phone_busy.wav",attention:"sounds/attention.wav"},SYNC_WAY_DATA:{no:{tip:"xabber_account__sync__settings_already_synced",icon:"mdi-cloud-check"},from_server:{tip:"xabber_account__sync__settings_will_be_downloaded",icon:"mdi-cloud-download"},to_server:{tip:"xabber_account__sync__settings_will_be_uploaded",icon:"mdi-cloud-upload"},delete:{tip:"xabber_account__sync__acc_will_be_deleted",icon:"mdi-delete"},off_local:{tip:"xabber_account__sync__local_acc",icon:"mdi-cloud-outline-off"},off_remote:{tip:"xabber_account__sync__remote_acc",icon:"mdi-cloud-outline-off"}},SYNCED_STATUS_DATA:{off:{tip:"xabber_account__sync_status__disabled",icon:"mdi-cloud-outline-off"},yes:{tip:"xabber_account__sync_status__synced",icon:"mdi-cloud-check"},no:{tip:"xabber_account__sync_status__not_synced",icon:"mdi-cloud"}},EMOJI_LIST_NAME:function(e){return{smiles_and_people:"emoji_list__catelory_name__smiles_and_people",body_and_clothes:"emoji_list__catelory_name__body_and_clothes",animals_and_nature:"emoji_list__catelory_name__animals_and_nature",food_and_drinks:"emoji_list__catelory_name__food_and_drinks",travel_and_places:"emoji_list__catelory_name__travel_and_places",events:"emoji_list__catelory_name__events",objects:"emoji_list__catelory_name__objects",signs:"emoji_list__catelory_name__signs"}[e]},QUOTE_MARKER:"&gt;",MARKUP_TAGS:["bold","underline","italic","strike","link","quote"],BLANK_VIDEO:{OGG:"data:video/ogg;base64, T2dnUwACAAAAAAAAAAAjaKehAAAAAEAjsCsBKoB0aGVvcmEDAgEACwAJAACwAACQAAAAAAAZAAAAAQAAAQAAAQADDUAA2E9nZ1MAAgAAAAAAAAAAlksvwgAAAABKGTdzAR4Bdm9yYmlzAAAAAAKAuwAAAAAAAIC1AQAAAAAAuAFPZ2dTAAAAAAAAAAAAACNop6EBAAAAPZIZjg41////////////////kIF0aGVvcmENAAAATGF2ZjU1LjMzLjEwMAEAAAAVAAAAZW5jb2Rlcj1MYXZmNTUuMzMuMTAwgnRoZW9yYb7NKPe5zWsYtalJShBznOYxjFKUpCEIMYxiEIQhCEAAAAAAAAAAAAARba5TZ5LI/FYS/Hg5W2zmKvVoq1QoEykkWhD+eTmbjWZTCXiyVSmTiSSCGQh8PB2OBqNBgLxWKhQJBGIhCHw8HAyGAsFAiDgVFtrlNnksj8VhL8eDlbbOYq9WirVCgTKSRaEP55OZuNZlMJeLJVKZOJJIIZCHw8HY4Go0GAvFYqFAkEYiEIfDwcDIYCwUCIOBQLDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8MDA8SFBQVDQ0OERIVFRQODg8SFBUVFQ4QERMUFRUVEBEUFRUVFRUSExQVFRUVFRQVFRUVFRUVFRUVFRUVFRUQDAsQFBkbHA0NDhIVHBwbDg0QFBkcHBwOEBMWGx0dHBETGRwcHh4dFBgbHB0eHh0bHB0dHh4eHh0dHR0eHh4dEAsKEBgoMz0MDA4TGjo8Nw4NEBgoOUU4DhEWHTNXUD4SFiU6RG1nTRgjN0BRaHFcMUBOV2d5eGVIXF9icGRnYxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMSEhUZGhoaGhIUFhoaGhoaFRYZGhoaGhoZGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaERIWHyQkJCQSFBgiJCQkJBYYISQkJCQkHyIkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJBESGC9jY2NjEhUaQmNjY2MYGjhjY2NjYy9CY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2MVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVEhISFRcYGRsSEhUXGBkbHBIVFxgZGxwdFRcYGRscHR0XGBkbHB0dHRgZGxwdHR0eGRscHR0dHh4bHB0dHR4eHhERERQXGhwgEREUFxocICIRFBcaHCAiJRQXGhwgIiUlFxocICIlJSUaHCAiJSUlKRwgIiUlJSkqICIlJSUpKioQEBAUGBwgKBAQFBgcICgwEBQYHCAoMEAUGBwgKDBAQBgcICgwQEBAHCAoMEBAQGAgKDBAQEBggCgwQEBAYICAB8Xlx0fV7c7D8vrrAaZid8hRvB1RN7csxFuo43wH7lEkS9wbGS+tVSNMyuxdiECcjB7R1Ml85htasNjKpSvPt3D8k7iGmZXYuxBC+RR4arUGxkvH5y7mJXR7R5Jwn3VUhBiuap91VIrsaCM5TSg9o867khwMrWY2+cP4rwvBLzt/wnHaYe0edSRMYC6tZmU1BrvhktIUf2gXoU8bHMuyNA7lB7R51ym213sFcFKowIviT/i0Wscg+4RDubX+4haRsMxZWgN05K5FD3bzqS9VSVCPM4TpWs2C43ihFdgaSByeKHu3Xf/2TG8tgpB7PAtOs7jixWYw+Ayo5GjUTSybX/1KW52RxYfB8nBNLJtHgt4DPq6BZWBFpjyZX/1KW5Ca0evOwG1EX/A9j5fQm5hOz6W2CtcCaWTXTFAeZO71VIgCTX69y9TiaXag3Os2ES1DcLKw0/xR5HfnCqkpQF0Z1kxKNfhZWLycml2keduHMQh3HubB/pbUUoCK5wxetZRZWPJF/bdyE21H2YjMOhP/pkthqKUCOEWVm68+1J5n7ahES5sOhaZPdOC5j4kc91FVIsrF8ofe+A2on/16Z4RiKQZcMU3NouO9N4YAvrWaiA6h4bfLqhTitbnnJ2iPSVRNJH+aZGE+YXzq7Ah/OncW2K59AKamlocOUYTSvaJPNcjDfMGrmG9pOV2MbgI9v3B3ECZ7RLJ51UpzMn0C1huA87Ngom9lkiaw3t5yvFZmDl1HpkuP+PiqlawgD69jAT5Nxr2i6cwiytcwHhK2KJvZI9C1m/4VUil8RvO/ydxmgsFdzdgGpMbUeyyRNOi1k5hMb6hVSMuTrOE/xuDhGExQ219l07sV2kG5fOEnkWHwgqUkbvC0P2KTytY4nHLqJDc3DMGlDbX2aXK/4UuJxizaIkZITS7a3HN5374PrVlYKIcP9xl1BUKqQ7aAml2k1o5uGcN8A+tPz1HF1YVnmE7cyx4FIiUA2ml1k0hX9HB7l4tMO+R9YrMWcf5Anub1BZXUp3Ce4jBM21l0kyhcF/vg6FGeHa345MYv4BVSciTJhj5AbuD2K0dfIXc4jKAbazaS53rv1lYqpIVr2fcgcPox4u/WVnRfJ25GGING2s2cqjKIVUtwGbRtrljLd9CQOHhewUTfiKxWk7Olr2dHyIKlLgejEbasmmdGF/dhuhVrU9xGi6Hksgm/+5Bw813T3mJyRNqIYGdYspVZFzQ6dhNLJ7H+fYWh8Q+cMbzLc/O0evM4srXGjpECaXaT2jApqM4LRavgPnH7ecDRQSErabX3zC4EcXfOVZZUpYs3UIfMsKVR+6hgFzHhvWWWl4EqZtrJpHnyeO0T2icPrqVRyyDRKmbayexv7wdolGfh1hwtsK4G5jDOIHz/lTULUM47PaBmNJm2ssmTq+ssXeHBjgij3G5P+u5QVFIGQ21TNM5aGOHbqKssQ/HiM9kvcWjdCtF6gZNMzbXFhNP2gV2FNQi+OpOR+S+3RvOBVSOr+E5hjyPrQho7/QDNEG2qRNLpHl6WVl3m4p3POFvwEWUN0ByvCQTSttdM48H7tjQWVk73qoUvhiSDbVK0mzyohbuHXofmEaK/xXYJ+Vq7tBUN6lMAdrouC3p96IS8kMzbVK0myY4f+HKdRGsrG9SlDwEfQkXsGLIbapmmcv/sA5TrqC36t4sRdjylU4JC9KwG2plM0zxuT2iFFzAPXyj9ZWRu+tx5UpFv0jn0gQrKyMF5MyaZsDbXG7/qIdp0tHG4jOQumLzBliaZttaLfZFUBSOu7FaUn/+IXETfwUj2E0o6gJ2HB/l8N7jFnzWWBESErabWPvy9bUKqS4y78CME0rbXSTNFRf8H7r1wwxQbltish5nFVIRkhKaTNtc6L3LHAh8+B2yi/tHvXG4nusVwAKMb/0/MCmoWrvASDM0mbay5YRI+7CtC96OPtxudDEyTGmbbWVRgkvR8qaiA8+rLCft7cW8H8UI3E8nzmJVSQIT3+0srHfUbgKA21ZNM8WEy+W7wbj9OuBpm21MKGWN80kaA5PZfoSqkRPLa1h31wIEjiUhcnX/e5VSWVkQnPhtqoYXrjLFpn7M8tjB17xSqfWgoA21StJpM48eSG+5A/dsGUQn8sV7impA4dQjxPyrsBfHd8tUGBIJWkxtrnljE3eu/xTUO/nVsA9I4uVlZ5uQvy9IwYjbWUmaZ5XE9HAWVkXUKmoI3y4vDKZpnKNtccJHK2iA83ej+fvgI3KR9P6qpG/kBCUdxHFisLkq8aZttTCZlj/b0G8XoLX/3fHhZWCVcMsWmZtqmYXz0cpOiBHCqpKUZu76iICRxYVuSULpmF/421MsWmfyhbP4ew1FVKAjFlY437JXImUTm2r/4ZYtMy61hf16RPJIRA8tU1BDc5/JzAkEzTM21lyx7sK9wojRX/OHXoOv05IDbUymaZyscL7qlMA8c/CiK3csceqzuOEU1EPpbz4QEahIShpm21MJmWN924f98WKyf51EEYBli0zNtUzC+6X9P9ysrU1CHyA3RJFFr1w67HpyULT+YMsWmZtquYXz97oKil44sI1bpL8hRSDeMkhiIBwOgxwZ5Fs6+5M+NdH+3Kjv0sreSqqRvGSQxEA4HQY4M8i2dfcmfGuj/blR36WVvJVVI3jJIYiAcDoMcGeRbOvuTPjXR/tyo79LK3kqqkVUnCfqAES8EzTM21lykY4Q+LKxby+9F3ZHR/uC2OGpS9cv6BZXAebhckMGIymaZm2st8/B38i6A/n58pVLKwfURet4UBwSF6UaZttSZljhd2jW9BZWcrX0/hG4Sdt/SBCdH6UMJmWK80zba3URKaik8iB9PR2459CuyOAbi0/GWLTMmYXm2t0vUkNQhRPVldKpAN5HgHyZfdOtGuj/YxwZ5S8u3CjqMgQoyQJRdawvJlE530/+sVg21c8GWLTPf3yJVSVUoCMWVjjfslciZRObav/hli0zLrWF/XpE8khT2dnUwAAAAAAAAAAAACWSy/CAQAAAB7oAsQRNv///////////////////wcDdm9yYmlzDQAAAExhdmY1NS4zMy4xMDABAAAAFQAAAGVuY29kZXI9TGF2ZjU1LjMzLjEwMAEFdm9yYmlzJUJDVgEAQAAAJHMYKkalcxaEEBpCUBnjHELOa+wZQkwRghwyTFvLJXOQIaSgQohbKIHQkFUAAEAAAIdBeBSEikEIIYQlPViSgyc9CCGEiDl4FIRpQQghhBBCCCGEEEIIIYRFOWiSgydBCB2E4zA4DIPlOPgchEU5WBCDJ0HoIIQPQriag6w5CCGEJDVIUIMGOegchMIsKIqCxDC4FoQENSiMguQwyNSDC0KImoNJNfgahGdBeBaEaUEIIYQkQUiQgwZByBiERkFYkoMGObgUhMtBqBqEKjkIH4QgNGQVAJAAAKCiKIqiKAoQGrIKAMgAABBAURTHcRzJkRzJsRwLCA1ZBQAAAQAIAACgSIqkSI7kSJIkWZIlWZIlWZLmiaosy7Isy7IsyzIQGrIKAEgAAFBRDEVxFAcIDVkFAGQAAAigOIqlWIqlaIrniI4IhIasAgCAAAAEAAAQNENTPEeURM9UVde2bdu2bdu2bdu2bdu2bVuWZRkIDVkFAEAAABDSaWapBogwAxkGQkNWAQAIAACAEYowxIDQkFUAAEAAAIAYSg6iCa0535zjoFkOmkqxOR2cSLV5kpuKuTnnnHPOyeacMc4555yinFkMmgmtOeecxKBZCpoJrTnnnCexedCaKq0555xxzulgnBHGOeecJq15kJqNtTnnnAWtaY6aS7E555xIuXlSm0u1Oeecc84555xzzjnnnOrF6RycE84555yovbmWm9DFOeecT8bp3pwQzjnnnHPOOeecc84555wgNGQVAAAEAEAQho1h3CkI0udoIEYRYhoy6UH36DAJGoOcQurR6GiklDoIJZVxUkonCA1ZBQAAAgBACCGFFFJIIYUUUkghhRRiiCGGGHLKKaeggkoqqaiijDLLLLPMMssss8w67KyzDjsMMcQQQyutxFJTbTXWWGvuOeeag7RWWmuttVJKKaWUUgpCQ1YBACAAAARCBhlkkFFIIYUUYogpp5xyCiqogNCQVQAAIACAAAAAAE/yHNERHdERHdERHdERHdHxHM8RJVESJVESLdMyNdNTRVV1ZdeWdVm3fVvYhV33fd33fd34dWFYlmVZlmVZlmVZlmVZlmVZliA0ZBUAAAIAACCEEEJIIYUUUkgpxhhzzDnoJJQQCA1ZBQAAAgAIAAAAcBRHcRzJkRxJsiRL0iTN0ixP8zRPEz1RFEXTNFXRFV1RN21RNmXTNV1TNl1VVm1Xlm1btnXbl2Xb933f933f933f933f931dB0JDVgEAEgAAOpIjKZIiKZLjOI4kSUBoyCoAQAYAQAAAiuIojuM4kiRJkiVpkmd5lqiZmumZniqqQGjIKgAAEABAAAAAAAAAiqZ4iql4iqh4juiIkmiZlqipmivKpuy6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6rguEhqwCACQAAHQkR3IkR1IkRVIkR3KA0JBVAIAMAIAAABzDMSRFcizL0jRP8zRPEz3REz3TU0VXdIHQkFUAACAAgAAAAAAAAAzJsBTL0RxNEiXVUi1VUy3VUkXVU1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU3TNE0TCA1ZCQCQAQCQEFMtLcaaCYskYtJqq6BjDFLspbFIKme1t8oxhRi1XhqHlFEQe6kkY4pBzC2k0CkmrdZUQoUUpJhjKhVSDlIgNGSFABCaAeBwHECyLECyLAAAAAAAAACQNA3QPA+wNA8AAAAAAAAAJE0DLE8DNM8DAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEDSNEDzPEDzPAAAAAAAAADQPA/wPBHwRBEAAAAAAAAALM8DNNEDPFEEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEDSNEDzPEDzPAAAAAAAAACwPA/wRBHQPBEAAAAAAAAALM8DPFEEPNEDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAQ4AAAEGAhFBqyIgCIEwBwSBIkCZIEzQNIlgVNg6bBNAGSZUHToGkwTQAAAAAAAAAAAAAkTYOmQdMgigBJ06Bp0DSIIgAAAAAAAAAAAACSpkHToGkQRYCkadA0aBpEEQAAAAAAAAAAAADPNCGKEEWYJsAzTYgiRBGmCQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQasiIAiBMAcDiKZQEAgOM4lgUAAI7jWBYAAFiWJYoAAGBZmigCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAABhwAAAIMKEMFBqyEgCIAgBwKIplAcexLOA4lgUkybIAlgXQPICmAUQRAAgAAChwAAAIsEFTYnGAQkNWAgBRAAAGxbEsTRNFkqRpmieKJEnTPE8UaZrneZ5pwvM8zzQhiqJomhBFUTRNmKZpqiowTVUVAABQ4AAAEGCDpsTiAIWGrAQAQgIAHIpiWZrmeZ4niqapmiRJ0zxPFEXRNE1TVUmSpnmeKIqiaZqmqrIsTfM8URRF01RVVYWmeZ4oiqJpqqrqwvM8TxRF0TRV1XXheZ4niqJomqrquhBFUTRN01RNVXVdIIqmaZqqqqquC0RPFE1TVV3XdYHniaJpqqqrui4QTdNUVVV1XVkGmKZpqqrryjJAVVXVdV1XlgGqqqqu67qyDFBV13VdWZZlAK7rurIsywIAAA4cAAACjKCTjCqLsNGECw9AoSErAoAoAADAGKYUU8owJiGkEBrGJIQUQiYlpdJSqiCkUlIpFYRUSiolo5RSailVEFIpqZQKQiollVIAANiBAwDYgYVQaMhKACAPAIAwRinGGHNOIqQUY845JxFSijHnnJNKMeacc85JKRlzzDnnpJTOOeecc1JK5pxzzjkppXPOOeeclFJK55xzTkopJYTOQSellNI555wTAABU4AAAEGCjyOYEI0GFhqwEAFIBAAyOY1ma5nmiaJqWJGma53meKJqmJkma5nmeJ4qqyfM8TxRF0TRVled5niiKommqKtcVRdM0TVVVXbIsiqZpmqrqujBN01RV13VdmKZpqqrrui5sW1VV1XVlGbatqqrqurIMXNd1ZdmWgSy7ruzasgAA8AQHAKACG1ZHOCkaCyw0ZCUAkAEAQBiDkEIIIWUQQgohhJRSCAkAABhwAAAIMKEMFBqyEgBIBQAAjLHWWmuttdZAZ6211lprrYDMWmuttdZaa6211lprrbXWUmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaay2llFJKKaWUUkoppZRSSimllFJKBQD6VTgA+D/YsDrCSdFYYKEhKwGAcAAAwBilGHMMQimlVAgx5px0VFqLsUKIMeckpNRabMVzzkEoIZXWYiyecw5CKSnFVmNRKYRSUkottliLSqGjklJKrdVYjDGppNZai63GYoxJKbTUWosxFiNsTam12GqrsRhjayottBhjjMUIX2RsLabaag3GCCNbLC3VWmswxhjdW4ultpqLMT742lIsMdZcAAB3gwMARIKNM6wknRWOBhcashIACAkAIBBSijHGGHPOOeekUow55pxzDkIIoVSKMcaccw5CCCGUjDHmnHMQQgghhFJKxpxzEEIIIYSQUuqccxBCCCGEEEopnXMOQgghhBBCKaWDEEIIIYQQSiilpBRCCCGEEEIIqaSUQgghhFJCKCGVlFIIIYQQQiklpJRSCiGEUkIIoYSUUkophRBCCKWUklJKKaUSSgklhBJSKSmlFEoIIZRSSkoppVRKCaGEEkopJaWUUkohhBBKKQUAABw4AAAEGEEnGVUWYaMJFx6AQkNWAgBkAACQopRSKS1FgiKlGKQYS0YVc1BaiqhyDFLNqVLOIOYklogxhJSTVDLmFEIMQuocdUwpBi2VGELGGKTYckuhcw4AAABBAICAkAAAAwQFMwDA4ADhcxB0AgRHGwCAIERmiETDQnB4UAkQEVMBQGKCQi4AVFhcpF1cQJcBLujirgMhBCEIQSwOoIAEHJxwwxNveMINTtApKnUgAAAAAAAMAPAAAJBcABER0cxhZGhscHR4fICEiIyQCAAAAAAAFwB8AAAkJUBERDRzGBkaGxwdHh8gISIjJAEAgAACAAAAACCAAAQEBAAAAAAAAgAAAAQET2dnUwAAQAAAAAAAAAAjaKehAgAAAEhTii0BRjLV6A+997733vvfe+997733vvfG+8fePvH3j7x94+8fePvH3j7x94+8fePvH3j7x94+8fePvH3gAAAAAAAAAAXm5PqUgABPZ2dTAABLAAAAAAAAACNop6EDAAAAIOuvQAsAAAAAAAAAAAAAAE9nZ1MAAEADAAAAAAAAI2inoQQAAAB/G0m4ATg/8A+997733vvfe+997733vvfK+8B94D7wAB94AAAAD8Kl94D7wH3gAD7wAAAAH4VABem0+pSAAE9nZ1MAAEsDAAAAAAAAI2inoQUAAABc3zKaCwAAAAAAAAAAAAAAT2dnUwAEQAYAAAAAAAAjaKehBgAAAOytEQUBOD/wD733vvfe+997733vvfe+98r7wH3gPvAAH3gAAAAPwqX3gPvAfeAAPvAAAAAfhUAF6bT6lIAAT2dnUwAAQL4AAAAAAACWSy/CAgAAAHsqKaIxAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAKDg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg5PZ2dTAAQAxAAAAAAAAJZLL8IDAAAABLWpWwIBAQ4O",MP4:"data:video/mp4;base64, AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw",WEBM:"data:video/webm;base64, GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK"},MIME_TYPES:{image:["image/gif","image/jpeg","image/pjpeg","image/png","image/svg+xml","image/tiff","image/vnd.microsoft.icon","image/vnd.wap.wbmp","image/webp"],audio:["audio/basic","audio/L24","audio/mp4","audio/aac","audio/mpeg","audio/ogg","audio/ogg; codecs=opus","audio/vorbis","audio/x-ms-wma","audio/x-ms-wax","audio/vnd.rn-realaudio","audio/vnd.wave","audio/webm","audio/x-wav"],video:["video/mpeg","video/mp4","video/ogg","video/quicktime","video/webm","video/x-ms-wmv","video/x-flv","video/3gpp","video/3gpp2"],document:["text/cmd","text/css","text/csv","text/html","text/javascript (Obsolete)","text/plain","text/php","text/xml","text/markdown","text/cache-manifestapplication/json","application/xml","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.graphics","application/msword"],pdf:["application/pdf"],table:["application/vnd.oasis.opendocument.spreadsheet","application/vnd.ms-excel"],archive:["application/zip","application/gzip","application/x-rar-compressed","application/x-tar","application/x-7z-compressed"],presentation:["application/vnd.ms-powerpoint","application/vnd.oasis.opendocument.presentation"]},languages:{en:"English","":"Montenegrin (Latin)","ar-SA":"\u0627\u0644\u0639\u0631\u0628\u064A\u0629","az-AZ":"Az\u0259rbaycanca","be-BY":"\u0411\u0435\u043B\u0430\u0440\u0443\u0441\u043A\u0430\u044F","bg-BG":"\u0411\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438","bs-BA":"Bosanski","ca-ES":"Catal\xE0","cs-CZ":"\u010Ce\u0161tina","cy-GB":"Cymraeg","da-DK":"Dansk","de-DE":"Deutsch","el-GR":"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",es419:"Spanish Latin America","es-ES":"Espa\xF1ol","et-EE":"Eesti","fa-IR":"\u0641\u0627\u0631\u0633\u06CC","fi-FI":"Suomi","fil-PH":"Pilipino","fr-FR":"Fran\xE7ais","ga-IE":"Gaeilge",he:"\u05E2\u05D1\u05E8\u05D9\u05EA","hi-IN":"\u0939\u093F\u0928\u094D\u0926\u0940","hr-HR":"Hrvatski","hu-HU":"Magyar","hy-AM":"\u0540\u0561\u0575\u0565\u0580\u0565\u0576","in-ID":"Bahasa Indonesia","is-IS":"\xCDslenska","it-IT":"Italiano","ja-JP":"\u65E5\u672C\u8A9E","ka-GE":"\u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8","kmr-TR":"Kurmanc\xEE (Kurd\xEE)","ko-KR":"\uD55C\uAD6D\uC5B4","ku-TR":"Kurd\xEE","ky-KG":"\u041A\u044B\u0440\u0433\u044B\u0437\u0447\u0430","la-LA":"Latina","lb-LU":"Luxembourgish","lt-LT":"Lietuvi\u0173","mk-MK":"\u041C\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438","mn-MN":"\u041C\u043E\u043D\u0433\u043E\u043B","mr-IN":"\u092E\u0930\u093E\u0920\u0940","ms-MY":"Bahasa Melayu","nb-NO":"Norsk (bokm\xE5l)","ne-NP":"Nep\u0101l\u012B","nl-NL":"Nederlands","no-NO":"Norsk (nynorsk)","oc-FR":"Occitan","pa-IN":"\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40 (\u0A17\u0A41\u0A30\u0A2E\u0A41\u0A16\u0A40)","pl-PL":"Polski","pt-BR":"Portugu\xEAs, brasileiro","pt-PT":"Portugu\xEAs","qya-AA":"quenya","ro-RO":"Rom\xE2n\u0103","ru-RU":"\u0420\u0443\u0441\u0441\u043A\u0438\u0439","sco-GB":"Scots","si-LK":"\u0DC3\u0DD2\u0D82\u0DC4\u0DBD","sk-SK":"Sloven\u010Dina","sl-SI":"Sloven\u0161\u010Dina","sq-AL":"Shqip","sr-Cyrl-ME":"Montenegrin (Cyrillic)","sr-SP":"\u0421\u0440\u043F\u0441\u043A\u0438 / Srpski","sv-SE":"Svenska","sw-KE":"Kiswahili","ta-IN":"\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD","te-IN":"\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41","tg-TJ":"\u0422\u043E\u04B7\u0438\u043A\u04E3","tk-TM":"T\xFCrkmen\xE7e","tlh-AA":"Klingon","tr-TR":"T\xFCrk\xE7e","uk-UA":"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430","uz-UZ":"O\u02BBzbekcha / \u040E\u0437\u0431\u0435\u043A\u0447\u0430","vi-VN":"Ti\u1EBFng Vi\u1EC7t","yo-NG":"Yor\xF9b\xE1","zh-CN":"\u7B80\u4F53\u4E2D\u6587","zh-TW":"\u4E2D\u570B\u50B3\u7D71\u7684","zu-ZA":"isiZulu"},languages_another_locales:{es419:"es-latin","in-ID":"id"},PERSONAL_AREA_URL:{},XABBER_ACCOUNT_URL:"https://www.xabber.com/account",API_SERVICE_URL:"https://api.xabber.com/api/v2",USE_SOCIAL_AUTH:!0,REGISTER_XMPP_ACCOUNT:!0,REGISTER_XMPP_ACCOUNT_URL:"https://www.xabber.com/account/auth/signup/",CHECK_VERSION:!0,DEFAULT_LOGIN_SCREEN:"xmpp",GCM_SENDER_ID:"868637702480",GCM_API_KEY:"AIzaSyC1JCBB3LLf_4DG_vRWMEEe0I4X5msEU-M",MESSAGE_ARCHIVE_DB_NAME:"MessageArchive",STANZA_MAX_SIZE:Math.pow(2,16),BLUR_VALUE:25,VIGNETTING_VALUE:128,TRANSPARENCY_VALUE:50,MAIN_COLOR:"red",CLIENT_NAME:"Xabber for Web",SHORT_CLIENT_NAME:"Xabber",CLIENT_LOGO:"images/xabber-logo-96.png",TOOLBAR_LOGO:"images/xabber-logo.png",ENABLE_XABBER_ACCOUNT:!0,SCREEN_ABOUT:!0,CLIENT_URL:"https://www.xabber.com",DEVELOPER_URL:"https://redsolution.com",CLIENT_GITHUB_URL:"https://github.com/redsolution/xabber-web",PROJECT_CROWDIN_URL:"https://crowdin.com/project/xabber",CLIENT_LICENSE_GITHUB_URL:"https://github.com/redsolution/xabber-web/blob/master/LICENSE"};constants.JINGLE_MSG_STATE={},constants.JINGLE_MSG_STATE[constants.JINGLE_MSG_REJECT]="reject",constants.JINGLE_MSG_STATE[constants.JINGLE_MSG_PROPOSE]="propose",constants.JINGLE_MSG_STATE[constants.JINGLE_MSG_ACCEPT]="accept",constants.MSG_STATE={},constants.MSG_STATE[constants.MSG_ERROR]="error",constants.MSG_STATE[constants.MSG_PENDING]="pending",constants.MSG_STATE[constants.MSG_SENT]="sent",constants.MSG_STATE[constants.MSG_DELIVERED]="delivered",constants.MSG_STATE[constants.MSG_DISPLAYED]="displayed",constants.MSG_STATE[constants.MSG_ARCHIVED]="archived",constants.MSG_STATE[constants.MSG_BLOCKED]="not-allowed",constants.MSG_STATE[constants.MSG_SAVED]="saved",constants.MSG_VERBOSE_STATE={},constants.MSG_VERBOSE_STATE[constants.MSG_ERROR]="message__delivering_state__error",constants.MSG_VERBOSE_STATE[constants.MSG_PENDING]="message__delivering_state__pending",constants.MSG_VERBOSE_STATE[constants.MSG_SENT]="message__delivering_state__sent",constants.MSG_VERBOSE_STATE[constants.MSG_DELIVERED]="message__delivering_state__delivered",constants.MSG_VERBOSE_STATE[constants.MSG_DISPLAYED]="message__delivering_state__displayed",constants.MSG_VERBOSE_STATE[constants.MSG_ARCHIVED]="message__delivering_state__archived",constants.MSG_VERBOSE_STATE[constants.MSG_BLOCKED]="message__delivering_state__error",constants.MSG_VERBOSE_STATE[constants.MSG_SAVED]="message__delivering_state__saved","function"==typeof define&&define("xabber-constants",[],function(){return constants});define("text",["module"],function(e){'use strict';function t(e,t){return void 0===e||""===e?t:e}function a(e,a,n,i){if(a===i)return!0;if(e===n){if("http"===e)return t(a,"80")===t(i,"80");if("https"===e)return t(a,"443")===t(i,"443")}return!1}var n=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i="undefined"!=typeof location&&location.href,s=i&&location.protocol&&location.protocol.replace(/\:/,""),o=i&&location.hostname,d=i&&(location.port||void 0),r={},c=e.config&&e.config()||{},l,p,u,m,g;return l={version:"2.0.16",strip:function(e){if(e){e=e.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var t=e.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:c.createXhr||function(){var e,t,a;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){a=n[t];try{e=new ActiveXObject(a)}catch(t){}if(e){n=[a];break}}return e},parseName:function(e){var t=!1,a=e.lastIndexOf("."),n=0===e.indexOf("./")||0===e.indexOf("../"),i,s,o;return-1!==a&&(!n||1<a)?(i=e.substring(0,a),s=e.substring(a+1)):i=e,o=s||i,a=o.indexOf("!"),-1!==a&&(t="strip"===o.substring(a+1),o=o.substring(0,a),s?s=o:i=o),{moduleName:i,ext:s,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,i){var s=l.xdRegExp.exec(e),o,d,r;return!s||(o=s[2],d=s[3],d=d.split(":"),r=d[1],d=d[0],(!o||o===t)&&(!d||d.toLowerCase()===n.toLowerCase())&&(!r&&!d||a(o,r,t,i)))},finishLoad:function(e,t,a,n){a=t?l.strip(a):a,c.isBuild&&(r[e]=a),n(a)},load:function(e,t,a,n){if(n&&n.isBuild&&!n.inlineText)return void a();c.isBuild=n&&n.isBuild;var r=l.parseName(e),p=r.moduleName+(r.ext?"."+r.ext:""),u=t.toUrl(p),m=c.useXhr||l.useXhr;return 0===u.indexOf("empty:")?void a():void(!i||m(u,s,o,d)?l.get(u,function(t){l.finishLoad(e,r.strip,t,a)},function(e){a.error&&a.error(e)}):t([p],function(e){l.finishLoad(r.moduleName+"."+r.ext,r.strip,e,a)},function(e){a.error&&a.error(e)}))},write:function(e,t,a){if(r.hasOwnProperty(t)){var n=l.jsEscape(r[t]);a.asModule(e+"!"+t,"define(function () { return '"+n+"';});\n")}},writeFile:function(e,t,a,n,i){var s=l.parseName(t),o=s.ext?"."+s.ext:"",d=s.moduleName+o,r=a.toUrl(s.moduleName+o)+".js";l.load(d,a,function(){var t=function(e){return n(r,e)};t.asModule=function(e,t){return n.asModule(e,r,t)},l.write(e,d,t,i)},i)}},"node"!==c.env&&(c.env||"undefined"==typeof process||!process.versions||!process.versions.node||process.versions["node-webkit"]||process.versions["atom-shell"])?"xhr"===c.env||!c.env&&l.createXhr()?l.get=function(e,t,a,n){var i=l.createXhr(),s;if(i.open("GET",e,!0),n)for(s in n)n.hasOwnProperty(s)&&i.setRequestHeader(s.toLowerCase(),n[s]);c.onXhr&&c.onXhr(i,e),i.onreadystatechange=function(){var n,s;4===i.readyState&&(n=i.status||0,399<n&&600>n?(s=new Error(e+" HTTP status: "+n),s.xhr=i,a&&a(s)):t(i.responseText),c.onXhrComplete&&c.onXhrComplete(i,e))},i.send(null)}:"rhino"!==c.env&&(c.env||"undefined"==typeof Packages||"undefined"==typeof java)?("xpconnect"===c.env||!c.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(u=Components.classes,m=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),g="@mozilla.org/windows-registry-key;1"in u,l.get=function(e,t){var a={},n,i,s;g&&(e=e.replace(/\//g,"\\")),s=new FileUtils.File(e);try{n=u["@mozilla.org/network/file-input-stream;1"].createInstance(m.nsIFileInputStream),n.init(s,1,0,!1),i=u["@mozilla.org/intl/converter-input-stream;1"].createInstance(m.nsIConverterInputStream),i.init(n,"utf-8",n.available(),m.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),i.readString(n.available(),a),i.close(),n.close(),t(a.value)}catch(t){throw new Error((s&&s.path||"")+": "+t)}}):l.get=function(e,t){var a=new java.io.File(e),n=java.lang.System.getProperty("line.separator"),i=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(a),"utf-8")),s="",o,d;try{for(o=new java.lang.StringBuffer,d=i.readLine(),d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1)),null!==d&&o.append(d);null!==(d=i.readLine());)o.append(n),o.append(d);s=o.toString()+""}finally{i.close()}t(s)}:(p=require.nodeRequire("fs"),l.get=function(e,t,a){try{var n=p.readFileSync(e,"utf8");"\uFEFF"===n[0]&&(n=n.substring(1)),t(n)}catch(t){a&&a(t)}}),l}),define("text!templates/base/dialog.html",[],function(){return"<div class=\"modal dialog-modal\">\n    <div class=\"modal-header\">\n        <div class=\"panel-header black-text\">{{header}}</div>\n    </div>\n    <div class=\"modal-content\">\n        <div class=\"dialog-text\">{{text}}</div>\n        <div class=\"dialog-options-wrap\">\n        {[ for (var idx in dialog_options) { var option = dialog_options[idx]; ]}\n            <div class=\"dialog-option\" data-name=\"{{option.name}}\">\n                <input type=\"checkbox\" class=\"filled-in\" id=\"dialog_option_{{option.name}}\" {[ if (option.checked) { ]}checked=\"checked\"{[ } ]}/>\n                <label for=\"dialog_option_{{option.name}}\">{{option.text}}</label>\n            </div>\n        {[ } ]}\n        </div>\n        <div class=\"container-for-img hidden\"><img class=\"img-from-clipboard\"></div>\n    </div>\n    <div class=\"modal-footer {{flag}}\">\n        {[ for (var idx in optional_buttons) { var button = optional_buttons[idx]; ]}\n        <button class=\"optional-button btn-flat btn-main btn-dark\" data-option=\"{{button.value}}\">{{button.name}}</button>\n        {[ } ]}\n        {[ if (ok_button) { ]}\n        <button class=\"ok-button btn-flat btn-main\" data-option=true>{{ok_button.text}}</button>\n        {[ } ]}\n        {[ if (cancel_button) { ]}\n        <button class=\"cancel-button btn-flat btn-main btn-dark btn-cancel\" data-option=false>{{cancel_button.text}}</button>\n        {[ } ]}\n    </div>\n</div>\n"}),define("text!templates/base/fingerprints.html",[],function(){return"<div class=\"modal-header fingerprints-header\">\n    <div class=\"header\"></div>\n    <div class=\"additional-info\"></div>\n</div>\n<div class=\"fingerprints-content\">\n</div>\n<div class=\"fingerprints-bottom\">\n    <div class=\"this-device-wrap\">\n        <div class=\"this-device-header-wrap\">\n            <div class=\"divider\"></div>\n            <div class=\"this-device-header\">{[print(xabber.getString(\"omemo__dialog_fingerprints__text_this_device\"))]}</div>\n        </div>\n        <div class=\"this-device-content\">\n        </div>\n    </div>\n    <div class=\"fingerprints-description-wrap\">\n        <div class=\"fingerprints-description\">{[print(xabber.getString(\"omemo__dialog_fingerprints__text_description\"))]}</div>\n        <div class=\"link-about-encryption\"><a href=\"{[print(xabber.getString('omemo__dialog_fingerprints__link_learn_more'))]}\" target=\"_blank\">{[print(xabber.getString(\"omemo__dialog_fingerprints__text_learn_more\"))]}</a></div>\n    </div>\n</div>"}),define("text!templates/base/fingerprint_item.html",[],function(){return"<div class=\"row\">\n    <div title=\"{[print(xabber.getString('omemo__dialog_fingerprints__textfield_device_id_tooltip', [id, (label ? label : 'none')]))]}\" class=\"device-wrap\">\n        {[if (edit_setting) {]}\n        <input class=\"hidden set-label one-line\" {[if (label) {]}value=\"{{label}}\"{[}]}>{[}]}\n        {[if (label) {]}<div class=\"one-line label\">{{label}}</div>{[}]}\n        <div class=\"device-id one-line\">{{id}}</div>\n        {[if (!label) {]}<div class=\"device-id-label\">{[print(xabber.getString(\"omemo__dialog_fingerprints__label_device_id\"))]}</div>{[}]}\n        {[if (edit_setting) {]}<div class=\"set-label-label hidden\">{[print(xabber.getString(\"omemo__dialog_fingerprints__label_set_label\"))]}</div>{[}]}\n    </div>\n    <div class=\"fingerprint-wrap\">\n    <div title=\"Device fingerprint\" class=\"fingerprint\">{{fingerprint}}</div>\n    {[if (old_fingerprint){]}<div title=\"Old device fingerprint\" class=\"old-fingerprint\">{{old_fingerprint}}</div>{[}]}\n    </div>\n    <div data-trust=\"{{trust}}\" class=\"buttons\">\n        {[if (trust !== null) {]}\n        <div class=\"dropdown-button\" data-activates=\"select-status-{{id}}\">\n            <div class=\"trust-item-wrap btn-main btn-flat\">\n                <div data-value=\"{{trust}}\">{[print(xabber.getString(`omemo__dialog_fingerprints__button_${trust}`))]}</div>\n            </div>\n        </div>\n        <div id=\"select-status-{{id}}\" class=\"dropdown-content noselect\">\n            <div data-value=\"ignore\" class=\"btn-main text-color-grey-500 btn-ignore btn-flat\">{[print(xabber.getString(\"omemo__dialog_fingerprints__button_ignore\"))]}</div>\n            <div data-value=\"trust\" class=\"btn-main btn-flat btn-trust text-color-green-500\">{[print(xabber.getString(\"omemo__dialog_fingerprints__button_trust\"))]}</div>\n            {[if (delete_button){]}\n            <div class=\"btn-main btn-flat btn-delete text-color-red-500\">{[print(xabber.getString(\"omemo__dialog_fingerprints__button_delete\"))]}</div>\n            {[}]}\n        </div>\n        {[}]}\n    </div>\n</div>"}),define("text!templates/base/jingle_message_calling.html",[],function(){return"<i class=\"mdi mdi-phone btn-collapse\"></i>\n<div class=\"call-header\">\n    {[print(xabber.getString(\"dialog_jingle_message__header\", [SHORT_CLIENT_NAME]))]}\n    <div class=\"calling-status\"/>\n</div>\n<div class=\"blur-background\"></div>\n<div class=\"contact-info\">\n    <div class=\"name one-line\"/>\n    <div class=\"calling-status\"/>\n</div>\n<div class=\"video-wrap\">\n    <video autoplay loop class=\"blank-video hidden\">\n        <source src=\"{{BLANK_VIDEO.MP4}}\">\n        <source src=\"{{BLANK_VIDEO.OGG}}\" type=\"video/ogg\">\n        <source src=\"{{BLANK_VIDEO.WEBM}}\" type=\"video/webm\">\n    </video>\n    <audio autoplay class=\"webrtc-remote-audio hidden\"/>\n    <video autoplay muted class=\"webrtc-local-video collapsed hidden\"/>\n    <div class=\"default-screen\">\n        <div class=\"circle-avatar\"/>\n        <div class=\"name one-line\"/>\n    </div>\n</div>\n<div class=\"buttons-panel\">\n    <div class=\"buttons-wrap\">\n        <div class=\"btn-wrap\" title=\"Collapse window\"><svg class=\"btn-collapse mdi-24px\" viewBox=\"0 0 24 24\">\n            <path d=\"M19.5,3.09L15,7.59V4H13V11H20V9H16.41L20.91,4.5L19.5,3.09M4,13V15H7.59L3.09,19.5L4.5,20.91L9,16.41V20H11V13H4Z\"/>\n        </svg></div>\n        <div class=\"btn-wrap\" title=\"Fullscreen mode\"><svg class=\"btn-full-screen mdi-24px\" viewBox=\"0 0 24 24\">\n            <path d=\"M11,21H3V13H5V17.59L17.59,5H13V3H21V11H19V6.41L6.41,19H11V21Z\" />\n        </svg></div>\n        <i title='{[print(xabber.getString(\"dialog_jingle_message__button_mute_microphone__tooltip\"))]}' class=\"btn-microphone mdi mdi-24px mdi-microphone\"/>\n        <i title='{[print(xabber.getString(\"dialog_jingle_message__button_switch_video__tooltip\"))]}' class=\"btn-video mdi mdi-24px mdi-video\"/>\n        <i title='{[print(xabber.getString(\"dialog_jingle_message__button_mute__tooltip\"))]}' class=\"btn-volume mdi mdi-24px mdi-volume-high\"/>\n        <i title='{[print(xabber.getString(\"dialog_jingle_message__button_share_screen__tooltip\"))]}' class=\"btn-share-screen mdi mdi-24px mdi-monitor\"/>\n        <i title='{[print(xabber.getString(\"dialog_jingle_message__button_accept_call__tooltip\"))]}' class=\"btn-accept mdi mdi-24px mdi-phone\"/>\n        <i title='{[print(xabber.getString(\"dialog_jingle_message__button_decline_call__tooltip\"))]}' class=\"btn-cancel mdi mdi-24px mdi-phone-hangup\"/>\n    </div>\n</div>"}),define("text!templates/base/input_widget.html",[],function(){return"<div class=\"input-widget-wrap {{field_name}}-wrap\">\n    <div class=\"{{field_name}} field-text one-line\"></div>\n    <div class=\"btn-rename\">\n        <span>{[print(xabber.getString(\"input_widget__button_rename\"))]}</span>\n    </div>\n    <div class=\"{{field_name}}-input-wrap\">\n        <input class=\"{{field_name}}-input field-input hidden\" type=\"{{field_type}}\" placeholder=\"{{placeholder}}\">\n    </div>\n</div>\n"}),define("text!templates/base/toolbar.html",[],function(){return"<div class=\"toolbar-item all-chats active\" title='{[print(xabber.getString(\"toolbar__menu_item__all_chats\"))]}'>\n    <div class=\"border\"></div>\n    <img class=\"logo\" src=\"{{TOOLBAR_LOGO}}\">\n    <span class=\"all-msg-indicator\"></span>\n</div>\n\n<div class=\"toolbar-item chats\" title='{[print(xabber.getString(\"toolbar__menu_item__chats\"))]}'>\n    <div class=\"border\"></div>\n    <i class=\"toolbar-icon mdi mdi-24px mdi-message-text\"></i>\n    <span class=\"msg-indicator\"></span>\n</div>\n\n<div class=\"toolbar-item group-chats\" title='{[print(xabber.getString(\"toolbar__menu_item__groups\"))]}'>\n    <div class=\"border\"></div>\n    <svg class=\"toolbar-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"message-group\"></svg>\n    <span class=\"group-msg-indicator\"></span>\n</div>\n\n<div class=\"toolbar-item mentions\" title='{[print(xabber.getString(\"toolbar__menu_item__mentions\"))]}'>\n    <div class=\"border\"></div>\n    <svg class=\"toolbar-icon mdi mdi-24px mdi-svg-template\" viewBox=\"0 0 24 24\" data-svgname=\"ic-at\"></svg>\n    <span class=\"mentions-indicator\"></span>\n</div>\n\n<div class=\"toolbar-item archive-chats\" title='{[print(xabber.getString(\"toolbar__menu_item__archive_chats\"))]}'>\n    <div class=\"border\"></div>\n    <i class=\"toolbar-icon mdi mdi-24px mdi-archive\"></i>\n    <span class=\"archive-msg-indicator hidden\"></span>\n</div>\n\n<div class=\"toolbar-item contacts\" title='{[print(xabber.getString(\"category_title_contacts\"))]}'>\n    <div class=\"border\"></div>\n    <i class=\"toolbar-icon mdi mdi-24px mdi-account-multiple\"></i>\n</div>\n\n<div class=\"toolbar-item search\" title='{[print(xabber.getString(\"search\"))]}'>\n    <div class=\"border\"></div>\n    <svg class=\"toolbar-icon mdi mdi-24px mdi-svg-template\" viewBox=\"0 0 24 24\" data-svgname=\"ic-searching\"></svg>\n</div>\n\n<div class=\"add-something-wrap\">\n    <div class=\"toolbar-item dropdown-button add-something\" data-activates=\"{{view.cid}}-add\" title='{[print(xabber.getString(\"toolbar__button_add_tooltip\"))]}'>\n        <i class=\"toolbar-icon mdi mdi-24px mdi-plus\"></i>\n    </div>\n\n    <div id=\"{{view.cid}}-add\" class=\"add-variants dropdown-content noselect\">\n        <div class=\"add-variant contact\">\n            <i class=\"mdi mdi-20px mdi-account-plus\"></i>\n            <span class=\"text one-line\">{[print(xabber.getString(\"add_contact\"))]}</span>\n        </div>\n        <div class=\"add-variant public-groupchat\">\n            <i class=\"mdi mdi-20px mdi-account-multiple-plus\"></i>\n            <span class=\"text one-line\">{[print(xabber.getString(\"create_group\"))]}</span>\n        </div>\n        <div class=\"add-variant incognito-groupchat\">\n            <svg class=\"mdi mdi-20px\" viewBox=\"0 0 24 24\">\n                <path d=\"M13 11A3 3 0 1 0 10 8A3 3 0 0 0 13 11M13 7A1 1 0 1 1 12 8A1 1 0 0 1 13 7M17.11 10.86A5 5 0 0 0 17.11 5.14A2.91 2.91 0 0 1 18 5A3 3 0 0 1 18 11A2.91 2.91 0 0 1 17.11 10.86M13 13C7 13 7 17 7 17V19H19V17S19 13 13 13M9 17C9 16.71 9.32 15 13 15C16.5 15 16.94 16.56 17 17M24 17V19H21V17A5.6 5.6 0 0 0 19.2 13.06C24 13.55 24 17 24 17M8 12H5V15H3V12H0V10H3V7H5V10H8Z\" />\n            </svg>\n            <span class=\"text one-line\">{[print(xabber.getString(\"create_incognito_group\"))]}</span>\n        </div>\n        <div class=\"add-variant account\">\n            <i class=\"mdi mdi-20px mdi-account-circle\"></i>\n            <span class=\"text one-line\">{[print(xabber.getString(\"dialog_add__label_add_account\"))]}</span>\n        </div>\n    </div>\n</div>\n\n<div class=\"divider noselect\"></div>\n\n<div class=\"accounts-wrap\">\n    <div class=\"accounts\">\n    </div>\n</div>\n\n<div class=\"toolbar-bottom\">\n    {[if (SCREEN_ABOUT) {]}\n    <div class=\"toolbar-item about\" title='{[print(xabber.getString(\"about\"))]}'>\n        <div class=\"border\"></div>\n        <i class=\"toolbar-icon mdi mdi-24px mdi-information\"></i>\n    </div>\n    {[}]}\n    <div class=\"toolbar-item settings\" title='{[print(xabber.getString(\"settings\"))]}'>\n        <div class=\"border\"></div>\n        <i class=\"toolbar-icon mdi mdi-24px mdi-settings\"></i>\n    </div>\n</div>\n"}),define("text!templates/base/settings.html",[],function(){return"    <div class=\"left-column noselect\">\n        <div class=\"main-info-wrap xabber-info-wrap\">\n            <div class=\"picture-wrap\">\n                <img class=\"logo\" src=\"{{CLIENT_LOGO}}\"/>\n            </div>\n            <div class=\"name\">{{CLIENT_NAME}}</div>\n            <div class=\"version\"></div>\n        </div>\n        <div class=\"settings-tabs-wrap\">\n            {[if (ENABLE_XABBER_ACCOUNT) {]}\n            <div class=\"settings-tab xabber-account-tab offline\" data-block-name=\"xabber-account\">\n                <svg class=\"mdi mdi-24px mdi-svg-template xabber-offline-icon\" data-svgname=\"xabber-offline\"></svg>\n                <svg class=\"mdi mdi-24px mdi-svg-template xabber-online-icon\" data-svgname=\"xabber-online\"></svg>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"settings__menu_item__xabber_account\"))]}</div>\n            </div>\n            {[}]}\n            <div class=\"settings-tab\" data-block-name=\"xmpp-accounts\">\n                <i class=\"mdi mdi-24px mdi-settings\"/>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"settings__menu_item__xmpp_account\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"keyboard\">\n                <i class=\"mdi mdi-24px mdi-keyboard\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"settings__menu_item__keyboard\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"contact-list\">\n                <i class=\"mdi mdi-24px mdi-account-multiple\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"category_contact_list\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"notifications\">\n                <i class=\"mdi mdi-24px mdi-bell\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"settings__menu_item__notifications\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"sounds\">\n                <i class=\"mdi mdi-24px mdi-volume-high\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"settings__menu_item__sounds\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"background\">\n                <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"palette\"></svg>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"settings__menu_item__appearance\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"interface_language\">\n                <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"translate\"></svg>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"settings__menu_item__interface_language\"))]}</div>\n            </div>\n            {[if (PERSONAL_AREA_URL && Object.keys(PERSONAL_AREA_URL).length) {]}\n            <a href=\"{{PERSONAL_AREA_URL.url}}\" target=\"_blank\"><div class=\"link-button settings-tab\" data-block-name=\"{{PERSONAL_AREA_URL.label}}\">\n                <i class=\"mdi mdi-24px mdi-{{PERSONAL_AREA_URL.icon_name}}\"></i>\n                <div class=\"settings-block-name one-line\">{{PERSONAL_AREA_URL.label}}</div>\n            </div>\n            </a>\n            {[}]}\n        </div>\n        <div class=\"settings-tabs-bottom-wrap\">\n            <div class=\"settings-tab delete-all-accounts\">\n                <i class=\"mdi mdi-24px mdi-logout-variant\"></i>\n                <div class=\"settings-block-name\">{[print(xabber.getString(\"button_quit\"))]}</div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"right-column noselect\">\n        <div class=\"settings-panel-head\">\n            <span>{[print(xabber.getString(\"preference_editor\"))]}</span>\n        </div>\n\n        <div class=\"panel-content-wrap\">\n            <div class=\"panel-content\">\n                {[if (ENABLE_XABBER_ACCOUNT) {]}\n                <div class=\"settings-block-wrap xabber-account\">\n                    <div class=\"block-header\">\n                        <span class=\"block-name\">{[print(xabber.getString(\"settings__menu_item__xabber_account\"))]}</span>\n                    </div>\n                </div>\n                {[}]}\n                <div class=\"settings-block-wrap xmpp-accounts\">\n                    <div class=\"block-header\">\n                        <span class=\"block-name\">{[print(xabber.getString(\"settings__menu_item__xmpp_account\"))]}</span>\n                    </div>\n                    <div class=\"setting xmpp-account-list\">\n                        <div class=\"accounts-head-wrap\">\n                            <div class=\"accounts-head xmppid-head\">{[print(xabber.getString(\"settings__section_xmpp_accounts__table_header_xmpp_id\"))]}</div>\n                            <div class=\"accounts-head sync-head\">{[print(xabber.getString(\"settings__section_xmpp_accounts__table_header_sync\"))]}</div>\n                            <div class=\"accounts-head enabled-head\">{[print(xabber.getString(\"settings__section_xmpp_accounts__table_header_enabled\"))]}</div>\n                        </div>\n                        <span class=\"no-accounts-tip\">{[print(xabber.getString(\"settings__section_xmpp_accounts__text_no_accounts\"))]}</span>\n                        <div class=\"move-account-to-bottom droppable\"></div>\n                    </div>\n                </div>\n\n                <div class=\"settings-block-wrap keyboard\">\n                    <div class=\"block-header\">\n                        <span class=\"block-name\">{[print(xabber.getString(\"settings__menu_item__keyboard\"))]}</span>\n                    </div>\n\n                    <div class=\"setting hotkeys radio-button field-wrap\">\n                        <div class=\"field radio-field clickable-field\">\n                            <form action=\"#\">\n                                <p>\n                                    <input class=\"with-gap\" name=\"hotkeys\" value=\"enter\" type=\"radio\" id=\"{{view.cid}}-enter\" />\n                                    <label for=\"{{view.cid}}-enter\">{[print(xabber.getString(\"settings__section_keyboard__label_send_on_enter\"))]}</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"hotkeys\" value=\"ctrlenter\" type=\"radio\" id=\"{{view.cid}}-ctrlenter\" />\n                                    <label for=\"{{view.cid}}-ctrlenter\">{[print(xabber.getString(\"settings__section_keyboard__label_send_on_ctrlenter\"))]}</label>\n                                </p>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"settings-block-wrap contact-list\">\n                    <div class=\"block-header\">\n                        <span class=\"block-name\">{[print(xabber.getString(\"category_contact_list\"))]}</span>\n                    </div>\n                </div>\n\n                <div class=\"settings-block-wrap notifications\">\n                    <div class=\"block-header\">\n                        <span class=\"block-name\">{[print(xabber.getString(\"settings__menu_item__notifications\"))]}</span>\n                    </div>\n\n                    <div class=\"setting notifications field-wrap\">\n                        <div class=\"field clickable-field switch small\">\n                            <span class=\"field-name\">{[print(xabber.getString(\"settings__section_notifications__toggle_desktop_notifications\"))]}</span>\n                            <label class=\"field-value\">\n                                <input type=\"checkbox\" name=\"notifications\">\n                                <span class=\"lever\"></span>\n                            </label>\n                        </div>\n                    </div>\n                    <div class=\"setting message-preview field-wrap\">\n                        <div class=\"field clickable-field switch small\">\n                            <span class=\"field-name\">{[print(xabber.getString(\"settings__section_notifications__toggle_message_preview\"))]}</span>\n                            <label class=\"field-value\">\n                                <input type=\"checkbox\" name=\"message-preview\">\n                                <span class=\"lever\"></span>\n                            </label>\n                        </div>\n                    </div>\n                    <div class=\"setting call-attention field-wrap\">\n                        <div class=\"field clickable-field switch small\">\n                            <span class=\"field-name\">{[print(xabber.getString(\"settings__section_notifications__toggle_call_attention\"))]}</span>\n                            <label class=\"field-value\">\n                                <input type=\"checkbox\" name=\"call-attention\">\n                                <span class=\"lever\"></span>\n                            </label>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"settings-block-wrap sounds\">\n                    <div class=\"block-header\">\n                        <span class=\"block-name\">{[print(xabber.getString(\"settings__menu_item__sounds\"))]}</span>\n                    </div>\n                    <div class=\"setting sound radio-button field-wrap\">\n                        <div class=\"field radio-field clickable-field\">\n                            <form action=\"#\">\n                                <p>\n                                    <input class=\"with-gap\" name=\"sound\" value=\"\" type=\"radio\" id=\"{{view.cid}}-sound-no\" />\n                                    <label for=\"{{view.cid}}-sound-no\">No sound</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"sound\" value=\"beep_up\" type=\"radio\" id=\"{{view.cid}}-sound-beep-up\" />\n                                    <label for=\"{{view.cid}}-sound-beep-up\">Beep Up</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"sound\" value=\"tiny_noize\" type=\"radio\" id=\"{{view.cid}}-sound-tiny-noize\" />\n                                    <label for=\"{{view.cid}}-sound-tiny-noize\">Tiny Noize</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"sound\" value=\"retro_game\" type=\"radio\" id=\"{{view.cid}}-sound-retro-game\" />\n                                    <label for=\"{{view.cid}}-sound-retro-game\">Retro Game</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"sound\" value=\"pixel_beep\" type=\"radio\" id=\"{{view.cid}}-sound-pixel-beep\" />\n                                    <label for=\"{{view.cid}}-sound-pixel-beep\">Pixel Beep</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"sound\" value=\"beep_positive\" type=\"radio\" id=\"{{view.cid}}-sound-beep-positive\" />\n                                    <label for=\"{{view.cid}}-sound-beep-positive\">Beep Positive</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"sound\" value=\"good_chime\" type=\"radio\" id=\"{{view.cid}}-sound-good-chime\" />\n                                    <label for=\"{{view.cid}}-sound-good-chime\">Good Chime</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"sound\" value=\"cellular_click\" type=\"radio\" id=\"{{view.cid}}-sound-cellular-click\" />\n                                    <label for=\"{{view.cid}}-sound-cellular-click\">Cellular Click</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"sound\" value=\"bleep\" type=\"radio\" id=\"{{view.cid}}-sound-bleep\" />\n                                    <label for=\"{{view.cid}}-sound-bleep\">Bleep</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"sound\" value=\"mono_u\" type=\"radio\" id=\"{{view.cid}}-sound-mono-u\" />\n                                    <label for=\"{{view.cid}}-sound-mono-u\">Mono U</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"sound\" value=\"plop\" type=\"radio\" id=\"{{view.cid}}-sound-plop\" />\n                                    <label for=\"{{view.cid}}-sound-plop\">Plop</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"sound\" value=\"ether\" type=\"radio\" id=\"{{view.cid}}-sound-ether\" />\n                                    <label for=\"{{view.cid}}-sound-ether\">Ether</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"sound\" value=\"pop\" type=\"radio\" id=\"{{view.cid}}-sound-pop\" />\n                                    <label for=\"{{view.cid}}-sound-pop\">Pop</label>\n                                </p>\n                                <p>\n                                    <input class=\"with-gap\" name=\"sound\" value=\"computer_chime\" type=\"radio\" id=\"{{view.cid}}-sound-computer-chime\" />\n                                    <label for=\"{{view.cid}}-sound-computer-chime\">Computer Chime</label>\n                                </p>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"settings-block-wrap background\">\n                    <div class=\"block-header\">\n                        <span class=\"block-name\">{[print(xabber.getString(\"settings__menu_item__appearance\"))]}</span>\n                    </div>\n\n                    <div class=\"background-setting-wrap\">\n                        <div class=\"setting-name\">{[print(xabber.getString(\"settings__section_appearance__header_background\"))]}</div>\n                        <div class=\"setting background radio-button field-wrap\">\n                            <div class=\"field radio-field clickable-field\">\n                                <form action=\"#\">\n                                    <p>\n                                        <input class=\"with-gap\" name=\"background\" value=\"default\" type=\"radio\" id=\"{{view.cid}}-default-background\" />\n                                        <label for=\"{{view.cid}}-default-background\">{[print(xabber.getString(\"settings__section_appearance__background__label_default\"))]}</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"background\" value=\"repeating-pattern\" type=\"radio\" id=\"{{view.cid}}-repeating-pattern-background\" />\n                                        <label for=\"{{view.cid}}-repeating-pattern-background\">{[print(xabber.getString(\"settings__section_appearance__background__label_pattern\"))]}</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"background\" value=\"image\" type=\"radio\" id=\"{{view.cid}}-image-background\" />\n                                        <label for=\"{{view.cid}}-image-background\">{[print(xabber.getString(\"settings__section_appearance__background__label_image\"))]}</label>\n                                    </p>\n                                </form>\n                            </div>\n                            <div class=\"current-background-wrap\">\n                                <div class=\"dark-placeholder\">{[print(xabber.getString(\"settings__section_appearance__background__button_update\"))]}</div>\n                                <div class=\"current-background\"></div>\n                            </div>\n                        </div>\n                        <div class=\"vignetting-setting-wrap\">\n                            <div class=\"setting vignetting-setting field-wrap\">\n                                <div class=\"input-field checkbox-field\">\n                                    <input type=\"checkbox\" class=\"filled-in\" id=\"vignetting_switch\"/>\n                                    <label for=\"vignetting_switch\">{[print(xabber.getString(\"settings__section_appearance__background__checkbox_vignette\"))]}</label>\n                                </div>\n                                <form action=\"#\">\n                                    <div class=\"disabled hidden\"></div>\n                                    <p class=\"range-field\">\n                                        <input type=\"range\" id=\"vignetting\" min=\"0\" max=\"200\" />\n                                    </p>\n                                </form>\n                            </div>\n                        </div>\n                        <div class=\"blur-setting-wrap\">\n                            <div class=\"setting blur-setting field-wrap\">\n                                <div class=\"input-field checkbox-field\">\n                                    <input type=\"checkbox\" class=\"filled-in\" id=\"blur_switch\"/>\n                                    <label for=\"blur_switch\">{[print(xabber.getString(\"settings__section_appearance__background__checkbox_blur\"))]}</label>\n                                </div>\n                                <form action=\"#\">\n                                    <div class=\"disabled hidden\"></div>\n                                    <p class=\"range-field\">\n                                        <input type=\"range\" id=\"blur\" min=\"0\" max=\"100\" />\n                                    </p>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"toolbar-color-setting-wrap\">\n                        <div class=\"setting-name\">{[print(xabber.getString(\"settings__section_appearance__header_toolbar_icons_color\"))]}</div>\n                        <div class=\"setting toolbar-color-setting field-wrap\">\n                            <div class=\"selected-color-wrap\">\n                                <div class=\"selected-color-item\"></div>\n                                <div class=\"selected-color-info\">\n                                    <div class=\"selected-color-name\"></div>\n                                    <div class=\"selected-color-hex\"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"toolbar-main-color-setting-wrap\">\n                        <div class=\"setting-name\">{[print(xabber.getString(\"settings__section_appearance__header_main_color\"))]}</div>\n                       <div class=\"setting toolbar-main-color-setting field-wrap\">\n                           <div class=\"current-main-color-wrap\">\n                               <div class=\"current-main-color ground-color-500\"></div>\n                               <div class=\"color-name\"></div>\n                           </div>\n                       </div>\n                    </div>\n                    <div class=\"side-panel-setting-wrap\">\n                        <div class=\"setting-name\">{[print(xabber.getString(\"settings__section_appearance__header_side_panel\"))]}</div>\n                        <div class=\"setting side-panel-setting field-wrap\">\n                            <div class=\"field radio-field clickable-field\">\n                                <form action=\"#\">\n                                    <p>\n                                        <input class=\"with-gap\" name=\"side-panel\" value=\"dark\" type=\"radio\" id=\"{{view.cid}}-dark-side-panel\" />\n                                        <label for=\"{{view.cid}}-dark-side-panel\">{[print(xabber.getString(\"settings__section_appearance__side_panel__label_dark\"))]}</label>\n                                    </p>\n                                    <p>\n                                        <input class=\"with-gap\" name=\"side-panel\" value=\"light\" type=\"radio\" id=\"{{view.cid}}-light-side-panel\" />\n                                        <label for=\"{{view.cid}}-light-side-panel\">{[print(xabber.getString(\"settings__section_appearance__side_panel__label_light\"))]}</label>\n                                    </p>\n                                </form>\n                            </div>\n                            <div class=\"input-field checkbox-field\">\n                                <input type=\"checkbox\" class=\"filled-in\" id=\"side_panel_blur_switch\"/>\n                                <label for=\"side_panel_blur_switch\">{[print(xabber.getString(\"settings__section_appearance__background__checkbox_blur\"))]}</label>\n                            </div>\n                            <div class=\"transparency-setting\">\n                                <div class=\"input-field checkbox-field\">\n                                    <input type=\"checkbox\" class=\"filled-in\" id=\"transparency_switch\"/>\n                                    <label for=\"transparency_switch\">{[print(xabber.getString(\"settings__section_appearance__side_panel__checkbox_transparency\"))]}</label>\n                                </div>\n                                <form action=\"#\">\n                                    <div class=\"disabled hidden\"></div>\n                                    <p class=\"range-field\">\n                                        <input type=\"range\" id=\"transparency\" min=\"0\" max=\"100\" />\n                                    </p>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"settings-block-wrap interface_language\">\n                    <div class=\"block-header\">\n                        <span class=\"block-name\">{[print(xabber.getString(\"settings__menu_item__interface_language\"))]}</span>\n                    </div>\n                    <div class=\"setting interface-language-setting\">\n                        <div class=\"languages-list field radio-field clickable-field\">\n                            <form action=\"#\">\n                                <div class=\"language-item\">\n                                    <input class=\"with-gap\" name=\"language\" value=\"default\" type=\"radio\" id=\"{{view.cid}}-default\" />\n                                    <label for=\"{{view.cid}}-default\">{[print(xabber.getString(\"settings__languages_list___item_default\", [languages[xabber.get(\"default_language\") || 'en']]))]}</label>\n                                </div>\n                                {[if (window.navigator.language.indexOf(xabber.get(\"default_language\")) < 0) {]}\n                                {[}]}\n                                {[for (let lang in constants.languages) { if (!lang || lang == xabber.get(\"default_language\")) continue;]}\n                                <div class=\"language-item\">\n                                    <input class=\"with-gap\" name=\"language\" value=\"{{lang}}\" type=\"radio\" id=\"{{view.cid}}-{{lang}}\" />\n                                    <label for=\"{{view.cid}}-{{lang}}\">{[print(constants.languages[lang]);]}</label>\n                                    {[let locale = Object.keys(client_translation_progress).find(key => !lang.indexOf(key)) || constants.languages_another_locales[lang] && Object.keys(client_translation_progress).find(key => !constants.languages_another_locales[lang].indexOf(key));]}\n                                    {[if (locale) { let progress = client_translation_progress[locale];]}<div class=\"translation-progress\">{[print((progress == 100) ? xabber.getString(\"settings__section_interface_language__translation_progress_fully\") : xabber.getString(\"settings__section_interface_language__translation_progress\", [`${progress}%`]))]}</div>{[}]}\n                                </div>\n                                {[}]}\n                            </form>\n                        </div>\n                        <div class=\"description\"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n"}),define("text!templates/base/about.html",[],function(){return"<div class=\"left-column noselect\">\n    <div class=\"main-info-wrap xabber-info-wrap\">\n        <div class=\"picture-wrap\">\n            <img class=\"logo\" src=\"{{CLIENT_LOGO}}\"/>\n        </div>\n        <div class=\"name\">{{CLIENT_NAME}}</div>\n        <div class=\"version\"></div>\n    </div>\n</div>\n</div>\n\n<div class=\"right-column noselect\">\n    <div class=\"settings-panel-head\">\n        <span>{[print(xabber.getString(\"category_about\"))]}</span>\n    </div>\n\n    <div class=\"panel-content-wrap\">\n        <div class=\"panel-content\">\n            <div class=\"settings-block-wrap about\">\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__preamble_1\", [constants.SHORT_CLIENT_NAME, constants.SHORT_CLIENT_NAME]))]}</div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__preamble_2\", [`<a href=\"${CLIENT_URL}\" target=\"_blank\">${CLIENT_URL}</a>`]))]}</div>\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"web_client__screen_about__block_1__header\"))]}</span>\n                </div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_1__text\"))]}</div>\n\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"web_client__screen_about__block_2__header\"))]}</span>\n                </div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_2__text\", [constants.SHORT_CLIENT_NAME]))]}</div>\n\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"web_client__screen_about__block_3__header\"))]}</span>\n                </div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_3__text_1\", [constants.CLIENT_NAME, `<a href=\"${DEVELOPER_URL}\" target=\"_blank\">${xabber.getString(\"client_developer_company_name\")}</a>`, constants.SHORT_CLIENT_NAME]))]}</div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_3__text_2\", [constants.SHORT_CLIENT_NAME]))]}</div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_3__text_3\"))]}</div>\n                <div class=\"block-content flex-content\">\n                    <img class=\"logo\" src=\"images/redsolution-logo.png\"/>\n                    <a href=\"https://twitter.com/Xabber_XMPP\" target=\"_blank\"><div class=\"btn-social twitter-color\">\n                        <i class=\"mdi mdi-28px mdi-twitter\"></i>\n                    </div></a>\n                    <a href=\"${CLIENT_GITHUB_URL}\" target=\"_blank\"><img class=\"btn-social github-logo\" src=\"images/ic_github.png\"/></a>\n                </div>\n\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"web_client__screen_about__block_4__header\"))]}</span>\n                </div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_4__text_1\", [constants.SHORT_CLIENT_NAME]))]}</div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_4__text_2\", [`<a href=\"${PROJECT_CROWDIN_URL}\" target=\"_blank\">${xabber.getString(\"web_client__screen_about__block_4__text_2__link__text\", [constants.SHORT_CLIENT_NAME])}</a>`]))]}</div>\n\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"web_client__screen_about__block_5__header\"))]}</span>\n                </div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_5__text_1\", [constants.CLIENT_NAME, `<a href=\"${CLIENT_GITHUB_URL}\" target=\"_blank\">${xabber.getString(\"web_client__screen_about__block_5__text_1__link__text\")}</a>`]))]}</div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_5__text_2\"))]}</div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_5__text_3\", [constants.SHORT_CLIENT_NAME, xabber.getString(\"client_developer_company_name\"), `<a href=\"${DEVELOPER_URL}\" target=\"_blank\">${xabber.getString(\"client_developer_company_full_name\")}</a>`]))]}</div>\n                <div class=\"block-content\">{[print(xabber.getString(\"web_client__screen_about__block_5__text_4\", [constants.CLIENT_NAME, `<a href=\"${CLIENT_LICENSE_GITHUB_URL}\" target=\"_blank\">${xabber.getString(\"web_client__screen_about__block_5__text_4__link__text\")}</a>`]))]}</div>\n            </div>\n        </div>\n    </div>\n</div>"}),define("text!templates/base/omemo_enable.html",[],function(){return"<div class=\"msg-text ground-color-300\">\n    <span title=\"{[print(xabber.getString('omemo__alert_enable__tooltip'))]}\" class=\"btn-enable\">{[print(xabber.getString(\"omemo__alert_enable__link_text\"))]}</span> {[print(xabber.getString(\"omemo__alert_enable__text\", [jid]))]}</div>\n<i class=\"mdi mdi-22px mdi-close btn-escape\"></i>\n<button class=\"btn-enable btn-flat hover-ground-color-500 btn-dark btn-main\">{[print(xabber.getString(\"omemo__alert_enable__link_text\"))]}</button>"}),define("text!templates/base/backgrounds_gallery.html",[],function(){return"<div class=\"modal-header\">\n    <span></span>\n    <div class=\"menu-wrap\">\n        <div data-screen-name=\"library\" class=\"menu-btn btn-library\">{[print(xabber.getString(\"settings__dialog_background__menu_item_library\"))]}</div>\n        <div data-screen-name=\"upload\" class=\"menu-btn btn-upload\">{[print(xabber.getString(\"settings__dialog_background__menu_item_upload\"))]}</div>\n        <div data-screen-name=\"web-address\" class=\"menu-btn btn-web-address\">{[print(xabber.getString(\"settings__dialog_background__menu_item_url\"))]}</div>\n    </div>\n</div>\n<div class=\"modal-content\">\n    <div data-screen=\"library\" class=\"screen-wrap library-wrap\"></div>\n    <div data-screen=\"upload\" class=\"hidden screen-wrap\">\n        <div class=\"upload-wrap\">\n            <div class=\"upload-text\">{[print(xabber.getString(\"settings__dialog_background__section_upload__text\"))]}</div>\n            <div class=\"upload-button\">\n                <button type=\"file\">{[print(xabber.getString(\"settings__dialog_background__section_upload__button_upload\"))]}</button>\n                <input type=\"file\">\n            </div></div>\n    </div>\n    <div data-screen=\"web-address\" class=\"hidden screen-wrap web-address-wrap\">\n        <div class=\"web-address\">\n            <div class=\"label\">{[print(xabber.getString(\"settings__dialog_background__section_url__label\"))]}</div>\n            <input class=\"url\"/>\n        </div>\n        <div class=\"image-preview\">\n            <img class=\"hidden\">\n            <p>{[print(xabber.getString(\"settings__dialog_background__section_url__placeholder_preview\"))]}</p>\n        </div>\n    </div>\n</div>\n<div class=\"modal-footer\">\n    <button class=\"btn-flat btn-main text-color-700 non-active btn-add\">{[print(xabber.getString(\"set\"))]}</button>\n    <button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button>\n</div>"}),define("text!templates/base/color_picker.html",[],function(){return"<div class=\"modal-header\">{[print(xabber.getString(\"settings__section_appearance__header_toolbar_icons_color\"))]}</div>\n<div class=\"material-color-picker-wrap\">\n    <div class=\"material-color-picker\">\n        {[materialColors.forEach(function (color) {]}\n        <div data-color-name=\"{{color.color}}\" class=\"color-palette-wrapper\">\n            {[var default_color = color.variations.find(v => v.weight == 500);]}\n            <div data-weight=\"500\" data-hex=\"{{default_color.hex}}\" style=\"background-color: {{default_color.hex}}\" class=\"color-palette-item\">\n            </div>\n            {[color.variations.forEach(function (variation) {]}\n            <div data-weight=\"{{variation.weight}}\" data-hex=\"{{variation.hex}}\" style=\"background-color: {{variation.hex}}\" class=\"color-palette-item\">\n            </div>\n            {[})]}\n        </div>\n        {[})]}\n    </div>\n</div>\n<div class=\"modal-footer\">\n    <div class=\"hidden selected-color-wrap\">\n        <div class=\"selected-color-item\"></div>\n        <div class=\"selected-color-info\">\n            <div class=\"selected-color-name\"></div>\n            <div class=\"selected-color-hex\"></div>\n            <input class=\"selected-color-hex-input hidden\"/>\n        </div>\n        <button class=\"btn-flat btn-main btn-dark btn-set\">{[print(xabber.getString(\"set\"))]}</button>\n    </div>\n</div>"}),define("text!templates/base/color_scheme.html",[],function(){return"<ul class=\"color-values noselect\">\n    <li class=\"color-value\" data-value=\"red\">\n        <div class=\"color-name text-color-red-700\">{[print(xabber.getString(\"account_color_name_red\"))]}</div>\n        <div class=\"color-pattern ground-color-red-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"pink\">\n        <div class=\"color-name text-color-pink-700\">{[print(xabber.getString(\"account_color_name_pink\"))]}</div>\n        <div class=\"color-pattern ground-color-pink-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"purple\">\n        <div class=\"color-name text-color-purple-700\">{[print(xabber.getString(\"account_color_name_purple\"))]}</div>\n        <div class=\"color-pattern ground-color-purple-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"deep-purple\">\n        <div class=\"color-name text-color-deep-purple-700\">{[print(xabber.getString(\"account_color_name_deep_purple\").replace(/-/g, \" \"))]}</div>\n        <div class=\"color-pattern ground-color-deep-purple-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"indigo\">\n        <div class=\"color-name text-color-indigo-700\">{[print(xabber.getString(\"account_color_name_indigo\"))]}</div>\n        <div class=\"color-pattern ground-color-indigo-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"blue\">\n        <div class=\"color-name text-color-blue-700\">{[print(xabber.getString(\"account_color_name_blue\"))]}</div>\n        <div class=\"color-pattern ground-color-blue-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"light-blue\">\n        <div class=\"color-name text-color-light-blue-700\">{[print(xabber.getString(\"account_color_name_light_blue\").replace(/-/g, \" \"))]}</div>\n        <div class=\"color-pattern ground-color-light-blue-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"cyan\">\n        <div class=\"color-name text-color-cyan-700\">{[print(xabber.getString(\"account_color_name_cyan\"))]}</div>\n        <div class=\"color-pattern ground-color-cyan-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"teal\">\n        <div class=\"color-name text-color-teal-700\">{[print(xabber.getString(\"account_color_name_teal\"))]}</div>\n        <div class=\"color-pattern ground-color-teal-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"green\">\n        <div class=\"color-name text-color-green-700\">{[print(xabber.getString(\"account_color_name_green\"))]}</div>\n        <div class=\"color-pattern ground-color-green-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"light-green\">\n        <div class=\"color-name text-color-light-green-700\">{[print(xabber.getString(\"account_color_name_light_green\").replace(/-/g, \" \"))]}</div>\n        <div class=\"color-pattern ground-color-light-green-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"lime\">\n        <div class=\"color-name text-color-lime-700\">{[print(xabber.getString(\"account_color_name_lime\"))]}</div>\n        <div class=\"color-pattern ground-color-lime-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"amber\">\n        <div class=\"color-name text-color-amber-700\">{[print(xabber.getString(\"account_color_name_amber\"))]}</div>\n        <div class=\"color-pattern ground-color-amber-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"orange\">\n        <div class=\"color-name text-color-orange-700\">{[print(xabber.getString(\"account_color_name_orange\"))]}</div>\n        <div class=\"color-pattern ground-color-orange-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"deep-orange\">\n        <div class=\"color-name text-color-deep-orange-700\">{[print(xabber.getString(\"account_color_name_deep_orange\").replace(/-/g, \" \"))]}</div>\n        <div class=\"color-pattern ground-color-deep-orange-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"brown\">\n        <div class=\"color-name text-color-brown-700\">{[print(xabber.getString(\"account_color_name_brown\"))]}</div>\n        <div class=\"color-pattern ground-color-brown-700\"></div>\n    </li>\n    <li class=\"color-value\" data-value=\"blue-grey\">\n        <div class=\"color-name text-color-blue-grey-700\">{[print(xabber.getString(\"account_color_name_blue_grey\").replace(/-/g, \" \"))]}</div>\n        <div class=\"color-pattern ground-color-blue-grey-700\"></div>\n    </li>\n</ul>"}),define("text!templates/api_service/xabber_login.html",[],function(){return"<div class=\"login-panel\">\n    <div class=\"login-panel-head noselect\">\n        <img src=\"{{CLIENT_LOGO}}\" class=\"client-logo\">\n        <span class=\"client-name\">{{SHORT_CLIENT_NAME}}</span>\n    </div>\n    <div class=\"login-panel-form xmpp-login-form noselect\">\n        <div class=\"btn-escape\">\n            <i class=\"mdi mdi-24px mdi-close\"></i>\n        </div>\n        <div class=\"login-form-header\">{[print(xabber.getString(\"dialog_add_xabber_account__header\"))]}</div>\n        <div class=\"input-field email-name\">\n            <input id=\"username\" type=\"text\" name=\"username\">\n            <label for=\"username\">{[print(xabber.getString(\"email_hint\"))]}</label>\n            <span class=\"errors fixed one-line\"></span>\n        </div>\n        <div class=\"input-field\">\n            <input id=\"password\" type=\"password\" name=\"password\">\n            <label for=\"password\">{[print(xabber.getString(\"hint_pass\"))]}</label>\n            <span class=\"errors fixed one-line\"></span>\n        </div>\n        <div class=\"input-field buttons-wrap\">\n            <a href=\"{{XABBER_ACCOUNT_URL}}/auth/forgot-password/\" target=\"_blank\" class=\"btn-flat btn-main btn-forgot-password\">{[print(xabber.getString(\"forgot_pass\"))]}</a>\n            <button class=\"btn btn-flat btn-main-filled btn-log-in\">{[print(xabber.getString(\"xabber_account__social_links__button_log_in\"))]}</button>\n        </div>\n        <div class=\"social-auth-wrap\"><div class=\"social-header\">\n            <div class=\"divider\"></div>\n            <div class=\"social-header-tip\">{[print(xabber.getString(\"xabber_login__new_account\"))]}</div>\n        </div></div>\n        <div class=\"registration-footer\">\n            <div class=\"registration-tip-wrap\">\n                <span class=\"registration-tip\">{[print(xabber.getString(\"xabber_account__login__text_no_xmpp_acc\"))]}</span>\n                <a href=\"{{XABBER_ACCOUNT_URL}}/auth/signup/?source=Xabber Web\" target=\"_blank\" class=\"btn-flat btn-main btn-registration\">{[print(xabber.getString(\"dialog_add_xabber_account__button_registration\"))]}</a>\n            </div>\n        </div>\n        <div class=\"clearfix\"></div>\n    </div>\n</div>\n"}),define("text!templates/api_service/xabber_login_by_email.html",[],function(){return"<div class=\"login-panel-form xmpp-login-form noselect\">\n    <div class=\"login-form-header\">{[print(xabber.getString(\"title_login_email\"))]}</div>\n    <div class=\"input-field email-name\">\n        <input id=\"username\" type=\"text\" name=\"username\">\n        <label for=\"username\">{[print(xabber.getString(\"email_hint\"))]}</label>\n        <span class=\"errors fixed one-line\"></span>\n    </div>\n    <div class=\"input-field\">\n        <input id=\"password\" type=\"password\" name=\"password\">\n        <label for=\"password\">{[print(xabber.getString(\"hint_pass\"))]}</label>\n        <span class=\"errors fixed one-line\"></span>\n    </div>\n    <div class=\"login-panel-footer buttons-wrap\"><button class=\"btn btn-flat btn-main-filled btn-log-in\">{[print(xabber.getString(\"xabber_account__social_links__button_log_in\"))]}</button><button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button></div>\n</div>"}),define("text!templates/api_service/xabber_account.html",[],function(){return"<div class=\"xabber-account-content-wrap\">\n    <div class=\"account-info-wrap\">\n        <div class=\"circle-avatar noselect\"></div>\n        <div class=\"text-info-wrap\">\n            <div class=\"name-wrap\">\n                <div class=\"name text-color-red-700 one-line\"></div>\n            </div>\n            <div class=\"last-sync-info\"></div>\n        </div>\n    </div>\n    <div class=\"sync-wrap\">\n        <div class=\"btn-sync\">\n            <div class=\"preloader-wrapper preloader-20px active\">\n                <div class=\"spinner-layer\">\n                    <div class=\"circle-clipper left\">\n                        <div class=\"circle\"></div>\n                    </div>\n                    <div class=\"gap-patch\">\n                        <div class=\"circle\"></div>\n                    </div>\n                    <div class=\"circle-clipper right\">\n                        <div class=\"circle\"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"buttons-wrap\">\n        <button class=\"btn-flat btn-main btn-login\">{[print(xabber.getString(\"xabber_account__social_links__button_log_in\"))]}</button>\n        <div class=\"chat-tool btn-more dropdown-button\" data-activates=\"account-action-more\">\n            <i class=\"mdi mdi-20px mdi-dots-vertical\"></i>\n        </div>\n        <ul id=\"account-action-more\" class=\"xabber-account-menu dropdown-content noselect\">\n            <li class=\"btn-sync btn-sync-settings\">\n                <span class=\"one-line\">{[print(xabber.getString(\"xabber_account__dialog_sync__button_sync\"))]}</span>\n            </li>\n            <li class=\"btn-set-password\">\n                <span class=\"one-line\">{[print(xabber.getString(\"button_set_pass\"))]}</span>\n            </li>\n            <li class=\"btn-logout\">\n                <span class=\"one-line\">{[print(xabber.getString(\"button_quit\"))]}</span>\n            </li>\n        </ul>\n    </div>\n</div>\n<div class=\"xabber-account-tip\">{[print(xabber.getString(\"tutorial_description_6\"))]}</div>\n<div class=\"linked-social-accounts-and-emails\">\n    <div class=\"social-linked-header\"><div class=\"chevron-icon\"><i class=\"arrow mdi mdi-20px\"></i></div><div class=\"social-linked-header-text\">{[print(xabber.getString(\"title_linked_accounts\"))]}</div></div>\n    <div class=\"social-linked-wrap\">\n        <div id='google' class=\"not-linked social-account social-linked-item-wrap google-linked\"><div class=\"google-color social-icon\"><i class=\"mdi mdi-24px mdi-google-plus\"></i></div><div class=\"synced-info\">{[print(xabber.getString(\"title_not_linked_account\"))]}</div><div class=\"btn-main btn-flat btn-link\">{[print(xabber.getString(\"action_connect\"))]}</div></div>\n        <div id='facebook' class=\"not-linked social-account social-linked-item-wrap facebook-linked\"><div class=\"facebook-color social-icon\"><i class=\"mdi mdi-24px mdi-facebook\"></i></div><div class=\"synced-info\">{[print(xabber.getString(\"title_not_linked_account\"))]}</div><div class=\"btn-main btn-flat btn-link\">{[print(xabber.getString(\"action_connect\"))]}</div></div>\n        <div id='twitter' class=\"not-linked social-account social-linked-item-wrap twitter-linked\"><div class=\"twitter-color social-icon\"><i class=\"mdi mdi-24px mdi-twitter\"></i></div><div class=\"synced-info\">{[print(xabber.getString(\"title_not_linked_account\"))]}</div><div class=\"btn-main btn-flat btn-link\">{[print(xabber.getString(\"action_connect\"))]}</div></div>\n        <div id='email' class=\"not-linked social-linked-item-wrap\"><div class=\"email-color social-icon\"><svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\">\n            <path fill=\"#FFF\" d=\"M3,4C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H14.09C14.03,19.67 14,19.34 14,19A6,6 0 0,1 20,13C20.34,13 20.67,13.03 21,13.09V6C21,4.89 20.1,4 19,4H3M3,6L11,11L19,6V8L11,13L3,8V6M19,15V18H16V20H19V23H21V20H24V18H21V15H19Z\" />\n        </svg></div><div class=\"synced-info\">{[print(xabber.getString(\"title_add_email\"))]}</div><div class=\"btn-main btn-flat btn-link\">{[print(xabber.getString(\"action_connect\"))]}</div></div>\n    </div>\n    <span class=\"errors\"></span>\n</div>"}),define("text!templates/api_service/linked_email_item.html",[],function(){return"<div data-id=\"{{email_id}}\" data-email=\"{{email}}\" class=\"{[if (!verified){]}not-linked {[}]}social-linked-item-wrap email-linked\"><div style=\"background-color:{{color}}\" class=\"social-icon\">{[if (verified){]}<svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\">\n    <path fill=\"#FFF\" d=\"M21,13.34C20.37,13.12 19.7,13 19,13A6,6 0 0,0 13,19C13,19.34 13.03,19.67 13.08,20H3A2,2 0 0,1 1,18V6C1,4.89 1.89,4 3,4H19A2,2 0 0,1 21,6V13.34M23.5,17L18.5,22L15,18.5L16.5,17L18.5,19L22,15.5L23.5,17M3,6V8L11,13L19,8V6L11,11L3,6Z\" />\n</svg>{[} else {]}<i class=\"mdi mdi-24px mdi-email\"></i>{[}]}</div><div class=\"synced-info\"><div class=\"name one-line\">{{email}}</div><div class=\"verified-status one-line\">{[if (verified){print(xabber.getString(\"title_verified_email\"));}else{print(xabber.getString(\"title_unverified_email\"));}]}</div></div>{[if (!verified){]}<div class=\"btn-main btn-flat btn-verify-email\">{[print(xabber.getString(\"button_confirm\"))]}</div>{[}]}<div class=\"btn-main btn-flat btn-link btn-unlink\">{[print(xabber.getString(\"action_disconnect\"))]}</div></div>"}),define("text!templates/api_service/add_xabber_account.html",[],function(){return"<div class=\"modal main-modal add-xabber-account-modal\">\n    <div class=\"modal-content-wrap\">\n        <div class=\"modal-header\">\n            <span>{[print(xabber.getString(\"dialog_add_xabber_account__header\"))]}</span>\n        </div>\n        <div class=\"modal-content\">\n            <div class=\"row account-field\">\n                <div class=\"multiple-acc\">\n                    <div class=\"account-dropdown-wrap\">\n                        <div class=\"dropdown-button\" data-activates=\"select-account-for-add-contact\">\n                            <div class=\"account-item-wrap\">\n                            </div>\n                            <div class=\"caret\">\n                                <i class=\"mdi mdi-20px mdi-menu-down\"></i>\n                            </div>\n                        </div>\n                        <div id=\"select-account-for-add-contact\" class=\"dropdown-content noselect\">\n                        </div>\n                    </div>\n                </div>\n                <div class=\"single-acc\">\n                    <div class=\"dropdown-button\">\n                        <div class=\"account-item-wrap\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n            {[if (constants.USE_SOCIAL_AUTH){]}\n            <div class=\"row social-auth-wrap\">\n                <div class=\"social-header\">\n                    <div class=\"divider\"></div>\n                    <div class=\"social-header-tip\">{[print(xabber.getString(\"social_sign_in\"))]}</div>\n                </div>\n                <div class=\"social-buttons\">\n                    <div class=\"btn-social google-color\" data-provider=\"google\">\n                        <i class=\"mdi mdi-28px mdi-google-plus\"></i>\n                    </div>\n                    <div class=\"btn-social facebook-color\" data-provider=\"facebook\">\n                        <i class=\"mdi mdi-28px mdi-facebook\"></i>\n                    </div>\n                    <div class=\"btn-social twitter-color\" data-provider=\"twitter\">\n                        <i class=\"mdi mdi-28px mdi-twitter\"></i>\n                    </div>\n                    <div class=\"btn-social xabber-color\" data-provider=\"email\">\n                        <i class=\"mdi mdi-28px mdi-at\"></i>\n                    </div>\n                </div>\n            </div>\n            {[}]}\n        </div>\n        <div class=\"modal-footer\">\n            <button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button>\n        </div>\n    </div>\n</div>\n<div class=\"login-panel-footer\">\n    <div class=\"registration-footer\">\n        <div class=\"registration-tip-wrap\">\n            <span class=\"registration-tip\">{[print(xabber.getString(\"dialog_add_xabber_account__text_no_account\"))]}</span>\n            <a href=\"{{XABBER_ACCOUNT_URL}}/auth/signup/\" target=\"_blank\" class=\"btn-flat btn-main btn-registration\">{[print(xabber.getString(\"dialog_add_xabber_account__button_registration\"))]}</a>\n        </div>\n    </div>\n    <div class=\"footer-text clearfix\">{[print(xabber.getString(\"tutorial_description_6\"))]}</div>\n</div>\n"}),define("text!templates/api_service/sync_settings.html",[],function(){return"<div class=\"modal-content-wrap settings-panel\">\n    <div class=\"modal-header\">\n        <span>{[print(xabber.getString(\"xabber_account__dialog_sync__header\"))]}</span>\n    </div>\n    <div class=\"modal-content\">\n        <div class=\"row\">\n            <div class=\"setting sync-all-wrap field-wrap\">\n                <div class=\"field clickable-field switch normal\">\n                    <span class=\"field-name\">{[print(xabber.getString(\"sync_all\"))]}</span>\n                    <label class=\"field-value\">\n                       <input type=\"checkbox\" class=\"sync-all\">\n                       <span class=\"lever\"></span>\n                    </label>\n                </div>\n            </div>\n            <div class=\"accounts-wrap\">\n            </div>\n        </div>\n    </div>\n    <div class=\"modal-footer\">\n        <button class=\"btn-flat btn-main btn-sync\">{[print(xabber.getString(\"xabber_account__dialog_sync__button_sync\"))]}</button>\n        <button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button>\n    </div>\n</div>\n"}),define("text!templates/api_service/sync_settings_account_item.html",[],function(){return"<div class=\"account-wrap\" data-jid=\"{{jid}}\">\n    <div class=\"account-info-wrap\">\n        <i class=\"sync-icon mdi mdi-24px\" data-mdiclass=\"\"></i>\n        <div class=\"text-info-wrap\">\n            <div class=\"name text-color-grey-900 one-line\">{{jid}}</div>\n            <div class=\"sync-tip text-color-grey-500 one-line\"></div>\n        </div>\n    </div>\n    <div class=\"input-field checkbox-field sync-one-wrap no-padding\">\n        <input type=\"checkbox\" class=\"filled-in sync-one\" id=\"{{view.cid}}_sync_{{jid}}\"/>\n        <label for=\"{{view.cid}}_sync_{{jid}}\"></label>\n    </div>\n</div>\n"}),define("text!templates/accounts/xmpp_login.html",[],function(){return"    <div class=\"login-panel-head noselect\">\n        <img src=\"{{CLIENT_LOGO}}\" class=\"client-logo\">\n        <span class=\"client-name\">{{SHORT_CLIENT_NAME}}</span>\n    </div>\n    <div class=\"login-panel-form xmpp-login-form noselect\">\n        <div class=\"input-field\">\n            <input id=\"jid\" type=\"text\" name=\"jid\">\n            <label for=\"jid\">{[print(xabber.getString(\"hint_xmpp_id\"))]}</label>\n            <span class=\"errors fixed one-line\"></span>\n        </div>\n        <div class=\"input-field\">\n            <input id=\"password\" type=\"password\" name=\"password\">\n            <label for=\"password\">{[print(xabber.getString(\"hint_pass\"))]}</label>\n            <span class=\"errors fixed one-line\"></span>\n        </div>\n        <div class=\"input-field buttons-wrap\">\n            {[if (constants.REGISTER_XMPP_ACCOUNT){]}<a href=\"{{constants.REGISTER_XMPP_ACCOUNT_URL}}\" target=\"_blank\" class=\"btn-flat btn-main btn-forgot-password one-line\">{[constants.REGISTER_XMPP_ACCOUNT_TEXT || print(xabber.getString(\"xmpp_login__button_register_account\"))]}</a>{[}]}\n            <button class=\"btn btn-flat btn-main-filled btn-log-in\">{[print(xabber.getString(\"xabber_account__social_links__button_log_in\"))]}</button>\n        </div>\n        <div class=\"clearfix\"></div>\n        {[if (constants.USE_SOCIAL_AUTH){]}\n        <div class=\"social-auth-wrap\">\n            <div class=\"social-header\">\n                <div class=\"divider\"></div>\n                <div class=\"social-header-tip one-line\">{[print(xabber.getString(\"tutorial_title_8\"))]}</div>\n            </div>\n            <div class=\"social-buttons\">\n                <div class=\"btn-social google-color\" data-provider=\"google\">\n                    <i class=\"mdi mdi-28px mdi-google-plus\"></i>\n                </div>\n                <div class=\"btn-social facebook-color\" data-provider=\"facebook\">\n                    <i class=\"mdi mdi-28px mdi-facebook\"></i>\n                </div>\n                <div class=\"btn-social twitter-color\" data-provider=\"twitter\">\n                    <i class=\"mdi mdi-28px mdi-twitter\"></i>\n                </div>\n                <div class=\"btn-social xabber-color\" data-provider=\"email\">\n                    <i class=\"mdi mdi-28px mdi-at\"></i>\n                </div>\n            </div>\n        </div>\n        {[}]}\n    </div>"}),define("text!templates/accounts/add_account.html",[],function(){return"<div class=\"modal-content-wrap\">\n    <div class=\"modal-header\">\n        <span>{[print(xabber.getString(\"account_add\"))]}</span>\n    </div>\n    <div class=\"modal-content\">\n        <div class=\"row login-form-field\">\n            <div class=\"input-field\">\n                <input id=\"jid\" type=\"text\" name=\"jid\">\n                <label for=\"jid\">{[print(xabber.getString(\"account_user_name\"))]}</label>\n                <span class=\"errors fixed\"></span>\n            </div>\n            <div class=\"input-field\">\n                <input id=\"password\" type=\"password\" name=\"password\">\n                <label for=\"password\">{[print(xabber.getString(\"account_password\"))]}</label>\n                <span class=\"errors fixed\"></span>\n            </div>\n        </div>\n        <div class=\"sync-option\">\n            <input type=\"checkbox\" class=\"filled-in\" id=\"{{view.cid}}_sync_acc\"/>\n            <label for=\"{{view.cid}}_sync_acc\">{[print(xabber.getString(\"sync_with_xabber_account\"))]}</label>\n        </div>\n    </div>\n    <div class=\"modal-footer\">\n        <button class=\"btn-flat btn-main btn-add\">{[print(xabber.getString(\"add\"))]}</button>\n        <button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button>\n    </div>\n</div>\n"}),define("text!templates/accounts/change_password.html",[],function(){return"<div class=\"modal-content-wrap\">\n    <div class=\"modal-header\">\n        <span>{[print(xabber.getString(\"settings_account__dialog_change_password__header\"))]}</span>\n    </div>\n    <div class=\"modal-content\">\n        <div class=\"row login-form-field\">\n            <div class=\"input-field\">\n                <input id=\"jid\" type=\"text\" name=\"jid\" readonly>\n                <label for=\"jid\">{[print(xabber.getString(\"account_user_name\"))]}</label>\n                <span class=\"errors fixed\"></span>\n            </div>\n            <div class=\"input-field\">\n                <input id=\"password\" type=\"password\" name=\"password\">\n                <label for=\"password\">{[print(xabber.getString(\"account_password\"))]}</label>\n                <span class=\"errors fixed\"></span>\n            </div>\n        </div>\n    </div>\n    <div class=\"modal-footer\">\n        <button class=\"btn-flat btn-main btn-change\">{[print(xabber.getString(\"set\"))]}</button>\n        <button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button>\n    </div>\n</div>\n"}),define("text!templates/accounts/toolbar_item.html",[],function(){return"<div class=\"border\"/>\n<div class=\"dropdown-button circle-avatar border-color ground-color-700 noselect\"/>\n<div class=\"status\"/>\n<i class=\"auth-failed mdi mdi-16px mdi-close\"></i>\n<div class=\"account-actions-panel\">\n    <div class=\"filter-chats\">\n        <i class=\"mdi mdi-filter mdi-20px\"></i>\n        <div class=\"text\">{[print(xabber.getString(\"account__toolbar_item__button_filter_chats\"))]}</div>\n    </div>\n</div>"}),define("text!templates/accounts/settings_left.html",[],function(){return"    <div class=\"left-column ground-color-900 noselect\">\n        <div class=\"main-info-wrap account-main-info-wrap\">\n            <!--<i title=\"Back to settings\" class=\"mdi mdi-arrow-left mdi-28px back-to-settings\"></i>-->\n            <div class=\"picture-wrap\">\n                <div class=\"avatar-wrap\">\n                    <div class=\"circle-avatar\">\n                        <img/>\n                        <input type=\"file\"/>\n                        <svg class=\"set-groupchat-avatar\" viewBox=\"0 0 24 24\">\n                            <path d=\"M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z\" />\n                        </svg>\n                        <div class=\"preloader-wrap\"><div class=\"preloader-wrapper preloader-32px visible\">\n                            <div class=\"spinner-layer\">\n                                <div class=\"circle-clipper left\">\n                                    <div class=\"circle\"></div>\n                                </div>\n                                <div class=\"gap-patch\">\n                                    <div class=\"circle\"></div>\n                                </div>\n                                <div class=\"circle-clipper right\">\n                                    <div class=\"circle\"></div>\n                                </div>\n                            </div>\n                        </div>\n                        </div>\n                    </div>\n                    <div class=\"status\"></div>\n                </div>\n            </div>\n            <div class=\"name-wrap\">\n                <div class=\"name\"></div>\n            </div>\n            <div class=\"status-wrap\"></div>\n        </div>\n        <div class=\"settings-tabs-wrap\">\n            <div class=\"settings-tab\" data-block-name=\"connection\">\n                <i class=\"mdi mdi-24px mdi-settings\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"account_connection_settings\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"tokens\">\n                <i class=\"mdi mdi-24px mdi-key\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"account_active_sessions\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"synchronization\">\n                <i class=\"mdi mdi-24px mdi-sync\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"account_sync\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"color-scheme\">\n                <i class=\"mdi mdi-24px mdi-palette\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"account_color_scheme\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"xmpp-resources\">\n                <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"ic-jabber\"></svg>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"account_xmpp_resources\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"vcard\">\n                <i class=\"mdi mdi-24px mdi-account-card-details\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"settings_account__section_header_vcard\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"omemo-info\">\n                <i class=\"mdi mdi-24px mdi-fingerprint\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"omemo__settings__menu_item\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"server-info\">\n                <i class=\"mdi mdi-24px mdi-information\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"settings_account__section_header_server_info\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"blocklist-info\">\n                <i class=\"mdi mdi-24px mdi-block-helper\"></i>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"blocked_contacts\"))]}</div>\n            </div>\n            <div class=\"settings-tab\" data-block-name=\"groups-info\">\n                <svg class=\"mdi mdi-24px mdi-svg-template\" data-svgname=\"circles\"></svg>\n                <div class=\"settings-block-name one-line\">{[print(xabber.getString(\"settings_account__section_header_circles\"))]}</div>\n            </div>\n        </div>\n        <div class=\"settings-tabs-bottom-wrap ground-color-900\">\n            <div class=\"settings-tab delete-account\">\n                <i class=\"mdi mdi-24px mdi-logout-variant\"></i>\n                <div class=\"settings-block-name\">{[print(xabber.getString(\"settings_account__button_quit_account\"))]}</div>\n            </div>\n        </div>\n    </div>\n"}),define("text!templates/accounts/settings_right.html",[],function(){return"<div class=\"right-column noselect\">\n    <div class=\"settings-panel-head\">\n        <span>{[print(xabber.getString(\"account_editor\"))]}</span>\n        <div class=\"field enabled-state switch normal\">\n            <label class=\"field-value\">\n                <input type=\"checkbox\">\n                <span class=\"lever\"></span>\n            </label>\n        </div>\n    </div>\n\n    <div class=\"panel-content-wrap\">\n        <div class=\"panel-content details-panel\">\n\n            <div class=\"settings-block-wrap connection\">\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"account_connection_settings\"))]}</span>\n                </div>\n                <div class=\"connection-wrap\">\n                    <div class=\"readonly-setting\">\n                        <i class=\"details-icon mdi mdi-24px mdi-account\"></i>\n                        <div class=\"setting-wrap account-name\">\n                            <div class=\"value one-line\"></div>\n                            <div class=\"label conn-status\"></div>\n                        </div>\n                    </div>\n                    <div class=\"buttons-wrap\">\n                        <button class=\"btn-change-password btn-flat btn-main btn-dark ground-color-100 hover-ground-color-300\">{[print(xabber.getString(\"button_set_pass\"))]}</button>\n                        <button class=\"btn-reconnect btn-flat btn-main btn-dark ground-color-100 hover-ground-color-300\">{[print(xabber.getString(\"settings_account__button_reconnect\"))]}</button>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"settings-block-wrap tokens\">\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"account_active_sessions\"))]}</span>\n                </div>\n                <div class=\"tokens-wrap\">\n                    <div class=\"current-token-wrap\">\n                        <div class=\"sessions-wrap current-session selectable-text\"></div>\n                        <div class=\"buttons-wrap\">\n                            <p class=\"btn-revoke-all-tokens hover-text-color-500 text-color-700\">{[print(xabber.getString(\"account_terminate_all_sessions\"))]}</p>\n                        </div>\n                    </div>\n                    <div class=\"all-sessions-wrap\">\n                        <div class=\"sessions-wrap all-sessions selectable-text\"></div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"settings-block-wrap synchronization\">\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"account_sync\"))]}</span>\n                </div>\n                <div class=\"synchronization-wrap\">\n                    <div class=\"readonly-setting\">\n                        <i class=\"details-icon sync-status-icon mdi mdi-24px\" data-mdiclass=\"\"></i>\n                        <div class=\"setting-wrap account-name\">\n                            <div class=\"value one-line\"></div>\n                            <div class=\"label sync-status\"></div>\n                        </div>\n                    </div>\n                    <div class=\"xabber-account-features-wrap\">\n                        <div class=\"sync-enable-wrap\">\n                            <input type=\"checkbox\" class=\"filled-in sync-account\" id=\"{{view.cid}}_sync_account\"/>\n                            <label for=\"{{view.cid}}_sync_account\">{[print(xabber.getString(\"account_sync_enable_summary\"))]}</label>\n                        </div>\n                        <div class=\"buttons-wrap\">\n                            <button class=\"btn-delete-settings btn-flat btn-main btn-dark ground-color-grey-100 hover-ground-color-grey-300\">{[print(xabber.getString(\"delete_settings_button\"))]}</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"settings-block-wrap color-scheme\">\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"account_color_scheme\"))]}</span>\n                </div>\n                <div class=\"color-scheme-wrap\">\n                    <div class=\"account-color\">\n                        <div class=\"current-color-name text-color-700\"></div>\n                        <div class=\"dropdown-button\" data-activates=\"select-color-{{view.cid}}\">\n                            <i class=\"mdi mdi-24px mdi-menu-down\"></i>\n                        </div>\n                        <ul id=\"select-color-{{view.cid}}\" class=\"color-values dropdown-content noselect\">\n                            <li class=\"color-value\" data-value=\"red\">\n                                <div class=\"color-name text-color-red-700\">{[print(xabber.getString(\"account_color_name_red\"))]}</div>\n                                <div class=\"color-pattern ground-color-red-700\"></div>\n                            </li>\n                            <li class=\"color-value\" data-value=\"pink\">\n                                <div class=\"color-name text-color-pink-700\">{[print(xabber.getString(\"account_color_name_pink\"))]}</div>\n                                <div class=\"color-pattern ground-color-pink-700\"></div>\n                            </li>\n                            <li class=\"color-value\" data-value=\"purple\">\n                                <div class=\"color-name text-color-purple-700\">{[print(xabber.getString(\"account_color_name_purple\"))]}</div>\n                                <div class=\"color-pattern ground-color-purple-700\"></div>\n                            </li>\n                            <li class=\"color-value\" data-value=\"deep-purple\">\n                                <div class=\"color-name text-color-deep-purple-700\">{[print(xabber.getString(\"account_color_name_deep_purple\").replace(/-/g, \" \"))]}</div>\n                                <div class=\"color-pattern ground-color-deep-purple-700\"></div>\n                            </li>\n                            <li class=\"color-value\" data-value=\"indigo\">\n                                <div class=\"color-name text-color-indigo-700\">{[print(xabber.getString(\"account_color_name_indigo\"))]}</div>\n                                <div class=\"color-pattern ground-color-indigo-700\"></div>\n                            </li>\n                            <li class=\"color-value\" data-value=\"blue\">\n                                <div class=\"color-name text-color-blue-700\">{[print(xabber.getString(\"account_color_name_blue\"))]}</div>\n                                <div class=\"color-pattern ground-color-blue-700\"></div>\n                            </li>\n                            <li class=\"color-value\" data-value=\"light-blue\">\n                                <div class=\"color-name text-color-light-blue-700\">{[print(xabber.getString(\"account_color_name_light_blue\").replace(/-/g, \" \"))]}</div>\n                                <div class=\"color-pattern ground-color-light-blue-700\"></div>\n                            </li>\n                            <li class=\"color-value\" data-value=\"cyan\">\n                                <div class=\"color-name text-color-cyan-700\">{[print(xabber.getString(\"account_color_name_cyan\"))]}</div>\n                                <div class=\"color-pattern ground-color-cyan-700\"></div>\n                            </li>\n                            <li class=\"color-value\" data-value=\"teal\">\n                                <div class=\"color-name text-color-teal-700\">{[print(xabber.getString(\"account_color_name_teal\"))]}</div>\n                                <div class=\"color-pattern ground-color-teal-700\"></div>\n                            </li>\n                            <li class=\"color-value\" data-value=\"green\">\n                                <div class=\"color-name text-color-green-700\">{[print(xabber.getString(\"account_color_name_green\"))]}</div>\n                                <div class=\"color-pattern ground-color-green-700\"></div>\n                            </li>\n                            <li class=\"color-value\" data-value=\"light-green\">\n                                <div class=\"color-name text-color-light-green-700\">{[print(xabber.getString(\"account_color_name_light_green\").replace(/-/g, \" \"))]}</div>\n                                <div class=\"color-pattern ground-color-light-green-700\"></div>\n                            </li>\n                            <li class=\"color-value\" data-value=\"lime\">\n                                <div class=\"color-name text-color-lime-700\">{[print(xabber.getString(\"account_color_name_lime\"))]}</div>\n                                <div class=\"color-pattern ground-color-lime-700\"></div>\n                            </li>\n                            <li class=\"color-value\" data-value=\"amber\">\n                                <div class=\"color-name text-color-amber-700\">{[print(xabber.getString(\"account_color_name_amber\"))]}</div>\n                                <div class=\"color-pattern ground-color-amber-700\"></div>\n                            </li>\n                            <li class=\"color-value\" data-value=\"orange\">\n                                <div class=\"color-name text-color-orange-700\">{[print(xabber.getString(\"account_color_name_orange\"))]}</div>\n                                <div class=\"color-pattern ground-color-orange-700\"></div>\n                            </li>\n                            <li class=\"color-value\" data-value=\"deep-orange\">\n                                <div class=\"color-name text-color-deep-orange-700\">{[print(xabber.getString(\"account_color_name_deep_orange\").replace(/-/g, \" \"))]}</div>\n                                <div class=\"color-pattern ground-color-deep-orange-700\"></div>\n                            </li>\n                            <li class=\"color-value\" data-value=\"brown\">\n                                <div class=\"color-name text-color-brown-700\">{[print(xabber.getString(\"account_color_name_brown\"))]}</div>\n                                <div class=\"color-pattern ground-color-brown-700\"></div>\n                            </li>\n                            <li class=\"color-value\" data-value=\"blue-grey\">\n                                <div class=\"color-name text-color-blue-grey-700\">{[print(xabber.getString(\"account_color_name_blue_grey\").replace(/-/g, \" \"))]}</div>\n                                <div class=\"color-pattern ground-color-blue-grey-700\"></div>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"settings-block-wrap xmpp-resources\">\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"account_xmpp_resources\"))]}</span>\n                </div>\n                <div class=\"resources-wrap\">\n                    <div class=\"resource-wrap main-resource\">\n                        <svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"ic-jabber\"></svg>\n                        <table>\n                            <tbody>\n                            <tr class=\"info status-info\">\n                                <td class=\"label\">{[print(xabber.getString(\"settings_account__label_status\"))]}:</td>\n                                <td>\n                                    <div class=\"value status-message one-line\"></div>\n                                    <div class=\"status\"></div>\n                                </td>\n                            </tr>\n                            <tr class=\"info client-info\">\n                                <td class=\"label\">{[print(xabber.getString(\"settings_account__label_client\"))]}:</td>\n                                <td class=\"value client one-line\"></td>\n                            </tr>\n                            <tr class=\"info resource-info\">\n                                <td class=\"label\">{[print(xabber.getString(\"account_resource\"))]}:</td>\n                                <td>\n                                    <div class=\"value resource one-line\"></div>\n                                    <div class=\"device-indicator text-color-700\">({[print(xabber.getString(\"settings_account__label_this_device\"))]})</div>\n                                </td>\n                            </tr>\n                            </td>\n                            <tr class=\"info priority-info\">\n                                <td class=\"label\">{[print(xabber.getString(\"account_priority\"))]}:</td>\n                                <td class=\"value priority\"></td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"settings-block-wrap vcard\">\n            </div>\n\n            <div class=\"settings-block-wrap omemo-info\">\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"omemo__settings__section_header\"))]}</span>\n                </div>\n                <div class=\"omemo-settings-wrap\">\n                    <div class=\"settings\">\n                        <div class=\"setting-wrap omemo-enable\">\n                            <span>{[print(xabber.getString(\"omemo__settings__toggle_enable_encryption\"))]}</span>\n                            <div class=\"field setting-use-omemo switch normal\">\n                                <label class=\"field-value\">\n                                    <input type=\"checkbox\">\n                                    <span class=\"lever\"></span>\n                                </label>\n                            </div>\n                        </div>\n                        <div class=\"setting-wrap send-chat-states\">\n                            <span>{[print(xabber.getString(\"omemo__settings__toggle_send_typing_notifications\"))]}</span>\n                            <div class=\"field setting-send-chat-states switch normal\">\n                                <label class=\"field-value\">\n                                    <input type=\"checkbox\">\n                                    <span class=\"lever\"></span>\n                                </label>\n                            </div>\n                        </div>\n                        <div class=\"setting-wrap manage-devices\">\n                            <button class=\"btn-manage-devices btn-flat btn-main btn-dark ground-color-grey-100 hover-ground-color-grey-300\">{[print(xabber.getString(\"omemo__settings__button_manage_devices\"))]}</button>\n                        </div>\n                        <div class=\"setting-wrap purge-keys\">\n                            <button class=\"btn-purge-keys btn-flat btn-main btn-dark ground-color-grey-100 hover-ground-color-grey-300\">{[print(xabber.getString(\"omemo__settings__button_purge_keys\"))]}</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"settings-block-wrap server-info\">\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"account_server_info_description\"))]}</span>\n                </div>\n                <div class=\"capabilities-wrap\">\n                    <div class=\"capabilities\">\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"settings-block-wrap blocklist-info\">\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"blocked_contacts\"))]}</span>\n                </div>\n                <div class=\"blocklist-wrap\">\n                    <div class=\"blocked-items\">\n                        <div class=\"placeholder\">{[print(xabber.getString(\"blocked_contacts_empty\"))]}</div>\n                        <div class=\"blocked-domains-wrap hidden\">\n                            <div class=\"blocked-item domains-item\">\n                                <i class=\"toggle-items arrow mdi mdi-20px mdi-chevron-right\"></i>\n                                <div class=\"blocked-item-header one-line\">{[print(xabber.getString(\"blocked_domain\"))]}</div>\n                                <div class=\"blocked-item-description one-line\"/>\n                            </div>\n                            <div class=\"blocked-domains blocked-list hidden\"/>\n                        </div>\n                        <div class=\"blocked-invitations-wrap hidden\">\n                            <div class=\"blocked-item invitations-item\">\n                                <i class=\"toggle-items arrow mdi mdi-20px mdi-chevron-right\"></i>\n                                <div class=\"blocked-item-header one-line\">{[print(xabber.getString(\"blocked_group_invitations\"))]}</div>\n                                <div class=\"blocked-item-description\">{[print(xabber.getString(\"blocked_group_invitations_summary_full\"))]}</div>\n                            </div>\n                            <div class=\"blocked-invitations blocked-list hidden\"/>\n                        </div>\n                        <div class=\"blocked-contacts-wrap hidden\">\n                            <div class=\"blocked-item contacts-item\">\n                                <i class=\"toggle-items arrow mdi mdi-20px mdi-chevron-right\"></i>\n                                <div class=\"blocked-item-header one-line\">{[print(xabber.getString(\"blocked_contacts\"))]}</div>\n                                <div class=\"blocked-item-description one-line\"/>\n                            </div>\n                            <div class=\"blocked-contacts blocked-list hidden\"/>\n                        </div>\n                        <button class=\"btn-block btn-flat btn-main btn-dark ground-color-grey-100 hover-ground-color-grey-300\">{[print(xabber.getString(\"settings_account__blocklist__button_block\"))]}</button>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"settings-block-wrap groups-info\">\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"settings_account__section_header_circles\"))]}</span>\n                </div>\n                <div class=\"groups-wrap\">\n                    <div class=\"groups\">\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"}),define("text!templates/accounts/existing_groupchat_item.html",[],function(){return"<div class=\"existing-chat-wrap\" data-name=\"{{name}}\" data-jid=\"{{jid}}\">\n    <div class=\"circle-avatar\">\n        <img>\n    </div>\n    <div class=\"existing-chat-item\">\n        <div class=\"name one-line\">{{name}}</div>\n        <div class=\"jid one-line\">{{jid}}</div>\n    </div>\n    <button class=\"btn-join-existing-chat btn-flat btn-dark btn-main\">join</button>\n</div>"}),define("text!templates/accounts/resource.html",[],function(){return"<svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"ic-jabber\"></svg>\n<table>\n    <tbody>\n    <tr class=\"info status-info\">\n        <td class=\"label\">{[print(xabber.getString(\"settings_account__label_status\"))]}:</td>\n        <td>\n            <div class=\"value status-message one-line\"></div>\n            <div class=\"status\"></div>\n        </td>\n    </tr>\n    <tr class=\"info client-info\">\n        <td class=\"label\">{[print(xabber.getString(\"settings_account__label_client\"))]}:</td>\n        <td class=\"value client one-line\"></td>\n    </tr>\n    <tr class=\"info resource-info\">\n        <td class=\"label\">{[print(xabber.getString(\"account_resource\"))]}:</td>\n        <td class=\"value resource one-line\"></td>\n    </tr>\n    <tr class=\"info priority-info\">\n        <td class=\"label\">{[print(xabber.getString(\"account_priority\"))]}:</td>\n        <td class=\"value priority\"></td>\n    </tr>\n    </tbody>\n</table>"}),define("text!templates/accounts/global_settings_item.html",[],function(){return"<div class=\"move-account-to-this droppable\"></div>\n<div class=\"account-info-wrap\">\n    <i class=\"drag-item drag-handle mdi mdi-28px mdi-drag-vertical\"></i>\n    <div class=\"circle-avatar noselect\">\n        <img>\n    </div>\n    <div class=\"text-info-wrap\">\n        <div class=\"jid-wrap\">\n            <div class=\"jid text-color-700 one-line\"></div>\n        </div>\n        <div class=\"conn-status one-line\"></div>\n    </div>\n</div>\n<div class=\"sync-marker-wrap hidden\">\n    <i class=\"sync-marker mdi mdi-20px mdi-cloud-check\"></i>\n</div>\n<div class=\"field clickable-field enabled-state switch normal\">\n    <label class=\"field-value\">\n        <input type=\"checkbox\">\n        <span class=\"lever\"></span>\n    </label>\n</div>\n"}),define("text!templates/accounts/change_status.html",[],function(){return"<div class=\"modal-content-wrap\">\n    <div class=\"modal-header\">\n        <span>{[print(xabber.getString(\"status_editor\"))]}</span>\n    </div>\n    <ul class=\"status-values noselect\">\n        <li data-value=\"chat\">\n            <span class=\"status-value one-line\">{[print(xabber.getString(\"chat\"))]}</span>\n            <span class=\"status-bulb\" data-status=\"chat\"></span>\n        </li>\n        <li data-value=\"online\">\n            <span class=\"status-value one-line\">{[print(xabber.getString(\"online\"))]}</span>\n            <span class=\"status-bulb\" data-status=\"online\"></span>\n        </li>\n        <li data-value=\"away\">\n            <span class=\"status-value one-line\">{[print(xabber.getString(\"away\"))]}</span>\n            <span class=\"status-bulb\" data-status=\"away\"></span>\n        </li>\n        <li data-value=\"xa\">\n            <span class=\"status-value one-line\">{[print(xabber.getString(\"xa\"))]}</span>\n            <span class=\"status-bulb\" data-status=\"xa\"></span>\n        </li>\n        <li data-value=\"dnd\">\n            <span class=\"status-value one-line\">{[print(xabber.getString(\"dnd\"))]}</span>\n            <span class=\"status-bulb\" data-status=\"dnd\"></span>\n        </li>\n        <li data-value=\"offline\">\n            <span class=\"status-value one-line\">{[print(xabber.getString(\"unavailable\"))]}</span>\n            <span class=\"status-bulb\" data-status=\"offline\"></span>\n        </li>\n    </ul>\n    <div class=\"modal-content\">\n        <div class=\"row\">\n            <div class=\"input-field status-message-wrap\">\n                <span class=\"static-label\">{[print(xabber.getString(\"dialog_status_editor__label_custom_status\"))]}</span>\n                <input type=\"text\" class=\"status-message\">\n                <i class=\"clear-input mdi mdi-20px mdi-close\"></i>\n            </div>\n            <div class=\"input-field checkbox-field no-padding\">\n                <input type=\"checkbox\" class=\"filled-in apply-to-all\" id=\"{{view.cid}}_apply_to_all\"/>\n                <label for=\"{{view.cid}}_apply_to_all\">{[print(xabber.getString(\"dialog_status_editor__label_apply_to_all\"))]}</label>\n            </div>\n        </div>\n    </div>\n</div>\n"}),define("text!templates/accounts/token_item.html",[],function(){return"<div class=\"token-wrap\" data-token-uid=\"{{token_uid}}\">\n    <div class=\"client one-line\">{{client}}</div>\n    <div class=\"device one-line\">{{device}}</div>\n    <div class=\"ip-address\">{{ip}}</div>\n    <div class=\"last-auth\">{{last_auth}}</div>\n    <i class=\"btn-revoke-token mdi mdi-24px mdi-close\"></i>\n</div>"}),define("text!templates/accounts/current_token_item.html",[],function(){return"<div class=\"token-wrap\" data-token-uid=\"{{token_uid}}\">\n    <div class=\"client one-line\">{{client}}</div>\n    <div class=\"device one-line\">{{device}}</div>\n    <div class=\"ip-address\">{{ip}}</div>\n    <div class=\"last-auth text-color-700\">{[print(xabber.getString(\"account_state_connected\"))]}</div>\n    <div class=\"token-indicator\">{[print(xabber.getString(\"settings_account__label_this_device\"))]}</div>\n</div>"}),define("text!templates/vcard/vcard.html",[],function(){return"<div class=\"block-header\">\n    <span class=\"block-name\"></span>\n    <div class=\"btn-vcard-refresh\">\n        <div class=\"button\">\n            <i class=\"mdi mdi-20px mdi-refresh\"></i>\n        </div>\n        <div class=\"preloader-wrapper preloader-20px active\">\n            <div class=\"spinner-layer\">\n                <div class=\"circle-clipper left\">\n                    <div class=\"circle\"></div>\n                </div>\n                <div class=\"gap-patch\">\n                    <div class=\"circle\"></div>\n                </div>\n                <div class=\"circle-clipper right\">\n                    <div class=\"circle\"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"vcard-wrap\">\n    <div class=\"info-wrap jid-info-wrap hidden\">\n        <div class=\"details-icon-wrap\" title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}'><svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"xmpp\"></svg></div>\n        <div class=\"info jabber-id\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_jabber_id\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap personal-info-wrap hidden\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-account-card-details\"></i>\n        <div class=\"info first-name\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_given_name\"))]}</div>\n        </div>\n        <div class=\"info middle-name\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_middle_name\"))]}</div>\n        </div>\n        <div class=\"info last-name\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_family_name\"))]}</div>\n        </div>\n        <div class=\"info fullname\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_full_name\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap nickname-info-wrap hidden\">\n        <i class=\"details-icon mdi mdi-24px mdi-account-box-outline\"></i>\n        <div class=\"info nickname\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_nick_name\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap birthday-info-wrap hidden\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-cake-variant\"></i>\n        <div class=\"info birthday\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_birth_date\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap job-info-wrap hidden\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-briefcase\"></i>\n        <div class=\"info org-name\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_organization\"))]}</div>\n        </div>\n        <div class=\"info job-title\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_title\"))]}</div>\n        </div>\n        <div class=\"info org-unit\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_organization_unit\"))]}</div>\n        </div>\n        <div class=\"info role\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_role\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap site-info-wrap hidden\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-web\"></i>\n        <div class=\"info url\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_url\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap description-info-wrap hidden\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-file-document-box\"></i>\n        <div class=\"info description\">\n            <div class=\"value\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_decsription\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap phone-info-wrap hidden\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-phone\"></i>\n        <div class=\"info phone-work\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_type_work\"))]}</div>\n        </div>\n        <div class=\"info phone-home\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_type_home\"))]}</div>\n        </div>\n        <div class=\"info phone-mobile\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_type_mobile\"))]}</div>\n        </div>\n        <div class=\"info phone-default\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_telephone\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap email-info-wrap hidden\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-email\"></i>\n        <div class=\"info email-work\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_type_work\"))]}</div>\n        </div>\n        <div class=\"info email-home\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_type_personal\"))]}</div>\n        </div>\n        <div class=\"info email-default\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_email\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap address-info-wrap hidden\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-map-marker\"></i>\n        <div class=\"info address-home\">\n            <div class=\"pobox value one-line\"></div>\n            <div class=\"extadd value one-line\"></div>\n            <div class=\"street value one-line\"></div>\n            <div class=\"locality value one-line\"></div>\n            <div class=\"region value one-line\"></div>\n            <div class=\"pcode value one-line\"></div>\n            <div class=\"country value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_type_home\"))]}</div>\n        </div>\n        <div class=\"info address-work\">\n            <div class=\"pobox value one-line\"></div>\n            <div class=\"extadd value one-line\"></div>\n            <div class=\"street value one-line\"></div>\n            <div class=\"locality value one-line\"></div>\n            <div class=\"region value one-line\"></div>\n            <div class=\"pcode value one-line\"></div>\n            <div class=\"country value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_type_work\"))]}</div>\n        </div>\n        <div class=\"info address-default\">\n            <div class=\"extadd value one-line\"></div>\n            <div class=\"street value one-line\"></div>\n            <div class=\"locality value one-line\"></div>\n            <div class=\"region value one-line\"></div>\n            <div class=\"pcode value one-line\"></div>\n            <div class=\"country value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"vcard_address\"))]}</div>\n        </div>\n    </div>\n    <button class=\"btn-vcard-edit btn-flat btn-main btn-dark ground-color-grey-100 hover-ground-color-grey-300 hidden\">{[print(xabber.getString(\"edit_vcard\"))]}</button>\n</div>\n"}),define("text!templates/vcard/vcard_edit.html",[],function(){return"    <div class=\"right-column noselect\">\n        <div class=\"settings-panel-head\">\n            <span>{[print(xabber.getString(\"vcard_edit__header\"))]}</span>\n        </div>\n\n        <div class=\"panel-content-wrap\">\n            <div class=\"panel-content details-panel\">\n\n                <div class=\"settings-block-wrap vcard\">\n                    <div class=\"vcard-edit-wrap\">\n                        <div class=\"info-wrap personal-info-wrap\">\n                            <i class=\"details-icon mdi mdi-24px mdi-account-card-details\"></i>\n                            <div class=\"input-field first-name\">\n                                <input id=\"{{view.cid}}-first-name\" placeholder=\"{[print(xabber.getString('vcard_given_name'))]}\" type=\"text\" name=\"first_name\">\n                            </div>\n                            <div class=\"input-field middle-name\">\n                                <input id=\"{{view.cid}}-middle-name\" placeholder=\"{[print(xabber.getString('vcard_middle_name'))]}\" type=\"text\" name=\"middle_name\">\n                            </div>\n                            <div class=\"input-field last-name\">\n                                <input id=\"{{view.cid}}-last-name\" placeholder=\"{[print(xabber.getString('vcard_family_name'))]}\" type=\"text\" name=\"last_name\">\n                            </div>\n                            <div class=\"input-field fullname\">\n                                <input id=\"{{view.cid}}-fullname\" placeholder=\"{[print(xabber.getString('vcard_full_name'))]}\" type=\"text\" name=\"fullname\">\n                            </div>\n                        </div>\n\n                        <div class=\"info-wrap nickname-info-wrap\">\n                            <div class=\"input-label\">{[print(xabber.getString(\"vcard_nick_name\"))]}</div>\n                            <i class=\"details-icon mdi mdi-24px mdi-account-box-outline\"></i>\n                            <div class=\"input-field nickname\">\n                                <input id=\"{{view.cid}}-nickname\" placeholder=\"{[print(xabber.getString('vcard_nick_name'))]}\" type=\"text\" name=\"nickname\">\n                            </div>\n                        </div>\n\n                        <div class=\"info-wrap birthday-info-wrap\">\n                            <div class=\"input-label\">{[print(xabber.getString(\"vcard_birth_date\"))]}</div>\n                            <i class=\"details-icon mdi mdi-24px mdi-cake-variant\"></i>\n                            <div class=\"input-field birthday\">\n                                <input id=\"{{view.cid}}-birthday\" placeholder=\"{[print(xabber.getString('vcard_birth_date_placeholder'))]}\" type=\"text\" class=\"datepicker\">\n                            </div>\n                        </div>\n\n                        <div class=\"info-wrap job-info-wrap\">\n                            <div class=\"input-label\">{[print(xabber.getString(\"vcard_job\"))]}</div>\n                            <i class=\"details-icon mdi mdi-24px mdi-briefcase\"></i>\n                            <div class=\"input-field org-name\">\n                                <input id=\"{{view.cid}}-org-name\" placeholder=\"{[print(xabber.getString('vcard_organization'))]}\" type=\"text\" name=\"org_name\">\n                            </div>\n                            <div class=\"input-field job-title\">\n                                <input id=\"{{view.cid}}-job-title\" placeholder=\"{[print(xabber.getString('vcard_title'))]}\" type=\"text\" name=\"job_title\">\n                            </div>\n                            <div class=\"input-field org-unit\">\n                                <input id=\"{{view.cid}}-org-unit\" placeholder=\"{[print(xabber.getString('vcard_organization_unit'))]}\" type=\"text\" name=\"org_unit\">\n                            </div>\n                            <div class=\"input-field role\">\n                                <input id=\"{{view.cid}}-role\" placeholder=\"{[print(xabber.getString('vcard_role'))]}\" type=\"text\" name=\"role\">\n                            </div>\n                        </div>\n                        <div class=\"info-wrap site-info-wrap\">\n                            <div class=\"input-label\">{[print(xabber.getString(\"vcard_url\"))]}</div>\n                            <i class=\"details-icon mdi mdi-24px mdi-web\"></i>\n                            <div class=\"input-field url\">\n                                <input id=\"{{view.cid}}-url\" placeholder=\"{[print(xabber.getString('vcard_url_placeholder'))]}\" type=\"text\" name=\"url\">\n                            </div>\n                        </div>\n                        <div class=\"info-wrap description-info-wrap\">\n                            <div class=\"input-label\">{[print(xabber.getString(\"vcard_decsription\"))]}</div>\n                            <i class=\"details-icon mdi mdi-24px mdi-file-document-box\"></i>\n                            <div class=\"input-field description\">\n                                <textarea id=\"{{view.cid}}-description\" placeholder=\"{[print(xabber.getString('vcard_decsription_placeholder'))]}\" type=\"text\" cols=\"30\" rows=\"10\" class=\"text-field materialize-textarea\" name=\"description\"></textarea>\n                            </div>\n                        </div>\n\n                        <div class=\"info-wrap phone-info-wrap\">\n                            <div class=\"input-label\">{[print(xabber.getString(\"vcard_telephone\"))]}</div>\n                            <i class=\"details-icon mdi mdi-24px mdi-phone\"></i>\n                            <div class=\"input-field phone-work\">\n                                <input id=\"{{view.cid}}-phone-work\" placeholder=\"{[print(xabber.getString('vcard_type_work'))]}\" type=\"text\" name=\"phone_work\">\n                            </div>\n                            <div class=\"input-field phone-home\">\n                                <input id=\"{{view.cid}}-phone-home\" placeholder=\"{[print(xabber.getString('vcard_type_home'))]}\" type=\"text\" name=\"phone_home\">\n                            </div>\n                            <div class=\"input-field phone-mobile\">\n                                <input id=\"{{view.cid}}-phone-mobile\" placeholder=\"{[print(xabber.getString('vcard_type_mobile'))]}\" type=\"text\" name=\"phone_mobile\">\n                            </div>\n                        </div>\n                        <div class=\"info-wrap email-info-wrap\">\n                            <div class=\"input-label\">{[print(xabber.getString(\"vcard_email\"))]}</div>\n                            <i class=\"details-icon mdi mdi-24px mdi-email\"></i>\n                            <div class=\"input-field email-work\">\n                                <input id=\"{{view.cid}}-email-work\" placeholder=\"{[print(xabber.getString('vcard_type_work'))]}\" type=\"text\" name=\"email_work\">\n                            </div>\n                            <div class=\"input-field email-home\">\n                                <input id=\"{{view.cid}}-email-home\" placeholder=\"{[print(xabber.getString('vcard_type_personal'))]}\" type=\"text\" name=\"email_home\">\n                            </div>\n                        </div>\n\n                        <div class=\"info-wrap address-info-wrap\">\n                            <i class=\"details-icon mdi mdi-24px mdi-map-marker\"></i>\n                            <div class=\"input-wrap address-wrap address-home-wrap\">\n                                <div class=\"input-label\">{[print(xabber.getString(\"vcard_home_address\"))]}</div>\n                                <div class=\"input-field pobox\">\n                                    <input id=\"{{view.cid}}-po-home-box\" placeholder=\"{[print(xabber.getString('vcard_address_pobox'))]}\" type=\"text\" name=\"po_home_box\">\n                                </div>\n                                <div class=\"input-field extadd\">\n                                    <input id=\"{{view.cid}}-addr-home-extadd\" placeholder=\"{[print(xabber.getString('vcard_address_extadr'))]}\" type=\"text\" name=\"addr_home_extadd\">\n                                </div>\n                                <div class=\"input-field street\">\n                                    <input id=\"{{view.cid}}-addr-home-street\" placeholder=\"{[print(xabber.getString('vcard_address_street'))]}\" type=\"text\" name=\"addr_home_street\">\n                                </div>\n                                <div class=\"input-field locality\">\n                                    <input id=\"{{view.cid}}-addr-home-locality\" placeholder=\"{[print(xabber.getString('vcard_address_locality'))]}\" type=\"text\" name=\"addr_home_locality\">\n                                </div>\n                                <div class=\"input-field region\">\n                                    <input id=\"{{view.cid}}-addr-home-region\" placeholder=\"{[print(xabber.getString('vcard_address_region'))]}\" type=\"text\" name=\"addr_home_region\">\n                                </div>\n                                <div class=\"input-field pcode\">\n                                    <input id=\"{{view.cid}}-addr-home-pcode\" placeholder=\"{[print(xabber.getString('vcard_address_pcode'))]}\" type=\"text\" name=\"addr_home_pcode\">\n                                </div>\n                                <div class=\"input-field country\">\n                                    <input id=\"{{view.cid}}-addr-home-country\" placeholder=\"{[print(xabber.getString('vcard_address_ctry'))]}\" type=\"text\" name=\"addr_home_country\">\n                                </div>\n                            </div>\n                            <div class=\"input-wrap address-wrap address-work-wrap\">\n                                <div class=\"input-label\">{[print(xabber.getString(\"vcard_work_address\"))]}</div>\n                                <div class=\"input-field pobox\">\n                                    <input id=\"{{view.cid}}-po-work-box\" placeholder=\"{[print(xabber.getString('vcard_address_pobox'))]}\" type=\"text\" name=\"po_work_box\">\n                                </div>\n                                <div class=\"input-field extadd\">\n                                    <input id=\"{{view.cid}}-addr-work-extadd\" placeholder=\"{[print(xabber.getString('vcard_address_extadr'))]}\" type=\"text\" name=\"addr_work_extadd\">\n                                </div>\n                                <div class=\"input-field street\">\n                                    <input id=\"{{view.cid}}-addr-work-street\" placeholder=\"{[print(xabber.getString('vcard_address_street'))]}\" type=\"text\" name=\"addr_work_street\">\n                                </div>\n                                <div class=\"input-field locality\">\n                                    <input id=\"{{view.cid}}-addr-work-locality\" placeholder=\"{[print(xabber.getString('vcard_address_locality'))]}\" type=\"text\" name=\"addr_work_locality\">\n                                </div>\n                                <div class=\"input-field region\">\n                                    <input id=\"{{view.cid}}-addr-work-region\" placeholder=\"{[print(xabber.getString('vcard_address_region'))]}\" type=\"text\" name=\"addr_work_region\">\n                                </div>\n                                <div class=\"input-field pcode\">\n                                    <input id=\"{{view.cid}}-addr-work-pcode\" placeholder=\"{[print(xabber.getString('vcard_address_pcode'))]}\" type=\"text\" name=\"addr_work_pcode\">\n                                </div>\n                                <div class=\"input-field country\">\n                                    <input id=\"{{view.cid}}-addr-work-country\" placeholder=\"{[print(xabber.getString('vcard_address_ctry'))]}\" type=\"text\" name=\"addr_work_country\">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n        <div class=\"panel-footer noselect\">\n            <div class=\"buttons-wrap\">\n                <button class=\"btn-vcard-save btn-flat btn-main\">{[print(xabber.getString(\"vcard_edit__button_save\"))]}</button>\n                <button class=\"btn-vcard-back btn-flat btn-main btn-dark\">{[print(xabber.getString(\"vcard_edit__button_cancel\"))]}</button>\n            </div>\n        </div>\n    </div>\n"}),define("text!templates/searching/searching_wide.html",[],function(){return"<div class=\"searching-panel\">\n    <div class=\"search-form\">\n        <div class=\"account-indicator ground-color-500\"></div>\n        <i class=\"search-icon mdi mdi-20px mdi-magnify\"></i>\n        <input type=\"text\" class=\"search-input simple-input-field\" tabindex=\"1\" placeholder='{[print(xabber.getString(\"searching__placeholder_search_by_domain\"))]}'>\n        <i class=\"close-search-icon mdi mdi-20px mdi-close\"></i>\n    </div>\n    <div class=\"searching-properties-field\">\n        <div class=\"dropdown-button\" data-visible=\"false\">\n            <i class=\"mdi mdi-24px mdi-chevron-down arrow\"></i>\n        </div>\n    </div>\n    <ul id=\"select-searching-properties\" class=\"selectable-text\">\n        <div class=\"account-property\">\n            <p class=\"property-name\">{[print(xabber.getString(\"searching__search_panel__label_account\"))]}</p>\n            <div class=\"account-field\">\n                <div class=\"multiple-acc\">\n                    <div class=\"account-dropdown-wrap\">\n                        <div class=\"dropdown-button\" data-activates=\"select-account-for-searching\">\n                            <div class=\"account-item-wrap\">\n                            </div>\n                            <div class=\"caret\">\n                                <i class=\"mdi mdi-20px mdi-menu-down\"></i>\n                            </div>\n                        </div>\n                        <div id=\"select-account-for-searching\" class=\"dropdown-content\">\n                        </div>\n                    </div>\n                </div>\n                <div class=\"single-acc\">\n                    <div class=\"dropdown-button\">\n                        <div class=\"account-item-wrap\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"title-property\">\n            <p class=\"property-name\">{[print(xabber.getString(\"searching__search_panel__label_title\"))]}</p>\n            <div class=\"input-field\">\n                <input id=\"searching_property_title\" type=\"text\" name=\"title\">\n            </div>\n        </div>\n        <div class=\"sorting-property\">\n            <p class=\"property-name\">{[print(xabber.getString(\"searching__search_panel__label_sort_by\"))]}</p>\n            <div class=\"input-field\">\n                <input id=\"searching_property_sort_by\" type=\"text\" name=\"title\">\n            </div>\n        </div>\n        <button class=\"btn-search btn btn-main-filled ground-color-700\">{[print(xabber.getString(\"search\"))]}</button>\n    </ul>\n</div>\n<div class=\"searching-result-wrap\">\n    <div class=\"chats-list-wrap\">\n        <div class=\"result-string\"></div>\n        <div class=\"preloader-wrapper preloader-17px active\">\n            <div class=\"spinner-layer\">\n                <div class=\"circle-clipper left\">\n                    <div class=\"circle\"></div>\n                </div>\n                <div class=\"gap-patch\">\n                    <div class=\"circle\"></div>\n                </div>\n                <div class=\"circle-clipper right\">\n                    <div class=\"circle\"></div>\n                </div>\n            </div></div>\n        <div class=\"chats-list\"></div></div>\n    <div class=\"searching-more\"></div>\n</div>"}),define("text!templates/searching/searching_account_item.html",[],function(){return"<div class=\"account-item-wrap\" data-jid=\"{{jid}}\">\n    <div class=\"name one-line\">{{jid}}</div>\n</div>"}),define("text!templates/searching/existing_groupchat_item.html",[],function(){return"<div class=\"existing-chat-wrap\" data-name=\"{{name}}\" data-jid=\"{{jid}}\">\n    <div class=\"account-indicator ground-color-{{color}}-500\"></div>\n    <div class=\"circle-avatar\">\n        <img>\n    </div>\n    <div class=\"existing-chat-item\">\n        <div class=\"name one-line\">{{name}}</div>\n        <div class=\"jid one-line\">{{jid}}</div>\n    </div>\n</div>"}),define("text!templates/searching/existing_groupchat_details_view.html",[],function(){return"<div class=\"block-header\">\n    <span class=\"block-name\">{[print(xabber.getString(\"searching__chat_properties__header\"))]}</span>\n</div>\n<div class=\"chat-properties-wrap selectable-text\">\n    <div class=\"info-wrap jid-info-wrap\">\n        <svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"xmpp\"></svg>\n        <div class=\"info jabber-id\">\n            <div class=\"value one-line\">{{jid}}</div>\n            <div class=\"label\">{[print(xabber.getString(\"group_settings__properties__label_jid\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap name-info-wrap\">\n        <i class=\"details-icon mdi mdi-24px mdi-account-box-outline\"></i>\n        <div class=\"info name\">\n            <div class=\"value one-line\">{{name}}</div>\n            <div class=\"label\">{[print(xabber.getString(\"groupchat_name\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap description-info-wrap\">\n        <i class=\"details-icon mdi mdi-24px mdi-file-document-box\"></i>\n        <div class=\"info description\">\n            <div class=\"value one-line\">{{description}}</div>\n            <div class=\"label\">{[print(xabber.getString(\"groupchat_description\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap anonymous-info-wrap\">\n        <i class=\"details-icon mdi mdi-24px mdi-comment-question-outline\"></i>\n        <div class=\"info anonymous\">\n            <div class=\"value one-line\">{{privacy}}</div>\n            <div class=\"label\">{[print(xabber.getString(\"groupchat_privacy_type_incognito\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap model-info-wrap\">\n        <i class=\"details-icon mdi mdi-24px mdi-lock-open-outline\"></i>\n        <div class=\"info model\">\n            <div class=\"value one-line\">{{membership}}</div>\n            <div class=\"label\">{[print(xabber.getString(\"groupchat_membership\"))]}</div>\n        </div>\n    </div>\n</div>\n<button class=\"btn-join-chat btn-flat btn-main btn-dark ground-color-100 hover-ground-color-300\">{[print(xabber.getString(\"groupchat_join\"))]}</button>\n"}),define("text!templates/contacts/roster_right.html",[],function(){return"<div class=\"contacts-panel noselect\">\n    <div class=\"collapsed-wrap\">\n        <i class=\"collapsed-contacts-icon mdi mdi-24px mdi-account-multiple\"></i>\n        <div class=\"all-contacts-counter\"></div>\n    </div>\n    <div class=\"expanded-wrap\">\n        <div class=\"roster-head panel-head\">\n            <div class=\"contacts-header\">{[print(xabber.getString(\"category_title_contacts\"))]}</div>\n            <div class=\"roster-button btn-pin\"></div>\n        </div>\n\n        <div class=\"contact-list-wrap\">\n            <div class=\"contact-list\">\n            </div>\n        </div>\n    </div>\n</div>\n"}),define("text!templates/contacts/roster_left.html",[],function(){return"<div class=\"contacts-panel noselect\">\n    <div class=\"contacts-search-form search-form panel-head\">\n        <div class=\"account-indicator\"></div>\n        <i class=\"search-icon mdi mdi-20px mdi-magnify\"></i>\n        <input type=\"text\" class=\"search-input simple-input-field\" tabindex=\"1\" placeholder='{[print(xabber.getString(\"search\"))]}'>\n        <i class=\"close-search-icon mdi mdi-20px mdi-close\"></i>\n    </div>\n\n    <div class=\"contact-list-wrap left-panel-list-wrap\">\n        <div class=\"contact-list item-list\">\n        </div>\n        <div class=\"searched-lists-wrap\">\n            <div class=\"chats-list-wrap hidden\">\n                <div class=\"account-indicator\"></div>\n                <div class=\"chats-title\">{[print(xabber.getString(\"search__header_chats\"))]}</div>\n                <div class=\"chats-list roster-left-container\"></div>\n            </div>\n            <div class=\"contacts-list-wrap hidden\">\n                <div class=\"account-indicator\"></div>\n                <div class=\"contacts-title\">{[print(xabber.getString(\"category_title_contacts\"))]}</div>\n                <div class=\"contacts-list roster-left-container\"></div>\n            </div>\n            <div class=\"messages-list-wrap hidden\">\n                <div class=\"account-indicator\"></div>\n                <div class=\"messages-title\">{[print(xabber.getString(\"search__header_messages\"))]}</div>\n                <div class=\"messages-list roster-left-container\"></div>\n            </div>\n        </div>\n    </div>\n</div>\n"}),define("text!templates/contacts/account_roster_right.html",[],function(){return"<div class=\"roster-account-info-wrap\">\n    <div class=\"roster-account-info\">\n        <div class=\"circle-avatar border-color ground-color-700 noselect\"></div>\n        <div class=\"text-info-wrap\">\n            <p class=\"name text-color-700 one-line\"></p>\n            <p class=\"status-message text-color-700 one-line\"></p>\n            <div class=\"roster-info\">\n                <i class=\"mdi mdi-account-multiple-outline\"></i>\n                <span class=\"counter\"></span>\n            </div>\n        </div>\n    </div>\n    <div class=\"status-button\">\n        <div class=\"status\"></div>\n    </div>\n    <div class=\"roster-account-shrank-footer1\"></div>\n    <div class=\"roster-account-shrank-footer2\"></div>\n</div>\n"}),define("text!templates/contacts/account_roster_left.html",[],function(){return"<div class=\"roster-account-info-wrap\">\n    <div class=\"roster-account-info ground-color-100\">\n        <div class=\"account-indicator ground-color-700\"></div>\n        <div class=\"circle-avatar noselect\"></div>\n        <div class=\"text-info-wrap\">\n            <p class=\"name text-color-900 one-line\"></p>\n            <p class=\"jid one-line\"></p>\n        </div>\n        <div class=\"button-divider\"></div>\n    </div>\n    <div class=\"status-button\">\n        <div class=\"status\"></div>\n    </div>\n    <div class=\"roster-account-shrank-footer1 ground-color-50\">\n        <div class=\"account-indicator ground-color-300\"></div>\n    </div>\n    <div class=\"roster-account-shrank-footer2 ground-color-50\">\n        <div class=\"account-indicator ground-color-300\"></div>\n    </div>\n</div>\n"}),define("text!templates/contacts/group_right.html",[],function(){return"<div class=\"group-head\">\n    <i class=\"arrow mdi mdi-20px\"></i>\n    <div class=\"group-title\">\n        <span class=\"group-name one-line\"></span>\n        <span class=\"member-counter one-line\"></span>\n    </div>\n    <i class=\"group-icon mdi mdi-20px hidden\"></i>\n</div>\n"}),define("text!templates/contacts/group_left.html",[],function(){return"<div class=\"account-indicator ground-color-700\"></div>\n<div class=\"group-head\">\n    <i class=\"arrow mdi mdi-20px\"></i>\n    <div class=\"group-title\">\n        <span class=\"group-name one-line\"></span>\n        <span class=\"member-counter one-line\"></span>\n    </div>\n    <i class=\"group-icon mdi mdi-20px hidden\"></i>\n</div>\n"}),define("text!templates/contacts/add_contact.html",[],function(){return"<div class=\"modal-content-wrap\">\n    <div class=\"modal-header\">\n        <span>{[print(xabber.getString(\"dialog_add_contact__header\"))]}</span>\n    </div>\n    <div class=\"modal-content\">\n        <div class=\"row account-field\">\n            <div class=\"field-header\">{[print(xabber.getString(\"contact_account\"))]}</div>\n            <div class=\"multiple-acc\">\n                <div class=\"account-dropdown-wrap\">\n                    <div class=\"dropdown-button\" data-activates=\"select-account-for-add-contact\">\n                        <div class=\"account-item-wrap\">\n                        </div>\n                        <div class=\"caret\">\n                            <i class=\"mdi mdi-20px mdi-menu-down\"></i>\n                        </div>\n                    </div>\n                    <div id=\"select-account-for-add-contact\" class=\"dropdown-content noselect\">\n                    </div>\n                </div>\n            </div>\n            <div class=\"single-acc\">\n                <div class=\"dropdown-button\">\n                    <div class=\"account-item-wrap\">\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"row name-field\">\n            <div class=\"input-field\">\n                <input id=\"new_contact_username\" type=\"text\" name=\"username\">\n                <label for=\"new_contact_username\">{[print(xabber.getString(\"dialog_add_contact__label_jid\"))]}</label>\n                <span class=\"errors fixed\"></span>\n            </div>\n            <div class=\"input-field\">\n                <input id=\"new_contact_name\" type=\"text\" name=\"contact_name\" required>\n                <label for=\"new_contact_name\">{[print(xabber.getString(\"contact_user\"))]}</label>\n            </div>\n            <span class=\"add-contact-feedback red-text\"></span>\n        </div>\n        <div class=\"row groups-field\">\n            <div class=\"field-header\">{[print(xabber.getString(\"contact_circle\"))]}</div>\n            <div class=\"groups checkbox-list\">\n            </div>\n        </div>\n    </div>\n    <div class=\"modal-footer\">\n        <button class=\"btn-flat btn-main btn-add\">{[print(xabber.getString(\"dialog_add_contact__button_add\"))]}</button>\n        <button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"dialog_add_contact__button_cancel\"))]}</button>\n    </div>\n</div>\n"}),define("text!templates/contacts/contact_right_item.html",[],function(){return"<div class=\"circle-avatar noselect\"></div>\n<div class=\"text-info-wrap\">\n    <p class=\"name one-line\"></p>\n    <p class=\"jid one-line hidden\"></p>\n    <p class=\"status-message one-line\"></p>\n</div>\n<div class=\"status hide-offline\"></div>\n<div class=\"chat-icon hidden\"></div>\n"}),define("text!templates/contacts/contact_left_item.html",[],function(){return"<div class=\"circle-avatar noselect\"></div>\n<div class=\"text-info-wrap\">\n    <div class=\"name-wrap\">\n        <p class=\"name one-line\"></p>\n        <i class=\"mdi muted-icon mdi-14px mdi-bell-off\"/>\n    </div>\n    <p class=\"jid one-line\"></p>\n</div>\n<div class=\"status hide-offline\"></div>\n<div class=\"chat-icon hidden\"></div>"}),define("text!templates/contacts/contact_blocked_item.html",[],function(){return"<div data-jid=\"{{jid}}\" class=\"blocked-contact\">\n    <div class=\"text-info-wrap\">\n        <p class=\"jid one-line\">{{jid}}</p>\n        <p class=\"btn-unblock text-color-700 hover-text-color-900 one-line\">{[print(xabber.getString(\"contact_bar_unblock\"))]}</p>\n    </div>\n</div>"}),define("text!templates/contacts/contact_details.html",[],function(){return"<div class=\"panel-content-wrap noselect\">\n    <div class=\"main-info\">\n        <div class=\"avatar-wrap\">\n            <div class=\"circle-avatar\"/>\n            <div class=\"status hide-offline\"></div>\n        </div>\n        <div class=\"text-info\">\n            <div class=\"name-wrap\"></div>\n            <div class=\"status-message one-line\"></div>\n        </div>\n        <div class=\"btn-escape\">\n            <i class=\"mdi mdi-24px mdi-close\"></i>\n            <span class=\"btn-text\">{[print(xabber.getString(\"button_esc\"))]}</span>\n        </div>\n        <div class=\"btn-more  dropdown-button\" data-activates=\"{{view.cid}}-buttons-wrap\">\n            <i class=\"mdi mdi-24px mdi-dots-vertical\"></i>\n        </div>\n        <ul class=\"buttons-menu-wrap dropdown-content noselect\" id=\"{{view.cid}}-buttons-wrap\">\n            <li class=\"btn-qr-code\"><span class=\"one-line\">{[print(xabber.getString(\"contact_settings__button_show_qr_code\"))]}</span></li>\n            <li class=\"btn-auth-request\"><span class=\"one-line\">{[print(xabber.getString(\"contact_settings__button_request_authorization\"))]}</span></li>\n            <li class=\"btn-add\"><span class=\"one-line\">{[print(xabber.getString(\"contact_add\"))]}</span></li>\n            <li class=\"btn-delete\"><span class=\"one-line\">{[print(xabber.getString(\"remove_contact\"))]}</span></li>\n        </ul>\n        <div class=\"buttons-wrap\">\n            <div class=\"button-wrap btn-chat-wrap\">\n                <i class=\"mdi mdi-24px mdi-message-text btn-chat\"></i>\n                <div class=\"btn-name\">{[print(xabber.getString(\"contact_bar_chat\"))]}</div>\n            </div>\n            <div class=\"button-wrap btn-voice-call-wrap\">\n                <i class=\"mdi mdi-24px mdi-phone btn-voice-call\"></i>\n                <div class=\"btn-name\">{[print(xabber.getString(\"contact_bar_call\"))]}</div>\n            </div>\n            <div class=\"button-wrap btn-mute-wrap\">\n                <i class=\"mdi mdi-24px mdi-bell btn-mute\"></i>\n                <div class=\"btn-name\">{[print(xabber.getString(\"contact_bar_notifications\"))]}</div>\n            </div>\n            <div class=\"button-wrap btn-block-wrap\">\n                <i class=\"mdi mdi-24px mdi-block-helper btn-block\"></i>\n                <div class=\"btn-name\">{[print(xabber.getString(\"contact_bar_block\"))]}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"panel-content private-chat\">\n        <div class=\"left-column\">\n            <div class=\"block-wrap subscription-block-wrap\">\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"contact_subscription_settings\"))]}</span>\n                </div>\n                <div class=\"subscription-info-wrap\">\n                    <div class=\"incoming-subscription-wrap\">\n                        <div class=\"input-field checkbox-field incoming-subscription-wrap\">\n                            <input type=\"checkbox\" class=\"filled-in\" id=\"incoming-subscription\"/>\n                            <label for=\"incoming-subscription\"></label>\n                        </div>\n                    </div>\n                    <div class=\"outcoming-subscription-wrap\">\n                        <div class=\"input-field checkbox-field incoming-subscription-wrap\">\n                            <input type=\"checkbox\" class=\"filled-in\" id=\"outcoming-subscription\"/>\n                            <label for=\"outcoming-subscription\"></label>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"block-wrap vcard\">\n            </div>\n        </div>\n        <div class=\"right-column\">\n            <div class=\"block-wrap resources-block-wrap hidden\">\n                <div class=\"block-header\">\n                    <span class=\"block-name\">{[print(xabber.getString(\"contact_info_connected_clients_header\"))]}</span>\n                </div>\n                <div class=\"resources-wrap\">\n                </div>\n            </div>\n            <div class=\"block-wrap groups-block-wrap\"></div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/roster_settings.html",[],function(){return"    <div class=\"setting-name\">{[print(xabber.getString(\"settings__section_contact_list__header_offline_contacts\"))]}</div>\n    <div class=\"setting offline-contacts radio-button field-wrap\">\n        <div class=\"field radio-field clickable-field\">\n            <form action=\"#\">\n                <p>\n                    <input class=\"with-gap\" name=\"offline-contacts\" value=\"yes\" type=\"radio\" id=\"{{view.cid}}-show\" />\n                    <label for=\"{{view.cid}}-show\">{[print(xabber.getString(\"settings__section_contact_list__offline_contacts__label_show\"))]}</label>\n                </p>\n                <p>\n                    <input class=\"with-gap\" name=\"offline-contacts\" value=\"no\" type=\"radio\" id=\"{{view.cid}}-hide\" />\n                    <label for=\"{{view.cid}}-hide\">{[print(xabber.getString(\"settings__section_contact_list__offline_contacts__label_hide\"))]}</label>\n                </p>\n            </form>\n        </div>\n    </div>\n    <div class=\"setting-name\">{[print(xabber.getString(\"settings__section_contact_list__header_sorting\"))]}</div>\n    <div class=\"setting sorting-contacts radio-button field-wrap\">\n        <div class=\"field radio-field clickable-field\">\n            <form action=\"#\">\n                <p>\n                    <input class=\"with-gap\" name=\"sorting-contacts\" value=\"online-first\" type=\"radio\" id=\"{{view.cid}}-online-first\" />\n                    <label for=\"{{view.cid}}-online-first\">{[print(xabber.getString(\"settings__section_contact_list__sorting__label_online_first\"))]}</label>\n                </p>\n                <p>\n                    <input class=\"with-gap\" name=\"sorting-contacts\" value=\"by-alphabet\" type=\"radio\" id=\"{{view.cid}}-by-alphabet\" />\n                    <label for=\"{{view.cid}}-by-alphabet\">{[print(xabber.getString(\"settings__section_contact_list__sorting__label_alphabet\"))]}</label>\n                </p>\n            </form>\n        </div>\n    </div>\n"}),define("text!templates/contacts/group_settings.html",[],function(){return"<div class=\"modal-content-wrap settings-panel\">\n    <div class=\"modal-header\">\n        <span>{[print(xabber.getString(\"dialog_circle_settings__header\"))]}</span>\n    </div>\n\n    <div class=\"modal-content\">\n            <div class=\"field-wrap group-name\">\n                <div class=\"input-field\">\n                    <input id=\"{{view.cid}}-group-name\" type=\"text\" name=\"group_name\">\n                    <label for=\"{{view.cid}}-group-name\">{[print(xabber.getString(\"circle_name\"))]}</label>\n                    <span class=\"errors fixed\"></span>\n                </div>\n            </div>\n\n            <div class=\"setting-name\">{[print(xabber.getString(\"category_offline_contacts\"))]}</div>\n            <div class=\"setting-wrap\">\n                <div class=\"setting offline radio-button field-wrap\">\n                    <div class=\"field radio-field clickable-field\">\n                        <form action=\"#\">\n                            <p>\n                                <input class=\"with-gap\" name=\"offline\" value=\"yes\" type=\"radio\" id=\"{{view.cid}}-show\" />\n                                <label for=\"{{view.cid}}-show\">{[print(xabber.getString(\"show_offline_always\"))]}</label>\n                            </p>\n                            <p>\n                                <input class=\"with-gap\" name=\"offline\" value=\"no\" type=\"radio\" id=\"{{view.cid}}-hide\" />\n                                <label for=\"{{view.cid}}-hide\">{[print(xabber.getString(\"hide_offline_always\"))]}</label>\n                            </p>\n                            <p>\n                                <input class=\"with-gap\" name=\"offline\" value=\"default\" type=\"radio\" id=\"{{view.cid}}-show-offline-default\" />\n                                <label for=\"{{view.cid}}-show-offline-default\">{[print(xabber.getString(\"dialog_circle_settings__label_common_settings\"))]}</label>\n                            </p>\n                        </form>\n                    </div>\n                </div>\n            </div>\n    </div>\n    <div class=\"modal-footer\">\n        <button class=\"btn-flat btn-main btn-dark btn-delete left\">{[print(xabber.getString(\"circle_remove\"))]}</button>\n        <button class=\"btn-flat btn-main btn-apply\">{[print(xabber.getString(\"dialog_circle_settings__button_apply\"))]}</button>\n        <button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button>\n    </div>\n</div>\n"}),define("text!templates/contacts/groups_checkbox_list.html",[],function(){return"{[ for (var i = 0; i < groups.length; i++) { var name = groups[i].name, checked = groups[i].checked, group_id = groups[i].id; ]}\n    <div class=\"input-field checkbox-field existing-group-field\">\n        <input type=\"checkbox\" class=\"filled-in\" id=\"{{group_id}}\" data-groupname=\"{{name}}\" {[ if (checked) { ]}checked=\"checked\"{[ } ]} />\n        <label for=\"{{group_id}}\">{{name}}</label>\n    </div>\n{[ } ]}\n    <div class=\"new-group-field-wrap\">\n        <div class=\"input-field checkbox-field new-group-checkbox hidden\">\n            <input type=\"checkbox\" class=\"filled-in\" id=\"new_group_checkbox\"/>\n            <label for=\"new_group_checkbox\">.</label>\n        </div>\n        <div class=\"input-field new-group-name\">\n            <input class=\"xabber-input\" id=\"new-group-name\" type=\"text\" name=\"new_group_name\" placeholder='{[print(xabber.getString(\"add_new_circle\"))]}'>\n        </div>\n    </div>\n"}),define("text!templates/contacts/add_contact_account_item.html",[],function(){return"<div class=\"account-item-wrap\" data-jid=\"{{jid}}\">\n    <div class=\"circle-avatar noselect\">\n        <img>\n    </div>\n    <div class=\"name one-line\">{{jid}}</div>\n</div>\n"}),define("text!templates/contacts/contact_placeholder.html",[],function(){return"<div class=\"text\">{[print(xabber.getString(\"contact_list__placeholder\"))]}</div>\n"}),define("text!templates/contacts/groups.html",[],function(){return"<div class=\"groups-header block-header\">\n    <span class=\"block-name\">{[print(xabber.getString(\"contact_circle\"))]}</span>\n</div>\n<div class=\"groups-wrap\">\n    <div class=\"groups checkbox-list\">\n    </div>\n</div>"}),define("text!templates/contacts/preloader.html",[],function(){return"<div class=\"preloader-wrapper preloader-17px active visible\">\n    <div class=\"spinner-layer\">\n        <div class=\"circle-clipper left\">\n            <div class=\"circle\"></div>\n        </div>\n        <div class=\"gap-patch\">\n            <div class=\"circle\"></div>\n        </div>\n        <div class=\"circle-clipper right\">\n            <div class=\"circle\"></div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/group_chat_properties.html",[],function(){return"<div class=\"block-header\">\n    <span class=\"block-name\"></span>\n    <span class=\"btn-edit-settings\">{[print(xabber.getString(\"group_settings__properties__button_edit\"))]}</span>\n</div>\n<div class=\"group-chat-properties vcard\">\n    <div class=\"info-wrap jid-info-wrap\">\n        <div title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon-wrap\">\n            <svg class=\"details-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"xmpp\"></svg>\n        </div>\n        <div class=\"info jabber-id\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"group_settings__properties__label_jid\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap name-info-wrap\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-account-box-outline\"></i>\n        <div class=\"info name\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"groupchat_name\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap description-info-wrap\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-file-document-box\"></i>\n        <div class=\"info description\">\n            <div class=\"value\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"groupchat_description\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap searchable-info-wrap\">\n        <svg class=\"details-icon toolbar-icon mdi mdi-24px\" viewBox=\"0 0 24 24\">\n            <path title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' d=\"M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M19.35,8.03C21.95,8.22 24,10.36 24,13C24,14.64 23.21,16.1 22,17V16.5A6.5,6.5 0 0,0 15.5,10A6.5,6.5 0 0,0 9,16.5C9,17 9.06,17.5 9.17,18H6A6,6 0 0,1 0,12C0,8.9 2.34,6.36 5.35,6.03C6.6,3.64 9.11,2 12,2C15.64,2 18.67,4.59 19.35,8.03Z\"></path>\n        </svg>\n        <div class=\"info searchable\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"group_settings__properties__label_indexed\"))]}</div>\n        </div>\n    </div>\n    <div class=\"info-wrap model-info-wrap\">\n        <i title='{[print(xabber.getString(\"group_settings__properties__tooltip_copy_by_click\"))]}' class=\"details-icon mdi mdi-24px mdi-lock\"></i>\n        <div class=\"info model\">\n            <div class=\"value one-line\"></div>\n            <div class=\"label\">{[print(xabber.getString(\"groupchat_membership\"))]}</div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/group_chat_details.html",[],function(){return"<div class=\"panel-content-wrap noselect\">\n    <div class=\"main-info\">\n        <div class=\"avatar-wrap\">\n            <div class=\"circle-avatar\">\n                <input title='{[print(xabber.getString(\"groupchat_member_edit_change_avatar\"))]}' type=\"file\"/>\n                <svg class=\"set-groupchat-avatar\" viewBox=\"0 0 24 24\">\n                    <path d=\"M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z\" />\n                </svg>\n                <div class=\"preloader-wrap\"><div class=\"preloader-wrapper preloader-32px visible\">\n                    <div class=\"spinner-layer\">\n                        <div class=\"circle-clipper left\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"gap-patch\">\n                            <div class=\"circle\"></div>\n                        </div>\n                        <div class=\"circle-clipper right\">\n                            <div class=\"circle\"></div>\n                        </div>\n                    </div>\n                </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"text-info\">\n            <div class=\"name-wrap\"></div>\n            <div class=\"status-message one-line\"></div>\n        </div>\n        <div class=\"btn-more dropdown-button\" data-activates=\"{{view.cid}}-buttons-wrap\">\n            <i class=\"mdi mdi-24px mdi-dots-vertical\"></i>\n        </div>\n        <ul class=\"buttons-menu-wrap dropdown-content noselect\" id=\"{{view.cid}}-buttons-wrap\">\n            <li class=\"btn-qr-code\"><span class=\"one-line\">{[print(xabber.getString(\"contact_settings__button_show_qr_code\"))]}</span></li>\n            <li class=\"btn-edit-settings\"><span class=\"one-line\">{[print(xabber.getString(\"groupchat_settings\"))]}</span></li>\n            <li class=\"btn-default-restrictions\"><span class=\"one-line\">{[print(xabber.getString(\"groupchat_default_restrictions\"))]}</span></li>\n            <li class=\"btn-delete-group\"><span class=\"one-line\">{[print(xabber.getString(\"group_settings__button_delete_group\"))]}</span></li>\n        </ul>\n        <div class=\"btn-escape\">\n            <i class=\"mdi mdi-24px mdi-close\"></i>\n            <span class=\"btn-text\">{[print(xabber.getString(\"button_esc\"))]}</span>\n        </div>\n        <div class=\"buttons-wrap\">\n            <div class=\"button-wrap btn-chat-wrap\">\n                <i class=\"mdi mdi-24px mdi-message-text btn-chat\"></i>\n                <div class=\"btn-name\">{[print(xabber.getString(\"contact_bar_chat\"))]}</div>\n            </div>\n            <div class=\"button-wrap btn-invite-wrap\">\n                <i class=\"mdi mdi-24px mdi-account-multiple-plus btn-invite\"></i>\n                <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_bar_invite\"))]}</div>\n            </div>\n            <div class=\"button-wrap btn-mute-wrap\">\n                <i class=\"mdi mdi-24px mdi-bell btn-mute\"></i>\n                <div class=\"btn-name\">{[print(xabber.getString(\"contact_bar_notifications\"))]}</div>\n            </div>\n            <div class=\"button-wrap btn-leave-wrap\">\n                <div class=\"btn-leave\"><svg viewBox=\"0 0 24 24\">\n                    <path d=\"M13.34,8.17C12.41,8.17 11.65,7.4 11.65,6.47A1.69,1.69 0 0,1 13.34,4.78C14.28,4.78 15.04,5.54 15.04,6.47C15.04,7.4 14.28,8.17 13.34,8.17M10.3,19.93L4.37,18.75L4.71,17.05L8.86,17.9L10.21,11.04L8.69,11.64V14.5H7V10.54L11.4,8.67L12.07,8.59C12.67,8.59 13.17,8.93 13.5,9.44L14.36,10.79C15.04,12 16.39,12.82 18,12.82V14.5C16.14,14.5 14.44,13.67 13.34,12.4L12.84,14.94L14.61,16.63V23H12.92V17.9L11.14,16.21L10.3,19.93M21,23H19V3H6V16.11L4,15.69V1H21V23M6,23H4V19.78L6,20.2V23Z\" />\n                </svg>\n                </div>\n                <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_bar_leave\"))]}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"panel-content\">\n        <div class=\"head-block\">\n            <div class=\"left-column\">\n                <div class=\"block-wrap group-chat-properties-wrap\"></div>\n            </div>\n            <div class=\"right-column\">\n                <div class=\"block-wrap status-block-wrap\"></div>\n                <div class=\"block-wrap groups-block-wrap\"></div>\n            </div>\n        </div>\n        <div class=\"bottom-block\">\n            <ul class=\"tabs\">\n                <li data-value=\"participants\" class=\"list-variant tab\"><a class=\"text-color-700\">{[print(xabber.getString(\"group_settings__members_list__header\"))]}</a></li>\n                <li data-value=\"invitations\" class=\"list-variant tab\"><a class=\"text-color-700\">{[print(xabber.getString(\"groupchat_invitations\"))]}</a></li>\n                <li data-value=\"blocked\" class=\"list-variant tab\"><a class=\"text-color-700\">{[print(xabber.getString(\"group_settings__block_list__header\"))]}</a></li>\n            </ul>\n            <div class=\"block-wrap participants-wrap\"></div>\n        </div>\n    </div>\n</div>\n"}),define("text!templates/contacts/group_chats/invitation.html",[],function(){return"<div class=\"panel-content-wrap noselect\">\n    <div class=\"main-info\">\n        <div class=\"circle-avatar\"></div>\n        <div class=\"text-info\">\n            <div class=\"name-wrap one-line\"></div>\n            <div class=\"jid one-line\"></div>\n        </div>\n    </div>\n\n    <div class=\"panel-content\">\n        <div class=\"msg-wrap\"><p class=\"msg-text\"></p></div>\n        <div class=\"panel-footer noselect\">\n            <div class=\"buttons-wrap\">\n                <button class=\"btn-join btn-flat btn-main\">{[print(xabber.getString(\"groupchat_join\"))]}</button>\n                <button class=\"btn-decline btn-flat btn-main\">{[print(xabber.getString(\"groupchat_decline\"))]}</button>\n                <button class=\"btn-block btn-flat btn-main\">{[print(xabber.getString(\"groupchat_block\"))]}</button>\n            </div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/group_chat_properties_edit.html",[],function(){return"<div class=\"modal-header\"><div class=\"panel-header black-text\">{[if (privacy) { print(xabber.getString(\"incognito_group_settings__header\"))} else { print(xabber.getString(\"public_group_settings__header\"))}]}</div></div>\n<div class=\"modal-content group-chat-properties-wrap selectable-text\">\n    <div class=\"property-wrap jid-info-wrap\">\n        <div class=\"property-header\">{[print(xabber.getString(\"hint_xmpp_id\"))]}</div>\n        <div class=\"jabber-id\">\n            <div class=\"value one-line\">{{jid}}</div>\n        </div>\n        <p id=\"anonymous-public\" class=\"property-description hidden\">{[print(xabber.getString(\"group_settings_edit__setting_privacy__text_public\"))]}</p>\n        <p id=\"anonymous-incognito\" class=\"property-description hidden\">{[print(xabber.getString(\"group_settings_edit__setting_privacy__text_incognito\"))]}</p>\n    </div>\n    {[fields.forEach(function (field) { if (field.type === 'hidden' || field.type === 'jid-multi') return;]}\n    <div class=\"property-wrap {{field.var}}-field\">\n        {[if (!(field.type == 'fixed' && field.values[0] === \"\")) {]}\n        <div class=\"property-header\">{{field.label}}</div>\n        {[}]}\n        {[if (field.type === 'text-single') {]}\n        <div class=\"input-field input-group-chat-name\">\n            <input value=\"{{field.values[0]}}\" id=\"new_{{field.var}}_value\" type=\"text\" name=\"{{field.var}}\" placeholder='{[print(xabber.getString(\"group_settings_edit__setting_name__hint\"))]}' class=\"text-field\">\n        </div>\n        {[} else if (field.type === 'text-multi') {]}\n        <textarea placeholder='{[print(xabber.getString(\"groupchat_example_description\"))]}' id=\"{{field.var}}\" cols=\"30\" rows=\"10\" class=\"text-field materialize-textarea rich-textarea\">{{field.values[0]}}</textarea>\n        {[} else if (field.type === 'list-single') { field.options.forEach(function (option) {]}\n        <div class=\"property-radio\">\n            <input {[if (option.value === field.values[0]){]}checked{[}]} id=\"{{option.value}}\" name=\"{{field.var}}\" type=\"radio\" class=\"with-gap\" required=\"\">\n            <label class=\"{{option.value}}-label\" for=\"{{option.value}}\">{{option.label}}</label>\n        </div>\n        {[});} else  if (field.type === 'fixed' && field.values[0] !== \"\") {]}\n        <div class=\"fixed-field{[if (field.var === 'description'){]} description{[}]}\">\n            <div class=\"value\">{{field.values[0]}}</div>\n        </div>\n        {[}]}\n        {[if (field.var === 'index'){]}\n        <p class=\"property-description\">{[print(xabber.getString(\"group_settings_edit__setting_index__text\"))]}</p>\n        {[} else if (field.var === 'membership') {]}\n        <p class=\"property-description\">{[print(xabber.getString(\"group_settings_edit__setting_membership__text\"))]}</p>\n        {[}]}\n    </div>\n    {[})]}\n</div>\n<div class=\"modal-footer\">\n    <div class=\"buttons-wrap\">\n        {[if (!all_fixed){]}\n        <button class=\"btn-save btn-flat btn-main non-active\">{[print(xabber.getString(\"save\"))]}</button>\n        {[}]}\n        <button class=\"btn-cancel btn-flat btn-dark btn-main\">{[print(xabber.getString(\"cancel\"))]}</button>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/default_restrictions.html",[],function(){return"<div class=\"modal-header\"><div class=\"panel-header black-text\">{[print(xabber.getString(\"groupchat_default_restrictions\"))]}</div></div>\n<div class=\"modal-content\">\n    <div class=\"default-restrictions-list-wrap\"></div>\n    <p class=\"default-restrictions-info\">{[print(xabber.getString(\"dialog_default_restrictions__placeholder\"))]}</p>\n</div>\n<div class=\"modal-footer\">\n    <div class=\"buttons-wrap\">\n        <button class=\"btn-default-restrictions-save btn-flat btn-main non-active\">{[print(xabber.getString(\"save\"))]}</button>\n        <button class=\"btn-default-restrictions-cancel btn-flat btn-main btn-dark\">{[print(xabber.getString(\"cancel\"))]}</button>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/group_member_item.html",[],function(){return"<tr class=\"participant-wrap\" data-id=\"{{id}}\" data-jid=\"{{jid}}\">\n    <td class=\"list-item group-chat-participant\">\n        <div class=\"member-item\">\n            <div class=\"circle-avatar\"/>\n            <div class=\"participant-info\">\n            <div class=\"top-line\"><div title=\"{{nickname}}\" class=\"nickname one-line\">{{nickname}}</div>{[if (badge) {]}<div class=\"badge one-line\">{{badge}}</div>{[}]}</div>\n            {[if (jid) {]}<p class=\"jid one-line\">{{jid}}</p>{[}]}\n            </div>\n        </div>\n    </td>\n    <td class=\"last-seen\">{[if (!present) {]}<span class=\"online-status text-color-green-700\">{[print(xabber.getString(\"group_settings__members__status_online\"))]}</span>{[} else {]}<span title=\"{{present}}\">{{pretty_present}}</span>{[}]}</td>\n    <td class=\"role\">{[if (role !== 'member') {]}{{role}}{[}]}</td>\n    <td>\n        {[if (is_me) {]}\n        <span style=\"font-size:12px\" class=\"text-color-500\">{[print(xabber.getString(\"groupchat_this_is_you\"))]}</span>\n        {[} else {]}\n        <div class=\"buttons-wrap\">\n            <div title='{[print(xabber.getString(\"groupchat_kick\"))]}' class=\"btn-kick\">\n                <i class=\"mdi mdi-24px mdi-account-remove\"></i>\n            </div>\n            <div title='{[print(xabber.getString(\"groupchat_kick_and_block\"))]}' class=\"btn-block\">\n                <svg class=\"mdi mdi-24px\" viewBox=\"0 0 24 24\">\n                    <path fill=\"#9e9e9e\" d=\"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z\" />\n                </svg>\n            </div>\n        </div>\n        {[}]}\n    </td>\n</tr>"}),define("text!templates/contacts/group_chats/invited_member_item.html",[],function(){return"<div class=\"list-item {{status}}-user\" data-jid=\"{{jid}}\">\n    <div class=\"member-item\">\n        <div class=\"circle-avatar\"/>\n        <p title=\"{{jid}}\" class=\"one-line\">{{jid}}</p>\n        {[if (status == 'invitations') {]}\n        <div title='{[print(xabber.getString(\"groupchat_revoke\"))]}' class=\"revoke-invitation\">\n            {[}else{]}\n            <div title='{[print(xabber.getString(\"groupchat_unblock\"))]}' class=\"unblock-user\">\n                {[}]}\n                <i class=\"mdi mdi-20px mdi-close\"></i>\n            </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/participant_rights.html",[],function(){return"<div class=\"header\">\n</div>\n<div class=\"modal-content\">\n    <div class=\"rights-wrap\">\n    </div>\n</div>\n<div class=\"modal-footer noselect\">\n    <div class=\"buttons-wrap\">\n        <button class=\"btn-save-user-rights non-active btn-flat btn-main\">{[print(xabber.getString(\"groupchat_save_member_settings\"))]}</button>\n        <button class=\"btn-cancel-changes btn-flat btn-main btn-dark\">{[print(xabber.getString(\"cancel\"))]}</button>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/restriction_item.html",[],function(){return"<div class=\"right-item restriction restriction-{{name}}\">\n    <div class=\"right-name\">{{pretty_name}}</div>\n    <div class=\"field clickable-field restriction-{{name}}-state switch normal\">\n        <input type=\"checkbox\" {[if (type === 'fixed') {]} onclick=\"return false;\" {[}]} class=\"filled-in\" id=\"{{name}}\">\n        <label for=\"{{name}}\"></label>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/right_expire_variants.html",[],function(){return"<div class=\"select-timer\">\n    <div class=\"dropdown-button\" data-activates=\"select-timer-{{right_name}}\">\n        <div class=\"timer-item-wrap\"><div data-value=\"0\" class=\"default-value property-value\">{[print(xabber.getString(\"dialog_rights__button_set_timer\"))]}</div></div>\n    </div>\n    <div id=\"select-timer-{{right_name}}\" class=\"dropdown-content noselect\">\n        {[expire_options.forEach(function (option) {]}\n        <div data-value=\"{{option.value}}\" class=\"property-variant\">{{option.label}}</div>\n        {[}.bind(this));]}\n    </div>\n</div>\n"}),define("text!templates/contacts/group_chats/pinned_message.html",[],function(){return"<svg class=\"pin\" viewBox=\"0 0 24 24\">\n    <path fill=\"#757575\" d=\"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z\" />\n</svg>\n<div class=\"msg-wrap\">\n    <div class=\"chat-msg-author-wrap\">\n        <div class=\"chat-msg-author text-color-700 one-line\">{{author}}</div>{[if (fwd_author){]}<svg class=\"fwd-chevron\" viewBox=\"0 0 24 24\"><path fill=\"#9E9E9E\" d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"/></svg><div class=\"chat-msg-author text-color-700 one-line\">{{fwd_author}}</div>{[}]}\n        <div class=\"msg-time\">{{time}}</div>\n    </div>\n    <div class=\"chat-msg-content chat-text-content one-line\">\n        {{message}}\n    </div>\n</div>\n<svg title='{[print(xabber.getString(\"group_chat__pinned_message__tooltip_unpin\"))]}' class=\"close\" viewBox=\"0 0 24 24\">\n    <path class=\"close\" fill=\"#9E9E9E\" d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\n</svg>"}),define("text!templates/contacts/group_chats/participant_details_item.html",[],function(){return"<div class=\"participant-details-item {[if (subscription === null) {]}unsubscribed{[}]}\" data-id=\"{{id}}\" data-jid=\"{{jid}}\" data-role=\"{{role}}\">\n    {[if (subscription !== null) {]}\n    <div class=\"btn-more dropdown-button\" data-activates=\"{{id}}-buttons-wrap\">\n        <i class=\"mdi mdi-24px mdi-dots-vertical\"></i>\n    </div>\n    <ul class=\"buttons-menu-wrap dropdown-content noselect\" id=\"{{id}}-buttons-wrap\">\n        <li class=\"btn-block-participant\"><span class=\"one-line\">{[print(xabber.getString(\"groupchat_block\"))]}</span></li>\n    </ul>\n    {[}]}\n    <div class=\"circle-avatar\">\n        {[if (subscription !== null) {]}\n        <input title='{[print(xabber.getString(\"groupchat_member_edit_change_avatar\"))]}' type=\"file\">\n            <svg class=\"set-groupchat-avatar\" viewBox=\"0 0 24 24\">\n                <path d=\"M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z\" />\n            </svg>\n            <div class=\"preloader-wrap\"><div class=\"preloader-wrapper preloader-16px visible\">\n                <div class=\"spinner-layer\">\n                    <div class=\"circle-clipper left\">\n                        <div class=\"circle\"></div>\n                    </div>\n                    <div class=\"gap-patch\">\n                        <div class=\"circle\"></div>\n                    </div>\n                    <div class=\"circle-clipper right\">\n                        <div class=\"circle\"></div>\n                    </div>\n                </div>\n            </div>\n            </div>\n        {[}]}\n    </div>\n        <div class=\"participant-info\">\n            {[if (subscription !== null) {]}<div id=\"edit-nickname\" class=\"rich-textarea\" tabindex=\"1\" contenteditable></div>{[}]}\n            <div title=\"{{nickname}}\" class=\"nickname one-line\">{{nickname}}</div>\n            <div class=\"badge one-line {[if (!badge) {]}hidden{[}]}\">{{badge}}</div>\n            {[if (jid) {]}<p title=\"{{jid}}\" class=\"jid selectable-text one-line\">{{jid}}</p>{[}]}\n            {[ if (is_myself) {]}\n            <div class=\"my-flag one-line text-color-red-700\">{[print(xabber.getString(\"groupchat_this_is_you\"))]}</div>\n            {[}]}\n            {[if (subscription === null) {]}<p class=\"role selectable-text one-line\">{[if (blocked) { print(xabber.getString(\"groupchat_blocked\")); }else{print(xabber.getString(\"settings_group_member__placeholder_not_a_member\"));}]}</p>{[}]}\n        </div>\n    <div class=\"buttons-wrap\">\n        {[if (incognito_chat) {]}\n        <div class=\"button-wrap non-active btn-chat-wrap\">\n            <i class=\"mdi mdi-24px mdi-incognito btn-chat\"></i>\n            <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_private_chat\"))]}</div>\n        </div>\n        {[} else {]}\n        <div class=\"button-wrap non-active btn-chat-wrap\">\n            <i class=\"mdi mdi-24px mdi-message-text btn-chat\"></i>\n            <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_direct_chat\"))]}</div>\n        </div>\n        {[}]}\n        <div class=\"button-wrap btn-participant-messages-wrap\">\n            <i class=\"mdi mdi-24px mdi-view-list btn-participant-messages\"></i>\n            <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_member_messages\"))]}</div>\n        </div>\n        <div class=\"button-wrap btn-set-badge-wrap\">\n            <svg class=\"btn-set-badge\" viewBox=\"0 0 24 24\">\n                <path d=\"M17,3H14V6H10V3H7A2,2 0 0,0 5,5V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V5A2,2 0 0,0 17,3M12,8A2,2 0 0,1 14,10A2,2 0 0,1 12,12A2,2 0 0,1 10,10A2,2 0 0,1 12,8M16,16H8V15C8,13.67 10.67,13 12,13C13.33,13 16,13.67 16,15V16M13,5H11V1H13V5M16,19H8V18H16V19M12,21H8V20H12V21Z\" />\n            </svg>\n            <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_set_member_badge\"))]}</div>\n        </div>\n        <div class=\"button-wrap btn-kick-participant-wrap\">\n            <i class=\"mdi mdi-24px mdi-account-remove btn-kick-participant\"></i>\n            <div class=\"btn-name\">{[print(xabber.getString(\"groupchat_kick\"))]}</div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/participants.html",[],function(){return"<table class=\"members-list-wrap\">\n    <thead>\n    <tr>\n        <th>\n            <div class=\"participants-search-form search-form\">\n                <svg class=\"search-icon\" viewBox=\"0 0 24 24\">\n                    <path d=\"M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M10,4A4,4 0 0,1 14,8C14,8.91 13.69,9.75 13.18,10.43C12.32,10.75 11.55,11.26 10.91,11.9L10,12A4,4 0 0,1 6,8A4,4 0 0,1 10,4M2,20V18C2,15.88 5.31,14.14 9.5,14C9.18,14.78 9,15.62 9,16.5C9,17.79 9.38,19 10,20H2Z\" />\n                </svg>\n                <input type=\"text\" class=\"search-input simple-input-field\" tabindex=\"1\" placeholder='{[print(xabber.getString(\"groupchat_search_members\"))]}'>\n                <i class=\"close-search-icon mdi mdi-20px mdi-close\"></i>\n            </div>\n        </th>\n        <th>{[print(xabber.getString(\"group_settings__members__label_last_seen\"))]}</th>\n        <th>{[print(xabber.getString(\"groupchat_role\"))]}</th>\n        <th></th>\n    </tr>\n    </thead>\n    <tbody></tbody>\n</table>\n<div class=\"preloader-wrapper preloader-17px active\">\n    <div class=\"spinner-layer\">\n        <div class=\"circle-clipper left\">\n            <div class=\"circle\"></div>\n        </div>\n        <div class=\"gap-patch\">\n            <div class=\"circle\"></div>\n        </div>\n        <div class=\"circle-clipper right\">\n            <div class=\"circle\"></div>\n        </div>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/badge_edit_view.html",[],function(){return"<div class=\"modal-content\">\n    <div class=\"textarea-header\">{[print(xabber.getString(\"groupchat_member_badge\"))]}</div>\n    <div class=\"rich-textarea badge-text\" tabindex=\"1\" contenteditable></div>\n    <div class=\"error\"></div>\n</div>\n<div class=\"panel-footer noselect\">\n    <div class=\"buttons-wrap\">\n        <div class=\"insert-emoticon\">\n            <i class=\"mdi mdi-24px mdi-emoticon hover-text-color-500\"></i>\n        </div>\n        <div class=\"emoticons-panel-wrap\">\n            <div class=\"emoticons-panel\"></div>\n            <div class=\"emoji-menu\"></div>\n        </div>\n        <button class=\"btn-save btn-flat btn-main\">{[print(xabber.getString(\"save\"))]}</button>\n        <button class=\"btn-cancel btn-flat btn-main btn-dark\">{[print(xabber.getString(\"cancel\"))]}</button>\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/private_participant_details.html",[],function(){return"<div class=\"participant-details-item\" data-id=\"{{id}}\" data-jid=\"{{jid}}\" data-role=\"{{role}}\">\n    <div class=\"circle-avatar\">\n        {[ if (is_myself) {]}\n        <input title='{[print(xabber.getString(\"groupchat_member_edit_change_avatar\"))]}' type=\"file\">\n        {[}]}\n        {[ if (is_myself) {]}\n        <svg class=\"set-groupchat-avatar\" viewBox=\"0 0 24 24\">\n            <path d=\"M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z\" />\n        </svg>\n        <div class=\"preloader-wrap\"><div class=\"preloader-wrapper preloader-16px visible\">\n            <div class=\"spinner-layer\">\n                <div class=\"circle-clipper left\">\n                    <div class=\"circle\"></div>\n                </div>\n                <div class=\"gap-patch\">\n                    <div class=\"circle\"></div>\n                </div>\n                <div class=\"circle-clipper right\">\n                    <div class=\"circle\"></div>\n                </div>\n            </div>\n        </div>\n        </div>\n        {[}]}\n    </div>\n    <div class=\"participant-info\">\n        {[ if (is_myself) {]}\n        <div id=\"edit-nickname\" class=\"rich-textarea\" tabindex=\"1\" contenteditable></div>\n        {[}]}\n        <div title=\"{{nickname}}\" class=\"{{is_myself && 'is-myself'}} nickname one-line\">{{nickname}}</div>\n        <div class=\"badge one-line {[if (!badge) {]}hidden{[}]}\">{{badge}}</div>\n        {[ if (is_myself) {]}\n        <div class=\"my-flag one-line text-color-red-700\">{[print(xabber.getString(\"groupchat_this_is_you\"))]}</div>\n        {[}]}\n    </div>\n</div>"}),define("text!templates/contacts/group_chats/set_status.html",[],function(){return"<div class=\"modal-content-wrap\">\n    <div class=\"modal-header\">\n        <span>{[print(xabber.getString(\"dialog_set_status__header\"))]}</span>\n    </div>\n    <ul class=\"status-values noselect\">\n        <div class=\"loading-status\">\n            <div class=\"preloader-wrapper preloader-17px active\">\n                <div class=\"spinner-layer\">\n                    <div class=\"circle-clipper left\">\n                        <div class=\"circle\"></div>\n                    </div>\n                    <div class=\"gap-patch\">\n                        <div class=\"circle\"></div>\n                    </div>\n                    <div class=\"circle-clipper right\">\n                        <div class=\"circle\"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </ul>\n</div>\n"}),define("text!templates/contacts/group_chats/status_item.html",[],function(){return"<li data-value=\"{{status.value}}\">\n    <span class=\"status-value one-line\">{{status.label}}</span>\n    <span class=\"status-bulb\" data-status=\"{{status.show}}\"></span>\n</li>"}),define("text!templates/contacts/group_chats/group_status.html",[],function(){return"<div class=\"block-header\">\n    <span class=\"block-name\">{[print(xabber.getString(\"groupchat_status\"))]}</span>\n</div>\n<div class=\"group-chat-status\">\n    <div class=\"status-wrap\">\n        <div class=\"status status-bulb\"></div>\n        <div class=\"status-message\"></div>\n    </div>\n    <div class=\"btn-edit-status\">{[print(xabber.getString(\"group_settings__properties__button_edit\"))]}</div>\n</div>"}),define("text!templates/chats/chats_panel.html",[],function(){return"<div class=\"recent-chats-panel noselect\">\n    <div class=\"chats-search-form search-form panel-head\">\n        <div class=\"account-indicator\"></div>\n        <i class=\"search-icon mdi mdi-20px mdi-magnify\"></i>\n        <input type=\"text\" class=\"search-input simple-input-field\" tabindex=\"1\" placeholder='{[print(xabber.getString(\"search\"))]}'>\n        <i class=\"close-search-icon mdi mdi-20px mdi-close\"></i>\n    </div>\n    <div class=\"chat-list-wrap left-panel-list-wrap\">\n        <div class=\"chat-list item-list\">\n        </div>\n        <div class=\"searched-lists-wrap\">\n            <div class=\"chats-list-wrap hidden\">\n                <div class=\"account-indicator\"></div>\n                <div class=\"chats-title\">{[print(xabber.getString(\"search__header_chats\"))]}</div>\n                <div class=\"chats-list roster-left-container\"></div>\n            </div>\n            <div class=\"contacts-list-wrap hidden\">\n                <div class=\"account-indicator\"></div>\n                <div class=\"contacts-title\">{[print(xabber.getString(\"category_title_contacts\"))]}</div>\n                <div class=\"contacts-list roster-left-container\"></div>\n            </div>\n            <div class=\"messages-list-wrap hidden\">\n                <div class=\"account-indicator\"></div>\n                <div class=\"messages-title\">{[print(xabber.getString(\"search__header_messages\"))]}</div>\n                <div class=\"messages-list roster-left-container\"></div>\n            </div>\n        </div>\n        <div class=\"load-chats-feedback hidden\">{[print(xabber.getString(\"placeholder_loading\"))]}</div>\n    </div>\n    <div class=\"read-all-button hidden\">{[print(xabber.getString(\"mark_all_as_read_button\"))]}</div>\n</div>\n"}),define("text!templates/chats/add_chat_account_item.html",[],function(){return"<div class=\"account-item-wrap\" data-jid=\"{{jid}}\">\n    <div class=\"name one-line\">{{jid}}</div>\n</div>\n"}),define("text!templates/chats/chat_item.html",[],function(){return"<div class=\"account-indicator ground-color-700\"></div>\n<div class=\"circle-avatar\"></div>\n<div class=\"status hide-offline\"></div>\n<div class=\"chat-icon hidden\"></div>\n<div class=\"recent-chat-info\">\n    <div class=\"chat-title-wrap\">\n        <i class=\"mdi encrypted-icon mdi-14px mdi-lock\"></i>\n        <p class=\"chat-title one-line\"></p>\n        <i class=\"mdi muted-icon mdi-14px mdi-bell-off\"></i>\n        <p class=\"last-msg-date\"></p>\n    </div>\n    <p class=\"last-msg one-line\"></p>\n    <i class=\"msg-delivering-state mdi mdi-12px hidden\"></i>\n</div>\n<span class=\"msg-counter hidden\"></span>\n"}),define("text!templates/chats/chat_head.html",[],function(){return"<div class=\"circle-avatar\"/>\n<div class=\"contact-status hide-offline\"/>\n<div class=\"chat-icon hidden\"></div>\n<div class=\"contact-info\">\n    <div class=\"contact-name-wrap one-line\">\n        <i class=\"mdi encrypted-icon mdi-14px mdi-lock\"></i>\n        <p class=\"contact-name one-line\"></p>\n    </div>\n    <p class=\"contact-status-message one-line\"></p>\n</div>\n<div class=\"chat-tools-wrap\">\n    <div class=\"chat-tool btn-show-fingerprints\">\n        <i class=\"mdi mdi-lock mdi-24px\"></i>\n    </div>\n    <div class=\"chat-tool btn-jingle-message\">\n        <i class=\"mdi mdi-phone mdi-24px\"></i>\n    </div>\n    <div class=\"chat-tool btn-set-status\">\n        <svg class=\"mdi mdi-24px\" viewBox=\"0 0 24 24\">\n            <g stroke=\"none\" stroke-width=\"1\" fill=\"none\">\n                <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"/>\n                <path d=\"M20,4 C21.1045695,4 22,4.8954305 22,6 L22,16 C22,17.1045695 21.1045695,18 20,18 L16,18 L12,22 L8,18 L4,18 C2.8954305,18 2,17.1045695 2,16 L2,6 C2,4.8954305 2.8954305,4 4,4 L20,4 Z M16,12 L6,12 L6,14 L16,14 L16,12 Z M18,8 L6,8 L6,10 L18,10 L18,8 Z\" id=\"tooltip-variant\" fill=\"#9E9E9E\" fill-rule=\"nonzero\"/>\n            </g>\n        </svg>\n    </div>\n    <div class=\"chat-tool btn-search-messages\">\n        <i class=\"search-icon mdi mdi-24px mdi-magnify\"></i>\n    </div>\n    <div class=\"chat-tool btn-archive-chat\">\n        <i class=\"mdi mdi-24px mdi-package-down\"></i>\n    </div>\n    <div class=\"chat-tool btn-notifications\">\n        <i class=\"mdi muted-icon mdi-22px mdi-bell\"></i>\n    </div>\n    <div class=\"chat-tool btn-more dropdown-button\" data-activates=\"{{view.cid}}-more\">\n        <i class=\"mdi mdi-24px mdi-dots-vertical\"></i>\n    </div>\n    <ul id=\"{{view.cid}}-more\" class=\"chat-head-menu dropdown-content noselect\">\n        <li class=\"btn-contact-details\">\n            <span class=\"one-line\">{[print(xabber.getString(\"contact_viewer\"))]}</span>\n        </li>\n        <li class=\"btn-call-attention\">\n            <span class=\"one-line\">{[print(xabber.getString(\"call_attention\"))]}</span>\n        </li>\n        <!--<li class=\"btn-export-history\">\n            <span class=\"one-line\">{[print(xabber.getString(\"export_chat\"))]}</span>\n        </li>-->\n        <li class=\"btn-clear-history\">\n            <span class=\"one-line\">{[print(xabber.getString(\"clear_history\"))]}</span>\n        </li>\n        <li class=\"btn-start-encryption\">\n            <span class=\"one-line\">{[print(xabber.getString(\"omemo__chat_settings__button_start_encrypted_chat\"))]}</span>\n        </li>\n        <li class=\"btn-open-encrypted-chat\">\n            <span class=\"one-line\">{[print(xabber.getString(\"omemo__chat_settings__button_open_encrypted_chat\"))]}</span>\n        </li>\n        <li class=\"btn-open-regular-chat\">\n            <span class=\"one-line\">{[print(xabber.getString(\"omemo__chat_settings__button_open_regular_chat\"))]}</span>\n        </li>\n        <li class=\"btn-invite-users\">\n            <span class=\"one-line\">{[print(xabber.getString(\"groupchat_invite_users\"))]}</span>\n        </li>\n        <li class=\"btn-delete-chat\">\n            <span class=\"one-line\">{[print(xabber.getString(\"delete_chat\"))]}</span>\n        </li>\n        <li class=\"btn-delete-contact\">\n            <span class=\"one-line\">{[print(xabber.getString(\"chat_settings__button_delete_contact\"))]}</span>\n        </li>\n        <li class=\"btn-block-contact\">\n            <span class=\"one-line\">{[print(xabber.getString(\"contact_block\"))]}</span>\n        </li>\n        <li class=\"btn-unblock-contact\">\n            <span class=\"one-line\">{[print(xabber.getString(\"chat_settings__button_unblock_contact\"))]}</span>\n        </li>\n    </ul>\n</div>\n"}),define("text!templates/chats/saved_chat_head.html",[],function(){return"<div class=\"circle-avatar ground-color-700\"></div>\n<div class=\"contact-info\">\n    <p class=\"contact-name one-line\">{[print(xabber.getString(\"saved_messages__header\"))]}</p>\n    <p class=\"one-liner\"></p>\n</div>\n<div class=\"chat-tools-wrap\">\n    <div class=\"chat-tool btn-search-messages\">\n        <i class=\"search-icon mdi mdi-24px mdi-magnify\"></i>\n    </div>\n    <div class=\"chat-tool btn-more dropdown-button\" data-activates=\"{{view.cid}}-more\">\n        <i class=\"mdi mdi-24px mdi-dots-vertical\"></i>\n    </div>\n    <ul id=\"{{view.cid}}-more\" class=\"chat-head-menu dropdown-content noselect\">\n        <li class=\"btn-delete-chat\">\n            <span class=\"one-line\">{[print(xabber.getString(\"chat_settings__button_delete_all\"))]}</span>\n        </li>\n    </ul>\n</div>\n"}),define("text!templates/chats/chat_content.html",[],function(){return"<div class=\"search-form-header\">\n    <div class=\"messages-search-form search-form\">\n        <i class=\"search-icon mdi mdi-20px mdi-magnify\"></i>\n        <input type=\"text\" class=\"search-input simple-input-field\" tabindex=\"1\" placeholder='{[print(xabber.getString(\"chat__search_messages_panel__placeholder\"))]}' autofocus>\n    </div>\n    <div class=\"text-color-700 btn-cancel-searching\">{[print(xabber.getString(\"cancel\"))]}</div>\n</div>\n<div class=\"pinned-message\"></div>\n<div class=\"elements-in-top\">\n    <div class=\"subscription-buttons-wrap hidden\"/>\n    <div class=\"chat-day-indicator fixed-day-indicator-wrap hidden\"><div class=\"fixed-day-indicator\"></div></div>\n</div>\n<div class=\"load-history-feedback hidden\"></div>\n<div class=\"participant-messages-header hidden\"><div class=\"messages-by-header\">{[print(xabber.getString(\"chat__placeholder_participant_messages__messages_by\"))]} <div class=\"participant-nickname text-color-700\"></div></div><div class=\"text-color-700 btn-cancel-selection\">{[print(xabber.getString(\"cancel\"))]}</div><div class=\"btn-retract-messages\">{[print(xabber.getString(\"chat_settings__button_delete_all\"))]}</div></div>\n<div class=\"chat-content\">\n</div>\n<div class=\"chat-notification hidden one-line\"></div>\n<i class=\"mdi mdi-36px back-to-bottom mdi-chevron-down\"></i>\n"}),define("text!templates/chats/chat_bottom.html",[],function(){return"    <div class=\"message-input-panel noselect\">\n        <div class=\"my-avatar circle-avatar circle-image-fix\"></div>\n        <div class=\"message-form\">\n            <div class=\"fwd-messages-preview noselect hidden\">\n                <div class=\"msg-border ground-color-700\">\n                </div>\n                <div class=\"msg-content\">\n                    <p class=\"msg-author text-color-700 one-line\"></p>\n                    <p class=\"msg-text one-line\"></p>\n                </div>\n                <div class=\"close-forward\">\n                    <i class=\"mdi mdi-20px mdi-close hover-text-color-500\"></i>\n                </div>\n            </div>\n            <div class=\"input-field input-message\">\n                <div class=\"mentions-list\"></div>\n                <div class=\"rich-textarea-wrap notranslate\">\n                </div>\n                <div class=\"scrollbar-cover\"></div>\n                <div class=\"insert-emoticon\">\n                    <i class=\"mdi mdi-24px mdi-emoticon hover-text-color-500\"></i>\n                </div>\n                <div class=\"emoticons-panel-wrap\">\n                    <div class=\"emoticons-panel\"></div>\n                    <div class=\"emoji-menu\"></div>\n                    <div class=\"uploading-emoticons\">\n                    <div class=\"preloader-wrapper preloader-20px active visible\">\n                        <div class=\"spinner-layer\">\n                            <div class=\"circle-clipper left\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"gap-patch\">\n                                <div class=\"circle\"></div>\n                            </div>\n                            <div class=\"circle-clipper right\">\n                                <div class=\"circle\"></div>\n                            </div>\n                        </div>\n                    </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"input-voice-message\">\n                <div class=\"voice-visualizer\"></div>\n                <div class=\"timer\">0:00</div>\n                <div class=\"voice-msg-status\">{[print(xabber.getString(\"chat_bottom__placeholder__cancel_write_voice\"))]}</div>\n            </div>\n            <div class=\"input-toolbar\">\n                <div class=\"attach attach-file\">\n                    <input type=\"file\" title='{[print(xabber.getString(\"chat_bottom__tooltip_send_file\"))]}' multiple>\n                    <i class=\"mdi mdi-24px mdi-paperclip\"></i>\n                </div>\n                <div title=\"Format text\" class=\"format-text\">\n                    <i class=\"mdi mdi-24px mdi-format-text\"></i>\n                </div>\n                <div class=\"last-emoticons\">\n                </div>\n                <div class=\"account-info-wrap\">\n                    <div class=\"account-jid text-color-700\"></div>\n                    <div class=\"account-nickname text-color-700\"></div>\n                    <div class=\"account-badge\"></div>\n                    <div class=\"account-role ground-color-700\"></div>\n                </div>\n            </div>\n        </div>\n        <div class=\"send-area\">\n            <i class=\"send-message mdi mdi-28px mdi-send text-color-700 hover-text-color-500 hidden\"></i>\n            <i class=\"mdi mdi-28px mdi-microphone attach-voice-message text-color-700 hover-text-color-500\"></i>\n        </div>\n    </div>\n    <div class=\"blocked-msg hidden\">{[print(xabber.getString(\"chat_bottom__placeholder__blocked\"))]}</div>\n    <div class=\"message-actions-panel noselect hidden\">\n        <div class=\"button-wrap reply-message-wrap\">\n            <i class=\"action-button reply-message mdi ground-color-700 mdi-reply mdi-24px\"></i>\n            <div class=\"button-name\"><span class=\"text-color-500\">{[print(xabber.getString(\"chat_reply\").slice(0,1))]}</span>{[print(xabber.getString(\"chat_reply\").slice(1))]}</div>\n        </div>\n        <div class=\"button-wrap forward-message-wrap\">\n            <i class=\"action-button forward-message mdi ground-color-700 mdi-forward mdi-24px\"></i>\n            <div class=\"button-name\"><span class=\"text-color-500\">{[print(xabber.getString(\"chat_froward\").slice(0,1))]}</span>{[print(xabber.getString(\"chat_froward\").slice(1))]}</div>\n        </div>\n        <div class=\"button-wrap copy-message-wrap\">\n            <i class=\"action-button copy-message mdi ground-color-700 mdi-content-copy mdi-24px\"></i>\n            <div class=\"button-name\"><span class=\"text-color-500\">{[print(xabber.getString(\"message_copy\").slice(0,1))]}</span>{[print(xabber.getString(\"message_copy\").slice(1))]}</div>\n        </div>\n        <div class=\"button-wrap delete-message-wrap\">\n            <i class=\"action-button delete-message mdi ground-color-700 mdi-delete mdi-24px\"></i>\n            <div class=\"button-name\"><span class=\"text-color-500\">{[print(xabber.getString(\"delete\").slice(0,1))]}</span>{[print(xabber.getString(\"delete\").slice(1))]}</div>\n        </div>\n        <div class=\"button-wrap edit-message-wrap\">\n            <i class=\"action-button edit-message mdi ground-color-700 mdi-pencil mdi-24px\"></i>\n            <div class=\"button-name\"><span class=\"text-color-500\">{[print(xabber.getString(\"message_edit\").slice(0,1))]}</span>{[print(xabber.getString(\"message_edit\").slice(1))]}</div>\n        </div>\n        <div class=\"button-wrap pin-message-wrap\">\n            <svg class=\"action-button pin-message ground-color-700\" viewBox=\"0 0 24 24\">\n                <path fill=\"#FFF\" d=\"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z\"/>\n            </svg>\n            <div class=\"button-name\"><span class=\"text-color-500\">{[print(xabber.getString(\"message_pin\").slice(0,1))]}</span>{[print(xabber.getString(\"message_pin\").slice(1))]}</div>\n        </div>\n        <div class=\"button-wrap cancel-message-wrap\">\n            <i class=\"action-button close-message-panel mdi mdi-close mdi-24px\"></i>\n            <div class=\"button-name\">{[print(xabber.getString(\"cancel\"))]}</div>\n        </div>\n    </div>\n"}),define("text!templates/chats/subscription_buttons.html",[],function(){return"<div class=\"subscription-buttons\">\n    <div class=\"subscription-info\"></div>\n    <div class=\"button text-color-500 btn-add\">{[print(xabber.getString(\"contact_add\"))]}</div>\n    <div class=\"button btn-block\">{[print(xabber.getString(\"contact_bar_block\"))]}</div>\n    <div class=\"button text-color-500 btn-allow\">{[print(xabber.getString(\"chat_allow\"))]}</div>\n    <div class=\"button text-color-500 btn-subscribe\">{[print(xabber.getString(\"chat_subscribe\"))]}</div>\n    <i class=\"mdi-close btn-decline mdi mdi-24px\"/>\n</div>"}),define("text!templates/chats/forward_panel.html",[],function(){return"<div class=\"modal-header noselect\">\n    <div class=\"panel-header\">\n        <span class=\"header\">{[print(xabber.getString(\"dialog_forward_message__header\"))]}</span>\n    </div>\n</div>\n<div class=\"modal-content noselect\">\n    <div class=\"chats-search-form search-form\">\n        <i class=\"search-icon mdi mdi-20px mdi-magnify\"></i>\n        <input type=\"text\" class=\"search-input simple-input-field\" placeholder='{[print(xabber.getString(\"search\"))]}'>\n        <i class=\"close-search-icon mdi mdi-20px mdi-close\"></i>\n    </div>\n    <div class=\"chat-list-wrap\">\n    </div>\n    <div class=\"error hidden\">{[print(xabber.getString(\"placeholder_no_matches\"))]}</div>\n</div>\n"}),define("text!templates/chats/chat_placeholder.html",[],function(){return"<div class=\"text\">{[print(xabber.getString(\"chat_list__placeholder\"))]}</div>\n"}),define("text!templates/chats/message_item.html",[],function(){return"<div class=\"account-indicator ground-color-700\"></div>\n<div class=\"circle-avatar\"></div>\n<div class=\"chat-icon hidden\"></div>\n<div class=\"recent-chat-info\">\n    <div class=\"chat-title-wrap\">\n        <p class=\"chat-title one-line\"></p>\n        <p class=\"last-msg-date\"></p>\n    </div>\n    <p class=\"last-msg one-line\"></p>\n</div>\n"}),define("text!templates/chats/messages/main.html",[],function(){return"<div class=\"chat-message main {{classlist}}\"  {[if (avatar_id) {]} data-avatar=\"{{avatar_id}}\" {[}]} data-time=\"{{timestamp}}\" data-uniqueid=\"{{unique_id}}\" {[if (from_id) {]} data-from-id=\"{{from_id}}\" {[}]} data-from=\"{{from_jid}}\">\n    <div class=\"left-side noselect\">\n        <div class=\"circle-avatar\"></div>\n    </div>\n\n    <div class=\"msg-wrap\">\n        <div class=\"chat-msg-author-wrap\">\n            <div class=\"chat-msg-author text-color-700 one-line\">{{username}}</div>\n            {[if (badge) {]} <div class=\"chat-msg-author-badge one-line\">{{badge}}</div>\n            {[ } if (role && (role.toLowerCase() != 'member')) {]} <div class=\"chat-msg-author-role ground-color-700 one-line\">{{role}}</div> {[}]}\n        </div>\n        <div class=\"fwd-msgs-block\"></div>\n        <div class=\"chat-msg-content chat-text-content\">{{message}}</div>\n        <div class=\"chat-msg-media-content\"></div>\n    </div>\n\n    <div class=\"right-side noselect\">\n        <div class=\"msg-time selectable-text\" title=\"{{time}}\">{{short_time}}</div>\n        <div class=\"edited-info one-line hidden\"></div>\n        {[ if (is_sender) { ]}\n            <i class=\"msg-delivering-state mdi mdi-14px\" data-state=\"{{state}}\" title=\"{{verbose_state}}\" data-activates=\"retry-send-msg-{{msgid}}\"></i>\n            <div id=\"retry-send-msg-{{msgid}}\" class=\"dropdown-content retry-send-message noselect\"><div class=\"btn-retry-send-message\">{[print(xabber.getString(\"chat_screen__message__button_retry_send\"))]}</div></div>\n        {[ } ]}\n        <div class=\"msg-copy-link\" title='{[print(xabber.getString(\"action_copy_link\"))]}'><i class=\"mdi mdi-link-variant\" data-image=\"{{is_image}}\"></i></div>\n    </div>\n</div>\n"}),define("text!templates/chats/messages/forwarded.html",[],function(){return"<div class=\"fwd-message\" data-time=\"{{timestamp}}\" data-uniqueid=\"{{unique_id}}\" {[if (avatar_id) {]} data-avatar=\"{{avatar_id}}\" {[}]} data-from-id=\"{{from_id}}\" data-from=\"{{from_jid}}\">\n    <div class=\"fwd-left-side noselect\">\n        <div class=\"circle-avatar\"></div>\n    </div>\n    <div class=\"msg-wrap\">\n        <div class=\"fwd-msg-author-wrap\">\n            <div class=\"fwd-msg-author text-color-700 one-line\">{{username}}</div>\n            {[if (badge) {]} <div class=\"chat-msg-author-badge one-line\">{{badge}}</div>\n            {[ } if ((role)&&(role != 'Member')) {]} <div class=\"chat-msg-author-role ground-color-700 one-line\">{{role}}</div> {[}]}\n            <div class=\"msg-time selectable-text one-line\" title=\"{{time}}\">{{short_time}}</div>\n        </div>\n        <div class=\"fwd-msgs-block\"></div>\n        <div class=\"chat-msg-content chat-text-content\">{{message}}</div>\n        <div class=\"chat-msg-media-content\"></div>\n    </div>\n</div>\n"}),define("text!templates/chats/messages/system.html",[],function(){return"<div class=\"chat-message system\"  data-time=\"{{timestamp}}\" data-uniqueid=\"{{unique_id}}\" data-from=\"{{from_jid}}\">\n    <div class=\"msg-wrap\">\n        <div class=\"chat-msg-content chat-text-content\">{{message}}</div>\n    </div>\n\n    <div class=\"right-side noselect\">\n        <div class=\"msg-time selectable-text\" title=\"{{time}}\">{{short_time}}</div>\n    </div>\n</div>\n"}),define("text!templates/chats/messages/file_upload.html",[],function(){return"<div class=\"chat-message {[if (encrypted) {]}encrypted{[}]} file-upload noselect\" {[if (avatar_id) {]} data-avatar=\"{{avatar_id}}\" {[}]} data-time=\"{{timestamp}}\" data-from=\"{{from_jid}}\" data-uniqueid=\"{{unique_id}}\">\n    <div class=\"left-side noselect\">\n        <div class=\"circle-avatar\"></div>\n    </div>\n\n    <div class=\"msg-wrap\">\n        <div class=\"chat-msg-author-wrap\">\n            <div class=\"chat-msg-author text-color-700 one-line\">{{username}}</div>\n            {[if (badge) {]} <div class=\"chat-msg-author-badge one-line\">{{badge}}</div>\n            {[ } if (role && (role != 'Member')) {]} <div class=\"chat-msg-author-role ground-color-700 one-line\">{{role}}</div> {[}]}\n        </div>\n        <div class=\"chat-msg-content chat-file-content\">\n            <div class=\"chat-file-info\">\n                <div class=\"filename text-color-700 one-line\">{{files[0].name}}</div>\n                <div class=\"filesize grey-text one-line\"></div>\n                <div class=\"status-area\">\n                    <div class=\"status one-line text-color-700\" style=\"display: none\"></div>\n                    <div class=\"repeat-upload text-color-700\" style=\"display: none;\">Resend</div>\n                </div>\n                <div class=\"progress-area\">\n                    <div class=\"progress ground-color-100\">\n                        <div class=\"determinate ground-color-700\" style=\"width: 0%\"></div>\n                    </div>\n                    <div class=\"cancel-upload text-color-700\">Cancel</div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"right-side noselect\">\n        <div class=\"msg-time selectable-text\" title=\"{{time}}\">{{short_time}}</div>\n        <i class=\"msg-delivering-state mdi mdi-14px\" data-state=\"pending\" title=\"{{verbose_state}}\" data-activates=\"retry-send-msg-{{msgid}}\"></i>\n        <div id=\"retry-send-msg-{{msgid}}\" class=\"dropdown-content retry-send-message noselect\"><div class=\"btn-retry-send-message\">retry</div></div>\n        <div class=\"msg-copy-link\" title=\"Copy link\"><i class=\"mdi mdi-link-variant\" data-image=\"{{is_image}}\"></i></div>\n    </div>\n</div>"}),define("text!templates/chats/messages/file.html",[],function(){return"<div class=\"one-file-wrap link-file\">\n    <i class=\"mdi {{mdi_icon}}\"></i>\n    <div class=\"file-container\">\n        <div class=\"file-info one-line\">\n            <span class=\"file-name\">{{name}}</span>{[ if (is_audio && duration) { ]}, {{duration}}{[ } ]},  <span class=\"file-size\">{{size}}</span>\n        </div>\n        <a href=\"{{sources[0]}}\" class=\"file-link-download\">{[print(xabber.getString(\"action_download\"))]}</a>\n    </div>\n</div>"}),define("text!templates/chats/messages/audio_file.html",[],function(){return"<div class=\"one-file-wrap link-file\">\n    <i class=\"mdi mdi-play no-uploaded\"></i>\n    <i class=\"mdi mdi-pause\"></i>\n    <div class=\"file-container\">\n        <div class=\"file-info one-line\">\n            <span class=\"file-name\">{{name}}</span>{[ if (duration) { ]}, {{duration}}{[ } ]},  <span class=\"file-size\">{{size}}</span>\n        </div>\n        <a href=\"{{sources[0]}}\" class=\"file-link-download\">{[print(xabber.getString(\"action_download\"))]}</a>\n        <a class=\"voice-message-play\">Play</a>\n    </div>\n</div>"}),define("text!templates/chats/messages/audio_file_waveform.html",[],function(){return"<div class=\"waveform\" id=\"{{waveform_id}}\"></div>\n<div class=\"audio-control-panel\">\n    <span class=\"voice-msg-current-time\">0:00</span> /\n    <span class=\"voice-msg-total-time\">0:00</span>\n    <input value=\"50\" type=\"range\" class=\"voice-message-volume\">\n</div>"}),define("text!templates/chats/messages/auth_request.html",[],function(){return"<div class=\"chat-message system auth-request\" data-time=\"{{timestamp}}\" data-uniqueid=\"{{unique_id}}\" data-from=\"{{from_jid}}\">\n    <div class=\"left-side noselect\">\n        <div class=\"circle-avatar\"><img></div>\n    </div>\n\n    <div class=\"msg-wrap\">\n        <div class=\"chat-msg-author-wrap\">\n            <div class=\"chat-msg-author text-color-700 one-line\">{{username}}</div>\n        </div>\n        <div class=\"chat-msg-content chat-text-content\">{{message}}<span class=\"accept-request\">Accept</span><span class=\"decline-request\">Decline</span><span class=\"block-request\">Block</span></div>\n    </div>\n\n    <div class=\"right-side noselect\">\n        <div class=\"msg-time selectable-text\" title=\"{{time}}\">{{short_time}}</div>\n    </div>\n</div>\n"}),define("text!templates/chats/messages/group_request.html",[],function(){return"<div class=\"chat-message system auth-request\" data-time=\"{{timestamp}}\" data-uniqueid=\"{{unique_id}}\" data-from=\"{{from_jid}}\">\n    <div class=\"left-side noselect\">\n        <div class=\"circle-avatar\"></div>\n    </div>\n\n    <div class=\"msg-wrap\">\n        <div class=\"chat-msg-author-wrap\">\n            <div class=\"chat-msg-author text-color-700 one-line\">{{username}}</div>\n        </div>\n        <div class=\"chat-msg-content chat-text-content\">{{message}}<div><span class=\"accept-request-group\">Accept</span><span class=\"decline-request-group\">Decline</span><span class=\"block-request-group\">Block</span></div></div>\n    </div>\n\n    <div class=\"right-side noselect\">\n        <div class=\"msg-time selectable-text\" title=\"{{time}}\">{{short_time}}</div>\n    </div>\n</div>\n"}),define("text!templates/chats/messages/template-for-2.html",[],function(){return"<div class=\"image-collection zoom-gallery\"><div class=\"img-content-template template-for-2\"><img src=\"{{images[0].sources[0]}}\" title=\"{{images[0].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[0].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-2\"><img src=\"{{images[1].sources[0]}}\" title=\"{{images[1].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[1].sources[0]}}\"></div></div>"}),define("text!templates/chats/messages/template-for-3.html",[],function(){return"<div class=\"image-collection zoom-gallery\"><div class=\"img-content-template template-for-3 main\"><img src=\"{{images[0].sources[0]}}\" title=\"{{images[0].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[0].sources[0]}}\"></div>\n<div class=\"template-for-3 minor-images\"><div class=\"img-content-template template-for-3 minor\"><img src=\"{{images[1].sources[0]}}\" title=\"{{images[1].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[1].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-3 minor\"><img src=\"{{images[2].sources[0]}}\" title=\"{{images[2].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[2].sources[0]}}\"></div></div></div>"}),define("text!templates/chats/messages/template-for-4.html",[],function(){return"<div class=\"image-collection zoom-gallery\"><div class=\"img-content-template template-for-4 main\"><img src=\"{{images[0].sources[0]}}\" title=\"{{images[0].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[0].sources[0]}}\"></div><div class=\"template-for-4 minor-images\">\n<div class=\"img-content-template template-for-4 minor\"><img src=\"{{images[1].sources[0]}}\" title=\"{{images[1].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[1].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-4 minor\"><img src=\"{{images[2].sources[0]}}\" title=\"{{images[2].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[2].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-4 minor\"><img src=\"{{images[3].sources[0]}}\" title=\"{{images[3].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[3].sources[0]}}\"></div></div></div>"}),define("text!templates/chats/messages/template-for-5.html",[],function(){return"<div class=\"image-collection zoom-gallery template-for-5\"><div class=\"img-content-wrap template-for-5 main\"><div class=\"img-content-template template-for-5\"><img src=\"{{images[0].sources[0]}}\" title=\"{{images[0].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[0].sources[0]}}\"></div><div class=\"img-content-template template-for-5\"><img src=\"{{images[1].sources[0]}}\" title=\"{{images[1].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[1].sources[0]}}\"></div></div>\n<div class=\"img-content-wrap template-for-5 minor-images\"><div class=\"img-content-template template-for-5\"><img src=\"{{images[2].sources[0]}}\" title=\"{{images[2].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[2].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-5\"><img src=\"{{images[3].sources[0]}}\" title=\"{{images[3].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[3].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-5\"><img src=\"{{images[4].sources[0]}}\" title=\"{{images[4].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[4].sources[0]}}\"></div></div></div>"}),define("text!templates/chats/messages/template-for-6.html",[],function(){return"<div class=\"image-collection zoom-gallery template-for-6\"><div class=\"img-content-wrap template-for-6 main-row\"><div class=\"img-content-template template-for-6 main\"><img src=\"{{images[0].sources[0]}}\" title=\"{{images[0].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[0].sources[0]}}\"></div><div class=\"template-for-6 minor-1\"><div class=\"img-content-template template-for-6\"><img src=\"{{images[1].sources[0]}}\" title=\"{{images[1].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[1].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-6\"><img src=\"{{images[2].sources[0]}}\" title=\"{{images[2].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[2].sources[0]}}\"></div></div></div>\n<div class=\"template-for-6 minor-2\"><div class=\"img-content-template template-for-6\"><img src=\"{{images[3].sources[0]}}\" title=\"{{images[3].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[3].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-6\"><img src=\"{{images[4].sources[0]}}\" title=\"{{images[4].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[4].sources[0]}}\"></div>\n<div class=\"img-content-template template-for-6 last-image\"><img src=\"{{images[5].sources[0]}}\" title=\"{{images[5].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[5].sources[0]}}\">\n{[ if (images.length > 6) { ]}<span class=\"image-counter\"></span>{[ for (var i=6; i < images.length; i++) {]} <div class=\"img-content-template hidden\"><img src=\"{{images[i].sources[0]}}\" title=\"{{images[i].description}}\" class=\"uploaded-img-for-collage popup-img\" data-mfp-src=\"{{images[i].sources[0]}}\"></div> {[}} ]}</div></div></div>\n"}),define("text!templates/chats/messages/saved_main.html",[],function(){return"<div class=\"chat-message saved-main main {{classlist}}\" data-time=\"{{timestamp}}\" data-uniqueid=\"{{unique_id}}\" data-from=\"{{from_jid}}\">\n    <div class=\"fwd-msgs-block\"></div>\n    <div class=\"right-side noselect\">\n        <div class=\"msg-time selectable-text\" title=\"{{time}}\">{{short_time}}</div>\n        <i class=\"msg-delivering-state mdi mdi-14px\" data-state=\"{{state}}\" title=\"{{verbose_state}}\" data-activates=\"retry-send-msg-{{msgid}}\"></i>\n        <div class=\"edited-info one-line hidden\"></div>\n    </div>\n</div>\n"}),define("text!templates/chats/group_chats/pinned_message_panel.html",[],function(){return"<div class=\"modal-content full-pinned-message\"></div>\n"}),define("text!templates/chats/group_chats/add_group_chat.html",[],function(){return"<div class=\"modal-header\">\n    <span>{[print(xabber.getString(\"create_groupchat\"))]}</span>\n</div>\n<div class=\"modal-content\">\n    <div class=\"row account-field\">\n        <i class=\"field-icon mdi mdi-24px mdi-account-circle\"></i>\n        <div class=\"multiple-acc\">\n            <div class=\"account-dropdown-wrap\">\n                <div class=\"dropdown-button\" data-activates=\"select-account-for-creating-groupchat\">\n                    <div class=\"account-item-wrap\">\n                    </div>\n                    <div class=\"caret\">\n                        <i class=\"mdi mdi-20px mdi-menu-down\"></i>\n                    </div>\n                </div>\n                <div id=\"select-account-for-creating-groupchat\" class=\"dropdown-content noselect\">\n                </div>\n            </div>\n        </div>\n        <div class=\"single-acc\">\n            <div class=\"dropdown-button\">\n                <div class=\"account-item-wrap\">\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"row name-field\">\n        <i class=\"field-icon mdi mdi-24px mdi-pencil\"></i>\n        <div class=\"input-field input-group-chat-name\">\n            <input id=\"new_chat_name\" type=\"text\" name=\"chat_name\" placeholder='{[print(xabber.getString(\"group_is_empty\"))]}' required>\n        </div>\n    </div>\n    <div class=\"row jid-field\">\n        <svg class=\"field-icon mdi mdi-24px mdi-svg-template\" data-svgname=\"xmpp\"></svg>\n        <div class=\"property-field xmpp-server-dropdown-wrap\">\n            <div class=\"select-xmpp-server\">\n                <div data-activates=\"select-xmpp-server\" class=\"xmpp-server-item-wrap property-wrap\"><div class=\"jid-at\">@</div><div class=\"field-jid one-line property-value\"></div></div>\n                <div class=\"input-field input-group-chat-domain hidden\">\n                    <input id=\"new_chat_domain\" type=\"text\" placeholder='{[print(xabber.getString(\"groupchat__hint_domain\"))]}' name=\"chat_domain\">\n                </div>\n                <div data-activates=\"select-xmpp-server\" class=\"caret\">\n                    <i class=\"mdi mdi-20px mdi-menu-down\"></i>\n                </div>\n            </div>\n            <div id=\"select-xmpp-server\" class=\"dropdown-content noselect\">\n                <div class=\"property-variant set-custom-domain\">{[print(xabber.getString(\"groupchat_custom_server\"))]}</div>\n            </div>\n        </div>\n        <div class=\"input-field input-group-chat-jid\">\n            <input id=\"new_chat_jid\" type=\"text\" placeholder='{[print(xabber.getString(\"groupchat_xmpp_jid\"))]}' name=\"chat_jid\">\n        </div>\n    </div>\n    <div class=\"row incognito-field\">\n        <i class=\"field-icon mdi mdi-24px mdi-incognito\"></i>\n        <div class=\"property-field incognito-dropdown-wrap\">\n           <div class=\"public-item-wrap property-wrap\"><div data-value=\"public\" class=\"property-value\">{[print(xabber.getString(\"groupchat_privacy_type_public\"))]}</div></div>\n           <div class=\"incognito-item-wrap property-wrap\"><div data-value=\"incognito\" class=\"property-value\">{[print(xabber.getString(\"groupchat_privacy_type_incognito\"))]}</div></div>\n        </div>\n    </div>\n    <div class=\"row global-field\">\n        <svg class=\"field-icon toolbar-icon mdi mdi-24px\" viewBox=\"0 0 24 24\">\n            <path d=\"M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M19.35,8.03C21.95,8.22 24,10.36 24,13C24,14.64 23.21,16.1 22,17V16.5A6.5,6.5 0 0,0 15.5,10A6.5,6.5 0 0,0 9,16.5C9,17 9.06,17.5 9.17,18H6A6,6 0 0,1 0,12C0,8.9 2.34,6.36 5.35,6.03C6.6,3.64 9.11,2 12,2C15.64,2 18.67,4.59 19.35,8.03Z\"></path>\n        </svg>\n        <div class=\"property-field global-dropdown-wrap\">\n            <div class=\"dropdown-button\" data-activates=\"select-global\">\n                <div class=\"global-item-wrap property-wrap\"><div data-value=\"none\" class=\"property-value\">{[print(xabber.getString(\"groupchat_index_type_none\"))]}</div></div>\n                <div class=\"caret\">\n                    <i class=\"mdi mdi-20px mdi-menu-down\"></i>\n                </div>\n            </div>\n            <div id=\"select-global\" class=\"dropdown-content noselect\">\n                <div data-value=\"none\" class=\"property-variant default-value\">{[print(xabber.getString(\"groupchat_index_type_none\"))]}</div>\n                <div data-value=\"local\" class=\"property-variant\">{[print(xabber.getString(\"groupchat_index_type_local\"))]}</div>\n                <div data-value=\"global\" class=\"property-variant\">{[print(xabber.getString(\"groupchat_index_type_global\"))]}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"row membership-field\">\n        <i class=\"field-icon mdi mdi-24px mdi-lock\"></i>\n        <div class=\"property-field membership-dropdown-wrap\">\n            <div class=\"dropdown-button\" data-activates=\"select-membership\">\n                <div class=\"membership-item-wrap property-wrap\"><div data-value=\"open\" class=\"property-value\">{[print(xabber.getString(\"groupchat_membership_type_open\"))]}</div></div>\n                <div class=\"caret\">\n                    <i class=\"mdi mdi-20px mdi-menu-down\"></i>\n                </div>\n            </div>\n            <div id=\"select-membership\" class=\"dropdown-content noselect\">\n                <div data-value=\"open\" class=\"property-variant default-value\">{[print(xabber.getString(\"groupchat_membership_type_open\"))]}</div>\n                <div data-value=\"member-only\" class=\"property-variant\">{[print(xabber.getString(\"groupchat_membership_type_members_only\"))]}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"row description-field\">\n        <i class=\"field-icon mdi mdi-24px mdi-sort-variant\"></i>\n        <div class=\"input-field input-message\">\n            <div class=\"rich-textarea-wrap notranslate\">\n                <div class=\"rich-textarea\" tabindex=\"2\" contenteditable=\"\"></div>\n                <div class=\"placeholder\">{[print(xabber.getString(\"groupchat_example_description\"))]}</div>\n            </div>\n        </div>\n    </div>\n</div>\n</div>\n<div class=\"modal-footer\">\n    <span class=\"errors\"></span>\n    <button class=\"btn-flat btn-main text-color-700 non-active btn-add\">{[print(xabber.getString(\"create\"))]}</button>\n    <button class=\"btn-flat btn-main btn-dark btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button>\n</div>"}),define("text!templates/chats/group_chats/invitation_panel_view.html",[],function(){return"<div class=\"modal-header noselect\">\n    <div class=\"panel-header\">\n        <span class=\"header\">{[print(xabber.getString(\"groupchat_invite_users\"))]}</span>\n    </div>\n</div>\n<div class=\"modal-content noselect\">\n    <div class=\"chats-search-form search-form\">\n        <i class=\"search-icon mdi mdi-20px mdi-magnify\"></i>\n        <input type=\"text\" class=\"search-input simple-input-field\" placeholder='{[print(xabber.getString(\"search\"))]}'>\n        <i class=\"close-search-icon mdi mdi-20px mdi-close\"></i>\n    </div>\n    <div class=\"contacts-list-wrap\">\n    </div>\n    <div class=\"error hidden\">{[print(xabber.getString(\"placeholder_no_matches\"))]}</div>\n</div>\n<div class=\"modal-footer\">\n    <button class=\"btn-flat btn-main btn-add\"><span class=\"counter hidden\"></span>{[print(xabber.getString(\"groupchat_invite\"))]}</button>\n    <button class=\"btn-flat btn-dark btn-main btn-cancel\">{[print(xabber.getString(\"cancel\"))]}</button>\n    <span class=\"errors\"></span>\n</div>"}),define("text!templates/chats/group_chats/mention_item.html",[],function(){return"<div class=\"list-item mention-item\" data-jid=\"{{jid}}\" data-id=\"{{id}}\" data-nickname=\"{{nickname}}\">\n    <div class=\"circle-avatar\"></div>\n    <div class=\"participant-info\">\n        <span class=\"one-line nickname\">{{nickname}}</span>\n        <span class=\"one-line jid\">{{jid}}</span>\n    </div>\n</div>"}),define("text!templates/chats/encryption_warning.html",[],function(){return"<div class=\"warning-wrap\">\n    <p class=\"warning-message\">{{message}}</p>\n    <button class=\"btn-manage-devices btn-flat btn-main btn-dark ground-color-{{color}}-100 hover-ground-color-{{color}}-300\">{[print(xabber.getString(\"omemo__alert_new_device__button_manage_devices\"))]}</button>\n</div>"}),define("text!templates/chats/content_encryption_warning.html",[],function(){return"<div>\n    <i class=\"mdi mdi-36px mdi-alert-circle\"></i>\n</div>\n<div class=\"warning-message\">{{message}}</div>\n<button class=\"btn-manage-devices btn-flat btn-main btn-dark hover-ground-color-amber-300\">{[print(xabber.getString(\"omemo__alert_new_device__button_manage_devices\"))]}</button>"}),define("text!templates/mentions/mentions_panel.html",[],function(){return"<div class=\"mentions-panel noselect\">\n    <div class=\"chats-search-form search-form panel-head\">\n        <div class=\"account-indicator\"></div>\n        <i class=\"search-icon mdi mdi-20px mdi-magnify\"></i>\n        <input type=\"text\" class=\"search-input simple-input-field\" tabindex=\"1\" placeholder='{[print(xabber.getString(\"search\"))]}'>\n        <i class=\"close-search-icon mdi mdi-20px mdi-close\"></i>\n    </div>\n    <div class=\"mentions-list-wrap left-panel-list-wrap\">\n        <div class=\"mentions-list item-list\">\n        </div>\n        <div class=\"searched-lists-wrap\">\n            <div class=\"chats-list-wrap hidden\">\n                <div class=\"account-indicator\"></div>\n                <div class=\"chats-title\">{[print(xabber.getString(\"search__header_chats\"))]}</div>\n                <div class=\"chats-list roster-left-container\"></div>\n            </div>\n            <div class=\"contacts-list-wrap hidden\">\n                <div class=\"account-indicator\"></div>\n                <div class=\"contacts-title\">{[print(xabber.getString(\"category_title_contacts\"))]}</div>\n                <div class=\"contacts-list roster-left-container\"></div>\n            </div>\n            <div class=\"messages-list-wrap hidden\">\n                <div class=\"account-indicator\"></div>\n                <div class=\"messages-title\">{[print(xabber.getString(\"search__header_messages\"))]}</div>\n                <div class=\"messages-list roster-left-container\"></div>\n            </div>\n        </div>\n    </div>\n</div>\n"}),define("text!templates/mentions/mentions_placeholder.html",[],function(){return"<div class=\"text\">{[print(xabber.getString(\"mentions_list__placeholder\"))]}</div>"}),define("text!templates/mentions/mention_item.html",[],function(){return"<div class=\"group-chat-title-wrap hidden\">\n    <div class=\"account-indicator ground-color-700\"></div>\n    <div class=\"contact-icon\">\n        <img class=\"server-icon hidden\" src=\"./images/BotIcon20x20@2x.png\">\n        <img class=\"group-chat-icon hidden\" src=\"./images/GroupchatIcon20x20@2x.png\">\n    </div>\n    <div class=\"group-chat-name one-line\"></div>\n</div>\n<div class=\"mention-info-wrap\">\n<div class=\"account-indicator ground-color-700\"></div>\n<div class=\"circle-avatar\"></div>\n<div class=\"mention-info\">\n    <div class=\"chat-title-wrap\">\n        <p class=\"chat-title one-line\"></p>\n        <p class=\"last-msg-date\"></p>\n    </div>\n    <p class=\"last-msg one-line\"></p>\n    <span class=\"msg-counter hidden\"></span>\n</div>\n</div>"}),define("text!templates/svg/ic-jabber.html",[],function(){return"<path\n     style=\"fill-rule:evenodd\"\n     inkscape:connector-curvature=\"0\"\n     id=\"path5\"\n     d=\"m 5.2462478,6.4309194 c 0,0 0.2534497,0.5323027 1.6195791,-0.2126538 C 9.2126105,5.0708821 11.67437,4.0095 14.785441,5.5382202 17.009904,6.7924 17.27733,10.360371 13.864368,13.369134 c -1.679464,1.609494 -1.887868,4.226006 -1.825254,4.993295 -0.128246,1.561168 0.259655,1.837265 0.594912,1.938246 0.335257,0.100981 1.461445,-0.04379 1.305934,-1.000087 -0.193265,-1.461227 -0.06192,-2.413209 0.855267,-4.044829 0.758763,-1.162942 2.123721,-1.871086 3.273016,-4.211889 C 18.840748,9.1444158 18.891207,6.503336 17.479328,4.894053 16.152845,3.3821059 14.670099,2.4131656 12.422552,2.4210559 9.8716741,2.446853 8.13424,2.8374168 6.751418,3.5206351 4.5012489,4.730324 4.2973099,4.8714754 5.2462478,6.4309194 z\"\n     clip-rule=\"evenodd\"\n     sodipodi:nodetypes=\"cccccscccsccc\" />\n<path\n     style=\"fill-rule:evenodd\"\n     inkscape:connector-curvature=\"0\"\n     id=\"path7\"\n     d=\"M 10.393116,10.546893 C 10.179036,9.8582024 9.6418168,9.5037588 9.1268128,9.5037588 c -0.686671,0 -1.6386388,0.1373222 -1.6546508,1.5832442 0,0 0.5308711,2.944458 1.5235151,2.93234 0.364542,-0.004 0.7403587,-0.28287 0.017892,-1.856769 0,0 -0.4395592,-0.974022 -0.1380497,-1.193301 0.5440269,-0.394487 0.5911749,0.418754 0.9156116,1.069105 0.674692,0.328471 1.06244,-0.702948 1.201092,-0.722298 1.026124,-0.142524 -0.130551,1.372622 -0.2386,1.539241 -0.467844,0.515308 -1.3020963,1.251877 -0.614252,1.612091 0.864686,0.205725 1.292561,-0.492065 1.464229,-0.658684 0.2663,-0.37565 0.549622,-0.820112 0.721289,-1.133153 0.877971,-1.468145 0.834305,-2.8722146 -0.558429,-2.9011876 -0.515004,0 -0.814918,0.2302366 -1.373344,0.7725056 z\"\n     clip-rule=\"evenodd\"\n     sodipodi:nodetypes=\"cscccccccccccc\" />\n<path\n     sodipodi:nodetypes=\"cssccsccccssccssc\"\n     style=\"fill-rule:evenodd\"\n     inkscape:connector-curvature=\"0\"\n     id=\"path9\"\n     d=\"m 6.8360046,14.735541 c -0.2526865,-0.134842 -0.341246,-0.148685 -0.556785,-0.125105 -0.4758127,0.05205 -0.712045,0.475393 -0.6165306,0.901178 0.2727696,1.215955 1.0359093,1.641989 2.25985,2.132257 1.2530682,0.41756 2.475738,0.396638 3.398493,-0.0757 0.298412,-0.05064 0.287556,-0.683612 0.292618,-1.034981 0.006,-0.414484 -0.327129,-0.528727 -0.651454,-0.493243 -0.82369,0.222079 -0.891361,0.338578 -1.882259,0.248554 -1.1996954,-0.369888 -1.6284239,-0.589257 -2.2439324,-1.55296 z m -0.596727,2.884244 c -0.1641271,-0.121 -0.2921232,-0.08347 -0.442594,-0.06701 -0.3893935,0.0426 -0.727761,0.382603 -0.6463412,0.81143 0.2795655,1.472433 3.2776659,2.179707 4.6014193,2.113323 1.0831623,-0.05044 1.6865703,-0.273231 1.7646093,-1.16247 -0.03364,-0.366114 -0.266964,-0.659232 -0.720411,-0.609623 -0.432095,0.04727 -0.373883,0.118182 -1.0438868,0.191485 C 8.563559,19.026954 7.5842504,18.723225 6.2392776,17.619785 z\"\n     clip-rule=\"evenodd\" />\n"}),define("text!templates/svg/xmpp.html",[],function(){return"<path\n     inkscape:connector-curvature=\"0\"\n     d=\"m 17.765357,5.9248618 c 0.009,0.1518861 -0.206601,0.1119764 -0.206601,0.2652514 0,4.4595198 -5.17314,11.2012628 -10.3933633,12.5152538 v 0.136731 C 14.101125,18.204712 21.825325,11.114777 22,4.2839629 l -4.233831,1.6413619 z\"\n     id=\"path4-5\" />\n<path\n     inkscape:connector-curvature=\"0\"\n     d=\"m 15.907561,6.3610856 c 0.009,0.1518861 0.014,0.3045804 0.014,0.4578554 0,4.459522 -3.55133,10.468554 -8.7715528,11.783009 v 0.189367 C 13.982554,18.349079 19.389945,11.500913 19.389945,6.1592263 c 0,-0.2747361 -0.01446,-0.5470438 -0.04292,-0.8162264 l -3.439122,1.017508 z\"\n     id=\"path6\" />\n<path\n     inkscape:connector-curvature=\"0\"\n     d=\"m 6.2332547,5.9248618 c -0.00886,0.1518861 0.2067174,0.1119764 0.2067174,0.2652514 0,4.4595198 5.3857609,11.2631498 10.6063279,12.5777208 V 18.95743 C 10.11103,18.318886 2.1746761,11.11443 2,4.2836157 l 4.2337177,1.6413618 z\"\n     id=\"path8\" />\n<path\n     inkscape:connector-curvature=\"0\"\n     d=\"M 8.3307389,6.473525 C 8.3219828,6.6254111 8.31686,6.7777591 8.31686,6.9312646 c 0,4.4595214 3.551213,10.4685544 8.771549,11.7830104 v 0.189596 C 10.258286,18.581129 4.8484667,11.613351 4.8484667,6.2717814 c 0,-0.2747361 0.014805,-0.5470427 0.042915,-0.8162284 l 3.4391228,1.0177415 z\"\n     id=\"path10\" />\n<path\n     inkscape:connector-curvature=\"0\"\n     d=\"m 4.8583007,5.3920472 0.8811221,0.3148763 c -0.00473,0.111283 -0.00765,0.2607395 -0.00765,0.3730642 0,4.7681513 4.3114542,11.3600893 10.0954942,12.3914783 0.375377,0.125857 0.871982,0.240263 1.264595,0.339052 V 19 C 9.5433961,18.356828 4.2400023,10.686651 4.857725,5.3915852 z\"\n     id=\"path12\" />\n<path\n     inkscape:connector-curvature=\"0\"\n     d=\"m 19.390639,5.2968432 -0.906108,0.3036565 c 0.0047,0.1113977 0.02208,0.2548387 0.02208,0.3670476 0,4.7681497 -4.311569,11.3602047 -10.0957226,12.3914777 -0.3751445,0.125972 -0.8719856,0.240267 -1.2643666,0.33917 v 0.189596 C 15.052467,17.886018 20.00767,10.591448 19.389946,5.2967275 z\"\n     id=\"path14\" />\n"}),define("text!templates/svg/ic-at.html",[],function(){return"<path fill=\"#9E9E9E\" d=\"M12,15C12.81,15 13.5,14.7 14.11,14.11C14.7,13.5 15,12.81 15,12C15,11.19 14.7,10.5 14.11,9.89C13.5,9.3 12.81,9 12,9C11.19,9 10.5,9.3 9.89,9.89C9.3,10.5 9,11.19 9,12C9,12.81 9.3,13.5 9.89,14.11C10.5,14.7 11.19,15 12,15M12,2C14.75,2 17.1,3 19.05,4.95C21,6.9 22,9.25 22,12V13.45C22,14.45 21.65,15.3 21,16C20.3,16.67 19.5,17 18.5,17C17.3,17 16.31,16.5 15.56,15.5C14.56,16.5 13.38,17 12,17C10.63,17 9.45,16.5 8.46,15.54C7.5,14.55 7,13.38 7,12C7,10.63 7.5,9.45 8.46,8.46C9.45,7.5 10.63,7 12,7C13.38,7 14.55,7.5 15.54,8.46C16.5,9.45 17,10.63 17,12V13.45C17,13.86 17.16,14.22 17.46,14.53C17.76,14.84 18.11,15 18.5,15C18.92,15 19.27,14.84 19.57,14.53C19.87,14.22 20,13.86 20,13.45V12C20,9.81 19.23,7.93 17.65,6.35C16.07,4.77 14.19,4 12,4C9.81,4 7.93,4.77 6.35,6.35C4.77,7.93 4,9.81 4,12C4,14.19 4.77,16.07 6.35,17.65C7.93,19.23 9.81,20 12,20H17V22H12C9.25,22 6.9,21 4.95,19.05C3,17.1 2,14.75 2,12C2,9.25 3,6.9 4.95,4.95C6.9,3 9.25,2 12,2Z\" />"}),define("text!templates/svg/ic-searching.html",[],function(){return"<path fill=\"#9E9E9E\" d=\"M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M19.35,8.03C21.95,8.22 24,10.36 24,13C24,14.64 23.21,16.1 22,17V16.5A6.5,6.5 0 0,0 15.5,10A6.5,6.5 0 0,0 9,16.5C9,17 9.06,17.5 9.17,18H6A6,6 0 0,1 0,12C0,8.9 2.34,6.36 5.35,6.03C6.6,3.64 9.11,2 12,2C15.64,2 18.67,4.59 19.35,8.03Z\" />"}),define("text!templates/svg/blocked.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/blocked</title>\n    <g id=\"badge/icon/blocked\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M8,1 C11.8659932,1 15,4.13400675 15,8 C15,11.8659932 11.8659932,15 8,15 C4.13400675,15 1,11.8659932 1,8 C1,4.13400675 4.13400675,1 8,1 Z M12.3574649,4.64359326 L4.64359326,12.3574649 C5.57228864,13.073866 6.73637986,13.5 8,13.5 C11.0375661,13.5 13.5,11.0375661 13.5,8 C13.5,6.73637986 13.073866,5.57228864 12.3574649,4.64359326 Z M8,2.5 C4.96243388,2.5 2.5,4.96243388 2.5,8 C2.5,9.26408031 2.92644441,10.4285592 3.64331784,11.3574212 L11.3574212,3.64331784 C10.4285592,2.92644441 9.26408031,2.5 8,2.5 Z\" id=\"blocked\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/bot.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/bot</title>\n    <g id=\"badge/icon/bot\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M8.5,2.9 C8.83137085,2.9 9.1,3.16862915 9.1,3.5 C9.1,3.6775201 9.02290618,3.83703397 8.9003726,3.94688754 L8.899,4.999 L11,5 C11.5522847,5 12,5.44771525 12,6 L12,7 C12.2761424,7 12.5,7.22385763 12.5,7.5 L12.5,8.5 C12.5,8.77614237 12.2761424,9 12,9 L12,11 C12,11.5522847 11.5522847,12 11,12 L5,12 C4.44771525,12 4,11.5522847 4,11 L4,9 C3.72385763,9 3.5,8.77614237 3.5,8.5 L3.5,7.5 C3.5,7.22385763 3.72385763,7 4,7 L4,6 C4,5.44771525 4.44771525,5 5,5 L8.1,4.999 L8.0996274,3.94688754 C7.99996676,3.85753997 7.93036502,3.73534156 7.90785299,3.59732312 L7.9,3.5 C7.9,3.16862915 8.16862915,2.9 8.5,2.9 Z M9.5,10 L6.5,10 C6.22385763,10 6,10.2238576 6,10.5 C6,10.7761424 6.22385763,11 6.5,11 L6.5,11 L9.5,11 C9.77614237,11 10,10.7761424 10,10.5 C10,10.2238576 9.77614237,10 9.5,10 L9.5,10 Z M6.5,6 C6.22385763,6 6,6.22385763 6,6.5 L6,6.5 L6,7 L5.5,7 C5.22385763,7 5,7.22385763 5,7.5 C5,7.77614237 5.22385763,8 5.5,8 L5.5,8 L6,8 L6,8.5 C6,8.77614237 6.22385763,9 6.5,9 C6.77614237,9 7,8.77614237 7,8.5 L7,8.5 L7,8 L7.5,8 C7.77614237,8 8,7.77614237 8,7.5 C8,7.22385763 7.77614237,7 7.5,7 L7.5,7 L7,7 L7,6.5 C7,6.22385763 6.77614237,6 6.5,6 Z M9.5,7 C9.22385763,7 9,7.22385763 9,7.5 C9,7.77614237 9.22385763,8 9.5,8 C9.77614237,8 10,7.77614237 10,7.5 C10,7.22385763 9.77614237,7 9.5,7 Z\" id=\"bot\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/bot-variant.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/bot-variant</title>\n    <g id=\"badge/icon/bot-variant\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M8,3.5 C9.8685634,3.5 11.3951264,4.9642776 11.4948211,6.8079648 L11.5,7 L11.5,9.5 C11.5,11.1568542 9.93299662,12.5 8,12.5 C6.13365843,12.5 4.60850439,11.2478879 4.50554054,9.67023745 L4.5,9.5 L4.5,7 L4.50517886,6.8079648 C4.60487355,4.9642776 6.1314366,3.5 8,3.5 Z M3.5,6 C3.77614237,6 4,6.22385763 4,6.5 L4,9.5 C4,9.77614237 3.77614237,10 3.5,10 C3.22385763,10 3,9.77614237 3,9.5 L3,6.5 C3,6.22385763 3.22385763,6 3.5,6 Z M12.5,6 C12.7761424,6 13,6.22385763 13,6.5 L13,9.5 C13,9.77614237 12.7761424,10 12.5,10 C12.2238576,10 12,9.77614237 12,9.5 L12,6.5 C12,6.22385763 12.2238576,6 12.5,6 Z M8,5 C6.99835629,5 6.16869161,5.73632971 6.0227694,6.69722565 L6.00548574,6.85073766 L6,7 L6,8 L6.00662994,8.12302332 C6.0900659,8.89390548 6.95065898,9.5 8,9.5 C9.04934102,9.5 9.9099341,8.89390548 9.99337006,8.12302332 L10,8 L10,7 L9.99451426,6.85073766 C9.91816512,5.81587779 9.0543618,5 8,5 Z\" id=\"Bot\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/group-incognito.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/group-incognito</title>\n    <g id=\"badge/icon/group-incognito\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M10,8.00704958 C10.9597902,8.00704958 12.8474987,8.64533875 12.9912872,9.91524601 L13,10.0706662 L13,11.0070496 L10.7492023,11.0070496 L10.75,9.875 C10.75,9.10242267 10.3751421,8.46914598 9.75414509,8.01828756 L9.88054216,8.01011295 L10,8.00704958 Z M7,8 C8.71428571,8 10,8.75 10,9.875 L10,11 L4,11 L4,9.875 C4,8.75 5.28571429,8 7,8 Z M7,8.75 C5.68529006,8.75 4.83790401,9.22876096 4.75645218,9.78636102 L4.75,9.875 L4.75,10.25 L9.25,10.25 L9.25,9.875 C9.25,9.31020891 8.46834945,8.80320839 7.20365867,8.75392032 L7,8.75 Z M10.5,4 C11.3284271,4 12,4.67157288 12,5.5 C12,6.32842712 11.3284271,7 10.5,7 C10.0309641,7 9.61220865,6.78472342 9.33715065,6.44758714 C9.59948544,6.02690214 9.75,5.53102835 9.75,5 C9.75,4.7455993 9.71545544,4.49926692 9.65080116,4.2654377 C9.89064982,4.09777196 10.183907,4 10.5,4 Z M7,3 C8.1045695,3 9,3.8954305 9,5 C9,6.1045695 8.1045695,7 7,7 C5.8954305,7 5,6.1045695 5,5 C5,3.8954305 5.8954305,3 7,3 Z M7,3.75 C6.30964406,3.75 5.75,4.30964406 5.75,5 C5.75,5.69035594 6.30964406,6.25 7,6.25 C7.69035594,6.25 8.25,5.69035594 8.25,5 C8.25,4.30964406 7.69035594,3.75 7,3.75 Z\" id=\"incognito\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/group-invite.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/group-invite</title>\n    <g id=\"badge/icon/group-invite\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M4.8,5 L11.2,5 C11.64,5 12,5.33981818 12,5.76363636 L12,10.2363636 C12,10.6581084 11.6418278,11 11.2,11 L4.8,11 C4.3581722,11 4,10.6581084 4,10.2363636 L4,5.76363636 C4,5.33981818 4.356,5 4.8,5 Z M4.57142857,5.81818182 L4.57142857,6.90909091 L8,9.09090909 L11.4285714,6.90909091 L11.4285714,5.81818182 L8,8 L4.57142857,5.81818182 Z\" id=\"invitation\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/group-public.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/group-public</title>\n    <g id=\"badge/icon/group-public\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M10.500501,8 C11.3287776,8 11.995,7.328 11.995,6.5 C11.995,5.672 11.3287776,5 10.500501,5 C9.67222445,5 9,5.672 9,6.5 C9,7.328 9.67222445,8 10.500501,8 Z M6.5,7 C7.33,7 7.995,6.33 7.995,5.5 C7.995,4.67 7.33,4 6.5,4 C5.67,4 5,4.67 5,5.5 C5,6.33 5.67,7 6.5,7 Z M10.5,9 C9.66818182,9 8,9.46 8,10.375 L8,10.9989178 L13,10.9989178 L13,10.375 C13,9.46 11.3318182,9 10.5,9 Z M6.50474946,7.99186821 C4.77490105,7.99186821 3,8.585 3,9.75 L3,11 L7,11 L7,10 C7,9.24841871 7.73828683,8.72461975 8.70884076,8.35916117 C8.08932051,8.04219075 6.85693708,7.99186821 6.50474946,7.99186821 Z\" id=\"xabber:group-public\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/group-private.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/group-private</title>\n    <g id=\"badge/icon/group-private\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M10.45296,9.00001406 C11.2484973,9.00015914 11.9605655,9.50273575 12.2400509,10.2613541 C12.5195363,11.0199725 12.3078467,11.8755937 11.7087696,12.4087226 C11.1096925,12.9418515 10.2488201,13.0407214 9.5482222,12.6568582 C8.84762429,12.272995 8.45417618,11.4868729 8.56077817,10.683913 C8.38677817,10.6450242 8.19859635,10.6155798 7.99841453,10.6144687 C7.79823271,10.6139132 7.61005089,10.6450242 7.43605089,10.683913 C7.54265288,11.4868729 7.14920477,12.272995 6.44860686,12.6568582 C5.74800895,13.0407214 4.88713659,12.9418515 4.28805949,12.4087226 C3.68898239,11.8755937 3.4772928,11.0199725 3.75677818,10.2613541 C4.03626356,9.50273575 4.74833179,9.00015914 5.54386908,9.00001406 C6.32349136,8.99699984 7.02602967,9.47872777 7.31659635,10.2155808 C7.49059635,10.1616921 7.69841453,10.1111366 7.99841453,10.1111366 C8.22964016,10.109582 8.45968538,10.1448214 8.68023271,10.2155808 C8.97079939,9.47872777 9.6733377,8.99699984 10.45296,9.00001406 Z M5.54386908,9.55558244 C4.79075351,9.55558244 4.18023271,10.1774076 4.18023271,10.9444679 C4.18023271,11.7115282 4.79075351,12.3333534 5.54386908,12.3333534 C6.29698464,12.3333534 6.90750544,11.7115282 6.90750544,10.9444679 C6.90750544,10.1774076 6.29698464,9.55558244 5.54386908,9.55558244 Z M10.45296,9.55558244 C9.69984442,9.55558244 9.08932362,10.1774076 9.08932362,10.9444679 C9.08932362,11.7115282 9.69984442,12.3333534 10.45296,12.3333534 C11.2060756,12.3333534 11.8165963,11.7115282 11.8165963,10.9444679 C11.8165963,10.1774076 11.2060756,9.55558244 10.45296,9.55558244 Z M8,7 C8.29622378,7 8.61657343,7.01098373 8.94081475,7.02872667 L9.33047735,7.05299226 C10.5621226,7.13839497 11.7330909,7.297 11.7330909,7.297 C12.2062901,7.40997808 12.6727414,7.54549536 13.1305455,7.703 C13.6858182,7.877 14,8 14,8 L14,8 L2,8 C2,8 2.31418182,7.877 2.86945455,7.703 C3.32163107,7.54577794 3.78243762,7.41026088 4.25,7.297 C4.39345455,7.268 6.512,7 8,7 Z M8,3 C9.46836364,3.001 10.5058182,3.6095 10.5058182,3.6095 L10.5058182,3.6095 L11.2727273,6 L4.72727273,6 L5.49418182,3.6095 C5.49418182,3.6095 6.53163636,3.0015 8,3 Z\" id=\"private\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/channel.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/channel</title>\n    <g id=\"badge/icon/channel\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M6.5,12.5 C6.5,12.7761424 6.27614237,13 6,13 L5,13 C4.72385763,13 4.5,12.7761424 4.5,12.5 L4.5,9.997 L4.02563513,9.99796942 C3.49695533,9.99796942 3.06170233,9.63379568 3.00601829,9.10979782 L3,8.99514074 L3,7 C3,6.44278422 3.50172034,6 4.02563513,6 L4.02563513,6 L8,6 L11,4 L11,12 L8,9.99796942 L6.5,9.997 L6.5,12.5 Z M12,6 C12.7835446,6.37375602 13.2808221,7.14951331 13.2820439,8 C13.2882682,8.85255761 12.7887168,9.63186239 12,10 L12,6 Z\" id=\"Horn\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/rss.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/rss</title>\n    <g id=\"badge/icon/rss\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M4.75,10 C5.44035594,10 6,10.5596441 6,11.25 C6,11.9403559 5.44035594,12.5 4.75,12.5 C4.05964406,12.5 3.5,11.9403559 3.5,11.25 C3.5,10.5596441 4.05964406,10 4.75,10 Z M5.11116669,7.54639605 C6.82660407,7.80940186 8.1830606,9.16218778 8.45158391,10.8758014 L7.23152342,11.1795044 C7.08441894,9.91212418 6.07561709,8.9075227 4.80628203,8.7668642 L5.11116669,7.54639605 Z M5.72009926,5.11432766 C8.32885675,5.60976503 10.3855062,7.6642481 10.8841422,10.2718714 L9.66858256,10.5739265 C9.28406621,8.41337145 7.57799724,6.7100586 5.41602734,6.32963962 L5.72009926,5.11432766 Z M6.32787101,2.68573625 C9.83044069,3.40831848 12.5892971,6.16611302 13.3134345,9.66811414 L12.0989255,9.96960741 C11.4871421,6.91510726 9.07973668,4.50930363 6.02438684,3.89987406 L6.32787101,2.68573625 Z\" id=\"Channel-variant\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/rss-variant.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/rss-variant</title>\n    <g id=\"badge/icon/rss-variant\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M5,10 C5.55228475,10 6,10.4477153 6,11 C6,11.5412844 5.55045872,12 5,12 C4.4587156,12 4,11.5412844 4,11 C4,10.4477153 4.44771525,10 5,10 M4,4 C8.418278,4 12,7.581722 12,12 L10.5449871,12 C10.5449871,8.38530341 7.61469659,5.45501285 4,5.45501285 L4,4 M4,7 C6.76142375,7 9,9.23857625 9,12 L7.57070707,12 C7.57070707,11.0529896 7.19450866,10.1447663 6.52487118,9.47512882 C5.85523371,8.80549134 4.9470104,8.42929293 4,8.42929293 L4,7 Z\" id=\"rss-variant\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/server.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>badge/icon/server</title>\n    <g id=\"badge/icon/server\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"16\" height=\"16\"></rect>\n        <path d=\"M10.1428571,13 L5.85714286,13 C5.38571429,13 5,12.625 5,12.1666667 L5,3.83333333 C5,3.375 5.38571429,3 5.85714286,3 L10.1428571,3 C10.6142857,3 11,3.375 11,3.83333333 L11,12.1666667 C11,12.625 10.6142857,13 10.1428571,13 Z M10,5 L6,5 L6,6 L10,6 L10,5 Z M10,7 L6,7 L6,8 L10,8 L10,7 Z M10,11 L9,11 L9,12 L10,12 L10,11 Z\" id=\"Server\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/volume-off-variant.html",[],function(){return"<g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n    <g id=\"Mobile-Portrait\" transform=\"translate(-41.000000, -4.000000)\">\n        <g id=\"volume-off-variant\" transform=\"translate(34.000000, 0.000000)\">\n            <rect id=\"Bounds\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n            <polygon id=\"Path-2\" points=\"7 9 7 15 11 15 16 20 16 16.5 8.5 9\"></polygon>\n            <polygon id=\"Path-3\" points=\"7 6 18.5 17.5 19.5 16.5 16 13 16 4 11.5 8.5 8 5\"></polygon>\n        </g>\n    </g>\n</g>\n"}),define("text!templates/svg/message-group.html",[],function(){return"<g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n    <g id=\"message-group-variant2\" fill=\"#000000\">\n        <path d=\"M14.2526206,6 L21.4947588,6 C22.3260806,6 23,6.6752491 23,7.49824524 L23,24 L19,20 L8.50524116,20 C7.67391942,20 7,19.3247509 7,18.5017548 L7,17 L17.0005775,17 C18.6556493,17 20,15.6542582 20,13.9942017 L20,6 L14.2526206,6 Z\" id=\"Message2\"></path>\n        <path d=\"M1,2.49824524 C1,1.67078724 1.66642015,1 2.50863659,1 L16.4913634,1 C17.3245604,1 18,1.6752491 18,2.49824524 L18,13.5017548 C18,14.3292128 17.3335799,15 16.4913634,15 L5,15 L1,19 L1,2.49824524 Z M4,10 L4,12 L12,12 L12,10 L4,10 Z M4,7 L4,9 L15,9 L15,7 L4,7 Z M4,4 L4,6 L15,6 L15,4 L4,4 Z\" id=\"Combined-Shape\"></path>\n    </g>\n</g>\n"}),define("text!templates/svg/xabber-offline.html",[],function(){return"<g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n    <g id=\"Xabber-Offline\" fill=\"#000000\">\n        <path d=\"M13.4146471,22.5 L14.009222,22.5 C14.5490248,22.5 15,22.0522847 15,21.5 C15,20.9438648 14.5564136,20.5 14.009222,20.5 L9.99077797,20.5 C9.45097518,20.5 9,20.9477153 9,21.5 C9,22.0561352 9.44358641,22.5 9.99077797,22.5 L10.5853529,22.5 C10.7912711,23.0825962 11.3468906,23.5 12,23.5 C12.6531094,23.5 13.2087289,23.0825962 13.4146471,22.5 Z\" id=\"Base\"></path>\n        <rect id=\"Middle-base\" x=\"8\" y=\"17.75\" width=\"8\" height=\"2\" rx=\"1\"></rect>\n        <path d=\"M17.5099945,14.8015103 L17.5099945,14.8015103 C17.1966102,15.1049344 17.0013821,15.5296633 17,16 C17,16.5522847 16.5443356,17 16.0046024,17 L7.99539757,17 C7.44565467,17 7,16.5561352 6.99998649,16 C6.99861167,15.5296664 6.80338616,15.10494 6.49000549,14.8015163 L6.49000549,14.8000192 C4.95622884,13.3424727 4,11.282906 4,9 C4,4.581722 7.581722,1 12,1 C16.418278,1 20,4.581722 20,9 C20,11.282906 19.0437712,13.3424727 17.5099945,14.8000192 L17.5099945,14.8015103 Z M8.86088543,15 L15.1391084,15 C15.3021338,14.4253123 15.6014858,13.895093 16,13.472213 C17.2274987,12.3735719 18,10.7769996 18,9 C18,5.6862915 15.3137085,3 12,3 C8.6862915,3 6,5.6862915 6,9 C6,10.7769996 6.77250128,12.3735719 8,13.472213 C8.39851111,13.8950917 8.69786083,14.4253152 8.86088543,15 Z\" id=\"Bulb-shape\"></path>\n    </g>\n</g>\n"}),define("text!templates/svg/xabber-online.html",[],function(){return"<g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n    <g id=\"Xabber-Online\" fill=\"#000000\">\n        <path d=\"M13.4146471,22.5 L14.009222,22.5 C14.5490248,22.5 15,22.0522847 15,21.5 C15,20.9438648 14.5564136,20.5 14.009222,20.5 L9.99077797,20.5 C9.45097518,20.5 9,20.9477153 9,21.5 C9,22.0561352 9.44358641,22.5 9.99077797,22.5 L10.5853529,22.5 C10.7912711,23.0825962 11.3468906,23.5 12,23.5 C12.6531094,23.5 13.2087289,23.0825962 13.4146471,22.5 Z\" id=\"Base\"></path>\n        <rect id=\"Middle-base\" x=\"8\" y=\"17.75\" width=\"8\" height=\"2\" rx=\"1\"></rect>\n        <path d=\"M17.5099945,14.8015103 L17.5099945,14.8000192 C19.0437712,13.3424727 20,11.282906 20,9 C20,4.581722 16.418278,1 12,1 C7.581722,1 4,4.581722 4,9 C4,11.282906 4.95622884,13.3424727 6.49000549,14.8000192 L6.49000549,14.8015163 C6.80338616,15.10494 6.99861167,15.5296664 6.99998649,16 C7,16.5561352 7.44565467,17 7.99539757,17 L16.0046024,17 C16.5443356,17 17,16.5522847 17,16 C17.0013821,15.5296633 17.1966102,15.1049344 17.5099945,14.8015103 L17.5099945,14.8015103 Z\" id=\"Bulb-shape\"></path>\n    </g>\n</g>\n"}),define("text!templates/svg/saved-messages.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/saved-messages</title>\n    <g id=\"icon/material/saved-messages\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <path d=\"M17.1666667,1 C17.9487847,1 18.6165365,1.26855469 19.1699219,1.80566406 C19.7233073,2.34277344 20,2.99088542 20,3.75 L20,21.625 C20,21.9973958 19.8634983,22.3196615 19.5904948,22.5917969 C19.3174913,22.8639323 18.9817708,23 18.5833333,23 L12,18.1875 L5.41666667,23 C5.01822917,23 4.68250868,22.8639323 4.40950521,22.5917969 C4.13650174,22.3196615 4,21.9973958 4,21.625 L4,3.75 C4,2.99088542 4.27669271,2.34277344 4.83007812,1.80566406 C5.38346354,1.26855469 6.05121528,1 6.83333333,1 L17.1666667,1 Z M12.0016667,4.4375 L10.2972396,8.1328125 L6.335,8.6484375 L9.256875,11.4199219 L8.50427083,15.4375 L12.0016667,13.4609375 L15.4990625,15.4375 L14.7464583,11.4199219 L17.6683333,8.6484375 L13.7060938,8.1328125 L12.0016667,4.4375 Z\" id=\"xabber:saved-messages\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/palette.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/palette</title>\n    <g id=\"icon/material/palette\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M17.5,12 C16.6715729,12 16,11.3284271 16,10.5 C16,9.67157288 16.6715729,9 17.5,9 C18.3284271,9 19,9.67157288 19,10.5 C19,11.3284271 18.3284271,12 17.5,12 M14.5,8 C13.6715729,8 13,7.32842712 13,6.5 C13,5.67157288 13.6715729,5 14.5,5 C15.3284271,5 16,5.67157288 16,6.5 C16,7.32842712 15.3284271,8 14.5,8 M9.5,8 C8.67157288,8 8,7.32842712 8,6.5 C8,5.67157288 8.67157288,5 9.5,5 C10.3284271,5 11,5.67157288 11,6.5 C11,7.32842712 10.3284271,8 9.5,8 M6.5,12 C5.67157288,12 5,11.3284271 5,10.5 C5,9.67157288 5.67157288,9 6.5,9 C7.32842712,9 8,9.67157288 8,10.5 C8,11.3284271 7.32842712,12 6.5,12 M12,3 C7.02943725,3 3,7.02943725 3,12 C3,16.9705627 7.02943725,21 12,21 C12.8284271,21 13.5,20.3284271 13.5,19.5 C13.5,19.11 13.35,18.76 13.11,18.5 C12.88,18.23 12.73,17.88 12.73,17.5 C12.73,16.6715729 13.4015729,16 14.23,16 L16,16 C18.7614237,16 21,13.7614237 21,11 C21,6.58 16.97,3 12,3 L12,3 Z\" id=\"mdi:palette\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/circles.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/circles</title>\n    <g id=\"icon/material/circles\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M8.61510772,4.31938417 C8.25000899,5.22387524 8.03611758,6.2044003 8.00418277,7.23077377 L7.97406606,7.24580182 C5.90831413,8.33435426 4.5,10.5027124 4.5,13 C4.5,16.5898509 7.41014913,19.5 11,19.5 C13.5096307,19.5 15.6870724,18.07773 16.7702598,15.9952553 C17.7955997,15.9638824 18.7761248,15.749991 19.6796219,15.3853225 C18.6352051,19.1981743 15.1448033,22 11,22 C6.02943725,22 2,17.9705627 2,13 C2,8.85508685 4.80197429,5.36460986 8.61510772,4.31938417 Z M16.5,1 C20.0898509,1 23,3.91014913 23,7.5 C23,11.0898509 20.0898509,14 16.5,14 C12.9101491,14 10,11.0898509 10,7.5 C10,3.91014913 12.9101491,1 16.5,1 Z M16.5,3.5 C14.290861,3.5 12.5,5.290861 12.5,7.5 C12.5,9.709139 14.290861,11.5 16.5,11.5 C18.709139,11.5 20.5,9.709139 20.5,7.5 C20.5,5.290861 18.709139,3.5 16.5,3.5 Z\" id=\"xabber:circles\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("text!templates/svg/translate.html",[],function(){return"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <title>icon/material/translate</title>\n    <g id=\"icon/material/translate\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"ViewBox\" fill-rule=\"nonzero\" x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\n        <path d=\"M12.87,15.07 L10.33,12.56 L10.36,12.53 C12.0541502,10.6471017 13.3198948,8.41925464 14.07,6 L17,6 L17,4 L10,4 L10,2 L8,2 L8,4 L1,4 L1,6 L12.17,6 C11.5,7.92 10.44,9.75 9,11.35 C8.07,10.32 7.3,9.19 6.69,8 L4.69,8 C5.42,9.63 6.42,11.17 7.67,12.56 L2.58,17.58 L4,19 L9,14 L12.11,17.11 L12.87,15.07 M18.5,10 L16.5,10 L12,22 L14,22 L15.12,19 L19.87,19 L21,22 L23,22 L18.5,10 M15.88,17 L17.5,12.67 L19.12,17 L15.88,17 L15.88,17 Z\" id=\"mdi:translate\" fill=\"#000000\" fill-rule=\"nonzero\"></path>\n    </g>\n</svg>"}),define("xabber-templates",["underscore","jquery","text!templates/base/dialog.html","text!templates/base/fingerprints.html","text!templates/base/fingerprint_item.html","text!templates/base/jingle_message_calling.html","text!templates/base/input_widget.html","text!templates/base/toolbar.html","text!templates/base/settings.html","text!templates/base/about.html","text!templates/base/omemo_enable.html","text!templates/base/backgrounds_gallery.html","text!templates/base/color_picker.html","text!templates/base/color_scheme.html","text!templates/api_service/xabber_login.html","text!templates/api_service/xabber_login_by_email.html","text!templates/api_service/xabber_account.html","text!templates/api_service/linked_email_item.html","text!templates/api_service/add_xabber_account.html","text!templates/api_service/sync_settings.html","text!templates/api_service/sync_settings_account_item.html","text!templates/accounts/xmpp_login.html","text!templates/accounts/add_account.html","text!templates/accounts/change_password.html","text!templates/accounts/toolbar_item.html","text!templates/accounts/settings_left.html","text!templates/accounts/settings_right.html","text!templates/accounts/existing_groupchat_item.html","text!templates/accounts/resource.html","text!templates/accounts/global_settings_item.html","text!templates/accounts/change_status.html","text!templates/accounts/token_item.html","text!templates/accounts/current_token_item.html","text!templates/vcard/vcard.html","text!templates/vcard/vcard_edit.html","text!templates/searching/searching_wide.html","text!templates/searching/searching_account_item.html","text!templates/searching/existing_groupchat_item.html","text!templates/searching/existing_groupchat_details_view.html","text!templates/contacts/roster_right.html","text!templates/contacts/roster_left.html","text!templates/contacts/account_roster_right.html","text!templates/contacts/account_roster_left.html","text!templates/contacts/roster_left.html","text!templates/contacts/group_right.html","text!templates/contacts/group_left.html","text!templates/contacts/add_contact.html","text!templates/contacts/contact_right_item.html","text!templates/contacts/contact_left_item.html","text!templates/contacts/contact_blocked_item.html","text!templates/contacts/contact_details.html","text!templates/contacts/roster_settings.html","text!templates/contacts/group_settings.html","text!templates/contacts/groups_checkbox_list.html","text!templates/contacts/add_contact_account_item.html","text!templates/contacts/contact_placeholder.html","text!templates/contacts/groups.html","text!templates/contacts/preloader.html","text!templates/contacts/group_chats/group_chat_properties.html","text!templates/contacts/group_chats/group_chat_details.html","text!templates/contacts/group_chats/invitation.html","text!templates/contacts/group_chats/group_chat_properties_edit.html","text!templates/contacts/group_chats/default_restrictions.html","text!templates/contacts/group_chats/group_member_item.html","text!templates/contacts/group_chats/invited_member_item.html","text!templates/contacts/group_chats/participant_rights.html","text!templates/contacts/group_chats/restriction_item.html","text!templates/contacts/group_chats/right_expire_variants.html","text!templates/contacts/group_chats/pinned_message.html","text!templates/contacts/group_chats/participant_details_item.html","text!templates/contacts/group_chats/participants.html","text!templates/contacts/group_chats/badge_edit_view.html","text!templates/contacts/group_chats/private_participant_details.html","text!templates/contacts/group_chats/set_status.html","text!templates/contacts/group_chats/status_item.html","text!templates/contacts/group_chats/group_status.html","text!templates/chats/chats_panel.html","text!templates/chats/add_chat_account_item.html","text!templates/chats/chat_item.html","text!templates/chats/chat_head.html","text!templates/chats/saved_chat_head.html","text!templates/chats/chat_content.html","text!templates/chats/chat_bottom.html","text!templates/chats/subscription_buttons.html","text!templates/chats/forward_panel.html","text!templates/chats/chat_placeholder.html","text!templates/chats/message_item.html","text!templates/chats/messages/main.html","text!templates/chats/messages/forwarded.html","text!templates/chats/messages/system.html","text!templates/chats/messages/file_upload.html","text!templates/chats/messages/file.html","text!templates/chats/messages/audio_file.html","text!templates/chats/messages/audio_file_waveform.html","text!templates/chats/messages/auth_request.html","text!templates/chats/messages/group_request.html","text!templates/chats/messages/template-for-2.html","text!templates/chats/messages/template-for-3.html","text!templates/chats/messages/template-for-4.html","text!templates/chats/messages/template-for-5.html","text!templates/chats/messages/template-for-6.html","text!templates/chats/messages/saved_main.html","text!templates/chats/group_chats/pinned_message_panel.html","text!templates/chats/group_chats/add_group_chat.html","text!templates/chats/group_chats/invitation_panel_view.html","text!templates/chats/group_chats/mention_item.html","text!templates/chats/encryption_warning.html","text!templates/chats/content_encryption_warning.html","text!templates/mentions/mentions_panel.html","text!templates/mentions/mentions_placeholder.html","text!templates/mentions/mention_item.html","text!templates/svg/ic-jabber.html","text!templates/svg/xmpp.html","text!templates/svg/ic-at.html","text!templates/svg/ic-searching.html","text!templates/svg/blocked.html","text!templates/svg/bot.html","text!templates/svg/bot-variant.html","text!templates/svg/group-incognito.html","text!templates/svg/group-invite.html","text!templates/svg/group-public.html","text!templates/svg/group-private.html","text!templates/svg/channel.html","text!templates/svg/rss.html","text!templates/svg/rss-variant.html","text!templates/svg/server.html","text!templates/svg/volume-off-variant.html","text!templates/svg/message-group.html","text!templates/svg/xabber-offline.html","text!templates/svg/xabber-online.html","text!templates/svg/saved-messages.html","text!templates/svg/palette.html","text!templates/svg/circles.html","text!templates/svg/translate.html"],function(e,t){e.templateSettings={evaluate:/\{\[([\s\S]+?)\]\}/g,interpolate:/\{\{([\s\S]+?)\}\}/g};let a={},n=function(e){let n=t("<div/>").html(e);return n.find(".mdi-svg-template").each(function(){let e=t(this),n=e.data("svgname");e.removeClass("mdi-svg-template").addClass("mdi-"+n).attr("data-svgname",null),e.html(a.svg[n]())}),n.html()},i=function(t,i){i||(i={});let s=t.split("."),o=e.template(require("text!templates/"+s.join("/")+".html")),d=s.pop(),r=a;e.each(s,function(e){r[e]||(r[e]={}),r=r[e]}),r[d]=i.is_svg?o:function(e){return n(o(e))}},s=function(e){i(e,{is_svg:!1})},o=function(e){i(e,{is_svg:!0})};return s("base.dialog"),s("base.fingerprints"),s("base.fingerprint_item"),s("base.jingle_message_calling"),s("base.input_widget"),s("base.toolbar"),s("base.settings"),s("base.about"),s("base.omemo_enable"),s("base.backgrounds_gallery"),s("base.color_picker"),s("base.color_scheme"),s("api_service.xabber_login"),s("api_service.xabber_login_by_email"),s("api_service.add_xabber_account"),s("api_service.xabber_account"),s("api_service.linked_email_item"),s("api_service.sync_settings"),s("api_service.sync_settings_account_item"),s("accounts.xmpp_login"),s("accounts.add_account"),s("accounts.change_password"),s("accounts.toolbar_item"),s("accounts.settings_left"),s("accounts.settings_right"),s("accounts.existing_groupchat_item"),s("accounts.resource"),s("accounts.global_settings_item"),s("accounts.change_status"),s("accounts.token_item"),s("accounts.current_token_item"),s("vcard.vcard"),s("vcard.vcard_edit"),s("searching.searching_wide"),s("searching.searching_account_item"),s("searching.existing_groupchat_item"),s("searching.existing_groupchat_details_view"),s("contacts.roster_right"),s("contacts.roster_left"),s("contacts.account_roster_right"),s("contacts.account_roster_left"),s("contacts.group_right"),s("contacts.group_left"),s("contacts.add_contact"),s("contacts.contact_right_item"),s("contacts.contact_left_item"),s("contacts.contact_blocked_item"),s("contacts.contact_details"),s("contacts.roster_settings"),s("contacts.group_settings"),s("contacts.groups_checkbox_list"),s("contacts.add_contact_account_item"),s("contacts.contact_placeholder"),s("contacts.groups"),s("contacts.preloader"),s("contacts.group_chats.group_chat_properties"),s("contacts.group_chats.group_chat_details"),s("contacts.group_chats.invitation"),s("contacts.group_chats.group_chat_properties_edit"),s("contacts.group_chats.default_restrictions"),s("contacts.group_chats.group_member_item"),s("contacts.group_chats.invited_member_item"),s("contacts.group_chats.participant_rights"),s("contacts.group_chats.restriction_item"),s("contacts.group_chats.right_expire_variants"),s("contacts.group_chats.pinned_message"),s("contacts.group_chats.participant_details_item"),s("contacts.group_chats.participants"),s("contacts.group_chats.badge_edit_view"),s("contacts.group_chats.private_participant_details"),s("contacts.group_chats.set_status"),s("contacts.group_chats.status_item"),s("contacts.group_chats.group_status"),s("chats.chats_panel"),s("chats.add_chat_account_item"),s("chats.chat_item"),s("chats.chat_head"),s("chats.saved_chat_head"),s("chats.chat_content"),s("chats.chat_bottom"),s("chats.subscription_buttons"),s("chats.forward_panel"),s("chats.chat_placeholder"),s("chats.message_item"),s("chats.messages.main"),s("chats.messages.forwarded"),s("chats.messages.system"),s("chats.messages.file_upload"),s("chats.messages.file"),s("chats.messages.audio_file"),s("chats.messages.audio_file_waveform"),s("chats.messages.auth_request"),s("chats.messages.group_request"),s("chats.messages.template-for-2"),s("chats.messages.template-for-3"),s("chats.messages.template-for-4"),s("chats.messages.template-for-5"),s("chats.messages.template-for-6"),s("chats.messages.saved_main"),s("chats.group_chats.pinned_message_panel"),s("chats.group_chats.add_group_chat"),s("chats.group_chats.invitation_panel_view"),s("chats.group_chats.mention_item"),s("chats.encryption_warning"),s("chats.content_encryption_warning"),s("mentions.mentions_panel"),s("mentions.mentions_placeholder"),s("mentions.mention_item"),o("svg.ic-jabber"),o("svg.xmpp"),o("svg.ic-at"),o("svg.ic-searching"),o("svg.blocked"),o("svg.bot"),o("svg.bot-variant"),o("svg.group-incognito"),o("svg.group-invite"),o("svg.group-public"),o("svg.group-private"),o("svg.channel"),o("svg.rss"),o("svg.rss-variant"),o("svg.server"),o("svg.volume-off-variant"),o("svg.message-group"),o("svg.xabber-offline"),o("svg.xabber-online"),o("svg.saved-messages"),o("svg.palette"),o("svg.circles"),o("svg.translate"),a}),define("xabber-emoji-utils",["jquery","underscore"],function(e,t){var a=String.prototype,n=String.fromCharCode,i={smiles_and_people:[{code:128512,x:9,y:3},{code:128515,x:12,y:3},{code:128516,x:13,y:3},{code:128513,x:10,y:3},{code:128518,x:1,y:4},{code:128517,x:0,y:4},{code:129315,x:6,y:10},{code:128514,x:11,y:3},{code:128578,x:5,y:8},{code:128579,x:6,y:8},{code:128521,x:4,y:4},{code:128522,x:5,y:4},{code:128519,x:2,y:4},{code:128525,x:8,y:4},{code:129321,x:12,y:10},{code:128535,x:4,y:5},{code:9786,x:14,y:5},{code:128538,x:7,y:5},{code:128537,x:6,y:5},{code:128523,x:6,y:4},{code:128539,x:8,y:5},{code:128540,x:9,y:5},{code:129322,x:13,y:10},{code:128541,x:10,y:5},{code:129297,x:10,y:9},{code:129303,x:2,y:10},{code:129325,x:2,y:11},{code:129323,x:0,y:11},{code:129300,x:13,y:9},{code:129296,x:9,y:9},{code:129320,x:11,y:10},{code:128528,x:11,y:4},{code:128529,x:12,y:4},{code:128566,x:7,y:7},{code:128527,x:10,y:4},{code:128530,x:13,y:4},{code:128580,x:7,y:8},{code:128556,x:11,y:6},{code:129317,x:8,y:10},{code:128524,x:7,y:4},{code:128532,x:1,y:5},{code:128554,x:9,y:6},{code:129316,x:7,y:10},{code:128564,x:5,y:7},{code:128567,x:8,y:7},{code:129298,x:11,y:9},{code:129301,x:0,y:10},{code:129314,x:5,y:10},{code:129326,x:3,y:11},{code:129319,x:10,y:10},{code:129397,x:7,y:12},{code:129398,x:8,y:12},{code:129396,x:6,y:12},{code:128565,x:6,y:7},{code:129327,x:4,y:11},{code:129312,x:3,y:10},{code:129395,x:5,y:12},{code:128526,x:9,y:4},{code:129299,x:12,y:9},{code:129488,x:1,y:13},{code:128533,x:2,y:5},{code:128543,x:12,y:5},{code:128577,x:4,y:8},{code:9785,x:14,y:4},{code:128558,x:13,y:6},{code:128559,x:0,y:7},{code:128562,x:3,y:7},{code:128563,x:4,y:7},{code:129402,x:9,y:12},{code:128550,x:5,y:6},{code:128551,x:6,y:6},{code:128552,x:7,y:6},{code:128560,x:1,y:7},{code:128549,x:4,y:6},{code:128546,x:1,y:6},{code:128557,x:12,y:6},{code:128561,x:2,y:7},{code:128534,x:3,y:5},{code:128547,x:2,y:6},{code:128542,x:11,y:5},{code:128531,x:0,y:5},{code:128553,x:8,y:6},{code:128555,x:10,y:6},{code:128548,x:3,y:6},{code:128545,x:0,y:6},{code:128544,x:13,y:5},{code:129324,x:1,y:11},{code:128520,x:3,y:4},{code:128127,x:9,y:2},{code:128128,x:10,y:2},{code:9760,x:14,y:3},{code:128169,x:4,y:3},{code:129313,x:4,y:10},{code:128121,x:3,y:2},{code:128122,x:4,y:2},{code:128123,x:5,y:2},{code:128125,x:7,y:2},{code:128126,x:8,y:2},{code:129302,x:1,y:10},{code:128570,x:11,y:7},{code:128568,x:9,y:7},{code:128569,x:10,y:7},{code:128571,x:12,y:7},{code:128572,x:13,y:7},{code:128573,x:0,y:8},{code:128576,x:3,y:8},{code:128575,x:2,y:8},{code:128574,x:1,y:8},{code:128584,x:11,y:8},{code:128585,x:12,y:8},{code:128586,x:13,y:8},{code:128118,x:0,y:2},{code:129490,x:3,y:13},{code:128102,x:12,y:0},{code:128103,x:13,y:0},{code:128113,x:9,y:1},{code:129492,x:5,y:13},{code:129491,x:4,y:13},{code:128116,x:12,y:1},{code:128117,x:13,y:1},{code:128589,x:1,y:9},{code:128590,x:2,y:9},{code:128581,x:8,y:8},{code:128582,x:9,y:8},{code:128129,x:11,y:2},{code:128587,x:0,y:9},{code:128583,x:10,y:8},{code:129318,x:9,y:10},{code:129335,x:10,y:11},{code:128110,x:6,y:1},{code:128373,x:6,y:3},{code:128130,x:12,y:2},{code:128119,x:1,y:2},{code:129332,x:7,y:11},{code:128120,x:2,y:2},{code:128115,x:11,y:1},{code:128114,x:10,y:1},{code:129493,x:6,y:13},{code:129333,x:8,y:11},{code:128112,x:8,y:1},{code:129328,x:5,y:11},{code:129329,x:6,y:11},{code:128124,x:6,y:2},{code:127877,x:0,y:0},{code:129334,x:9,y:11},{code:129464,x:10,y:12},{code:129465,x:11,y:12},{code:129497,x:10,y:13},{code:129498,x:11,y:13},{code:129499,x:12,y:13},{code:129500,x:13,y:13},{code:129501,x:14,y:0},{code:129502,x:14,y:1},{code:129503,x:14,y:2},{code:128134,x:0,y:3},{code:128135,x:1,y:3},{code:128694,x:6,y:9},{code:127939,x:2,y:0},{code:128131,x:13,y:2},{code:128378,x:7,y:3},{code:128372,x:5,y:3},{code:128111,x:7,y:1},{code:129494,x:7,y:13},{code:129495,x:8,y:13},{code:129338,x:13,y:11},{code:127943,x:4,y:0},{code:9975,x:14,y:6},{code:127938,x:1,y:0},{code:127948,x:7,y:0},{code:127940,x:3,y:0},{code:128675,x:3,y:9},{code:127946,x:5,y:0},{code:9977,x:14,y:7},{code:127947,x:6,y:0},{code:128692,x:4,y:9},{code:128693,x:5,y:9},{code:129336,x:11,y:11},{code:129340,x:0,y:12},{code:129341,x:1,y:12},{code:129342,x:2,y:12},{code:129337,x:12,y:11},{code:129496,x:9,y:13},{code:128704,x:7,y:9},{code:128716,x:8,y:9},{code:128109,x:5,y:1},{code:128107,x:3,y:1},{code:128108,x:4,y:1},{code:128143,x:2,y:3},{code:128145,x:3,y:3},{code:128106,x:2,y:1},{code:128483,x:8,y:3},{code:128100,x:10,y:0},{code:128101,x:11,y:0},{code:128099,x:9,y:0}],body_and_clothes:[{code:128075,x:3,y:1},{code:129306,x:10,y:7},{code:128400,x:7,y:6},{code:9995,x:9,y:10},{code:128406,x:9,y:6},{code:128076,x:4,y:1},{code:9996,x:10,y:10},{code:129310,x:3,y:8},{code:129311,x:4,y:8},{code:129304,x:8,y:7},{code:129305,x:9,y:7},{code:128072,x:0,y:1},{code:128073,x:1,y:1},{code:128070,x:9,y:0},{code:128405,x:8,y:6},{code:128071,x:10,y:0},{code:9757,x:6,y:10},{code:128077,x:5,y:1},{code:128078,x:6,y:1},{code:9994,x:8,y:10},{code:128074,x:2,y:1},{code:129307,x:0,y:8},{code:129308,x:1,y:8},{code:128079,x:7,y:1},{code:128588,x:2,y:7},{code:128080,x:8,y:1},{code:129330,x:5,y:8},{code:129309,x:2,y:8},{code:128591,x:3,y:7},{code:9997,x:11,y:0},{code:128133,x:6,y:3},{code:129331,x:6,y:8},{code:128170,x:9,y:5},{code:129461,x:2,y:9},{code:129462,x:3,y:9},{code:128066,x:5,y:0},{code:128067,x:6,y:0},{code:129504,x:6,y:9},{code:129463,x:4,y:9},{code:129460,x:1,y:9},{code:128064,x:3,y:0},{code:128069,x:8,y:0},{code:128068,x:7,y:0},{code:128139,x:7,y:3},{code:128140,x:8,y:3},{code:128152,x:5,y:4},{code:128157,x:10,y:4},{code:128150,x:3,y:4},{code:128151,x:4,y:4},{code:128147,x:0,y:4},{code:128158,x:0,y:5},{code:128149,x:2,y:4},{code:128159,x:1,y:5},{code:10083,x:11,y:1},{code:128148,x:1,y:4},{code:10084,x:11,y:2},{code:129505,x:7,y:9},{code:128155,x:8,y:4},{code:128154,x:7,y:4},{code:128153,x:6,y:4},{code:128156,x:9,y:4},{code:128420,x:10,y:6},{code:128175,x:3,y:6},{code:128162,x:2,y:5},{code:128165,x:5,y:5},{code:128171,x:10,y:5},{code:128166,x:6,y:5},{code:128168,x:8,y:5},{code:128371,x:5,y:6},{code:128163,x:3,y:5},{code:128172,x:0,y:6},{code:128065,x:4,y:0},{code:128488,x:0,y:7},{code:128495,x:1,y:7},{code:128173,x:1,y:6},{code:128164,x:4,y:5},{code:128083,x:0,y:2},{code:128374,x:6,y:6},{code:129405,x:9,y:8},{code:129404,x:8,y:8},{code:128084,x:1,y:2},{code:128085,x:2,y:2},{code:128086,x:3,y:2},{code:129507,x:9,y:9},{code:129508,x:10,y:9},{code:129509,x:0,y:10},{code:129510,x:1,y:10},{code:128087,x:4,y:2},{code:128088,x:5,y:2},{code:128089,x:6,y:2},{code:128090,x:7,y:2},{code:128091,x:8,y:2},{code:128092,x:9,y:2},{code:128093,x:10,y:2},{code:128717,x:4,y:7},{code:127890,x:0,y:0},{code:128094,x:0,y:3},{code:128095,x:1,y:3},{code:129406,x:10,y:8},{code:129407,x:0,y:9},{code:128096,x:2,y:3},{code:128097,x:3,y:3},{code:128098,x:4,y:3},{code:128081,x:9,y:1},{code:128082,x:10,y:1},{code:127913,x:2,y:0},{code:127891,x:1,y:0},{code:129506,x:8,y:9},{code:9937,x:7,y:10},{code:128255,x:4,y:6},{code:128132,x:5,y:3},{code:128141,x:9,y:3},{code:128142,x:10,y:3}],animals_and_nature:[{code:128053,x:6,y:6},{code:128018,x:4,y:3},{code:129421,x:2,y:9},{code:128054,x:7,y:6},{code:128021,x:7,y:3},{code:128041,x:6,y:5},{code:128058,x:0,y:7},{code:129418,x:10,y:8},{code:129437,x:7,y:10},{code:128008,x:5,y:2},{code:129409,x:1,y:8},{code:128047,x:1,y:6},{code:128005,x:2,y:2},{code:128006,x:3,y:2},{code:128052,x:5,y:6},{code:128014,x:0,y:3},{code:129412,x:4,y:8},{code:129427,x:8,y:9},{code:129420,x:1,y:9},{code:128046,x:0,y:6},{code:128002,x:10,y:1},{code:128003,x:0,y:2},{code:128004,x:1,y:2},{code:128055,x:8,y:6},{code:128022,x:9,y:3},{code:128023,x:10,y:3},{code:128061,x:3,y:7},{code:128015,x:1,y:3},{code:128017,x:3,y:3},{code:128016,x:2,y:3},{code:128042,x:7,y:5},{code:128043,x:8,y:5},{code:129433,x:3,y:10},{code:129426,x:7,y:9},{code:128024,x:0,y:4},{code:129423,x:4,y:9},{code:129435,x:5,y:10},{code:128045,x:10,y:5},{code:128001,x:9,y:1},{code:128e3,x:8,y:1},{code:128057,x:10,y:6},{code:128048,x:2,y:6},{code:128007,x:4,y:2},{code:128063,x:5,y:7},{code:129428,x:9,y:9},{code:129415,x:7,y:8},{code:128059,x:1,y:7},{code:128040,x:5,y:5},{code:128060,x:2,y:7},{code:129432,x:2,y:10},{code:129441,x:11,y:0},{code:128062,x:4,y:7},{code:129411,x:3,y:8},{code:128020,x:6,y:3},{code:128019,x:5,y:3},{code:128035,x:0,y:5},{code:128036,x:1,y:5},{code:128037,x:2,y:5},{code:128038,x:3,y:5},{code:128039,x:4,y:5},{code:128330,x:7,y:7},{code:129413,x:5,y:8},{code:129414,x:6,y:8},{code:129442,x:11,y:1},{code:129417,x:9,y:8},{code:129434,x:4,y:10},{code:129436,x:6,y:10},{code:128056,x:9,y:6},{code:128010,x:7,y:2},{code:128034,x:10,y:4},{code:129422,x:3,y:9},{code:128013,x:10,y:2},{code:128050,x:3,y:6},{code:128009,x:6,y:2},{code:129429,x:10,y:9},{code:129430,x:0,y:10},{code:128051,x:4,y:6},{code:128011,x:8,y:2},{code:128044,x:9,y:5},{code:128031,x:7,y:4},{code:128032,x:8,y:4},{code:128033,x:9,y:4},{code:129416,x:8,y:8},{code:128025,x:1,y:4},{code:128026,x:2,y:4},{code:128012,x:9,y:2},{code:129419,x:0,y:9},{code:128027,x:3,y:4},{code:128028,x:4,y:4},{code:128029,x:5,y:4},{code:128030,x:6,y:4},{code:129431,x:1,y:10},{code:128375,x:8,y:7},{code:128376,x:9,y:7},{code:129410,x:2,y:8},{code:129439,x:9,y:10},{code:129440,x:10,y:10},{code:128144,x:6,y:7},{code:127800,x:6,y:0},{code:127989,x:7,y:1},{code:127801,x:7,y:0},{code:129344,x:10,y:7},{code:127802,x:8,y:0},{code:127803,x:9,y:0},{code:127804,x:10,y:0},{code:127799,x:5,y:0},{code:127793,x:0,y:0},{code:127812,x:6,y:1},{code:127794,x:1,y:0},{code:127795,x:2,y:0},{code:127796,x:3,y:0},{code:127797,x:4,y:0},{code:127806,x:0,y:1},{code:127807,x:1,y:1},{code:9752,x:11,y:8},{code:127808,x:2,y:1},{code:127809,x:3,y:1},{code:127810,x:4,y:1},{code:127811,x:5,y:1},{code:129408,x:0,y:8},{code:129438,x:8,y:10},{code:129424,x:5,y:9},{code:129425,x:6,y:9}],food_and_drinks:[{code:127815,x:8,y:0},{code:127816,x:9,y:0},{code:127817,x:0,y:1},{code:127818,x:1,y:1},{code:127819,x:2,y:1},{code:127820,x:3,y:1},{code:127821,x:4,y:1},{code:129389,x:10,y:0},{code:127822,x:5,y:1},{code:127823,x:6,y:1},{code:127824,x:7,y:1},{code:127825,x:8,y:1},{code:127826,x:9,y:1},{code:127827,x:0,y:2},{code:129373,x:4,y:8},{code:127813,x:6,y:0},{code:129381,x:2,y:9},{code:129361,x:2,y:7},{code:127814,x:7,y:0},{code:129364,x:5,y:7},{code:129365,x:6,y:7},{code:127805,x:5,y:0},{code:127798,x:4,y:0},{code:129362,x:3,y:7},{code:129388,x:9,y:9},{code:129382,x:3,y:9},{code:129372,x:3,y:8},{code:127792,x:3,y:0},{code:127838,x:1,y:3},{code:129360,x:1,y:7},{code:129366,x:7,y:7},{code:129384,x:5,y:9},{code:129391,x:10,y:2},{code:129374,x:5,y:8},{code:129472,x:10,y:3},{code:127830,x:3,y:2},{code:127831,x:4,y:2},{code:129385,x:6,y:9},{code:129363,x:4,y:7},{code:127828,x:1,y:2},{code:127839,x:2,y:3},{code:127829,x:2,y:2},{code:127789,x:0,y:0},{code:129386,x:7,y:9},{code:127790,x:1,y:0},{code:127791,x:2,y:0},{code:129369,x:0,y:8},{code:129370,x:1,y:8},{code:127859,x:2,y:5},{code:129368,x:9,y:7},{code:127858,x:1,y:5},{code:129379,x:0,y:9},{code:129367,x:8,y:7},{code:127871,x:4,y:6},{code:129474,x:10,y:5},{code:129387,x:8,y:9},{code:127857,x:0,y:5},{code:127832,x:5,y:2},{code:127833,x:6,y:2},{code:127834,x:7,y:2},{code:127835,x:8,y:2},{code:127836,x:9,y:2},{code:127837,x:0,y:3},{code:127840,x:3,y:3},{code:127842,x:5,y:3},{code:127843,x:6,y:3},{code:127844,x:7,y:3},{code:127845,x:8,y:3},{code:129390,x:10,y:1},{code:127841,x:4,y:3},{code:129375,x:6,y:8},{code:129376,x:7,y:8},{code:129377,x:8,y:8},{code:127846,x:9,y:3},{code:127847,x:0,y:4},{code:127848,x:1,y:4},{code:127849,x:2,y:4},{code:127850,x:3,y:4},{code:127874,x:5,y:6},{code:127856,x:9,y:4},{code:129473,x:10,y:4},{code:129383,x:4,y:9},{code:127851,x:4,y:4},{code:127852,x:5,y:4},{code:127853,x:6,y:4},{code:127854,x:7,y:4},{code:127855,x:8,y:4},{code:127868,x:1,y:6},{code:129371,x:2,y:8},{code:9749,x:4,y:10},{code:127861,x:4,y:5},{code:127862,x:5,y:5},{code:127870,x:3,y:6},{code:127863,x:6,y:5},{code:127864,x:7,y:5},{code:127865,x:8,y:5},{code:127866,x:9,y:5},{code:127867,x:0,y:6},{code:129346,x:8,y:6},{code:129347,x:9,y:6},{code:129380,x:1,y:9},{code:129378,x:9,y:8},{code:127869,x:2,y:6},{code:127860,x:3,y:5},{code:129348,x:0,y:7},{code:128298,x:7,y:6},{code:127994,x:6,y:6}],travel_and_places:[{code:127757,x:13,y:0},{code:127758,x:0,y:1},{code:127759,x:1,y:1},{code:127760,x:2,y:1},{code:128506,x:0,y:8},{code:128510,x:4,y:8},{code:129517,x:12,y:12},{code:127956,x:9,y:3},{code:9968,x:14,y:8},{code:127755,x:11,y:0},{code:128507,x:1,y:8},{code:127957,x:10,y:3},{code:127958,x:11,y:3},{code:127964,x:3,y:4},{code:127965,x:4,y:4},{code:127966,x:5,y:4},{code:127967,x:6,y:4},{code:127963,x:2,y:4},{code:127959,x:12,y:3},{code:129521,x:13,y:12},{code:127960,x:13,y:3},{code:127962,x:1,y:4},{code:127968,x:7,y:4},{code:127969,x:8,y:4},{code:127970,x:9,y:4},{code:127971,x:10,y:4},{code:127972,x:11,y:4},{code:127973,x:12,y:4},{code:127974,x:13,y:4},{code:127976,x:0,y:5},{code:127977,x:1,y:5},{code:127978,x:2,y:5},{code:127979,x:3,y:5},{code:127980,x:4,y:5},{code:127981,x:5,y:5},{code:127983,x:6,y:5},{code:127984,x:7,y:5},{code:128146,x:9,y:5},{code:128508,x:2,y:8},{code:128509,x:3,y:8},{code:9962,x:14,y:7},{code:128332,x:0,y:6},{code:128333,x:1,y:6},{code:9961,x:14,y:6},{code:128331,x:13,y:5},{code:9970,x:14,y:10},{code:9978,x:0,y:14},{code:127745,x:1,y:0},{code:127747,x:3,y:0},{code:127961,x:0,y:4},{code:127748,x:4,y:0},{code:127749,x:5,y:0},{code:127750,x:6,y:0},{code:127751,x:7,y:0},{code:127753,x:9,y:0},{code:9832,x:14,y:0},{code:127904,x:1,y:3},{code:127905,x:2,y:3},{code:127906,x:3,y:3},{code:128136,x:8,y:5},{code:127914,x:5,y:3},{code:128642,x:8,y:8},{code:128643,x:9,y:8},{code:128644,x:10,y:8},{code:128645,x:11,y:8},{code:128646,x:12,y:8},{code:128647,x:13,y:8},{code:128648,x:0,y:9},{code:128649,x:1,y:9},{code:128650,x:2,y:9},{code:128669,x:7,y:10},{code:128670,x:8,y:10},{code:128651,x:3,y:9},{code:128652,x:4,y:9},{code:128653,x:5,y:9},{code:128654,x:6,y:9},{code:128656,x:8,y:9},{code:128657,x:9,y:9},{code:128658,x:10,y:9},{code:128659,x:11,y:9},{code:128660,x:12,y:9},{code:128661,x:13,y:9},{code:128662,x:0,y:10},{code:128663,x:1,y:10},{code:128664,x:2,y:10},{code:128665,x:3,y:10},{code:128666,x:4,y:10},{code:128667,x:5,y:10},{code:128668,x:6,y:10},{code:127950,x:8,y:3},{code:127949,x:7,y:3},{code:128757,x:4,y:12},{code:128690,x:4,y:11},{code:128756,x:3,y:12},{code:128761,x:7,y:12},{code:128655,x:7,y:9},{code:128739,x:9,y:11},{code:128740,x:10,y:11},{code:128738,x:8,y:11},{code:9981,x:1,y:14},{code:128680,x:3,y:11},{code:128677,x:0,y:11},{code:128678,x:1,y:11},{code:128721,x:6,y:11},{code:128679,x:2,y:11},{code:9875,x:14,y:1},{code:9973,x:14,y:13},{code:128758,x:5,y:12},{code:127907,x:4,y:3},{code:128676,x:13,y:10},{code:128755,x:2,y:12},{code:9972,x:14,y:12},{code:128741,x:11,y:11},{code:128674,x:12,y:10},{code:9992,x:2,y:14},{code:128745,x:12,y:11},{code:128747,x:13,y:11},{code:128748,x:0,y:12},{code:128186,x:11,y:5},{code:128641,x:7,y:8},{code:128671,x:9,y:10},{code:128672,x:10,y:10},{code:128673,x:11,y:10},{code:128752,x:1,y:12},{code:128640,x:6,y:8},{code:128760,x:6,y:12},{code:128718,x:5,y:11},{code:129523,x:0,y:13},{code:8987,x:3,y:13},{code:9203,x:7,y:13},{code:8986,x:2,y:13},{code:9200,x:4,y:13},{code:9201,x:5,y:13},{code:9202,x:6,y:13},{code:128368,x:12,y:7},{code:128347,x:13,y:6},{code:128359,x:11,y:7},{code:128336,x:2,y:6},{code:128348,x:0,y:7},{code:128337,x:3,y:6},{code:128349,x:1,y:7},{code:128338,x:4,y:6},{code:128350,x:2,y:7},{code:128339,x:5,y:6},{code:128351,x:3,y:7},{code:128340,x:6,y:6},{code:128352,x:4,y:7},{code:128341,x:7,y:6},{code:128353,x:5,y:7},{code:128342,x:8,y:6},{code:128354,x:6,y:7},{code:128343,x:9,y:6},{code:128355,x:7,y:7},{code:128344,x:10,y:6},{code:128356,x:8,y:7},{code:128345,x:11,y:6},{code:128357,x:9,y:7},{code:128346,x:12,y:6},{code:128358,x:10,y:7},{code:127761,x:3,y:1},{code:127762,x:4,y:1},{code:127763,x:5,y:1},{code:127764,x:6,y:1},{code:127765,x:7,y:1},{code:127766,x:8,y:1},{code:127767,x:9,y:1},{code:127768,x:10,y:1},{code:127769,x:11,y:1},{code:127770,x:12,y:1},{code:127771,x:13,y:1},{code:127772,x:0,y:2},{code:127777,x:5,y:2},{code:9728,x:8,y:13},{code:127773,x:1,y:2},{code:127774,x:2,y:2},{code:11088,x:4,y:14},{code:127775,x:3,y:2},{code:127776,x:4,y:2},{code:127756,x:12,y:0},{code:9729,x:9,y:13},{code:9925,x:14,y:4},{code:9928,x:14,y:5},{code:127780,x:6,y:2},{code:127781,x:7,y:2},{code:127782,x:8,y:2},{code:127783,x:9,y:2},{code:127784,x:10,y:2},{code:127785,x:11,y:2},{code:127786,x:12,y:2},{code:127787,x:13,y:2},{code:127788,x:0,y:3},{code:127744,x:0,y:0},{code:127752,x:8,y:0},{code:127746,x:2,y:0},{code:9730,x:10,y:13},{code:9748,x:13,y:13},{code:9969,x:14,y:9},{code:9889,x:14,y:2},{code:10052,x:3,y:14},{code:9731,x:11,y:13},{code:9924,x:14,y:3},{code:9732,x:12,y:13},{code:128293,x:12,y:5},{code:128167,x:10,y:5},{code:127754,x:10,y:0}],events:[{code:127875,x:4,y:0},{code:127876,x:5,y:0},{code:127878,x:6,y:0},{code:127879,x:7,y:0},{code:129512,x:5,y:6},{code:10024,x:9,y:3},{code:127880,x:8,y:0},{code:127881,x:0,y:1},{code:127882,x:1,y:1},{code:127883,x:2,y:1},{code:127885,x:3,y:1},{code:127886,x:4,y:1},{code:127887,x:5,y:1},{code:127888,x:6,y:1},{code:127889,x:7,y:1},{code:129511,x:4,y:6},{code:127872,x:2,y:0},{code:127873,x:3,y:0},{code:127895,x:0,y:2},{code:127903,x:1,y:2},{code:127915,x:3,y:2},{code:127894,x:8,y:1},{code:127942,x:7,y:3},{code:127941,x:6,y:3},{code:129351,x:4,y:5},{code:129352,x:5,y:5},{code:129353,x:6,y:5},{code:9917,x:8,y:8},{code:9918,x:9,y:0},{code:129358,x:2,y:6},{code:127936,x:5,y:3},{code:127952,x:2,y:4},{code:127944,x:8,y:3},{code:127945,x:0,y:4},{code:127934,x:3,y:3},{code:129359,x:3,y:6},{code:127923,x:1,y:3},{code:127951,x:1,y:4},{code:127953,x:3,y:4},{code:127954,x:4,y:4},{code:129357,x:1,y:6},{code:127955,x:5,y:4},{code:127992,x:6,y:4},{code:129354,x:7,y:5},{code:129355,x:8,y:5},{code:129349,x:3,y:5},{code:9971,x:9,y:1},{code:9976,x:9,y:2},{code:127933,x:2,y:3},{code:127935,x:4,y:3},{code:128759,x:2,y:5},{code:129356,x:0,y:6},{code:127919,x:6,y:2},{code:127921,x:8,y:2},{code:128302,x:8,y:4},{code:129535,x:1,y:7},{code:127918,x:5,y:2},{code:128377,x:0,y:5},{code:127920,x:7,y:2},{code:127922,x:0,y:3},{code:129513,x:6,y:6},{code:129528,x:0,y:7},{code:9824,x:4,y:8},{code:9829,x:6,y:8},{code:9830,x:7,y:8},{code:9827,x:5,y:8},{code:9823,x:3,y:8},{code:127183,x:1,y:0},{code:126980,x:0,y:0},{code:127917,x:4,y:2},{code:128444,x:1,y:5},{code:127912,x:2,y:2},{code:129525,x:7,y:6},{code:129526,x:8,y:6}],objects:[{code:128263,x:1,y:7},{code:128264,x:2,y:7},{code:128265,x:3,y:7},{code:128266,x:4,y:7},{code:128226,x:3,y:5},{code:128227,x:4,y:5},{code:128239,x:3,y:6},{code:128276,x:1,y:8},{code:128277,x:2,y:8},{code:127932,x:2,y:1},{code:127925,x:8,y:0},{code:127926,x:9,y:0},{code:127897,x:0,y:0},{code:127898,x:1,y:0},{code:127899,x:2,y:0},{code:127908,x:4,y:0},{code:127911,x:6,y:0},{code:128251,x:11,y:6},{code:127927,x:10,y:0},{code:127928,x:11,y:0},{code:127929,x:12,y:0},{code:127930,x:0,y:1},{code:127931,x:1,y:1},{code:129345,x:6,y:11},{code:128241,x:5,y:6},{code:128242,x:6,y:6},{code:9742,x:13,y:3},{code:128222,x:12,y:4},{code:128223,x:0,y:5},{code:128224,x:1,y:5},{code:128267,x:5,y:7},{code:128268,x:6,y:7},{code:128187,x:4,y:2},{code:128421,x:5,y:9},{code:128424,x:6,y:9},{code:9e3,x:13,y:2},{code:128433,x:7,y:9},{code:128434,x:8,y:9},{code:128189,x:6,y:2},{code:128190,x:7,y:2},{code:128191,x:8,y:2},{code:128192,x:9,y:2},{code:129518,x:2,y:12},{code:127909,x:5,y:0},{code:127902,x:3,y:0},{code:128253,x:0,y:7},{code:127916,x:7,y:0},{code:128250,x:10,y:6},{code:128247,x:7,y:6},{code:128248,x:8,y:6},{code:128249,x:9,y:6},{code:128252,x:12,y:6},{code:128269,x:7,y:7},{code:128270,x:8,y:7},{code:128367,x:12,y:8},{code:128161,x:8,y:1},{code:128294,x:5,y:8},{code:127982,x:3,y:1},{code:128212,x:3,y:4},{code:128213,x:4,y:4},{code:128214,x:5,y:4},{code:128215,x:6,y:4},{code:128216,x:7,y:4},{code:128217,x:8,y:4},{code:128218,x:9,y:4},{code:128211,x:2,y:4},{code:128210,x:1,y:4},{code:128195,x:12,y:2},{code:128220,x:10,y:4},{code:128196,x:0,y:3},{code:128240,x:4,y:6},{code:128478,x:4,y:10},{code:128209,x:0,y:4},{code:128278,x:3,y:8},{code:127991,x:4,y:1},{code:128176,x:9,y:1},{code:128180,x:11,y:1},{code:128181,x:12,y:1},{code:128182,x:0,y:2},{code:128183,x:1,y:2},{code:128184,x:2,y:2},{code:128179,x:10,y:1},{code:129534,x:13,y:0},{code:128185,x:3,y:2},{code:9993,x:1,y:13},{code:128231,x:8,y:5},{code:128232,x:9,y:5},{code:128233,x:10,y:5},{code:128228,x:5,y:5},{code:128229,x:6,y:5},{code:128230,x:7,y:5},{code:128235,x:12,y:5},{code:128234,x:11,y:5},{code:128236,x:0,y:6},{code:128237,x:1,y:6},{code:128238,x:2,y:6},{code:128499,x:6,y:10},{code:9999,x:2,y:13},{code:10002,x:3,y:13},{code:128395,x:2,y:9},{code:128394,x:1,y:9},{code:128396,x:3,y:9},{code:128397,x:4,y:9},{code:128221,x:11,y:4},{code:128188,x:5,y:2},{code:128193,x:10,y:2},{code:128194,x:11,y:2},{code:128450,x:9,y:9},{code:128197,x:1,y:3},{code:128198,x:2,y:3},{code:128466,x:0,y:10},{code:128467,x:1,y:10},{code:128199,x:3,y:3},{code:128200,x:4,y:3},{code:128201,x:5,y:3},{code:128202,x:6,y:3},{code:128203,x:7,y:3},{code:128204,x:8,y:3},{code:128205,x:9,y:3},{code:128206,x:10,y:3},{code:128391,x:0,y:9},{code:128207,x:11,y:3},{code:128208,x:12,y:3},{code:9986,x:0,y:13},{code:128451,x:10,y:9},{code:128452,x:11,y:9},{code:128465,x:12,y:9},{code:128274,x:12,y:7},{code:128275,x:0,y:8},{code:128271,x:9,y:7},{code:128272,x:10,y:7},{code:128273,x:11,y:7},{code:128477,x:3,y:10},{code:128296,x:7,y:8},{code:9935,x:13,y:11},{code:9874,x:13,y:4},{code:128736,x:3,y:11},{code:128481,x:5,y:10},{code:9876,x:13,y:5},{code:128299,x:9,y:8},{code:127993,x:5,y:1},{code:128737,x:4,y:11},{code:128295,x:6,y:8},{code:128297,x:8,y:8},{code:9881,x:13,y:8},{code:128476,x:2,y:10},{code:9878,x:13,y:6},{code:128279,x:4,y:8},{code:9939,x:13,y:12},{code:129520,x:4,y:12},{code:129522,x:5,y:12},{code:9879,x:13,y:7},{code:129514,x:12,y:11},{code:129515,x:0,y:12},{code:129516,x:1,y:12},{code:128300,x:10,y:8},{code:128301,x:11,y:8},{code:128225,x:2,y:5},{code:128137,x:6,y:1},{code:128138,x:7,y:1},{code:128682,x:8,y:10},{code:128719,x:1,y:11},{code:128715,x:0,y:11},{code:128701,x:10,y:10},{code:128703,x:11,y:10},{code:128705,x:12,y:10},{code:129524,x:6,y:12},{code:129527,x:7,y:12},{code:129529,x:8,y:12},{code:129530,x:9,y:12},{code:129531,x:10,y:12},{code:129532,x:11,y:12},{code:129533,x:12,y:12},{code:129519,x:3,y:12},{code:128722,x:2,y:11},{code:128684,x:9,y:10},{code:9904,x:13,y:9},{code:9905,x:13,y:10},{code:128511,x:7,y:10}],signs:[{code:128686,x:4,y:8},{code:128688,x:6,y:8},{code:9855,x:3,y:13},{code:128697,x:11,y:8},{code:128698,x:12,y:8},{code:128699,x:13,y:8},{code:128700,x:14,y:8},{code:128702,x:0,y:9},{code:128706,x:1,y:9},{code:128707,x:2,y:9},{code:128708,x:3,y:9},{code:128709,x:4,y:9},{code:127975,x:13,y:4},{code:9888,x:7,y:13},{code:128696,x:10,y:8},{code:9940,x:11,y:13},{code:128683,x:2,y:8},{code:128691,x:8,y:8},{code:128685,x:3,y:8},{code:128687,x:5,y:8},{code:128689,x:7,y:8},{code:128695,x:9,y:8},{code:128245,x:7,y:5},{code:128286,x:7,y:6},{code:9762,x:10,y:11},{code:9763,x:11,y:11},{code:11014,x:15,y:5},{code:8599,x:14,y:9},{code:10145,x:14,y:14},{code:8600,x:0,y:10},{code:11015,x:15,y:6},{code:8601,x:1,y:10},{code:11013,x:15,y:4},{code:8598,x:13,y:9},{code:8597,x:12,y:9},{code:8596,x:11,y:9},{code:8617,x:2,y:10},{code:8618,x:3,y:10},{code:10548,x:15,y:2},{code:10549,x:15,y:3},{code:128259,x:12,y:5},{code:128260,x:13,y:5},{code:128281,x:2,y:6},{code:128282,x:3,y:6},{code:128283,x:4,y:6},{code:128284,x:5,y:6},{code:128285,x:6,y:6},{code:128720,x:5,y:9},{code:9883,x:5,y:13},{code:128329,x:14,y:7},{code:10017,x:1,y:14},{code:9784,x:1,y:12},{code:9775,x:0,y:12},{code:10013,x:0,y:14},{code:9766,x:12,y:11},{code:9770,x:13,y:11},{code:9774,x:14,y:11},{code:128334,x:0,y:8},{code:128303,x:14,y:6},{code:9800,x:4,y:12},{code:9801,x:5,y:12},{code:9802,x:6,y:12},{code:9803,x:7,y:12},{code:9804,x:8,y:12},{code:9805,x:9,y:12},{code:9806,x:10,y:12},{code:9807,x:11,y:12},{code:9808,x:12,y:12},{code:9809,x:13,y:12},{code:9810,x:14,y:12},{code:9811,x:0,y:13},{code:9934,x:10,y:13},{code:128256,x:9,y:5},{code:128257,x:10,y:5},{code:128258,x:11,y:5},{code:9654,x:3,y:11},{code:9193,x:5,y:10},{code:9197,x:9,y:10},{code:9199,x:11,y:10},{code:9664,x:4,y:11},{code:9194,x:6,y:10},{code:9198,x:10,y:10},{code:128316,x:12,y:7},{code:9195,x:7,y:10},{code:128317,x:13,y:7},{code:9196,x:8,y:10},{code:9208,x:12,y:10},{code:9209,x:13,y:10},{code:9210,x:14,y:10},{code:9167,x:4,y:10},{code:127910,x:11,y:4},{code:128261,x:14,y:5},{code:128262,x:0,y:6},{code:128246,x:8,y:5},{code:128243,x:5,y:5},{code:128244,x:6,y:5},{code:9792,x:2,y:12},{code:9794,x:3,y:12},{code:10006,x:14,y:13},{code:10133,x:11,y:14},{code:10134,x:12,y:14},{code:10135,x:13,y:14},{code:9854,x:2,y:13},{code:8252,x:6,y:9},{code:8265,x:7,y:9},{code:10067,x:7,y:14},{code:10068,x:8,y:14},{code:10069,x:9,y:14},{code:10071,x:10,y:14},{code:12336,x:15,y:10},{code:128177,x:2,y:5},{code:128178,x:3,y:5},{code:9877,x:4,y:13},{code:9851,x:1,y:13},{code:9884,x:6,y:13},{code:128305,x:1,y:7},{code:128219,x:4,y:5},{code:128304,x:0,y:7},{code:11093,x:15,y:9},{code:9989,x:12,y:13},{code:9745,x:9,y:11},{code:10004,x:13,y:13},{code:10060,x:5,y:14},{code:10062,x:6,y:14},{code:10160,x:15,y:0},{code:10175,x:15,y:1},{code:12349,x:15,y:11},{code:10035,x:2,y:14},{code:10036,x:3,y:14},{code:10055,x:4,y:14},{code:169,x:12,y:0},{code:174,x:13,y:0},{code:8482,x:9,y:9},{code:128288,x:9,y:6},{code:128289,x:10,y:6},{code:128290,x:11,y:6},{code:128291,x:12,y:6},{code:128292,x:13,y:6},{code:127344,x:14,y:0},{code:127374,x:3,y:1},{code:127345,x:0,y:1},{code:127377,x:4,y:1},{code:127378,x:5,y:1},{code:127379,x:6,y:1},{code:8505,x:10,y:9},{code:127380,x:7,y:1},{code:9410,x:0,y:11},{code:127381,x:8,y:1},{code:127382,x:9,y:1},{code:127358,x:1,y:1},{code:127383,x:10,y:1},{code:127359,x:2,y:1},{code:127384,x:11,y:1},{code:127385,x:12,y:1},{code:127386,x:13,y:1},{code:127489,x:10,y:3},{code:127490,x:11,y:3},{code:127543,x:4,y:4},{code:127542,x:3,y:4},{code:127535,x:13,y:3},{code:127568,x:8,y:4},{code:127545,x:6,y:4},{code:127514,x:12,y:3},{code:127538,x:14,y:3},{code:127569,x:9,y:4},{code:127544,x:5,y:4},{code:127540,x:1,y:4},{code:127539,x:0,y:4},{code:12951,x:15,y:12},{code:12953,x:15,y:13},{code:127546,x:7,y:4},{code:127541,x:2,y:4},{code:128308,x:4,y:7},{code:128309,x:5,y:7},{code:9899,x:9,y:13},{code:9898,x:8,y:13},{code:11036,x:15,y:8},{code:9724,x:6,y:11},{code:9723,x:5,y:11},{code:9726,x:8,y:11},{code:9725,x:7,y:11},{code:9642,x:1,y:11},{code:9643,x:2,y:11},{code:128310,x:6,y:7},{code:128311,x:7,y:7},{code:128312,x:8,y:7},{code:128313,x:9,y:7},{code:128314,x:10,y:7},{code:128315,x:11,y:7},{code:128160,x:1,y:5},{code:128280,x:1,y:6},{code:128307,x:3,y:7},{code:128306,x:2,y:7},{code:127937,x:12,y:4},{code:128681,x:1,y:8},{code:127884,x:10,y:4},{code:127988,x:0,y:5},{code:127987,x:14,y:4},{code:127462,x:14,y:1},{code:127463,x:0,y:2},{code:127464,x:1,y:2},{code:127465,x:2,y:2},{code:127466,x:3,y:2},{code:127467,x:4,y:2},{code:127468,x:5,y:2},{code:127469,x:6,y:2},{code:127470,x:7,y:2},{code:127471,x:8,y:2},{code:127472,x:9,y:2},{code:127473,x:10,y:2},{code:127474,x:11,y:2},{code:127475,x:12,y:2},{code:127476,x:13,y:2},{code:127477,x:14,y:2},{code:127478,x:0,y:3},{code:127479,x:1,y:3},{code:127480,x:2,y:3},{code:127481,x:3,y:3},{code:127482,x:4,y:3},{code:127483,x:5,y:3},{code:127484,x:6,y:3},{code:127485,x:7,y:3},{code:127486,x:8,y:3},{code:127487,x:9,y:3}]},s=function(e){if(65536>e)return n(e);var t=e-65536;return n(55296+(t>>10))+n(56320+(1023&t))},o={},d={};for(var r in i)t.each(i[r],function(e){var t=s(e.code);o[t]=e,d[r]||(d[r]=[]),d[r].push(t)});var c=/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/g;return a.emojify=function(e){e||(e={});var t=e.sprite,a=t?e.tag_name||"span":"img",n=e.emoji_size||20,i=e.href?` href="#${e.href}" `:"",s=e.title?` title="${e.title}" `:"";return this.replace(c,function(e){let d=o[e],r=d&&(+d.code).toString(16);if(d){4>r.length&&(r="0".repeat(4-r.length)+r);let o="img"===a?t?" src=\"images/emoji/blank.gif\"":"  src=\"images/emoji/svg32/emoji_u"+r+".svg\"":"";return"<"+a+o+i+s+" class=\"emoji emoji-w"+n+(t?" sprite-"+t+"\" style=\"background-position: -"+n*d.x+"px -"+n*d.y+"px;\" ":"\" ")+"alt=\""+e+"\" data-emoji=\""+e+"\"/>"}return e})},a.removeEmoji=function(){return this.replace(c,function(e){var t=o[e];return t?"":e})},a.replaceEmoji=function(){return this.replace(c,function(e){var t=o[e];return t?" ":e})},e.fn.emojify=function(t,a){return this.find(t).each(function(){var t=e(this).html();e(this).html(t.emojify(a))}),this},{all:d,get:s,getByIndex:function(e){var t;for(var a in i)if(i[a][e]){t=i[a][e];break}return s(t.code)}}}),define("xabber-image-utils",["xabber-dependencies"],function(e){var t=Math.floor,a=e._,n=e.$,i=e.SHA1.b64_sha1,s={},o=["#1abc9c","#16a085","#f1c40f","#f39c12","#2ecc71","#27ae60","#e67e22","#d35400","#3498db","#2980b9","#e74c3c","#c0392b","#9b59b6","#8e44ad","#bdc3c7","#34495e","#2c3e50","#95a5a6","#7f8c8d","#ec87bf","#d870ad","#f69785","#9ba37e","#b49255","#a94136"],d=function(e,t,a){t=t||"",a=a||512;for(var n=atob(e),s=[],o=0;o<n.length;o+=a){for(var d=n.slice(o,o+a),r=Array(d.length),c=0;c<d.length;c++)r[c]=d.charCodeAt(c);var l=new Uint8Array(r);s.push(l)}var p=new Blob(s,{type:t});return p},r=function(e){return this.url=window.URL.createObjectURL(d(e)),s[e]=this,this},c=function(e){if(e instanceof r)return e;if(e&&(a.isString(e)&&0==e.indexOf("http")||a.isObject(e)&&e.url&&0==e.url.indexOf("http"))){if(a.isString(e))return{url:e};if(a.isObject(e))return e}return s[e]||new r(e)},l=function(e){var a=e?e.trim():"",n=t(i(a).charCodeAt(0)%o.length);return o[n]},p=function(e,t){return e.width>e.height?e.width>t&&(e.height*=t/e.width,e.width=t):e.height>t&&(e.width*=t/e.height,e.height=t),e},u=function(e,t){var a=n(e),i={backgroundImage:"url(\""+t.url+"\")",backgroundSize:"cover",backgroundColor:"#FFF"};a.css(i)};return n.fn.setAvatar=function(e,t){var a=c(e);u(this,a,t)},{getCachedImage:c,getBlobImage:d,getDefaultAvatar:function(e,t){var a=document.createElement("canvas"),n=a.getContext("2d"),i=e?e.trim():"",s=i.split(" ",2),o,d,r,c;o=s[0],d=1<s.length?s[1]:"",r=o[0]||"",c=d?d[0]:1<o.length?o[1]:"",a.width=256,a.height=256,n.rect(0,0,256,256),n.fillStyle=t||l(e),n.fill(),n.font="bold 100px sans-serif",n.fillStyle="#FFF",n.textAlign="center",n.fillText(r.toUpperCase()+c.toUpperCase(),128,160);var p=a.toDataURL().replace(/^data:image\/(png|gif|jpg|webp|jpeg);base64,/,"");return p},getAvatarFromFile:function(e){var t=new Image,a=window.URL.createObjectURL(e),i=new n.Deferred;return t.onload=function(){t.onload=null;var n=document.createElement("canvas"),s=n.getContext("2d"),o=t.naturalWidth,d=t.naturalHeight,r=p({width:o,height:d},200),c,l;n.width=r.width,n.height=r.height,s.drawImage(t,0,0,n.width,n.height),c=n.toDataURL().replace(/^data:image\/(png|gif|jpg|webp|jpeg);base64,/,""),window.URL.revokeObjectURL(a),n.toBlob(e=>{var t=new FileReader;t.onload=function(){c=t.result.replace(/^data:image\/(png|gif|jpg|webp|jpeg);base64,/,"");let e=atob(c),a=new Uint8Array(e.length);for(let t=0;t<e.length;t++)a[t]=e.charCodeAt(t);l=sha1(a),i.resolve(c,l,e.length)}.bind(this),t.readAsDataURL(e)},e.type,.8)},t.onerror=function(){t.onerror=null,window.URL.revokeObjectURL(a),i.resolve(!1,!1,!1)},t.src=a,i.promise()},getDefaultColor:l,getCachedBackground:function(e){return 0==e.indexOf("http")?e:c(e.replace(/^data:image\/(png|gif|jpg|webp|jpeg);base64,/,"")).url},compressImage:function(e){var t=new Image,a=window.URL.createObjectURL(e),i=new n.Deferred;return t.onload=function(){t.onload=null;var n=document.createElement("canvas"),s=n.getContext("2d"),o=t.naturalWidth,d=t.naturalHeight,r=e.type,c=e.name,l=p({width:o,height:d},1280);"image/svg+xml"===e.type&&(e.width=o,e.height=d,i.resolve(e)),n.width=l.width,n.height=l.height,s.drawImage(t,0,0,l.width,l.height),n.toBlob(e=>{const t=new File([e],c,{type:r,lastModified:Date.now()});i.resolve(t)},r,.8),window.URL.revokeObjectURL(a)},t.onerror=function(){t.onerror=null,window.URL.revokeObjectURL(a),i.resolve(!1)},t.src=a,i.promise()}}}),define("xabber-modal-utils",["xabber-dependencies","xabber-templates"],function(e,t){var a=e._,n=e.$,i=n("<div>").attr("id","modals").appendTo("body"),s=[],o=function(e,t){this.$modal=e instanceof Function?n(e()):n(e),this.options=t||{},this.closed=new n.Deferred};let d=function(t,a){return e.xabber_i18next.exists(t)?e.xabber_i18next.t(t,{postProcess:"sprintf",sprintf:a}).replace(/\\'/g,"'").replace(/%+\d+[$]/g,"%").replace(/\\n/g,"&#10;"):e.xabber_i18next.default_lang?e.xabber_i18next.default_lang(t,{postProcess:"sprintf",sprintf:a}).replace(/\\'/g,"'").replace(/%+\d+[$]/g,"%").replace(/\\n/g,"&#10;"):""};return a.extend(o.prototype,{open:function(){return this.options.use_queue?(s.push(this),1===s.length&&this.throw()):this.throw(),setTimeout(()=>{document.addEventListener("keyup",this.clickHandler.bind(this))},500),this.closed.promise()},throw:function(){this.$modal.appendTo(i).prop("modal",this);var e=a.omit(this.options,["use_queue"]);a.extend(e,{is_default_complete:!0,complete_data:null}),this.options.use_queue&&this.$modal.one("modal_close",function(e,t){this.$modal.detach(),this.closed.resolve(t.value),s.shift(),s.length&&s[0].throw()}.bind(this)),this.$modal._openModal(e)},close:function(e){var t=a.omit(e,["use_queue","is_default_complete","complete_data"]);a.extend(t,{complete:function(){if(this.options.use_queue){var t=a.isUndefined(e.complete_data)?null:e.complete_data;this.complete(t)}e.is_default_complete?"function"==typeof this.options.complete&&this.options.complete():(this.options.use_queue&&this.complete(),"function"==typeof e.complete&&e.complete())}.bind(this)}),this.$modal.prop("modal",null),this.$modal._closeModal(t)},complete:function(e){document.removeEventListener("keyup",this.clickHandler),this.$modal.trigger("modal_close",{value:e})},clickHandler:function(e){13===e.keyCode&&(this.$modal.find(".modal-footer button.ok-button").click(),e.preventDefault())}}),n.fn._openModal=n.fn.openModal,n.fn.openModal=function(e){var t=new o(this,e);return t.open()},n.fn._closeModal=n.fn.closeModal,n.fn.closeModal=function(e){var t=this.prop("modal");t?t.close(e):this._closeModal(e)},{Modal:o,clear_queue:function(){s=[]},dialogs:{common:function(e,i,s,r,c){var l=new o(function(){s||(s={}),r||(r=[]);var a=s.ok_button,n=s.cancel_button,o=(s.optional_buttons||[]).reverse();return a&&(a={text:a.text||d("ok")}),n&&(n={text:n.text||d("cancel")}),t.base.dialog({header:e,text:i,ok_button:a,cancel_button:n,optional_buttons:o,dialog_options:r,flag:c||""})},{use_queue:!0});return r.blob_image_from_clipboard&&(l.$modal.find(".dialog-options-wrap").html(""),l.$modal.find(".img-from-clipboard")[0].src=r.blob_image_from_clipboard,l.$modal.find(".container-for-img").removeClass("hidden")),r.canvas&&(l.$modal.find(".dialog-options-wrap").html(""),l.$modal.find(".container-for-img").html("").removeClass("hidden")[0].appendChild(r.canvas),r.bottom_text&&n("<div class=\"dialog-bottom-text\"/>").html(r.bottom_text).appendTo(l.$modal.find(".container-for-img"))),(r.input_placeholder_value||r.input_value)&&l.$modal.find(".dialog-options-wrap").html(n("<input type=\"text\" placeholder=\""+r.input_placeholder_value+"\" id=\"user_value\"/>").val(r.input_value)),l.$modal.find(".modal-footer button").click(function(e){var t=n(e.target).data("option"),i=l.$modal.find(".dialog-option"),s=l.$modal.find("#user_value");if(t&&i.length){var o={};a.each(i,function(e){var t=n(e);o[t.data("name")]=t.find("input").prop("checked")}),l.close({complete_data:o})}else if(!s.length)l.close({complete_data:t});else if(n(e.target).hasClass("btn-cancel"))l.close({complete_data:!1});else if(n(e.target).hasClass("optional-button"))l.close({complete_data:t});else{var d=s.val();l.close({complete_data:d})}}),l.open()},warning:function(e,t){return this.common(d("dialog_warning__header"),e,{ok_button:!0},t)},error:function(e,t){return this.common(d("dialog_error__header"),e,{ok_button:!0},t)},ask:function(e,t,a,n){var i;return n&&(i=n.ok_button_text),this.common(e,t,{ok_button:{text:i},cancel_button:!0},a)},ask_extended:function(e,t,a,n){var i,s;return n&&(i=n.ok_button_text,s=!!n.optional_button&&[{value:n.optional_button,name:n.optional_button}]),this.common(e,t,{ok_button:{text:i},cancel_button:!0,optional_buttons:s},a,"extended")},ask_enter_value:function(e,t,a,n){var i,s;return n&&(i=n.ok_button_text,s=!!n.resend_button_text&&[{value:n.resend_to,name:n.resend_button_text}]),this.common(e,t,{ok_button:{text:i},optional_buttons:s,cancel_button:!0},a)},notify:function(e,t){return this.common(e,t,{ok_button:!0})}}}}),define("xabber-textarea-utils",["xabber-dependencies"],function(e){var t=e._,a=e.$;return a.fn.placeCaretAtEnd=function(){if(!this.length)return this;var e=this[0];if(e.focus(),!t.isUndefined(window.getSelection)&&!t.isUndefined(document.createRange)){var a=document.createRange();a.selectNodeContents(e),a.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(a)}else if(!t.isUndefined(document.body.createTextRange)){var i=document.body.createTextRange();i.moveToElementText(e),i.collapse(!1),i.select()}return this},a.fn.updateRichTextarea=function(){var e=this.getTextFromRichTextarea();return e||this.html(""),this},a.fn.flushRichTextarea=function(){return this.html(""),this},a.fn.pasteHtmlAtCaret=function(e){var t,a;if(this[0].focus(),!window.getSelection)document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(e);else if(t=window.getSelection(),t.getRangeAt&&t.rangeCount){a=t.getRangeAt(0),a.deleteContents();var n=document.createElement("div");n.innerHTML=e;for(var i=document.createDocumentFragment(),s,o;s=n.firstChild;)o=i.appendChild(s);a.insertNode(i),o&&(a=a.cloneRange(),a.setStartAfter(o),a.collapse(!0),t.removeAllRanges(),t.addRange(a))}return this},a.fn.getTextFromRichTextarea=function(){var e=a("<div>").html(this.html());return e.find(".emoji").each(function(){a(this).replaceWith(a(this).data("emoji"))}),e.find("p").each(function(){a(this).replaceWith(a(this).html()+"\n")}),e.find("span").each(function(){a(this).replaceWith(a(this).html())}),e.find("div").each(function(){var e=a(this);e.find("br").remove();var t=e.html();e.hasClass("emoji")?e.replaceWith(t):e.replaceWith("\n"+t)}),e.text()},null}),define("xabber-utils",["xabber-dependencies","xabber-emoji-utils","xabber-image-utils","xabber-modal-utils","xabber-constants","xabber-textarea-utils"],function(e,t,a,n,i){var s=Math.trunc,o=e.$,d=e._,r=e.moment;o.fn.switchClass=function(e,t){return 1===arguments.length&&(t=!this.hasClass(e)),t?this.addClass(e):this.removeClass(e),this},o.fn.showIf=function(e){return this.switchClass("hidden",!e)},o.fn.hideIf=function(e){return this.switchClass("hidden",e)};var c=function(t){var a=0===t.indexOf("http://")||0===t.indexOf("https://")?"":"http://",n="";try{n=encodeURI(decodeURI(t)).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")}catch(a){n=t}try{t=decodeURI(t)}catch(t){}return"<a target='_blank' class='msg-hyperlink' href='"+a+n+"'>"+t+"</a>"};o.fn.hyperlinkify=function(e){e||(e={});var t=e.selector?this.find(e.selector):this;return t.each(function(t,a){var n=o(a),s="";n[0].childNodes.forEach(function(a){let n=o(a),i=a.outerHTML;if("A"===a.tagName)return void(s+=i);else{"#text"===a.nodeName&&(i=d.escape(n.text()));let o=i&&i.match(/(((ftp|http|https):\/\/)|(www\.))(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/g);if(!o)return void(s+=i);if(1===o.length&&o[0]===i)s+=e.decode_uri?decodeURI(i):c(i);else{for(t=0;t<o.length;t++)i=i.replace(o[t],e.decode_uri?decodeURI(o[t]):c(o[t]));s+=i}}}.bind(this)),n.html(s)}),this};var l={uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),a="x"==e?t:8|3&t;return a.toString(16)})},utoa:function(e){return window.btoa(d.unescape(encodeURIComponent(e)))},atou:function(e){return decodeURIComponent(d.escape(window.atob(e)))},now:function(){return Math.floor(r.now()/1e3)},pretty_time:function(e){var t=e?r(e):r();return t.format("HH:mm:ss")},pretty_date:function(e,t){var a=e?r(e):r();return a.format(t||"dddd, MMMM D, YYYY")},pretty_datetime:function(e,t){var a=e?r(e):r();return a.format(t||"MMMM D, YYYY HH:mm:ss")},pretty_short_datetime_recent_chat:function(e){return e=+(e?r(e):r()),r(e).startOf("day").isSame(r().startOf("day"))||+(r().subtract(12,"hours")<e)?r(e).format("HH:mm:ss"):+r().subtract(12,"hours")>e&&+r().subtract(7,"days")<=e?r(e).format("ddd"):+r().subtract(7,"days")>e&&+r().subtract(1,"year")<=e?r(e).format("MMM D"):e&&+r().subtract(1,"year")>e?r(e).format("D MMM YYYY"):void 0},pretty_short_datetime:function(e){var t=e?r(e):r(),a=r(t).startOf("day"),n=r(t).startOf("year");return a.isSame(r().startOf("day"))?t.format("HH:mm:ss"):n.isSame(r().startOf("year"))?t.format("MMM D"):t.format("DD/MM/gg")},pretty_short_month_date:function(e){var t=e?r(e):r(),a=r(t).startOf("day");return a.isSame(r().startOf("day"))?t.format("HH:mm:ss"):t.format("MMM D, YYYY HH:mm:ss")},isImageType:function(e){return!!(-1<e.indexOf("image"))},file_type_icon:function(e){let t=l.pretty_file_type(e);return"image"===t?"mdi-image":"audio"===t?"mdi-music-note":"video"===t?"mdi-filmstrip":"document"===t?"mdi-file-document-box":"presentation"===t?"mdi-presentation":"archive"===t?"mdi-zip-box":"file"===t?"mdi-file":"pdf"===t?"mdi-file-pdf":"mdi-file"},pretty_file_type:function(e){return i.MIME_TYPES.image.includes(e)?"image":i.MIME_TYPES.audio.includes(e)?"audio":i.MIME_TYPES.video.includes(e)?"video":i.MIME_TYPES.document.includes(e)?"document":i.MIME_TYPES.pdf.includes(e)?"pdf":i.MIME_TYPES.presentation.includes(e)?"presentation":i.MIME_TYPES.archive.includes(e)?"archive":i.MIME_TYPES.table.includes(e)?"electronic table":"file"},pretty_file_type_with_article:function(e){let t=l.pretty_file_type(e);return"pdf"===t&&(t="document"),["a","e","i","o","u"].includes(t[0])?"an "+t:"a "+t},pretty_size:function(e){return e?d.isNaN(+e)?e:1024>e?e+" B":1048576>e?(e/1024).toFixed(2)+" KiB":1073741824>e?(e/1048576).toFixed(2)+" MiB":(e/1073741824).toFixed(2)+" GiB":""},pretty_duration:function(e){return d.isNaN(+e)?e:d.isUndefined(e)||""===e?"":10>e?"0:0"+e:60>e?"0:"+e:60<=e?s(e/60)+":"+(10>e%60?"0"+e%60:e%60):void 0},pretty_name:function(e){return e?e[0].toUpperCase()+e.replace(/-/," ").substr(1).toLowerCase():""},slice_string:function(e,t,a){return a=d.isNumber(a)?a:[...e].length,e.length===[...e].length?e.slice(t,a):Array.from(e).slice(t,a).join("")},slice_pretty_body:function(t,a){if(!a||!a.length)return t;t=t||"",a=a.filter(e=>"groupchat"===e.type||"forward"===e.type);let n=Array.from(e.Strophe.xmlescape(t));return a&&a.forEach(function(e){for(let t=e.start;t<e.end;t++)n[t]=""}.bind(this)),e.Strophe.xmlunescape(n.join("").trim())},markupBodyMessage:function(t,a){let n=d.clone(t.attributes),s=n.mentions||[],o=n.markups||[],r=n.mutable_content||[],c=n.blockquotes||[],l=Array.from(e.Strophe.xmlescape(n.original_message||n.message||""));return a||(a="span"),r.forEach(function(e){for(let t=e.start;t<e.end;t++)l[t]=""}.bind(this)),s.forEach(function(e){let t=e.start,n=e.end>l.length-1?l.length-1:e.end-1,i=e.target;if(!(t>l.length-1)){if(e.is_gc){let t=i.match(/\?id=\w*/),a=i.match(/\?jid=.*/);t?i=t[0].slice(4):a?i=a[0].slice(5):(i="",e.me=!0)}else i=i.slice(5);l[t]="<"+a+" data-target=\""+i+"\" class=\"mention"+(e.me?" ground-color-100":"")+"\">"+l[t],l[n]+="</"+a+">"}}.bind(this)),o.forEach(function(e){let t=e.start,a=e.end>l.length-1?l.length-1:e.end-1;if(!(t>l.length-1)&&e.markup.length){let n="",i="";e.markup.forEach(function(e){"object"==typeof e?(n="<a target=\"_blank\" class=\"msg-hyperlink\" href=\""+e.uri+"\">"+n,i+="</a>"):(n="<"+e[0].toLowerCase()+">"+n,i+="</"+e[0].toLowerCase()+">")}.bind(this)),l[t]=n+l[t],l[a]+=i}}.bind(this)),c.forEach(function(e){let t=e.end>l.length-1?l.length-1:e.end-1;for(let a=e.start;a<e.start+i.QUOTE_MARKER.length;a++)l[a]=a===t?"<br>":"";for(let a=e.start;a<t;a++)if("\n"===l[a]){for(let e=a+1;e<=a+i.QUOTE_MARKER.length;e++)l[e]="";a+=i.QUOTE_MARKER.length-1}l[e.start]="<div class=\"quote\">",l[t]+="</div>"}.bind(this)),l.join("").trim()},render_data_form:function(e){let t=o("<div class=\"data-form\"/>");return e.fields.forEach(function(e){if("hidden"!==e.type){if("fixed"===e.type){let a=o("<div class=\"data-form-field fixed-field\"/>");e.label&&a.append(o("<div class=\"label\"/>").text(e.label)),e.values.forEach(function(e){let t=o("<div class=\"value\"/>").text(e);a.append(t)}.bind(this)),t.append(a)}if("boolean"===e.type){let a=o(`<button id=${e.var} class="data-form-field ground-color-100 btn-dark btn-flat btn-main boolean-field"/>`).text(e.label);t.append(a)}}}.bind(this)),t},copyTextToClipboard:function(e,t,a){window.navigator.clipboard&&window.navigator.clipboard.writeText(e).then(function(){if(t){this.callback_popup_message(t,1500)}}.bind(this),function(){if(a){this.callback_popup_message(a,1500)}}.bind(this))},callback_popup_message:function(e,t){let a=o(document.body),n=o("<div class=\"callback-popup-message\"/>").text(e);t=t||3e3,a.find(".callback-popup-message").remove(),a.append(n),setTimeout(function(){n.remove()},t)},emoji_size:function(e){let t;switch(e){case 1:t=56;break;case 2:t=44;break;case 3:t=32;break;case 4:t=24;break;case 5:t=22;break;default:t=20;}return t},openWindow:function(e,t){let a=window.open(e,"_blank");a?a.focus():t&&t()},clearSelection:function(){var e=window.getSelection();e.empty?e.empty():e.removeAllRanges&&e.removeAllRanges()},getCookie:function(e){let t=window.document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},isMobile:{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}},fromBase64toArrayBuffer:function(e){return Uint8Array.from(atob(e),e=>e.charCodeAt(0)).buffer},ArrayBuffertoBase64:function(e){return btoa(String.fromCharCode(...new Uint8Array(e)))},AES:{ALGO_NAME:"AES-GCM",decoder:new window.TextDecoder("utf-8"),encoder:new window.TextEncoder("utf-8"),decrypt:async function(e,t,a){let n=await window.crypto.subtle.importKey("raw",e,l.AES.ALGO_NAME,!1,["decrypt"]),s=await window.crypto.subtle.decrypt({name:l.AES.ALGO_NAME,iv:t,tagLength:i.AES_TAG_LENGTH},n,a);return l.AES.decoder.decode(s)},encrypt:async function(e){let t=window.crypto.getRandomValues(new Uint8Array(12)),a=await l.AES.generateAESKey(),n=await l.AES.generateAESencryptedMessage(t,a,e),i=n.ciphertext,s=n.authenticationTag,o=await window.crypto.subtle.exportKey("raw",a);return{keydata:l.AES.arrayBufferConcat(o,s),iv:t,payload:i}},generateAESencryptedMessage:async function(e,t,a){let n={name:l.AES.ALGO_NAME,iv:e,tagLength:i.AES_TAG_LENGTH},s=l.AES.encoder.encode(a),o=await window.crypto.subtle.encrypt(n,t,s),d=o.byteLength-16,r=o.slice(0,d),c=o.slice(d);return{ciphertext:r,authenticationTag:c}},arrayBufferConcat:function(){let e=0,t=null;for(let a in arguments)t=arguments[a],e+=t.byteLength;let a=new Uint8Array(e),n=0;for(let e in arguments)t=arguments[e],a.set(new Uint8Array(t),n),n+=t.byteLength;return a.buffer},generateAESKey:async function(){let e={name:l.AES.ALGO_NAME,length:i.AES_KEY_LENGTH},t=await window.crypto.subtle.generateKey(e,i.AES_EXTRACTABLE,["encrypt","decrypt"]);return t}},getBrowser:function(){let e=navigator.userAgent,t=-1<e.indexOf("Chrome"),a=-1<e.indexOf("MSIE")||-1<e.indexOf("Windows NT:"),n=-1<e.indexOf("Firefox"),i=-1<e.indexOf("Safari");t&&i&&(i=!1);let s=-1<e.indexOf("OP");return t&&s&&(t=!1),i?"Safari":t?"Chrome":a?"IE":s?"Opera":n?"Firefox":"Unknown browser"},emoji:t,images:a,modals:n,dialogs:n.dialogs};return l});let client_translation_progress={en:100,ar:39,az:0,be:19,bg:36,bs:0,ca:36,cs:39,cy:0,da:0,de:61,el:41,"es-ES":39,"es-latin":10,et:0,fa:6,fi:13,fil:20,fr:28,"ga-IE":0,he:30,hi:0,hr:0,hu:21,"hy-AM":12,id:63,is:0,it:39,ja:28,ka:0,kmr:0,ko:1,ku:4,ky:7,"la-LA":0,lb:0,lt:5,me:0,mk:0,mn:0,mr:0,ms:9,nb:30,"ne-NP":0,nl:28,no:0,oc:18,"pa-IN":0,pl:46,"pt-BR":93,"pt-PT":21,"qya-AA":0,ro:23,ru:78,sco:0,"si-LK":0,sk:28,sl:39,sq:2,sr:19,"sr-Cyrl-ME":0,"sv-SE":53,sw:1,ta:2,te:0,tg:0,tk:0,"tlh-AA":0,tr:52,uk:39,uz:0,vi:18,yo:0,"zh-CN":39,"zh-TW":15,zu:0};"function"==typeof define&&define("xabber-translations-info",[],()=>client_translation_progress),define("xabber-version",[],function(){return JSON.parse("{\"version_number\":\"2.3.2\",\"version_description\":\"Implemented translations. Implemented Appearance settings. Implemented Saved messages. Added different configurations. Improved client rendering.\"}")}),define("xabber-environment",["xabber-dependencies","xabber-constants","xabber-templates","xabber-utils","xabber-translations-info","xabber-version"],function(e,t,a,n,i,s){return _.extend({constants:t,templates:a,client_translation_progress:i,utils:n,uuid:n.uuid},s,e)}),function(e,t){define("xabber-core",["xabber-environment"],function(e){return t(e)})}(this,function(e){var t=Math.trunc,a=String.prototype;let n=e.constants,i=e._,s=e.$,o=e.xabber_i18next,d=e.xabber_i18next_sprintf,r=e.uuid,c=e.utils,l=Backbone.Model.extend({defaults:{version_number:e.version_number,actual_version_number:e.version_number,audio:!1,video:!1,client_id:r().substring(0,8),client_name:"Xabber for Web "+e.version_number},initialize:function(){this.env=e,this.fetchURLParams(),this.cleanUpStorage(),this.initDefaultLanguage(),this.detectMediaDevices(),window.navigator.mediaDevices&&(window.navigator.mediaDevices.ondevicechange=this.detectMediaDevices.bind(this)),this._settings=new this.Settings({id:"settings"},{storage_name:this.getStorageName(),fetch:"before"}),this.settings=this._settings.attributes;let t=window.location.host+window.location.pathname.replace(/\//g,"-");"-"==t[t.length-1]&&t.slice(0,t.length-1),this._cache=new Backbone.ModelWithStorage({id:`cache-${t}`},{storage_name:this.getStorageName(),fetch:"before"}),this.cache=this._cache.attributes,this.cacheFavicons(),this.extendFunction(),this.check_config=new s.Deferred,this.on("change:actual_version_number",this.throwNewVersion,this),this.on("quit",this.onQuit,this),this._version_interval=setInterval(this.readActualVersion.bind(this),6e5)},initDefaultLanguage:function(){let e=window.navigator.language,t=Object.keys(client_translation_progress).find(t=>!e.indexOf(t))||n.languages_another_locales[e]&&Object.keys(client_translation_progress).find(t=>!n.languages_another_locales[e].indexOf(t));100!=t&&(e="en"),this.set("default_language",e)},loadTranslations:async function(e){return new Promise(t=>{if(e||(e=this.settings.language),"default"==e&&this.default_translation){e=this.get("default_language");let a=this.default_translation;return void t({lang:e,translation:a})}require([`./translations/${e.replace(/-/g,"-r")}.js`],a=>{t({lang:e,translation:a})},()=>{t()})})},setLocale:function(t,a){let n=this.get("default_language"),i={[n]:{translation:this.default_translation}};t&&(i[t]={translation:a}),o.use(d),o.init({lng:n,debug:!1,pluralSeparator:"-",resources:i}),t&&(o.changeLanguage(t),e.moment.locale(t)),o.default_lang=o.getFixedT(n)},getOneLiners:function(){return o.exists("motivating_oneliner")?o.t("motivating_oneliner").replace(/\\'/g,"'").split("\n"):o.default_lang?o.default_lang("motivating_oneliner").replace(/\\'/g,"'").split("\n"):[]},getString:function(e,t){return o.exists(e)?o.t(e,{postProcess:"sprintf",sprintf:t}).replace(/\\'/g,"'").replace(/%+\d+[$]/g,"%").replace(/\\n/g,"&#10;"):o.default_lang?o.default_lang(e,{postProcess:"sprintf",sprintf:t}).replace(/\\'/g,"'").replace(/%+\d+[$]/g,"%").replace(/\\n/g,"&#10;"):""},getQuantityString:function(e,t,a){let n=o.language,i=o.services.pluralResolver.getRule(n);if(!i)return;let s=parseInt(t,10);o.services.pluralResolver.options.compatibilityJSON="v0";let d=o.services.pluralResolver.getSuffix(n,s);return d=d.replace(/-/g,"_"),"en"!=o.language&&o.exists(`${e}_plural${d}`)||(d=o.services.pluralResolver.getSuffix("en",s),d=d&&(!d||d.length)?"_1":"_0"),this.getString(`${e}_plural${d}`,a||[t])},error:function(e){n.LOG_LEVEL>=n.LOG_LEVEL_ERROR&&console.error(e)},warn:function(e){n.LOG_LEVEL>=n.LOG_LEVEL_WARN&&console.warn(e)},info:function(e){n.LOG_LEVEL>=n.LOG_LEVEL_INFO&&console.log(e)},debug:function(e){n.LOG_LEVEL>=n.LOG_LEVEL_DEBUG&&console.log(e)},pretty_last_seen:function(a){return 0<=a&&120>=a?this.getString("last_seen_now"):120<a&&3600>a?this.getString("last_seen_minutes",[t(a/60)]):3600<=a&&7200>a?this.getString("last_seen_hours"):345600<=a?this.getString("last_seen_date",[e.moment().subtract(a,"seconds").format("LL")]):this.getString("last_seen_date",[e.moment().subtract(a,"seconds").calendar().toLowerCase()])},readActualVersion:function(){let e=new XMLHttpRequest;e.open("GET","version.js?"+r(),!0),e.onreadystatechange=()=>{if(4===e.readyState&&200===e.status){let t,a;e.onreadystatechange=null;try{t=e.responseText,a=JSON.parse(t.split("\n")[1].slice(1,-1))}catch(t){return}this.set({actual_version_number:a.version_number,version_description:a.version_description})}},e.send()},extendFunction:function(){a.trimStart||(a.trimStart=function(){return this.replace(/^\s+/,"")}),a.trimEnd||(a.trimEnd=function(){return Array.from(Array.from(this).reverse().join("").trimStart(/\s$/,"")).reverse().join("")})},onQuit:function(){window.indexedDB.databases?window.indexedDB.databases().then(e=>{e.forEach(e=>{window.indexedDB.deleteDatabase(e.name)})}):this.accounts.forEach(e=>{indexedDB.deleteDatabase(e.cached_roster.database.name)});let e=xabber.getStorageName();for(let t in window.localStorage)(t.startsWith(e)||t.startsWith(n.STORAGE_NAME+"-"+n.STORAGE_VERSION+"-"+this.cache.id))&&window.localStorage.removeItem(t)},cacheFavicons:async function(){this._cache.save("favicon",URL.createObjectURL(await fetch(n.FAVICON_DEFAULT).then(e=>e.blob()))),this._cache.save("favicon_message",URL.createObjectURL(await fetch(n.FAVICON_MESSAGE).then(e=>e.blob())))},detectMediaDevices:function(){this.getMediaDevices(e=>{this.set(e)})},getMediaDevices:function(e,t){window.navigator&&window.navigator.mediaDevices&&window.navigator.mediaDevices.enumerateDevices().then(t=>{let a={audio:!1,video:!1};t.find(e=>"audioinput"===e.kind)&&(a.audio=!0),t.find(e=>"videoinput"===e.kind)&&(a.video=!0),e&&e(a)}).catch(e=>{t&&t(e)})},throwNewVersion:function(){if(n.CHECK_VERSION){let e=this.get("actual_version_number"),t=this.get("version_description");c.dialogs.common(this.getString("dialog_version_update__header",[n.CLIENT_NAME]),`${this.getString("dialog_version_update__confirm_text__new_version",[e])}<div class="new-version-description">${t}</div>${this.getString("dialog_version_update__confirm_text__question_reload_page")}`,{ok_button:{text:this.getString("dialog_version_update__button_reload")},cancel_button:{text:this.getString("dialog_version_update__option_not_now")}}).done(e=>{e&&window.location.reload(!0)})}},Settings:Backbone.ModelWithStorage.extend({defaults:{max_connection_retries:-1,notifications:!0,message_preview:!1,sound:!0,background:{type:"default"},side_panel:{theme:"dark",blur:!1,transparency:50},appearance:{blur:0,vignetting:0,color:"#E0E0E0"},main_color:"default",sound_on_message:"beep_up",call_attention:!0,sound_on_attention:"attention",sound_on_auth_request:"beep_a",hotkeys:"enter",language:"default",load_history:!0,mam_requests_limit:200,mam_messages_limit_start:1,mam_messages_limit:20,ping_interval:60,reconnect_interval:120}}),start:function(){this.check_config.done(e=>{this.check_config=void 0,e&&this.trigger("start")})},configure:function(t){this.loadTranslations(this.get("default_language")).then(({lang:e,translation:t})=>(this.default_translation=t,this.loadTranslations())).then(({lang:a,translation:s})=>{this.setLocale(a,s),i.extend(n,i.pick(t,["CONNECTION_URL","PERSONAL_AREA_URL","LOG_LEVEL","DEBUG","XABBER_ACCOUNT_URL","REGISTER_XMPP_ACCOUNT","REGISTER_XMPP_ACCOUNT_URL","REGISTER_XMPP_ACCOUNT_TEXT","API_SERVICE_URL","USE_SOCIAL_AUTH","CONTAINER","CHECK_VERSION","DEFAULT_LOGIN_SCREEN","STORAGE_NAME_ENDING","CLIENT_NAME","SHORT_CLIENT_NAME","CLIENT_LOGO","TOOLBAR_LOGO","ENABLE_XABBER_ACCOUNT","SCREEN_ABOUT","DISABLE_LOOKUP_WS"]));let o=n["LOG_LEVEL_"+n.LOG_LEVEL];if(n.LOG_LEVEL=o||n.LOG_LEVEL_ERROR,n.MATERIAL_COLORS.includes(t.MAIN_COLOR)&&(n.MAIN_COLOR=t.MAIN_COLOR),"default"==this._settings.get("main_color")&&this._settings.set("main_color",n.MAIN_COLOR),this.trigger("update_main_color"),window.xabber=this,n.DEBUG&&i.extend(window,e),t.CLIENT_NAME&&!t.SHORT_CLIENT_NAME?n.SHORT_CLIENT_NAME=t.CLIENT_NAME:!t.CLIENT_NAME&&t.SHORT_CLIENT_NAME&&(n.CLIENT_NAME=t.SHORT_CLIENT_NAME),t.TURN_SERVERS_LIST&&(i.isArray(t.TURN_SERVERS_LIST)?i.extend(n,{TURN_SERVERS_LIST:t.TURN_SERVERS_LIST}):i.isObject(t.TURN_SERVERS_LIST)&&Object.keys(t.TURN_SERVERS_LIST).length&&i.extend(n,{TURN_SERVERS_LIST:[t.TURN_SERVERS_LIST]})),c.isMobile.any()){let e=this.getString("warning__client_not_support_ios_browser",[n.CLIENT_NAME]),t=this.getString("warning__client_not_support_android_browser"),a=this.getString("warning__client_not_support_mobile",[n.CLIENT_NAME]),i;return i=c.isMobile.iOS()?e:c.isMobile.Android()?a+t:a,c.dialogs.error(i),void this.check_config.resolve(!1)}if(!n.CONNECTION_URL)return c.dialogs.error(this.getString("client_error__missing_connection_url")),void this.check_config.resolve(!1);let d=this;Backbone.useLocalStorage||this.cache.ignore_localstorage_warning||c.dialogs.warning(this.getString("client_warning__no_local_storage"),[{name:this.getString("ignore"),text:this.getString("client_error__option_show_msg_again")}]).done(function(e){e&&e.ignore&&d._cache.save("ignore_localstorage_warning",!0)}),this.requestNotifications().done(function(e){d._cache.save("notifications",e),e&&"serviceWorker"in navigator&&"PushManager"in window?d.setUpPushNotifications().done(function(){d.check_config.resolve(!0)}):(d._cache.save("endpoint_key",void 0),d.check_config.resolve(!0))})})},fetchURLParams:function(){let e=window.location.href.split(/[?#]/);if(this.url_params={},1<e.length){let t=e[1].split("&"),a,n;for(a=0;a<t.length;a++)n=t[a].split("="),this.url_params[n[0]]=1===n.length?null:n[1]}window.history.pushState(null,null,window.location.pathname)},getStorageName:function(){let e=n.STORAGE_NAME+"-"+n.STORAGE_VERSION;return n.STORAGE_NAME_ENDING&&(e=e+"-"+n.STORAGE_NAME_ENDING),e},cleanUpStorage:function(){let e=n.STORAGE_NAME+"-"+n.STORAGE_VERSION;for(let t in window.localStorage)t.startsWith("xabber")&&!t.startsWith(e)&&window.localStorage.removeItem(t)},requestNotifications:function(){let e=new s.Deferred,t=this;return window.Notification?"granted"===window.Notification.permission?e.resolve(!0):(!t.cache.ignore_notifications_warning&&(t.notifications_placeholder=new t.NotificationsPlaceholder),e.resolve(!1)):e.resolve(null),e.promise()},setUpPushNotifications:function(){let e=new s.Deferred,t=this;return firebase.initializeApp({apiKey:n.GCM_API_KEY,messagingSenderId:n.GCM_SENDER_ID}),navigator.serviceWorker.register("./firebase-messaging-sw.js").then(a=>{firebase.messaging().useServiceWorker(a),t.messaging=firebase.messaging(),t.messaging.requestPermission().then(function(){t.messaging.getToken().then(function(a){t._cache.save("endpoint_key",a||void 0),e.resolve(!!a||"No Instance ID token available.")}).catch(function(t){e.resolve(t)}),t.messaging.onTokenRefresh(function(){t.messaging.getToken().then(function(e){t._cache.save("endpoint_key",e)}).catch(function(){})}),navigator.serviceWorker.addEventListener("message",function(e){let a=e.data;if("push-msg-received"===a["firebase-messaging-msg-type"]){let i=a["firebase-messaging-msg-data"];if(i&&i.data&&i.from===n.GCM_SENDER_ID){let a;try{a=JSON.parse(atob(i.data.body))}catch(t){a=i.data}t.trigger("push_message",a)}}})}).catch(function(t){e.resolve({error:t})})}),e.promise()},extendWith:function(){return i.reduce(arguments,function(e,t){return t(e)},this)}});return new l}),define("xabber-views",[],function(){var e=Math.abs,t=Math.min;return function(a){let n=a.env,i=n.constants,s=n.templates.base,o=n.utils,d=n.uuid,r=n.$,c=n._;return a.ViewPath=function(e){this.path=e.split("."),this.applyTo=function(e){let t=e;for(let a=0;a<this.path.length;a++)if(!(t=c.result(t,this.path[a])))return null;return t}},a.BasicView=Backbone.View.extend({template:function(){return""},initialize:function(e){e||(e={}),this.parent=e.parent,this.vname=e.vname,this.children={},this.$el.addClass(e.classlist),e.el||this.$el.html(this.template(c.extend({view:this},i))),c.isUndefined(this.ps_selector)||(this.ps_container=this.$(this.ps_selector),this.ps_container.length&&this.ps_container.perfectScrollbar(c.extend(this.ps_settings||{},a.ps_settings))),this.data=new Backbone.Model({visible:!1}),this.data.on("change:visible",this.onChangedVisibility,this),a.on("update_css",function(e){this.updateCSS&&this.updateCSS(),e&&e.size_changed&&this.windowResized&&this.windowResized()},this),this._initialize&&this._initialize(e),this.__initialize&&this.__initialize(e)},isVisible:function(){return this.data.get("visible")},onChangedVisibility:function(){},show:function(){this.onShow.apply(this,arguments),this.data.set("visible",!0),this.trigger("after_show",this),this.updateScrollBar()},hide:function(){this.trigger("before_hide",this),this.data.set("visible",!1),this.onHide.apply(this,arguments)},onShow:function(){this.render.apply(this,arguments),c.each(this.children,function(e){e.render.apply(e,arguments)})},onHide:function(){c.each(this.children,function(e){e.onHide.apply(e,arguments)})},detach:function(){this.$el.detach()},child:function(e){return this.children[e]},addChild:function(e,t,a){let n;return t instanceof Backbone.View?(n=t,n.parent=this):n=new t(c.extend({parent:this,vname:e},a)),this.children[e]=n,n},removeChild:function(e,t){t||(t={});let a=this.children[e];a&&(delete this.children[e],t.soft?a.detach():a.trigger("remove")&&a.remove())},removeChildren:function(){c.each(c.keys(this.children),e=>{this.removeChild(e)})},setCustomCss:function(e){this.$el.css(e)},removeCustomCss:function(){this.$el.removeAttr("style")},saveScrollBarOffset:function(){if(this.ps_container&&this.isVisible()){let e=this.data.get("scroll_top");"undefined"==typeof e&&this.data.set("scroll_top",this.getScrollTop())}},updateScrollBar:function(){if(this.ps_container&&this.isVisible()){let e=this.data.get("scroll_top");"undefined"==typeof e?this.ps_container.perfectScrollbar("update"):(this.data.set("scroll_top",void 0),this.scrollTo(e))}return this},scrollTo:function(e){this.ps_container[0].scrollTop=e,this.ps_container.perfectScrollbar("update")},scrollToTop:function(){this.scrollTo(0)},scrollToBottom:function(){let e=this.ps_container[0].scrollHeight,t=this.ps_container[0].offsetHeight;this.scrollTo(e-t)},scrollToChild:function(e){let t=c.reduce(e.prevAll(),function(e,t){return e+t.offsetHeight+2},0);this.scrollTo(t)},getScrollTop:function(){return this.ps_container[0].scrollTop},getScrollBottom:function(){let e=this.ps_container[0].scrollTop,t=this.ps_container[0].scrollHeight,a=this.ps_container[0].offsetHeight;return t-(e+a)},getPercentScrolled:function(){if(this.isScrolledToTop())return 0;let e=this.ps_container[0].scrollTop,t=this.ps_container[0].scrollHeight,a=this.ps_container[0].offsetHeight;return e/(t-a)},isScrolledToTop:function(){return 0===this.getScrollTop()},isScrolledToBottom:function(){let e=this.ps_container[0].scrollTop,t=this.ps_container[0].scrollHeight,a=this.ps_container[0].offsetHeight;return t===e+a}}),a.NodeView=a.BasicView.extend({onShow:function(e,t){return c.each(this.children,function(e){e.hide()}),this.$el.children().detach(),t=this.patchTree(t,e)||t,c.each(this.children,(a,n)=>{c.has(t,n)&&("login"!==n&&this.$el.append(a.$el),this.$el.switchClass("hidden","login"===n),a.show(e,t[n]))}),this.render(e)},onHide:function(e){c.each(this.children,function(t){t.hide(e)})},patchTree:function(){}}),a.Container=a.BasicView.extend({className:"container",render:function(e,t){let a=t.applyTo(e);return this.$el.children().detach(),this.view!==a&&this.onHide(e),this.view=a,this.view&&(this.$el.append(this.view.$el),this.view.show(e)),this},onHide:function(e){this.view&&this.view.hide(e),this.view=null}}),a.SearchView=a.BasicView.extend({events:{"keydown .search-input":"keyUpOnSearch","focusout .search-input":"clearSearchSelection","click .close-search-icon":"clearSearch","click .list-item":"onClickItem"},keyUpOnSearch:function(e){e.stopPropagation(),this.ids=this.$(".list-item:not(.hidden)").map(function(){return r(this).data("id")}).toArray();let t=this.getSelectedItem();if(e.keyCode===i.KEY_ARROW_DOWN)return this.selectNextItem();if(e.keyCode===i.KEY_ARROW_UP)return this.selectPreviousItem();if(e.keyCode===i.KEY_ENTER&&t.length)return e.preventDefault(),this.onEnterPressed(t);if(e.keyCode===i.KEY_ESCAPE){if(e.preventDefault(),r(e.target).val())return this.clearSearch();this.close()}this.updateSearch()},getSelectedItem:function(){return this.$(".list-item[data-id=\""+this.selection_id+"\"]")},selectItem:function(e,t){if(!e)return;this.clearSearchSelection();let a=this.$(".list-item[data-id=\""+e+"\"]");a.length?this.selection_id=e:(this.ps_container[0].scrollTop=0,a=this.$(".list-item:visible").first(),this.selection_id=a.data("id")),"down"===t&&(a[0].clientHeight+a[0].offsetTop>=this.ps_container[0].clientHeight+this.ps_container[0].scrollTop||a[0].clientHeight+a[0].offsetTop<this.ps_container[0].scrollTop)&&(this.ps_container[0].scrollTop=a[0].offsetTop),"up"===t&&(a[0].offsetTop<=this.ps_container[0].scrollTop||a[0].offsetTop>this.ps_container[0].scrollTop+this.ps_container[0].clientHeight)&&(this.ps_container[0].scrollTop=a[0].offsetTop),a.addClass("selected")},selectNextItem:function(){this.selectItem(this.ids[this.ids.indexOf(this.selection_id)+1],"down")},selectPreviousItem:function(){this.selectItem(this.ids[this.ids.indexOf(this.selection_id)-1],"up")},updateSearch:function(){if(!this._update_search_timeout){let e=this.$(".search-input").val();this.$(".search-form").switchClass("active",e),this.clearSearchSelection(),e?this.search(e.toLowerCase()):(this.$(".list-item").removeClass("hidden"),this.onEmptyQuery()),this.updateScrollBar(),this.query=!1,this._update_search_timeout=setTimeout(()=>{this._update_search_timeout=null,this.query&&this.updateSearch()},150)}else this.query=!0},clearSearch:function(e){e&&e.preventDefault(),this.$(".search-input").val(""),this.updateSearch()},clearSearchSelection:function(){this.selection_id=null,this.$(".list-item.selected").removeClass("selected")},searchAll:function(){this.$(".list-item").removeClass("hidden")},keyUpOnSearchWithQuery:function(){},close:function(){},search:function(){},onEnterPressed:function(){},onEmptyQuery:function(){},onClickItem:function(){}}),a.SearchPanelView=a.SearchView.extend({keyUpOnSearch:function(e){if(e.stopPropagation(),r(e.target).val())return void this.keyUpOnSearchWithQuery(e);this.ids=this.$(".list-item:not(.hidden)").map(function(){return r(this).data("id")}).toArray();let t=this.getSelectedItem();if(e.keyCode===i.KEY_ARROW_DOWN)return this.selectNextItem();if(e.keyCode===i.KEY_ARROW_UP)return this.selectPreviousItem();if(e.keyCode===i.KEY_ENTER&&t.length)return e.preventDefault(),this.onEnterPressed(t);if(e.keyCode===i.KEY_ESCAPE){if(e.preventDefault(),r(e.target).val())return this.clearSearch();this.close()}this.updateSearch()},onScrollY:function(e){if(a.all_searched_messages&&a.all_searched_messages.length&&this.queryid&&!this._loading_messages&&!this._messages_loaded&&this.isScrolledToBottom()){this._loading_messages=!0,e=e||{},this.queryid=d(),e.query_id=this.queryid;let t=a.accounts.connected;t.forEach(t=>{let n=a.all_searched_messages.find(e=>e.account.get("jid")===t.get("jid"));!n||t.searched_msgs_loaded||(e.account=t,e.before=n.get("archive_id"),this.MAMRequest(this.query_text,e,n=>{c.each(n,n=>{let i=t.chats.receiveChatMessage(n,c.extend({is_searched:!0},e)),s=a.all_searched_messages.indexOf(i),o;i&&(o=new a.MessageItemView({model:i}),0===s?o.$el.appendTo(this.$(".messages-list-wrap .messages-list")):o.$el.insertBefore(this.$(".messages-list-wrap .message-item").eq(-s)))}),this.$(".messages-list-wrap").switchClass("hidden",!this.$(".messages-list").children().length),this.updateScrollBar(),this._loading_messages=!1}))}),t.filter(e=>e.searched_msgs_loaded).length===t.length&&(this._messages_loaded=!0)}},onScroll:function(){},keyUpOnSearchWithQuery:function(e){e.stopPropagation(),this.ids=this.$(".searched-lists-wrap .list-item:not(.hidden)").map(function(){return r(this).data("id")}).toArray();let t=this.getSelectedItemWithQuery();if(e.keyCode===i.KEY_ARROW_DOWN)return this.selectNextItemWithQuery();if(e.keyCode===i.KEY_ARROW_UP)return this.selectPreviousItemWithQuery();if(e.keyCode===i.KEY_ENTER&&t.length)return e.preventDefault(),this.onEnterPressed(t);if(e.keyCode===i.KEY_ESCAPE){if(e.preventDefault(),r(e.target).val())return this.clearSearch();this.close()}this.updateSearch()},getSelectedItemWithQuery:function(){return this.$(".searched-lists-wrap .list-item[data-id=\""+this.selection_id+"\"]")},selectItemWithQuery:function(e,t){if(!e)return void(this.isScrolledToBottom()&&this.onScrollY());this.clearSearchSelection();let a=this.$(".searched-lists-wrap .list-item[data-id=\""+e+"\"]");a.length?this.selection_id=e:(this.ps_container[0].scrollTop=0,a=this.$(".searched-lists-wrap .list-item:visible").first(),this.selection_id=a.data("id")),"down"===t&&(a[0].clientHeight+a[0].offsetTop+a.parent().parent()[0].offsetTop>=this.ps_container[0].clientHeight+this.ps_container[0].scrollTop||a[0].clientHeight+a[0].offsetTop+a.parent().parent()[0].offsetTop<this.ps_container[0].scrollTop)&&(this.ps_container[0].scrollTop=a[0].offsetTop+a.parent().parent()[0].offsetTop),"up"===t&&(a[0].offsetTop+a.parent().parent()[0].offsetTop<=this.ps_container[0].scrollTop||a[0].offsetTop+a.parent().parent()[0].offsetTop>this.ps_container[0].scrollTop+this.ps_container[0].clientHeight)&&(this.ps_container[0].scrollTop=a[0].offsetTop+a.parent().parent()[0].offsetTop),a.addClass("selected")},selectNextItemWithQuery:function(){this.selectItemWithQuery(this.ids[this.ids.indexOf(this.selection_id)+1],"down")},selectPreviousItemWithQuery:function(){this.selectItemWithQuery(this.ids[this.ids.indexOf(this.selection_id)-1],"up")},search:function(e){this.$(this.main_container).addClass("hidden"),clearTimeout(this.keyup_timeout),this.keyup_timeout=null,this.query_text=e,this.$(".contacts-list").html(""),this.$(".chats-list").html(""),a.accounts.connected.forEach(e=>{let t=e.chats.getSavedChat();t.set("opened",!0),t.item_view.updateLastMessage()});let t=c.clone(a.chats);t.comparator="timestamp",t.sort("timestamp").forEach(t=>{let n=t.get("jid").toLowerCase(),i=t.contact?t.contact.get("roster_name")||t.contact.get("name"):t.get("name");if(i&&(i=i.toLowerCase()),(t.get("timestamp")||t.get("saved"))&&(-1<i.indexOf(e)||-1<n.indexOf(e))){let n=-1<i.indexOf(e)?"by-name":"by-jid",s=a.chats_view.child(t.get("id"));s&&(s=s.$el.clone().addClass(n)),s&&(this.$(".chats-list-wrap").removeClass("hidden"),"by-name"===n?this.$(".chats-list").prepend(s):this.$(".chats-list .by-jid").length?s.insertBefore(this.$(".chats-list .by-jid").first()):this.$(".chats-list").append(s),s.click(()=>{this.$(".list-item.active").removeClass("active"),a.chats_view.openChat(t.item_view,{screen:a.body.screen.get("name")}),s.addClass("active")}))}}),a.accounts.each(t=>{t.contacts.each(n=>{let i=n.get("jid").toLowerCase(),s=n.get("roster_name")||n.get("name"),o=t.chats.get(n.hash_id),d=o&&o.id;if(s&&(s=s.toLowerCase()),(!d||d&&!this.$(".chat-item[data-id=\""+d+"\"]").length)&&(-1<s.indexOf(e)||-1<i.indexOf(e))){let o=-1<s.indexOf(e)?"by-name":"by-jid",d=a.contacts_view.$(`.account-roster-wrap[data-jid="${t.get("jid")}"] .list-item[data-jid="${i}"]`).first().clone().data("account-jid",t.get("jid"));d.attr({"data-color":t.settings.get("color"),"data-account":t.get("jid")}).addClass(o).prepend(r("<div class=\"account-indicator ground-color-700\"/>")),"by-name"==o?this.$(".contacts-list").prepend(d):this.$(".contacts-list .by-jid").length?d.insertBefore(this.$(".contacts-list .by-jid").first()):this.$(".contacts-list").append(d),d.click(()=>{this.$(".list-item.active").removeClass("active");let e=t.chats.getChat(n);e&&a.chats_view.openChat(e.item_view,{clear_search:!1,screen:a.body.screen.get("name")}),d.addClass("active")})}})}),this.$(".chats-list-wrap").switchClass("hidden",!this.$(".chats-list").children().length),this.$(".contacts-list-wrap").switchClass("hidden",!this.$(".contacts-list").children().length),this.$(".messages-list-wrap").addClass("hidden").find(".messages-list").html(""),2<=e.length&&(this.keyup_timeout=setTimeout(()=>{this.queryid=d(),this.searchMessages(e,{query_id:this.queryid})},1e3))},searchMessages:function(e,t){this._loading_messages=!0,this._messages_loaded=!1,t=t||{},t.max||(t.max=a.settings.mam_messages_limit),t.before||(t.before=""),a.all_searched_messages=new a.SearchedMessages;let n=a.accounts.connected;n.forEach(n=>{n.searched_msgs_loaded=!1,t.account=n,this.MAMRequest(e,t,e=>{this.query_text&&(c.each(e,e=>{if(!this.query_text)return;let i=n.chats.receiveChatMessage(e,c.extend({is_searched:!0},t)),s=a.all_searched_messages.indexOf(i),o;i&&(o=new a.MessageItemView({model:i}),0===s?o.$el.appendTo(this.$(".messages-list-wrap .messages-list")):o.$el.insertBefore(this.$(".messages-list-wrap .message-item").eq(-s)))}),this.$(".messages-list-wrap").switchClass("hidden",!this.$(".messages-list").children().length),this.updateScrollBar(),this._loading_messages=!1)})}),n.filter(e=>e.searched_msgs_loaded).length===n.length&&(this._messages_loaded=!0)},MAMRequest:function(e,t,a,i){let s=[],o=t.account,c=d(),l=$iq({from:o.get("jid"),type:"set"}).c("query",{xmlns:Strophe.NS.MAM,queryid:c}).c("x",{xmlns:Strophe.NS.DATAFORM,type:"submit"}).c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t(Strophe.NS.MAM).up().up().c("field",{var:"withtext"}).c("value").t(e).up().up().up().cnode(new Strophe.RSM(t).toXML()),p=o.connection.addHandler(e=>{let a=r(e);return a.find("result").attr("queryid")===c&&t.query_id===this.queryid&&s.push(e),!0},n.Strophe.NS.MAM);o.sendIQ(l,function(e){o.connection.deleteHandler(p);let t=r(e).find(`fin[xmlns="${Strophe.NS.MAM}"]`);if(t.length&&t.attr("queryid")===c){let e="true"===t.attr("complete");e&&(o.searched_msgs_loaded=!0)}a&&a(s)},function(){o.connection.deleteHandler(p),i&&i()})},clearSearch:function(e){e&&e.preventDefault(),this.$(".search-input").val(""),this.updateSearch(),this.onEmptyQuery()},onEmptyQuery:function(){a.accounts.forEach(function(e){e.searched_msgs_loaded=!1}),this.query_text=null,this.queryid=null,this._messages_loaded=!1,this._loading_messages=!1,this.$(this.main_container).removeClass("hidden"),this.$(".chats-list-wrap").addClass("hidden"),this.$(".contacts-list-wrap").addClass("hidden"),this.$(".messages-list-wrap").addClass("hidden")}}),a.InputWidget=Backbone.View.extend({field_type:"text",template:s.input_widget,events:{"click .field-text":"showInput","click .btn-rename":"showInput","keydown .field-input":"keyDown","keyup .field-input":"keyUp","focusout .field-input":"changeValue"},initialize:function(){this.$el.html(this.template({field_name:this.field_name,field_type:this.field_type,placeholder:this.placeholder})),this.$value=this.$(".field-text"),this.$btn=this.$(".btn-rename"),this.$input=this.$(".field-input"),this.updateValue(),this.data=new Backbone.Model({input_mode:!1}),this.data.on("change:input_mode",this.onChangedInputMode,this),this.bindModelEvents()},bindModelEvents:function(){this.model.on("change:"+this.model_field,this.updateValue,this)},showInput:function(){this.data.set("input_mode",!0),this.updateValue()},onChangedInputMode:function(){let e=this.data.get("input_mode");this.$value.hideIf(e),this.$btn.hideIf(e),this.$input.showIf(e).focus()},keyDown:function(e){e.stopPropagation();let t=this.getValue();e.keyCode===i.KEY_ENTER?this.changeValue():e.keyCode===i.KEY_ESCAPE&&(this.$input.removeClass("changed").val(t),this.data.set("input_mode",!1))},keyUp:function(){let e=this.getValue();this.$input.switchClass("changed",this.$input.val()!==e)},getValue:function(){return this.model.get(this.model_field)},setValue:function(e){this.model.save(this.model_field,e)},changeValue:function(){let e=this.getValue(),t=this.$input.removeClass("changed").val();t!==e&&this.setValue(t),this.data.set("input_mode",!1)},updateValue:function(){let e=this.getValue();this.$value.text(e),this.$input.val(e)}}),a.Body=a.NodeView.extend({className:"client-body-wrap",_initialize:function(){this.vname="body",this.data.set("visible",!0),this.screen=new Backbone.Model,this.screen_map=new Backbone.Model,this.screen.on("change",this.update,this),this.screen_map.on("change",this.onScreenMapChanged,this),r("body").append(this.$el),this.updateBackground(),this.updateMainColor(),r("#modals").insertAfter(this.$el),a.on("update_main_color",this.updateMainColor,this)},addScreen:function(e,t){this.screen_map.set(e,t)},updateMainColor:function(){this.$el.attr("data-main-color",a.settings.main_color),this.$el.siblings("#modals").attr("data-main-color",a.settings.main_color),r(window.document).find(".login-container").attr("data-main-color",a.settings.main_color)},updateBackground:function(){let e=a.settings.background||{};e.image?"repeating-pattern"===e.type?this.$el.css({"background-repeat":"repeat","background-size":"unset","background-image":`url("${o.images.getCachedBackground(e.image)}")`}):"image"===e.type&&this.$el.css({"background-repeat":"no-repeat","background-size":"cover","background-image":`url("${o.images.getCachedBackground(e.image)}")`}):this.$el.css({"background-repeat":"repeat","background-size":"unset","background-image":`url("${i.BACKGROUND_IMAGE}")`,"box-shadow":"none"}),this.updateBoxShadow(a.settings.appearance.vignetting)},updateBoxShadow:function(e){e=+e,e?this.$el.css({"box-shadow":`${e}px 0 100px 1px rgba(0, 0, 0, 0.7) inset, -${e}px 0 100px -1px rgba(0, 0, 0, 0.7) inset`}):this.$el.css({"box-shadow":`unset`})},updateBlur:function(e){e=+e,a.blur_overlay.$el.css({"backdrop-filter":`blur(${e}px)`,"-webkit-backdrop-filter":`blur(${e}px)`})},setScreen:function(e,t,n){a.notifications_placeholder&&a.main_panel.$el.addClass("notifications-request"),r("body").switchClass("xabber-login","login"===e),r("body").switchClass("on-xabber-login","login"!==e);let i={stamp:c.uniqueId()};e&&!this.isScreen(e)&&(i.name=e),this.screen.set(c.extend(i,t),n)},isScreen:function(e){return this.screen.get("name")===e},onScreenMapChanged:function(){let e=this.screen.get("name");c.has(this.screen_map.changed,e)&&this.update()},update:function(){let e=this.screen.attributes,t=this.screen_map.get(e.name);"undefined"!=typeof t&&(this.onShow(e,t),this.model.trigger("update_screen",this.screen.get("name")),this.model.trigger("update_layout",{screen_changed:e.name}))}}),a.ToolbarView=a.BasicView.extend({className:"toolbar noselect",ps_selector:".accounts",ps_settings:{theme:"item-list"},template:s.toolbar,events:{"click .all-chats":"showAllChats","click .chats":"showChats","click .group-chats":"showGroupChats","click .contacts":"showContacts","click .search":"showSearch","click .archive-chats":"showArchive","click .mentions":"showMentions","click .settings":"showSettings","click .add-variant.contact":"showAddContactView","click .add-variant.account":"showAddAccountView","click .add-variant.public-groupchat":"showAddPublicGroupChatView","click .add-variant.incognito-groupchat":"showAddIncognitoGroupChatView","click .about":"showAbout"},_initialize:function(){this.$(".add-something").on("change_state",function(e,t){r(this).switchClass("active",t).find(".mdi").switchClass("mdi-close",t).switchClass("mdi-plus",!t),t?(this.setAttribute("data-title",this.getAttribute("title")),this.setAttribute("title","")):(this.setAttribute("title",this.getAttribute("data-title")),this.removeAttribute("data-title"))}),a.on("update_screen",this.onUpdatedScreen,this),this.data.on("change:all_msg_counter",this.onChangedAllMessageCounter,this),this.data.on("change:group_msg_counter",this.onChangedGroupMessageCounter,this),this.data.on("change:mentions_counter",this.onChangedMentionsCounter,this),this.data.on("change:msg_counter",this.onChangedMessageCounter,this),this.data.set({msg_counter:0}),this.data.set({group_msg_counter:0}),this.data.set({all_msg_counter:0}),this.data.set({mentions_counter:0})},render:function(){this.$(".add-something").dropdown({inDuration:50,outDuration:50,constrainWidth:!1,hover:!1,alignment:"left"})},updateColor:function(e){this.$(".toolbar-icon").css("color",e),this.$(".toolbar-icon path").css("fill",e)},onUpdatedScreen:function(e){"account_settings"===e||"all-chats"===e&&(this.$(".toolbar-item.all-chats").hasClass("active")||this.$(".toolbar-item.group-chats").hasClass("active")||this.$(".toolbar-item.chats").hasClass("active")||this.$(".toolbar-item.account-item").hasClass("active")||this.$(".toolbar-item.archive-chats").hasClass("active"))||(this.$(".toolbar-item").removeClass("active unread"),c.contains(["all-chats","contacts","mentions","settings","search","about"],e)&&this.$(".toolbar-item."+e).addClass("active"))},showAllChats:function(e){let t=r(e.target).closest(".toolbar-item"),n=t.hasClass("active")&&!t.hasClass("unread");this.$(".toolbar-item").removeClass("active unread").filter(".all-chats").addClass("active").switchClass("unread",n),a.body.setScreen("all-chats",{right:null})},showChats:function(e){let t=r(e.target).closest(".toolbar-item"),n=t.hasClass("active")&&!t.hasClass("unread");this.$(".toolbar-item").removeClass("active unread").filter(".chats").addClass("active").switchClass("unread",n),a.body.setScreen("all-chats",{right:null}),a.trigger("show_chats")},showGroupChats:function(e){let t=r(e.target).closest(".toolbar-item"),n=t.hasClass("active")&&!t.hasClass("unread");this.$(".toolbar-item").removeClass("active unread").filter(".group-chats").addClass("active").switchClass("unread",n),a.body.setScreen("all-chats",{right:null}),a.trigger("show_group_chats")},showArchive:function(){this.$(".toolbar-item").removeClass("active unread").filter(".archive-chats").addClass("active"),a.body.setScreen("all-chats",{right:null}),a.trigger("show_archive_chats")},showChatsByAccount:function(e){this.$(".toolbar-item").removeClass("active unread").filter(".account-item[data-jid=\""+e.get("jid")+"\"]").addClass("active"),a.body.setScreen("all-chats",{right:null}),a.trigger("show_account_chats",[e])},showSearch:function(){a.body.setScreen("search")},showContacts:function(){a.body.setScreen("contacts")},showMentions:function(){a.body.setScreen("mentions")},showSettings:function(){a.body.setScreen("settings")},showAddContactView:function(){a.trigger("add_contact",{right:null})},showAddAccountView:function(){a.trigger("add_account",{right:null})},showAddIncognitoGroupChatView:function(){a.trigger("add_group_chat",{incognito:!0,right:null})},showAddPublicGroupChatView:function(){a.trigger("add_group_chat",{public:!0,right:null})},showAbout:function(){a.about_view||(a.about_view=a.wide_panel.addChild("about",a.AboutView,{model:a})),a.body.setScreen("about")},setAllMessageCounter:function(){let e=0,t=0,n=0,i=0;return a.accounts.each(a=>{a.chats.each(a=>{a.contact&&!a.contact.get("muted")&&(t+=a.get("unread")+a.get("const_unread"),a.contact.get("group_chat")?n+=a.get("unread")+a.get("const_unread"):e+=a.get("unread")+a.get("const_unread"))}),i+=a.unread_mentions.length}),{msgs:e,all_msgs:t,group_msgs:n,mentions:i}},recountAllMessageCounter:function(){let e=this.setAllMessageCounter();this.data.set("all_msg_counter",e.all_msgs),this.data.set("msg_counter",e.msgs),this.data.set("group_msg_counter",e.group_msgs),this.data.set("mentions_counter",e.mentions)},onChangedMessageCounter:function(){let e=this.data.get("msg_counter");this.$(".msg-indicator").switchClass("unread",e).text()},onChangedGroupMessageCounter:function(){let e=this.data.get("group_msg_counter");this.$(".group-msg-indicator").switchClass("unread",e).text()},onChangedMentionsCounter:function(){let e=this.data.get("mentions_counter");this.$(".mentions-indicator").switchClass("unread",e).text()},onChangedAllMessageCounter:function(){let e=this.data.get("all_msg_counter");this.$(".all-msg-indicator").switchClass("unread",e).text(e)}}),a.JingleMessageView=a.BasicView.extend({className:"modal main-modal jingle-message-view",template:s.jingle_message_calling,avatar_size:i.AVATAR_SIZES.XABBER_VOICE_CALL_VIEW,events:{click:"clickOnWindow","click .btn-accept":"accept","click .btn-share-screen":"shareScreen","click .btn-microphone":"toggleMicrophone","click .btn-video":"videoCall","click .btn-volume":"toggleVolume","click .btn-collapse":"collapse","click .btn-cancel":"cancel","click .btn-full-screen":"setFullScreen"},_initialize:function(e){this.model=e.model,this.model.on("destroy",this.onDestroy,this),this.contact=this.model.contact,this.account=this.contact.account,this.model.on("change:state",this.updateCallingStatus,this),this.model.on("change:status",this.updateBackground,this),this.model.on("change:volume_on",this.updateButtons,this),this.model.on("change:video",this.updateButtons,this),this.model.on("change:video_live",this.updateButtons,this),this.model.on("change:video_screen",this.updateButtons,this),this.model.on("change:video_in",this.updateCollapsedWindow,this),this.model.on("change:audio",this.updateButtons,this)},render:function(e){e=e||{},this.updateName(),this.updateCallingStatus(e.status),"in"===e.status?this.updateStatusText(a.getString("dialog_jingle_message__status_calling")):this.model.set("status","calling"),this.updateAccountJid(),this.updateButtons(),this.$el.openModal({dismissible:!1,ready:()=>{this.updateAvatar()},complete:()=>{this.$el.detach(),this.data.set("visible",!1)}})},setFullScreen:function(){let e=this.$el.find(".webrtc-remote-video")[0],t=this.$el.find(".webrtc-local-video")[0],a=this.$el.find(".buttons-panel")[0];e&&(e.requestFullScreen?(e.requestFullScreen(),t.requestFullScreen(),a.requestFullScreen()):e.webkitRequestFullScreen?(e.webkitRequestFullScreen(),t.webkitRequestFullScreen(),a.webkitRequestFullScreen()):e.mozRequestFullScreen?(e.mozRequestFullScreen(),t.mozRequestFullScreen(),a.mozRequestFullScreen()):e.msRequestFullScreen&&(e.msRequestFullScreen(),t.msRequestFullScreen(),a.msRequestFullScreen()))},cancelFullScreen:function(){if(document.exitFullscreen){let e=document.fullscreenElement;e&&document.exitFullscreen().then(()=>{document.fullscreenElement&&this.cancelFullScreen()})}else if(document.mozCancelFullScreen){let e=document.mozFullScreenElement;e&&document.mozCancelFullScreen(),document.mozFullScreenElement&&this.cancelFullScreen()}else if(document.webkitExitFullscreen){let e=document.webkitCurrentFullScreenElement;e&&document.webkitExitFullscreen(),document.webkitCurrentFullScreenElement&&this.cancelFullScreen()}else if(document.msExitFullscreen){let e=document.msFullscreenElement;e&&document.msExitFullscreen(),document.msFullscreenElement&&this.cancelFullScreen()}},windowResized:function(){this.$el.hasClass("collapsed")&&this.$el.css("right",parseInt(a.main_panel.$el.css("margin-right"))+8+"px")},updateButtons:function(){this.$(".btn-video .video").switchClass("hidden",!this.model.get("video")),this.$(".btn-share-screen").switchClass("active",this.model.get("video_screen")),this.$(".btn-full-screen").switchClass("hidden",!this.model.get("video_in")),this.$(".btn-video").switchClass("mdi-video active",this.model.get("video_live")).switchClass("mdi-video-off",!this.model.get("video_live")),this.$(".btn-volume").switchClass("mdi-volume-high active",this.model.get("volume_on")).switchClass("mdi-volume-off",!this.model.get("volume_on")),this.$(".btn-microphone").switchClass("active mdi-microphone",this.model.get("audio")).switchClass("mdi-microphone-off",!this.model.get("audio"))},updateAvatar:function(){let e=this.contact.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)},updateBackground:function(){let e=this.model.get("status");this.$el.attr("data-state",e)},updateCallingStatus:function(e){this.$(".buttons-wrap").switchClass("incoming","in"===e)},updateStatusText:function(e){this.$(".calling-status").text(e||"")},updateName:function(){this.$(".name").text(this.contact.get("name"))},updateAccountJid:function(){this.$(".modal-footer .contact-info .jid").text(this.contact.get("jid"))},close:function(){this.$el.closeModal({complete:this.hide.bind(this)})},shareScreen:function(){this.model.set("video_screen",!this.model.get("video_screen"))},isFullScreen:function(){return!!document.fullscreenElement||!!document.webkitFullscreenElement||!!document.mozFullScreenElement},accept:function(){this.model.accept(),this.updateCallingStatus(i.JINGLE_MSG_ACCEPT),this.model.initSession()},clickOnWindow:function(){this.$el.hasClass("collapsed")&&this.$el.hasClass("collapsed-video")&&this.collapse()},collapse:function(e){if(e&&e.stopPropagation(),this.isFullScreen())return void this.cancelFullScreen();let t=this.$el.closest("#modals").siblings("#"+this.$el.data("overlayId"));t.toggle(),this.$el.toggleClass("collapsed"),this.$el.hasClass("collapsed")?this.$el.switchClass("collapsed-video",this.model.get("video")||this.model.get("video_in")):this.$el.css("right",""),this.windowResized()},updateCollapsedWindow:function(){this.updateButtons(),this.$el.hasClass("collapsed")&&this.$el.switchClass("collapsed-video",this.model.get("video")||this.model.get("video_in"))},toggleMicrophone:function(){this.model.set("audio",!this.model.get("audio"))},onDestroy:function(){this.updateStatusText(a.getString("busy"==this.model.get("status")?"dialog_jingle_message__status_busy":"dialog_jingle_message__status_disconnected")),setTimeout(()=>{this.close(),this.$el.detach()},3e3)},videoCall:function(){this.model.set("video_live",!this.model.get("video_live"))},toggleVolume:function(e){let t=r(e.target);t.switchClass(this.model.set("volume_on",!this.model.get("volume_on")))},cancel:function(){this.model.reject(),this.close()}}),a.SettingsView=a.BasicView.extend({className:"settings-panel",template:s.settings,ps_selector:".panel-content",events:{"click .settings-tabs-wrap .settings-tab":"jumpToBlock","click .setting.notifications label":"setNotifications","click .setting.message-preview label":"setMessagePreview","click .setting.call-attention label":"setCallAttention","change .sound input[type=radio][name=sound]":"setSound","change .languages-list input[type=radio][name=language]":"changeLanguage","change #vignetting":"changeVignetting","change #blur":"changeBlur","change #transparency":"changeTransparency","change #blur_switch":"switchBlur","change #vignetting_switch":"switchVignetting","click .selected-color-wrap":"openColorPicker","click .current-main-color-wrap":"openMainColorPicker","change .background input[type=radio][name=background]":"setBackground","change .background input[type=radio][name=side-panel]":"setSidePanelTheme","change #side_panel_blur_switch":"setSidePanelBlur","change #transparency_switch":"switchTransparency","click .current-background-wrap":"changeBackgroundImage","change .hotkeys input[type=radio][name=hotkeys]":"setHotkeys","click .settings-tab.delete-all-accounts":"deleteAllAccounts"},_initialize:function(){this.$(".xabber-info-wrap .version").text(a.get("version_number")),a.on("update_main_color",this.updateMainColor,this)},render:function(){let e=this.model.attributes,t=e.language;this.$(".notifications input[type=checkbox]").prop({checked:e.notifications&&a._cache.get("notifications")}),this.$(".message-preview input[type=checkbox]").prop({checked:e.message_preview}),this.$(".call-attention input[type=checkbox]").prop({checked:e.call_attention});let n=e.sound?e.sound_on_message:"";return this.$(`.sound input[type=radio][name=sound][value="${n}"]`).prop("checked",!0),this.$(`.hotkeys input[type=radio][name=hotkeys][value=${e.hotkeys}]`).prop("checked",!0),t==a.get("default_language")&&(t="default"),this.$(`.languages-list input[type=radio][name=language][value="${t}"]`).prop("checked",!0),this.updateDescription(),this.updateBackgroundSetting(),this.updateColor(),this.updateMainColor(),this.updateSidePanelSetting(),this.$(".toolbar-main-color-setting-wrap .dropdown-button").dropdown({inDuration:100,outDuration:100,belowOrigin:!0,hover:!1}),this},updateMainColor:function(){this.$(".toolbar-main-color-setting").attr("data-color",this.model.get("main_color")),this.$(".toolbar-main-color-setting .color-name").text(a.getString(`account_color_name_${this.model.get("main_color").replace(/-/g,"_")}`).replace(/-/g," "))},updateBackgroundSetting:function(){this.$(`.background input[type=radio][name=background][value=${this.model.get("background").type}]`).prop("checked",!0),this.model.get("background").image&&this.$(".current-background").css("background-image",`url(${o.images.getCachedBackground(this.model.get("background").image)})`),this.$(".current-background-wrap").switchClass("hidden",!this.model.get("background").image);let e=this.model.get("appearance"),t=!1!==e.blur,a=!1!==e.vignetting;this.$("#blur_switch")[0].checked=t,this.$(".blur-setting .disabled").switchClass("hidden",t),this.$("#blur")[0].value=t?e.blur:i.BLUR_VALUE,this.$("#vignetting_switch")[0].checked=a,this.$(".vignetting-setting .disabled").switchClass("hidden",a),this.$("#vignetting")[0].value=a?e.vignetting:i.VIGNETTING_VALUE,this.updateScrollBar()},updateColor:function(){let e=this.model.get("appearance").color||"#E0E0E0";this.$(".selected-color-item").css("background-color",e),this.$(".selected-color-hex").text(e);let t=a.ColorPicker.prototype.materialColors.find(t=>t.variations.find(t=>t.hex.toLowerCase()==e.toLowerCase()));if(t){let n=t.variations.find(t=>t.hex.toLowerCase()==e.toLowerCase());this.$(".selected-color-name").text(a.getString(`account_color_name_${t.color.replace(/-/g,"_")}`).replace(/-/g," ")+` ${n.weight}`)}else this.$(".selected-color-name").text(a.getString("settings__section_appearance__hint_custom_color"));a.toolbar_view.updateColor(e)},updateSidePanelSetting:function(){let e=this.model.get("side_panel"),t=!1!==e.transparency;this.$("#side_panel_blur_switch")[0].checked=e.blur,this.$("#transparency_switch")[0].checked=t,this.$(".transparency-setting .disabled").switchClass("hidden",t),this.$("#transparency")[0].value=t?e.transparency:i.TRANSPARENCY_VALUE,this.$(`#${this.cid}-${e.theme}-side-panel`)[0].checked=!0},jumpToBlock:function(e){let t=r(e.target).closest(".settings-tab"),a=this.$(".settings-block-wrap."+t.data("block-name"));return t.hasClass("link-button")?(t.parent().siblings().removeClass("active"),void this.scrollTo(0)):void(t.addClass("active").siblings().removeClass("active"),this.scrollToChild(a))},setNotifications:function(e){let t=this.model.get("notifications"),n=r(e.target);e.preventDefault(),null===t?o.callback_popup_message(a.getString("notifications__toast_notifications_not_supported"),1500):(t=t&&a._cache.get("notifications"),a._cache.get("notifications")?(t=!t,this.model.save("notifications",t),n.closest(".setting.notifications").find("input").prop("checked",t)):window.Notification.requestPermission(e=>{a._cache.save({notifications:"granted"===e,ignore_notifications_warning:!0}),a.notifications_placeholder&&a.notifications_placeholder.close(),t="granted"===e,this.model.save("notifications",t?t:this.model.get("notifications")),n.closest(".setting.notifications").find("input").prop("checked",t)}))},setMessagePreview:function(e){let t=!this.model.get("message_preview");this.model.save("message_preview",t),e.preventDefault(),r(e.target).closest("input").prop("checked",t)},setCallAttention:function(e){let t=!this.model.get("call_attention");this.model.save("call_attention",t),e.preventDefault(),r(e.target).closest("input").prop("checked",t)},setSound:function(e){let t=e.target.value;t?(a.playAudio(t),this.model.save({sound:!0,sound_on_message:t})):this.model.save("sound",!1)},setBackground:function(e){let t=e.target.value;if("default"==t)this.model.save("background",{type:"default"}),a.body.updateBackground(),this.updateBackgroundSetting();else if("repeating-pattern"==t||"image"==t){let e=new a.SetBackgroundView;e.render({type:t,model:this.model})}},setSidePanelTheme:function(e){let t=e.target.value,n=this.model.get("side_panel");this.model.save("side_panel",c.extend(n,{theme:t})),a.roster_view.updateTheme(t)},setSidePanelBlur:function(){let e=this.$("#side_panel_blur_switch")[0].checked,t=this.model.get("side_panel");this.model.save("side_panel",c.extend(t,{blur:e})),a.roster_view.updateBlur(e)},changeBackgroundImage:function(){let e=this.model.get("background").type;if("repeating-pattern"==e||"image"==e){let t=new a.SetBackgroundView;t.render({type:e,model:this.model})}},openColorPicker:function(){this.colorPicker||(this.colorPicker=new a.ColorPicker({model:this.model})),this.colorPicker.render()},openMainColorPicker:function(){this.mainColorPicker||(this.mainColorPicker=new a.mainColorPicker({model:this.model})),this.mainColorPicker.render()},changeBlur:function(){let e=this.$("#blur")[0].value,t=this.model.get("appearance");a.body.updateBlur(e),this.model.save("appearance",c.extend(t,{blur:e}))},switchTransparency:function(){let e=this.$("#transparency_switch")[0].checked,t=this.model.get("side_panel"),n=!!e&&i.TRANSPARENCY_VALUE;this.$(".transparency-setting .disabled").switchClass("hidden",e),this.$("#transparency")[0].value=i.TRANSPARENCY_VALUE,this.model.save("side_panel",c.extend(t,{transparency:n})),a.roster_view.updateTransparency(n)},changeTransparency:function(){let e=this.$("#transparency")[0].value,t=this.model.get("side_panel");this.model.save("side_panel",c.extend(t,{transparency:e})),a.roster_view.updateTransparency(e)},changeVignetting:function(){let e=this.$("#vignetting")[0].value,t=this.model.get("appearance");a.body.updateBoxShadow(e),this.model.save("appearance",c.extend(t,{vignetting:e}))},switchVignetting:function(){let e=this.$("#vignetting_switch:checked").length,t=this.model.get("appearance"),n=!!e&&i.VIGNETTING_VALUE;this.$(".vignetting-setting .disabled").switchClass("hidden",e),this.$("#vignetting")[0].value=i.VIGNETTING_VALUE,this.model.save("appearance",c.extend(t,{vignetting:n})),a.body.updateBoxShadow(n)},switchBlur:function(){let e=this.$("#blur_switch:checked").length,t=this.model.get("appearance"),n=!!e&&i.BLUR_VALUE;this.$(".blur-setting .disabled").switchClass("hidden",e),this.$("#blur")[0].value=i.BLUR_VALUE,this.model.save("appearance",c.extend(t,{blur:n})),a.body.updateBlur(n)},setHotkeys:function(e){this.model.save("hotkeys",e.target.value)},deleteAllAccounts:function(){o.dialogs.ask(a.getString("button_quit"),a.getString("settings__dialog_quit_client__confirm",[i.CLIENT_NAME]),null,{ok_button_text:a.getString("button_quit")}).done(e=>{e&&a.trigger("quit")})},changeLanguage:function(e){let t=e.target.value;o.dialogs.ask(a.getString("settings__dialog_change_language__header"),a.getString("settings__dialog_change_language__confirm"),null,{ok_button_text:a.getString("settings__dialog_change_language__button_change")}).done(e=>{e?(this.model.save("language",t),window.location.reload(!0)):this.$(`.languages-list input[type=radio][name=language][value="${this.model.get("language")}"]`).prop("checked",!0)})},updateDescription:function(){let e=window.navigator.language,t=Object.keys(client_translation_progress).find(t=>!e.indexOf(t))||i.languages_another_locales[e]&&Object.keys(client_translation_progress).find(t=>!i.languages_another_locales[e].indexOf(t));if("default"!=e&&e.indexOf("en")||(t=100),!c.isUndefined(t)){let e,n;100==t?(e=a.getString("settings__interface_language__text_description_full_translation",[i.SHORT_CLIENT_NAME,i.SHORT_CLIENT_NAME]),n=a.getString("settings__interface_language__text_description_full_translation_platform",[`<a target="_blank" href='${a.getString("settings__section_interface_language__text_description___link")}'>${a.getString("settings__section_interface_language__text_description__text_link")}</a>`])):0==t?(e=a.getString("settings__section_interface_language__text_description_no_translations",[i.SHORT_CLIENT_NAME,i.SHORT_CLIENT_NAME]),n=a.getString("settings__interface_language__text_description_no_translation_platform",[`<a target="_blank" href='${a.getString("settings__section_interface_language__text_description___link")}'>${a.getString("settings__section_interface_language__text_description__text_link")}</a>`])):(e=a.getString("settings__interface_language__text_description_unfull_translation",[i.SHORT_CLIENT_NAME,i.SHORT_CLIENT_NAME]),n=a.getString("settings__section_interface_language__text_description_translation_platform",[`<a target="_blank" href='${a.getString("settings__section_interface_language__text_description___link")}'>${a.getString("settings__section_interface_language__text_description__text_link")}</a>`,i.EMAIL_FOR_JOIN_TRANSLATION])),this.$(".description").html(`${e}<br><br>${n}`)}}}),a.mainColorPicker=a.BasicView.extend({className:"modal main-modal main-color-picker",template:s.color_scheme,ps_selector:".modal-content",ps_settings:{theme:"item-list"},events:{"click .color-value":"setColor"},_initialize:function(e){this.model=e.model},render:function(){this.$el.openModal({ready:()=>{this.$(".modal-content").css("max-height",t(r(window).height()-341,456)).perfectScrollbar({theme:"item-list"})},complete:this.close.bind(this)})},setColor:function(e){let t=r(e.target).closest(".color-value").attr("data-value");this.model.save("main_color",t),a.trigger("update_main_color"),this.close()},close:function(){this.$el.closeModal({complete:()=>{this.$el.detach(),this.data.set("visible",!1)}})}}),a.ColorPicker=a.BasicView.extend({className:"modal main-modal color-picker",materialColors:[{color:"red",variations:[{weight:50,hex:"#FFEBEE"},{weight:100,hex:"#FFCDD2"},{weight:200,hex:"#EF9A9A"},{weight:300,hex:"#E57373"},{weight:400,hex:"#EF5350"},{weight:500,hex:"#F44336"},{weight:600,hex:"#E53935"},{weight:700,hex:"#D32F2F"},{weight:800,hex:"#C62828"},{weight:900,hex:"#B71C1C"}]},{color:"pink",variations:[{weight:50,hex:"#FCE4EC"},{weight:100,hex:"#F8BBD0"},{weight:200,hex:"#F48FB1"},{weight:300,hex:"#F06292"},{weight:400,hex:"#EC407A"},{weight:500,hex:"#E91E63"},{weight:600,hex:"#D81B60"},{weight:700,hex:"#C2185B"},{weight:800,hex:"#AD1457"},{weight:900,hex:"#880E4F"}]},{color:"purple",variations:[{weight:50,hex:"#F3E5F5"},{weight:100,hex:"#E1BEE7"},{weight:200,hex:"#CE93D8"},{weight:300,hex:"#BA68C8"},{weight:400,hex:"#AB47BC"},{weight:500,hex:"#9C27B0"},{weight:600,hex:"#8E24AA"},{weight:700,hex:"#7B1FA2"},{weight:800,hex:"#6A1B9A"},{weight:900,hex:"#4A148C"}]},{color:"deep-purple",variations:[{weight:50,hex:"#EDE7F6"},{weight:100,hex:"#D1C4E9"},{weight:200,hex:"#B39DDB"},{weight:300,hex:"#9575CD"},{weight:400,hex:"#7E57C2"},{weight:500,hex:"#673AB7"},{weight:600,hex:"#5E35B1"},{weight:700,hex:"#512DA8"},{weight:800,hex:"#4527A0"},{weight:900,hex:"#311B92"}]},{color:"indigo",variations:[{weight:50,hex:"#E8EAF6"},{weight:100,hex:"#C5CAE9"},{weight:200,hex:"#9FA8DA"},{weight:300,hex:"#7986CB"},{weight:400,hex:"#5C6BC0"},{weight:500,hex:"#3F51B5"},{weight:600,hex:"#3949AB"},{weight:700,hex:"#303F9F"},{weight:800,hex:"#283593"},{weight:900,hex:"#1A237E"}]},{color:"blue",variations:[{weight:50,hex:"#E3F2FD"},{weight:100,hex:"#BBDEFB"},{weight:200,hex:"#90CAF9"},{weight:300,hex:"#64B5F6"},{weight:400,hex:"#42A5F5"},{weight:500,hex:"#2196F3"},{weight:600,hex:"#1E88E5"},{weight:700,hex:"#1976D2"},{weight:800,hex:"#1565C0"},{weight:900,hex:"#0D47A1"}]},{color:"light-blue",variations:[{weight:50,hex:"#E1F5FE"},{weight:100,hex:"#B3E5FC"},{weight:200,hex:"#81D4FA"},{weight:300,hex:"#4FC3F7"},{weight:400,hex:"#29B6F6"},{weight:500,hex:"#03A9F4"},{weight:600,hex:"#039BE5"},{weight:700,hex:"#0288D1"},{weight:800,hex:"#0277BD"},{weight:900,hex:"#01579B"}]},{color:"cyan",variations:[{weight:50,hex:"#E0F7FA"},{weight:100,hex:"#B2EBF2"},{weight:200,hex:"#80DEEA"},{weight:300,hex:"#4DD0E1"},{weight:400,hex:"#26C6DA"},{weight:500,hex:"#00BCD4"},{weight:600,hex:"#00ACC1"},{weight:700,hex:"#0097A7"},{weight:800,hex:"#00838F"},{weight:900,hex:"#006064"}]},{color:"teal",variations:[{weight:50,hex:"#E0F2F1"},{weight:100,hex:"#B2DFDB"},{weight:200,hex:"#80CBC4"},{weight:300,hex:"#4DB6AC"},{weight:400,hex:"#26A69A"},{weight:500,hex:"#009688"},{weight:600,hex:"#00897B"},{weight:700,hex:"#00796B"},{weight:800,hex:"#00695C"},{weight:900,hex:"#004D40"}]},{color:"green",variations:[{weight:50,hex:"#E8F5E9"},{weight:100,hex:"#C8E6C9"},{weight:200,hex:"#A5D6A7"},{weight:300,hex:"#81C784"},{weight:400,hex:"#66BB6A"},{weight:500,hex:"#4CAF50"},{weight:600,hex:"#43A047"},{weight:700,hex:"#388E3C"},{weight:800,hex:"#2E7D32"},{weight:900,hex:"#1B5E20"}]},{color:"light-green",variations:[{weight:50,hex:"#F1F8E9"},{weight:100,hex:"#DCEDC8"},{weight:200,hex:"#C5E1A5"},{weight:300,hex:"#AED581"},{weight:400,hex:"#9CCC65"},{weight:500,hex:"#8BC34A"},{weight:600,hex:"#7CB342"},{weight:700,hex:"#689F38"},{weight:800,hex:"#558B2F"},{weight:900,hex:"#33691E"}]},{color:"lime",variations:[{weight:50,hex:"#F9FBE7"},{weight:100,hex:"#F0F4C3"},{weight:200,hex:"#E6EE9C"},{weight:300,hex:"#DCE775"},{weight:400,hex:"#D4E157"},{weight:500,hex:"#CDDC39"},{weight:600,hex:"#C0CA33"},{weight:700,hex:"#AFB42B"},{weight:800,hex:"#9E9D24"},{weight:900,hex:"#827717"}]},{color:"yellow",variations:[{weight:50,hex:"#FFFDE7"},{weight:100,hex:"#FFF9C4"},{weight:200,hex:"#FFF59D"},{weight:300,hex:"#FFF176"},{weight:400,hex:"#FFEE58"},{weight:500,hex:"#FFEB3B"},{weight:600,hex:"#FDD835"},{weight:700,hex:"#FBC02D"},{weight:800,hex:"#F9A825"},{weight:900,hex:"#F57F17"}]},{color:"amber",variations:[{weight:50,hex:"#FFF8E1"},{weight:100,hex:"#FFECB3"},{weight:200,hex:"#FFE082"},{weight:300,hex:"#FFD54F"},{weight:400,hex:"#FFCA28"},{weight:500,hex:"#FFC107"},{weight:600,hex:"#FFB300"},{weight:700,hex:"#FFA000"},{weight:800,hex:"#FF8F00"},{weight:900,hex:"#FF6F00"}]},{color:"orange",variations:[{weight:50,hex:"#FFF3E0"},{weight:100,hex:"#FFE0B2"},{weight:200,hex:"#FFCC80"},{weight:300,hex:"#FFB74D"},{weight:400,hex:"#FFA726"},{weight:500,hex:"#FF9800"},{weight:600,hex:"#FB8C00"},{weight:700,hex:"#F57C00"},{weight:800,hex:"#EF6C00"},{weight:900,hex:"#E65100"}]},{color:"deep-orange",variations:[{weight:50,hex:"#FBE9E7"},{weight:100,hex:"#FFCCBC"},{weight:200,hex:"#FFAB91"},{weight:300,hex:"#FF8A65"},{weight:400,hex:"#FF7043"},{weight:500,hex:"#FF5722"},{weight:600,hex:"#F4511E"},{weight:700,hex:"#E64A19"},{weight:800,hex:"#D84315"},{weight:900,hex:"#BF360C"}]},{color:"brown",variations:[{weight:50,hex:"#EFEBE9"},{weight:100,hex:"#D7CCC8"},{weight:200,hex:"#BCAAA4"},{weight:300,hex:"#A1887F"},{weight:400,hex:"#8D6E63"},{weight:500,hex:"#795548"},{weight:600,hex:"#6D4C41"},{weight:700,hex:"#5D4037"},{weight:800,hex:"#4E342E"},{weight:900,hex:"#3E2723"}]},{color:"grey",variations:[{weight:50,hex:"#FAFAFA"},{weight:100,hex:"#F5F5F5"},{weight:200,hex:"#EEEEEE"},{weight:300,hex:"#E0E0E0"},{weight:400,hex:"#BDBDBD"},{weight:500,hex:"#9E9E9E"},{weight:600,hex:"#757575"},{weight:700,hex:"#616161"},{weight:800,hex:"#424242"},{weight:900,hex:"#212121"}]},{color:"blue-grey",variations:[{weight:50,hex:"#ECEFF1"},{weight:100,hex:"#CFD8DC"},{weight:200,hex:"#B0BEC5"},{weight:300,hex:"#90A4AE"},{weight:400,hex:"#78909C"},{weight:500,hex:"#607D8B"},{weight:600,hex:"#546E7A"},{weight:700,hex:"#455A64"},{weight:800,hex:"#37474F"},{weight:900,hex:"#263238"}]}],ps_selector:".material-color-picker-wrap",events:{"click .color-palette-item":"selectColor","click .selected-color-hex":"updateInputField","focusout .selected-color-hex-input":"focusoutInputField","keyup .selected-color-hex-input":"keyUpInput","click .btn-set":"setColor"},_initialize(e){this.model=e.model,this.$el.html(s.color_picker({materialColors:this.materialColors}))},render:function(){this.$el.openModal({ready:()=>{let e=this.$(".selected-color-hex-input"),t=this.$(".selected-color-hex"),n=this.model.get("appearance").color||"#E0E0E0",i=this.materialColors.find(e=>e.variations.find(e=>e.hex.toLowerCase()==n.toLowerCase()));if(i){let e=i.variations.find(e=>e.hex.toLowerCase()==n.toLowerCase());this.$(".selected-color-name").text(a.getString(`account_color_name_${i.color.replace(/-/g,"_")}`).replace(/-/g," ")+` ${e.weight}`)}else this.$(".selected-color-name").text(a.getString("settings__section_appearance__hint_custom_color"));n&&(this.$(".selected-color-wrap").removeClass("hidden"),e.addClass("hidden"),t.removeClass("hidden").text(n),n&&this.$(".selected-color-item").css("background-color",n))},complete:this.close.bind(this)})},updateInputField:function(){let e=this.$(".selected-color-hex-input"),t=this.$(".selected-color-hex");e.removeClass("hidden"),e[0].value=t.text(),t.addClass("hidden")},keyUpInput:function(e){e.keyCode==i.KEY_ENTER&&(e.preventDefault(),this.focusoutInputField());let t=this.$(".selected-color-hex-input"),n=t[0].value.trim();this.$(".selected-color-item").css("background-color",n);let s=this.materialColors.find(e=>e.variations.find(e=>e.hex.toLowerCase()==n.toLowerCase()));if(s){let e=s.variations.find(e=>e.hex.toLowerCase()==n.toLowerCase());this.$(".selected-color-name").text(a.getString(`account_color_name_${s.color.replace(/-/g,"_")}`).replace(/-/g," ")+` ${e.weight}`)}else this.$(".selected-color-name").text(a.getString("settings__section_appearance__hint_custom_color"))},focusoutInputField:function(){let e=this.$(".selected-color-hex-input"),t=this.$(".selected-color-hex"),n=e[0].value.trim(),i=this.materialColors.find(e=>e.variations.find(e=>e.hex.toLowerCase()==n.toLowerCase()));if(i){let e=i.variations.find(e=>e.hex.toLowerCase()==n.toLowerCase());this.$(".selected-color-name").text(a.getString(`account_color_name_${i.color.replace(/-/g,"_")}`).replace(/-/g," ")+` ${e.weight}`)}else this.$(".selected-color-name").text(a.getString("settings__section_appearance__hint_custom_color"));e.addClass("hidden"),t.removeClass("hidden").text(n),this.$(".selected-color-item").css("background-color",n)},selectColor:function(e){let t=r(e.target),n=t.attr("data-hex"),i=t.closest(".color-palette-wrapper").attr("data-color-name").replace(/-/g,"_"),s=t.attr("data-weight");this.$(".selected-color-wrap").removeClass("hidden"),this.$(".selected-color-item").css("background-color",n),this.$(".selected-color-name").text(a.getString(`account_color_name_${i}`).replace(/-/g," ").replace(/-/g," ")+` ${s}`),this.$(".selected-color-hex").text(n);let o=this.$(".selected-color-hex-input"),d=this.$(".selected-color-hex");o.addClass("hidden"),d.removeClass("hidden")},setColor:function(){this.close();let e=this.model.get("appearance");this.model.save("appearance",c.extend(e,{color:this.$(".selected-color-hex").text()}))},close:function(){this.$el.closeModal({complete:()=>{this.$el.detach(),this.data.set("visible",!1),a.settings_view.updateColor()}})}}),a.SetBackgroundView=a.BasicView.extend({className:"modal main-modal settings-background background-panel",template:s.backgrounds_gallery,ps_selector:".modal-content",ps_settings:{theme:"item-list"},events:{"click .menu-btn":"updateActiveMenu","click .library-wrap .image-item":"setActiveImage",'change input[type="file"]':"onFileInputChanged","keyup input.url":"onInputChanged","click .btn-add":"addBackground","click .btn-cancel":"close"},_initialize:function(){this.$("input.url")[0].onpaste=this.onPaste.bind(this),this.ps_container.on("ps-scroll-y",this.onScrollY.bind(this))},render:function(e){this.model=e.model,this.type=e.type,this.createLibrary(),this.$(".menu-btn").removeClass("active"),this.$(".menu-btn[data-screen-name=\"library\"]").addClass("active"),"repeating-pattern"==this.type?this.$(".modal-header span").text(a.getString("settings__dialog_background__header_pattern")):this.$(".modal-header span").text(a.getString("settings__dialog_background__header_image")),this.$el.openModal({ready:()=>{this.$(".modal-content").css("max-height",t(r(window).height()-341,456)).perfectScrollbar({theme:"item-list"})},complete:this.close.bind(this)});let n=this.$(".upload-wrap");n[0].ondragenter=function(e){e.preventDefault(),n.addClass("file-drop")},n[0].ondragover=function(e){e.preventDefault()},n[0].ondragleave=function(e){r(e.relatedTarget).closest(".upload-wrap").length||(e.preventDefault(),n.removeClass("file-drop"))},n[0].ondrop=e=>{e.preventDefault(),e.stopPropagation(),n.removeClass("file-drop");let t=e.dataTransfer.files||[],a;for(let n=0;n<t.length;n++)if(o.isImageType(t[n].type)){a=t[n];break}a&&this.addFile(a)}},onScrollY:function(){"library"===this.$(".screen-wrap:not(.hidden)").attr("data-screen")&&5>this.getScrollBottom()&&this.loadMoreImages()},getImagesFromXML:function(e){if("repeating-pattern"==this.type&&this.model.patterns_library||"images"==this.type&&this.model.img_library)return void(e&&e());let t={type:"GET",contentType:"application/xml",dataType:"xml",success:t=>{"repeating-pattern"==this.type?this.onGetPatternsCallback(t):this.onGetImagesCallback(t),e&&e()}};t.url="repeating-pattern"==this.type?"./background-patterns.xml":"./background-images.xml",r.ajax(t)},onGetPatternsCallback:function(e){let t=[];r(e).find("image").each((e,a)=>{t.push({thumbnail:r(a).text()})}),this.model.patterns_library=t},onGetImagesCallback:function(e){let t=[];r(e).find("image").each((e,a)=>{let n=r(a),i=n.children("thumbnail").text(),s=n.children("fullscreen-image").text();t.push({thumbnail:i,fs_img:s})}),this.model.img_library=t},onPaste:function(e){let t=e.clipboardData.getData("text").trim();this.$(".image-preview img")[0].onload=()=>{this.$(".image-preview img").removeClass("hidden"),this.updateActiveButton()},this.$(".image-preview img").addClass("hidden")[0].src=t,this.updateActiveButton()},updateActiveMenu:function(e){let t=e.target.getAttribute("data-screen-name");this.$(".menu-btn").removeClass("active"),this.$(`.menu-btn[data-screen-name="${t}"]`).addClass("active"),this.updateScreen(t)},updateScreen:function(e){this.$(".screen-wrap").addClass("hidden"),this.$(`.screen-wrap[data-screen="${e}"]`).removeClass("hidden"),this.scrollToTop(),this.updateActiveButton()},updateActiveButton:function(){let e=this.$(".screen-wrap:not(.hidden)"),t=!0;"library"==e.attr("data-screen")?e.find("div.active").length&&(t=!1):e.find("img:not(.hidden)").length&&(t=!1),this.$(".modal-footer .btn-add").switchClass("non-active",t)},createLibrary:function(){this.getImagesFromXML(()=>{this.loadMoreImages(40)})},loadMoreImages:function(e){e||(e=20);let t=this.$(`.image-item`).length;if(!("repeating-pattern"==this.type&&t>=this.model.patterns_library.length||"images"==this.type&&t>=this.model.img_library.length))for(let a=t;a<t+e;a++){let e=r(`<div class="image-item"/>`),t="repeating-pattern"==this.type?this.model.patterns_library[a]:this.model.img_library[a];if(!t)break;e.css("background-image",`url("${t.thumbnail}")`),e.attr("data-src","repeating-pattern"==this.type?t.thumbnail:t.fs_img),this.$(".library-wrap").append(e)}},setActiveImage:function(e){let t=r(e.target);t.hasClass("active")?t.removeClass("active"):(this.$(".library-wrap>div").removeClass("active"),t.addClass("active")),this.updateActiveButton()},onFileInputChanged:function(e){let t=e.target,a;for(let n=0;n<t.files.length;n++)if(o.isImageType(t.files[n].type)){a=t.files[n];break}a&&this.addFile(a),r(t).val("")},addFile:function(e){let t=new FileReader;t.onload=t=>{let e=new Image,a=t.target.result;e.src=a,this.$(".screen-wrap[data-screen=\"upload\"] img").detach(),this.$(".screen-wrap[data-screen=\"upload\"]").prepend(e),this.updateActiveButton()},t.readAsDataURL(e)},onInputChanged:function(e){if(e.target.value.trim()!=this.$(".image-preview img")[0].src)if(e.target.value.trim()&&e.keyCode!==i.KEY_CTRL&&e.keyCode!==i.KEY_SHIFT&&e.keyCode!==i.KEY_ARROW_UP&&e.keyCode!==i.KEY_ARROW_DOWN&&e.keyCode!==i.KEY_ARROW_RIGHT&&e.keyCode!==i.KEY_ARROW_LEFT){let t=e.target.value.trim();this.$(".image-preview img")[0].onload=()=>{this.$(".image-preview img").removeClass("hidden"),this.updateActiveButton()},this.$(".image-preview img").addClass("hidden")[0].src=t,this.updateActiveButton()}else this.$(".image-preview img").addClass("hidden")[0].src="",this.updateActiveButton()},addBackground:function(){if(this.$(".btn-add").hasClass("non-active"))return;let e=new r.Deferred,t=this.$(".screen-wrap:not(.hidden)"),n;if(e.done(e=>{e?this.model.save("background",{type:this.type,image:e}):this.model.save("background",{type:"default"}),a.body.updateBackground(),this.close()}),"library"==t.attr("data-screen"))n=t.find("div.active").attr("data-src"),e.resolve(n);else if(n=t.find("img:not(.hidden)")[0].src,"web-address"==t.attr("data-screen")){let t={type:"GET",url:n,headers:{"Access-Control-Allow-Origin":"*"},dataType:"blob",success:function(t){n=t,e.resolve(n)},error:()=>{e.resolve(n)}};r.ajax(t)}else e.resolve(n)},close:function(){a.settings_view.updateBackgroundSetting(),this.$el.closeModal({complete:()=>{this.$el.detach(),this.data.set("visible",!1)}})}}),a.AboutView=a.BasicView.extend({className:"settings-panel about-panel",template:s.about,ps_selector:".panel-content",_initialize:function(){this.$(".xabber-info-wrap .version").text(this.model.get("version_number"))},render:function(){}}),a.DragManager=Backbone.Model.extend({initialize:function(){window.document.onmousedown=this.onMouseDown.bind(this),window.document.onmousemove=this.onMouseMove.bind(this),window.document.onmouseup=this.onMouseUp.bind(this)},onMouseDown:function(e){if(1==e.which){let t=e.target.closest(".drag-handle"),a=t&&t.closest(".draggable");return a?void this.set({elem:a,draghandle_elem:t,downX:e.pageX,downY:e.pageY}):this.resetElem()}},onMouseMove:function(t){if(!this.get("elem"))return;let a=this.get("avatar");if(!a){if(3>e(t.pageX-this.get("downX"))&&3>e(t.pageY-this.get("downY")))return;if(a=this.createAvatar(t),!a)return this.resetElem();this.set("avatar",a);let n=this.getCoords(a);this.set({shiftX:this.get("downX")-n.left,shiftY:this.get("downY")-n.top}),this.startDrag(t)}a.style.left=t.pageX-this.get("shiftX")+"px",a.style.top=t.pageY-this.get("shiftY")+"px";let n=this.findDropElem(t);this.updateDropElem(n)},onMouseUp:function(e){let t=document.querySelector(".recording");return t?void r(t).removeClass("recording"):void(this.get("avatar")&&this.finishDrag(e),this.resetElem())},resetElem:function(){this.set({elem:null,draghandle_elem:null,avatar:null})},getCoords:function(e){let t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},createAvatar:function(){let e=this.get("elem"),t=r(e),a=this.get("draghandle_elem"),n={parent:e.parentNode,nextSibling:e.nextSibling,position:e.position||"",left:e.left||"",top:e.top||"",zIndex:e.zIndex||"",avatar_cursor:e.style.cursor||"",draghandle_elem_cursor:a.style.cursor||""};return t.addClass("dragging"),e.style.cursor="-webkit-grabbing",a.style.cursor="-webkit-grabbing",e.rollback=function(){n.parent.insertBefore(e,n.nextSibling),t.removeClass("dragging"),e.style.position=n.position,e.style.left=n.left,e.style.top=n.top,e.style.zIndex=n.zIndex,e.style.cursor=n.avatar_cursor,a.style.cursor=n.draghandle_elem_cursor},e},startDrag:function(){let e=this.get("avatar");window.document.body.appendChild(e),e.style.zIndex=9999,e.style.position="absolute"},finishDrag:function(e){let t=this.get("elem"),a=this.get("avatar"),n=this.findDropElem(e);a.rollback(),this.updateDropElem(null),t&&n&&(r(t).trigger("drag_to",n),r(n).trigger("drag_from",t))},findDropElem:function(e){let t=this.get("avatar");t.hidden=!0;let a=window.document.elementFromPoint(e.clientX,e.clientY);return t.hidden=!1,a?a.closest(".droppable"):null},updateDropElem:function(e){let t=this.get("drop_elem");this.set("drop_elem",e),t&&r(t).removeClass("drag-on"),e&&r(e).addClass("drag-on")}}),c.extend(a,{modal_settings:{open:{in_duration:50,out_duration:100,opacity:.4},close:{out_duration:100}},ps_settings:{minScrollbarLength:40,suppressScrollX:!0,wheelSpeed:.5},startBlinkingFavicon:function(){this._blink_interval||(this._blink_interval=setInterval(()=>{let e=r("link[rel='shortcut icon']"),t;t=-1<e.attr("href").indexOf(this.cache.favicon)||-1<e.attr("href").indexOf(i.FAVICON_DEFAULT)?this.cache.favicon_message||i.FAVICON_MESSAGE:this.cache.favicon||i.FAVICON_DEFAULT,e.attr("href",t)},1e3))},stopBlinkingFavicon:function(){if(this._blink_interval){clearInterval(this._blink_interval),this._blink_interval=null;let e=this.cache.favicon||i.FAVICON_DEFAULT;r("link[rel='shortcut icon']").attr("href",e)}},onChangedAllMessageCounter:function(){this.get("all_msg_counter")?(this.startBlinkingFavicon(),window.document.title=a.getString("notofications__desktop_notification__text",[this.get("all_msg_counter")])):(this.stopBlinkingFavicon(),window.document.title=i.CLIENT_NAME)},setAllMessageCounter:function(){let e=0;return a.accounts.each(t=>{t.chats.each(t=>{t.contact&&!t.contact.get("muted")&&(e+=t.get("unread")+t.get("const_unread"))})}),e},recountAllMessageCounter:function(){this.set("all_msg_counter",this.setAllMessageCounter())},resetMessageCounter:function(){this.set("all_msg_counter",0)},onChangedFocusState:function(){this.get("focused")&&this.resetMessageCounter()},openWindow:function(e){o.openWindow(e,()=>{o.dialogs.error(a.getString("notifications__error__text_could_not_open_new_tab"))})},popupNotification:function(e){let t=new window.Notification(e.title,{body:e.text,icon:e.icon});return setTimeout(t.close.bind(t),5e3),t},playAudio:function(e,t){t=t||!1;let a=i.SOUNDS[e];if(a){let e=new window.Audio(a);return e.loop=t,e.play(),e}},stopAudio:function(e){e&&(e.pause(),e.remove())},registerDOMEvents:function(){let e=this;r(window).on("blur focus",function(t){e.set("focused","focus"===t.type)}),r(window).on("resize",function(){e.set({width:window.innerWidth,height:window.innerHeight}),e.trigger("update_layout",{size_changed:!0})}),window.document.body.ondragover=e=>{e.preventDefault()},window.document.body.ondrop=e=>{e.preventDefault()}}}),a.once("start",function(){this.set("all_msg_counter",0),this.on("change:all_msg_counter",this.onChangedAllMessageCounter,this),this.on("change:focused",this.onChangedFocusState,this),this.set({focused:window.document.hasFocus(),width:window.innerWidth,height:window.innerHeight}),this.registerDOMEvents(),Materialize.modalSettings=this.modal_settings,this.drag_manager=new this.DragManager,this.body=new this.Body({model:this}),this.login_page=this.body.addChild("login",this.NodeView,{classlist:"login-page-wrap",el:r(document).find(".login-container")[0]}),this.toolbar_view=this.body.addChild("toolbar",this.ToolbarView),this.settings.appearance.color&&this.toolbar_view.updateColor(this.settings.appearance.color),this.blur_overlay=this.body.addChild("blur_overlay",this.NodeView,{classlist:"blur-overlay"}),this.main_panel=this.body.addChild("main",this.NodeView,{classlist:"main-wrap"}),this.body.updateBlur(this.settings.appearance.blur),this.left_panel=this.main_panel.addChild("left",this.NodeView,{classlist:"panel-wrap left-panel-wrap"}),this.right_panel=this.main_panel.addChild("right",this.NodeView,{classlist:"panel-wrap right-panel-wrap"}),this.wide_panel=this.main_panel.addChild("wide",this.NodeView,{classlist:"panel-wrap wide-panel-wrap"}),this.placeholders_wrap=this.main_panel.addChild("placeholders",this.NodeView,{classlist:"wide-placeholders-wrap"}),this.settings_view=this.wide_panel.addChild("settings",this.SettingsView,{model:this._settings})},a),a}}),define("xabber-api-service",[],function(){return function(e){let t=e.env,a=t.constants,n=t.templates.api_service,i=t.utils,s=t.$,o=t._;return e.AccountSettings=Backbone.Model.extend({idAttribute:"jid",defaults:{timestamp:0,to_sync:!1,synced:!1,deleted:!1},update_timestamp:function(){this.save("timestamp",i.now())},update_settings:function(e){this.save(o.extend({timestamp:i.now()},e))},request_data:function(){return{jid:this.get("jid"),timestamp:this.get("timestamp"),settings:o.omit(this.attributes,["jid","timestamp","order","to_sync","synced","deleted"])}}}),e.AccountSettingsList=Backbone.CollectionWithStorage.extend({model:e.AccountSettings,create_from_server:function(e){let t=this.create(o.extend({jid:e.jid,timestamp:e.timestamp,to_sync:!0,synced:!0},e.settings));return this.trigger("add_settings",t),t}}),e.AccountsOrderTimestamp=Backbone.ModelWithStorage.extend({defaults:{timestamp:0}}),e.APIAccount=Backbone.ModelWithStorage.extend({defaults:{token:null,sync_all:!0},_initialize:function(t,a){if(this.list=a.settings_list,this.save({connected:!1,sync_request:"silent"}),this.on("change:connected",function(){this.get("connected")?this.fcm_subscribe():this.fcm_unsubscribe()},this),this.on("change:token",function(){null!==this.get("token")&&this.save({sync_all:!0,sync_request:this.list.length?"window":"silent"})},this),this.list.on("change:to_sync",function(e){this.get("sync_all")&&!e.get("to_sync")&&this.save("sync_all",!1)},this),e.on("push_message",function(e){this.get("connected")&&e.username===this.get("username")&&e.from_token!==this.get("token")&&"settings_updated"===e.action&&(this.synchronize_main_settings(),this.synchronize_order_settings()),this.get("connected")&&e.username===this.get("username")&&e.from_token!==this.get("token")&&"account_updated"===e.action&&this.get_settings()},this),this.ready=new s.Deferred,e.url_params.social_auth){let t=e.url_params.social_auth;delete e.url_params.social_auth;try{let e=JSON.parse(atob(t));return this.save("token",null),void this.social_login(e)}catch(t){}}e.url_params.token&&(this.save("token",e.url_params.token),delete e.url_params.token),this.get("token")?this.login_by_token():this.ready.resolve()},_call_method:function(e,t,n,i,o){let d={type:e,url:a.API_SERVICE_URL+t,headers:{Authorization:"Token "+this.get("token")},context:this,contentType:"application/json",dataType:"json",success:e=>{i&&i(e)},error:e=>{this.onAPIError(e,o)}};n&&(d.data=JSON.stringify(n)),s.ajax(d)},add_source:function(t){return o.extend({source:`${a.CLIENT_NAME} ${e.get("version_number")}`},t)},get_settings:function(){null===this.get("token")?this.trigger("settings_result",null):this._call_method("GET","/accounts/current/",null,t=>{"registered"===t.account_status?(this.onUserData(t),this._call_method("GET","/accounts/current/client-settings/",null,this.onSettings.bind(this),this.onSettingsFailed.bind(this))):(i.dialogs.error(e.getString("xabber_account__sync__error_no_permission_to_sync")),this.save({token:null,connected:!1}),this.trigger("settings_result",null))},this.onSettingsFailed.bind(this))},delete_settings:function(e){this.get("connected")?this._call_method("DELETE","/accounts/current/client-settings/",{jid:e},this.onSettings.bind(this),this.onSettingsFailed.bind(this)):this.trigger("settings_result",null)},synchronize_main_settings:function(){if(this.get("connected")){let e=o.map(this.list.where({to_sync:!0}),function(e){return e.request_data()});e.length?this._call_method("PATCH","/accounts/current/client-settings/",{settings_data:e},this.onSettings.bind(this),this.onSettingsFailed.bind(this)):this.get_settings()}else this.trigger("settings_result",null)},synchronize_order_settings:function(){if(this.get("connected")&&this.get("sync_all")){let e=this.list.order_timestamp.get("timestamp"),t=this.list.map(function(e){return{jid:e.get("jid"),order:e.get("order")}});this._call_method("PATCH","/accounts/current/client-settings/",{order_data:{settings:t,timestamp:e}},this.onSettings.bind(this),this.onSettingsFailed.bind(this))}else this.trigger("settings_result",null)},fetch_from_server:function(e){let t=e.deleted,a=e.settings_data,n=e.order_data.timestamp,s=e.order_data.settings,d=this.list,r=this.get("sync_all");if(o.each(t,e=>{let t=d.get(e.jid);t&&t.get("to_sync")&&t.get("timestamp")<=e.timestamp&&t.trigger("delete_account",!0)}),o.each(a,function(e){let t=d.get(e.jid);t&&(t.get("to_sync")?t.save(o.extend({timestamp:e.timestamp,deleted:!1,synced:!0},e.settings)):t.save("synced",e.timestamp>=t.get("timestamp"))),!t&&r&&(t=d.create_from_server(e))}),r){let e={},t=1;o.each(s,function(a){e[a.jid]=a.order,a.order>t&&(t=a.order)}),d.order_timestamp.save("timestamp",n),d.each(a=>{let n=a.get("jid"),i=e[n];i||(t+=1,i=t),a.save("order",i)})}this.trigger("settings_result",e),this.save("last_sync",i.now())},onAPIError:function(t,a){let n=t.status,s=t.responseJSON;403===n&&(this.save({connected:!1,token:null}),"Invalid token"===s.detail&&("not_found"===s.reason||("revoked"===s.reason?o.each(this.list.where({to_sync:!0}),function(e){e.trigger("delete_account",!0)}):"expired"===s.reason&&i.dialogs.common(e.getString("xabber_account__login__dialog_error__header"),e.getString("xabber_account__login__dialog_error__text"),{ok_button:{text:e.getString("yes")},cancel_button:{text:e.getString("dialog_version_update__option_not_now")}}).done(e=>{e&&this.trigger("relogin")})))),a&&a(s,n)},_login:function(e,t,n){let o={type:"POST",url:a.API_SERVICE_URL+"/accounts/login/",contentType:"application/json",dataType:"json",data:JSON.stringify(this.add_source()),success:t,error:e=>{this.onAPIError(e,n)}};if(e.token)o.headers={Authorization:"Token "+e.token};else{let t=e.username,a=e.password;o.headers={Authorization:"Basic "+i.utoa(t+":"+a)}}s.ajax(o)},login:function(e,t){this._login({username:e,password:t},this.onLogin.bind(this),this.onLoginFailed.bind(this))},login_by_token:function(){this._login({token:this.get("token")},this.onLoginByToken.bind(this),this.onLoginByTokenFailed.bind(this))},social_login:function(e){s.ajax({type:"POST",url:a.API_SERVICE_URL+"/accounts/social_auth/",contentType:"application/json",dataType:"json",data:JSON.stringify(this.add_source(e)),success:this.onSocialLogin.bind(this),error:e=>{this.onAPIError(e,this.onSocialLoginFailed.bind(this))}})},revoke_token:function(){let e=this.get("token");null!==e&&this._call_method("delete","/accounts/current/tokens/",{token:e}),this.save({connected:!1,token:null}),this.storage.clear()},onLoginByToken:function(e){this.save({token:e.token,connected:!0,sync_request:"silent"}),this.get_settings(),this.ready.resolve()},onLoginByTokenFailed:function(){this.save("connected",!1),this.ready.resolve()},onLogin:function(e){this.save({token:e.token,connected:!0}),this.get_settings()},onLoginFailed:function(e){this.save("connected",!1),this.trigger("login_failed",e)},onSocialLogin:function(t){this.save({token:t.token,connected:!0}),e.body.setScreen("settings"),this.ready.resolve()},onSocialLoginFailed:function(){this.save("connected",!1),e.body.setScreen("settings"),i.dialogs.error(e.getString("xabber_account__login__error_auth_failed")),this.ready.resolve()},onUserData:function(e){let t,a;t=e.first_name&&e.last_name?e.first_name+" "+e.last_name:e.username,e.xmpp_binding&&(a=e.xmpp_binding.jid),this.save({username:e.full_id,name:t,linked_email_list:e.email_list,linked_social:e.social_bindings,xmpp_binding:a})},onSettings:function(t){let a=this.get("sync_request");this.save("sync_request",void 0),"window"===a?(!e.sync_settings_view&&(e.sync_settings_view=new e.SyncSettingsView({model:this})),this.trigger("open_sync_window",t)):this.fetch_from_server(t)},onSettingsFailed:function(){this.trigger("settings_result",null)},logout:function(){i.dialogs.ask(e.getString("button_quit"),e.getString("logout_summary"),[{name:"delete_accounts",checked:!0,text:e.getString("xabber_account__dialog_logout__option_delete_accounts")}],{ok_button_text:e.getString("button_quit")}).done(t=>{t&&(0<e.accounts.connected.length&&o.each(e.accounts.connected,e=>{e.set("auto_login_xa",!1),e.save("auto_login_xa",!1)}),this.revoke_token(),t.delete_accounts&&o.each(this.list.where({to_sync:!0}),e=>{e.trigger("delete_account",!0)}))})},start:function(){this.get("connected")||this.fcm_unsubscribe(),this.get_settings()},fcm_subscribe:function(){this._call_method("post","/fcm/subscription/",{endpoint_key:e.cache.endpoint_key})},fcm_unsubscribe:function(){s.ajax({type:"DELETE",url:a.API_SERVICE_URL+"/fcm/subscription/",contentType:"application/json",dataType:"json",data:JSON.stringify({endpoint_key:e.cache.endpoint_key})})}}),e.APIAccountAuthView=e.BasicView.extend({_initialize:function(){return this.$username_input=this.$("input[name=username]"),this.$password_input=this.$("input[name=password]"),this.data.on("change:authentication",this.onChangeAuthenticationState,this),this},onRender:function(){this.authFeedback({}),Materialize.updateTextFields(),this.$username_input.val("").focus(),this.$password_input.val(""),this.updateButtons()},keyUp:function(e){e.keyCode===a.KEY_ENTER&&this.submit()},submit:function(){if(this.data.get("authentication"))return void this.cancel();this.data.set("authentication",!0),this.authFeedback({});let t=this.$username_input.val(),a=this.$password_input.val();return t?(t=t.trim(),a?void(a=a.trim(),this.authFeedback({password:e.getString("account_auth__feedback__text_authentication")}),this.model.login(t,a)):this.errorFeedback({password:e.getString("dialog_change_password__error__text_input_pass")})):this.errorFeedback({username:e.getString("account_auth__error__text_input_username")})},cancel:function(){this.data.set("authentication",!1),this.onRender()},authFeedback:function(e){this.$username_input.switchClass("invalid",e.username).siblings("span.errors").text(e.username||""),this.$password_input.switchClass("invalid",e.password).siblings("span.errors").text(e.password||"")},errorFeedback:function(e){this.authFeedback(e),this.data.set("authentication",!1)},updateButtons:function(){let e=this.data.get("authentication");this.$(".btn-log-in").switchClass("disabled",e)},onChangeAuthenticationState:function(){this.updateButtons(),this.data.get("authentication")?(this.model.on("change:connected",this.onChangeConnected,this),this.model.on("login_failed",this.onLoginFailed,this)):(this.model.off("change:connected",this.onChangeConnected,this),this.model.off("login_failed",this.onLoginFailed,this))},onChangeConnected:function(){this.model.get("connected")&&this.successFeedback()},onLoginFailed:function(t){this.errorFeedback({password:t&&t.detail||e.getString("connection__error__text_authentication_failed_short")})},socialAuth:function(t){let n=window.location.href,i=s(t.target).closest(".btn-social").data("provider");"email"==i?(this.closeModal(),e.email_auth_view.show()):window.location.href=a.XABBER_ACCOUNT_URL+"/social/login/"+i+"/?origin="+n+"&source=Xabber Web"}}),e.XabberLoginByEmailPanel=e.APIAccountAuthView.extend({className:"login-panel add-xabber-account-panel",template:n.xabber_login_by_email,events:{"click .btn-cancel":"close","click .btn-log-in":"submit","keyup input[name=password]":"keyUp"},render:function(){this.$el.openModal({opacity:.9,ready:this.onRender.bind(this),complete:this.close.bind(this)})},successFeedback:function(){this.authFeedback({}),this.data.set("authentication",!1),this.close()},onRender:function(){Materialize.updateTextFields(),this.$username_input.val("").focus(),this.$password_input.val("")},close:function(){this.$el.closeModal({complete:this.hide.bind(this)})}}),e.XabberLoginPanel=e.APIAccountAuthView.extend({className:"login-panel",template:n.xabber_login,events:{"click .login-type":"changeLoginType","click .btn-log-in":"submit","click .btn-social":"socialAuth","click .btn-escape":"openXmppLoginPanel","keyup input[name=password]":"keyUp"},render:function(){this.onRender()},successFeedback:function(){this.authFeedback({}),this.data.set("authentication",!1),e.body.setScreen("all-chats")},changeLoginType:function(){e.body.setScreen("login",{login_screen:"xmpp"})},openXmppLoginPanel:function(){e.body.setScreen("login",{login_screen:"xmpp"})}}),e.AddAPIAccountView=e.APIAccountAuthView.extend({className:"login-panel add-xabber-account-panel",template:n.add_xabber_account,events:{"click .account-field .dropdown-content":"selectAccount","click .btn-add":"loginXabberAccount","keyup input[name=password]":"keyUp","click .btn-social":"socialAuth","click .btn-cancel":"closeModal"},render:function(t){if(!e.accounts.connected.length)return void i.dialogs.error(e.getString("dialog_add_contact__error__text_no_accounts"));t||(t={});let a=e.accounts.connected,n=t.jid||"";return this.$("input[name=\"username\"]").val(n).attr("readonly",!!n).removeClass("invalid"),this.$(".single-acc").showIf(1===a.length),this.$(".multiple-acc").hideIf(1===a.length),this.$(".account-field .dropdown-content").empty(),o.each(a,e=>{this.$(".account-field .dropdown-content").append(this.renderAccountItem(e))}),this.bindAccount(a[0]),this.$("span.errors").text(""),this.$el.openModal({opacity:.9,ready:()=>{this.onRender.bind(this),this.$(".account-field .dropdown-button").dropdown({inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"})},complete:this.closeModal.bind(this)}),this},bindAccount:function(e){this.$(".account-field .dropdown-button .account-item-wrap").replaceWith(this.renderAccountItem(e))},renderAccountItem:function(e){let a=s(t.templates.contacts.add_contact_account_item({jid:e.get("jid")}));return a.find(".circle-avatar").setAvatar(e.cached_image,this.avatar_size),a},selectAccount:function(t){let a=s(t.target).closest(".account-item-wrap"),n=e.accounts.get(a.data("jid"));this.bindAccount(n),this.loginXabberAccount(n)},loginXabberAccount:function(e){e.set("auto_login_xa",!0),e.authXabberAccount(),this.closeModal()},successFeedback:function(){this.authFeedback({}),this.data.set("authentication",!1),this.closeModal()},onHide:function(){this.$el.detach()},closeModal:function(){this.$el.closeModal({complete:this.hide.bind(this)})}}),e.SyncSettingsView=e.BasicView.extend({className:"modal main-modal sync-settings-modal noselect",template:n.sync_settings,ps_selector:".modal-content",avatar_size:a.AVATAR_SIZES.SYNCHRONIZE_ACCOUNT_ITEM,events:{"click .btn-sync":"syncSettings","click .btn-cancel":"close","change .sync-all":"changeSyncAll","change .sync-one":"changeSyncOne","click .sync-icon":"changeSyncWay"},_initialize:function(){this.settings=null,this.to_sync_map=null,this.model.on("open_sync_window",this.render,this)},render:function(e){this.settings=e,this.sync_all=this.model.get("sync_all"),this.accounts=[],this.$el.openModal({ready:this.onRender.bind(this),complete:this.close.bind(this)})},onRender:function(){this.$(".accounts-wrap").empty();let e=this.model.list,t={},a={},n={},i={};o.each(this.settings.settings_data,function(e){n[e.jid]=e}),this.settings_map=n,o.each(this.settings.order_data.settings,function(e){i[e.jid]=e.order}),o.each(this.settings.deleted,function(e){a[e.jid]=e.timestamp}),o.each(n,(a,n)=>{e.get(n)||(t[n]=o.extend({jid:n,to_sync:this.sync_all,sync_way:"from_server"},a))}),e.each(e=>{let i=e.get("jid"),s=n[i],d;o.has(a,i)?(d=a[i]>=e.get("timestamp")?"delete":"to_server",t[i]=o.extend({sync_way:d,sync_choose:["delete","to_server"]},o.omit(e.attributes,["order"])),e.save("synced",!1)):s?(d=s.timestamp>e.get("timestamp")?"from_server":s.timestamp<e.get("timestamp")?"to_server":"no",t[i]=o.extend({jid:i,to_sync:e.get("to_sync"),sync_way:d,sync_choose:"no"!==d&&["from_server","to_server"]},s.settings),e.save("synced","no"===d)):(t[i]=o.extend({sync_way:"to_server"},o.omit(e.attributes,["order"])),e.save("synced",!1))});let s=o.max(i)||0;o.each(i,(e,a)=>{t[a].order=e}),e.each(e=>{let a=e.get("jid");t[a].order||(t[a].order=++s)}),this.accounts_map=t,this.accounts=o.map(t,function(e){return e}),this.accounts.sort(function(e,t){return e.order-t.order}),o.each(this.accounts,this.addAccountHtml.bind(this)),this.updateSyncOptions()},addAccountHtml:function(e){let t=e.jid,a=s(n.sync_settings_account_item({jid:t,view:this}));this.$(".accounts-wrap").append(a)},updateAccountHtml:function(t){let n=s(t),i=n.data("jid"),o=this.accounts_map[i];this.sync_all&&(o.to_sync=!0),n.switchClass("sync",o.to_sync),n.find(".sync-one").prop("checked",o.to_sync);let d=o.to_sync?o.sync_way:this.model.list.get(i)?"off_local":"off_remote";let r=a.SYNC_WAY_DATA[d].icon,c=n.find(".sync-icon");c.removeClass(c.attr("data-mdiclass")).attr("data-mdiclass",r).addClass(r),n.find(".sync-tip").text(e.getString(a.SYNC_WAY_DATA[d].tip))},updateSyncOptions:function(){let e=this.model.list,t=this.sync_all,a=this.accounts_map;this.$(".sync-all").prop("checked",t?"checked":""),this.$(".sync-one").prop("disabled",t?"disabled":""),this.$(".account-wrap").each((e,t)=>{this.updateAccountHtml(t)})},changeSyncAll:function(e){let t=s(e.target),a=t.prop("checked");this.sync_all=a,this.$(".sync-one").prop("disabled",a?"disabled":""),a&&(o.each(this.accounts,e=>{e.to_sync=!0}),this.$(".account-wrap").each((e,t)=>{this.updateAccountHtml(t)}))},changeSyncOne:function(e){let t=s(e.target),a=t.prop("checked"),n=t.closest(".account-wrap"),i=n.data("jid");this.accounts_map[i].to_sync=a,this.updateAccountHtml(n)},changeSyncWay:function(e){let t=s(e.target).closest(".account-wrap"),a=t.data("jid"),n=this.accounts_map[a];if(!n.to_sync||!n.sync_choose)return;let i=n.sync_choose,o=i.indexOf(n.sync_way)+1;o===i.length&&(o=0),n.sync_way=i[o],this.updateAccountHtml(t)},syncSettings:function(){let e=this.model.list,t=this.sync_all;this.model.save("sync_all",this.sync_all),o.each(this.accounts,function(a){let n=a.jid,i=e.get(n);if(i){i.save("to_sync",a.to_sync),t&&i.save("order",a.order);let e=a.sync_way;"to_server"===e?i.update_timestamp():("from_server"===e||"delete"===e)&&i.save("timestamp",0)}!i&&a.to_sync&&(i=e.create_from_server(o.omit(a,["sync_way","sync_choose"])))}),this.model.synchronize_main_settings(),this.do_sync=!0,this.close()},onHide:function(){this.$el.detach(),e.body.isScreen("blank")&&e.body.setScreen("all-chats")},close:function(){this.do_sync||this.model.trigger("settings_result",null),this.do_sync=null,this.settings=null,this.settings_map=null,this.closeModal()},closeModal:function(){this.$el.closeModal({complete:this.hide.bind(this)})}}),e.APIAccountView=e.BasicView.extend({className:"setting xabber-account",template:n.xabber_account,avatar_size:a.AVATAR_SIZES.XABBER_ACCOUNT,events:{"click .account-info-wrap":"openAccount","click .btn-login":"login","click .btn-logout":"logout","click .btn-set-password":"setPassword","click .btn-sync-settings":"synchronize","click .social-linked-header":"changeExpanded","click .btn-unlink":"unlinkSocial","click .btn-link":"linkSocial","click .btn-verify-email":"verifyEmail"},_initialize:function(){this.$el.appendTo(this.parent.$(".settings-block-wrap.xabber-account")),this.$tab=this.parent.$(".xabber-account-tab"),this.updateForConnectedStatus(),this.default_color=i.images.getDefaultColor(this.model.get("username")),this.model.on("change:username",this.updateName,this),this.model.on("change:name",this.updateAvatar,this),this.model.on("change:connected",this.updateForConnectedStatus,this),this.model.on("change:last_sync",this.updateLastSyncInfo,this),this.model.on("change:linked_email_list",this.updateSocialBindings,this),this.model.on("change:linked_social",this.updateSocialBindings,this),this.model.on("relogin",this.login,this),this.data.on("change:sync",this.updateSyncButton,this),this.data.on("change:expanded",this.updateExpanded,this),this.data.set("expanded",!1)},render:function(){this.data.set("sync",!1),this.$("span.errors ").html(""),this.updateLastSyncInfo(),this.updateSocialBindings(),this.$(".btn-more").dropdown({inDuration:100,outDuration:100,hover:!1})},changeExpanded:function(){this.data.set("expanded",!this.data.get("expanded"))},updateExpanded:function(){let e=this.data.get("expanded");this.$(".arrow").switchClass("mdi-chevron-down",e),this.$(".arrow").switchClass("mdi-chevron-right",!e),this.$(".social-linked-wrap").showIf(e)},updateSocialBindings:function(){let t=this.model.get("linked_email_list"),a=this.model.get("linked_social");this.$(".email-linked").remove(),this.$(".social-account").each(function(t,a){let n=s(a);n.addClass("not-linked"),n.find(".synced-info").text(e.getString("title_not_linked_account")),n.find(".btn-link").text(e.getString("action_connect")).removeClass("btn-unlink")}),o.each(t,e=>{let t=e.id,a=e.email,i=e.verified,o=s(n.linked_email_item({email_id:t,email:a,verified:i,color:this.default_color}));o.insertBefore(this.$("#email.not-linked"))}),o.each(a,t=>{let a=t.provider,n=t.first_name+" "+t.last_name;this.$("."+a+"-linked").removeClass("not-linked"),this.$("."+a+"-linked .btn-link").text(e.getString("action_disconnect")).addClass("btn-unlink"),this.$("."+a+"-linked .synced-info").html(s(`<div class="name one-line">${n}</div><div class="verified-status one-line">${e.getString("title_linked_account",[a])}</div>`))})},linkSocial:function(t){if(this.model.get("token")&&!s(t.target).hasClass("btn-unlink")){let a=s(t.target).closest(".social-linked-item-wrap"),n=a.attr("id");"email"===n?i.dialogs.ask_enter_value(e.getString("xabber_account__dialog_add_email__header"),null,{input_placeholder_value:e.getString("xabber_account__dialog_add_email__hint_enter_email")},{ok_button_text:e.getString("action_connect")}).done(e=>{e&&this.model._call_method("POST","/accounts/current/email_list/",{email:e},e=>{let t=this.model.get("linked_email_list");t.push(e),this.model.set("linked_email_list",t),this.updateSocialBindings()},e=>{this.$("span.errors ").text(e.email[0])})}):this.openAccount()}},verifyEmail:function(t){let a=s(t.target),n=a.closest(".social-linked-item-wrap"),o=n.data("email");i.dialogs.ask_enter_value(e.getString("title_email_confirm"),null,{input_placeholder_value:e.getString("xabber_account__dialog_confirm_email__hint_enter_code")},{ok_button_text:e.getString("button_confirm"),resend_button_text:e.getString("button_resend_link"),resend_to:o}).done(e=>{e&&(e===o?this.model._call_method("POST","/accounts/current/email_list/",{email:e}):this.model._call_method("POST","/accounts/email_confirmation/",{code:e},e=>{let t=e.email_list;this.model.set("linked_email_list",t),this.updateSocialBindings()},e=>{this.$("span.errors").text(e.code[0])}))})},unlinkSocial:function(t){let a=s(t.target);if(!a.hasClass("btn-verify-email")){let t=a.closest(".social-linked-item-wrap"),n=t.attr("id"),s=t.data("email");if(s){t.data("email");i.dialogs.ask(e.getString("xabber_account__dialog_unlink_email__header"),e.getString("title_delete_email"),null,{ok_button_text:e.getString("action_disconnect")}).done(e=>{e&&this.model._call_method("DELETE","/accounts/current/email_list/"+t.data("id")+"/",null,()=>{let e=this.model.get("linked_email_list"),a=e.indexOf(e.find(e=>e.id===t.data("id")));e.splice(a,1),this.model.set("linked_email_list",e),this.updateSocialBindings()},()=>{this.model.get_settings()})})}else"email"!==n&&i.dialogs.ask(e.getString("xabber_account__dialog_unlink_social__header"),e.getString("title_delete_social",[n]),null,{ok_button_text:e.getString("action_disconnect")}).done(e=>{e&&this.model._call_method("POST","/accounts/current/social_unbind/",{provider:n},()=>{let e=this.model.get("linked_social"),t=e.indexOf(e.find(e=>e.provider===n));e.splice(t,1),this.model.set("linked_social",e),this.updateSocialBindings()},()=>{this.model.get_settings()})})}},updateName:function(){this.$(".account-info-wrap .name").text(this.model.get("username")),this.default_color=i.images.getDefaultColor(this.model.get("username"))},updateAvatar:function(){let e=this.model.get("name"),t=this.model.get("image")||i.images.getDefaultAvatar(e);this.$(".circle-avatar").setAvatar(i.images.getCachedImage(t),this.avatar_size)},updateForConnectedStatus:function(){let e=this.model.get("connected");this.$tab.switchClass("online",e).switchClass("offline",!e),this.$(".linked-social-accounts-and-emails").showIf(e),this.$(".account-info-wrap").showIf(e),this.$(".sync-wrap").showIf(e),e&&(this.updateName(),this.updateAvatar(),this.updateSyncButton(),this.updateLastSyncInfo()),this.$(".btn-login").hideIf(e),this.$(".btn-more").showIf(e)},updateSyncButton:function(){let e=this.data.get("sync");this.$(".btn-sync .button").hideIf(e),this.$(".btn-sync .preloader-wrapper").showIf(e)},updateLastSyncInfo:function(){let a=this.model.get("last_sync");if(a){let n=i.now()-a;this.$(".last-sync-info").text(e.getString("xabber_account__last_sync__text",[t.moment(t.moment.now()-1e3*n).fromNow()]))}else this.$(".last-sync-info").text(e.getString("xabber_account__last_sync__not_synced"))},synchronize:function(){this.data.get("sync")||(this.data.set("sync",!0),this.model.once("settings_result",function(){this.data.set("sync",!1)},this),this.model.save("sync_request","window"),this.model.get_settings())},login:function(){if(e.add_api_account_view&&1<e.accounts.connected.length)e.add_api_account_view.show();else{let t=e.accounts.connected[0];t&&(t.set("auto_login_xa",!0),t.authXabberAccount())}},logout:function(){this.model.logout()},onPasswordResetFailed:function(){i.dialogs.error(e.getString("password_reset_need_email"))},setPassword:function(){let t=this.model.get("linked_email_list");if(t){let n=t.find(e=>!0===e.verified);-1==t.indexOf(n)?this.onPasswordResetFailed():s.ajax({type:"POST",url:a.API_SERVICE_URL+"/accounts/password_reset_request/",contentType:"application/json",dataType:"json",data:JSON.stringify({email:n.email}),success:()=>{i.dialogs.notify(e.getString("button_reset_pass"),e.getString("password_reset_success",[n.email]))},error:this.onPasswordResetFailed.bind(this)})}else this.onPasswordResetFailed()},openAccount:function(){i.openWindow(a.XABBER_ACCOUNT_URL+"/?token="+this.model.get("token"))}}),e.once("start",function(){this.account_settings_list=new this.AccountSettingsList(null,{storage_name:this.getStorageName()+"-account-settings"}),this.account_settings_list.fetch(),this.account_settings_list.order_timestamp=new this.AccountsOrderTimestamp({id:"accounts-order-timestamp"},{storage_name:this.getStorageName(),fetch:"after"}),a.ENABLE_XABBER_ACCOUNT&&(this.api_account=new this.APIAccount({id:"api-account"},{storage_name:this.getStorageName(),fetch:"before",settings_list:this.account_settings_list})),this.xabber_login_panel=e.login_page.addChild("xabber_login",this.XabberLoginPanel,{model:this.api_account}),a.ENABLE_XABBER_ACCOUNT&&(this.settings_view.addChild("api-account",this.APIAccountView,{model:this.api_account}),this.add_api_account_view=new this.AddAPIAccountView({model:this.api_account}),this.email_auth_view=new e.XabberLoginByEmailPanel({parent:this.add_api_account_view,model:this.api_account}))},e),e}}),define("xabber-strophe",[],function(){var e=String.fromCharCode;return function(t){let a=t.env,n=a.uuid,i=a.$iq,s=a.Strophe,o=a.constants;s.log=function(e,t){let a=o.LOG_LEVEL===o.LOG_LEVEL_DEBUG||o.LOG_LEVEL>=o.LOG_LEVEL_WARN&&e>=s.LogLevel.WARN||o.LOG_LEVEL>=o.LOG_LEVEL_ERROR&&e>=s.LogLevel.ERROR;a&&(console.info("Strophe log: "),console.info(t))};let d=function(t){let a="",n=t.length,s,o;for(s=0;s<n;s++)o=t.charCodeAt(s),0<=o&&127>=o?a+=t.charAt(s):2047<o?(a+=e(224|15&o>>12),a+=e(128|63&o>>6),a+=e(128|63&o>>0)):(a+=e(192|31&o>>6),a+=e(128|63&o>>0));return a};return s.SASLXTOKEN=function(){},s.SASLXTOKEN.prototype=new s.SASLMechanism("X-TOKEN",!0,100),s.SASLXTOKEN.prototype.test=function(){return!0},s.SASLXTOKEN.prototype.onChallenge=function(t){let a=e(0)+t.authcid+e(0)+t.pass;return d(a)},s.ConnectionManager=function(e,t){t=t||{},this.connection=new s.Connection(e,t)},s.ConnectionManager.prototype={connect:function(e,t,a,n){this.connection.mechanisms={},this.auth_type=e||"password","password"===this.auth_type?this.connection.registerSASLMechanisms([s.SASLAnonymous,s.SASLExternal,s.SASLMD5,s.SASLPlain,s.SASLSHA1]):"x-token"===this.auth_type?(this.connection.registerSASLMechanism(s.SASLXTOKEN),delete this.connection._sasl_data["server-signature"]):(this.connection.registerSASLMechanisms([s.SASLXOAuth2]),delete this.connection._sasl_data["server-signature"]),this.connection.connect(t,a,n)},reconnect:function(e){"x-token"!==this.auth_type||this.connection.mechanisms["X-TOKEN"]||(this.connection.registerSASLMechanism(s.SASLXTOKEN),delete this.connection._sasl_data["server-signature"]),this.connection.connect(this.connection.jid,this.connection.pass,e)}},_.extend(s.Connection.prototype,{_sasl_auth1_cb:function(e){this.features=e;let t,n;for(t=0;t<e.childNodes.length;t++)n=e.childNodes[t],"bind"===n.nodeName&&(this.do_bind=!0),"session"===n.nodeName&&(this.do_session=!0),"x-token"===n.nodeName&&n.namespaceURI===s.NS.AUTH_TOKENS&&this.options["x-token"]&&(this.x_token_auth=!0),"synchronization"===n.nodeName&&n.namespaceURI===s.NS.SYNCHRONIZATION&&(this.do_synchronization=!0);return this.do_bind?(this.x_token_auth&&(!this.x_token||1e3*parseInt(this.x_token.expire)<a.moment.now())?this.getXToken(e=>{let t=$(e).find("token").text(),a=$(e).find("expire").text(),n=$(e).find("token-uid").text();this.x_token={token:t,expire:a,token_uid:n},this.pass=t,this._send_auth_bind()},()=>{this._send_auth_bind()}):this._send_auth_bind(),!1):(this._changeConnectStatus(s.Status.AUTHFAIL,null),!1)},_send_auth_bind(){this._addSysHandler(this._sasl_bind_cb.bind(this),null,null,null,"_bind_auth_2");let e=s.getResourceFromJid(this.jid);e?this.send(i({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:s.NS.BIND}).c("resource",{}).t(e).tree()):this.send(i({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:s.NS.BIND}).tree())},getXToken:function(e,o){let d=n(),r=i({type:"set",to:this.domain,id:d}).c("issue",{xmlns:s.NS.AUTH_TOKENS}).c("client").t(t.get("client_name")).up().c("device").t(`PC, ${window.navigator.platform}, ${a.utils.getBrowser()}`);handler=function(t){let a=t.getAttribute("type");if("result"==a)e&&e(t);else if("error"==a)o&&o(t);else throw{name:"StropheError",message:"Got bad IQ type of "+a}},this._addSysHandler(handler.bind(this),s.NS.AUTH_TOKENS,"iq","result",d),this.send(r.tree())}}),s.xmlunescape=function(e){let t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":"\"","&apos;":"'"},a="(?:"+_.keys(t).join("|")+")",n=RegExp(a),i=RegExp(a,"g");return e=null==e?"":""+e,n.test(e)?e.replace(i,function(e){return t[e]}):e},s.addNamespace("ATTENTION","urn:xmpp:attention:0"),s.addNamespace("CARBONS","urn:xmpp:carbons:2"),s.addNamespace("FORWARD","urn:xmpp:forward:0"),s.addNamespace("HASH","urn:xmpp:hashes:2"),s.addNamespace("HINTS","urn:xmpp:hints"),s.addNamespace("SCE","urn:xmpp:sce:0"),s.addNamespace("RECEIPTS","urn:xmpp:receipts"),s.addNamespace("JINGLE","urn:xmpp:jingle:1"),s.addNamespace("JINGLE_SECURITY_STUB","urn:xmpp:jingle:security:stub:0"),s.addNamespace("JINGLE_MSG","urn:xmpp:jingle-message:0"),s.addNamespace("JINGLE_RTP","urn:xmpp:jingle:apps:rtp:1"),s.addNamespace("JINGLE_TRANSPORTS_ICE","urn:xmpp:jingle:transports:ice-udp:1"),s.addNamespace("ADDRESS","http://jabber.org/protocol/address"),s.addNamespace("CHATSTATES","http://jabber.org/protocol/chatstates"),s.addNamespace("EXTENDED_CHATSTATES","https://xabber.com/protocol/extended-chatstates"),s.addNamespace("HTTP_AUTH","http://jabber.org/protocol/http-auth"),s.addNamespace("AUTH_TOKENS","https://xabber.com/protocol/auth-tokens"),s.addNamespace("SYNCHRONIZATION","https://xabber.com/protocol/synchronization"),s.addNamespace("DELIVERY","https://xabber.com/protocol/delivery"),s.addNamespace("ARCHIVE","https://xabber.com/protocol/archive"),s.addNamespace("MAM","urn:xmpp:mam:2"),s.addNamespace("RSM","http://jabber.org/protocol/rsm"),s.addNamespace("DATAFORM","jabber:x:data"),s.addNamespace("CHAT_MARKERS","urn:xmpp:chat-markers:0"),s.addNamespace("VCARD_UPDATE","vcard-temp:x:update"),s.addNamespace("HTTP_UPLOAD","urn:xmpp:http:upload"),s.addNamespace("BLOCKING","urn:xmpp:blocking"),s.addNamespace("SEARCH","jabber:iq:search"),s.addNamespace("PRIVATE_STORAGE","jabber:iq:private"),s.addNamespace("MEDIA","urn:xmpp:media-element"),s.addNamespace("LAST","jabber:iq:last"),s.addNamespace("GROUP_CHAT","https://xabber.com/protocol/groups"),s.addNamespace("WEBCHAT","https://xabber.com/protocol/webchat"),s.addNamespace("INDEX","https://xabber.com/protocol/index"),s.addNamespace("PUBSUB","http://jabber.org/protocol/pubsub"),s.addNamespace("PUBSUB_AVATAR_DATA","urn:xmpp:avatar:data"),s.addNamespace("PUBSUB_AVATAR_METADATA","urn:xmpp:avatar:metadata"),s.addNamespace("REWRITE","https://xabber.com/protocol/rewrite"),s.addNamespace("REFERENCE","https://xabber.com/protocol/references"),s.addNamespace("MARKUP","https://xabber.com/protocol/markup"),s.addNamespace("VOICE_MESSAGE","https://xabber.com/protocol/voice-messages"),s.addNamespace("FILES","https://xabber.com/protocol/files"),t}}),define("xabber-vcard",[],function(){return function(e){let t=e.env,a=t.constants,n=t.templates.vcard,i=t.$,s=t._,o=t.moment,d=t.Strophe,r=t.$iq,c=t.$build,l=t.utils,p=function(e){let t={nickname:e.find("NICKNAME").text().trim(),fullname:e.find("FN").text().trim(),first_name:e.find("N GIVEN").text().trim(),middle_name:e.find("N MIDDLE").text().trim(),last_name:e.find("N FAMILY").text().trim(),birthday:e.find("BDAY").text().trim(),job_title:e.find("TITLE").text().trim(),role:e.find("ROLE").text().trim(),url:e.find("URL").text().trim(),description:e.find("DESC").text().trim(),jabber_id:e.find("JABBERID").text().trim(),org:{},photo:{},phone:{},address:{},email:{}};(e.find("X-PRIVACY").length||e.find("X-MEMBERSHIP").length||e.find("X-INDEX").length)&&(t.group_info={jid:t.jabber_id,description:t.description,name:t.nickname,anonymous:e.find("X-PRIVACY").text().trim(),searchable:e.find("X-INDEX").text().trim(),model:e.find("X-MEMBERSHIP").text().trim(),status_msg:e.find("X-STATUS").text().trim(),members_num:e.find("X-MEMBERS").text().trim()});let a=e.find("ORG");a.length&&(t.org.name=a.find("ORGNAME").text().trim(),t.org.unit=a.find("ORGUNIT").text().trim());let n=e.find("PHOTO");return n.length&&(t.photo.image=n.find("BINVAL").text().trim(),t.photo.type=n.find("TYPE").text().trim()),e.find("TEL").each(function(){let e=i(this),a=e.find("NUMBER").text().trim();a&&(e.find("WORK").length?t.phone.work=a:e.find("HOME").length?t.phone.home=a:e.find("MOBILE").length?t.phone.mobile=a:t.phone.default=a)}),e.find("EMAIL").each(function(){let e=i(this),a=e.find("USERID").text().trim();a&&(e.find("WORK").length?t.email.work=a:e.find("HOME").length?t.email.home=a:t.email.default=a)}),e.find("ADR").each(function(){let e=i(this),a={pobox:e.find("POBOX").text().trim(),extadd:e.find("EXTADR").text().trim(),street:e.find("STREET").text().trim(),locality:e.find("LOCALITY").text().trim(),region:e.find("REGION").text().trim(),pcode:e.find("PCODE").text().trim(),country:e.find("CTRY").text().trim()};e.find("WORK").length?t.address.work=a:e.find("HOME").length?t.address.home=a:t.address.default=a}),t},u=function(e){let t=c("vCard",{xmlns:d.NS.VCARD});return e.nickname&&t.c("NICKNAME").t(e.nickname).up(),e.fullname&&t.c("FN").t(e.fullname).up(),(e.first_name||e.last_name||e.middle_name)&&(t.c("N"),e.first_name&&t.c("GIVEN").t(e.first_name).up(),e.last_name&&t.c("FAMILY").t(e.last_name).up(),e.middle_name&&t.c("MIDDLE").t(e.middle_name).up(),t.up()),e.birthday&&t.c("BDAY").t(e.birthday).up(),e.job_title&&t.c("TITLE").t(e.job_title).up(),e.role&&t.c("ROLE").t(e.role).up(),(e.org.name||e.org.unit)&&(t.c("ORG"),e.org.name&&t.c("ORGNAME").t(e.org.name).up(),e.org.unit&&t.c("ORGUNIT").t(e.org.unit).up(),t.up()),e.url&&t.c("URL").t(e.url).up(),e.photo.image&&(t.c("PHOTO").c("BINVAL").t(e.photo.image).up(),t.c("TYPE").t(e.photo.type||"image/jpeg").up(),t.up()),e.description&&t.c("DESC").t(e.description).up(),e.jabber_id&&t.c("JABBERID").t(e.jabber_id).up(),s.each(e.phone,function(e,a){t.c("TEL").c("NUMBER").t(e).up(),"default"!==a&&t.c(a.toUpperCase()).up(),t.up()}),s.each(e.email,function(e,a){t.c("EMAIL").c("USERID").t(e).up(),"default"!==a&&t.c(a.toUpperCase()).up(),t.up()}),s.each(e.address,function(e,a){t.c("ADR"),"default"!==a&&t.c(a.toUpperCase()).up(),e.pobox&&t.c("POBOX").t(e.pobox).up(),e.extadd&&t.c("EXTADR").t(e.extadd).up(),e.street&&t.c("STREET").t(e.street).up(),e.locality&&t.c("LOCALITY").t(e.locality).up(),e.region&&t.c("REGION").t(e.region).up(),e.pcode&&t.c("PCODE").t(e.pcode).up(),e.country&&t.c("CTRY").t(e.country).up(),t.up()}),t.tree()};return d.addConnectionPlugin("vcard",{_connection:null,init:function(e){return this._connection=e,d.addNamespace("VCARD","vcard-temp")},get:function(e,t,a){let n=r({type:"get",to:e}).c("vCard",{xmlns:d.NS.VCARD});this._connection.sendIQ(n,function(a){if(t){let n=p(i(a).find("vCard[xmlns="+d.NS.VCARD+"]"));return n.jabber_id||(n.jabber_id=e),t(n)}},a)},set:function(e,t,a,n){t.jabber_id||(t.jabber_id=e);let i=r({type:"set",to:e}).cnode(u(t));this._connection.sendIQ(i,a,n)}}),l.vcard={getBlank:function(e){let t=p(i("<div/>"));return t.jabber_id=e,t}},e.VCardView=e.BasicView.extend({template:n.vcard,_initialize:function(){this.$el.html(this.template()),this.model.on("change:vcard_updated",this.update,this),this.data.on("change:refresh",this.updateRefreshButton,this)},render:function(){this.$(".block-header .block-name").text(this.model.get("group_chat")?"Group chat details":e.getString("vcard_screen__header")),this.data.set("refresh",!1),this.update()},update:function(){let e=this.model.get("vcard"),t;t=this.$(".jid-info-wrap"),t.find(".jabber-id").showIf(e.jabber_id).find(".value").text(e.jabber_id),t.showIf(e.jabber_id),t=this.$(".personal-info-wrap"),t.find(".fullname").showIf(e.fullname).find(".value").text(e.fullname),t.find(".first-name").showIf(e.first_name).find(".value").text(e.first_name),t.find(".middle-name").showIf(e.middle_name).find(".value").text(e.middle_name),t.find(".last-name").showIf(e.last_name).find(".value").text(e.last_name),t.showIf(e.fullname||e.first_name||e.middle_name||e.last_name),t=this.$(".nickname-info-wrap"),t.find(".nickname").showIf(e.nickname).find(".value").text(e.nickname),t.showIf(e.nickname),t=this.$(".birthday-info-wrap"),t.find(".birthday").showIf(e.birthday).find(".value").text(e.birthday),t.showIf(e.birthday),t=this.$(".job-info-wrap"),t.find(".role").showIf(e.role).find(".value").text(e.role),t.find(".job-title").showIf(e.job_title).find(".value").text(e.job_title),t.find(".org-name").showIf(e.org.name).find(".value").text(e.org.name),t.find(".org-unit").showIf(e.org.unit).find(".value").text(e.org.unit),t.showIf(e.role||e.job_title||e.org.name||e.org.unit),t=this.$(".site-info-wrap"),t.find(".url").showIf(e.url).find(".value").text(e.url).hyperlinkify(),t.showIf(e.url),t=this.$(".description-info-wrap"),t.find(".description").showIf(e.description).find(".value").text(e.description),t.showIf(e.description);let a=this.$(".address-info-wrap"),n=s.clone(e.address),i=!1;a.find(".info").addClass("hidden"),s.each(n,function(e,n){t=a.find(".address-"+n),t.find(".pobox").showIf(e.pobox).text(e.pobox),t.find(".extadd").showIf(e.extadd).text(e.extadd),t.find(".street").showIf(e.street).text(e.street),t.find(".locality").showIf(e.locality).text(e.locality),t.find(".region").showIf(e.region).text(e.region),t.find(".pcode").showIf(e.pcode).text(e.pcode),t.find(".country").showIf(e.country).text(e.country);let s=e.pobox||e.extadd||e.street||e.locality||e.region||e.pcode||e.country;s&&(i=!0),t.showIf(s)}),a.showIf(i),t=this.$(".phone-info-wrap");let o=e.phone;o&&(t.find(".phone-work").showIf(o.work).find(".value").text(o.work),t.find(".phone-home").showIf(o.home).find(".value").text(o.home),t.find(".phone-mobile").showIf(o.mobile).find(".value").text(o.mobile),t.find(".phone-default").showIf(o.default).find(".value").text(o.default)),t.showIf(o&&(o.work||o.home||o.mobile||o.default)),t=this.$(".email-info-wrap");let d=e.email;d&&(t.find(".email-work").showIf(d.work).find(".value").text(d.work),t.find(".email-home").showIf(d.home).find(".value").text(d.home),t.find(".email-default").showIf(d.default).find(".value").text(d.default)),t.showIf(d&&(d.work||d.home||d.default)),this.parent.updateScrollBar()},onClickIcon:function(t){let a=i(t.target).closest(".info-wrap"),n=a.find(".value"),s="";n.each((t,a)=>{let n=i(a),o=n.text();o&&""!=s&&(s+="\n"),o&&(s+=o),s&&l.copyTextToClipboard(s,e.getString("toast__copied_in_clipboard"),e.getString("toast__not_copied_in_clipboard"))})},updateRefreshButton:function(){this.$(".btn-vcard-refresh .button").hideIf(this.data.get("refresh")),this.$(".btn-vcard-refresh .preloader-wrapper").showIf(this.data.get("refresh"))},refresh:function(){this.data.get("refresh")||(this.data.set("refresh",!0),this.model.getVCard(()=>{this.data.set("refresh",!1)}))}}),e.VCardEditView=e.BasicView.extend({className:"account-vcard-edit-wrap",template:n.vcard_edit,ps_selector:".panel-content",events:{"input .first-name input":"changePlaceholder","input .middle-name input":"changePlaceholder","input .last-name input":"changePlaceholder","click .btn-vcard-save":"save","click .btn-vcard-back":"back"},_initialize:function(){let e=this.$(".datepicker").pickadate({selectMonths:!0,selectYears:100,autoOk:!1,min:new Date(o.now()-31536e8),max:new Date(o.now()-864e5),format:"dd.mm.yyyy",allowKeyboardControl:!1,today:"",onClose:function(){i(document.activeElement).blur()},klass:{weekday_display:"picker__weekday-display ground-color-700",date_display:"picker__date-display ground-color-500",navPrev:"picker__nav--prev hover-ground-color-100",navNext:"picker__nav--next hover-ground-color-100",selected:"picker__day--selected ground-color-500",now:"picker__day--today text-color-700",buttonClear:"btn-flat btn-main btn-dark",buttonClose:"btn-flat btn-main text-color-700"}});e.on("mousedown",function(e){e.preventDefault()}),this.data.on("change:saving",this.updateSaveButton,this)},render:function(){this.data.set("saving",!1),this.setData(),Materialize.updateTextFields(),this.changePlaceholder(),this.updateScrollBar()},changePlaceholder:function(){let e=((this.$(".first-name input").val()+" "+this.$(".middle-name input").val()).trim()+" "+this.$(".last-name input").val()).trim()||this.model.get("jid");this.$(".nickname input").attr("placeholder",e)},setData:function(){let e=this.model.get("vcard");this.$(".nickname input").val(e.nickname),this.$(".fullname input").val(e.fullname),this.$(".first-name input").val(e.first_name),this.$(".last-name input").val(e.last_name),this.$(".middle-name input").val(e.middle_name),this.$(".birthday input").val(e.birthday),this.$(".role input").val(e.role),this.$(".job-title input").val(e.job_title),this.$(".org-name input").val(e.org.name),this.$(".org-unit input").val(e.org.unit),this.$(".url input").val(e.url),this.$(".description textarea").val(e.description),this.$(".phone-work input").val(e.phone.work),this.$(".phone-home input").val(e.phone.home),this.$(".phone-mobile input").val(e.phone.mobile),this.$(".email-work input").val(e.email.work),this.$(".email-home input").val(e.email.home);let t=e.address.work||{},a=this.$(".address-work-wrap");a.find(".pobox input").val(t.pobox),a.find(".extadd input").val(t.extadd),a.find(".street input").val(t.street),a.find(".locality input").val(t.locality),a.find(".region input").val(t.region),a.find(".pcode input").val(t.pcode),a.find(".country input").val(t.country),t=e.address.home||{},a=this.$(".address-home-wrap"),a.find(".pobox input").val(t.pobox),a.find(".extadd input").val(t.extadd),a.find(".street input").val(t.street),a.find(".locality input").val(t.locality),a.find(".region input").val(t.region),a.find(".pcode input").val(t.pcode),a.find(".country input").val(t.country)},getData:function(){let e=l.vcard.getBlank(this.model.get("jid"));e.nickname=this.$(".nickname input").val(),e.fullname=this.$(".fullname input").val(),e.first_name=this.$(".first-name input").val(),e.last_name=this.$(".last-name input").val(),e.middle_name=this.$(".middle-name input").val(),e.birthday=this.$(".birthday input").val(),e.role=this.$(".role input").val(),e.job_title=this.$(".job-title input").val(),e.org.name=this.$(".org-name input").val(),e.org.unit=this.$(".org-unit input").val(),e.url=this.$(".url input").val(),e.description=this.$(".description textarea").val(),e.phone.work=this.$(".phone-work input").val(),e.phone.home=this.$(".phone-home input").val(),e.phone.mobile=this.$(".phone-mobile input").val(),e.email.work=this.$(".email-work input").val(),e.email.home=this.$(".email-home input").val(),e.address.work={};let t=e.address.work,a=this.$(".address-work-wrap");return t.pobox=a.find(".pobox input").val(),t.extadd=a.find(".extadd input").val(),t.street=a.find(".street input").val(),t.locality=a.find(".locality input").val(),t.region=a.find(".region input").val(),t.pcode=a.find(".pcode input").val(),t.country=a.find(".country input").val(),e.address.home={},t=e.address.home,a=this.$(".address-home-wrap"),t.pobox=a.find(".pobox input").val(),t.extadd=a.find(".extadd input").val(),t.street=a.find(".street input").val(),t.locality=a.find(".locality input").val(),t.region=a.find(".region input").val(),t.pcode=a.find(".pcode input").val(),t.country=a.find(".country input").val(),e},updateSaveButton:function(){this.$(".btn-vcard-save").text(this.data.get("saving")?e.getString("saving"):e.getString("vcard_edit__button_save"))},save:function(){this.data.get("saving")||(this.data.set("saving",!0),this.model.setVCard(this.getData(),()=>{this.model.getVCard(),this.data.set("saving",!1)},function(){l.dialogs.error(e.getString("account_user_info_save_fail")),this.data.set("saving",!1)}))},back:function(){this.model.showSettings(null,"vcard")}}),e}}),define("xabber-accounts",[],function(){return function(e){let t=e.env,a=t.constants,n=t.templates.accounts,i=t.utils,s=t.$,o=t.$iq,d=t.$pres,r=t.Strophe,c=t._,l=t.moment,p=i.images,u=t=>i.pretty_datetime(t,("ru-RU"==e.settings.language||"default"==e.settings.language&&"ru-RU"==e.get("default_language"))&&"D MMMM YYYY HH:mm:ss");return e.Account=Backbone.Model.extend({idAttribute:"jid",defaults:{enabled:!0,auth_type:"password",status:"online",status_message:"",priority:67,auto_login_xa:!0,groupchat_servers_list:[]},initialize:function(t,n){if(this.retraction_version=null,n||(n={}),t.is_new&&!n.auth_view)return this.is_invalid=!0,void this.on("destroy",this.onDestroy,this);this.last_msg_timestamp=0,this.settings=e.account_settings_list.get(t.jid),this.settings||(this.settings=e.account_settings_list.create({jid:t.jid,timestamp:i.now(),auto_login_xa:this.get("auto_login_xa"),to_sync:e.api_account&&e.api_account.get("sync_all")}));let o=c.clone(this.settings.attributes);o.color||(o.color=this.collection.getDefaultColor()),o.order||(o.order=this.collection.getLastOrder()+1),this.settings.save(o),this.settings.on("delete_account",this.deleteAccount,this);let d=c.clone(t);d.name||(d.name=d.jid),d.image||(d.image=p.getDefaultAvatar(d.name)),this.cached_image=p.getCachedImage(d.image),d.vcard=i.vcard.getBlank(d.jid),d.photo_hash="",this.save(d),this.auth_view=n.auth_view||null,this.session=new Backbone.Model({connected:!1,reconnected:!1,conn_retries:0,conn_feedback:e.getString("connection__error__text_disconnected")}),this._waiting_code=!1,this.code_requests=[],this.xabber_auth={},this.session.on("change:connected",this.onChangedConnected,this),this.CONNECTION_URL=t.websocket_connection_url||a.CONNECTION_URL,this.conn_manager=new r.ConnectionManager(this.CONNECTION_URL,{"x-token":!0}),this.connection=this.conn_manager.connection,this.get("x_token")&&(this.connection.x_token=this.get("x_token")),this.on("destroy",this.onDestroy,this),this._added_pres_handlers=[],this._pending_stanzas=[],this._pending_messages=[],this.dfd_presence=new s.Deferred,this.resources=new e.AccountResources(null,{account:this}),this.password_view=new e.ChangePasswordView({model:this}),this.vcard_edit=new e.VCardEditView({model:this}),this.updateColorScheme(),this.settings.on("change:color",this.updateColorScheme,this),this.on("change:photo_hash",this.getVCard,this),c.each(this._init_plugins,e=>{e.call(this)}),this.connection.xmlInput=function(t){e.info("input"),e.info(t)},this.connection.xmlOutput=function(t){e.info("output"),e.info(t)},this.once("start",this.start,this),e.api_account?e.api_account.on("settings_result",function(e){e&&this.settings.get("token")&&this.save({auth_type:"token"}),this.trigger("start")},this):e.on("bind_xmpp_accounts",()=>{this.settings.get("token")&&this.save({auth_type:"token"}),this.trigger("start")},this)},start:function(){this.get("enabled")&&this.isOnline()&&this.connect()},_init_plugins:[],getPassword:function(){try{return i.atou(this.get("password"))}catch(t){return""}},isConnected:function(){return this.session&&this.session.get("connected")},isOnline:function(){return"offline"!==this.get("status")},sendMsg:function(e,t){let a=this.connection.authenticated&&"offline"!==this.get("status");return a?(this.connection.send(e),t&&t()):this._pending_stanzas.push({stanza:e,callback:t}),a},sendMsgFast:function(e,t){let a=this.fast_connection&&this.fast_connection.authenticated&&this.fast_connection.connected&&"offline"!==this.get("status");return a?(this.fast_connection.send(e),t&&t(),a):this.sendMsg(e,t)},sendIQFast:function(){let e=this.fast_connection&&this.fast_connection.authenticated&&this.fast_connection.connected&&"offline"!==this.get("status");return e?(this.fast_connection.sendIQ.apply(this.fast_connection,arguments),e):this.sendIQ.apply(this,arguments)},sendFast:function(e,t,a){s(e.nodeTree).first().is("message")?this.sendMsgFast(e,t):this.sendIQFast(e,t,a)},pubAvatar:function(e,t,a){if(!e)return void this.removeAvatar(t,a);let n=e.hash||sha1(e.base64),i=o({from:this.get("jid"),type:"set"}).c("pubsub",{xmlns:r.NS.PUBSUB}).c("publish",{node:r.NS.PUBSUB_AVATAR_DATA}).c("item",{id:n}).c("data",{xmlns:r.NS.PUBSUB_AVATAR_DATA}).t(e.base64),s=o({from:this.get("jid"),type:"set"}).c("pubsub",{xmlns:r.NS.PUBSUB}).c("publish",{node:r.NS.PUBSUB_AVATAR_METADATA}).c("item",{id:n}).c("metadata",{xmlns:r.NS.PUBSUB_AVATAR_METADATA}).c("info",{bytes:e.size,id:n,type:e.type});this.sendIQinBackground(i,()=>{this.sendIQinBackground(s,()=>{t&&t(n)},function(e){a&&a(e)})},e=>{a&&a(e)})},removeAvatar:function(e,t){let a=o({from:this.get("jid"),type:"set"}).c("pubsub",{xmlns:r.NS.PUBSUB}).c("publish",{node:r.NS.PUBSUB_AVATAR_METADATA}).c("item").c("metadata",{xmlns:r.NS.PUBSUB_AVATAR_METADATA});this.sendIQinBackground(a,()=>{e&&e()},function(){t&&t()})},getAvatar:function(t,a,n){let i=o({from:this.get("jid"),type:"get",to:this.get("jid")}).c("pubsub",{xmlns:r.NS.PUBSUB}).c("items",{node:r.NS.PUBSUB_AVATAR_DATA}).c("item",{id:t});this.sendIQinBackground(i,t=>{let i=s(t).find("data").text();""==i?n&&n(e.getString("pubsub__error__text_empty_node")):a&&a(i)})},sendIQ:function(){let t=this.connection.authenticated&&"offline"!==this.get("status");if(t){let t=arguments[0];if("function"==typeof t.tree&&"get"==t.tree().getAttribute("type")){let a=e.settings.language;"default"==a&&(a=e.get("default_language")),t.tree().setAttribute("xml:lang",a)}this.connection.sendIQ.apply(this.connection,arguments)}else this._pending_stanzas.push({stanza:arguments});return t},sendIQinBackground:function(){let e=this.background_connection&&this.background_connection.authenticated&&this.background_connection.connected&&"offline"!==this.get("status");return e?(this.background_connection.sendIQ.apply(this.background_connection,arguments),e):this.sendIQ.apply(this,arguments)},parseDataForm:function(e,t){t=t||{};let a=e.attr("type"),n=e.children("title").text(),i=e.children("instructions").text(),o=[],d={};return e.children("field").each((e,t)=>{let a=s(t),n={},i=a.attr("var"),d=a.attr("type"),r=a.attr("label"),c=[],l=[];a.children("value").each((e,t)=>{c.push(s(t).text())}),a.children("option").each((e,t)=>{let a=s(t),n=a.children("value").text(),i=a.attr("label");l.push({value:n,label:i})}),i&&(n.var=i),d&&(n.type=d),r&&(n.label=r),c.length&&(n.values=c),l.length&&(n.options=l),o.push(n)}),a&&(d.type=a),n&&(d.title=n),i&&(d.instructions=i),o.length&&(d.fields=o),d},addDataFormToStanza:function(e,t){return e.c("x",{xmlns:r.NS.DATAFORM,type:"submit"}),t.title&&e.c("title").t(t.title).up(),t.instructions&&e.c("instructions").t(t.instructions).up(),t.fields.forEach(t=>{let a=c.clone(t);delete a.values,delete a.options,e.c("field",a),t.values&&t.values.forEach(t=>{e.c("value").t(t).up()}),e.up()}),e},sendPres:function(e){return this.connection.authenticated?this.connection.send(e):this._pending_stanzas.push({stanza:e}),this.connection.authenticated},verifyXabberAccount:function(e,t){let n={type:"POST",url:a.API_SERVICE_URL+"/accounts/xmpp_auth/",contentType:"application/json",dataType:"json",data:JSON.stringify({code:e,jid:this.connection.jid}),success:function(e){t&&t(e.token)}};s.ajax(n)},createBackgroundConnection:function(e){let t=this.get("jid"),a=this.getPassword();a&&(e=e||"password",this.background_conn_manager?this.background_connection.disconnect():(this.background_conn_manager=new r.ConnectionManager(this.CONNECTION_URL),this.background_connection=this.background_conn_manager.connection),this.background_conn_manager.connect(e,t,a,this.onBackgroundConnected.bind(this)))},createFastConnection:function(e){let t=this.get("jid"),a=this.getPassword();a&&(e=e||"password",this.fast_conn_manager?this.fast_connection.disconnect():(this.fast_conn_manager=new r.ConnectionManager(this.CONNECTION_URL),this.fast_connection=this.fast_conn_manager.connection),this.fast_conn_manager.connect(e,t,a,this.onFastConnected.bind(this)))},connect:function(t){t=t||{};let a=this.get("jid"),n=this.get("auth_type"),i;if(a+="/xabber-web-"+e.get("client_id"),this.connection.x_token=this.get("x_token"),i="token"===n?this.settings.get("token"):"x-token"===n?this.get("x_token")&&(1e3*+this.get("x_token").expire>l.now()||!this.get("x_token").expire)?this.get("x_token").token:void 0:this.getPassword(),!i){let e={login:!0};return t.token_invalidated&&(e.token_invalidated=!0),void this.password_view.show(e)}this.createBackgroundConnection(),this.createFastConnection(),this.session.set({connected:!1,reconnected:!1,reconnecting:!1,conn_retries:0,conn_feedback:e.getString("application_state_connecting"),auth_failed:!1}),this.restoreStatus(),this.conn_manager.connect(n,a,i,this.connectionCallback.bind(this))},reconnect:function(){let t=this.session.get("conn_retries"),n=3>t?a.RECONNECTION_TIMEOUTS[t]:2e4;this.connection.reset(),this.session.set({connected:!1,reconnected:!1,reconnecting:!0,conn_retries:++t,conn_feedback:e.getString("application_state_reconnect_after_some_seconds",[n/1e3]),auth_failed:!1}),setTimeout(()=>{this.connFeedback(e.getString("application_state_connecting")),this.restoreStatus(),this.createBackgroundConnection(),this.createFastConnection(),this.conn_manager.reconnect(this.reconnectionCallback.bind(this))},n)},connectionCallback:function(t,n){if(this.session.get("reconnecting"))return void e.info("ignore connection callback for status: "+a.CONN_STATUSES[t]);if(this.auth_view&&this.loginCallback(t,n),this.session.set({conn_status:t,conn_condition:n}),t!==r.Status.ERROR||"conflict"!==n||this.session.get("delete")||("x-token"===this.get("auth_type")?this.onTokenRevoked():this.onAuthFailed()),t===r.Status.CONNECTED)this.session.set("on_token_revoked",!1),this.connection.x_token&&(this.save({auth_type:"x-token",x_token:this.connection.x_token}),this.conn_manager.auth_type="x-token"),this.session.set({connected:!0,reconnected:!1}),e.api_account&&!e.api_account.get("connected")&&this.get("auto_login_xa")&&!e.api_account.get("token")&&a.ENABLE_XABBER_ACCOUNT&&this.connectXabberAccount();else if(t===r.Status.AUTHFAIL)"x-token"===this.get("auth_type")||this.connection.x_token?this.onTokenRevoked():this.onAuthFailed();else if(t===r.Status.DISCONNECTED){if(this.session.get("on_token_revoked"))return;this.connection.flush(),this.session.set({connected:!1})}},connectXabberAccount:function(){let e=o({type:"get"}).c("query",{xmlns:r.NS.PRIVATE_STORAGE}).c("storage",{xmlns:"xabber:options"});this.sendIQ(e,e=>{"bind"==s(e).find("option").attr("type")&&1==s(e).find("option").text()&&this.authXabberAccount()})},authXabberAccount:function(t){this.requestPassword(a=>{if(this.xabber_auth={api_jid:a.api_jid,request_id:a.request_id},0<this.code_requests.length){let a=this.code_requests.find(e=>e.jid===this.xabber_auth.api_jid&&e.id===this.xabber_auth.request_id);if(a){let n=this.code_requests.indexOf(a);-1<n&&this.code_requests.splice(n,1),this.verifyXabberAccount(a.code,a=>{this._waiting_code=!1;let n=o({type:"set"}).c("query",{xmlns:r.NS.PRIVATE_STORAGE}).c("storage",{xmlns:"xabber:options"}).c("option",{type:"bind"}).t(1);e.api_account&&(e.api_account.save("token",a),e.api_account.login_by_token()),this.sendIQ(n),t&&t()})}if(this.code_requests.length){({from_jid:this.code_requests[0].jid,message:e.getString("xmpp_confirm__text_message__verification_code_is",[+this.code_requests[0].code]),is_archived:!1});this.createMessageFromIQ(msg_attr)}}})},requestPassword:function(e){let t={type:"POST",url:a.API_SERVICE_URL+"/accounts/xmpp_code_request/",contentType:"application/json",dataType:"json",data:JSON.stringify({jid:this.connection.jid,type:"iq"}),success:function(t){e&&e(t)}};this._waiting_code=!0,s.ajax(t)},reconnectionCallback:function(t,n){if(!this.session.get("reconnecting"))return void e.info("ignore reconnection callback for status: "+a.CONN_STATUSES[t]);if(this.session.set({conn_status:t,conn_condition:n}),t===r.Status.CONNECTED)this.session.set("on_token_revoked",!1),this.connection.connect_callback=this.connectionCallback.bind(this),this.session.set({connected:!0,reconnected:!0,reconnecting:!1,conn_retries:0});else if(t===r.Status.AUTHFAIL)"x-token"===this.get("auth_type")||this.connection.x_token?this.onTokenRevoked():this.onAuthFailed();else if(t===r.Status.DISCONNECTED){if(this.session.get("on_token_revoked"))return;this.connection.flush();let t=e.settings.max_connection_retries;-1===t||this.session.get("conn_retries")<t?this.reconnect():this.connFeedback(e.getString("connection__error__connection_lost"))}},loginCallback:function(t,n){t===r.Status.CONNECTED?(this.save("is_new",void 0),this.auth_view.successFeedback(this),this.auth_view=null):c.contains(a.BAD_CONN_STATUSES,t)&&(t===r.Status.ERROR?t=e.getString("CONNECTION_FAILED"):t===r.Status.CONNFAIL?t=e.getString("CONNECTION_FAILED"):t===r.Status.AUTHFAIL?t=e.getString("AUTHENTICATION_FAILED"):t===r.Status.DISCONNECTED?t=e.getString("connection__error__text_disconnected"):t===r.Status.CONNTIMEOUT&&(t=e.getString("connection__error__text_timeout_expired")),n=n?": "+n:"",this.auth_view.errorFeedback({password:t+n}),this.get("is_new")&&this.destroy())},onAuthFailed:function(){this.auth_view||i.dialogs.error(e.getString("connection__error__text_authentication_failed",[this.get("jid")])),this.session.set({auth_failed:!0,no_reconnect:!0}),this.trigger("deactivate",this),this.connFeedback(e.getString("connection__error__text_authentication_failed_short"))},getAllXTokens:function(){let e=[],t=o({from:this.get("jid"),type:"get",to:this.connection.domain}).c("query",{xmlns:`${r.NS.AUTH_TOKENS}#items`});this.sendIQ(t,t=>{s(t).find("field").each((t,a)=>{let n=s(a),i=n.find("client").text(),o=n.find("device").text(),d=n.find("token-uid").text(),r=1e3*+n.find("expire").text(),c=1e3*+n.find("last-auth").text(),l=n.find("ip").text();e.push({client:i,device:o,token_uid:d,last_auth:c,expire:r,ip:l})}),this.x_tokens_list=e,this.settings_right&&this.settings_right.updateXTokens()})},onTokenRevoked:function(){return e.api_account&&e.api_account.get("xmpp_binding")===this.get("jid")?void e.trigger("quit"):void(!this.auth_view&&i.dialogs.error(e.getString("connection__error__text_token_invalidated",[this.get("jid")])),this.session.set({on_token_revoked:!0,auth_failed:!0,connected:!1,no_reconnect:!0}),this.set({auth_type:"password",password:null,x_token:null}),this.connection.pass="",this.trigger("deactivate",this),this.connFeedback(e.getString("connection__error__text_token_invalidated_short")),this.connect({token_invalidated:!0}))},onChangedConnected:function(){this.isConnected()?this.session.get("reconnected")?this.onReconnected():this.onConnected():this.onDisconnected()},onConnected:function(){this.connFeedback(e.getString("account_state_connected")),this.jid=this.connection.jid,this.resource=r.getResourceFromJid(this.jid),this.domain=r.getDomainFromJid(this.jid),this.trigger("activate",this),this.session.get("no_reconnect")&&this.session.set("no_reconnect",!1),this.afterConnected(),c.each(this._after_connected_plugins,e=>{e.call(this)})},onBackgroundConnected:function(e){e===r.Status.CONNECTED?c.each(this._after_background_connected_plugins,e=>{e.call(this)}):e===r.Status.AUTHFAIL&&(this.background_conn_manager=void 0,this.background_connection=void 0)},onFastConnected:function(e){e===r.Status.CONNECTED?c.each(this._after_fast_connected_plugins,e=>{e.call(this)}):e===r.Status.AUTHFAIL&&(this.fast_conn_manager=void 0,this.fast_connection=void 0)},onReconnected:function(){this.connFeedback(e.getString("account_state_connected")),this.afterConnected(),c.each(this._after_reconnected_plugins,e=>{e.call(this)})},afterConnected:function(){this.registerPresenceHandler(),this.enableCarbons(),this.getVCard(),this.sendPendingStanzas()},getAllMessageRetractions:function(e,t){let a={xmlns:r.NS.REWRITE,version:e&&this.omemo?this.omemo.getRetractVersion():this.retraction_version};e&&(a.type="encrypted");let n=o({type:"get"}).c("query",a);this.sendIQ(n,t)},sendPendingStanzas:function(){c.each(this._pending_stanzas,e=>{e.stanza instanceof r.Builder?(this.connection.send(e.stanza),e.callback&&e.callback()):this.connection.sendIQ.apply(this.connection,e.stanza)}),this._pending_stanzas=[]},sendPendingMessages:function(){c.each(this._pending_messages,e=>{let t=this.messages.get(e.msg_id),n;t&&(n=t.get("xml"))&&t.set("state",a.MSG_PENDING),n&&this.sendMsg(n)})},_after_connected_plugins:[],_after_reconnected_plugins:[],_after_background_connected_plugins:[],_after_fast_connected_plugins:[],onDisconnected:function(){if(this.disconnected_timestamp=this.last_stanza_timestamp,this.session.get("delete"))return void this.destroy();let t=this.session.get("deactivate");t?(this.connFeedback(e.getString("settings_account__label_state_disconnected")),this.session.set("deactivate",null),"set_off"===t&&this.trigger("deactivate",this)):this.session.get("no_reconnect")?this.session.set("no_reconnect",!1):this.reconnect()},connFeedback:function(e){this.session.set("conn_feedback",e)},enableCarbons:function(){let e=o({type:"set"}).c("enable",{xmlns:r.NS.CARBONS});this.sendIQ(e)},getVCard:function(e){let t=this.get("jid"),n=c.isFunction(e);(this.background_connection&&this.background_connection.connected?this.background_connection:this.connection).vcard.get(t,i=>{let s={vcard:i,vcard_updated:l.now()};s.name=i.nickname||(i.first_name+" "+i.last_name).trim()||i.fullname||t,(!this.get("avatar_priority")||this.get("avatar_priority")<=a.AVATAR_PRIORITIES.VCARD_AVATAR)&&(i.photo.image?(s.avatar_priority=a.AVATAR_PRIORITIES.VCARD_AVATAR,s.image=i.photo.image):s.image=p.getDefaultAvatar(s.name),this.cached_image=p.getCachedImage(s.image)),this.save(s),n&&e(i)},function(){n&&e(null)})},setVCard:function(e,t,a){let n=c.extend(c.clone(this.get("vcard")),e);this.connection.vcard.set(this.get("jid"),n,()=>{this.vcardPhotoUpdated(n.photo.image),t&&t()},a)},getStatusMessage:function(){return this.get("status_message")||e.getString([this.get("status")])},setStatus:function(e,t){let a={status_updated:l.now()};null!==e&&(a.status=e),null!==t&&(a.status_message=t||""),"offline"===e&&"offline"!==this.get("status")&&(a.status_prev=this.get("status")),this.save(a),this.get("enabled")&&("offline"===e?this.deactivate("set_offline"):this.isConnected()?this.sendPresence():this.activate())},restoreStatus:function(){"offline"===this.get("status")&&this.save({status_updated:l.now(),status:this.get("status_prev")||"online",status_prev:void 0})},getAvatarHash:function(e){let t=e||this.get("vcard").photo.image;if(t){let e=atob(t),a=Uint8Array.from(Array.prototype.map.call(e,function(e){return e.charCodeAt(0)}));return sha1(a)}return""},vcardPhotoUpdated:function(e){let t=d().c("x",{xmlns:r.NS.VCARD_UPDATE}).c("photo").t(this.getAvatarHash(e)).up().up();return this.sendPres(t)},sendPresence:function(e,t){e=e||this.get("status");let a=t||this.get("status_message"),n=d();return"offline"===e?n.attrs({type:"unavailable"}):("online"!==e&&n.c("show").t(e).up(),n.c("status").t(a).up(),n.c("priority").t(this.get("priority")).up()),n.cnode(this.connection.caps.createCapsNode({node:"https://www.xabber.com/"}).tree()),this.sendPres(n)},showSettings:function(t,a){let n=!c.isUndefined(this.settings_right);this.settings_left||(this.settings_left=new e.AccountSettingsLeftView({model:this})),n||(this.settings_right=new e.AccountSettingsRightView({model:this})),this.updateColorScheme(),e.body.setScreen("account_settings",{account:this,right:t,block_name:a}),this.trigger("open_settings"),n||(this.trigger("render_settings"),this.settings_right.addChild("blocklist",e.BlockListView,{account:this,el:this.settings_right.$(".blocklist-info")[0]}))},updateColorScheme:function(){let t=this.settings.get("color");this.settings_left&&this.settings_left.$el.attr("data-color",t),this.settings_right&&(this.settings_right.$el.attr("data-color",t),this.settings_right.$(".account-color .current-color-name").text(e.getString(`account_color_name_${t.replace(/-/g,"_")}`).replace(/-/g," "))),this.vcard_edit.$el.attr("data-color",t)},revokeXToken:function(e,t){let a=o({from:this.get("jid"),type:"set",to:this.connection.domain}).c("revoke",{xmlns:r.NS.AUTH_TOKENS});for(let n=0;n<e.length;n++)a.c("token-uid").t(e[n]).up();this.sendIQ(a,()=>{t&&t()})},revokeAllXTokens:function(e,t){let a=o({from:this.get("jid"),type:"set",to:this.connection.domain}).c("revoke-all",{xmlns:r.NS.AUTH_TOKENS});this.sendIQ(a,t=>{e&e(t)},function(e){t&&t(e)})},deleteAccount:function(t){this.show_settings_after_delete=t,this.get("x_token")&&this.revokeXToken([this.get("x_token").token_uid]),this.session.set("delete",!0),this.deactivate(),e.api_account&&e.api_account.get("xmpp_binding")===this.get("jid")&&e.trigger("quit")},activate:function(){this.isConnected()||this.connect()},deactivate:function(t){t||(t="set_off"),this.session.set("deactivate",t),this.isConnected()?(this.connFeedback(e.getString("settings_account__label_state_disconnecting")),this.sendPresence("offline"),this.connection.disconnect()):this.onDisconnected()},onDestroy:function(){this.connection.connect_callback=null,this.settings.destroy(),this.trigger("remove_saved_chat")},registerIQHandler:function(){a.ENABLE_XABBER_ACCOUNT&&(this.connection.deleteHandler(this._stanza_handler),this._stanza_handler=this.connection.addHandler(e=>(this.onGetIQ(e),!0),null,"iq","get"))},registerSyncedIQHandler:function(){this.connection.deleteHandler(this._synced_stanza_handler),this._synced_stanza_handler=this.connection.addHandler(this.onSyncedIQ.bind(this),r.NS.SYNCHRONIZATION,"iq","set")},registerPresenceHandler:function(){this.connection.deleteHandler(this._pres_handler),this._pres_handler=this.connection.addHandler(e=>(this.onPresence(e),!0),null,"presence",null)},onSyncedIQ:function(t){let a=s(t),n=a.find("conversation"),i=n.attr("jid"),o=n.children("deleted").length;if(o){let t=i===this.get("jid"),a=!t&&this.contacts.mergeContact(i),n=t?this.chats.getSavedChat():this.chats.getChat(a);a.details_view&&a.details_view.isVisible()&&e.body.setScreen(e.body.screen.get("name"),{right:void 0}),n.set("opened",!1),n.set("const_unread",0),e.toolbar_view.recountAllMessageCounter(),e.chats_view.clearSearch()}return!0},onGetIQ:function(t){let n=s(t),i=n.find(`confirm[xmlns="${r.NS.HTTP_AUTH}"]`),d=n.find(`query[xmlns="${r.NS.JINGLE_MSG}"]`),c=n.attr("from"),l;if(i.length)if(l=i.attr("id"),this._waiting_code&&i.attr("url")===a.XABBER_ACCOUNT_URL+"/auth/login/")this.xabber_auth.api_jid&&this.xabber_auth.request_id?n.attr("id")===this.xabber_auth.request_id&&c===this.xabber_auth.api_jid&&this.verifyXabberAccount(l,t=>{this._waiting_code=!1,this.get("auto_login_xa")&&(e.api_account.save("token",t),e.api_account.login_by_token())}):this.code_requests.push({jid:c,id:n.attr("id"),code:l});else{({from_jid:c,message:e.getString("xmpp_confirm__text_message__verification_code_is",[l]),is_archived:!1});this.createMessageFromIQ(msg_attr)}if(d.length){let t=d.children("session").attr("id"),a;t&&e.current_voip_call&&t===e.current_voip_call.get("session_id")&&!e.current_voip_call.get("state")?(a=o({from:this.get("jid"),to:c,type:"result",id:n.attr("id")}).c("query",{xmlns:r.NS.JINGLE_MSG}).c("session",{id:t}),e.current_voip_call.updateStatus(e.getString("dialog_jingle_message__status_calling"))):a=o({from:this.get("jid"),to:c,type:"error",id:n.attr("id")}).c("error",{xmlns:r.NS.JINGLE_MSG}),this.sendIQ(a)}},createMessageFromIQ:function(e){let t=this.contacts.mergeContact(e.from_jid),a=this.chats.getChat(t);a.messages.create(e)},onPresence:function(e){let t=s(e),n=e.getAttribute("type");if("error"===n)return;let i=e.getAttribute("from"),o=r.getBareJidFromJid(i);if(o!==this.get("jid"))return void c.each(this._added_pres_handlers,function(t){t(e,o)});let d=r.getResourceFromJid(i),l=+t.find("priority").text(),p=t.find("show").text()||"online",u=t.find("status").text();c.isNaN(l)&&(l=0);let m=t.find(`x[xmlns="${r.NS.VCARD_UPDATE}"]`);if(m.length&&this.get("avatar_priority")&&this.get("avatar_priority")<=a.AVATAR_PRIORITIES.VCARD_AVATAR&&this.save("photo_hash",m.find("photo").text()),d&&d!==this.resource){let e=this.resources.get(d);if("unavailable"===n)e&&e.destroy();else{let t={resource:d,priority:l,status:p,status_message:u};e?e.set(t):e=this.resources.create(t)}}}},{addInitPlugin:function(e){this.prototype._init_plugins.push(e)},addConnPlugin:function(e,t,a){t&&this.prototype._after_connected_plugins.push(e),a&&this.prototype._after_reconnected_plugins.push(e)},addBackgroundConnPlugin:function(e,t){t&&this.prototype._after_background_connected_plugins.push(e)},addFastConnPlugin:function(e,t){t&&this.prototype._after_fast_connected_plugins.push(e)}}),e.Accounts=Backbone.CollectionWithStorage.extend({model:e.Account,comparator:function(e,t){return e.settings.get("order")<t.settings.get("order")?-1:1},_initialize:function(){this.settings_list=e.account_settings_list,this.getEnabledList(),this.getConnectedList(),this.on("add",this.onAdd,this),this.on("destroy",this.onDestroy,this),this.on("change:enabled",this.getEnabledList,this),this.on("update_order",this.onUpdatedOrder,this),this.on("add destroy activate deactivate",this.onListChanged,this),this.on("destroy deactivate",this.onAccountDisconnected,this),e.on("quit",this.onQuit,this),this.settings_list.on("add_settings",this.onSettingsAdded,this),e.api_account&&e.api_account.on("settings_result",function(e){e&&this.trigger("update_order")},this)},onQuit:function(){e.api_account&&e.api_account.revoke_token(),this.models.length||e.body.setScreen("login"),c.each(c.clone(this.models),function(e){e.deleteAccount(),e.password_view.closeModal(),i.modals.clear_queue()})},getEnabledList:function(){this.enabled=this.filter(e=>e.get("enabled"))},getConnectedList:function(){this.connected=this.filter(e=>e.isConnected())},onListChanged:function(){this.getEnabledList(),this.getConnectedList(),this.trigger("list_changed",this)},onAdd:function(e){e.is_invalid&&e.destroy()},onDestroy:function(t){if(!t.get("is_new")){let a=!(this.length||e.api_account&&e.api_account.get("connected"));a?e.body.setScreen("login"):t.show_settings_after_delete?e.body.setScreen("settings"):(e.body.setScreen("all-chats"),e.chats_view.showAllChats())}},onAccountDisconnected:function(){e.toolbar_view.recountAllMessageCounter(),e.recountAllMessageCounter()},onSettingsAdded:function(e){let t=e.get("jid");this.get(t)||this.create({jid:t})},onUpdatedOrder:function(){this.sort(),this.getEnabledList(),this.getConnectedList()},getLastOrder:function(){return this.length?this.last().settings.get("order"):0},getDefaultColor:function(){let e={},t=a.MATERIAL_COLORS;this.each(function(t){e[t.settings.get("color")]=!0});for(let a=0;a<t.length;a++)if(!e[t[a]])return t[a];return"red"},moveBefore:function(e,t){let a=this.indexOf(t),n=0<a?this.at(a-1).settings.get("order"):0;e.settings.save("order",(t.settings.get("order")+n)/2),this._updateOrder()},moveToBottom:function(e){e.settings.save("order",this.getLastOrder()+1),this._updateOrder()},_updateOrder:function(){this.sort(),this.each(function(e,t){e.settings.save({order:t+1})}),this.trigger("update_order"),e.api_account&&e.api_account.get("connected")&&(this.settings_list.order_timestamp.save("timestamp",i.now()),e.api_account.synchronize_order_settings())}}),e.AccountToolbarItemView=e.BasicView.extend({className:"toolbar-item account-item",template:n.toolbar_item,avatar_size:a.AVATAR_SIZES.TOOLBAR_ACCOUNT_ITEM,events:{"click .filter-chats":"filterChats","click .circle-avatar":"showSettings"},_initialize:function(){this.updateConnected(),this.updateAuthState(),this.updateStatus(),this.updateAvatar(),this.updateColorScheme(),this.$el.attr("data-jid",this.model.get("jid")),this.model.session.on("change:auth_failed",this.updateAuthState,this),this.model.session.on("change:connected",this.updateConnected,this),this.model.on("change:status",this.updateStatus,this),this.model.on("change:image",this.updateAvatar,this),this.model.settings.on("change:color",this.updateColorScheme,this),this.model.on("filter_chats",this.setActive,this),this.model.on("open_settings",this.setActive,this)},updateConnected:function(){this.$el.switchClass("disconnected",!this.model.isConnected())},updateAuthState:function(){let e=this.model.session.get("auth_failed");this.$(".status").hideIf(e),this.$(".auth-failed").showIf(e)},updateStatus:function(){this.$(".status").attr("data-status",this.model.get("status"))},updateAvatar:function(){let e=this.model.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)},updateColorScheme:function(){this.$el.attr("data-color",this.model.settings.get("color"))},showSettings:function(){let t=e.toolbar_view.getScrollTop();this.model.showSettings(),e.toolbar_view.scrollTo(t)},filterChats:function(t){let a=e.toolbar_view.getScrollTop();t.stopPropagation(),e.chats_view.showChatsByAccount(this.model),this.model.trigger("filter_chats"),e.toolbar_view.scrollTo(a)},setActive:function(){e.toolbar_view.$(".toolbar-item").removeClass("active"),this.$el.addClass("active")}}),e.ToolbarAccountsBlockView=e.BasicView.extend({_initialize:function(){this.updateList(),this.model.on("add change:enabled",this.updateOneInList,this),this.model.on("update_order",this.updateList,this),this.model.on("destroy",this.onAccountRemoved,this)},updateList:function(){c.each(this.children,function(e){e.detach()}),c.each(this.model.enabled,t=>{let a=t.get("jid"),n=this.child(a);n||(n=this.addChild(a,e.AccountToolbarItemView,{model:t})),this.$el.append(n.$el)}),this.parent.updateScrollBar()},updateOneInList:function(t){let a=t.get("jid");if(t.get("enabled")){let n=this.child(a);n?n.$el.detach():n=this.addChild(a,e.AccountToolbarItemView,{model:t});let i=this.model.enabled.indexOf(t);0===i?this.$el.prepend(n.$el):this.$(".account-item").eq(i-1).after(n.$el)}else t.last_msg_timestamp=0,this.removeChild(a);this.parent.updateScrollBar()},onAccountRemoved:function(e){this.removeChild(e.get("jid")),this.parent.updateScrollBar()}}),e.Resource=Backbone.Model.extend({idAttribute:"resource",defaults:{priority:0}}),e.ResourceView=e.BasicView.extend({className:"resource-wrap",template:n.resource,_initialize:function(){this.update(),this.model.on("change",this.update,this)},update:function(){let t=this.model.attributes;return this.$(".status").attr("data-status",t.status),this.$(".status-message").text(t.status_message||e.getString(t.status)),this.$(".client").text(t.client||e.getString("please_wait")),this.$(".resource").text(t.resource),this.$(".priority").text(t.priority),this}}),e.Resources=Backbone.Collection.extend({model:e.Resource,comparator:function(e,t){let a=e.get("priority"),n=t.get("priority");return a>n?-1:a<n?1:0},requestInfo:function(e,t){let a=this.jid+"/"+e.get("resource");this.connection.disco.info(a,null,a=>{let n=s(a).find("identity[category=client]");n.length&&e.set("client",n.attr("name")),this.attention_supported=this.isFeatureSupported(a,r.NS.ATTENTION),t&&t()})},isFeatureSupported:function(e,t){let a=s(e),n=!1;return a.find("feature").each(function(){let e=s(this).attr("var");e===t&&(n=!0)}),n}}),e.ResourcesView=e.BasicView.extend({_initialize:function(){this.renderByInit(),this.model.on("add",this.onResourceAdded,this),this.model.on("remove",this.onResourceRemoved,this),this.model.on("reset",this.onReset,this),this.model.on("change:priority",this.onPriorityChanged,this)},renderByInit:function(){this.model.each(e=>{this.onResourceAdded(e)})},onResourceAdded:function(t){this.model.requestInfo(t),this.addChild(t.get("resource"),e.ResourceView,{model:t}),this.updatePosition(t),this.$el.removeClass("hidden"),this.parent.updateScrollBar()},onPriorityChanged:function(e){this.model.sort(),this.updatePosition(e)}}),e.AccountResources=e.Resources.extend({initialize:function(e,t){this.jid=t.account.get("jid"),this.connection=t.account.connection}}),e.AccountResourcesView=e.ResourcesView.extend({onResourceRemoved:function(e){this.removeChild(e.get("resource")),this.parent.updateScrollBar()},onReset:function(){this.removeChildren(),this.parent.updateScrollBar()},updatePosition:function(e){let t=this.child(e.get("resource"));if(t){t.$el.detach();let a=this.model.indexOf(e);0===a?this.$(".main-resource").after(t.$el):this.$(".resource-wrap").eq(a).after(t.$el),this.updateScrollBar()}}}),e.AccountVCardView=e.VCardView.extend({events:{"click .btn-vcard-refresh":"refresh","click .btn-vcard-edit":"showEditView","click .details-icon":"onClickIcon"},__initialize:function(){this.updateButtons(),this.model.on("activate deactivate",this.updateButtons,this)},updateButtons:function(){let e=this.model.isConnected();this.$(".btn-vcard-edit").showIf(e),this.$(".btn-vcard-refresh").showIf(e)},showEditView:function(){this.model.showSettings("vcard_edit")}}),e.AccountSettingsLeftView=e.BasicView.extend({className:"account-settings-left-wrap",template:n.settings_left,avatar_size:a.AVATAR_SIZES.ACCOUNT_SETTINGS_LEFT,events:{"change .main-info-wrap .circle-avatar input":"changeAvatar","click .main-info-wrap .status":"openChangeStatus","click .settings-tabs-wrap .settings-tab":"jumpToBlock","click .settings-tab.delete-account":"deleteAccount"},_initialize:function(){this.status_field=new e.StatusMessageWidget({el:this.$(".status-wrap")[0],model:this.model}),this.updateName(),this.updateStatus(),this.updateAvatar(),this.updateBlocks(),this.model.on("change:name",this.updateName,this),this.model.on("change:status_updated",this.updateStatus,this),this.model.on("change:image",this.updateAvatar,this),this.model.on("activate deactivate",this.updateBlocks,this),this.model.on("destroy",this.remove,this)},render:function(e){return this.$el.switchClass("vcard-edit","vcard_edit"==e.right),this.$(".settings-tab[data-block-name=\"tokens\"]").hideIf("x-token"!==this.model.get("auth_type")),this.$(".settings-tab").removeClass("active"),this.$(`.settings-tab[data-block-name="${e.block_name}"]`).addClass("active"),this.updateCSS(),this},updateName:function(){this.$(".name").text(this.model.get("name")),this.updateNameCSS()},updateStatus:function(){this.$(".main-info-wrap .status").attr("data-status",this.model.get("status"))},updateAvatar:function(){let e=this.model.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)},updateBlocks:function(){let e=this.model.isConnected();this.$(".main-info-wrap").switchClass("disconnected",!e),this.$(".settings-tab[data-block-name=\"xmpp-resources\"]").showIf(e),this.$(".settings-tab[data-block-name=\"server-info\"]").showIf(e),this.$(".settings-tab[data-block-name=\"blocklist\"]").showIf(e),this.$(".settings-tab[data-block-name=\"groups-info\"]").showIf(e),this.updateScrollBar()},updateNameCSS:function(){if(!this.isVisible())return;let e=this.$(".name");e.removeAttr("style");let t=this.$(".name-wrap").width(),a=e.width(),n=22;for(;a>t&&12<n;)e.css({"font-size":n}),a=e.width(),n-=2;e.css({"margin-left":(t-a)/2})},changeAvatar:function(t){let n=t.target;if(!n.files.length)return;let s=n.files[0];return(n.value="",s.size>a.MAX_AVATAR_FILE_SIZE)?void i.dialogs.error(e.getString("group_settings__error__avatar_too_large")):s.type.startsWith("image")?void(this.$(".circle-avatar").find(".preloader-wrap").addClass("visible").find(".preloader-wrapper").addClass("active"),i.images.getAvatarFromFile(s).done((t,a,n)=>{t?this.model.pubAvatar({base64:t,hash:a,size:n,type:s.type},()=>{this.$(".circle-avatar").setAvatar(t,this.avatar_size),this.$(".circle-avatar").find(".preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active")},()=>{this.$(".circle-avatar").find(".preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active"),i.dialogs.error(e.getString("group_settings__error__wrong_image"))}):i.dialogs.error(e.getString("group_settings__error__wrong_image"))})):void i.dialogs.error(e.getString("group_settings__error__wrong_image"))},updateCSS:function(){this.updateNameCSS()},openChangeStatus:function(){e.change_status_view||(e.change_status_view=new e.ChangeStatusView),e.change_status_view.open(this.model)},jumpToBlock:function(e){let t=s(e.target).closest(".settings-tab"),a=t.data("block-name");this.model.showSettings(null,a)},deleteAccount:function(){let t=[];e.api_account&&e.api_account.get("connected")&&(t=[{name:"delete_settings",checked:this.model.settings.get("to_sync"),text:e.getString("dialog_delete_account__label_delete_synced_settings")}]),i.dialogs.ask(e.getString("settings_account__button_quit_account"),e.getString("dialog_quit_account__confirm"),t,{ok_button_text:e.getString("button_quit")}).done(t=>{t&&(t.delete_settings&&e.api_account&&(e.api_account.get("xmpp_binding")===this.model.get("jid")?e.api_account._call_method("DELETE","/accounts/current/client-settings/",{jid:this.model.get("jid")}):e.api_account.delete_settings(this.model.get("jid"))),this.model.deleteAccount())})}}),e.AccountSettingsRightView=e.BasicView.extend({className:"account-settings-right-wrap",template:n.settings_right,ps_selector:".panel-content",events:{"change .enabled-state input":"setEnabled","change .setting-send-chat-states input":"setTypingNotification","change .setting-use-omemo input":"setEnabledOmemo","click .btn-change-password":"showPasswordView","click .btn-reconnect":"reconnect","change .sync-account":"changeSyncSetting","click .btn-delete-settings":"deleteSettings","click .color-values .color-value":"changeColor","click .token-wrap .btn-revoke-token":"revokeXToken","click .tokens .btn-revoke-all-tokens":"revokeAllXTokens","click .omemo-info .btn-manage-devices":"openDevicesWindow","click .omemo-info .btn-purge-keys":"purgeKeys"},_initialize:function(){this.resources_view=this.addChild("resources",e.AccountResourcesView,{model:this.model.resources,el:this.$(".xmpp-resources")[0]}),this.vcard_view=this.addChild("vcard",e.AccountVCardView,{model:this.model,el:this.$(".vcard")[0]}),this.$(".account-name .value").text(this.model.get("jid")),this.updateStatus(),this.updateView(),this.showConnectionStatus(),this.updateSynchronizationBlock(),this.model.session.on("change:reconnecting",this.updateReconnectButton,this),this.model.session.on("change:conn_feedback",this.showConnectionStatus,this),this.model.settings.on("change:to_sync",this.updateSyncOption,this),this.model.settings.on("change:deleted",this.updateDelSettingsButton,this),this.model.settings.on("change:to_sync change:synced",this.updateSyncState,this),e.api_account&&e.api_account.on("change:connected",this.updateSynchronizationBlock,this),this.model.on("change:enabled",this.updateEnabled,this),this.model.settings.on("change:omemo",this.updateEnabledOmemo,this),this.model.settings.on("change:encrypted_chatstates",this.updateEncryptedChatstates,this),this.model.on("change:status_updated",this.updateStatus,this),this.model.on("activate deactivate",this.updateView,this),this.model.on("destroy",this.remove,this)},render:function(t){return this.updateEnabledOmemo(),this.updateEncryptedChatstates(),this.updateEnabled(),this.updateXTokens(),this.$(".connection-wrap .buttons-wrap").hideIf("x-token"===this.model.get("auth_type")),this.$(".main-resource .client").text(e.get("client_name")),this.$(".main-resource .resource").text(this.model.resource),this.$(".main-resource .priority").text(this.model.get("priority")),this.$(".account-color .dropdown-button").dropdown({inDuration:100,outDuration:100,belowOrigin:!0,hover:!1}),this.$(".account-color .dropdown-content").hide(),this.scrollToChild(this.$(".settings-block-wrap."+t.block_name)),this.$(".panel-content-wrap").removeClass("hidden"),this},updateStatus:function(){let e=this.model,t=e.get("status"),a=e.getStatusMessage();this.$(".main-resource .status").attr("data-status",t),this.$(".main-resource .status-message").text(a)},updateView:function(){let e=this.model.isConnected();this.$(".xmpp-resources").showIf(e),this.$(".server-info").showIf(e),this.$(".blocklist").showIf(e),this.$(".groups-info").showIf(e),this.updateScrollBar()},updateSynchronizationBlock:function(){this.$(".xabber-account-features-wrap").showIf(e.api_account&&e.api_account.get("connected")),this.updateSyncState(),this.updateSyncOption(),this.updateDelSettingsButton()},renderAllXTokens:function(){this.$(".panel-content-wrap .tokens .sessions-wrap").html(""),s(c.sortBy(this.model.x_tokens_list),"last_auth").each((e,t)=>{let a={client:t.client,device:t.device,token_uid:t.token_uid,ip:t.ip,last_auth:u(t.last_auth),expire:u(t.expire)};if(this.model.get("x_token")&&this.model.get("x_token").token_uid==t.token_uid){let e=s(n.current_token_item(a));return void this.$(".panel-content-wrap .tokens .current-session").append(e)}let i=s(n.token_item(a));this.$(".panel-content-wrap .tokens .all-sessions").append(i)}),this.$(".panel-content-wrap .tokens .all-sessions").children().length?this.$(".panel-content-wrap .tokens .all-sessions-wrap").removeClass("hidden"):this.$(".panel-content-wrap .tokens .all-sessions-wrap").addClass("hidden")},updateXTokens:function(){if("x-token"!==this.model.get("auth_type"))return this.$(".panel-content-wrap .tokens").addClass("hidden"),void this.$(".panel-content-wrap .tokens .sessions-wrap").children().html("");if(this.$(".panel-content-wrap .tokens .sessions-wrap").html(""),this.model.x_tokens_list&&this.model.x_tokens_list.length)if(this.$(".panel-content-wrap .tokens").removeClass("hidden"),this.model.get("x_token")&&!this.model.get("x_token").token_uid){let e=o({from:this.model.get("jid"),to:this.model.domain,type:"get"}).c("query",{xmlns:`${r.NS.AUTH_TOKENS}#items`}).c("token").t(this.model.get("x_token").token);this.model.sendIQ(e,e=>{let t=s(e),a=t.find("token-uid").text(),n=t.find("expire").text();this.model.get("x_token").token_uid=a,this.model.get("x_token").expire=n,this.renderAllXTokens()})}else this.renderAllXTokens()},revokeXToken:function(e){let t=s(e.target).closest(".token-wrap"),a=t.data("token-uid");this.model.revokeXToken([a],()=>{this.model.get("x_token")&&this.model.get("x_token").token_uid===a&&this.model.destroy()})},revokeAllXTokens:function(){i.dialogs.ask(e.getString("settings_account__dialog_terminate_sessions__header"),e.getString("terminate_all_sessions_title"),null,{ok_button_text:e.getString("button_terminate")}).done(e=>{e&&this.model.x_tokens_list&&this.model.revokeAllXTokens(()=>{})})},updateSyncState:function(){let t;t=this.model.settings.get("to_sync")?this.model.settings.get("synced")?"yes":"no":"off",this.$(".sync-status").text(e.getString(a.SYNCED_STATUS_DATA[t].tip));let n=a.SYNCED_STATUS_DATA[t].icon,i=this.$(".sync-status-icon");i.removeClass(i.attr("data-mdiclass")).attr("data-mdiclass",n).addClass(n)},updateSyncOption:function(){this.$(".sync-account").prop("checked",this.model.settings.get("to_sync"))},updateDelSettingsButton:function(){this.$(".btn-delete-settings").hideIf(this.model.settings.get("deleted"))},updateEnabled:function(){let e=this.model.get("enabled");this.$(".enabled-state input[type=checkbox]").prop("checked",e)},updateEnabledOmemo:function(){let t=this.model.settings.get("omemo"),a=!1;if(this.model.omemo)a=Object.keys(this.model.omemo.get("prekeys")).length;else{let t=new e.Omemo({id:"omemo"},{account:this.model,storage_name:e.getStorageName()+"-omemo-settings-"+this.model.get("jid"),fetch:"before"});a=Object.keys(t.get("prekeys")).length,t.destroy()}c.isUndefined(t)&&(t=!1),t&&this.model.omemo_enable_view&&this.model.omemo_enable_view.close(),this.$(".setting-use-omemo input[type=checkbox]").prop("checked",t),this.$(".omemo-settings-wrap .setting-wrap:not(.omemo-enable)").switchClass("hidden",!t),this.$(".omemo-settings-wrap .setting-wrap.purge-keys").switchClass("hidden",!a)},updateEncryptedChatstates:function(){let e=this.model.settings.get("encrypted_chatstates");this.$(".setting-send-chat-states input[type=checkbox]").prop("checked",e)},updateReconnectButton:function(){this.$(".btn-reconnect").switchClass("disabled",this.model.session.get("reconnecting"))},setEnabled:function(){let e=this.$(".enabled-state input").prop("checked");this.model.save("enabled",e),e?this.model.activate():this.model.deactivate()},setEnabledOmemo:function(){let e=this.$(".setting-use-omemo input").prop("checked");this.model.settings.save("omemo",e),this.$(".omemo-settings-wrap .setting-wrap:not(.omemo-enable)").switchClass("hidden",!e),e?this.initOmemo():this.destroyOmemo()},setTypingNotification:function(){let e=this.$(".setting-send-chat-states input").prop("checked");this.model.settings.save("encrypted_chatstates",e)},initOmemo:function(){this.model.omemo=new e.Omemo({id:"omemo"},{account:this.model,storage_name:e.getStorageName()+"-omemo-settings-"+this.model.get("jid"),fetch:"before"}),setTimeout(()=>{this.model.omemo.onConnected()},1e3)},destroyOmemo:function(){this.model.omemo=void 0},openDevicesWindow:function(){this.model.omemo?(!this.omemo_devices&&(this.omemo_devices=new e.Fingerprints({model:this.model.omemo})),this.omemo_devices.open()):i.dialogs.error(e.getString("omemo__chat__placeholder_encryption_disabled"))},purgeKeys:function(){i.dialogs.ask(e.getString("omemo__dialog_purge_keys__header"),e.getString("omemo__dialog_purge_keys__text"),null,{ok_button_text:e.getString("omemo__dialog_purge_keys__button_purge_keys")}).done(t=>{if(t){if(this.model.omemo){let e=this.model.omemo.get("device_id");this.model.omemo.save("prekeys",{}),this.model.omemo.bundle&&(this.model.omemo.bundle.preKeys=[]),this.model.omemo.own_devices[e]&&(this.model.omemo.own_devices[e].preKeys=[],this.model.omemo.own_devices[e].set({ik:null,fingerprint:null})),this.model.connection.omemo&&this.model.connection.omemo.removeItemFromNode(`${r.NS.OMEMO}:bundles`,e)}else{let t=new e.Omemo({id:"omemo"},{account:this.model,storage_name:e.getStorageName()+"-omemo-settings-"+this.model.get("jid"),fetch:"before"});t.save("prekeys",{}),this.model.connection.omemo&&this.model.connection.omemo.removeItemFromNode(`${r.NS.OMEMO}:bundles`,t.get("device_id")),t.destroy()}this.$(".omemo-settings-wrap .setting-wrap.purge-keys").switchClass("hidden",!0)}})},showConnectionStatus:function(){this.$(".conn-status").text(this.model.session.get("conn_feedback"))},showPasswordView:function(){this.model.password_view.show()},reconnect:function(){this.model.session.get("reconnecting")||(this.model.save("enabled",!0),this.model.connection.connected?this.model.connection.disconnect():this.model.connect())},changeSyncSetting:function(t){let a=s(t.target).prop("checked"),n=this.model.settings;n.save("to_sync",a),a&&(n.update_timestamp(),e.api_account&&e.api_account.synchronize_main_settings())},deleteSettings:function(){i.dialogs.ask(e.getString("progress_title_delete_settings"),e.getString("delete_settings_summary"),[{name:"delete_account",checked:this.model.settings.get("to_sync"),text:e.getString("delete_settings__optional_button__delete_synced_account")}],{ok_button_text:e.getString("delete")}).done(t=>{t&&(t.delete_account?!this.model.settings.get("to_sync")&&this.model.deleteAccount(!0):this.model.settings.save("to_sync",!1),e.api_account&&e.api_account.delete_settings(this.model.get("jid")))})},changeColor:function(t){let a=s(t.target).closest(".color-value");this.model.settings.update_settings({color:a.data("value")}),e.api_account&&e.api_account.synchronize_main_settings()}}),e.StatusMessageWidget=e.InputWidget.extend({field_name:"status-message",placeholder:"Set custom status",bindModelEvents:function(){this.model.on("change:status_updated",this.updateValue,this)},getValue:function(){return this.model.getStatusMessage()},setValue:function(e){this.model.setStatus(null,e)}}),e.AccountSettingsItemView=e.BasicView.extend({className:"xmpp-account draggable droppable",template:n.global_settings_item,avatar_size:a.AVATAR_SIZES.SETTINGS_ACCOUNT_ITEM,events:{"click .account-info-wrap":"showSettings","change .enabled-state input":"setEnabled"},_initialize:function(){this.$(".jid").text(this.model.get("jid")),this.updateEnabled(),this.updateAvatar(),this.updateColorScheme(),this.updateSyncState(),this.showConnectionStatus(),this.model.on("change:enabled",this.updateEnabled,this),this.model.settings.on("change:omemo",this.updateEnabledOmemo,this),this.model.on("change:image",this.updateAvatar,this),this.model.settings.on("change:color",this.updateColorScheme,this),this.model.session.on("change:conn_feedback",this.showConnectionStatus,this),this.$el.on("drag_to",this.onDragTo.bind(this)),this.$(".move-account-to-this").on("move_xmpp_account",this.onMoveAccount.bind(this)),this.model.settings.on("change:to_sync",this.updateSyncState,this)},updateAvatar:function(){let e=this.model.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)},updateColorScheme:function(){this.$el.attr("data-color",this.model.settings.get("color"))},showConnectionStatus:function(){this.$(".conn-status").text(this.model.session.get("conn_feedback"))},updateEnabled:function(){let e=this.model.get("enabled");this.$el.switchClass("disabled",!e),this.$(".enabled-state input[type=checkbox]").prop("checked",e)},setEnabled:function(){let e=this.$(".enabled-state input").prop("checked");this.model.save("enabled",e),e?this.model.activate():this.model.deactivate()},onDragTo:function(e,t){t&&s(t).trigger("move_xmpp_account",this.model)},onMoveAccount:function(e,t){this.model.collection.moveBefore(t,this.model)},updateSyncState:function(){let t=e.api_account&&e.api_account.get("connected");this.$(".sync-marker-wrap").showIf(t),this.$el.find(".sync-marker").showIf(this.model.settings.get("to_sync"))},showSettings:function(){this.model.showSettings()}}),e.SettingsAccountsBlockView=e.BasicView.extend({_initialize:function(){this.updateList(),this.updateSyncState(),this.model.on("add",this.updateOneInList,this),this.model.on("update_order",this.updateList,this),this.model.on("destroy",this.onAccountRemoved,this),e.api_account&&e.api_account.on("change:connected",this.updateSyncState,this),this.$(".move-account-to-bottom").on("move_xmpp_account",this.onMoveAccountToBottom.bind(this))},updateList:function(){c.each(this.children,function(e){e.detach()}),this.model.each(t=>{let a=t.get("jid"),n=this.child(a);n||(n=this.addChild(a,e.AccountSettingsItemView,{model:t})),this.$(".no-accounts-tip").before(n.$el)}),this.updateHtml(),this.parent.updateScrollBar()},updateOneInList:function(t){let a=t.get("jid"),n=this.child(a);n?n.$el.detach():n=this.addChild(a,e.AccountSettingsItemView,{model:t});let i=this.model.indexOf(t);0===i?this.$(".accounts-head-wrap").after(n.$el):this.$(".xmpp-account").eq(i-1).after(n.$el),this.updateHtml(),this.parent.updateScrollBar()},onAccountRemoved:function(e){this.removeChild(e.get("jid")),this.updateHtml(),this.parent.updateScrollBar()},render:function(){this.updateHtml(),c.each(this.children,function(e){e.updateEnabled()})},updateHtml:function(){this.$(".no-accounts-tip").hideIf(this.model.length),this.$(".accounts-head-wrap").showIf(this.model.length),this.updateCSS()},updateCSS:function(){let t=0;this.$(".jid").addClass("inline").each(function(){this.offsetWidth>t&&(t=this.offsetWidth)}).removeClass("inline"),t+=150,e.api_account&&e.api_account.get("connected")&&(t+=45),this.$(".xmpp-account-list").css("width",t+48),c.each(this.children,function(e){e.$el.css("width",t)})},updateSyncState:function(){let t=e.api_account&&e.api_account.get("connected");this.$(".sync-head").showIf(t),this.$(".sync-marker-wrap").showIf(t),this.$(".sync-head").hideIf(!t),this.$(".sync-marker-wrap").hideIf(!t),this.updateCSS()},onMoveAccountToBottom:function(e,t){this.model.moveToBottom(t)}}),e.ChangeStatusView=e.BasicView.extend({className:"modal main-modal change-status-modal",template:n.change_status,events:{"click .status-values li":"changeStatus","click .status-message-wrap .clear-input":"clearStatusMessageInput","keyup .status-message":"keyUp","change .apply-to-all":"changeApplyToAll"},open:function(e){this.account=e,this.highlightStatus(e.get("status")),this.restoreStatusMessageInput(),this.show()},highlightStatus:function(e){this.$(".status-values li[data-value=\""+e+"\"]").addClass("active").siblings().removeClass("active")},changeStatus:function(e){let t=s(e.target).closest("li").data("value");this.highlightStatus(t),this.do_change(),this.closeModal()},restoreStatusMessageInput:function(){let e=this.account.get("status_message");this.$(".status-message").val(e).switchClass("filled",e),e||this.$(".status-message").attr("placeholder",this.account.getStatusMessage())},clearStatusMessageInput:function(){let t=e.getString(this.account.get("status"));this.$(".status-message").val("").attr("placeholder",t).removeClass("filled")},keyUp:function(e){if(e.keyCode===a.KEY_ENTER)this.do_change(),this.closeModal();else{let e=this.$(".status-message").val();this.$(".status-message").switchClass("filled",e)}},do_change:function(){let t=this.$(".status-values li.active").data("value"),a=this.$(".status-message").val();this.apply_to_all?e.accounts.each(function(e){e.setStatus(t,a)}):this.account.setStatus(t,a)},changeApplyToAll:function(e){this.apply_to_all=s(e.target).prop("checked")},render:function(){this.$el.openModal({ready:this.onRender.bind(this),complete:this.close.bind(this)})},onRender:function(){Materialize.updateTextFields()},onHide:function(){this.$el.detach()},close:function(){let e=this.$(".status-message").val();e||this.do_change(),this.closeModal()},closeModal:function(){this.$el.closeModal({complete:this.hide.bind(this)})}}),e.ChangePasswordView=e.BasicView.extend({className:"modal main-modal change-password-modal",template:n.change_password,events:{"click .btn-change":"submit","click .btn-cancel":"close","keyup input[name=password]":"keyUp"},_initialize:function(){return this.$("input[name=jid]").val(this.model.get("jid")),this.$password_input=this.$("input[name=password]"),this.data.on("change:authentication",this.updateButtons,this),e.on("quit",this.onQuit,this),this},render:function(t){t||(t={}),this.is_login=t.login,this.token_invalidated=t.token_invalidated,this.$(".modal-header span").text(this.is_login?e.getString("xabber_account__social_links__button_log_in"):e.getString("button_set_pass")),this.$(".btn-cancel").text(this.is_login?e.getString("skip"):e.getString("cancel")),this.$(".btn-change").text(this.is_login?e.getString("xabber_account__social_links__button_log_in"):e.getString("set")),this.$el.openModal({use_queue:!0,ready:this.onRender.bind(this),complete:this.close.bind(this)})},onRender:function(){Materialize.updateTextFields(),this.authFeedback({}),this.$password_input.val("").focus()},getActionName:function(){return this.is_login?e.getString("login"):e.getString("set")},keyUp:function(e){e.keyCode===a.KEY_ENTER&&this.submit()},submit:function(){if(this.data.get("authentication"))return void this.cancel();this.data.set("authentication",!0),this.authFeedback({});let t=this.model.get("jid"),a=this.$password_input.val();return a?void(a=a.trim(),this.authFeedback({password:e.getString("dialog_change_password__feedback__text_auth_with_pass")}),this.model.connection.connected?(this.model.once("deactivate",()=>{this.setPassword(a)}),this.model.deactivate()):this.setPassword(a)):this.errorFeedback({password:e.getString("dialog_change_password__error__text_input_pass")})},setPassword:function(e){this.model.last_msg_timestamp=0,this.model.save({auth_type:"password",password:i.utoa(e),enabled:!0}),this.model.auth_view=this,this.model.connect()},cancel:function(){this.data.set("authentication",!1)},updateButtons:function(){let t=this.data.get("authentication");this.$(".btn-change").text(t?e.getString("stop"):this.getActionName())},authFeedback:function(e){this.$password_input.switchClass("invalid",e.password).siblings("span.errors").text(e.password||"")},errorFeedback:function(e){this.authFeedback(e),this.data.set("authentication",!1)},successFeedback:function(){this.data.set("authentication",!1),this.closeModal()},onHide:function(){this.$el.detach()},onQuit:function(){this.closeModal()},close:function(){this.is_login&&this.model.save("enabled",!1),this.token_invalidated&&this.model.deleteAccount(),this.cancel(),this.closeModal()},closeModal:function(){this.model.auth_view=null,this.$el.closeModal({complete:this.hide.bind(this)})}}),e.AuthView=e.BasicView.extend({_initialize:function(){return this.$jid_input=this.$("input[name=jid]"),this.$password_input=this.$("input[name=password]"),this.data.on("change:authentication",this.updateButtons,this),this},render:function(){this.onRender()},onRender:function(){this.account=null,this.authFeedback({}),Materialize.updateTextFields(),this.$jid_input.val("").focus(),this.$password_input.val(""),this.updateButtons(),this.updateOptions&&this.updateOptions()},keyUp:function(e){e.keyCode===a.KEY_ENTER&&this.submit()},submit:function(){if(this.data.get("authentication"))return void this.cancel();this.data.set("authentication",!0),this.authFeedback({});let t=this.$jid_input.val(),n=this.$password_input.val();if(!t)return this.errorFeedback({jid:e.getString("account_auth__error__text_input_username")});if(t=t.trim(),!n)return this.errorFeedback({password:e.getString("dialog_change_password__error__text_input_pass")});n=n.trim();let s=t.indexOf("@");if(0>=s||s===t.length-1)return this.errorFeedback({jid:e.getString("account_auth__error__text_wrong_username")});t=r.getBareJidFromJid(t).toLowerCase();let o=e.accounts.get(t);o?this.errorFeedback({jid:e.getString("settings_account__alert_account_exists")}):(this.authFeedback({password:e.getString("account_auth__feedback__text_authentication")}),this.getWebsocketURL(t,s=>{this.account=e.accounts.create({jid:t,websocket_connection_url:s||a.CONNECTION_URL,password:i.utoa(n),is_new:!0},{auth_view:this}),this.account.trigger("start")}))},getWebsocketURL:function(e,t){if(!a.DISABLE_LOOKUP_WS){let a=r.getDomainFromJid(e),n={type:"GET",url:window.location.protocol+"//"+a+"/.well-known/host-meta",dataType:"xml",success:e=>{let a=s(e).find("Link").attr("href");a?t&&t(a):t&&t(null)},error:()=>{t&&t(null)}};s.ajax(n)}else t&&t(null)},cancel:function(){this.data.set("authentication",!1),this.onRender(),this.account&&(this.account.destroy(),this.account=null)},authFeedback:function(e){this.$jid_input.switchClass("invalid",e.jid).siblings("span.errors").text(e.jid||""),this.$password_input.switchClass("invalid",e.password).siblings("span.errors").text(e.password||"")},errorFeedback:function(e){this.authFeedback(e),this.data.set("authentication",!1)},socialAuth:function(t){let n=window.location.href,i=s(t.target).closest(".btn-social").data("provider");"email"==i?e.body.setScreen("login",{login_screen:"xabber"}):window.location.href=a.XABBER_ACCOUNT_URL+"/social/login/"+i+"/?origin="+n+"&source=Xabber Web"}}),e.XmppLoginPanel=e.AuthView.extend({className:"login-panel",template:n.xmpp_login,events:{"click .login-type":"changeLoginType","click .btn-log-in":"submit","click .btn-social":"socialAuth","click .btn-cancel":"cancel","keyup input[name=password]":"keyUp"},changeLoginType:function(){e.body.setScreen("login",{login_screen:"xabber"})},updateButtons:function(){let e=this.data.get("authentication");this.$(".btn-log-in").switchClass("disabled",e),this.$(".btn-cancel").showIf(e)},successFeedback:function(t){t.auth_view=null,this.data.set("authentication",!1),e.body.setScreen("all-chats",{right:null})}}),e.AddAccountView=e.AuthView.extend({className:"modal main-modal add-account-modal",template:n.add_account,events:{"click .btn-add":"submit","click .btn-cancel":"close","keyup input[name=password]":"keyUp"},render:function(){this.$el.openModal({ready:this.onRender.bind(this),complete:this.close.bind(this)})},updateOptions:function(){this.$(".sync-option").showIf(e.api_account&&e.api_account.get("connected")).find("input").prop("checked",e.api_account&&e.api_account.get("sync_all"))},updateButtons:function(){let t=this.data.get("authentication");this.$(".btn-add").text(t?e.getString("stop"):e.getString("add"))},successFeedback:function(t){this.data.set("authentication",!1),this.$(".sync-option input").prop("checked")?(t.settings.update_timestamp(),e.api_account&&e.api_account.synchronize_main_settings()):t.settings.save("to_sync",!1),e.body.setScreen("all-chats",{right:null}),this.closeModal()},onHide:function(){this.$el.detach()},close:function(){this.cancel(),this.closeModal()},closeModal:function(){this.$el.closeModal({complete:this.hide.bind(this)})}}),e.once("start",function(){this.xmpp_login_panel=e.login_page.addChild("xmpp_login",this.XmppLoginPanel),this.account_settings=e.wide_panel.addChild("account_settings",this.NodeView,{classlist:"settings-panel account-settings-panel"}),this.acc_settings_left=e.account_settings.addChild("left",this.Container,{classlist:"account-settings-left-container"}),this.acc_settings_right=e.account_settings.addChild("right",this.Container,{classlist:"account-settings-right-container"}),this.accounts=new this.Accounts(null,{storage_name:this.getStorageName()+"-accounts"}),this.accounts.fetch(),this.toolbar_view.addChild("accounts",this.ToolbarAccountsBlockView,{model:this.accounts,el:this.toolbar_view.$(".accounts")[0]}),this.settings_view.addChild("accounts",this.SettingsAccountsBlockView,{model:this.accounts,el:this.settings_view.$(".xmpp-accounts")[0]}),this.on("add_account",function(){this.add_account_view||(this.add_account_view=new this.AddAccountView),this.add_account_view.show()},this),s(window).bind("beforeunload",function(){e.current_voip_call&&e.current_voip_call.reject()}),window.onbeforeunload=()=>{c.each(this.accounts.connected,function(e){e.sendPresence("offline")})},this.login_page.patchTree=function(e,t){let n=t.login_screen||a.DEFAULT_LOGIN_SCREEN;return"xmpp"===n?{xmpp_login:null}:{xabber_login:null}},this.servers=new e.Servers},e),e}}),define("xabber-discovery",[],function(){return function(e){let t=e.env,a=t.$,n=t._,i=t.moment,s=t.Strophe,o=t.$iq;return e.ClientFeature=Backbone.Model.extend({idAttribute:"namespace"}),e.FeatureView=e.BasicView.extend({className:"client-feature",template:function(){this.$el.append("<div class=\"feature-name one-line\"/>").append("<div class=\"supports\"/>")},_initialize:function(){this.render(),this.$el.appendTo(this.model.collection.account.settings_right.$(".capabilities")),this.model.on("change",this.render,this),this.model.on("destroy",this.remove,this)},render:function(){let t=this.model.get("verbose_name"),a=this.model.get("supports");this.$(".feature-name").text(t),this.$(".supports").text(a?e.getString("account_settings__server_info__status_available"):e.getString("account_settings__server_info__status_unavailable"))}}),e.ClientFeatures=Backbone.Collection.extend({model:e.ClientFeature,initialize:function(t,a){this.account=a.account,this.account.on("render_settings",this.render,this),this.connection=this.account.connection,this.connection.disco.addIdentity("client","web",e.get("client_name"),"en"),this.addFeature(s.NS.LAST,"XEP-0012: Last Activity"),this.addFeature(s.NS.VCARD,"XEP-0054: vCard-temp"),this.addFeature(s.NS.RSM,"XEP-0059: Result Set Management"),this.connection.disco.addFeature(s.NS.CHATSTATES),this.addFeature(s.NS.BLOCKING,"XEP-0191: Blocking Command"),this.addFeature(s.NS.PING,"XEP-0199: XMPP Ping"),this.connection.disco.addFeature(s.NS.ATTENTION,"XEP-0244: Attention"),this.addFeature(s.NS.CARBONS,"XEP-0280: Message carbons"),this.addFeature(s.NS.MAM,"XEP-0313: Message archive management"),this.connection.disco.addFeature(s.NS.CHAT_MARKERS),this.connection.disco.addFeature(s.NS.PUBSUB_AVATAR_METADATA+"+notify"),this.addFeature(s.NS.HTTP_UPLOAD,"XEP-0363: HTTP File Upload")},addFeature:function(e,t){this.create({namespace:e,verbose_name:t});this.connection.disco.addFeature(e)},render:function(){this.models.forEach(t=>{new e.FeatureView({model:t})})}}),e.ServerFeature=Backbone.Model.extend({idAttribute:"var"}),e.ServerFeatures=Backbone.Collection.extend({model:e.ServerFeature,initialize:function(e,t){this.account=t.account,this.connection=this.account.connection,this.on("add",this.onFeatureAdded,this)},request:function(){this.connection.disco.info(this.account.domain,null,this.onInfo.bind(this)),this.connection.disco.items(this.account.domain,null,this.onItems.bind(this))},onItems:function(e){let t=[];a(e).find("query item").each((e,n)=>{let i=a(n).attr("jid"),o=a(n).attr("name"),d=a(n).attr("node");d===s.NS.GROUP_CHAT&&(t.push(i),this.account.set("groupchat_servers_list",t)),this.connection.disco.addItem(i,o,d,()=>{}),this.connection.disco.info(i,null,this.onInfo.bind(this))})},onInfo:function(e){let t=a(e),n=t.attr("from"),i=this;t.find("feature").each(function(){let e=a(this).attr("var");i.create({var:e,from:n}),e===s.NS.AUTH_TOKENS&&i.account.getAllXTokens()})},onFeatureAdded:function(e){let t=e.get("var"),a=this.account.client_features.get(t);a&&a.set("supports",!0);let i=e.get("preferences")||{};t===s.NS.MAM&&"always"!==i.default&&this.account.sendIQ(o({type:"get"}).c("prefs",{xmlns:s.NS.MAM}),n.bind(this.receiveMAMPreferences,this,e))},receiveMAMPreferences:function(e,t){let n=a(t).find("prefs[xmlns=\""+s.NS.MAM+"\"]"),i=n.attr("default");if("always"!==i){let t=o({type:"set"}).c("prefs",{xmlns:s.NS.MAM,default:"always"});n.children().each(function(e,a){t.cnode(a).up()}),this.account.sendIQ(t,function(){e.set("preferences",{default:"always"})})}else e.set("preferences",{default:"always"})}}),e.ServerInfo=Backbone.Collection.extend({model:e.ServerFeature,initialize:function(e){this.domain=e.domain,this.account=e.account,this.connection=this.account.connection},request:function(){this.connection.disco.info(this.domain,null,this.onInfo.bind(this))},onInfo:function(e){let t=a(e),n=t.attr("from"),i=this;t.find("feature").each(function(){let e=a(this).attr("var");i.create({var:e,from:n})})}}),e.Server=Backbone.Model.extend({idAttribute:"domain",initialize:function(t){this.account=t.account,this.set("domain",t.domain||this.account.domain),this.server_features=new e.ServerInfo({account:this.account,domain:this.get("domain")}),this.getServerInfo()},getServerInfo:function(){this.server_features.request()}}),e.Servers=Backbone.Collection.extend({model:e.Server}),e.Account.addInitPlugin(function(){this.client_features=new e.ClientFeatures(null,{account:this}),this.server_features=new e.ServerFeatures(null,{account:this})}),e.Account.addConnPlugin(function(){this.last_stanza_timestamp=i.now(),this.connection.deleteHandler(this._last_stanza_handler),this._last_stanza_handler=this.connection.addHandler(()=>(this.last_stanza_timestamp=i.now(),!0)),this.connection.deleteHandler(this._pong_handler),this._pong_handler=this.connection.ping.addPingHandler(e=>(this.last_stanza_timestamp=i.now(),this.connection.ping.pong(e),!0)),this.connection.deleteTimedHandler(this._ping_handler),this._ping_handler=this.connection.addTimedHandler(3e4,()=>{let t=i.now()-this.last_stanza_timestamp;return t/1e3>(e.settings.reconnect_interval||120)?(this.connection.connected?this.connection.disconnect():this.connect(),!1):(t/1e3>(e.settings.ping_interval||60)&&this.connection.ping.ping(this.get("jid")),!0)}),this.server_features.request()},!0,!0),e.Account.addBackgroundConnPlugin(function(){this.last_background_stanza_timestamp=i.now(),this.background_connection.deleteHandler(this._last_background_stanza_handler),this._last_background_stanza_handler=this.background_connection.addHandler(()=>(this.last_background_stanza_timestamp=i.now(),!0)),this.background_connection.deleteHandler(this._background_pong_handler),this._background_pong_handler=this.background_connection.ping.addPingHandler(e=>(this.last_background_stanza_timestamp=i.now(),this.background_connection.ping.pong(e),!0)),this.background_connection.deleteTimedHandler(this._background_ping_handler),this._background_ping_handler=this.background_connection.addTimedHandler(3e4,()=>{let t=i.now()-this.last_background_stanza_timestamp;return t/1e3>(e.settings.reconnect_interval||120)?(this.background_connection.connected?this.background_connection.disconnect():this.background_connection.connect("password",this.background_connection.jid,this.background_connection.pass),!1):(t/1e3>(e.settings.ping_interval||60)&&this.background_connection.ping.ping(this.background_connection.jid),!0)})},!0,!0),e.Account.addFastConnPlugin(function(){this.last_fast_stanza_timestamp=i.now(),this.fast_connection.deleteHandler(this._last_fast_stanza_handler),this._last_fast_stanza_handler=this.fast_connection.addHandler(()=>(this.last_fast_stanza_timestamp=i.now(),!0)),this.fast_connection.deleteHandler(this._fast_pong_handler),this._fast_pong_handler=this.fast_connection.ping.addPingHandler(e=>(this.last_fast_stanza_timestamp=i.now(),this.fast_connection.ping.pong(e),!0)),this.fast_connection.deleteTimedHandler(this._fast_ping_handler),this._fast_ping_handler=this.fast_connection.addTimedHandler(3e4,()=>{let t=i.now()-this.last_fast_stanza_timestamp;return t/1e3>(e.settings.reconnect_interval||120)?(this.fast_connection.connected?this.fast_connection.disconnect():this.fast_connection.connect("password",this.fast_connection.jid,this.fast_connection.pass),!1):(t/1e3>(e.settings.ping_interval||60)&&this.fast_connection.ping.ping(this.fast_connection.jid),!0)})},!0,!0),e.Account.addConnPlugin(function(){let e=this.connection.disco;this.connection.addHandler(e._onDiscoInfo.bind(e),s.NS.DISCO_INFO,"iq","get",null,null),this.connection.addHandler(e._onDiscoItems.bind(e),s.NS.DISCO_ITEMS,"iq","get",null,null)},!1,!0),e}}),define("xabber-contacts",[],function(){var e=Math.trunc,t=Math.round,a=Math.max;return function(n){let i=n.env,s=i.constants,o=i.templates.contacts,d=i.utils,r=i.$,c=i.$iq,l=i.$pres,p=i.Strophe,u=i._,m=i.moment,g=i.uuid,h=d.images,f=d.emoji,v=e=>d.pretty_datetime(e,("ru-RU"==n.settings.language||"default"==n.settings.language&&"ru-RU"==n.get("default_language"))&&"D MMMM YYYY HH:mm:ss");return n.Contact=Backbone.Model.extend({idAttribute:"jid",defaults:{status:"offline",status_message:"",subscription:void 0,subscription_request_in:!1,subscription_request_out:!1,groups:[],group_chat:!1},initialize:function(e,t){this.on("change:group_chat",this.onChangedGroupchat,this),this.account=t.account,e.avatar&&(e.image=e.avatar,delete e.avatar);let a=u.clone(e);a.resource?a.full_jid=a.jid+"/"+a.resource:a.group_chat&&(a.full_jid=a.jid+"/Group"),this.account&&this.account.domain===a.jid&&u.extend(a,{server:!0,status:"online"}),a.name=a.roster_name||a.name||a.jid,a.image||(a.photo_hash="",a.image=h.getDefaultAvatar(a.name)),this.account.blocklist.isBlocked(a.jid)&&(a.blocked=!0),this.cached_image=h.getCachedImage(a.image),a.vcard=d.vcard.getBlank(a.jid),this.set(a),this.onChangedGroupchat(),this.domain=p.getDomainFromJid(this.get("jid")),this.get("group_chat")||this.set("group_chat",u.contains(this.account.chat_settings.get("group_chat"),this.get("jid"))),this.hash_id=i.b64_sha1(this.account.get("jid")+"-"+a.jid),this.resources=new n.ContactResources(null,{contact:this}),this.on("update_avatar",this.updateAvatar,this),this.on("change:full_jid",this.updateCachedInfo,this),this.on("change:roster_name",this.updateName,this),n.servers.get(this.domain)||n.servers.create({domain:this.domain,account:this.account}),this.account.dfd_presence.done(()=>{this.get("blocked")||this.get("vcard_updated")||this.getVCard()})},getStatusMessage:function(){let e=this.get("subscription"),t=this.get("subscription_request_in"),a=this.get("subscription_request_out"),i="";return this.get("blocked")?i=n.getString("action_contact_blocked"):this.get("group_chat")?this.get("group_info")?(i+=n.getQuantityString("contact_groupchat_status_member",this.get("group_info").members_num),0<this.get("group_info").online_members_num&&(i+=n.getString("contact_groupchat_status_online",[this.get("group_info").online_members_num||0]))):e?i=this.get("status_message")||n.getString(this.get("status")):i=n.getString("contact_state_no_subscriptions"):"from"===e?a?i=n.getString("contact_state_outgoing_request"):i=n.getString("contact_state_subscribed_to_account"):e?i=this.get("status_message")||n.getString(this.get("status")):a?i=n.getString("contact_state_outgoing_request"):t?i=n.getString("contact_state_incoming_request"):u.isNull(e)?i=n.getString("contact_state_no_subscriptions"):i=n.getString("contact_state_not_in_contact_list"),i},getIcon:function(){return this.get("blocked")?"blocked":this.get("invitation")?"group-invite":this.get("group_chat")?this.get("private_chat")?"group-private":this.get("incognito_chat")?"group-incognito":"group-public":this.get("server")?"server":this.get("bot")?"bot":void 0},updateAvatar:function(){this.account.cached_roster.getFromRoster(this.get("jid"),e=>{e&&this.get("photo_hash")===e.photo_hash||this.getVCard()})},getVCard:function(e){let t=this.get("jid"),a=u.isFunction(e);(this.account.background_connection&&this.account.background_connection.connected?this.account.background_connection:this.account.connection).vcard.get(t,n=>{if(n.group_info){let e=this.get("group_info")||{};e=u.extend(e,n.group_info),this.set({group_info:e}),delete n.group_info}let i={vcard:n,vcard_updated:m.now(),name:this.get("roster_name")};i.name||(this.get("group_chat")?i.name=n.nickname||this.get("name"):i.name=n.nickname||(n.first_name+" "+n.last_name).trim()||n.fullname||t),(!this.get("avatar_priority")||this.get("avatar_priority")<=s.AVATAR_PRIORITIES.VCARD_AVATAR)&&(n.photo.image?(i.avatar_priority=s.AVATAR_PRIORITIES.VCARD_AVATAR,i.image=n.photo.image):i.image=h.getDefaultAvatar(i.name),this.cached_image=h.getCachedImage(i.image)),this.set(i),this.get("in_roster")&&this.updateCachedInfo(),a&&e(n)},function(){a&&e(null)})},updateCachedInfo:function(){let e={jid:this.get("jid"),in_roster:this.get("in_roster"),groups:this.get("groups"),subscription:this.get("subscription"),roster_name:this.get("roster_name"),subscription_request_out:this.get("subscription_request_out"),subscription_request_in:this.get("subscription_request_in"),name:this.get("name"),vcard_updated:this.get("vcard_updated")},t=this.get("full_jid");(this.get("photo_hash")||this.get("image"))&&u.extend(e,{photo_hash:this.get("photo_hash")||this.account.getAvatarHash(this.get("image")),avatar_priority:this.get("avatar_priority"),avatar:this.get("image")}),t&&(e.resource=p.getResourceFromJid(t)),this.account.cached_roster.putInRoster(e)},onChangedGroupchat:function(){this.get("group_chat")&&(this.updateCounters(),this.participants=new n.Participants(null,{contact:this}))},getBlockedParticipants:function(e,t){let a=c({type:"get",to:this.get("full_jid")||this.get("jid")}).c("query",{xmlns:p.NS.GROUP_CHAT+"#block"});this.account.sendFast(a,e,t)},updateCounters:function(){n.toolbar_view.recountAllMessageCounter()},getLastSeen:function(){if("offline"==this.get("status")){if(!p.getNodeFromJid(this.get("jid")))return void this.set({status_message:"Server"});let e=c({from:this.account.get("jid"),type:"get",to:this.get("jid")}).c("query",{xmlns:p.NS.LAST});this.account.sendIQ(e,e=>{let t=this.getLastSeenStatus(e);return"offline"==this.get("status")&&this.set({status_message:t}),this})}},getMyInfo:function(e){this.participants.participantsRequest({id:"",properties:!0},t=>{let a=r(r(t).find("query user")),n=this.account.chat_settings.getAvatarInfoById(a.find("id").text());a.length&&this.participants&&this.participants.createFromStanza(a),n&&n.avatar_hash==this.my_info.get("avatar")&&this.my_info.set("b64_avatar",n.avatar_b64),this.trigger("update_my_info"),this.participants.participantsRequest({id:""},t=>{let a=this.account.parseDataForm(r(t).find(`x[xmlns="${p.NS.DATAFORM}"]`));this.my_rights=a,this.trigger("permissions_changed"),e&&e()})})},getAvatar:function(e,t,a,i){let s=c({from:this.account.get("jid"),type:"get",to:this.get("jid")}).c("pubsub",{xmlns:p.NS.PUBSUB}).c("items",{node:t}).c("item",{id:e});this.account.sendIQinBackground(s,e=>{let t=r(e).find("data").text();""==t?i&&i(n.getString("pubsub__error__text_empty_node")):a&&a(t)})},pubAvatar:function(e,t,a,n){let i=sha1(e.base64),s=c({from:this.account.get("jid"),type:"set",to:this.get("jid")}).c("pubsub",{xmlns:p.NS.PUBSUB}).c("publish",{node:p.NS.PUBSUB_AVATAR_DATA+t}).c("item",{id:i}).c("data",{xmlns:p.NS.PUBSUB_AVATAR_DATA}).t(e.base64),o=c({from:this.account.get("jid"),type:"set",to:this.get("jid")}).c("pubsub",{xmlns:p.NS.PUBSUB}).c("publish",{node:p.NS.PUBSUB_AVATAR_METADATA+t}).c("item",{id:i}).c("metadata",{xmlns:p.NS.PUBSUB_AVATAR_METADATA}).c("info",{bytes:e.size,id:i,type:e.type});this.account.sendIQinBackground(s,()=>{this.account.sendIQinBackground(o,()=>{a&&a(i)},function(e){n&&n(e)})},e=>{n&&n(e)})},getLastSeenStatus:function(e){let t=r(e).children("query").attr("seconds"),a=m.now()-1e3*t;return this.set({last_seen:a}),n.pretty_last_seen(t)},pres:function(e){let t=l({to:this.get("jid"),from:this.account.jid,type:e});return this.account.sendPres(t),this},pushInRoster:function(e,t,a){e||(e={});let n=e.name||this.get("roster_name"),i=e.groups||this.get("groups"),s=c({type:"set"}).c("query",{xmlns:p.NS.ROSTER}).c("item",{jid:this.get("jid"),name:n});return u.each(i,function(e){s.c("group").t(e).up()}),this.account.sendIQ(s,t,a),this.set("known",!0),this},removeFromRoster:function(e,t){if(!this.get("removed")){let a=c({type:"set"}).c("query",{xmlns:p.NS.ROSTER}).c("item",{jid:this.get("jid"),subscription:"remove"});this.account.cached_roster.removeFromRoster(this.get("jid")),this.account.sendIQ(a,e,t),this.set("known",!1),this.set("removed",!0)}return this},acceptRequest:function(e){this.pres("subscribed"),e&&e()},askRequest:function(e){this.pres("subscribe"),e&&e()},blockRequest:function(e){this.pres("unsubscribed"),this.block(e)},declineRequest:function(e){this.pres("unsubscribed"),this.removeFromRoster(e)},declineSubscription:function(){this.pres("unsubscribe"),this.set("subscription_request_out",!1)},declineSubscribe:function(){this.pres("unsubscribed")},deleteWithDialog:function(){let e=this.get("group_chat"),t=e?n.getString("group_remove"):n.getString("remove_contact"),a=e?n.getString("group_remove_confirm",[this.get("name").bold()]):n.getString("contact_delete_confirm_short",[this.get("name").bold()]),i=e?null:[{name:"delete_history",checked:!1,text:n.getString("delete_contact__label_delete_history")}];d.dialogs.ask(t,a,i,{ok_button_text:n.getString("delete")}).done(t=>{if(t)if(e){let e=this.domain,t=p.getNodeFromJid(this.get("jid")),a=c({to:e,type:"set"}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#delete`}).t(t);this.account.sendIQ(a,()=>{this.declineSubscription(),this.removeFromRoster();let e=this.account.chats.getChat(this);e.trigger("close_chat"),n.body.setScreen("all-chats",{right:void 0})})}else{if(this.removeFromRoster(),t.delete_history){let e=this.account.chats.getChat(this);e.retractAllMessages(!1),e.deleteFromSynchronization(),n.body.setScreen("all-chats",{right:void 0})}n.trigger("clear_search")}})},blockWithDialog:function(){let e=this.get("group_chat"),t=e?n.getString("block_group__header"):n.getString("contact_block"),a={ok_button_text:n.getString("contact_bar_block")},i=n.getString("block_contact_confirm_short",[this.get("name").bold()]);e||(a.optional_button=n.getString("contact_block_and_delete"),i+=`\n${n.getString("block_contact_warning",[this.get("jid")])}`),d.dialogs.ask(t,i,null,a).done(function(t){if(t){if(!e){let e=this.account.chats.getChat(this);"block & delete"===t&&(this.removeFromRoster(),e.retractAllMessages(!1),e.deleteFromSynchronization(),e.set("active",!1))}this.blockRequest(),n.trigger("clear_search"),e||n.body.setScreen("all-chats",{right:void 0})}})},unblockWithDialog:function(){d.dialogs.ask(n.getString("chat_settings__button_unblock_contact"),n.getString("unblock_contact_confirm_short",[this.get("name")]),null,{ok_button_text:n.getString("contact_bar_unblock")}).done(function(e){e&&(this.unblock(),n.trigger("clear_search"))})},block:function(e,t){let a=c({type:"set"}).c("block",{xmlns:p.NS.BLOCKING}).c("item",{jid:this.get("jid")});this.account.sendIQ(a,e,t),this.set("blocked",!0),this.set("known",!1)},unblock:function(e,t){let a=c({type:"set"}).c("unblock",{xmlns:p.NS.BLOCKING}).c("item",{jid:this.get("jid")});this.account.sendIQ(a,e,t),this.set("blocked",!1)},sendPresent:function(){let e=l({from:this.account.connection.jid,to:this.get("jid")}).c("x",{xmlns:`${p.NS.GROUP_CHAT}#present`});this.account.sendPres(e),clearInterval(this._sending_present_interval),this._sending_present_interval=setInterval(()=>{this.account.sendPres(e)},s.PRESENT_INTERVAL)},sendNotPresent:function(){let e=l({from:this.account.connection.jid,to:this.get("jid")}).c("x",{xmlns:`${p.NS.GROUP_CHAT}#not-present`});this.account.sendPres(e),clearInterval(this._sending_present_interval)},handlePresence:function(e){let t=r(e),a=e.getAttribute("type"),i=t.find(`x[xmlns="${p.NS.VCARD_UPDATE}"]`);i.length&&this.get("avatar_priority")&&this.get("avatar_priority")<=s.AVATAR_PRIORITIES.VCARD_AVATAR&&(this.set("photo_hash",i.find("photo").text()),this.trigger("update_avatar"));let o=r(e).find(`x[xmlns="${p.NS.GROUP_CHAT}"]`);if(0<o.length&&o.children().length){this.set("full_jid",t.attr("from")),this.get("group_chat")||(this.set("group_chat",!0),this.account.chat_settings.updateGroupChatsList(this.get("jid"),this.get("group_chat"))),this.details_view&&!this.details_view.child("participants")&&(this.details_view=new n.GroupChatDetailsView({model:this}));let a=this.parseGroupInfo(r(e)),i=this.get("group_info")||{};this.details_view&&this.details_view.isVisible()&&a.online_members_num!=i.online_members_num&&this.trigger("update_participants"),u.extend(i,a),this.set("group_info",i),this.get("roster_name")||i.name===this.get("name")||this.set("name",i.name),this.set({status:i.status,status_updated:m.now(),status_message:i.members_num+" members"+n.getString("contact_groupchat_status_online",[i.online_members_num||0])})}if("subscribe"===a)this.set("subscription_request_in",!0),this.get("in_roster")||this.get("subscription_preapproved")?this.pres("subscribed"):this.trigger("presence",this,"subscribe");else if("subscribed"===a)this.get("group_chat")&&(this.get("subscription_request_out")||"to"===this.get("subscription")),"to"===this.get("subscription"),this.trigger("presence",this,"subscribed");else if("unsubscribe"===a){if(this.get("group_chat")){this.removeFromRoster();let e=this.account.chats.getChat(this);e.deleteFromSynchronization(()=>{e.trigger("close_chat"),this.destroy()},()=>{e.trigger("close_chat"),this.destroy()})}}else if("unsubscribed"===a)this.set("subscription_request_out",!1);else{let n=e.getAttribute("from"),i=p.getResourceFromJid(n),s=+t.find("priority").text(),o=t.find("show").text()||"online",d=t.find("status"),r=d.text();u.isNaN(s)&&(s=0),clearTimeout(this._reset_status_timeout);let c=this.resources.get(i);if("unavailable"===a)this.set({last_seen:m.now()}),c&&c.destroy();else{this.set({last_seen:void 0});let e={resource:i,priority:s,status:o};d.length&&(e.status_message=r),c?c.set(e):c=this.resources.create(e)}}},parseGroupInfo:function(e){let t=this.get("jid"),a=e.find(`x[xmlns="${p.NS.GROUP_CHAT}"]`),n=a.find("name").text(),i=a.find("membership"),s=e.children("show").text()||("unavailable"===e.attr("type")?"unavailable":"online"),o=e.children("status").text(),d=a.find("privacy").text(),r=a.find("index"),c=a.find("description"),l=+a.find("pinned-message").text(),u=this.get("pinned_message")?this.get("pinned_message").get("stanza_id"):0,m=a.find("parent-chat").text()||!1,g=+a.find("members").text(),h=a.find("present"),f={jid:t,name:n,status_msg:o,privacy:d,status:s,members_num:g};r.length&&(f.searchable=r.text()),i.length&&(f.model=i.text()),c.length&&(f.description=c.text()),h.length&&(f.online_members_num=+h.text()),m&&this.set("private_chat",m),"incognito"===d&&this.set("incognito_chat",!0);let v=this.account.chats.get(this.hash_id),b;return a.find("pinned-message").length&&u!=l&&(v&&(b=v.item_view.content.$pinned_message),b&&(l?this.getMessageByStanzaId(l,e=>{this.parsePinnedMessage(e,b)}):(this.set("pinned_message",void 0),this.parsePinnedMessage(void 0,b)))),f},getAllRights:function(e){let t=iq=c({from:this.account.get("jid"),type:"get",to:this.get("full_jid")||this.get("jid")}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#rights`});this.account.sendIQ(t,t=>{let a=r(t).find("permission"),n=r(t).find("restriction");this.all_rights={permissions:a,restrictions:n},e&&e()})},getMessageByStanzaId:function(e,t){let a=g(),n=c({type:"set",to:this.get("full_jid")||this.get("jid")}).c("query",{xmlns:p.NS.MAM,queryid:a}).c("x",{xmlns:p.NS.DATAFORM,type:"submit"}).c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t(p.NS.MAM).up().up().c("field",{var:"{urn:xmpp:sid:0}stanza-id"}).c("value").t(e),i=this.account.connection.addHandler(e=>{let n=r(e);return n.find("result").attr("queryid")===a&&t&&t(n),!0},p.NS.MAM);this.account.sendIQ(n,()=>{this.account.connection.deleteHandler(i)},()=>{this.account.connection.deleteHandler(i)})},parsePinnedMessage:function(e,t){if(!e)this.renderPinnedMessage(null,t);else{let a=e.find("result message").first();if(this.get("pinned_message")&&this.get("pinned_message").stanza_id===a.find("stanza-id").attr("id"))return;let n=this.account.chats.receiveChatMessage(e,{pinned_message:!0});this.set("pinned_message",n),this.renderPinnedMessage(n,t)}},renderPinnedMessage:function(e,t){if(!e)t.html(""),t.siblings(".chat-content").css({height:"100%"});else{let a=e.get("images"),i=e.get("files"),s=e.get("forwarded_message"),d=null,c=u.escape(e.get("message"));if(s){let e=s[0].get("user_info")||{};c||(1<s.length?c=n.getString("forwarded_messages_count_plural",[s.length]):(c=s[0].get("message")||s[0].get("forwarded_message")&&n.getString("forwarded_messages_count_plural",[s[0].get("forwarded_message").length]),d=e.nickname||s[0].get("from_jid")||e.id))}a&&(1==a.length&&(c=`<span class=text-color-500>${n.getString("image_message")}: </span>`+a[0].name),1<a.length&&(c=`<span class=text-color-500>${n.getString("recent_chat__last_message__images",[a.length])}</span>`)),i&&(1==i.length&&(c=`<span class=text-color-500>${n.getString("file_message")}: </span>`+i[0].name+" ("+i[0].size+")"),1<i.length&&(c=`<span class=text-color-500>${n.getString("recent_chat__last_message__files",[i.length])}</span>`));let l=e.get("user_info")||{},p=this.account.chats.get(this.hash_id).item_view.content,m=p.isScrolledToBottom(),g=l.nickname||e.get("from_jid")||l.id,h={author:g,time:v(e.get("time")),message:c,fwd_author:d},f=r(o.group_chats.pinned_message(h));t.html(f).emojify(".chat-msg-content",{emoji_size:18});let b=t.height();t.siblings(".chat-content").css({height:"calc(100% - "+b+"px)"}),m&&p.scrollToBottom(),t.attr("data-uniqueid",e.get("unique_id"))}},resetStatus:function(e){clearTimeout(this._reset_status_timeout),this._reset_status_timeout=setTimeout(()=>{this.set({status_updated:m.now(),status:"offline",status_message:""})},e||5e3)},searchByParticipants:function(e,t){if(!this.participants.version)this.participants.participantsRequest({},()=>{let a=this.participants.search(e);t&&t(a)});else{let a=this.participants.search(e);t&&t(a)}},updateName:function(){this.get("roster_name")&&this.get("name")!==this.get("roster_name")&&this.set("name",this.get("roster_name"))},showDetails:function(e){this.details_view||(this.details_view=this.get("group_chat")?new n.GroupChatDetailsView({model:this}):new n.ContactDetailsView({model:this})),e||(e="contacts"),n.body.setScreen(e,{right:"contact_details",contact:this})}}),n.SetGroupchatStatusView=n.BasicView.extend({className:"modal main-modal change-status-modal",template:o.group_chats.set_status,events:{"click .status-values li":"changeStatus"},open:function(e){this.contact=e,this.account=this.contact.account,this.show(),this.getStatuses()},highlightStatus:function(e){this.$(`.status-values li[data-value="${e}"]`).addClass("active").siblings().removeClass("active")},getStatuses:function(){let e=c({to:this.contact.get("full_jid")||this.contact.get("jid"),type:"get"}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#status`});this.account.sendFast(e,e=>{this.data_form=this.account.parseDataForm(r(e).find("x[xmlns=\""+p.NS.DATAFORM+"\"]"));let t=this.data_form.fields.find(e=>"status"==e.var),a=(this.data_form.fields.find(e=>"status"==e.var)||[]).options||[];return a.length&&"fixed"!=t.type?void this.renderStatuses(a):(this.closeModal(),void d.dialogs.error(n.getString("groupchat_you_have_no_permissions_to_do_it")))},()=>(this.closeModal(),void d.dialogs.error(n.getString("set_group_status__error__service_unavailable"))))},renderStatuses:function(e){this.$(".status-values").html(""),e.forEach(e=>{let t=e,a=this.data_form.fields.find(e=>e.var==t.value);t.show=a?a.values[0]:t.value;let n=r(o.group_chats.status_item({status:t}));this.$(".status-values").append(n)}),this.highlightStatus(this.contact.get("status"))},changeStatus:function(e){let t=r(e.target).closest("li").data("value");this.highlightStatus(t),this.do_change(),this.closeModal()},do_change:function(){let e=this.$(".status-values li.active").data("value");this.setStatus(e)},render:function(){this.$el.openModal({complete:this.close.bind(this)})},setStatus:function(e){if(!this.data_form||this.contact.get("group_info").status===e)return;let t=c({to:this.contact.get("full_jid")||this.contact.get("jid"),type:"set"}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#status`}),a=this.data_form.fields.find(e=>"status"===e.var),n=this.data_form.fields.indexOf(a);a.values=[e],this.data_form.fields[n]=a,t=this.account.addDataFormToStanza(t,this.data_form),this.account.sendFast(t)},onHide:function(){this.$el.detach()},close:function(){let e=this.$(".status-message").val();e||this.do_change(),this.closeModal()},closeModal:function(){this.$el.closeModal({complete:this.hide.bind(this)})}}),n.ContactItemView=n.BasicView.extend({className:"roster-contact list-item",_initialize:function(){this.account=this.model.account,this.$el.attr({"data-id":g(),"data-jid":this.model.get("jid")}),this.$(".jid").text(this.model.get("jid")),this.interval_last,this.updateName(),this.updateStatus(),this.updateAvatar(),this.selectView(),this.updateGroupChat(),this.updateIcon(),this.model.on("change:name",this.updateName,this),this.model.on("change:image",this.updateAvatar,this),this.model.on("change:status_updated",this.updateStatus,this),this.model.on("change:private_chat",this.updateIcon,this),this.model.on("change:incognito_chat",this.updateIcon,this),this.model.on("change:bot",this.updateIcon,this),this.model.on("change:blocked",this.onBlocked,this),this.model.on("change:status_message",this.updateStatusMsg,this),this.model.on("change:last_seen",this.lastSeenUpdated,this),this.model.on("change:group_chat",this.updateGroupChat,this)},updateName:function(){this.$(".name").text(this.model.get("name"))},updateAvatar:function(){this.$(".circle-avatar").setAvatar(this.model.cached_image,this.avatar_size)},updateStatus:function(){if(this.$(".status").attr("data-status",this.model.get("status")),this.$(".chat-icon").attr("data-status",this.model.get("status")),this.$(".status-message").text(this.model.getStatusMessage()),"offline"==this.model.get("status")){if(!p.getNodeFromJid(this.model.get("jid")))return void this.model.set({status_message:"Server"});if(this.model.get("last_seen")){let e=(m.now()-this.model.get("last_seen"))/1e3,t=n.pretty_last_seen(e);this.model.set({status_message:t})}}},onBlocked:function(){this.updateIcon(),this.$el.switchClass("blocked",this.model.get("blocked"))},selectView:function(){this.model.get("group_chat")&&(this.$(".private-chat").addClass("hidden"),this.$(".group_chat").removeClass("hidden"))},lastSeenUpdated:function(){"offline"==this.model.get("status")&&this.model.get("last_seen")&&u.isUndefined(this.interval_last)?this.interval_last=setInterval(()=>{let e=(m.now()-this.model.get("last_seen"))/1e3,t=n.pretty_last_seen(e);this.model.set({status_message:t})},6e4):clearInterval(this.interval_last)},updateGroupChat:function(){let e=this.model.get("group_chat");this.$(".status").hideIf(e),this.updateIcon()},updateIcon:function(){let e=this.model.getIcon();this.$(".chat-icon").addClass("hidden"),this.model.get("invitation")||e&&this.$(".chat-icon").removeClass("hidden").switchClass(e,"server"==e||"blocked"==e).html(i.templates.svg[e]())},updateStatusMsg:function(){this.$(".status-message").text(this.model.getStatusMessage())}}),n.ContactItemRightView=n.ContactItemView.extend({template:o.contact_right_item,avatar_size:s.AVATAR_SIZES.CONTACT_RIGHT_ITEM,events:{click:"clickOnItem",mouseover:"showJid",mouseleave:"hideJid"},showJid:function(){this.$(".name").text()!==this.model.get("jid")&&(this.$(".status-message").addClass("hidden"),this.$(".jid").removeClass("hidden"))},hideJid:function(){this.$(".jid").addClass("hidden"),this.$(".status-message").removeClass("hidden")},clickOnItem:function(){this.model.trigger("open_chat",this.model)}}),n.ContactItemLeftView=n.ContactItemView.extend({template:o.contact_left_item,avatar_size:s.AVATAR_SIZES.CONTACT_LEFT_ITEM,events:{click:"clickOnItem"},__initialize:function(){this.updateDisplayStatus(),this.updateBlockedState(),this.updateMutedState(),this.updateGroupChat(),this.model.on("change:display",this.updateDisplayStatus,this),this.model.on("change:blocked",this.updateBlockedState,this),this.model.on("change:muted",this.updateMutedState,this),this.model.on("change:group_chat",this.updateGroupChat,this)},updateDisplayStatus:function(){this.$el.switchClass("active",this.model.get("display"))},updateBlockedState:function(){this.$el.switchClass("blocked",this.model.get("blocked"))},updateMutedState:function(){this.$(".muted-icon").showIf(this.model.get("muted"))},clickOnItem:function(){this.model.showDetails()}}),n.ContactResources=n.Resources.extend({initialize:function(e,t){this.contact=t.contact,this.jid=t.contact.get("jid"),this.connection=t.contact.account.connection,this.on("add change",this.onResourceUpdated,this),this.on("remove",this.onResourceRemoved,this)},onResourceUpdated:function(e){e===this.first()&&this.contact.set({status_updated:m.now(),status:e.get("status"),status_message:e.get("status_message")})},onResourceRemoved:function(){let e={status_updated:m.now()};this.length?(e.status=this.first().get("status"),e.status_message=this.first().get("status_message")):(e.status="offline",e.status_message=""),this.contact.set(e)}}),n.ContactResourcesView=n.ResourcesView.extend({onResourceAdded:function(e){this.addChild(e.get("resource"),n.ResourceView,{model:e}),this.updatePosition(e),this.$el.removeClass("hidden"),this.parent.updateScrollBar()},onResourceRemoved:function(e){this.removeChild(e.get("resource")),this.$el.showIf(this.model.length),this.parent.updateScrollBar()},onReset:function(){this.removeChildren(),this.$el.addClass("hidden"),this.parent.updateScrollBar()},updatePosition:function(e){let t=this.child(e.get("resource"));if(t){t.$el.detach();let a=this.model.indexOf(e);0===a?this.$(".resources-wrap").prepend(t.$el):this.$(".resource-wrap").eq(a-1).after(t.$el),this.updateScrollBar()}}}),n.ContactVCardView=n.VCardView.extend({events:{"click .btn-vcard-refresh":"refresh","click .details-icon":"onClickIcon"}}),n.ContactDetailsView=n.BasicView.extend({className:"details-panel contact-details-panel",template:o.contact_details,ps_selector:".panel-content-wrap",avatar_size:s.AVATAR_SIZES.CONTACT_DETAILS,events:{"click .btn-escape":"openChat","click .btn-chat":"openChat","click .btn-voice-call":"voiceCall","click .btn-add":"addContact","click .btn-delete":"deleteContact","click .btn-block":"blockContact","click .btn-qr-code":"showQRCode","click .btn-unblock":"unblockContact","click .btn-mute":"changeNotifications","click .btn-auth-request":"requestAuthorization","change .subscription-info-wrap input":"onChangedSubscription"},_initialize:function(){this.account=this.model.account,this.name_field=new n.ContactNameWidget({el:this.$(".name-wrap")[0],model:this.model}),this.resources_view=this.addChild("resources",n.ContactResourcesView,{model:this.model.resources,el:this.$(".resources-block-wrap")[0]}),this.vcard_view=this.addChild("vcard",n.ContactVCardView,{model:this.model,el:this.$(".vcard")[0]}),this.edit_groups_view=this.addChild("groups",n.ContactEditGroupsView,{el:this.$(".groups-block-wrap")[0]}),this.updateName(),this.updateStatus(),this.updateAvatar(),this.updateButtons(),this.model.on("change",this.update,this),n.on("change:video",this.updateJingleButtons,this),n.on("change:audio",this.updateJingleButtons,this)},render:function(){this.model.get("vcard_updated")||this.vcard_view.refresh();this.$(".main-info .dropdown-button").dropdown({inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"right"}),this.updateSubscriptions(),this.updateJingleButtons(),this.updateStatusMsg(),this.updateName(),this.setButtonsWidth(),this.model.resources.models.forEach(e=>{this.model.resources.requestInfo(e)})},setButtonsWidth:function(){let e=[];this.$(".main-info .button-wrap").each((t,a)=>{e.push(a.clientWidth)}),this.$(".main-info .button-wrap").css("width",`${a.apply(null,e)}px`)},onChangedVisibility:function(){this.model.set("display",this.isVisible())},updateJingleButtons:function(){this.$(".btn-voice-call").switchClass("non-active",!n.get("audio"))},update:function(){let e=this.model.changed;u.has(e,"name")&&this.updateName(),u.has(e,"image")&&this.updateAvatar(),u.has(e,"status_updated")&&this.updateStatus(),u.has(e,"muted")&&this.updateNotifications(),u.has(e,"subscription")&&this.updateSubscriptions(),u.has(e,"subscription_request_in")&&this.updateSubscriptions(),u.has(e,"blocked")&&this.updateStatusMsg(),u.has(e,"status_message")&&this.updateStatusMsg(),(u.has(e,"in_roster")||u.has(e,"blocked")||u.has(e,"subscription"))&&this.updateButtons()},updateName:function(){this.$(".main-info .contact-name").text(this.model.get("name")),this.model.get("name")==this.model.get("roster_name")?this.$(".main-info .contact-name").removeClass("name-is-custom"):this.$(".main-info .contact-name").addClass("name-is-custom")},updateStatus:function(){this.$(".main-info .status").attr("data-status",this.model.get("status")),this.$(".main-info .status-message").text(this.model.getStatusMessage())},updateStatusMsg:function(){this.$(".main-info .status-message").text(this.model.getStatusMessage())},updateAvatar:function(){let e=this.model.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)},updateButtons:function(){let e=this.model.get("in_roster"),t=this.model.get("blocked"),a=this.model.get("server"),i=this.model.get("subscription");this.$(".btn-add").hideIf(e),this.$(".btn-delete").showIf(e),this.$(".btn-block-wrap i").switchClass("btn-block",!t).switchClass("btn-unblock",t),this.$(".btn-block-wrap .btn-name").text(t?n.getString("contact_bar_unblock"):n.getString("contact_bar_block")),this.$(".buttons-wrap .button-wrap:not(.btn-block-wrap)").switchClass("non-active",t),this.$(".btn-auth-request").showIf(!a&&e&&!t&&"both"!==i&&"to"!==i)},updateNotifications:function(){this.$(".btn-mute").switchClass("mdi-bell-off",this.model.get("muted")),this.$(".btn-mute").switchClass("mdi-bell",!this.model.get("muted"))},showQRCode:function(){let e=new VanillaQR({url:"xmpp:"+this.model.get("jid"),noBorder:!0});d.dialogs.ask(n.getString("dialog_show_qr_code__header"),null,{canvas:e.domElement,bottom_text:"<div class=\"name\">"+this.model.get("name")+"</div><div class=\"jid\">"+this.model.get("jid")+"</div>"},{ok_button_text:n.getString("dialog_show_qr_code__button_copy")}).done(t=>{t&&e.domElement.toBlob(e=>navigator.clipboard.write([new ClipboardItem({"image/png":e})]))})},updateSubscriptions:function(){let e=this.model.get("subscription"),t=this.model.get("subscription_request_in"),a=this.model.get("subscription_request_out"),i=this.$("label[for=\"outcoming-subscription\"]"),s=this.$("label[for=\"incoming-subscription\"]");"both"===e?(s.text(n.getString("contact_subscription_send")).prev("input").prop("checked",!0),i.text(n.getString("contact_subscription_receive")).prev("input").prop("checked",!0)):"from"===e?(s.text(n.getString("contact_subscription_send")).prev("input").prop("checked",!0),i.text(n.getString("contact_subscription_ask")).prev("input").prop("checked",!1)):"to"===e?(s.text(n.getString("contact_subscription_accept")).prev("input").prop("checked",!!this.model.get("subscription_preapproved")),i.text(n.getString("contact_subscription_receive")).prev("input").prop("checked",!0)):!e&&(s.text(n.getString("contact_subscription_accept")).prev("input").prop("checked",!!this.model.get("subscription_preapproved")),i.text(n.getString("contact_subscription_ask")).prev("input").prop("checked",!1)),t&&"both"!==e&&s.text(n.getString("contact_subscription_send")).prev("input").prop("checked",!1),a&&i.text(n.getString("contact_subscription_ask")).prev("input").prop("checked",!0)},onChangedSubscription:function(e){let t=this.model,a=r(e.target),n=a.prop("checked");n?"outcoming-subscription"===a.attr("id")?t.askRequest():(t.set("subscription_preapproved",!0),t.acceptRequest()):"outcoming-subscription"===a.attr("id")?t.declineSubscription():t.declineSubscribe()},openChat:function(e){if(!(e&&(r(e.target).closest(".button-wrap").hasClass("non-active")||r(e.target).closest(".button-wrap").length&&this.model.get("blocked")))){let e={};n.chats_view.active_chat&&n.chats_view.active_chat.model.get("jid")===this.model.get("jid")&&n.chats_view.active_chat.model.get("encrypted")&&(e.encrypted=!0),this.model.trigger("open_chat",this.model,e)}},voiceCall:function(e){r(e.target).closest(".button-wrap").hasClass("non-active")||this.model.get("blocked")||n.get("audio")&&this.initCall(e)},initCall:function(){if(n.current_voip_call)return void d.callback_popup_message(n.getString("jingle__error__call_in_progress"),1e3);this.openChat();let e=this.account.chats.getChat(this.model);e.item_view.content.initJingleMessage()},deleteContact:function(){this.model.deleteWithDialog()},blockContact:function(){this.model.blockWithDialog()},unblockContact:function(){this.model.unblockWithDialog()},changeNotifications:function(e){if(!(r(e.target).closest(".button-wrap").hasClass("non-active")||this.model.get("blocked"))){let e=!this.model.get("muted");this.model.set("muted",e),this.account.chat_settings.updateMutedList(this.model.get("jid"),e)}},addContact:function(){n.add_contact_view.show({account:this.account,jid:this.model.get("jid")})},requestAuthorization:function(){this.model.pres("subscribe"),this.model.trigger("presence",this.model,"subscribe_from"),this.openChat()}}),n.GroupChatDetailsView=n.BasicView.extend({className:"details-panel groupchat-details-panel",template:o.group_chats.group_chat_details,ps_selector:".panel-content-wrap",avatar_size:s.AVATAR_SIZES.CONTACT_DETAILS,member_avatar_size:s.AVATAR_SIZES.GROUPCHAT_MEMBER_ITEM,events:{"click .btn-mute":"changeNotifications","click .btn-qr-code":"showQRCode","click .btn-leave":"leaveGroupChat","click .btn-invite":"inviteUser","click .btn-delete-group":"deleteGroup","click .btn-edit-settings":"editProperties","click .btn-default-restrictions":"editDefaultRestrictions","click .btn-chat":"openChat","click .btn-escape":"openChat","click .btn-clear-history":"retractAllMessages","change .circle-avatar input":"changeAvatar","click .list-variant":"changeList"},_initialize:function(){this.account=this.model.account,this.name_field=new n.ContactNameWidget({el:this.$(".name-wrap")[0],model:this.model}),this.participants=this.addChild("participants",n.ParticipantsView,{model:this.model,el:this.$(".participants-wrap")[0]}),this.edit_groups_view=this.addChild("groups",n.ContactEditGroupsView,{el:this.$(".groups-block-wrap")[0]}),this.group_chat_properties=this.addChild("properties_view",n.GroupChatPropertiesView,{model:this.model,el:this.$(".group-chat-properties-wrap")[0]}),this.group_chat_status=this.addChild("status_view",n.GroupChatStatusView,{model:this.model,el:this.$(".status-block-wrap")[0]}),this.group_chat_properties_edit=new n.GroupChatPropertiesEditView({model:this.model}),this.default_restrictions_edit=new n.DefaultRestrictionsView({model:this.model}),this.updateName(),this.updateStatus(),this.updateAvatar(),this.updateColorScheme(),this.account.settings.on("change:color",this.updateColorScheme,this),this.model.on("change",this.update,this),this.model.on("permissions_changed",this.updateButtons,this)},render:function(){this.updateName(),this.updateButtons(),this.model.my_rights||this.model.getMyInfo(()=>{this.updateButtons()}),this.$(".btn-delete").showIf("both"===this.model.get("subscription")),this.$(".btn-join").showIf("both"!==this.model.get("subscription"));let e={inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"right"};return this.$(".select-users-list-wrap .dropdown-button").dropdown(e),this.$(".main-info .dropdown-button").dropdown(e),this.updateList("participants"),this.$(".tabs .indicator").remove(),this.$(".tabs").tabs(),this.$(".indicator").addClass("ground-color-500"),this.setButtonsWidth(),this},update:function(){let e=this.model.changed;u.has(e,"name")&&this.updateName(),u.has(e,"image")&&this.updateAvatar(),u.has(e,"muted")&&this.updateNotifications(),(u.has(e,"status_updated")||u.has(e,"status_message"))&&this.updateStatus()},updateColorScheme:function(){this.$el.attr("data-color",this.account.settings.get("color"))},setButtonsWidth:function(){let e=[];this.$(".main-info .button-wrap").each((t,a)=>{e.push(a.clientWidth)}),this.$(".main-info .button-wrap").css("width",`${a.apply(null,e)}px`)},updateButtons:function(){let e=this.model.my_rights&&this.model.my_rights.fields.find(e=>"owner"==e.var&&e.values),t=this.model.my_rights&&this.model.my_rights.fields.find(e=>"change-group"==e.var&&e.values),a=this.model.get("blocked");this.$(".btn-settings-wrap").switchClass("non-active",!e),this.$(".btn-edit-settings").switchClass("hidden",!(e||t)),this.$(".btn-leave-wrap").switchClass("non-active","both"!=this.model.get("subscription")),this.$(".btn-invite-wrap").switchClass("non-active",this.model.get("private_chat")||"both"!=this.model.get("subscription")),this.$(".btn-default-restrictions-wrap").switchClass("non-active",!e),this.$(".btn-block").hideIf(a),this.$(".btn-unblock").showIf(a)},updateName:function(){this.$(".main-info .contact-name").text(this.model.get("name")),this.model.get("name")==this.model.get("roster_name")?this.$(".main-info .contact-name").removeClass("name-is-custom"):this.$(".main-info .contact-name").addClass("name-is-custom")},changeNotifications:function(e){if(!(r(e.target).closest(".button-wrap").hasClass("non-active")||this.model.get("blocked"))){let e=!this.model.get("muted");this.model.set("muted",e),this.account.chat_settings.updateMutedList(this.model.get("jid"),e)}},updateNotifications:function(){this.$(".btn-mute").switchClass("mdi-bell-off",this.model.get("muted")),this.$(".btn-mute").switchClass("mdi-bell",!this.model.get("muted"))},showQRCode:function(){let e=new VanillaQR({url:"xmpp:"+this.model.get("jid"),noBorder:!0});d.dialogs.ask(n.getString("dialog_show_qr_code__header"),null,{canvas:e.domElement,bottom_text:"<div class=\"name\">"+this.model.get("name")+"</div><div class=\"jid\">"+this.model.get("jid")+"</div>"},{ok_button_text:n.getString("dialog_show_qr_code__button_copy")}).done(t=>{t&&e.domElement.toBlob(e=>navigator.clipboard.write([new ClipboardItem({"image/png":e})]))})},editProperties:function(e){if(!r(e.target).closest(".button-wrap").hasClass("non-active")){let e=c({to:this.model.get("full_jid")||this.model.get("jid"),type:"get"}).c("query",{xmlns:p.NS.GROUP_CHAT});this.account.sendIQ(e,e=>{let t=this.account.parseDataForm(r(e).find(`x[xmlns="${p.NS.DATAFORM}"]`));this.group_chat_properties_edit.open(t)},()=>{d.callback_popup_message(n.getString("groupchat_you_have_no_permissions_to_do_it"),3e3)})}},editDefaultRestrictions:function(e){r(e.target).closest(".button-wrap").hasClass("non-active")||this.default_restrictions_edit.open()},leaveGroupChat:function(e){if(r(e.target).closest(".button-wrap").hasClass("non-active"))return;let t=this.model;d.dialogs.ask(n.getString("groupchat_leave_full"),n.getString("groupchat_leave_confirm",[t.get("name")]),null,{ok_button_text:n.getString("groupchat_leave")}).done(e=>{if(e){t.declineSubscription(),t.removeFromRoster();let e=this.account.chats.getChat(t);e.deleteFromSynchronization(()=>{e.trigger("close_chat"),n.body.setScreen("all-chats",{right:void 0})},()=>{e.trigger("close_chat"),n.body.setScreen("all-chats",{right:void 0})})}})},inviteUser:function(e){r(e.target).closest(".button-wrap").hasClass("non-active")||(!n.invite_panel&&(n.invite_panel=new n.InvitationPanelView({model:n.opened_chats})),n.invite_panel.open(this.account,this.model))},changeList:function(e){let t=r(e.target).closest(".list-variant"),a=t.data("value");this.updateList(a)},updateList:function(e){let t=this.child(e);t||(t=this.addList(e)),t&&(this.$(".tabs .list-variant a").removeClass("active"),this.$(".tabs .list-variant[data-value=\""+e+"\"] a").addClass("active"),t._render())},addList:function(e){let t;return"blocked"===e?t=n.BlockedView:"invitations"===e?t=n.InvitationsView:void 0,t?this.addChild(e,t,{model:this.model,el:this.$(".participants-wrap")[0]}):void 0},getInvitations:function(e,t){let a=c({type:"get",to:this.model.get("full_jid")||this.model.get("jid")}).c("query",{xmlns:p.NS.GROUP_CHAT+"#invite"});this.account.sendFast(a,e,t)},deleteGroup:function(){this.model.deleteWithDialog()},blockContact:function(){this.model.blockWithDialog()},unblockContact:function(){this.model.unblockWithDialog()},updateStatus:function(){this.$(".main-info .status-message").text(this.model.getStatusMessage())},updateAvatar:function(){let e=this.model.cached_image;this.$(".main-info .circle-avatar").setAvatar(e,this.avatar_size)},openChat:function(){this.model.trigger("open_chat",this.model)},changeAvatar:function(e){let t=e.target;if(!t.files.length)return;let a=t.files[0];return(t.value="",a.size>s.MAX_AVATAR_FILE_SIZE)?void d.dialogs.error(n.getString("group_settings__error__avatar_too_large")):a.type.startsWith("image")?void(r(t).siblings(".preloader-wrap").addClass("visible").find(".preloader-wrapper").addClass("active"),d.images.getAvatarFromFile(a).done(e=>{e&&(a.base64=e,this.model.pubAvatar(a,"",function(){r(t).siblings(".preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active")},function(e){r(t).siblings(".preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active");let a=r(e).find("text").text()||n.getString("groupchat_you_have_no_permissions_to_do_it");d.dialogs.error(a)}))})):void d.dialogs.error(n.getString("group_settings__error__wrong_image"))},retractAllMessages:function(){let e=this.account.chats.getChat(this.model);d.dialogs.ask(n.getString("delete_messages__header"),n.getString("delete_messages__confirm"),null,{ok_button_text:n.getString("delete")}).done(t=>{t&&e.retractAllMessages(!0)})}}),n.GroupChatStatusView=n.BasicView.extend({template:o.group_chats.group_status,events:{"click .status-wrap":"setStatus","click .btn-edit-status":"setStatus"},_initialize:function(){this.$el.html(this.template()),this.render(),this.model.on("change:status",this.render,this),this.model.on("change:group_info",this.render,this)},render:function(){let e=this.model.get("group_info");e&&(this.$(".status").attr("data-status",e.status||this.model.get("status")),this.$(".status-message").text(e.status_msg))},setStatus:function(){let e=new n.SetGroupchatStatusView;e.open(this.model)}}),n.GroupChatPropertiesView=n.BasicView.extend({template:o.group_chats.group_chat_properties,events:{"click .group-chat-properties .details-icon":"onClickIcon"},_initialize:function(){this.$el.html(this.template()),this.contact=this.model,this.account=this.model.account,this.model.on("change:group_info",this.update,this),this.model.on("change:vcard_updated",this.update,this)},render:function(){!this.model.get("vcard_updated")&&this.model.vcard&&this.model.vcard.refresh(),this.update()},update:function(){let e=this.model.get("group_info")||{};this.$(".block-name").text(this.model.get("incognito_group")?n.getString("incognito_group_settings__header"):n.getString("public_group_settings__header")),this.$(".jabber-id .value").text(e.jid),this.$(".name .value").text(e.name),this.$(".description .value").text(e.description),this.$(".model .value").text(d.pretty_name(e.model)),this.$(".status .value").text(d.pretty_name(e.status)),this.$(".searchable .value").text("none"===e.searchable?n.getString("groupchat_index_type_none"):d.pretty_name(e.searchable)),this.$(".name-info-wrap").switchClass("hidden",!e.name),this.$(".description-info-wrap").switchClass("hidden",!e.description),this.$(".model-info-wrap").switchClass("hidden",!e.model),this.$(".status-info-wrap").switchClass("hidden",!e.status),this.$(".searchable-info-wrap").switchClass("hidden",!e.searchable)},onClickIcon:function(e){let t=r(e.target).closest(".info-wrap"),a=t.find(".value"),i="";a.each((e,a)=>{let s=r(a),o=s.text();if(t.hasClass("searchable-info-wrap")){let e=t.find(".label").first().text();o===n.getString("groupchat_index_type_none")&&(o+=" "+e.toLowerCase())}o&&""!=i&&(i+="\n"),o&&(i+=o),i&&d.copyTextToClipboard(i,n.getString("toast__copied_in_clipboard"),n.getString("toast__not_copied_in_clipboard"))})}}),n.GroupChatPropertiesEditView=n.BasicView.extend({className:"modal dialog-modal group-chat-properties-edit",events:{"click .btn-save":"saveChanges","click .btn-cancel":"close","change input":"updateSaveButton","keyup .property-wrap .text-field":"updateSaveButton"},_initialize:function(){this.account=this.model.account,this.contact=this.model,this.model.on("change:name",this.updateName,this)},open:function(e){this.data_form=e;let t=this.data_form.fields.filter(e=>"fixed"==e.type||"hidden"==e.type).length==this.data_form.fields.length;this.$el.html(o.group_chats.group_chat_properties_edit({all_fixed:t,fields:e.fields,privacy:this.contact.get("incognito_group"),jid:this.model.get("jid")})),this.$el.openModal({ready:()=>{this.$(".modal-content").css("height",this.$el.height()-115).perfectScrollbar({theme:"item-list"}),this.updateScrollBar()},complete:()=>{this.$el.detach(),this.$(".modal-content").css("height","100%"),this.data.set("visible",!1)}})},close:function(){this.$el.closeModal({complete:()=>{this.$el.detach(),this.$(".modal-content").css("height","100%"),this.data.set("visible",!1)}})},updateName:function(){this.$(".name-info-wrap").find(".name").find(".value").text(this.model.get("name"))},saveChanges:function(){if(this.$(".btn-save").hasClass("non-active"))return;let e=!1,t=c({type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("query",{xmlns:p.NS.GROUP_CHAT});this.data_form.fields.forEach(t=>{if("hidden"===t.type||"fixed"===t.type)return;let a=t.values?t.values[0]:null,n=this.$("."+t.var+"-field input:checked"),i=this.$("."+t.var+"-field input[type=\"text\"]"),s=this.$("."+t.var+"-field textarea"),o="";if(n.length&&(o=n[0].id),i.length&&(o=i.val()),s.length&&(o=s.val()),a!==o){let a=this.data_form.fields.indexOf(t);t.values=[o],this.data_form.fields[a]=t,e=!0}}),e?(t=this.account.addDataFormToStanza(t,this.data_form),this.account.sendIQ(t,e=>{let t=r(e),a=u.clone(this.contact.get("group_info")),n={name:t.find("field[var=\"name\"] value").text(),searchable:t.find("field[var=\"index\"]").children("value").text(),model:t.find("field[var=\"membership\"]").children("value").text(),description:t.find("field[var=\"description\"] value").text(),status:t.find("field[var=\"status\"]").children("value").text()};this.$("button").addClass("non-active"),this.close(),u.extend(a,n),this.model.set("group_info",a)},e=>{this.$("button").addClass("non-active");let t=r(e).find("error text").text()||n.getString("groupchat_you_have_no_permissions_to_do_it");this.close(),d.dialogs.error(t)})):this.$("button").removeClass("non-active")},updateSaveButton:function(){let e=!1;this.data_form.fields.forEach(t=>{if("hidden"===t.type||"fixed"===t.type)return;let a=t.values?t.values[0]:null,n=this.$("."+t.var+"-field input:checked"),i=this.$("."+t.var+"-field input[type=\"text\"]"),s=this.$("."+t.var+"-field textarea"),o="";n.length&&(o=n[0].id),i.length&&(o=i.val()),s.length&&(o=s.val()),a!==o&&(e=!0)}),this.$(".btn-save").switchClass("non-active",!e)}}),n.InvitationsView=n.BasicView.extend({events:{"click .revoke-invitation":"revokeInvitation"},status:"invitations",member_avatar_size:s.AVATAR_SIZES.GROUPCHAT_MEMBER_ITEM,_initialize:function(e){this.contact=e.model,this.account=this.contact.account,this.$error=r("<p class=\"errors\"/>")},_render:function(){this.$el.html(r(o.preloader())),this.updateInvitations()},updateInvitations:function(){this.parent.getInvitations(e=>{this.$el.prev().find(`.list-variant[data-value="${this.status}"] a`).hasClass("active")&&(this.$el.html(""),r(e).find("query").find("user").each((e,t)=>{let a={jid:r(t).attr("jid"),status:this.status},n=r(o.group_chats.invited_member_item(a)),i=h.getDefaultAvatar(a.jid);this.$el.append(n),n.find(".circle-avatar").setAvatar(i,this.member_avatar_size)}),!r(e).find("query").find("user").length&&this.$el.html(this.$error.text(n.getString("group_settings__invitations__no_pending_invitations"))))},e=>{this.$el.prev().find(`.list-variant[data-value="${this.status}"] a`).hasClass("active")&&this.$el.html(this.$error.text(r(e).find("text").text()||n.getString("groupchat_you_have_no_permissions_to_do_it")))})},revokeInvitation:function(e){let t=r(e.target).closest(".invitations-user"),a=t.data("jid"),i=c({from:this.account.get("jid"),to:this.contact.get("full_jid")||this.contact.get("jid"),type:"set"}).c("revoke",{xmlns:`${p.NS.GROUP_CHAT}#invite`}).c("jid").t(a);this.account.sendIQ(i,()=>{t.remove(),this.$el.children().length||this.$el.html(this.$error.text(n.getString("group_settings__invitations__no_pending_invitations")))})}}),n.BlockedView=n.BasicView.extend({events:{"click .unblock-user":"unblockUser"},status:"blocked",member_avatar_size:s.AVATAR_SIZES.GROUPCHAT_MEMBER_ITEM,_initialize:function(e){this.contact=e.model,this.account=this.contact.account,this.$error=r("<p class=\"errors\"/>")},_render:function(){this.$el.html(r(o.preloader())),this.updateBlockedParticipants()},updateBlockedParticipants:function(){this.contact.getBlockedParticipants(e=>{this.$el.prev().find(`.list-variant[data-value="${this.status}"] a`).hasClass("active")&&(this.$el.html(""),r(e).find("query").find("user").each((e,t)=>{let a={jid:r(t).attr("jid"),status:this.status},n=r(o.group_chats.invited_member_item(a)),i=h.getDefaultAvatar(a.jid);this.$el.append(n),n.find(".circle-avatar").setAvatar(i,this.member_avatar_size)}),!r(e).find("query").find("user").length&&this.$el.html(this.$error.text(n.getString("groupchat_blocklist_empty"))))},e=>{this.$el.prev().find(`.list-variant[data-value="${this.status}"] a`).hasClass("active")&&this.$el.html(this.$error.text(r(e).find("text").text()||n.getString("groupchat_you_have_no_permissions_to_do_it")))})},unblockUser:function(e){let t=r(e.target).closest(".blocked-user"),a=t.data("jid"),i=c({type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("unblock",{xmlns:`${p.NS.GROUP_CHAT}#block`}).c("jid").t(a);this.account.sendFast(i,()=>{t.remove(),this.$el.children().length||this.$el.html(this.$error.text(n.getString("groupchat_blocklist_empty")))})}}),n.ParticipantsView=n.BasicView.extend({className:"overflow-visible",ps_selector:".members-list-wrap",ps_settings:{theme:"item-list"},template:o.group_chats.participants,member_avatar_size:s.AVATAR_SIZES.GROUPCHAT_MEMBER_ITEM,events:{"click .participant-wrap":"showParticipantProperties","keyup .participants-search-form":"keyUpSearch","click .close-search-icon":"clearSearch","click .btn-block":"blockParticipant","click .btn-kick":"kickParticipant"},_initialize:function(){this.account=this.model.account,this.participants=this.model.participants,this.participants.on("participants_updated",this.onParticipantsUpdated,this),this.$(this.ps_selector).perfectScrollbar(this.ps_settings)},_render:function(){return this.$el.html(this.template()).addClass("request-waiting"),this.participant_properties_panel=new n.ParticipantPropertiesView({model:this.model}),this.updateParticipants(),this.$(".members-list-wrap").perfectScrollbar({theme:"item-list"}),this.model.all_rights||this.model.getAllRights(),this},updateParticipants:function(){this.model.participants.participantsRequest({version:this.participants.version},e=>{let t=r(e),a=t.find("query").attr("version");return this.model.get("group_info")&&(0===this.participants.version&&(this.model.get("group_info").members_num=this.participants.length),this.participants.length!=this.model.get("group_info").members_num)?(this.account.groupchat_settings.resetParticipantsList(this.model.get("jid")),this.participants.resetParticipants(),void this.updateParticipants()):void(this.participants.version>a||(a&&this.account.groupchat_settings.setParticipantsListVersion(this.model.get("jid"),a),this.participants.version<a&&this.participants.updateVersion(),this.renderParticipants()))},()=>{this.$el.removeClass("request-waiting")})},onParticipantsUpdated:function(){this.isVisible()&&this.renderParticipants()},renderParticipants:function(){this.participants.each(e=>{this.renderMemberItem(e)}),this.$el.removeClass("request-waiting")},blockParticipant:function(e){let t=r(e.target).closest(".participant-wrap");d.dialogs.ask(n.getString("groupchat__dialog_block_member__header"),n.getString("groupchat__dialog_block_member__confirm",[t.find(".participant-info .nickname").text()]),null,{ok_button_text:n.getString("groupchat_block")}).done(e=>{if(e){let e=this.participants.get(t.attr("data-id"));e&&e.block(()=>{t.remove(),this.parent.updateScrollBar()},e=>{r(e).find("not-allowed").length&&d.dialogs.error(n.getString("groupchat_you_have_no_permissions_to_do_it"))})}})},kickParticipant:function(e){let t=r(e.target).closest(".participant-wrap");d.dialogs.ask(n.getString("groupchat_kick_member"),n.getString("groupchat_do_you_really_want_to_kick_membername",[t.find(".participant-info .nickname").text()]),null,{ok_button_text:n.getString("groupchat_kick")}).done(e=>{if(e){let e=this.participants.get(t.attr("data-id"));e&&e.kick(()=>{t.remove(),this.parent.updateScrollBar()},e=>{r(e).find("not-allowed").length&&d.dialogs.error(n.getString("groupchat_you_have_no_permissions_to_do_it"))})}})},renderMemberItem:function(e){let t=u.clone(e.attributes);t.nickname=u.escape(t.nickname),t.badge=u.escape(t.badge),t.is_me=t.jid==this.account.get("jid"),t.pretty_present=t.present?m(t.present).isValid()?m(t.present).fromNow():m(t.present.substr(0,t.present.length-1)).fromNow():"";let a=r(o.group_chats.group_member_item(t)),n=this.$("tr[data-id=\""+t.id+"\"]");a.emojify(".badge",{emoji_size:16}),n.length?(n.hasClass("active")&&a.addClass("active"),a.insertBefore(n),n.detach()):t.is_me?a.prependTo(this.$(".members-list-wrap tbody")):a.appendTo(this.$(".members-list-wrap tbody")),this.updateMemberAvatar(t)},updateMemberAvatar:function(e){let t=h.getDefaultAvatar(e.nickname||e.jid||e.id),a=e.id?this.$("tr[data-id=\""+e.id+"\"] .circle-avatar"):this.$(".list-item[data-jid=\""+e.jid+"\"] .circle-avatar");if(a.setAvatar(t,this.member_avatar_size),e.avatar){let t=this.account.chat_settings.getB64Avatar(e.id);if(this.account.chat_settings.getHashAvatar(e.id)==e.avatar&&t)a.setAvatar(t,this.member_avatar_size);else{let t=`${p.NS.PUBSUB_AVATAR_DATA}#${e.id}`;this.model.getAvatar(e.avatar,t,t=>{this.account.chat_settings.updateCachedAvatars(e.id,e.avatar,t),this.$(".list-item[data-id=\""+e.id+"\"] .circle-avatar").setAvatar(t,this.member_avatar_size),this.account.get("jid")===e.jid&&(this.model.my_info.set("b64_avatar",t),this.model.trigger("update_my_info"))})}}},showParticipantProperties:function(e){let t=r(e.target);if(t.closest(".buttons-wrap").length)return;let a=t.closest(".participant-wrap"),n=a.attr("data-id"),i=this.model.participants.get(n);a.attr("data-jid")&&a.attr("data-jid")===this.account.get("jid")&&(n=""),this.model.participants.participantsRequest({id:n},e=>{let t=this.account.parseDataForm(r(e).find(`x[xmlns="${p.NS.DATAFORM}"]`));this.participant_properties_panel.open(i,t)})},keyUpSearch:function(e){e.keyCode===s.KEY_ESCAPE?this.clearSearch(e):this.searchParticipant()},searchParticipant:function(){let e=this.$(".participants-search-form input").val().toLowerCase();this.$(".members-list-wrap .participant-wrap").each((t,a)=>{let n=r(a),i=n.data("id"),s=this.model.participants.find(e=>e.get("id")===i),o=s.get("jid").toLowerCase(),d=s.get("nickname").toLowerCase();n.hideIf(0>d.indexOf(e)&&0>o.indexOf(e))}),e?this.$(".close-search-icon").show():this.$(".close-search-icon").hide()},clearSearch:function(e){e&&e.preventDefault(),this.$(".search-input").val(""),this.searchParticipant()}}),n.ParticipantPropertiesView=n.BasicView.extend({className:"modal dialog-modal edit-rights",template:o.group_chats.participant_rights,member_details_avatar_size:s.AVATAR_SIZES.PARTICIPANT_DETAILS_ITEM,ps_selector:".modal-content",ps_settings:{theme:"item-list"},events:{"click .btn-cancel-changes":"close","change .clickable-field input":"changeRights","click .btn-save-user-rights":"saveRights","click .participant-details-item:not(.unsubscribed) .nickname":"editNickname","change .circle-avatar input":"changeAvatar","click .btn-block-participant":"block","click .btn-kick-participant":"kick","click .btn-set-badge":"editBadge","click .btn-participant-messages":"getMessages","click .btn-chat":"getPrivateChat","click .property-variant":"changeTimerValue","keydown .rich-textarea":"checkKeydown","keyup .rich-textarea":"checkKeyup"},_initialize:function(){this.contact=this.model,this.account=this.model.account},open:function(e,t){e&&(this.participant=e,this.participant.on("change:badge",this.onBadgeUpdated,this),this.data_form=t,this.render(),this.$el.openModal({ready:()=>{this.$el.css("height",""),.1*r(window).height()+this.$el.height()>r(window).height()&&this.$el.css("height",.9*r(window).height()),this.$(".modal-content").css("max-height","calc(100% - "+(64+this.$(".header").height())+"px)"),this.scrollToTop(),this.updateSaveButton();let e={inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"};this.$(".select-timer .dropdown-button").dropdown(e),this.$(".participant-details-item .dropdown-button").dropdown(u.extend(e,{alignment:"right"}))},complete:()=>{this.render(),this.$el.detach(),this.data.set("visible",!1)}}))},close:function(){this.$el.closeModal({complete:()=>{this.render(),this.$el.detach(),this.data.set("visible",!1)}})},render:function(){this.new_avatar="";let e=u.clone(this.participant.attributes);e.nickname=u.escape(e.nickname),e.blocked=e.blocked,e.subscription=null===e.subscription?null:"both",e.badge=u.escape(e.badge),e.is_myself=e.jid===this.account.get("jid"),e.incognito_chat=!!(this.contact.get("group_info")&&"incognito"===this.contact.get("group_info").privacy);let t;this.contact.get("private_chat")?(this.$el.addClass("edit-rights-private"),t=r(o.group_chats.private_participant_details(e))):t=r(o.group_chats.participant_details_item(e)),this.$(".header").html(t),this.$(".buttons-wrap .button-wrap:not(.btn-chat-wrap):not(.btn-participant-messages-wrap)").switchClass("non-active",null===e.subscription),this.$(".btn-chat-wrap").switchClass("non-active",this.participant.get("jid")===this.account.get("jid")),this.updateMemberAvatar(this.participant),this.participant_messages=[],this.actual_rights=[],this.contact.get("private_chat")?(this.$(".modal-content").addClass("hidden"),this.$(".modal-footer").switchClass("hidden",this.participant.get("jid")!==this.account.get("jid"))):this.setActualRights(),this.updateScrollBar(),this.$(".participant-info #edit-nickname").on("focusout",()=>{let e=this.$("#edit-nickname").getTextFromRichTextarea().trim();""===e&&(e=this.participant.get("nickname")),this.$(".participant-info #edit-nickname").hide(),this.$(".participant-info .nickname").show(),this.updateNickname(e)}),this.$(".content").perfectScrollbar({theme:"item-list"})},updateMemberAvatar:function(e){let t=e.get("id"),a=this.$(`.participant-details-item[data-id="${t}"] .circle-avatar`);if(e.image=h.getDefaultAvatar(e.get("nickname")||e.get("jid")||t),a.setAvatar(e.image,this.member_details_avatar_size),this.$(".participant-details-item[data-id=\""+e.id+"\"]").emojify(".badge",{emoji_size:18}),!e.get("avatar"))this.account.chat_settings.getHashAvatar(t)&&a.setAvatar(this.account.chat_settings.getB64Avatar(t),this.member_details_avatar_size);else if(this.account.chat_settings.getHashAvatar(t)==e.get("avatar")&&this.account.chat_settings.getB64Avatar(t))a.setAvatar(this.account.chat_settings.getB64Avatar(t),this.member_details_avatar_size);else{let a=p.NS.PUBSUB_AVATAR_DATA+"#"+t;this.contact.getAvatar(e.avatar,a,e=>{this.$(`.participant-details-item[data-id="${t}"] .circle-avatar`).setAvatar(e,this.member_details_avatar_size)})}},updateRightsView:function(e){r(e.target).hasClass("non-active")||this.render(this.participant)},getMessages:function(e){let t=this.account.chats.getChat(this.contact);t.messages_view=new n.ParticipantMessagesView({model:t,contact:this.contact,participant:this.participant.attributes}),t.messages_view.messagesRequest(e,()=>{this.close(),n.body.setScreen("all-chats",{right:"participant_messages",model:t})})},changeAvatar:function(e){let t=e.target;if(!t.files.length)return;let a=t.files[0];return(t.value="",a.size>s.MAX_AVATAR_FILE_SIZE)?void d.dialogs.error(n.getString("group_settings__error__avatar_too_large")):a.type.startsWith("image")?void d.images.getAvatarFromFile(a).done(e=>{e&&(a.base64=e,this.new_avatar=a,this.$(".circle-avatar").addClass("changed").setAvatar(e,this.member_details_avatar_size),this.updateSaveButton())}):void d.dialogs.error(n.getString("group_settings__error__wrong_image"))},changeTimerValue:function(e){let t=r(e.target),a=t.closest(".select-timer").find(".property-value"),i=t.closest(".right-item").find("input");t.attr("data-value")!==a.attr("data-value")&&(t.closest(".right-item").addClass("changed-timer changed"),this.updateSaveButton()),a.text(t.text()),a.attr("data-value",t.attr("data-value")),"0"===t.attr("data-value")?a.addClass("default-value").text(n.getString("dialog_rights__button_set_timer")):a.hasClass("default-value")&&a.removeClass("default-value"),i.prop("checked")||i.click()},onBadgeUpdated:function(e){let t=u.escape(e.get("badge"));this.updateBadge(t)},updateBadge:function(e){this.$(".badge").html(e).switchClass("hidden",!e),this.$(".participant-info").emojify(".badge")},updateButtons:function(e){this.$(".btn-save-user-rights").switchClass("non-active",!e)},updateSaveButton:function(){let e=this.$(".changed").length;this.updateButtons(e)},updateNickname:function(e){let t=this.$(".participant-details-item[data-id=\""+this.participant.get("id")+"\"]"),a=t.find(".nickname");a.html(p.xmlescape(e)),t.emojify(".nickname"),e===this.participant.get("nickname")?a.removeClass("changed"):a.addClass("changed"),this.updateSaveButton()},editNickname:function(){this.contact.get("private_chat")&&this.account.get("jid")!==this.participant.get("jid")||(this.$(".participant-info .nickname").hide(),this.$(".participant-info #edit-nickname").text(this.$(".participant-info .nickname").text()).show().placeCaretAtEnd())},editBadge:function(e){r(e.target).closest(".button-wrap").hasClass("non-active")||(this.edit_badge_panel=new n.EditBadgeView({model:this}))},checkKeydown:function(e){e&&e.keyCode===s.KEY_ENTER&&(e.preventDefault(),r(document.activeElement).blur())},checkKeyup:function(e){let t=r(e.target),a=t.getTextFromRichTextarea().trim();if("edit-nickname"===e.target.id){let e=a!==this.participant.get("nickname");this.updateButtons(e)}},retractUserMessages:function(){d.dialogs.ask(n.getString("dialog_delete_user_messages__header"),n.getString("dialog_delete_user_messages__header",[this.participant.get("nickname")||this.participant.get("jid")||this.participant.get("id")]),null,{ok_button_text:n.getString("delete")}).done(e=>{if(e&&this.participant.get("id")){let e=this.account.chats.getChat(this.contact);e.retractMessagesByUser(this.participant.get("id"))}})},block:function(){d.dialogs.ask(n.getString("groupchat__dialog_block_member__header"),n.getString("groupchat__dialog_block_member__confirm",[this.participant.get("nickname")]),null,{ok_button_text:n.getString("groupchat_block")}).done(e=>{e&&this.participant.block(()=>{this.close()},function(e){r(e).find("not-allowed").length&&d.dialogs.error(n.getString("groupchat_you_have_no_permissions_to_do_it"))})})},kick:function(e){r(e.target).closest(".button-wrap").hasClass("non-active")||d.dialogs.ask(n.getString("groupchat_kick_member"),n.getString("groupchat_do_you_really_want_to_kick_membername",[this.participant.get("nickname")]),null,{ok_button_text:n.getString("groupchat_kick")}).done(e=>{e&&this.participant.kick(()=>{this.close()},e=>{r(e).find("not-allowed").length&&d.dialogs.error(n.getString("groupchat_you_have_no_permissions_to_do_it"))})})},setActualRights:function(){this.$(".rights-wrap").html(""),this.data_form.fields&&this.data_form.fields.forEach(e=>{if(e=u.clone(e),"list-single"===e.type||"fixed"===e.type&&(!e.values||0==e.values[0])){e.values||(e.values=[]);let t={pretty_name:e.label,name:e.var,expires:e.values?e.values[0]:void 0},a=r(o.group_chats.restriction_item({name:t.name,pretty_name:t.pretty_name,type:e.type})),n;if(e.options&&(n=r(o.group_chats.right_expire_variants({right_name:"default-"+t.name,expire_options:e.options})),a.append(n)),this.$(".rights-wrap").append(a),t.expires&&(this.actual_rights.push({name:t.name,expires:t.expires}),this.$(".right-item #"+t.name).prop("checked",!0).addClass(t.expires),0!=t.expires)){let e=this.$(".right-item.restriction-"+t.name);e.find(".select-timer .property-value").attr("data-value",t.expires).removeClass("default-value").text(m(1e3*+t.expires).fromNow())}}else"fixed"===e.type&&e.values&&this.$(".rights-wrap").append(r("<div class=\"rights-header\"/>").text(e.values[0]))})},getPrivateChat:function(e){if(r(e.target).closest(".button-wrap").hasClass("non-active"))return;let t=this.participant.get("jid"),a=this.account.contacts.get(t);if(!t||this.contact.get("incognito_chat")){let e=c({to:this.contact.domain,type:"set"}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#create`}).c("peer-to-peer",{jid:this.contact.get("jid"),id:this.participant.get("id")});this.account.sendIQ(e,e=>{let t=r(e).find("query localpart").text()+"@"+this.contact.domain,a=this.account.contacts.mergeContact(t);a.set("group_chat",!0),a.set("subscription_preapproved",!0),a.pres("subscribed"),a.pushInRoster(null,()=>{a.pres("subscribe"),a.getMyInfo(),this.close(),a.sendPresent(),this.account.chats.openChat(a);let e=this.account.chats.getChat(a);e.messages.createSystemMessage({from_jid:t,message:n.getString("groupchat__private_chat__text_message_init",[this.participant.get("nickname"),this.contact.get("jid")])})})},e=>{let t=r(e),a=t.find(`x[xmlns="${p.NS.GROUP_CHAT}"] jid`).text();if(a){let e=this.account.contacts.mergeContact(a),t=this.account.chats.getChat(e);return this.close(),void(t&&t.trigger("open"))}let i=r(e).find("text[lang=\"en\"]").text()||r(e).find("text").first().text()||n.getString("groupchat_you_have_no_permissions_to_do_it");this.close(),d.dialogs.error(i)})}else{if(a&&a.get("in_roster"))return this.close(),void a.trigger("open_chat",a);this.close(),n.add_contact_view.show({account:this.account,jid:t})}},changeRights:function(e){let t=r(e.target),a=t.closest(".right-item"),i=t.prop("id");t.prop("checked")?this.actual_rights.find(e=>e.name===i)?a.hasClass("changed-timer")?a.addClass("changed"):a.removeClass("changed"):a.addClass("changed"):this.actual_rights.find(e=>e.name===i)?a.addClass("changed"):(a.removeClass("changed"),a.hasClass("changed-timer")&&a.find(".timer-item-wrap .property-value").addClass("default-value").text(n.getString("dialog_rights__button_set_timer")).attr("data-value","")),this.updateSaveButton()},saveRights:function(e){if(r(e.target).hasClass("non-active"))return;let t=r(e.target),a=this.account.get("jid"),i=this.participant.get("id"),s=this.$(".participant-details-item .circle-avatar"),o=this.$(".participant-info .nickname").text(),l=this.new_avatar,u=!1,m=!1,g=c({from:a,type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("query",{xmlns:p.NS.GROUP_CHAT+"#members"}).c("user",{xmlns:p.NS.GROUP_CHAT,id:i});if(this.$(".buttons-wrap .btn-save-user-rights").addClass("non-active"),l&&s.find(".preloader-wrap").addClass("visible").find(".preloader-wrapper").addClass("active"),o!=this.participant.get("nickname")&&(m=!0,g.c("nickname").t(o).up()),this.$(".right-item").each((e,t)=>{if(r(t).hasClass("changed")){let e=r(t),a=e.find(".field input")[0].id;if(e.find(".field input:checked").val()){let t=e.find(".select-timer .timer-item-wrap .property-value").attr("data-value"),n=this.data_form.fields.find(e=>e.var===a),i=this.data_form.fields.indexOf(n);n.values=[t],this.data_form.fields[i]=n,u=!0}else{let e=this.data_form.fields.find(e=>e.var===a);if(e.values.length){let t=this.data_form.fields.indexOf(e);e.values=[],this.data_form.fields[t]=e,u=!0}}}}),l&&this.contact.pubAvatar(l,"#"+i,()=>{this.$(".buttons-wrap button").removeClass("non-active"),s.find(".preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active"),this.$(`.participant-details-item[data-id="${i}"] .circle-avatar`).setAvatar(l.base64,this.member_details_avatar_size),this.close()},function(e){this.$(".buttons-wrap button").removeClass("non-active"),s.find(".preloader-wrap").removeClass("visible").find(".preloader-wrapper").removeClass("active");let t=r(e).find("text").text()||n.getString("groupchat_you_have_no_permissions_to_do_it");m||d.dialogs.error(t)}),m&&this.account.sendIQ(g,()=>{this.$(".buttons-wrap button").removeClass("non-active"),this.participant.set("nickname",o),this.close()},e=>{this.$(".buttons-wrap button").removeClass("non-active"),this.close(),r(e).find("not-allowed").length&&d.dialogs.error(n.getString("groupchat_you_have_no_permissions_to_do_it"))}),u){let e=c({from:a,type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("query",{xmlns:p.NS.GROUP_CHAT+"#rights"});e=this.account.addDataFormToStanza(e,this.data_form),this.account.sendIQ(e,()=>{this.close()},e=>{this.close(),r(e).find("not-allowed").length&&d.dialogs.error(n.getString("groupchat_you_have_no_permissions_to_do_it"))})}t.blur()}}),n.EditBadgeView=n.BasicView.extend({className:"modal edit-badge",template:o.group_chats.badge_edit_view,events:{"click .btn-cancel":"close","click .btn-save":"saveNewBadge","keydown .badge-text":"checkKey"},_initialize:function(){this.account=this.model.account,this.contact=this.model.contact,this.participant=this.model.participant,this.$el.openModal({ready:()=>{this.participant.get("badge")?this.typeEmoticon(this.participant.get("badge")):this.$(".badge-text").focus()},complete:()=>{this.$el.detach(),this.data.set("visible",!1)}});let e=this.$(".insert-emoticon"),t=this.$(".emoticons-panel-wrap"),a=this.$(".emoticons-panel"),i;for(let e in f.all){let t=r(`<div class="emoji-list-wrap"/>`),i=e.replace(/ /g,"_");r(`<div id=${i} class="emoji-list-header">${n.getString(s.EMOJI_LIST_NAME(e))}</div>`).appendTo(t),u.each(f.all[e],function(e){r("<div class=\"emoji-wrap\"/>").html(e.emojify({emoji_size:24,sprite:i})).appendTo(t)}),t.appendTo(a),a.siblings(".emoji-menu").append(f.all[e][0].emojify({href:i,title:s.EMOJI_LIST_NAME(e),tag_name:"a",emoji_size:20}))}a.perfectScrollbar(u.extend({theme:"item-list"},n.ps_settings)),this.$(".emoji-menu .emoji").click(e=>{a[0].scrollTop=this.$(".emoji-list-wrap "+e.target.attributes.href.value)[0].offsetTop-4}),e.hover(e=>{e&&e.preventDefault&&e.preventDefault(),t.addClass("opened"),i&&clearTimeout(i),a.perfectScrollbar("update")},e=>{e&&e.preventDefault&&e.preventDefault(),i&&clearTimeout(i),i=setTimeout(function(){t.is(":hover")||t.removeClass("opened")},800)}),t.hover(null,e=>{e&&e.preventDefault&&e.preventDefault(),i&&clearTimeout(i),i=setTimeout(function(){t.removeClass("opened")},200)}),t.mousedown(e=>{if(e&&e.preventDefault&&e.preventDefault(),!e.button){let t=r(e.target).closest(".emoji-wrap").find(".emoji");t.length&&this.typeEmoticon(t.data("emoji"))}})},close:function(){this.$el.closeModal({complete:()=>{this.$el.detach(),this.data.set("visible",!1)}})},saveNewBadge:function(){let e=this.$(".badge-text").getTextFromRichTextarea();if(32<Array.from(e).length)this.$(".modal-content .error").text(n.getString("groupchat__set_badge__error_length"));else if(e!=this.participant.get("badge")){let t=c({from:this.account.get("jid"),type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#members`}).c("user",{xmlns:p.NS.GROUP_CHAT,id:this.participant.get("id")}).c("badge").t(e);this.account.sendIQ(t,()=>{this.model.updateBadge(e),this.close()},()=>{this.$(".modal-content .error").text(n.getString("groupchat_you_have_no_permissions_to_do_it"))})}},typeEmoticon:function(e){let t=e.emojify({tag_name:"span"}),a=this.$(".badge-text");a.focus().pasteHtmlAtCaret(t)},checkKey:function(e){e.keyCode===s.KEY_ENTER&&(e.preventDefault(),this.saveNewBadge())}}),n.DefaultRestrictionsView=n.BasicView.extend({className:"modal dialog-modal edit-default-restrictions",template:o.group_chats.default_restrictions,events:{"click .btn-default-restrictions-save":"saveChanges","click .btn-default-restrictions-cancel":"close","change #default_restriction_expires":"changeExpiresTime","click .group-info-editor .property-variant":"changePropertyValue","click .select-timer .property-variant":"changeTimerValue","click .clickable-field input":"changeRestriction","keyup .clickable-field input":"keyUpInput","change .clickable-field input":"updateSaveButton"},_initialize:function(){this.contact=this.model,this.account=this.contact.account},open:function(){this.update(()=>{this.$el.openModal({ready:()=>{this.$(".select-timer .dropdown-button").dropdown({inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"}),this.updateScrollBar()},complete:()=>{this.$el.detach(),this.data.set("visible",!1)}})})},close:function(){this.$el.closeModal({complete:()=>{this.hide.bind(this)}})},update:function(e){this.$(".btn-default-restrictions-save").addClass("non-active"),this.default_restrictions=[],this.actual_default_restrictions=[],this.$("button").blur();let t=c({from:this.account.get("jid"),type:"get",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#default-rights`});this.account.sendFast(t,t=>{this.showDefaultRestrictions(t),e&&e()},()=>{d.callback_popup_message(n.getString("groupchat_you_have_no_permissions_to_do_it"),3e3)})},updateSaveButton:function(){let e=!1;this.$(".default-restrictions-list-wrap .right-item").each((t,a)=>{let n=r(a),i=n.find("input").attr("id"),s=n.find(".select-timer .property-value").attr("data-value");i=i.slice(8,i.length),this.actual_default_restrictions.find(e=>e.name==i&&e.expires==s)||(n.find("input").prop("checked")?e=!0:this.actual_default_restrictions.find(e=>e.name==i)&&(e=!0))}),this.$(".btn-default-restrictions-save").switchClass("non-active",!e)},changeRestriction:function(e){let t=r(e.target);t.prop("checked")||t.closest(".right-item").find(".select-timer .property-value").attr("data-value","").addClass("default-value").text(n.getString("dialog_rights__button_set_timer"))},keyUpInput:function(e){e&&e.keyCode===s.KEY_ENTER&&r(e.target).click()},changePropertyValue:function(e){let t=r(e.target),a=t.closest(".property-field").find(".property-value");a.text(t.text()),a.attr("data-value",t.attr("data-value"))},changeTimerValue:function(e){let t=r(e.target),a=t.closest(".select-timer").find(".property-value"),i=t.closest(".right-item").find("input");a.text(t.text()),a.attr("data-value",t.attr("data-value")),0==t.attr("data-value")?(a.addClass("default-value"),a.text(n.getString("dialog_rights__button_set_timer"))):a.hasClass("default-value")&&a.removeClass("default-value"),i.prop("checked")||i.prop("checked",!0),this.updateSaveButton()},showDefaultRestrictions:function(e){let t=this.account.parseDataForm(r(e).find(`x[xmlns="${p.NS.DATAFORM}"]`));t&&(this.default_restrictions=u.clone(t)),t.fields.forEach(e=>{if("fixed"!==e.type&&"hidden"!==e.type){let t={pretty_name:e.label,name:e.var,expires:e.values?e.values[0]:void 0},a=this.$(".default-restrictions-list-wrap .right-item.restriction-default-"+t.name),n=r(o.group_chats.restriction_item({name:"default-"+t.name,pretty_name:t.pretty_name,type:e.type})),i=r(o.group_chats.right_expire_variants({right_name:"default-"+t.name,expire_options:e.options}));if(a.length&&a.detach(),n.append(i),this.$(".default-restrictions-list-wrap").append(n),t.expires&&(this.actual_default_restrictions.push({name:t.name,expires:t.expires}),this.$(".right-item #default-"+t.name).prop("checked",!0).addClass(t.expires),0!=t.expires)){let e=this.$(".right-item.restriction-default-"+t.name);e.find(".select-timer .property-value").attr("data-value",t.expires).removeClass("default-value").text(t.expires)}}})},saveChanges:function(){if(this.$(".btn-default-restrictions-save").hasClass("non-active"))return;this.$("button").blur();let e=c({from:this.account.get("jid"),to:this.contact.get("full_jid")||this.contact.get("jid"),type:"set"}).c("query",{xmlns:`${p.NS.GROUP_CHAT}#default-rights`}),t=!1,a=u.clone(this.default_restrictions);this.$(".default-restrictions-list-wrap .right-item").each((e,n)=>{let i=r(n),s=i.find("input").attr("id"),o=i.find(".select-timer .property-value").attr("data-value");if(s=s.slice(8,s.length),!this.actual_default_restrictions.find(e=>e.name==s&&e.expires==o))if(i.find("input").prop("checked")){let e=a.fields.find(e=>e.var===s),n=a.fields.indexOf(e);e.values=[o],a.fields[n]=e,t=!0}else if(this.actual_default_restrictions.find(e=>e.name==s)){let e=a.fields.find(e=>e.var===s),n=a.fields.indexOf(e);e.values=[""],a.fields[n]=e,t=!0}}),t&&(this.account.addDataFormToStanza(e,a),this.account.sendIQ(e,()=>{this.close()},e=>{let t=r(e).find("error text").text()||n.getString("groupchat_you_have_no_permissions_to_do_it");d.dialogs.error(t),this.close()}))},changeExpiresTime:function(e){let t=r(e.target),a=t.val(),i=t.prev();"0"==t.val()?i.find(".restriction-description").text(n.getString("groupchat__rights_timer__indefinitely")):i.find(".restriction-description").text(n.getString("groupchat__rights_timer__text_expire",[+a])),i.find("input").removeClass().addClass(a),t.remove()}}),n.Participant=Backbone.Model.extend({idAttribute:"id",initialize:function(e,t){let a=u.clone(e);this.model=t.model,this.contact=this.model.contact,this.account=this.contact.account,this.on("change:avatar",this.getBase64Avatar,this),this.set(a),this.getBase64Avatar()},getBase64Avatar:function(){if(this.get("id")&&this.get("avatar")){let e=this.account.chat_settings.getAvatarInfoById(this.get("id"));if(e&&e.avatar_hash==this.get("avatar"))return this.set("b64_avatar",e.avatar_b64),void(this.get("jid")===this.account.get("jid")&&this.contact.trigger("update_my_info"));let t=p.NS.PUBSUB_AVATAR_DATA+"#"+this.get("id");this.contact.getAvatar(this.get("avatar"),t,e=>{this.account.chat_settings.updateCachedAvatars(this.get("id"),this.get("avatar"),e),this.set("b64_avatar",e),this.get("jid")===this.account.get("jid")&&this.contact.trigger("update_my_info")})}},kick:function(e,t){let a=this.get("id"),n=this.get("jid"),i=c({type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("kick",{xmlns:p.NS.GROUP_CHAT});n?i.c("jid").t(n):i.c("id").t(a),this.account.sendIQ(i,()=>{e&&e()},e=>{t&&t(e)})},block:function(e,t){let a=this.get("id"),n=c({type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("block",{xmlns:`${p.NS.GROUP_CHAT}#block`}).c("id").t(a);this.account.sendIQ(n,()=>{e&&e()},function(e){t&&t(e)})}}),n.Participants=Backbone.Collection.extend({model:n.Participant,comparator:"nickname",initialize:function(e,t){this.contact=t.contact,this.account=this.contact.account,this.version=this.account.groupchat_settings.getParticipantsListVersion(this.contact.get("jid")),this.getCachedParticipants(),this.contact.on("update_participants",this.updateParticipants,this),this.on("change:nickname",this.sort,this)},updateVersion:function(){this.version=this.account.groupchat_settings.getParticipantsListVersion(this.contact.get("jid"))||this.version},getCachedParticipants:function(){this.account.groupchat_settings.getParticipantsList(this.contact.get("jid")).forEach(e=>{this.mergeParticipant(e)})},mergeParticipant:function(e){"object"!=typeof e&&(e={id:e});let t=this.get(e.id);return t?t.set(e):t=this.create(e,{model:this}),t},resetParticipants:function(){this.version=0,u.each(u.clone(this.models),function(e){e.destroy()})},getRights:function(e){let t=[];return r(e).each((e,a)=>{let n=r(a).attr("name"),i=r(a).attr("translation"),s=r(a).attr("issued-at"),o=r(a).attr("expires");t.push({name:n,pretty_name:i,issued_time:s,expires_time:o})}),t},updateParticipants:function(){this.participantsRequest({version:this.version},()=>{this.trigger("participants_updated")})},participantsRequest:function(e,t,a){e=e||{};let n=e.id,i=e.version||0,s=c({to:this.contact.get("full_jid"),type:"get"});null==n?s.c("query",{xmlns:`${p.NS.GROUP_CHAT}#members`,version:i}):e.properties?s.c("query",{xmlns:`${p.NS.GROUP_CHAT}#members`,id:n}):s.c("query",{xmlns:`${p.NS.GROUP_CHAT}#rights`}).c("user",{xmlns:p.NS.GROUP_CHAT,id:n}),this.account.sendFast(s,e=>{let a=r(e),n=a.find("query").attr("version");n&&(this.version=+n),a.find(`query user`).each((e,t)=>{let a=r(t),n=a.find("subscription").text(),i=a.find("id").text();"none"===n?(this.get(i)&&this.get(i).destroy(),this.account.groupchat_settings.removeParticipantFromList(this.get("jid"),i)):this.createFromStanza(a)}),t&&t(e)},e=>{a&&a(e)})},search:function(e){let t=[];return this.models.forEach(a=>{let n=a.get("jid");if(e){e=e.toLowerCase();let i=a.get("nickname");(n&&-1<n.toLowerCase().indexOf(e)||i&&-1<i.toLowerCase().indexOf(e))&&t.push(a)}else t.push(a)}),t},createFromStanza:function(e){let t=e.find("jid").text(),a=e.find("nickname").text(),n=e.attr("id"),i=e.find("badge").text(),s=e.find("present").text(),o=e.find(`metadata[xmlns="${p.NS.PUBSUB_AVATAR_METADATA}"]`).find("info").attr("id"),d=e.find("role").text();a.trim().length||(a=t||n);let r={jid:t,id:n,avatar:o,nickname:a,badge:i,present:s,role:d},c=this.mergeParticipant(r);return this.account.get("jid")===c.get("jid")&&(this.contact.my_info=c)&&this.contact.trigger("update_my_info"),this.account.groupchat_settings.updateParticipant(this.contact.get("jid"),r),c}}),n.GroupChatSettings=Backbone.ModelWithStorage.extend({defaults:{participants_lists:[]},getParticipantsListVersion:function(e){let t=u.clone(this.get("participants_lists")),a=t.find(t=>t.jid===e);return a?a.version:0},setParticipantsListVersion:function(e,t){let a=u.clone(this.get("participants_lists")),n=a.find(t=>t.jid===e),i=a.indexOf(n);-1!=i&&a.splice(i,1),n?n.version=t:n={jid:e,participants_list:[],version:0},a.push(n),this.save("participants_lists",a)},getParticipantsList:function(e){let t=u.clone(this.get("participants_lists")),a=t.find(t=>t.jid===e);return a&&a.participants_list?a.participants_list:[]},updateParticipant:function(e,t){let a=u.clone(this.get("participants_lists")),n=a.find(t=>t.jid===e),i=n&&n.version||0,s=n&&n.participants_list||[],o=a.indexOf(n);if(s.length){let e=s.find(e=>e.id===t.id),a=s.indexOf(e);-1==a?s.push(t):s[a]=t}else s.push(t);-1!=o&&a.splice(o,1),a.push({jid:e,participants_list:s,version:i}),this.save("participants_lists",a)},setParticipantsList:function(e,t){let a=u.clone(this.get("participants_lists")),n=a.find(t=>t.jid===e)||[],i=a.indexOf(n);-1!=i&&a.splice(i,1),a.push({jid:e,participants_list:t,version:n.version}),this.save("participants_lists",a)},removeParticipantFromList:function(e,t){let a=this.getParticipantsList(e);if(a.length){let n=a.indexOf(a.find(e=>e.id===t));-1!=n&&a.splice(n,1),this.setParticipantsList(e,a)}},resetParticipantsList:function(e){let t=u.clone(this.get("participants_lists")),a=t.indexOf(t.find(t=>t.jid===e));-1!=a&&t.splice(a,1),t.push({jid:e,participants_list:[],version:0}),this.save("participants_lists",t)}}),n.GroupchatInvitationView=n.BasicView.extend({className:"details-panel invitation-view",template:o.group_chats.invitation,ps_selector:".panel-content",avatar_size:s.AVATAR_SIZES.CONTACT_DETAILS,events:{"click .btn-join":"join","click .btn-decline":"reject","click .btn-block":"blockContact"},_initialize:function(e){this.account=this.model.account,this.$(".msg-text").text(e.message&&e.message.get("message")?e.message.get("message"):n.getString("groupchat__public_group__text_invitation",[this.account.get("jid")])),this.message=e.message,this.model.on("change",this.update,this)},render:function(){this.updateAvatar(),this.updateName()},update:function(){let e=this.model.changed;u.has(e,"name")&&this.updateName(),u.has(e,"image")&&this.updateAvatar()},openChat:function(){this.model.set("in_roster",!0),this.model.trigger("open_chat",this.model)},closeChat:function(){let e=this.account.chats.getChat(this.model);e.set({opened:!1,display:!1,active:!1}),n.body.setScreen("all-chats",{right:void 0}),e.item_view.content.readMessages()},updateAvatar:function(){let e=this.model.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)},updateName:function(){this.$(".main-info  .name-wrap").text(this.model.get("name")),this.model.get("name-wrap")==this.model.get("jid")?(this.$(".main-info .name-wrap").addClass("name-is-jid"),this.$(".main-info  .jid").text("")):(this.$(".main-info .name-wrap").removeClass("name-is-jid"),this.$(".main-info  .jid").text(this.model.get("jid")))},blockInvitation:function(){if(this.account.connection&&this.account.connection.do_synchronization)return;let e=this.model.get("jid"),t=c({type:"get"}).c("blocklist",{xmlns:p.NS.BLOCKING}),a=c({type:"set"}).c("unblock",{xmlns:p.NS.BLOCKING}),n=c({type:"set"}).c("block",{xmlns:p.NS.BLOCKING}).c("item",{jid:this.model.get("jid")+"/"+m.now()});this.account.sendIQ(t,t=>{let i=r(t).find("item");0<i.length&&i.each(function(t,n){let i=r(n).attr("jid");-1<i.indexOf(e)&&a.c("item",{jid:i}).up()}),r(a.nodeTree).find("item").length?this.account.sendIQ(a,()=>{this.account.sendIQ(n)}):this.account.sendIQ(n)})},join:function(){let e=this.model;e.set("subscription_preapproved",!0),e.acceptRequest(),e.pushInRoster(null,()=>{e.askRequest(),this.blockInvitation(),e.getMyInfo(),e.sendPresent(),this.openChat()}),e.trigger("remove_invite",e)},reject:function(){let e=this.model;this.closeChat();let t=c({to:e.get("full_jid")||e.get("jid"),type:"set"}).c("decline",{xmlns:`${p.NS.GROUP_CHAT}#invite`});this.account.sendFast(t,()=>{},()=>{e.declineRequest(),this.blockInvitation()})},blockContact:function(){let e=this.model;d.dialogs.ask(n.getString("contact_block"),n.getString("block_contact_confirm",[e.get("name"),this.account.get("jid")]),null,{ok_button_text:n.getString("contact_bar_block")}).done(function(t){t&&(e.trigger("remove_invite",e),e.block(),n.trigger("clear_search"))}),this.blockInvitation(),this.closeChat()}}),n.ContactNameWidget=n.InputWidget.extend({field_name:"contact-name",placeholder:"",model_field:"name",setValue:function(e){if(""===name){this.model.set("roster_name",null);let e=this.getDefaultName();this.model.set("name",e)}this.model.pushInRoster({name:e})},getDefaultName:function(){let e=null;if(this.model.get("group_chat"))e=this.model.get("group_info")?this.model.get("group_info").name:this.model.get("jid");else{let t=this.model.get("vcard");e=t.nickname||(t.first_name+" "+t.last_name).trim()||t.fullname||this.model.get("jid")}return e},keyUp:function(){let e=this.getValue();this.$input.switchClass("changed",this.$input.val()!==e),this.$input.val()||this.$input.prop("placeholder",this.getDefaultName()||n.getString("contact_settings__hint_set_name"))}}),n.ContactEditGroupsView=n.BasicView.extend({template:o.groups,events:{"click .existing-group-field label":"editGroup","change .new-group-name input":"checkNewGroup","keyup .new-group-name input":"checkNewGroup","click .new-group-checkbox":"addNewGroup"},_initialize:function(){this.account=this.parent.account,this.model=this.parent.model,this.model.on("change:in_roster update_groups",this.render,this)},render:function(){if(this.$el.html(this.template()),this.model.get("in_roster")){let e=u.clone(this.model.get("groups")),t=u.map(this.account.groups.notSpecial(),function(t){let a=t.get("name");return{name:a,checked:u.contains(e,a),id:g()}});this.$(".groups").html(o.groups_checkbox_list({groups:t})).appendTo(this.$(".groups-wrap"))}this.$el.showIf(this.model.get("in_roster")),this.parent.updateScrollBar()},editGroup:function(e){let t=r(e.target),a=t.siblings("input"),n=!a.prop("checked"),i=a.attr("data-groupname"),s=u.clone(this.model.get("groups")),o=s.indexOf(i);a.prop("checked",n),n?s.push(i):0<=o&&s.splice(o,1),this.model.pushInRoster({groups:s})},checkNewGroup:function(e){let t=r(e.target).val(),a=this.$(".new-group-checkbox");a.showIf(t&&!this.account.groups.get(t))},addNewGroup:function(){let e=this.$(".new-group-name input"),t=e.val(),a=u.clone(this.model.get("groups")),n=a.indexOf(t);0>n&&a.push(t),this.model.pushInRoster({groups:a})}}),n.ContactsBase=Backbone.Collection.extend({model:n.Contact}),n.GroupContacts=n.ContactsBase.extend({initialize:function(e,t){this.group=t.group,this.on("change",this.onContactChanged,this)},comparator:function(e,t){if("online-first"===n.settings.roster.sorting){let a=e.get("status"),n=t.get("status"),i=s.STATUS_WEIGHTS[a],o=s.STATUS_WEIGHTS[n],d=i>=s.STATUS_WEIGHTS.offline,r=o>=s.STATUS_WEIGHTS.offline;if(d^r)return d?1:-1}let a,i;return a=e.get("name").toLowerCase(),i=t.get("name").toLowerCase(),a<i?-1:a>i?1:0},onContactChanged:function(e){let t=e.changed;(u.has(t,"name")||u.has(t,"status_updated"))&&(this.sort(),this.trigger("update_contact_item",e))}}),n.Group=Backbone.Model.extend({defaults:{counter:{all:0,online:0}},initialize:function(e,t){this.account=t.account,e.name||(e.name=e.id),this.set(e),this._settings=this.account.groups_settings.get(e.name),this._settings||(this._settings=this.account.groups_settings.create({name:e.name})),this.settings=this._settings.attributes,this.contacts=new n.GroupContacts(null,{group:this}),this.settings_view=new n.GroupSettingsView({model:this}),this.contacts.on("add update_contact_item",this.updateCounter,this),this.contacts.on("destroy",this.onContactRemoved,this),n._roster_settings.on("change",this.onChangedRosterSettings,this)},isSpecial:function(){return u.isNumber(this.get("id"))},updateCounter:function(){let e=this.contacts.length,t=e-this.contacts.where({status:"offline"}).length;this.set("counter",{all:e,online:t})},renameGroup:function(e){let t=this.get("name"),a=u.clone(this.settings);a.name=e,this._settings.destroy(),this._settings=this.account.groups_settings.create(a),this.settings=this._settings.attributes,this.set({id:e,name:e}),this.trigger("rename",this,t),u.each(u.clone(this.contacts.models),function(a){let n=u.clone(a.get("groups")),i=n.indexOf(t);0<=i&&n.splice(i,1),i=n.indexOf(e),0>i&&n.push(e),a.pushInRoster({groups:n})})},deleteGroup:function(){let e=this.get("name");this._settings.destroy(),u.each(u.clone(this.contacts.models),function(t){let a=u.clone(t.get("groups")),n=a.indexOf(e);0<=n&&a.splice(n,1),t.pushInRoster({groups:a})})},removeContact:function(e){this.contacts.get(e)&&(this.contacts.remove(e),this.onContactRemoved(e))},onContactRemoved:function(e){this.updateCounter(),this.trigger("remove_contact",e),this.contacts.length||this.destroy()},onChangedRosterSettings:function(){let e=n._roster_settings.changed;u.has(e,"show_offline")&&this._settings.trigger("change:show_offline"),u.has(e,"sorting")&&(this.contacts.sort(),this._settings.trigger("change:sorting"))},showSettings:function(){this.settings_view.show()}}),n.GroupView=n.BasicView.extend({className:"roster-group",events:{"click .group-head":"toggle","click .group-head .group-icon":"showGroupSettings","mouseover .group-head":"showSettingsIcon","mouseleave .group-head":"updateGroupIcon"},_initialize:function(){this.account=this.model.account,this.updateName(),this.updateGroupIcon(),this.updateMembersCounter(),this.model.contacts.on("add",this.onContactAdded,this),this.model.on("remove_contact",this.onContactRemoved,this),this.model.contacts.on("update_contact_item",this.updateContactItem,this),this.model.on("change:name",this.updateName,this),this.model.on("change:counter",this.updateMembersCounter,this),this.model._settings.on("change:show_offline",this.onChangedOfflineSetting,this),this.model._settings.on("change:sorting",this.onChangedSortingSetting,this),this.data.on("change:expanded",this.updateExpanded,this)},updateExpanded:function(){let e=this.data.get("expanded");this.$el.switchClass("shrank",!e),this.$(".arrow").switchClass("mdi-chevron-down",e),this.$(".arrow").switchClass("mdi-chevron-right",!e),this.$(".roster-contact").showIf(e),this.parent.parent.onListChanged()},updateGroupIcon:function(){let e=this.model.settings.show_offline,t;"default"===e?t="settings":"yes"===e?t="group-filled":"no"===e&&(t="group-outline"),this.$(".group-icon").attr("data-mdi",t).hideIf("settings"===t)},updateName:function(){this.$(".group-name").text(this.model.get("name"))},updateMembersCounter:function(){let e=this.model.get("counter");this.$(".participant-counter").text("("+e.online+"/"+e.all+")")},onContactAdded:function(e){this.addChild(e.get("jid"),this.item_view,{model:e});this.updateContactItem(e)},onContactRemoved:function(e){this.removeChild(e.get("jid")),this.parent.parent.onListChanged()},updateContactItem:function(e){let t=this.child(e.get("jid"));if(t){let a=n.settings.roster,i=this.model.settings,o="default"===i.show_offline,d="yes"===i.show_offline||o&&"yes"===a.show_offline,r=6<=s.STATUS_WEIGHTS[e.get("status")];t.$el.switchClass("invisible",r&&!d).detach();let c=this.model.contacts.indexOf(e);return 0===c?this.$(".group-head").after(t.$el):this.$(".roster-contact").eq(c-1).after(t.$el),t.$el.showIf(this.data.get("expanded")),this.parent.parent.onListChanged(),t}},showSettingsIcon:function(){this.$(".group-icon").attr("data-mdi","settings").removeClass("hidden")},showGroupSettings:function(e){e.stopPropagation(),this.model.showSettings()},onChangedOfflineSetting:function(){this.updateGroupIcon();let e=n.settings.roster,t=this.model.settings,a="default"===t.show_offline,i="yes"===t.show_offline||a&&"yes"===e.show_offline;u.each(this.children,function(e){let t=6<=s.STATUS_WEIGHTS[e.model.get("status")];e.$el.switchClass("invisible",t&&!i)}),this.parent.parent.onListChanged()},onChangedSortingSetting:function(){u.each(this.children,function(e){e.$el.detach()}),this.model.contacts.each(e=>{this.updateContactItem(e)}),this.parent.parent.onListChanged()}}),n.GroupRightView=n.GroupView.extend({template:o.group_right,item_view:n.ContactItemRightView,__initialize:function(){this.data.set("expanded",this.model.settings.expanded)},toggle:function(){let e=!this.data.get("expanded");this.data.set("expanded",e),this.model._settings.save("expanded",e)}}),n.GroupLeftView=n.GroupView.extend({template:o.group_left,item_view:n.ContactItemLeftView,__initialize:function(){this.data.set("expanded",!0)},toggle:function(e){e.stopPropagation(),this.data.set("expanded",!this.data.get("expanded"))}}),n.GroupSettingsView=n.BasicView.extend({className:"modal main-modal group-settings",template:o.group_settings,ps_selector:".modal-content",avatar_size:s.AVATAR_SIZES.GROUP_SETTINGS,events:{"change .offline input[type=radio][name=offline]":"setOffline","click .btn-apply":"applySettings","click .btn-delete":"deleteGroup","click .btn-cancel":"close"},_initialize:function(){this._settings=this.model._settings;this.model.get("name");this.model.isSpecial()&&(this.$(".group-name input").attr("readonly",!0),this.$(".btn-delete").addClass("hidden")),this.model.on("destroy",this.onDestroy,this)},render:function(){this.$(".group-name input").val(this.model.get("name")),this.$(".group-name .errors").addClass("hidden"),this.$(".offline input[type=radio][name=offline][value="+this.model.settings.show_offline+"]").prop("checked",!0),this.$el.openModal({ready:function(){Materialize.updateTextFields()},complete:this.hide.bind(this)})},setOffline:function(e){this.model._settings.save("show_offline",e.target.value)},validateName:function(e){return e?this.model.collection.get(e)?n.getString("dialog_add_circle__error__text_wrong_name"):void 0:n.getString("dialog_add_circle__error__text_input_name")},applySettings:function(){let e=this.$(".group-name input").val();if(e!==this.model.get("name")){let t=this.validateName(e);if(t)return void this.$(".group-name .errors").text(t).removeClass("hidden");this.model.renameGroup(e)}this.close()},deleteGroup:function(){let e=this.model.get("name");d.dialogs.ask(n.getString("circle_remove"),n.getString("circle_remove_confirm",[e]),null,{ok_button_text:n.getString("remove")}).done(e=>{e&&this.model.deleteGroup()})},onHide:function(){this.$el.detach()},close:function(){this.$el.closeModal({complete:this.hide.bind(this)})},onDestroy:function(){this.$el.closeModal({complete:this.remove.bind(this)})}}),n.Groups=Backbone.Collection.extend({model:n.Group,initialize:function(e,t){this.account=t.account,this.on("change:id",this.sort,this),this.account.on("render_settings",this.render,this)},comparator:function(e,t){return e.isSpecial()===t.isSpecial()?e.get("id")<t.get("id")?-1:1:e.isSpecial()?1:-1},notSpecial:function(){return this.filter(function(e){return!e.isSpecial()})},onGroupAdded:function(e){e.acc_view=new n.AccountGroupView({model:e})},render:function(){this.on("add",this.onGroupAdded,this),this.models.forEach(e=>{e.acc_view=new n.AccountGroupView({model:e})})}}),n.Contacts=n.ContactsBase.extend({initialize:function(e,t){this.account=t.account,this.account.on("deactivate destroy",this.removeAllContacts,this),this.collections=[],this.on("add",u.bind(this.updateInCollections,this,"add")),this.on("change",u.bind(this.updateInCollections,this,"change"))},addCollection:function(e){this.collections.push(e)},updateInCollections:function(e,t){u.each(this.collections,function(a){a.update(t,e)})},mergeContact:function(e){"object"!=typeof e&&(e={jid:e});let t=this.get(e.jid);return t?(e.avatar&&(e.image=e.avatar,delete e.avatar,t.cached_image=h.getCachedImage(e.image)),t.set(e)):t=this.create(e,{account:this.account}),t},blockContact:function(e,t,a){let n=c({type:"set"}).c("block",{xmlns:p.NS.BLOCKING}).c("item",{jid:e});this.account.sendIQ(n,t,a)},unblockContact:function(e,t,a){let n=c({type:"set"}).c("unblock",{xmlns:p.NS.BLOCKING}).c("item",{jid:e});this.account.sendIQ(n,t,a)},removeAllContacts:function(){u.each(u.clone(this.models),function(e){e.destroy()}),this.account.trigger("remove_saved_chat")},handlePresence:function(e,t){let a=this.mergeContact(t);a.handlePresence(e)}}),n.BlockList=Backbone.Model.extend({initialize:function(e,t){this.account=t.account,this.list={},this.contacts=this.account.contacts,this.contacts.on("add_to_blocklist",this.onContactAdded,this),this.contacts.on("remove_from_blocklist",this.onContactRemoved,this)},length:function(){return Object.keys(this.list).length},isBlocked:function(e){return this.list.hasOwnProperty(e)},onContactRemoved:function(e){delete this.list[e]},onContactAdded:function(e){this.list[e.jid]=e},registerHandler:function(){this.account.connection.deleteHandler(this._stanza_handler),this._stanza_handler=this.account.connection.addHandler(this.onBlockingIQ.bind(this),p.NS.BLOCKING,"iq","set",null,this.account.get("jid"))},getFromServer:function(){let e=c({type:"get"}).c("blocklist",{xmlns:p.NS.BLOCKING});this.account.sendIQ(e,this.onBlockingIQ.bind(this))},onBlockingIQ:function(e){let t=r(e).find(`[xmlns="${p.NS.BLOCKING}"]`),a=t[0].tagName.toLowerCase(),n=a.startsWith("block");return t.find("item").each((e,t)=>{let a=t.getAttribute("jid"),i=p.getResourceFromJid(a),s=p.getDomainFromJid(a),o={jid:a},d=this.contacts.get(a);i&&(o.resource=!0),s===a&&(o.domain=!0),n?this.contacts.trigger("add_to_blocklist",o):(this.contacts.trigger("remove_from_blocklist",a),d&&d.trigger("remove_from_blocklist",d)),d&&d.set("blocked",n)}),!0}}),n.Roster=n.ContactsBase.extend({initialize:function(e,t){this.account=t.account,this.roster_version=this.account.get("roster_version")||0,this.groups=this.account.groups,this.contacts=this.account.contacts,this.contacts.on("add_to_roster",this.onContactAdded,this),this.contacts.on("change_in_roster",this.onContactChanged,this),this.contacts.on("remove_from_roster",this.onContactRemoved,this)},update:function(e,t){let a=e.get("in_roster")||e.get("known");a?this.get(e)?"change"===t&&e.trigger("change_in_roster",e):(this.add(e),e.trigger("add_to_roster",e)):this.get(e)&&(this.remove(e),e.trigger("remove_from_roster",e))},onContactAdded:function(e){if(e.get("in_roster")){let t=e.get("groups");t.length?u.each(t,u.bind(this.addContactToGroup,this,e)):this.addContactToGroup(e,s.GENERAL_GROUP_ID)}},onContactChanged:function(e){let t=e.changed,a=u.has(t,"known"),n=u.has(t,"in_roster"),i=u.has(t,"groups");if(n||a||i){let t;e.get("in_roster")?(t=u.clone(e.get("groups")),!t.length&&t.push(s.GENERAL_GROUP_ID)):e.get("known")&&(t=[]);let a=this.groups.filter(function(e){return!u.contains(t,e.get("id"))});u.each(a,function(t){t.removeContact(e)}),u.each(t,u.bind(this.addContactToGroup,this,e)),e.trigger("update_groups")}},onContactRemoved:function(e){u.each(this.groups.filter(),function(t){t.removeContact(e)})},getGroup:function(e){let t=this.groups.get(e);if(t)return t;let a={id:e};return e===s.GENERAL_GROUP_ID?a.name=n.settings.roster.general_group_name:e===s.NON_ROSTER_GROUP_ID&&(a.name=n.settings.roster.non_roster_group_name),this.groups.create(a,{account:this.account})},addContactToGroup:function(e,t){let a=this.getGroup(t);a.contacts.add(e)},registerHandler:function(){this.account.connection.deleteHandler(this._stanza_handler),this._stanza_handler=this.account.connection.addHandler(this.onRosterIQ.bind(this),p.NS.ROSTER,"iq","set",null,this.account.get("jid"))},syncFromServer:function(e){e=e||{};let t={xmlns:p.NS.SYNCHRONIZATION};e.after||(e.stamp?t.stamp=e.stamp:this.account.last_msg_timestamp&&(t.stamp=1e3*this.account.last_msg_timestamp)),delete e.stamp;let a=c({type:"get"}).c("query",t).cnode(new p.RSM(e).toXML());this.account.sendFast(a,e=>{this.onSyncIQ(e,t.stamp)})},onSyncIQ:function(a,i){let s=+r(a).children(`query[xmlns="${p.NS.SYNCHRONIZATION}"]`).attr("stamp");this.account.last_msg_timestamp=t(s/1e3),this.account.set("last_sync",s);let o=r(a).find("set last"),d=r(a).find("query conversation[type=\"encrypted\"]").first().children("metadata[node=\""+p.NS.REWRITE+"\"]").children("retract").attr("version"),c=r(a).find("query conversation[type=\"chat\"]").first().children(`metadata[node="${p.NS.REWRITE}"]`).children("retract").attr("version");return(i||(o.length?this.last_chat_msg_id=o.text():this.conversations_loaded=!0),!r(a).find("conversation").length&&!n.accounts.connected.find(e=>!e.roster.conversations_loaded))?void n.chats_view.$(".load-chats-feedback").text(n.getString("synchronization__text_all_chats_loaded")):(!u.isUndefined(d)&&this.account.omemo&&this.account.omemo.getRetractVersion()<d&&this.account.getAllMessageRetractions(!0),i?this.account.retraction_version<c&&this.account.getAllMessageRetractions():this.account.retraction_version=c,r(a).find("conversation").each((t,a)=>{let s=r(a),o=s.attr("jid"),d=!1;o===this.account.get("jid")&&(d=!0);let c=s.children("metadata[node=\""+p.NS.SYNCHRONIZATION+"\"]"),l=s.attr("type"),u="private"===l,m="incognito"===l,g="group"===l||u||m,h="encrypted"===l,f=!d&&this.contacts.mergeContact({jid:o,group_chat:g,private_chat:u,incognito_chat:m}),v=d?this.account.chats.getSavedChat():this.account.chats.getChat(f,h&&"encrypted"),b=c.children("last-message").children("message"),A=s.children("metadata[node=\""+p.NS.JINGLE_MSG+"\"]").children("call"),x=s.children("metadata[node=\""+p.NS.GROUP_CHAT+"\"]"),w=c.children("unread"),k=e(+s.attr("stamp")/1e3),S=w.attr("after"),M=c.children("delivered").attr("id"),C=c.children("displayed").attr("id"),L=+w.attr("count")||0,T=s.children("metadata[node=\""+p.NS.REWRITE+"\"]").children("retract").attr("version"),E={synced_msg:!0,stanza_id:(g?b.children("stanza-id[by=\""+o+"\"]"):b.children("stanza-id[by=\""+this.account.get("jid")+"\"]")).attr("id")},D;if(s.children("deleted").length?(f&&f.details_view&&f.details_view.isVisible()&&n.body.setScreen(n.body.screen.get("name"),{right:void 0}),v.set("opened",!1),v.set("const_unread",0),n.toolbar_view.recountAllMessageCounter(),n.chats_view.clearSearch()):h&&this.account.omemo&&(v.set("timestamp",k),v.set("opened",!0),v.item_view.updateEncryptedChat()),x.length&&f.participants&&f.participants.createFromStanza(x.children(`user[xmlns="${p.NS.GROUP_CHAT}"]`)),A.length){let e=A.children("message"),t=e.attr("from"),a=e.children("propose").attr("id");v.initIncomingCall(t,a)}v.set("last_delivered_id",M),v.set("last_displayed_id",C),v.set("last_read_msg",S),b.length||(v.set("timestamp",k),v.item_view.updateEmptyChat()),g&&(i?v.retraction_version<T&&v.trigger("get_retractions_list"):v.retraction_version=T),L&&(E.is_unread=!0),E.delay=b.children("time"),L&&L--,b.length&&(D=this.account.chats.receiveChatMessage(b,E)),v.set("const_unread",L),D&&(0<w.attr("count")&&!D.isSenderMe()&&(w.attr("after")<D.get("stanza_id")||w.attr("after")<D.get("contact_stanza_id"))&&D.set("is_unread",!0),v.set("first_archive_id",D.get("stanza_id"))),n.toolbar_view.recountAllMessageCounter()}),n.chats_view.hideChatsFeedback(),i||this.account.chats.getSavedChat(),!0)},getRoster:function(){let e=this.roster_version;this.account.cached_roster.getAllFromRoster(t=>{r(t).each((e,t)=>{this.contacts.mergeContact(t)}),t.length||0==e||(this.roster_version=0),this.getFromServer()})},getFromServer:function(){let e=c({type:"get"}).c("query",{xmlns:p.NS.ROSTER,ver:this.roster_version});this.account.sendIQ(e,e=>{this.onRosterIQ(e),this.account.sendPresence(),this.account.get("last_sync")&&this.syncFromServer({stamp:this.account.get("last_sync"),max:20}),this.account.dfd_presence.resolve()})},onRosterIQ:function(e){let t=r(e).children("query").attr("ver");return"set"===e.getAttribute("type")?this.account.sendIQ(c({type:"result",id:e.getAttribute("id"),from:this.account.jid})):t&&this.roster_version!=t&&this.account.cached_roster.clearDataBase(),t&&(this.roster_version=t),this.account.save("roster_version",this.roster_version),r(e).children("query").find("item").each((e,t)=>{this.onRosterItem(t)}),!0},onRosterItem:function(e){let t=e.getAttribute("jid");if(t===this.account.get("jid"))return;let a=this.contacts.mergeContact(t),n=e.getAttribute("subscription"),i=e.getAttribute("ask");if(a.get("invitation")&&("both"===n||"to"===n)&&(a.set("invitation",!1),a.trigger("remove_invite")),"remove"===n)return a.get("group_chat")||a.trigger("roster_push",a,"remove"),a.set({in_roster:!1,known:!1,name:a.get("jid"),subscription:void 0,subscription_request_out:!1}),void this.account.cached_roster.removeFromRoster(t);let s=[];r(e).find("group").each(function(){let e=r(this).text();0>s.indexOf(e)&&s.push(e)});let o={subscription:n,in_roster:!0,roster_name:e.getAttribute("name"),groups:s};"both"===n&&(o.subscription_request_out=!1,o.subscription_request_in=!1,o.subscription_preapproved=void 0),"from"===n&&(o.subscription_request_in=!1),"to"===n&&(o.subscription_request_out=!1),"subscribe"===i&&(o.subscription_request_out=!0),o.roster_name&&(o.name=o.roster_name),a.set(o),a.updateCachedInfo()}}),n.AccountRosterView=n.BasicView.extend({className:"account-roster-wrap",events:{"click .roster-account-info-wrap .status-button":"openChangeStatus","click .roster-account-info":"toggle"},_initialize:function(e){this.account=e.account,this.groups=this.account.groups,this.roster=this.account.roster,this.contacts=this.account.contacts,this.$el.attr("data-jid",this.account.get("jid")),this.$el.appendTo(this.parent.$(".contact-list")),this.$info=this.$(".roster-account-info-wrap"),this.updateName(),this.updateStatus(),this.updateAvatar(),this.updateColorScheme(),this.account.on("change:name",this.updateName,this),this.account.on("change:image",this.updateAvatar,this),this.account.on("change:status_updated",this.updateStatus,this),this.account.settings.on("change:color",this.updateColorScheme,this),this.groups.on("add",this.onGroupAdded,this),this.groups.on("rename",this.onGroupRenamed,this),this.groups.on("destroy",this.onGroupRemoved,this),this.data.on("change:expanded",this.updateExpanded,this),this.data.set("expanded",!0)},updateName:function(){this.$info.find(".name").text(this.account.get("name"))},updateStatus:function(){this.$info.find(".status").attr("data-status",this.account.get("status")),this.$info.find(".status-message").text(this.account.getStatusMessage())},updateAvatar:function(){let e=this.account.cached_image;this.$info.find(".circle-avatar").setAvatar(e,this.avatar_size)},updateColorScheme:function(){this.$el.attr("data-color",this.account.settings.get("color"))},updateExpanded:function(){let e=this.data.get("expanded");this.$el.switchClass("shrank",!e),this.parent.updateScrollBar()},updateGroupPosition:function(e){e.$el.detach();let t=this.groups.indexOf(e.model);0===t?this.$info.after(e.$el):this.$(".roster-group").eq(t-1).after(e.$el),this.parent.updateScrollBar()},onGroupAdded:function(e){let t=this.addChild(e.get("id"),this.group_view,{model:e});this.updateGroupPosition(t)},onGroupRenamed:function(e,t){let a=this.child(t);delete this.children[t],this.children[e.get("name")]=a,a&&this.updateGroupPosition(a)},onGroupRemoved:function(e){this.removeChild(e.get("id"))},toggle:function(){this.data.set("expanded",!this.data.get("expanded"))},openChangeStatus:function(){n.change_status_view||(n.change_status_view=new n.ChangeStatusView),n.change_status_view.open(this.account)}}),n.AccountRosterRightView=n.AccountRosterView.extend({template:o.account_roster_right,group_view:n.GroupRightView,avatar_size:s.AVATAR_SIZES.ROSTER_RIGHT_ACCOUNT_ITEM,__initialize:function(){this.contacts.on("add_to_roster change_in_roster remove_from_roster",this.updateCounter,this),this.contacts.on("add_to_roster remove_from_roster",this.updateGlobalCounter,this)},updateCounter:function(){let e=this.roster.length,t=e-this.roster.where({status:"offline"}).length;this.$info.find(".counter").text(t+"/"+e)},updateGlobalCounter:function(){this.parent.updateCounter()}}),n.AccountRosterLeftView=n.AccountRosterView.extend({template:o.account_roster_left,group_view:n.GroupLeftView,avatar_size:s.AVATAR_SIZES.ROSTER_LEFT_ACCOUNT_ITEM,__initialize:function(){this.$info.find(".jid").text(this.account.get("jid"))},search:function(e){this.$el.removeClass("shrank"),this.$(".group-head").addClass("hidden");let t=0,a={};this.$(".roster-contact").each((n,i)=>{let s=r(i),o=s.data("jid"),d=this.roster.get(o);if(d){if(a[d.hash_id])return void s.addClass("hidden");a[d.hash_id]=!0;let n=d.get("name").toLowerCase(),i=0>n.indexOf(e)&&0>o.indexOf(e);s.hideIf(i),i||t++}}),this.$(".roster-account-info-wrap").showIf(t)},searchAll:function(){this.$el.switchClass("shrank",!this.data.get("expanded")),this.$(".roster-account-info-wrap").removeClass("hidden"),this.$(".group-head").removeClass("hidden"),this.$(".list-item").removeClass("hidden")}}),n.BlockListView=n.BasicView.extend({avatar_size:s.AVATAR_SIZES.CONTACT_BLOCKED_ITEM,events:{"click .blocked-item":"toggleItems","click .btn-block":"openBlockWindow","click .btn-unblock":"unblockContact"},_initialize:function(e){for(let t in this.account=e.account,this.account.blocklist.list)this.onContactAdded(this.account.blocklist.list[t],!1);this.account.contacts.on("add_to_blocklist",this.onContactAdded,this),this.account.contacts.on("remove_from_blocklist",this.onContactRemoved,this)},toggleItems:function(e){let t=r(e.target).closest(".blocked-item"),a=t.siblings(".blocked-list"),n=a.hasClass("hidden");a.switchClass("hidden",!n),t.find(".toggle-items").switchClass("mdi-chevron-right",!n).switchClass("mdi-chevron-down",n),this.parent.updateScrollBar()},unblockContact:function(e){let t=r(e.target).closest(".blocked-contact").attr("data-jid"),a=this.account.contacts.get(t);e.stopPropagation(),a?a.unblock():this.account.contacts.unblockContact(t)},onContactAdded:function(e){let t=o.contact_blocked_item({jid:e.jid});if(e.resource)this.$(".blocked-invitations-wrap").removeClass("hidden").find(".blocked-invitations").append(t);else if(e.domain){let a=this.$(".blocked-domains-wrap").removeClass("hidden"),n=a.find(".blocked-item-description");a.find(".blocked-domains").append(t),n.text(n.text()+(n.text()?", ":"")+e.jid)}else{this.$(".blocked-contacts-wrap").removeClass("hidden").find(".blocked-contacts").append(t);let a=this.$(".blocked-contacts-wrap .blocked-item-description");a.text(a.text()+(a.text()?", ":"")+e.jid)}this.$(".placeholder").addClass("hidden"),this.isVisible()&&this.parent.updateScrollBar()},onContactRemoved:function(e){let t=this.$(`.blocked-contact[data-jid="${e}"]`),a=t.closest(".blocked-list"),n=new RegExp("\\,\\s"+e+"|"+e+"\\,\\s|"+e),i=t.closest(".blocked-contacts-wrap").showIf(1<a.children().length).find(".blocked-item-description"),s=t.closest(".blocked-domains-wrap").showIf(1<a.children().length).find(".blocked-item-description");t.closest(".blocked-invitations-wrap").showIf(1<a.children().length),i.text(i.text().replace(n,"")),s.text(s.text().replace(n,"")),t.detach(),this.$(".placeholder").hideIf(this.account.blocklist.length()),this.parent.updateScrollBar()},openBlockWindow:function(){d.dialogs.ask_enter_value(n.getString("contact_bar_block"),n.getString("dialog_block_xmpp_address__text"),{input_placeholder_value:n.getString("dialog_block_xmpp_address__hint_address")},{ok_button_text:n.getString("contact_bar_block")}).done(e=>{if(e){let t=this.account.contacts.get(e);t?t.block():this.account.contacts.blockContact(e)}})}}),n.RosterView=n.SearchPanelView.extend({ps_selector:".contact-list-wrap",_initialize:function(){this._settings=n._roster_settings,this.model.on("activate",this.updateOneRosterView,this),this.model.on("update_order",this.updateRosterViews,this),this.model.on("deactivate destroy",this.removeRosterView,this),this.on("before_hide",this.saveScrollBarOffset,this),this.$("input").on("input",this.updateSearch.bind(this))},updateOneRosterView:function(e){let t=e.get("jid"),a=this.child(t);if(a)a.$el.detach();else if(e.isConnected())a=this.addChild(t,this.account_roster_view,{account:e});else return;let n=this.model.connected.indexOf(e);0===n?this.$(".contact-list").prepend(a.$el):this.$(".contact-list").children().eq(n-1).after(a.$el),this.updateScrollBar()},updateRosterViews:function(){u.each(this.children,function(e){e.detach()}),this.model.each(e=>{let t=e.get("jid"),a=this.child(t);a&&this.$(".contact-list").append(a.$el)}),this.updateScrollBar()},removeRosterView:function(e){this.removeChild(e.get("jid")),this.updateScrollBar()}}),n.RosterRightView=n.RosterView.extend({className:"roster-right-container container",template:o.roster_right,ps_settings:{theme:"roster-right"},account_roster_view:n.AccountRosterRightView,events:{"mouseover .collapsed-wrap":"expand","mouseleave .expanded-wrap":"collaps","click .btn-pin":"pinUnpin"},__initialize:function(){this.updateCounter(),this.updateTheme(),this.updateBlur(),this.updateTransparency(),this.model.on("activate deactivate destroy",this.updateCounter,this),this.data.on("change",this.updateLayout,this);let e=this._settings.get("pinned");this.data.set({expanded:e,pinned:e})},updateTheme:function(e){e=e||n.settings.side_panel.theme,this.$el.attr("data-theme",e),this.updateTransparency()},updateTransparency:function(e){e=e||n.settings.side_panel.transparency,"dark"==n.settings.side_panel.theme?this.$el.css("background-color",`rgba(0, 0, 0, ${1-e/100})`):this.$el.css("background-color",`rgba(255, 255, 255, ${1-e/100})`)},updateBlur:function(e){e=u.isUndefined(e)?n.settings.side_panel.blur:e,this.$el.switchClass("with-blur",e)},expand:function(){this.data.set("expanded",!0)},collaps:function(){this.data.get("pinned")||this.data.set("expanded",!1)},pinUnpin:function(){let e=!this.data.get("pinned");this._settings.save("pinned",e),this.data.set("pinned",e)},updateLayout:function(){let e=this.data.changed;(u.has(e,"expanded")||u.has(e,"pinned"))&&n.trigger("update_layout",{roster_state_changed:!0})},updateCounter:function(){this.$(".all-contacts-counter").text(u.reduce(this.children,function(e,t){return e+t.roster.length},0))},onListChanged:function(){this.updateScrollBar()}}),n.RosterLeftView=n.RosterView.extend({className:"roster-left-container container",template:o.roster_left,ps_settings:{theme:"item-list"},main_container:".contact-list",account_roster_view:n.AccountRosterLeftView,__initialize:function(){this.model.on("list_changed",this.updateLeftIndicator,this),this.ps_container.on("ps-scroll-y",this.onScrollY.bind(this))},updateLeftIndicator:function(){this.$el.attr("data-indicator",1<this.model.connected.length)},getContactForItem:function(e){let t=r(e),a=t.parent().parent().data("jid"),n=t.data("jid"),i=this.child(a);return i&&i.roster.get(n)},render:function(e){("chat"!==e.right&&"contact_details"!==e.right&&"message_context"!==e.right&&"participant_messages"!==e.right||e.clear_search&&"chat"===e.right)&&this.clearSearch()},searchAll:function(){u.each(this.children,function(e){e.searchAll()})},selectItem:function(e,t){if(!e)return void("up"===t&&(this.ps_container[0].scrollTop=0));this.clearSearchSelection();let a=this.$(".list-item[data-id=\""+e+"\"]");a.length?this.selection_id=e:(this.ps_container[0].scrollTop=0,a=this.$(".list-item:visible").first(),this.selection_id=a.data("id")),a.length&&"down"===t&&(a[0].clientHeight+a[0].offsetTop+a.parent()[0].offsetTop+a.closest(".account-roster-wrap")[0].offsetTop>=this.ps_container[0].clientHeight+this.ps_container[0].scrollTop||a[0].clientHeight+a[0].offsetTop+a.parent()[0].offsetTop+a.closest(".account-roster-wrap")[0].offsetTop<this.ps_container[0].scrollTop)&&(this.ps_container[0].scrollTop=a[0].offsetTop+a.parent()[0].offsetTop+a.closest(".account-roster-wrap")[0].offsetTop),a.length&&"up"===t&&(a[0].offsetTop+a.parent()[0].offsetTop+a.closest(".account-roster-wrap")[0].offsetTop<=this.ps_container[0].scrollTop||a[0].offsetTop+a.parent()[0].offsetTop+a.closest(".account-roster-wrap")[0].offsetTop>this.ps_container[0].scrollTop+this.ps_container[0].clientHeight)&&(this.ps_container[0].scrollTop=a[0].offsetTop+a.parent()[0].offsetTop+a.closest(".account-roster-wrap")[0].offsetTop),a.addClass("selected")},onEnterPressed:function(e){let t;if(e.closest(".searched-lists-wrap").length)this.clearSearch(),this.$(".list-item.active").removeClass("active"),e.hasClass("chat-item")&&(t=n.chats_view.child(e.data("id")),t&&t.open({screen:n.body.screen.get("name"),clear_search:!1}),e.addClass("active")),e.hasClass("roster-contact")&&(t=n.accounts.get(e.data("account")).chats.get(n.accounts.get(e.data("account")).contacts.get(e.data("jid")).hash_id),t&&(t=t.item_view),t&&n.chats_view.openChat(t,{clear_search:!1,screen:n.body.screen.get("name")}),e.addClass("active")),e.hasClass("message-item")&&e.click();else{let t=this.getContactForItem(e);t&&t.showDetails()}},onListChanged:function(){this.updateSearch()}}),n.RosterSettingsView=n.BasicView.extend({className:"roster-settings-wrap",template:o.roster_settings,events:{"change .offline-contacts input":"setOfflineSetting","change .sorting-contacts input":"setSortingSetting"},_initialize:function(){this.$el.appendTo(this.parent.$(".settings-block-wrap.contact-list"))},render:function(){this.$(".offline-contacts input[type=radio][name=offline-contacts][value="+this.model.get("show_offline")+"]").prop("checked",!0),this.$(".sorting-contacts input[type=radio][name=sorting-contacts][value="+this.model.get("sorting")+"]").prop("checked",!0)},setOfflineSetting:function(){this.model.save("show_offline",this.$(".offline-contacts input[type=radio][name=offline-contacts]:checked").val())},setSortingSetting:function(){this.model.save("sorting",this.$(".sorting-contacts input[type=radio][name=sorting-contacts]:checked").val())}}),n.AccountGroupView=n.BasicView.extend({className:"group",template:function(){this.$el.append("<span class=\"group-name\"/>")},events:{"click .group-name":"showGroupSettings"},_initialize:function(){this.$(".group-name").text(this.model.get("name"));let e=this.model.collection.indexOf(this.model),t=this.model.account.settings_right.$(".groups");0===e?t.prepend(this.$el):t.children().eq(e-1).after(this.$el),this.model.on("destroy",this.remove,this)},showGroupSettings:function(){this.model.showSettings()}}),n.ContactPlaceholderView=n.BasicView.extend({className:"placeholder-wrap contact-placeholder-wrap noselect",template:o.contact_placeholder}),n.AddContactView=n.BasicView.extend({className:"modal main-modal add-contact-modal",template:o.add_contact,ps_selector:".modal-content",avatar_size:s.AVATAR_SIZES.SYNCHRONIZE_ACCOUNT_ITEM,events:{"click .account-field .dropdown-content":"selectAccount","click .existing-group-field label":"editGroup","change .new-group-name input":"checkNewGroup","keyup .new-group-name input":"checkNewGroup","keyup .name-field #new_contact_username":"checkJid","focusout .name-field #new_contact_username":"focusoutInputField","click .new-group-checkbox":"addNewGroup","click .btn-add":"addContact","click .btn-cancel":"close"},_initialize:function(){this.group_data=new Backbone.Model,this.group_data.on("change",this.updateGroups,this)},render:function(e){if(!n.accounts.connected.length)return void d.dialogs.error(n.getString("dialog_add_contact__error__text_no_accounts"));e||(e={});let t=e.account?[e.account]:n.accounts.connected,a=e.jid||"";return this.$("input[name=\"username\"]").val(a).attr("readonly",!!a).removeClass("invalid"),this.$(".single-acc").showIf(1===t.length),this.$(".multiple-acc").hideIf(1===t.length),this.$(".account-field .dropdown-content").empty(),u.each(t,e=>{this.$(".account-field .dropdown-content").append(this.renderAccountItem(e))}),this.bindAccount(t[0]),this.$("span.errors").text(""),this.$el.openModal({ready:()=>{Materialize.updateTextFields(),this.$(".account-field .dropdown-button").dropdown({inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"})},complete:this.close.bind(this)}),this},bindAccount:function(e){this.account=e,this.$(".account-field .dropdown-button .account-item-wrap").replaceWith(this.renderAccountItem(e)),this.renderGroupsForAccount(e)},renderAccountItem:function(e){let t=r(o.add_contact_account_item({jid:e.get("jid")}));return t.find(".circle-avatar").setAvatar(e.cached_image,this.avatar_size),t},renderGroupsForAccount:function(e){this.group_data.set({selected:[],groups:u.map(e.groups.notSpecial(),function(e){return e.get("name")})},{silent:!0}),this.updateGroups()},updateGroups:function(){let e=this.group_data.get("selected");this.$(".groups").html(o.groups_checkbox_list({groups:u.map(this.group_data.get("groups"),function(t){return{name:t,id:g(),checked:u.contains(e,t)}})})),this.updateScrollBar()},selectAccount:function(e){let t=r(e.target).closest(".account-item-wrap"),a=n.accounts.get(t.data("jid"));this.bindAccount(a)},editGroup:function(e){e.preventDefault();let t=r(e.target),a=t.siblings("input"),n=!a.prop("checked"),i=a.attr("data-groupname"),s=u.clone(this.group_data.get("selected")),o=s.indexOf(i);a.prop("checked",n),n?0>o&&s.push(i):0<=o&&s.splice(o,1),this.group_data.set("selected",s)},checkNewGroup:function(e){let t=r(e.target).val(),a=this.$(".new-group-checkbox");a.showIf(t&&!u.contains(this.group_data.get("groups"),t))},addNewGroup:function(e){e.preventDefault();let t=this.$(".new-group-name input"),a=t.val(),n=u.clone(this.group_data.get("groups")),i=n.indexOf(a);if(0>i){let e=u.clone(this.group_data.get("selected"));e.push(a),n.push(a),this.group_data.set({groups:n,selected:e})}this.scrollToBottom()},focusoutInputField:function(){this.$("input[name=username]").val().trim()||(this.$("input[name=username]").removeClass("invalid"),this.$("span.errors").text("").addClass("hidden"))},checkJid:function(){let e=this.$("input[name=username]").val().trim(),t;!/^(([^<>()[\]\\.,;:\s%@\"]+(\.[^<>()[\]\\.,;:\s%@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([^<>()[\]\\.,;:\s%@\"]+(\.[^<>()[\]\\.,;:\s%@\"]+)*)|(\".+\"))|(([0-9]{1,3}\.){3}[0-9]{1,3})|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)&&e&&(t=n.getString("dialog_add_contact__error__text_invalid_jid")),t?this.$("input[name=username]").addClass("invalid").siblings(".errors").text(t):(this.$("input[name=username]").removeClass("invalid"),this.$("span.errors").text("").addClass("hidden"))},addContact:function(){this.$("span.errors").text("").addClass("hidden");let e=this.$("input[name=username]").removeClass("invalid").val().trim(),t=this.$("input[name=contact_name]").removeClass("invalid").val(),a=this.group_data.get("selected"),i,s;e=p.getBareJidFromJid(e),e?e===this.account.get("jid")?s=n.getString("dialog_add_contact__error__text_can_not_add_youself"):/^(([^<>()[\]\\.,;:\s%@\"]+(\.[^<>()[\]\\.,;:\s%@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)?(i=this.account.contacts.mergeContact(e),i.get("in_roster")&&(s=n.getString("dialog_add_contact__error__text_already_in_roster"))):s=n.getString("dialog_add_contact__error__text_invalid_jid"):s=n.getString("dialog_add_contact__error__text_input_username"),s?this.$("input[name=username]").addClass("invalid").siblings(".errors").text(s):(i.pushInRoster({name:t,groups:a},()=>{i.set("subscription_preapproved",!0),i.pres("subscribed"),i.pres("subscribe"),i.trigger("presence",i,"subscribe_from"),i.trigger("open_chat",i)},function(){i.destroy()}),this.close())},onHide:function(){this.$el.detach()},close:function(){this.$el.closeModal({complete:this.hide.bind(this)})}}),n.GroupSettings=Backbone.Model.extend({idAttribute:"name",defaults:{expanded:!0,show_offline:"default",sorting:"default",custom_notifications:!1,notifications:!1,message_preview:!1}}),n.GroupsSettings=Backbone.CollectionWithStorage.extend({model:n.GroupSettings,_initialize:function(e,t){this.account=t.account,this.account.on("destroy",this.clearStorage,this),this.fetch()}}),n.RosterSettings=Backbone.ModelWithStorage.extend({defaults:function(){let e=n.getString("circles__name_general_circle"),t=n.getString("circles__name_non_roster_circle");return{pinned:!0,show_offline:"yes",sorting:"online-first",general_group_name:e,non_roster_group_name:t}}}),n.CachedRoster=Backbone.ModelWithDataBase.extend({putInRoster:function(e,t){this.database.put("roster_items",e,function(e){t&&t(e)})},getFromRoster:function(e,t){this.database.get("roster_items",e,function(e){t&&t(e)})},getAllFromRoster:function(e){this.database.get_all("roster_items",null,function(t){e&&e(t||[])})},removeFromRoster:function(e,t){this.database.remove("roster_items",e,function(e){t&&t(e)})},clearDataBase:function(){this.database.clear_database("roster_items")}}),n.Account.addInitPlugin(function(){this.groups_settings=new n.GroupsSettings(null,{account:this,storage_name:n.getStorageName()+"-groups-settings-"+this.get("jid")}),this.cached_roster=new n.CachedRoster(null,{name:"cached-roster-list-"+this.get("jid"),objStoreName:"roster_items",primKey:"jid"}),this.groupchat_settings=new n.GroupChatSettings({id:"group-chat-settings"},{account:this,storage_name:n.getStorageName()+"-group-chat-settings-"+this.get("jid"),fetch:"after"}),this.groups=new n.Groups(null,{account:this}),this.contacts=new n.Contacts(null,{account:this}),this.contacts.addCollection(this.roster=new n.Roster(null,{account:this})),this.blocklist=new n.BlockList(null,{account:this}),this._added_pres_handlers.push(this.contacts.handlePresence.bind(this.contacts)),this.on("ready_to_get_roster",function(){if(this.resources.reset(),this.contacts.each(function(e){e.resources.reset(),e.resetStatus()}),this.connection&&this.connection.do_synchronization&&n.chats_view){let t={},a=20<e(n.chats_view.$el[0].clientHeight/56)?e(n.chats_view.$el[0].clientHeight/56):20;this.roster.last_chat_msg_id||(t.max=++a),this.roster.syncFromServer(t)}this.roster.getRoster(),this.blocklist.getFromServer()},this)}),n.Account.addConnPlugin(function(){this.registerIQHandler(),this.registerSyncedIQHandler(),this.roster.registerHandler(),this.blocklist.registerHandler()},!0,!0),n.once("start",function(){this._roster_settings=new this.RosterSettings({id:"roster-settings"},{storage_name:this.getStorageName(),fetch:"after"}),this.settings.roster=this._roster_settings.attributes,this.roster_settings_view=n.settings_view.addChild("roster_settings",this.RosterSettingsView,{model:this._roster_settings}),this.contacts_view=this.left_panel.addChild("contacts",this.RosterLeftView,{model:this.accounts}),this.roster_view=this.body.addChild("roster",this.RosterRightView,{model:this.accounts}),this.details_container=this.right_panel.addChild("details",this.Container),this.contact_placeholder=this.right_panel.addChild("contact_placeholder",this.ContactPlaceholderView),this.add_contact_view=new this.AddContactView,this.on("add_contact",function(){this.add_contact_view.show()},this)},n),n}}),define("xabber-chats",[],function(){var e=Math.round,t=Math.max;return function(a){let n=a.env,s=n.constants,o=n.templates.chats,d=n.utils,r=n.$,i=n.$iq,c=n.$msg,l=n.Strophe,u=n._,p=n.moment,m=n.uuid,g=d.images,h=d.emoji,f=e=>d.pretty_date(e,("ru-RU"==a.settings.language||"default"==a.settings.language&&"ru-RU"==a.get("default_language"))&&"dddd, D MMMM YYYY"),v=e=>d.pretty_datetime(e,("ru-RU"==a.settings.language||"default"==a.settings.language&&"ru-RU"==a.get("default_language"))&&"D MMMM YYYY HH:mm:ss");return a.Message=Backbone.Model.extend({idAttribute:"unique_id",defaults:function(){let e=m();return{msgid:e,unique_id:e,type:"main",state:s.MSG_PENDING}},initialize:function(){let e=this.get("time"),t={};e?t.timestamp=+p(e):(t.timestamp=p.now(),t.time=p(t.timestamp).format()),this.get("origin_id")||!this.isSenderMe()||this.get("synced_from_server")||this.get("carbon_copied")||this.get("is_archived")||this.set("origin_id",this.get("msgid")),this.updateUniqueId(),this.set(t),this.on("change:origin_id stanza_id archived_id",this.updateUniqueId,this)},updateUniqueId:function(){this.set("unique_id",this.get("origin_id")||this.get("stanza_id")||this.get("archived_id")||this.get("msgid"))},getText:function(){let e=this.get("forwarded_message");return e?e.get("message"):this.get("message")},getState:function(){return s.MSG_STATE[this.get("state")]},getVerboseState:function(){let e=a.getString(s.MSG_VERBOSE_STATE[this.get("state")]);return this.account?!this.account.isOnline()&&(e=a.getString("account_is_offline")):!this.collection.account.isOnline()&&(e=a.getString("account_is_offline")),e},isSenderMe:function(){return this.account?this.account.get("jid")===this.get("from_jid"):this.collection.account?this.collection.account.get("jid")===this.get("from_jid"):void 0}}),a.MessagesBase=Backbone.Collection.extend({model:a.Message}),a.SearchedMessages=a.MessagesBase.extend({comparator:"timestamp",initialize:function(){this.collections=[],this.on("add",u.bind(this.updateInCollections,this,"add")),this.on("change",u.bind(this.updateInCollections,this,"change"))},addCollection:function(e){this.collections.push(e)},updateInCollections:function(e,t){u.each(this.collections,function(a){a.update(t,e)})}}),a.Messages=Backbone.Collection.extend({model:a.Message,comparator:"timestamp",initialize:function(e,t){this.account=t.account},createInvitationFromStanza:function(e,t){t=t||{};let a=e.find("invite"),n=a.attr("jid")||e.attr("from"),i=t.delay||e.children("delay"),s=l.getBareJidFromJid(n),o=e.children("body").text(),d=0<e.find("markable").length,r=e.attr("id"),c=e.children("archived").attr("id"),p=e.children("origin-id").attr("id"),m=p||t.stanza_id||c||r,g=m&&this.get(m),h=e.children("x[xmlns=\""+l.NS.GROUP_CHAT+"\"]"),f={},v;if(g)return g;if(s){let a={xml:t.xml||e[0],carbon_copied:t.carbon_copied&&!t.is_archived,markable:d,msgid:r,is_forwarded:t.is_forwarded,forwarded_message:t.forwarded_message||null,from_jid:s,origin_id:p,stanza_id:t.stanza_id,archive_id:c,contact_stanza_id:t.contact_stanza_id,is_archived:t.is_archived};i.length&&(a.time=i.attr("stamp")),o&&(a.message=o);let n=this.account.contacts.mergeContact({jid:l.getBareJidFromJid(s),group_chat:!0}),m=this.account.chats.getChat(n);if(n.set("in_roster",!1),n.getVCard(),h.length){let e=h.find("name").text(),t=h.find("membership").text(),a=h.find("privacy").text(),i=h.find("index").text(),s=h.find("parent-chat").text(),o=h.find("description").text();e&&(f.name=e),t&&(f.model=e),a&&(f.privacy=a),i&&(f.searchable=i),o&&(f.description=o),s.length&&(v=!0),v&&n.set("private_chat",!0),"incognito"===a&&n.set("incognito_chat",!0);let d=n.get("group_info")||{};u.extend(d,f),n.set("group_info",d)}let g=m.messages.createSystemMessage(u.extend(a,{from_jid:s,auth_request:!0,invite:!0,private_invite:v||!1,is_accepted:!1,silent:!1,message:e.find("reason").text()}));return g}},createFromStanza:function(e,t){t||(t={});let n=t.delay||e.children("delay"),i=e.attr("from")||t.from_jid,o=l.getBareJidFromJid(i),c=e.children("body").text(),m=0<e.find("markable").length,g=e.children("archived").attr("id"),h=e.children("origin-id").attr("id"),f=e.attr("id"),v=h||t.stanza_id||g||f,b=v&&this.get(v);if(t.replaced){let a=e.children("replace").attr("by"),n=e.children("replace").attr("conversation");if(e.children("replace").children("message").children(`encrypted[xmlns="${l.NS.OMEMO}"]`).length&&this.account.omemo&&!t.forwarded)return void this.account.omemo.receiveChatMessage(e,u.extend(t,{from_jid:a,conversation:n}));e=e.children("replace").children("message"),c=e.children("body").text();let i=e.children("stanza-id").first().attr("id");if(b=this.find(e=>e.get("stanza_id")===i||e.get("contact_stanza_id")===i),!b)return;o=b.get("from_jid"),f=b.get("msgid");let s=b.get("xml");s.innerHTML=e[0].innerHTML,t.xml=s,t.forwarded_message=b.get("forwarded_message")}if(b&&!t.replaced&&!t.context_message&&!t.searched_message&&!t.pinned_message&&!t.participant_message&&!t.echo_msg&&!t.is_searched)return b;let A={xml:t.xml||e[0],original_message:c,carbon_copied:t.carbon_copied&&!t.is_archived,markable:m,msgid:f,is_forwarded:t.is_forwarded,forwarded_message:t.forwarded_message||null,from_jid:o,contact_stanza_id:t.contact_stanza_id,is_archived:t.is_archived},x=[],w=[],k=[],S=[],M=[],C=[];if(t.encrypted&&u.extend(A,{encrypted:!0}),t.hasOwnProperty("is_trusted")&&u.extend(A,{is_trusted:t.is_trusted}),e.children(`reference[xmlns="${l.NS.REFERENCE}"]`).each((e,t)=>{let a=r(t),n=a.attr("type"),o=parseInt(a.attr("begin")),c=parseInt(a.attr("end"));if("decoration"===n){if(a.children(`mention[xmlns="${l.NS.MARKUP}"]`).length){let e=a.children(`mention[xmlns="${l.NS.MARKUP}"]`),t=e.text(),n=e.attr("node")===l.NS.GROUP_CHAT;x.push({start:o,end:c,target:t,is_gc:n})}else{let e=[];a.children().each((t,a)=>{-1<s.MARKUP_TAGS.indexOf(a.tagName)&&r(a).attr("xmlns")===l.NS.MARKUP&&("link"===a.tagName?e.push({type:a.tagName,uri:r(a).text()}):"quote"===a.tagName?w.push({start:o,end:c}):e.push(a.tagName))}),e.length&&k.push({start:o,end:c,markup:e})}}else if("mutable"===n){let e=a.find(`file-sharing[xmlns="${l.NS.FILES}"]`).first();if(a.children("forwarded").length)S.push({start:o,end:c,type:"forward"});else if(e.length){let t=e.parent(`voice-message[xmlns="${l.NS.VOICE_MESSAGE}"]`).length?"voice":"file",a=e.children("file"),n={},s=[];if(S.push({start:o,end:c,type:t}),e.children("sources").children("uri").each((e,t)=>{s.push(r(t).text())}),n={name:a.children("name").text(),hash:a.children(`hash[xmlns="${l.NS.HASH}"]`).text(),size:a.children("size").text(),type:a.children("media-type").text(),duration:a.children("duration").text(),description:a.children("desc").text(),height:a.children("height").text(),width:a.children("width").text(),voice:"voice"==t,sources:s},0==s[0].indexOf("aesgcm")){let e=s[0].replace(/^aesgcm/,"https"),t=e.slice(e.length-44-16),a=d.fromBase64toArrayBuffer(t.slice(0,16)),i=d.fromBase64toArrayBuffer(t.slice(16));e=e.slice(0,e.length-44-16-1),u.extend(n,{sources:[e],iv:a,key:i}),A.has_encrypted_files=!0}"image"===this.getFileType(a.children("media-type").text())?C.push(n):M.push(n)}}else if("data"===n);}),e.children("x[xmlns=\""+l.NS.GROUP_CHAT+"\"]").each((a,n)=>{let i=r(n).children(`reference[type="mutable"][xmlns="${l.NS.REFERENCE}"]`),s=i.children(`user[xmlns="${l.NS.GROUP_CHAT}"]`).first();if(i.length){let a=parseInt(i.attr("begin")),n=parseInt(i.attr("end"));S.push({start:a,end:n,type:"groupchat"});let o=s.attr("id"),d=s.children("jid").text();u.extend(A,{user_info:{id:o,jid:d,nickname:s.children("nickname").text()||d||o,role:s.children("role").text(),avatar:s.children(`metadata[xmlns="${l.NS.PUBSUB_AVATAR_METADATA}"]`).children("info").attr("id"),avatar_url:s.children(`metadata[xmlns="${l.NS.PUBSUB_AVATAR_METADATA}"]`).children("info").attr("url"),badge:s.children("badge").text()},from_jid:d||o,groupchat_jid:l.getBareJidFromJid(t.is_sender?e.attr("to"):e.attr("from"))})}}),w.length&&(A.blockquotes=w),x.length&&(A.mentions=x),k.length&&(A.markups=k),C.length&&(A.images=C),M.length&&(A.files=M),S.length&&(A.mutable_content=S),t.stanza_id&&(A.stanza_id=t.stanza_id),h&&(A.origin_id=h),g&&(A.archive_id=g),(t.replaced||x.length)&&(A.mentions=x),(t.replaced||k.length)&&(A.markups=k),e.children(`x[xmlns="${l.NS.GROUP_CHAT}#system-message"]`).length&&(A.type="system",A.participants_version=e.children(`x[xmlns="${l.NS.GROUP_CHAT}#system-message"]`).attr("version")),e.children(`x[xmlns="${l.NS.DATAFORM}"]`).length&&e.children(`x[xmlns="${l.NS.DATAFORM}"]`).find("field[var=\"FORM_TYPE\"][type=\"hidden\"] value").text()===l.NS.WEBCHAT){let t=[];e.children(`addresses[xmlns="${l.NS.ADDRESS}"]`).children("address").each((e,a)=>{let n=r(a);t.push({type:n.attr("type"),jid:n.attr("jid")})}),A.data_form=u.extend(this.account.parseDataForm(e.children(`x[xmlns="${l.NS.DATAFORM}"]`)),{addresses:t})}if(c&&(c=d.slice_pretty_body(c,S)),A.forwarded_message||""!==c.removeEmoji()||(A.only_emoji=Array.from(c).length),A.message=c,t.echo_msg&&(n=e.children("time")),n.length&&(A.time=n.attr("stamp")),(A.carbon_copied||o==this.account.get("jid")&&(t.is_archived||t.synced_msg))&&(A.state=s.MSG_SENT),t.synced_msg&&(A.synced_from_server=!0),t.missed_history&&(A.missed_msg=!0),t.echo_msg&&(A.state=s.MSG_DELIVERED,A.timestamp=+p(A.time),A.from_jid=this.account.get("jid")),(t.context_message||t.participant_message||t.searched_message||t.is_searched)&&(A.state=s.MSG_ARCHIVED),t.pinned_message)return this.account.pinned_messages.create(A);if(t.participant_message)return this.account.participant_messages.create(A);if(t.searched_message)return this.account.searched_messages.create(A);if(t.context_message)return this.account.context_messages.create(A);if(!((t.echo_msg||t.replaced)&&b&&(b.set(A),t.replaced))){if(t.is_searched){let t=l.getBareJidFromJid(e.attr("from"));return t===this.account.get("jid")&&(t=l.getBareJidFromJid(e.attr("to"))),b=a.all_searched_messages.create(A),b.contact=this.account.contacts.mergeContact(t),b.account=this.account,b}return b=this.create(A),t.encrypted&&t.is_unread&&b.set("is_unread",!0),b}},decryptFile:async function(e,t,a){return new Promise(n=>{fetch(e).then(e=>{e.blob().then(e=>{let i=new FileReader;i.onloadend=()=>{let e=i.result;d.AES.decrypt(a.slice(0,16),t,d.AES.arrayBufferConcat(e,a.slice(16))).then(e=>{n(e)})},i.readAsArrayBuffer(e)})}).catch(()=>{n(null)})})},getFilename:function(e){let t=e.lastIndexOf("/");return e.substr(t+1,e.length-1)},getFileType:function(e){let t=-1<e.indexOf("/")?e.indexOf("/"):e.length,a=e.slice(0,t);return a},createSystemMessage:function(e){return this.create(u.extend({type:"system",silent:!0,state:s.MSG_DISPLAYED},e))}}),a.JingleMessage=Backbone.Model.extend({defaults:{duration:0,contact_full_jid:"",session_id:0,audio:!0,volume_on:!0,video_in:!1,video_screen:!1,state:0},initialize:function(e,t){e=e||{},e.video_live=e.video_live||!1,e.video=e.video_live,this.contact=t.contact,this.account=this.contact.account,this.registerIqHandler(),this.audio_notifiation=a.playAudio("call",!0),this.modal_view=new a.JingleMessageView({model:this}),this.conn=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}].concat(s.TURN_SERVERS_LIST),sdpSemantics:"unified-plan"}),this.$remote_video_el=r("<video autoplay class=\"webrtc-remote-video\"/>"),this.$remote_audio_el=r("<audio autoplay class=\"webrtc-remote-audio hidden\"/>"),this.$local_video=this.modal_view.$el.find(".webrtc-local-video"),this.current_timer=0,this.conn.onconnectionstatechange=this.onChangeConnectionState.bind(this),this.set(e),this.get("in")&&this.updateStatus(a.getString("dialog_jingle_message__status_calling")),this.onChangedMediaType(),this.conn.ontrack=e=>{this.remote_stream=e.streams[0],this.modal_view.$el.find(".webrtc-remote-audio")[0].srcObject=e.streams[0]},this._waiting_timeout=setTimeout(()=>{this.get("state")||"calling"!==this.get("status")||this.get("call_initiator")!==this.account.get("jid")||this.reject()},1e3*s.JINGLE_WAITING_TIME),this.conn.onicecandidate=this.onIceCandidate.bind(this),this.conn.oniceconnectionstatechange=this.onChangeIceConnectionState.bind(this),this.on("change:audio",this.setEnabledAudioTrack,this),this.on("change:video",this.onChangedVideoValue,this),this.on("change:video_live",this.setEnabledVideoTrack,this),this.on("change:video_screen",this.setEnabledScreenShareVideoTrack,this),this.on("change:video_in",this.onChangedRemoteVideo,this),this.on("change:volume_on",this.onChangedVolume,this),this.on("destroy",this.onDestroy,this)},registerIqHandler:function(){this.account.connection.deleteHandler(this.iq_handler),this.iq_handler=this.account.connection.addHandler(e=>(this.onIQ(e),!0),null,"iq","set")},updateStatus:function(e){this.modal_view.updateStatusText(e)},updateTimer:function(){this.updateStatus(d.pretty_duration(++this.current_timer))},startTimer:function(){this.updateTimer(),clearInterval(this.call_timer),this.call_timer=setInterval(()=>{this.updateTimer()},1e3)},onConnected:function(){this.get("video_live")&&this.onChangedVideoValue(),a.stopAudio(this.audio_notifiation),setTimeout(()=>{this.set("status","connected"),this.updateStatus(),this.startTimer()},1e3)},onChangeConnectionState:function(e){let t=e.target,n=t.connectionState;"connected"===n?this.onConnected():(this.updateStatus(d.pretty_name(n)+"..."),"failed"===n&&(clearTimeout(this._timeout_failed),this._timeout_failed=setTimeout(()=>{("failed"===t.connectionState||"disconnected"===t.connectionState)&&(this.set("status",n),this.reject(),this.destroy(),this.updateStatus(a.getString("dialog_jingle_message__status_network_error")),a.current_voip_call=null)},4e4),t.restartIce()),"disconnected"===n&&(this.set("status",n),this.destroy(),a.current_voip_call=null))},onIceCandidate:function(e){e&&e.candidate&&e.candidate.candidate&&this.sendCandidate(e.candidate)},onChangeIceConnectionState:function(e){let t=e.target,n=t.iceConnectionState;"failed"===n&&(clearTimeout(this._timeout_failed),this._timeout_failed=setTimeout(()=>{("failed"===t.iceConnectionState||"disconnected"===t.connectionState)&&(this.set("status",n),this.reject(),this.destroy(),this.updateStatus(a.getString("dialog_jingle_message__status_network_error")),a.current_voip_call=null)},4e4),t.restartIce()),"connected"!==n||this.conn.connectionState||this.onConnected()},onChangedMediaType:function(){this.$local_video.switchClass("hidden",!this.get("video"))},onChangedRemoteVideo:function(){let e=this.get("video_in");e?(this.$remote_video_el[0].srcObject=this.remote_stream,this.modal_view.$el.find(".webrtc-remote-audio").replaceWith(this.$remote_video_el)):(this.$remote_audio_el[0].srcObject=this.remote_stream,this.modal_view.$el.find(".webrtc-remote-video").replaceWith(this.$remote_audio_el)),this.modal_view.$el.find(".default-screen").switchClass("hidden",e),this.onChangedVolume()},onChangedVolume:function(){this.get("volume_on")?(this.modal_view.$el.find(".webrtc-remote-audio")[0]&&(this.modal_view.$el.find(".webrtc-remote-audio")[0].muted=!1),this.modal_view.$el.find(".webrtc-remote-video")[0]&&(this.modal_view.$el.find(".webrtc-remote-video")[0].muted=!1)):(this.modal_view.$el.find(".webrtc-remote-audio")[0]&&(this.modal_view.$el.find(".webrtc-remote-audio")[0].muted=!0),this.modal_view.$el.find(".webrtc-remote-video")[0]&&(this.modal_view.$el.find(".webrtc-remote-video")[0].muted=!0))},setEnabledAudioTrack:function(){this.local_stream.getAudioTracks()[0].enabled=this.get("audio")},setEnabledVideoTrack:function(){let e=this.get("video_live"),t=this.conn.getSenders().find(e=>e.track&&(e.track.default||e.track.screen));e&&this.set("video_screen",!1),t&&e&&this.createVideoStream(),!t&&this.local_stream&&(this.local_stream.getVideoTracks()[0].enabled=e),this.set("video",e||this.get("video_screen"))},onDestroy:function(){clearTimeout(this._waiting_timeout),clearInterval(this.call_timer),clearTimeout(this._timeout_failed),a.stopAudio(this.audio_notifiation),this.account.connection.deleteHandler(this.iq_handler),this.stopTracks(),this.conn.close()},setEnabledScreenShareVideoTrack:function(){let e=this.get("video_screen"),t=this.conn.getSenders().find(e=>e.track&&!e.track.screen);e&&this.set("video_live",!1),t&&e&&this.createScreenShareVideoStream(),!t&&this.local_stream&&(this.local_stream.getVideoTracks()[0].enabled=e),this.set("video",e||this.get("video_live"))},onChangedVideoValue:function(){let e=this.get("video")?"enable":"disable";this.sendVideoStreamState(e),this.onChangedMediaType()},createScreenShareVideoStream:function(){navigator.mediaDevices.getDisplayMedia({video:!0}).then(e=>{this.$local_video[0].srcObject=e,e.getVideoTracks().forEach(e=>{u.extend(e,{screen:!0}),this.local_stream.addTrack(e),this.conn.addTrack(e,this.local_stream),this.conn.getSenders().find(e=>!e.track||e.track&&"video"===e.track.kind).replaceTrack(e)})})},sendVideoStreamState:function(e){let t=i({from:this.account.get("jid"),to:this.get("contact_full_jid"),type:"set"}).c("query",{xmlns:l.NS.JINGLE_MSG}).c("video",{state:e,id:this.get("session_id")});this.account.sendIQ(t)},onIQ:function(e){let t=r(e),a=t.find("jingle[action=\"session-initiate\"]"),n=t.find("jingle[action=\"session-accept\"]"),s=t.find("jingle[action=\"session-info\"]"),o=t.find(`query[xmlns="${l.NS.JINGLE_MSG}"] video`),d=t.attr("from"),c=i({from:this.account.get("jid"),to:d,type:"result",id:t.attr("id")});if(a.length){if(a.attr("sid")!==this.get("session_id"))return;let e=a.find(`description[xmlns="${l.NS.JINGLE_RTP}"]`).text();e&&this.conn.setRemoteDescription(new RTCSessionDescription({type:"offer",sdp:e})),this.acceptSession(e),this.account.sendIQ(c)}if(n.length){if(n.attr("sid")!==this.get("session_id"))return;let e=n.find(`description[xmlns="${l.NS.JINGLE_RTP}"]`).text();e&&this.conn.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:e})),this.account.sendIQ(c)}if(s.length){if(s.attr("sid")!==this.get("session_id"))return;let e=s.find("candidate");e.length&&this.conn.addIceCandidate(new RTCIceCandidate({candidate:e.text(),sdpMLineIndex:e.attr("sdpMLineIndex"),sdpMid:e.attr("sdpMid")})),this.account.sendIQ(c)}if(o.length){let e=o.attr("id");if(e===this.get("session_id")){let e=o.attr("state");"enable"===e&&this.set("video_in",!0),"disable"===e&&this.set("video_in",!1)}this.account.sendIQ(c)}},startCall:function(){this.set("call_initiator",this.account.get("jid")),this.createAudioStream(),this.get("video_live")&&this.createVideoStream(),this.propose()},createAudioStream:function(){navigator.mediaDevices.getUserMedia({audio:!0}).then(e=>{this.local_stream=e,this.$local_video[0].srcObject=e;let t=this.initVideoTrack();this.local_stream.addTrack(t),this.conn.addTrack(t,this.local_stream),e.getAudioTracks().forEach(e=>this.conn.addTrack(e,this.local_stream))})},createVideoStream:function(){navigator.mediaDevices.getUserMedia({video:!0}).then(e=>{this.$local_video[0].srcObject=e,e.getVideoTracks().forEach(e=>{this.local_stream.addTrack(e),this.conn.addTrack(e,this.local_stream),this.conn.getSenders().find(e=>!e.track||e.track&&"video"===e.track.kind).replaceTrack(e)})})},stopTracks:function(){this.local_stream&&this.local_stream.getTracks().forEach(e=>{e.stop(),this.local_stream.removeTrack(e)})},propose:function(){this.updateStatus(a.getString("dialog_jingle_message__status_search"));let e=c({from:this.account.get("jid"),type:"chat",to:this.contact.get("jid")}).c("propose",{xmlns:l.NS.JINGLE_MSG,id:this.get("session_id")}).c("description",{xmlns:l.NS.JINGLE_RTP,media:"audio"}).up().up().c("store",{xmlns:l.NS.HINTS}).up().c("markable").attrs({xmlns:l.NS.CHAT_MARKERS}).up().c("body").t(a.getString("jingle__text_body_message")).up().c("origin-id",{id:m(),xmlns:"urn:xmpp:sid:0"});this.account.sendMsg(e)},accept:function(){let e=c({from:this.account.get("jid"),type:"chat",to:this.get("contact_full_jid")||this.contact.get("jid")}).c("accept",{xmlns:l.NS.JINGLE_MSG,id:this.get("session_id")}).up().c("store",{xmlns:l.NS.HINTS}).up().c("markable").attrs({xmlns:l.NS.CHAT_MARKERS}).up().c("origin-id",{id:m(),xmlns:"urn:xmpp:sid:0"});this.set("jingle_start",p.now()),this.account.sendMsg(e),a.stopAudio(this.audio_notifiation),this.set("status","connecting"),this.updateStatus(a.getString("dialog_jingle_message__status_connecting")),this.audio_notifiation=a.playAudio("connecting",!0)},reject:function(t){if("disconnected"!==this.get("status")&&"disconnecting"!==this.get("status")){let n=c({from:this.account.get("jid"),type:"chat",to:this.get("contact_full_jid")||this.contact.get("jid")}).c("reject",{xmlns:l.NS.JINGLE_MSG,id:this.get("session_id")});if(this.get("jingle_start")){let a=p.now(),i=e((a-this.get("jingle_start"))/1e3),s={initiator:this.get("call_initiator")};this.call_timer&&u.extend(s,{start:p(this.get("jingle_start")).format(),end:p(a).format(),duration:i}),t&&(s.reason=t),n.c("call",s).up()}n.up().c("store",{xmlns:l.NS.HINTS}).up().c("markable").attrs({xmlns:l.NS.CHAT_MARKERS}).up().c("origin-id",{id:m(),xmlns:"urn:xmpp:sid:0"}),this.account.sendMsg(n),this.createSystemMessage(n),this.set("status","disconnected"),this.destroy(),a.current_voip_call=null}},createSystemMessage:function(e){let t=r(e.nodeTree),n=this.account.chats.getChat(this.contact),i=t.find("call").attr("end");if(i){let e=t.find("call").attr("duration"),i=t.find("call").attr("initiator");n.messages.createSystemMessage({from_jid:this.account.get("jid"),session_id:t.find("reject").attr("id"),message:a.getString(i&&i===this.account.get("jid")?"jingle__system_message__outgoing_call":"jingle__system_message__incoming_call",[d.pretty_duration(e)])})}else n.messages.createSystemMessage({from_jid:this.account.get("jid"),session_id:t.find("reject").attr("id"),message:a.getString("jingle__system_message__cancelled_call")})},initVideoTrack:function(){let e=Object.assign(document.createElement("canvas"),{width:320,height:240}),t=e.getContext("2d");t.fillRect(0,0,e.width,e.height);let a=t.getImageData(0,0,e.width,e.height);return requestAnimationFrame(function e(){for(let e=0;e<a.data.length;e++)a.data[e++]=a.data[e++]=a.data[e++]=1;t.putImageData(a,0,0),requestAnimationFrame(e)}),u.extend(e.captureStream(60).getTracks()[0],{default:!0})},initSession:function(){navigator.mediaDevices.getUserMedia({audio:!0}).then(e=>{this.local_stream=e,this.$local_video[0].srcObject=e;let t=this.initVideoTrack();return this.local_stream.addTrack(t),this.conn.addTrack(t,this.local_stream),e.getAudioTracks().forEach(e=>this.conn.addTrack(e,this.local_stream)),this.conn.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})}).then(e=>{this.set("session_initiator",this.account.get("jid")),this.conn.setLocalDescription(e).then(()=>{let t=e.sdp,a=i({from:this.account.get("jid"),to:this.get("contact_full_jid"),type:"set"}).c("jingle",{xmlns:l.NS.JINGLE,action:"session-initiate",initiator:this.account.get("jid"),sid:this.get("session_id")}).c("content",{creator:"initiator",name:"voice"}).c("description",{xmlns:l.NS.JINGLE_RTP,media:"audio"}).c("sdp").t(t).up().up().c("security",{xmlns:l.NS.JINGLE_SECURITY_STUB});this.account.sendIQ(a)})})},sendCandidate:function(e){let t=i({from:this.account.get("jid"),to:this.get("contact_full_jid"),type:"set"}).c("jingle",{xmlns:l.NS.JINGLE,action:"session-info",initiator:this.get("session_initiator"),sid:this.get("session_id")}).c("content",{creator:"initiator",name:"voice"}).c("description",{xmlns:l.NS.JINGLE_RTP,media:"audio"}).up().c("transport",{xmlns:l.NS.JINGLE_TRANSPORTS_ICE}).c("candidate",{sdpMLineIndex:e.sdpMLineIndex,sdpMid:e.sdpMid}).t(e.candidate);this.account.sendIQ(t)},acceptSession:async function(){this.set("session_initiator",this.contact.get("jid")),this.conn.createAnswer().then(e=>{this.conn.setLocalDescription(e).then(()=>{let t=e.sdp,a=i({from:this.account.get("jid"),to:this.get("contact_full_jid"),type:"set"}).c("jingle",{xmlns:l.NS.JINGLE,action:"session-accept",initiator:this.contact.get("jid"),sid:this.get("session_id")}).c("content",{creator:"initiator",name:"voice"}).c("description",{xmlns:l.NS.JINGLE_RTP,media:"audio"}).c("sdp").t(t).up().up().c("security",{xmlns:l.NS.JINGLE_SECURITY_STUB});this.account.sendIQ(a)})})}}),a.Chat=Backbone.Model.extend({defaults:{opened:!0,active:!1,display:!1,displayed_sent:!1,last_displayed_id:0,last_delivered_id:0,unread:0,timestamp:0,const_unread:0,encrypted:!1},initialize:function(e,t){this.contact=t.contact,this.account=this.contact?this.contact.account:t.account;let n=this.contact?this.contact.get("jid"):e.jid;this.set({id:e&&e.id||this.contact.hash_id,jid:n}),e&&"encrypted"===e.type&&this.set("encrypted",!0),e&&"saved"===e.type&&(this.set("saved",!0),this.account.on("remove_saved_chat",this.onContactDestroyed,this)),this.retraction_version=0,this.contact?(this.set("group_chat",this.contact.get("group_chat")),this.contact.set("muted",u.contains(this.account.chat_settings.get("muted"),n)),this.contact.set("archived",u.contains(this.account.chat_settings.get("archived"),n)),this.contact.on("destroy",this.onContactDestroyed,this),this.contact.on("change:group_chat",this.onChangedContact,this)):this.set({group_chat:!1,name:e.name}),this.messages=new a.Messages(null,{account:this.account}),this.messages_unread=new a.Messages(null,{account:this.account}),this.item_view=new a.ChatItemView({model:this}),this.on("get_retractions_list",this.getAllMessageRetractions,this),this.on("change:timestamp",this.onChangedTimestamp,this)},onChangedTimestamp:function(){this.get("timestamp")!=this.get("cached_timestamp")&&this.cacheChat()},cacheChat:function(){let e=this.get("jid"),t=this.last_message?u.clone(this.last_message).get("xml"):null;if(!u.isUndefined(t)){let a={jid:this.get("encrypted")?`${e}:encrypted`:e,timestamp:this.get("timestamp"),last_displayed_id:this.get("last_displayed_id"),last_delivered_id:this.get("last_delivered_id"),last_message:t?t.outerHTML:null};this.account.cached_chats.putChat(a)}},onChangedContact:function(){let e=this.contact.changed;u.has(e,"group_chat")&&this.set("group_chat",this.contact.get("group_chat")),u.has(e,"blocked")&&this.set("blocked",this.contact.get("blocked"))},recountUnread:function(){this.set("unread",this.messages_unread.length),this.contact&&this.contact.get("archived")&&this.contact.get("muted")||a.toolbar_view.recountAllMessageCounter()},onContactDestroyed:function(){this.resetUnread(),this.destroy()},resetUnread:function(){let e=this.get("unread");0<e&&(this.set("unread",0),a.recountAllMessageCounter(e),a.toolbar_view.recountAllMessageCounter(e))},searchMessages:function(e){this.messages_view=new a.SearchedMessagesView({query_text:e,model:this}),this.messages_view.messagesRequest({},()=>{a.body.setScreen("all-chats",{right:"searched_messages",model:this})})},sendDataForm:function(e,t){let a=e.get("data_form");if(!a)return;let n=c({type:"chat"});a.fields.forEach(e=>{"boolean"===e.type&&(e.var===t?e.values=[!0]:e.values=[!1])}),n=this.account.addDataFormToStanza(n,a),a.addresses.forEach(e=>{"replyto"===e.type&&r(n.nodeTree).attr("to",e.jid),this.account.sendMsg(n)})},setStanzaId:function(e,t){let a=this.messages.get(e),n=a.get("origin_id");a.set("stanza_id",t),a.get("origin_id")||this.item_view.content.$(`.chat-message[data-uniqueid="${t}"]`).data("uniqueid",t)[0].setAttribute("data-uniqueid",t),this.get("encrypted")&&this.account.omemo&&this.account.omemo.updateMessage({stanza_id:t,origin_id:n},this.contact)},getCallingAvailability:function(e,t,a){let n=i({from:this.account.get("jid"),to:e,type:"get"}).c("query",{xmlns:l.NS.JINGLE_MSG}).c("session",{id:t});this.account.sendIQ(n,a)},sendReject:function(e){e||(e={});let t=e.to||this.contact.get("jid"),a=c({type:"chat",to:t}).c("reject",{xmlns:l.NS.JINGLE_MSG,id:e.session_id}).c("call",{reason:e.reason}).up().up().c("store",{xmlns:l.NS.HINTS}).up().c("markable").attrs({xmlns:l.NS.CHAT_MARKERS}).up().c("origin-id",{id:m(),xmlns:"urn:xmpp:sid:0"});this.account.sendMsg(a)},initIncomingCall:function(e,t){return a.get("audio")?void(a.current_voip_call=new a.JingleMessage({contact_full_jid:e,session_id:t},{contact:this.contact}),a.current_voip_call.modal_view.show({status:"in"}),a.current_voip_call.set("call_initiator",this.contact.get("jid"))):void this.messages.createSystemMessage({from_jid:this.account.get("jid"),message:a.getString("jingle__system_message__no_devices_to_answer")})},endCall:function(e){e&&a.current_voip_call.set("status",e),a.current_voip_call.destroy(),a.current_voip_call=null},getAllMessageRetractions:function(){if(this.contact.get("group_chat")){let e=i({type:"get",to:this.contact.get("jid")}).c("query",{xmlns:l.NS.REWRITE,version:this.retraction_version});this.account.sendIQ(e)}},receiveMessage:function(e,t){let n=l.getBareJidFromJid(e.attr("from")),o=t.carbon_copied,c=e.children(`[xmlns="${l.NS.CHAT_MARKERS}"]`),m=e.children(`request[xmlns="${l.NS.RECEIPTS}"]`),g=e.children(`received[xmlns="${l.NS.RECEIPTS}"]`),h=e.children(`propose[xmlns="${l.NS.JINGLE_MSG}"]`),f=e.children(`accept[xmlns="${l.NS.JINGLE_MSG}"]`),v=e.children(`reject[xmlns="${l.NS.JINGLE_MSG}"]`);if(h.length){if(o&&n==this.account.get("jid"))return void(a.current_voip_call&&this.sendReject({to:l.getBareJidFromJid(e.attr("to")),session_id:h.attr("id"),reason:"busy"}));if(t.is_archived||t.synced_msg)return;else{let t=h.attr("id"),n=e.attr("from");this.getCallingAvailability(n,t,()=>a.current_voip_call?(this.sendReject({session_id:t,reason:"busy"}),void this.messages.createSystemMessage({from_jid:this.account.get("jid"),message:a.getString("jingle__system_message__cancelled_call")})):void this.initIncomingCall(n,t))}}if(f.length){if(t.is_archived||t.synced_msg)return;if(a.current_voip_call&&a.current_voip_call.get("session_id")===f.attr("id"))if(o)this.endCall();else{a.current_voip_call.get("state")||a.current_voip_call.set("state",s.JINGLE_MSG_ACCEPT);let t=f.find("time").attr("stamp");t=t?+p(t):p.now(),a.current_voip_call.set("jingle_start",t),a.current_voip_call.get("contact_full_jid")||a.current_voip_call.set("contact_full_jid",e.attr("from")),a.stopAudio(a.current_voip_call.audio_notifiation),a.current_voip_call.set("status","connecting"),a.current_voip_call.updateStatus(a.getString("dialog_jingle_message__status_connecting")),a.current_voip_call.audio_notifiation=a.playAudio("connecting")}}if(v.length){if(this.messages.filter(e=>e.get("session_id")===v.attr("id")).length)return;let n=t.delay&&t.delay.attr("stamp")||e.find("delay").attr("stamp")||e.find("time").attr("stamp"),i="",s;if(v.children("call").length){let e=v.children("call").attr("duration"),t=v.children("call").attr("initiator");i=e&&t?a.getString(t&&t===this.account.get("jid")?"jingle__system_message__outgoing_call":"jingle__system_message__incoming_call",[d.pretty_duration(e)]):a.getString("jingle__system_message__cancelled_call")}else i=a.getString("jingle__system_message__cancelled_call");if(s=this.messages.createSystemMessage({from_jid:this.account.get("jid"),time:n,session_id:v.attr("id"),stanza_id:t.stanza_id,message:i}),t.is_archived||t.synced_msg)return s;if(a.current_voip_call&&a.current_voip_call.get("session_id")===v.attr("id")){a.stopAudio(a.current_voip_call.audio_notifiation);let e=a.playAudio("busy");setTimeout(()=>{a.stopAudio(e)},1500),this.endCall("busy"==v.children("call").attr("reason")?"busy":"disconnected")}return s}if(!t.is_archived){let a,i;e.children("stanza-id").each((t,s)=>{s=r(s),e.children(`x[xmlns="${l.NS.GROUP_CHAT}"]`).length?s.attr("by")===n?(!a&&(a=s),i=s):a=s:s.attr("by")===n?i=s:a=s}),!t.stanza_id&&a&&(t.stanza_id=a.attr("id")),!t.contact_stanza_id&&i&&(t.contact_stanza_id=i.attr("id"))}if(c.length){let a=c[0].tagName.toLowerCase();if("markable"!==a||t.is_mam||t.is_archived||o||t.synced_msg&&(!t.synced_msg||!t.is_unread)||(this.sendMarker(e.attr("id"),"received",t.stanza_id,t.contact_stanza_id),this.get("saved")&&this.sendMarker(e.attr("id"),"displayed",t.stanza_id,t.contact_stanza_id)),"markable"!==a&&!o)return void this.receiveMarker(e,a,o);"displayed"===a&&o&&this.receiveCarbonsMarker(c)}if(!m.length||t.is_mam||t.is_archived||o||t.synced_msg&&(!t.synced_msg||!t.is_unread)||this.sendDeliveryReceipt(e),g.length&&this.receiveDeliveryReceipt(e),!e.find("body").length||h.length||f.length||v.length){if(this.get("saved"))return;let t=a.chats_view.child(this.contact.hash_id);return void(t&&t.content&&t.content.receiveNoTextMessage(e,o))}if(e.find("invite").length){if(n===this.account.get("jid"))return;let a=e.find("invite").attr("jid")||e.find("message").attr("from"),s=this.account.contacts.get(a);if(s&&"both"==s.get("subscription"))return;if(!(this.account.connection&&this.account.connection.do_synchronization)){let n=i({type:"get"}).c("blocklist",{xmlns:l.NS.BLOCKING});this.account.sendIQ(n,n=>{let i=r(n).find("item"),s=+p(e.find("delay").attr("stamp")||e.find("time").attr("stamp")||t.delay&&+p(t.delay.attr("stamp"))||p.now()),o=!1,d;if(0<i.length&&i.each((e,t)=>{let n=r(t),i=n.attr("jid"),s="";if(-1<i.indexOf(a)){if(o=!0,s=i.substr(i.lastIndexOf("/")+1,i.length-a.length),!s)return d="",!1;(!d||d<s)&&(d=s)}}),u.isUndefined(d)||d&&d<s)return this.messages.createInvitationFromStanza(e,t)},()=>this.messages.createInvitationFromStanza(e,t))}else if(t.synced_msg||!t.synced_msg&&!t.is_archived)return this.messages.createInvitationFromStanza(e,t)}else return this.messages.createFromStanza(e,t)},getMessageContext:function(e,t){t=t||{};let n=t.mention&&this.account.messages||t.seached_messages&&this.account.searched_messages||t.message&&a.all_searched_messages||this.account.messages,i=n.get(e);if(i){let e=i.get("stanza_id");this.messages_view=new a.MessageContextView({contact:this.contact,mention_context:t.mention,model:this,stanza_id_context:e}),this.account.context_messages.add(i),this.messages_view.messagesRequest({after:e},()=>{let e="all-chats";t.mention?e="mentions":t.message&&(e=a.body.screen.get("name")),a.body.setScreen(e,{right:"message_context",model:this})})}},sendDeliveryReceipt:function(e){let t=c({from:this.account.get("jid"),to:this.contact.get("jid"),type:"chat",id:m()}).c("received",{xmlns:l.NS.RECEIPTS,id:e.attr("id")});this.account.sendMsg(t)},sendMarker:function(e,t,a,n){t||(t="displayed");let i=c({from:this.account.jid,to:this.get("jid"),type:"chat",id:m()}).c(t).attrs({xmlns:l.NS.CHAT_MARKERS,id:e||a||n||""});a&&i.c("stanza-id",{xmlns:"urn:xmpp:sid:0",id:a,by:this.account.get("jid")}).up(),!this.get("saved")&&n&&i.c("stanza-id",{xmlns:"urn:xmpp:sid:0",id:n,by:this.contact.get("jid")}).up(),this.account.sendMsg(i)},receiveMarker:function(e,t,a){let n=e.find("displayed"),i=e.find("received"),o="error"===e.attr("type");if(o||!n.length&&!i.length)return;let d=n.attr("id")||i.attr("id"),r=n.find(`stanza-id[by="${this.account.get("jid")}"]`).attr("id")||i.find(`stanza-id[by="${this.account.get("jid")}"]`).attr("id"),c=this.account.messages.find(e=>r&&(e.get("stanza_id")===r||e.get("contact_stanza_id")===r)||e.get("msgid")===d);if(!c){let n=this.account.chats.get(`${this.id}:encrypted`),i=n&&n.messages.find(e=>r&&(e.get("stanza_id")===r||e.get("contact_stanza_id")===r)||e.get("msgid")===d);return void(i&&n.receiveMarker(e,t,a))}if(!c.isSenderMe())c.set("is_unread",!1);else if(i.length){let e=c.get("state");if(e!==s.MSG_DISPLAYED){let e=i.children("time").attr("stamp");e&&(c.set("time",v(e)),c.set("timestamp",+e))}this.setMessagesDelivered(c.get("timestamp"))}else this.setMessagesDisplayed(c.get("timestamp"))},setMessagesDelivered:function(e){e||(e=p.now());let t=this.messages.filter(t=>t.isSenderMe()&&t.get("timestamp")<=e&&t.get("state")>s.MSG_PENDING&&t.get("state")<s.MSG_DELIVERED);if(!t.length){let a=this.account.chats.get(this.id+":encrypted");a&&(t=a.messages.filter(t=>t.isSenderMe()&&t.get("timestamp")<=e&&t.get("state")>s.MSG_PENDING&&t.get("state")<s.MSG_DELIVERED))}t.forEach(e=>e.set("state",s.MSG_DELIVERED))},setMessagesDisplayed:function(e){e||(e=p.now());let t=this.messages.filter(t=>t.isSenderMe()&&t.get("timestamp")<=e&&t.get("state")>s.MSG_PENDING&&t.get("state")<s.MSG_DISPLAYED);if(!t.length){let a=this.account.chats.get(this.id+":encrypted");a&&(t=a.messages.filter(t=>t.isSenderMe()&&t.get("timestamp")<=e&&t.get("state")>s.MSG_PENDING&&t.get("state")<s.MSG_DISPLAYED))}t.forEach(e=>e.set("state",s.MSG_DISPLAYED))},receiveCarbonsMarker:function(e){let t=e.children(`stanza-id[by="${this.account.get("jid")}"]`).attr("id"),a=e.attr("id"),n=this.messages.find(e=>t&&(e.get("stanza_id")===t||e.get("contact_stanza_id")===t)||e.get("msgid")===a),s;if(n&&(s=this.messages.indexOf(n)),!n){let n=this.account.chats.get(this.id+":encrypted"),i=n&&n.messages.find(e=>t&&(e.get("stanza_id")===t||e.get("contact_stanza_id")===t)||e.get("msgid")===a);return void(i&&n.receiveCarbonsMarker(e))}if(-1<s){this.set("const_unread",0);for(let e=s,t;0<=e;e--)t=this.messages.models[e],t.set("is_unread",!1)}else{let e=this.messages_unread.find(e=>e.get("stanza_id")===t||e.get("contact_stanza_id")===t||e.get("msgid")===a);e&&e.set("is_unread",!1)}},receiveDeliveryReceipt:function(e){let t=e.find("received"),a=t.attr("id"),n=t.children(`stanza-id[by="${this.account.get("jid")}"]`).attr("id"),i=this.account.messages.get(a||n);!i||i.isSenderMe()&&i.set("state",s.MSG_DELIVERED)},onPresence:function(e){let t=this.get("jid");this.contact.get("group_chat")||("subscribe_from"===e?this.messages.createSystemMessage({from_jid:this.account.get("jid"),message:a.getString("action_subscription_sent")}):"subscribe"===e?this.messages.createSystemMessage({from_jid:t,auth_request:!0,message:a.getString("action_subscription_received")}):"subscribed"==e&&this.messages.createSystemMessage({from_jid:t,message:a.getString("action_subscription_sent_add",[this.contact.get("name")])}))},onRosterPush:function(e){let t=this.get("jid");"remove"===e&&this.messages.createSystemMessage({from_jid:t,silent:!1,message:a.getString("action_contact_deleted")})},retractMessages:function(e,t,n){let s=0,o=e.length,c=new r.Deferred;c.done(t=>{0===t?d.dialogs.error(a.getString("groupchat_you_have_no_permissions_to_do_it")):t!==e.length&&d.dialogs.error(a.getString("groupchat_you_have_no_permissions_to_do_it"))}),r(e).each((a,d)=>{let p=d.get("stanza_id"),u=d.get("contact_stanza_id");if(p||u){let a=i({type:"set",from:this.account.get("jid"),to:t?this.contact.get("full_jid")||this.contact.get("jid"):this.account.get("jid")}).c("retract-message",{id:this.get("group_chat")&&u||p,xmlns:l.NS.REWRITE,symmetric:n,by:this.account.get("jid")});this.account.sendIQ(a,()=>{this.item_view.content.removeMessage(d),s++,s===e.length&&c.resolve(o)},t=>{s++,r(t).find("not-allowed").length&&o--,s===e.length&&c.resolve(o)})}})},retractMessagesByUser:function(e){let t=i({type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("retract-user",{id:e,xmlns:l.NS.REWRITE,symmetric:!0});this.account.sendIQ(t,()=>{let t=this.messages.filter(t=>t.get("user_info")&&t.get("user_info").id==e);r(t).each((e,t)=>{this.item_view.content.removeMessage(t)})},e=>{r(e).find("not-allowed").length&&d.dialogs.error(a.getString("groupchat_you_have_no_permissions_to_do_it"))})},retractAllMessages:function(e,t,n){let s=this.get("group_chat"),o=i({type:"set",from:this.account.get("jid"),to:s?this.contact.get("full_jid")||this.contact.get("jid"):this.account.get("jid")}),c={xmlns:l.NS.REWRITE,symmetric:e};s||(c.conversation=this.get("jid")),this.get("encrypted")&&(c.type="encrypted"),o.c("retract-all",c),this.account.sendIQ(o,()=>{let e=this.messages.models;r(e).each((e,t)=>{this.item_view.content.removeMessage(t)}),t&&t()},e=>{r(e).find("not-allowed").length&&d.dialogs.error(a.getString("groupchat_you_have_no_permissions_to_do_it")),n&&n()})},showBlockedRequestMessage:function(){this.messages.length&&this.messages.createSystemMessage({from_jid:this.account.get("jid"),message:a.getString("action_contact_blocked"),time:this.messages.last().get("time")})},deleteFromSynchronization:function(e,t){let a={jid:this.get("jid")};this.get("encrypted")&&(a.type="encrypted");let n=i({from:this.account.get("jid"),type:"set",to:this.account.get("jid")}).c("delete",{xmlns:l.NS.SYNCHRONIZATION}).c("conversation",a);this.account.sendIQ(n,t=>{e&&e(t)},e=>{t&&t(e)})}}),a.ChatItemView=a.BasicView.extend({className:"chat-item list-item",template:o.chat_item,avatar_size:s.AVATAR_SIZES.CHAT_ITEM,events:{click:"openByClick"},_initialize:function(){this.account=this.model.account,this.contact=this.model.contact,this.$el.attr("data-id",this.model.id),this.content=new a.ChatContentView({chat_item:this}),this.updateName(),this.updateStatus(),this.updateCounter(),this.updateAvatar(),this.updateMutedState(),this.updateArchivedState(),this.updateColorScheme(),this.updateGroupChats(),this.updateIcon(),this.updateEncrypted(),this.model.on("change:active",this.updateActiveStatus,this),this.model.on("change:unread",this.updateCounter,this),this.model.on("change:encrypted",this.updateEncrypted,this),this.model.on("change:const_unread",this.updateCounter,this),this.model.on("open",this.open,this),this.model.on("remove_opened_chat",this.onClosed,this),this.model.messages.on("destroy",this.onMessageRemoved,this),this.contact&&(this.contact.on("change:name",this.updateName,this),this.contact.on("change:status",this.updateStatus,this),this.contact.on("change:private_chat",this.updateIcon,this),this.contact.on("change:invitation",this.updateIcon,this),this.contact.on("change:incognito_chat",this.updateIcon,this),this.contact.on("change:image",this.updateAvatar,this),this.contact.on("change:blocked",this.onBlocked,this),this.contact.on("change:muted",this.updateMutedState,this),this.contact.on("change:archived",this.updateArchivedState,this),this.contact.on("change:group_chat",this.updateGroupChats,this),this.contact.on("change:in_roster",this.updateAcceptedStatus,this),this.contact.on("remove_invite",this.removeInvite,this),this.contact.on("update_trusted",this.updateEncryptedColor,this)),this.$el.switchClass("saved-chat",this.model.get("saved")),this.$el.find(".circle-avatar").switchClass("ground-color-700",this.model.get("saved")),this.model.get("saved")&&this.$el.find(".circle-avatar").html(n.templates.svg["saved-messages"]()),this.account.settings.on("change:color",this.updateColorScheme,this)},updateName:function(){return this.model.get("saved")?void this.$(".chat-title").text(a.getString("saved_messages__header")):void this.$(".chat-title").text(this.contact.get("name"))},updateStatus:function(){if(!this.model.get("saved")){let e=this.contact.get("status");this.$(".status").attr("data-status",e),this.$(".chat-icon").attr("data-status",e)}},updateActiveStatus:function(){this.$el.switchClass("active",this.model.get("active"))},updateAcceptedStatus:function(){let e=this.contact.get("in_roster");e&&this.model.set("is_accepted",!0)},onBlocked:function(){this.updateIcon(),this.$el.switchClass("blocked",this.model.get("blocked"))},updateCounter:function(){let e=this.model.get("unread")+this.model.get("const_unread");this.$(".msg-counter").showIf(e).text(e||"")},updateAvatar:function(){if(!this.model.get("saved")){let e=this.contact.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)}},updateEncrypted:function(){this.$el.switchClass("encrypted",this.model.get("encrypted"))},updateEncryptedColor:function(e){this.$el.attr("data-trust",e)},updateIcon:function(){if(this.contact){this.$(".chat-icon").addClass("hidden");let e=this.contact.getIcon();e&&this.$(".chat-icon").removeClass("hidden group-invite blocked").switchClass(e,"group-invite"==e||"server"==e||"blocked"==e).html(n.templates.svg[e]())}},updateMutedState:function(){if(this.contact){let e=this.contact.get("muted");this.$(".msg-counter").switchClass("muted-chat-counter",e),this.$(".muted-icon").showIf(e)}},updateArchivedState:function(){if(this.contact){let e=this.contact.get("archived");(e||!e&&a.toolbar_view.$(".active").hasClass("archive-chats"))&&this.$el.detach(),(e&&a.toolbar_view.$(".active").hasClass("archive-chats")||!e&&!a.toolbar_view.$(".active").hasClass("archive-chats"))&&a.chats_view.updateChatPosition(this.model)}},updateGroupChats:function(){if(this.contact){let e=this.contact.get("group_chat");this.$(".status").hideIf(e),this.$(".chat-icon").showIf(e),this.updateIcon(),e&&(this.$el.addClass("group-chat"),this.model.set("group_chat",!0))}},updateColorScheme:function(){let e=this.account.settings.get("color");this.$el.attr("data-color",e),this.content.$el.attr("data-color",e),this.content.head.$el.attr("data-color",e),this.content.bottom.$el.attr("data-color",e)},onMessageRemoved:function(e){if(this.model.last_message===e){let e;for(let t=this.model.messages.length-1;0<=t&&(e=this.model.messages.at(t),!!e.get("silent"));t--);this.model.last_message=e,this.updateLastMessage()}},updateEmptyChat:function(){let e=this.model.get("timestamp"),t=+this.model.get("last_delivered_id")||+this.model.get("last_displayed_id")||+this.model.get("last_read_msg");this.$(".last-msg").html(a.getString(t?"recent_chat__last_message_retracted":"no_messages").italics()),this.$(".last-msg-date").text(d.pretty_short_datetime_recent_chat(e)).attr("title",v(e))},updateEncryptedChat:function(){let e=this.model.get("timestamp");this.$(".last-msg").html(a.getString("recent_chat__decrypting_messages").italics()),this.$(".last-msg-date").text(d.pretty_short_datetime_recent_chat(e)).attr("title",v(e))},updateLastMessage:function(e){if(e||(e=this.model.last_message),!e)return void(this.model.messages.length||this.updateEmptyChat());let t=e.get("time"),n=e.get("timestamp"),i="",o=e.get("forwarded_message"),c=e.get("files")||[],l=e.get("images")||[],p=o?e.get("message")||a.getQuantityString("forwarded_messages_count",o.length).italics():e.getText(),u=e.get("user_info")||e.isSenderMe()&&this.contact&&this.contact.my_info&&this.contact.my_info.attributes||{};if(this.model.set({timestamp:n}),this.model.get("group_chat")&&(i=u.nickname||u.jid||(e.isSenderMe()?this.account.get("name"):e.get("from_jid"))||""),i&&(i=r("<span class=text-color-700/>").text(i+": ")),c.length||l.length){let t=r("<span class=\"text-color-500\"/>");if("file_upload"===e.get("type")&&(l=c.filter(e=>e.type&&d.isImageType(e.type)),c=c.filter(e=>!(e.type&&d.isImageType(e.type)))),c.length&&l.length)p=t.text(a.getString("recent_chat__last_message__attachments",[c.length+l.length]));else{if(1==c.length&&(c[0].is_audio||c[0].voice))p=t.text(`${a.getString("voice_message")}, `+d.pretty_duration(c[0].duration));else if(0<c.length){let e=0;c.forEach(t=>{e+=+t.size}),p=t.text(a.getQuantityString("recent_chat__last_message__files",c.length)+(0<e?`, ${d.pretty_size(e)}`:""))}if(0<l.length){let e=0;l.forEach(t=>{e+=+t.size}),p=t.text(a.getQuantityString("recent_chat__last_message__images",l.length)+(0<e?`, ${d.pretty_size(e)}`:""))}}this.$(".last-msg").html("").append(i).append(p)}else{if("system"==e.get("type"))i="",e.get("invite")&&(p=a.getString("groupchat_invitation_to_group_chat",[this.contact&&this.contact.get("incognito_chat")?"incognito":"public"])),e.get("private_invite")&&(p=a.getString("recent_chat__last_message__private_invitation")),p=this.model.get("group_chat")?r("<i/>").text(p):r("<span class=text-color-500/>").text(p),this.$(".last-msg").html(p);else if(!o)p=e.getText(),this.$(".last-msg").text(p);else if(e.get("message"))p=e.get("message"),this.$(".last-msg").text(p);else{let e=o[0];if(e.get("message")){let t=e.get("user_info")||{};i=t.nickname||t.jid||"",p=e.get("message"),this.$(".last-msg").text(p),i&&(i=r("<span class=text-color-700/>").text(i+": "))}else p=r("<i/>").text(a.getQuantityString("forwarded_messages_count",o.length)),this.$(".last-msg").html(p)}this.$(".last-msg").prepend(i)}this.$el.emojify(".last-msg",{emoji_size:16}).hyperlinkify({decode_uri:!0}),this.$(".last-msg-date").text(d.pretty_short_datetime_recent_chat(t)).attr("title",v(t)),this.$(".msg-delivering-state").showIf("system"!==e.get("type")&&e.isSenderMe()&&e.get("state")!==s.MSG_ARCHIVED).attr("data-state",e.getState())},openByClick:function(){this.open()},open:function(e){e||(e={clear_search:!1}),a.chats_view.openChat(this,e),this.content.bottom.click_counter=0,this.content.bottom.setDefaultPlaceholder()},removeInvite:function(e){if(this.account.server_features.get(l.NS.REWRITE)){e||(e={});let t=u.clone(this.model.messages.models);this.model.set({last_archive_id:void 0,first_archive_id:void 0}),t.forEach(e=>{if(e.get("invite")){let t=i({type:"set",from:this.account.get("jid"),to:this.account.get("jid")}).c("retract-message",{id:this.contact.get("group_chat")&&e.get("contact_stanza_id")||e.get("stanza_id"),xmlns:l.NS.REWRITE,symmetric:!1,by:this.account.get("jid")});this.account.sendIQ(t),e&&this.content.removeMessage(e)}}),this.model.recountUnread(),delete this.contact.attributes.invitation,this.updateIcon()}},onClosed:function(){this.parent.onChatRemoved(this.model,{soft:!0})}}),a.MessagesView=a.BasicView.extend({template:o.chat_content,ps_selector:".chat-content",ps_settings:{wheelPropagation:!0},avatar_size:s.AVATAR_SIZES.CHAT_MESSAGE,_initialize:function(e){this.model=e.model,this.contact=e.contact,this.account=this.model.account;let t=this.account.settings.get("color");this.$el.attr("data-color",t),this.$search_form=this.$(".search-form-header"),this.loading_history=!1,this.history_loaded=!1,this.first_msg_id=0,this.last_msg_id=0,this._scrolltop=this.getScrollTop(),this.ps_container.on("ps-scroll-up ps-scroll-down",this.onScroll.bind(this)),this.chat_content=e.chat_content||this.model.item_view.content;let a=this.defineMouseWheelEvent();this.$el.on(a,this.onMouseWheel.bind(this)),this.$(".back-to-bottom").click(this.backToBottom.bind(this))},defineMouseWheelEvent:function(){return u.isUndefined(window.onwheel)?u.isUndefined(window.onmousewheel)?"MozMousePixelScroll":"mousewheel":"wheel"},keyupSearch:function(e){if(e.keyCode===s.KEY_ENTER){let e=this.$search_form.find("input").val();this.model.searchMessages(e,()=>{})}e.keyCode===s.KEY_ESCAPE&&this.chat_content.head.renderSearchPanel()},onMouseWheel:function(){this.$(".back-to-bottom").hideIf(this.isScrolledToBottom())},onClickMessage:function(e){this.chat_content.onClickMessage(e)},onClickLink:function(e){this.chat_content.onClickLink(e)},onScroll:function(){this.$(".back-to-bottom").hideIf(this.isScrolledToBottom()),this._prev_scrolltop=this._scrolltop||0,this._scrolltop=this.getScrollTop(),!this.history_loaded&&!this.loading_history&&this._scrolltop<this._prev_scrolltop&&(100>this._scrolltop||.1>this.getPercentScrolled())&&(this.loading_history=!0,this.messagesRequest({before:this.first_msg_id},()=>{this.loading_history=!1}))},backToBottom:function(){this.openChat(),this.scrollToBottom(),this.$(".back-to-bottom").hideIf(this.isScrolledToBottom())},messagesRequest:function(){},emptyChat:function(){this.$(".chat-content").html(r("<span class=\"error\"/>").text(a.getString("no_messages")))},openChat:function(){this.model.item_view.open()},addMessageHTML:function(e,t,a){let n=this.getScrollBottom(),i;0===t?e.prependTo(this.$(".chat-content")):e.insertAfter(this.$(".chat-message").eq(t-1)),t===a&&(i=this.getScrollTop());let s=e.nextAll(".chat-message").first();return this.chat_content.updateMessageInChat(e[0]),s.length&&this.chat_content.updateMessageInChat(s[0]),this.chat_content.initPopup(e),i?this.scrollTo(i):this.scrollTo(this.ps_container[0].scrollHeight-this.ps_container[0].offsetHeight-n),e}}),a.MessageContextView=a.MessagesView.extend({className:"chat-content-wrap messages-context-wrap",events:{"click .chat-message":"onClickMessage","click .mdi-link-variant":"onClickLink","keyup .messages-search-form":"keyupSearch"},__initialize:function(e){e=e||{},this.stanza_id=e.stanza_id_context,this.mention_context=e.mention_context,this.$history_feedback=this.$(".load-history-feedback"),this.account.context_messages=new a.Messages(null,{account:this.account}),this.account.context_messages.on("change:last_replace_time",this.chat_content.updateMessage,this),this.account.context_messages.on("add",this.addMessage,this)},render:function(){this.scrollToTop(),this.$(".back-to-bottom").hideIf(this.isScrolledToBottom())},onMouseWheel:function(e){this.loading_history||(0>e.originalEvent.deltaY?!this.first_history_loaded&&(this.loading_history=!0,this.messagesRequest({before:this.first_msg_id},()=>{this.loading_history=!1})):!this.last_history_loaded&&(this.loading_history=!0,this.messagesRequest({after:this.last_msg_id},()=>{this.loading_history=!1}))),this.$(".back-to-bottom").hideIf(this.isScrolledToBottom())},onScroll:function(){this.$(".back-to-bottom").hideIf(this.isScrolledToBottom()),this._prev_scrolltop=this._scrolltop||0,this._scrolltop=this.getScrollTop(),this._scrollbottom=this.getScrollBottom(),this.loading_history||(!this.first_history_loaded&&this._scrolltop<this._prev_scrolltop&&(100>this._scrolltop||.1>this.getPercentScrolled())?(this.loading_history=!0,this.showHistoryFeedback(),this.messagesRequest({before:this.first_msg_id},()=>{this.loading_history=!1,this.hideHistoryFeedback()})):!this.last_history_loaded&&this._scrolltop>this._prev_scrolltop&&(100>this._scrollbottom||.9<this.getPercentScrolled())&&(this.loading_history=!0,this.showHistoryFeedback(),this.messagesRequest({after:this.last_msg_id},()=>{this.loading_history=!1,this.hideHistoryFeedback()})))},showHistoryFeedback:function(){this.$history_feedback.text(a.getString("loading_history")).removeClass("hidden")},hideHistoryFeedback:function(){this.$history_feedback.addClass("hidden")},messagesRequest:function(e,t){let n=[],i=e||{},s=m();i.max||(i.max=a.settings.mam_messages_limit),i.after||i.before||(i.before="");let o=this.account.connection.addHandler(e=>{let t=r(e);return t.find("result").attr("queryid")===s&&n.push(e),!0},l.NS.MAM);this.chat_content.MAMRequest(i,(e,a,n)=>{this.account.connection.deleteHandler(o),n&&(this.first_msg_id=n.first)&&(this.last_msg_id=n.last),i.after&&a.length<i.max&&(this.last_history_loaded=!0),i.before&&a.length<i.max&&(this.first_history_loaded=!0),r(a).each((e,t)=>{let a=r(t);this.account.chats.receiveChatMessage(a,{context_message:!0})}),t&&t()},()=>{this.account.connection.deleteHandler(o)})},addMessage:function(e){if(e.get("auth_request"))return;this.mention_context&&e.get("stanza_id")===this.stanza_id||e.set("is_archived",!0);let t=this.chat_content.buildMessageHtml(e).addClass("context-message"),a=this.account.context_messages.indexOf(e);e.get("stanza_id")===this.stanza_id&&(t.addClass("message-from-context"),setTimeout(()=>{t.removeClass("message-from-context")},3e3)),this.addMessageHTML(t,a,this.account.context_messages.findLastIndex())}}),a.SearchedMessagesView=a.MessagesView.extend({className:"chat-content-wrap searched-messages-wrap",events:{"click .chat-message":"onClickMessage","click .mdi-link-variant":"onClickLink","click .btn-cancel-searching":"openChat","keyup .messages-search-form":"keyupSearch"},__initialize:function(e){return this.query_text=e.query_text,this.account.searched_messages=new a.Messages(null,{account:this.account}),this.account.searched_messages.on("change:last_replace_time",this.chat_content.updateMessage,this),this.account.searched_messages.on("add",this.addMessage,this),this},render:function(){this.$search_form.find("input").val(this.query_text),this.$search_form.slideToggle(10,()=>{"none"!==this.$search_form.css("display")&&this.$search_form.find("input").focus(),this.scrollToBottom()}),this.$(".back-to-bottom").hideIf(this.isScrolledToBottom())},messagesRequest:function(e,t){let n=[],i=e||{},s=m();u.extend(i,{max:a.settings.mam_messages_limit,before:e.before||"",var:[{var:"withtext",value:this.query_text}]});let o=this.account.connection.addHandler(e=>{let t=r(e);return t.find("result").attr("queryid")===s&&n.push(e),!0},l.NS.MAM);this.chat_content.MAMRequest(i,(e,a,n)=>{this.account.connection.deleteHandler(o),n&&(this.first_msg_id=n.first),a.length||this.account.searched_messages.length||this.emptyChat(),a.length<i.max&&(this.history_loaded=!0),r(a).each((e,t)=>{let a=r(t);this.account.chats.receiveChatMessage(a,{searched_message:!0})}),t&&t()},()=>{this.account.connection.deleteHandler(o)})},addMessage:function(e){if(!e.get("auth_request")){e.set("is_archived",!0);let t=this.chat_content.buildMessageHtml(e).addClass("searched-message"),a=this.account.searched_messages.indexOf(e);this.addMessageHTML(t,a)}}}),a.ParticipantMessagesView=a.MessagesView.extend({className:"chat-content-wrap participant-messages-wrap",events:{"click .chat-message":"onClickMessage","click .mdi-link-variant":"onClickLink","click .btn-cancel-selection":"openChat","click .btn-retract-messages":"retractMessages","keyup .messages-search-form":"keyupSearch"},__initialize:function(e){return this.participant=e.participant,this.member_jid=this.participant.jid,this.member_id=this.participant.id,this.member_nickname=this.participant.nickname,this.account.participant_messages=new a.Messages(null,{account:this.account}),this.account.participant_messages.on("add",this.addMessage,this),this.account.participant_messages.on("change:last_replace_time",this.chat_content.updateMessage,this),this.ps_container.on("ps-scroll-y",this.onScrollY.bind(this)),this},render:function(){this.$(".chat-content").css("height","calc(100% - 32px)"),this.$(".participant-messages-header .messages-by-header .participant-nickname").text(this.member_nickname),this.$(".participant-messages-header").removeClass("hidden"),this.scrollToBottom(),this.$(".back-to-bottom").hideIf(this.isScrolledToBottom())},onScrollY:function(){},retractMessages:function(){d.dialogs.ask(a.getString("dialog_delete_user_messages__header"),a.getString("dialog_delete_user_messages__confirm",[this.member_nickname||this.member_jid||this.member_id]),null,{ok_button_text:a.getString("delete")}).done(e=>{e&&this.member_id&&this.chat_content.model.retractMessagesByUser(this.member_id,()=>{this.emptyChat()})})},messagesRequest:function(e,t){let n=[],i=e||{},s=this.member_id,o=m();u.extend(i,{max:a.settings.mam_messages_limit,before:e.before||"",var:[{var:"with",value:s}]});let d=this.account.connection.addHandler(e=>{let t=r(e);return t.find("result").attr("queryid")===o&&n.push(e),!0},l.NS.MAM);this.chat_content.MAMRequest(i,(e,a,n)=>{this.account.connection.deleteHandler(d),n&&(this.first_msg_id=n.first),a.length||this.account.participant_messages.length||this.emptyChat(),a.length<i.max&&(this.history_loaded=!0),r(a).each((e,t)=>{let a=r(t);this.account.chats.receiveChatMessage(a,{participant_message:!0})}),t&&t()},()=>{this.account.connection.deleteHandler(d)})},addMessage:function(e){if(!e.get("auth_request")){e.set("is_archived",!0);let t=this.chat_content.buildMessageHtml(e).addClass("participant-message"),a=this.account.participant_messages.indexOf(e);this.addMessageHTML(t,a)}}}),a.SubscriptionButtonsView=a.BasicView.extend({template:o.subscription_buttons,events:{"click .btn-decline":"declineSubscription","click .btn-allow":"allowSubscription","click .btn-add":"addContact","click .btn-subscribe":"addContact","click .btn-block":"blockContact"},_initialize:function(e){this.$el.html(this.template()),this.contact=e.contact,this.contact.on("change:subscription",this.render,this),this.contact.on("change:blocked",this.render,this),this.contact.on("change:subscription_request_in",this.render,this),this.contact.on("change:subscription_request_out",this.render,this)},render:function(){if(this.$el.closest(".chat-content-wrap").children(".chat-content").removeClass("with-before"),this.contact.get("group_chat"))return void this.$el.addClass("hidden");let e=this.contact.get("subscription"),t=this.contact.get("subscription_request_in"),n=this.contact.get("subscription_request_out");if(this.$(".button").removeClass("hidden"),this.$(".subscription-info").text(""),this.$el.addClass("hidden"),!("both"===e||this.contact.get("blocked"))){if("to"===e&&t||!e&&t&&n)this.$(".subscription-info").text(a.getString("chat_subscribe_request_incoming")),this.$(".button:not(.btn-allow)").addClass("hidden");else if(!n&&!t&&("from"===e||u.isNull(e)))this.$(".subscription-info").text(a.getString("chat_subscribe_request_outgoing")),this.$(".button:not(.btn-subscribe)").addClass("hidden");else if(void 0===e||!e&&t)this.$(".button:not(.btn-add):not(.btn-block)").addClass("hidden");else return;this.$el.removeClass("hidden"),this.$el.closest(".chat-content-wrap").children(".chat-content").addClass("with-before")}},hideElement:function(){this.$el.addClass("hidden"),this.$el.closest(".chat-content-wrap").children(".chat-content").removeClass("with-before")},declineSubscription:function(){this.contact.declineSubscribe(),this.hideElement()},allowSubscription:function(){this.contact.acceptRequest(),this.hideElement()},addContact:function(){void 0===this.contact.get("subscription")?this.contact.pushInRoster(null,()=>{this.sendAndAskSubscription()}):this.sendAndAskSubscription(),this.hideElement()},sendAndAskSubscription:function(){this.contact.acceptRequest(),this.contact.askRequest()},blockContact:function(){this.contact.blockRequest(),this.hideElement()}}),a.ChatContentView=a.BasicView.extend({className:"chat-content-wrap",template:o.chat_content,ps_selector:".chat-content",ps_settings:{wheelPropagation:!0},avatar_size:s.AVATAR_SIZES.CHAT_MESSAGE,events:{"mousedown .chat-message":"onTouchMessage","click .chat-message":"onClickMessage","click .mdi-link-variant":"onClickLink","click .pinned-message":"showPinnedMessage","keyup .messages-search-form":"keyupSearch","click .btn-cancel-searching":"cancelSearch","click .back-to-bottom":"backToBottom","click .btn-retry-send-message":"retrySendMessage","click .encryption-warning":"openDevicesWindow"},_initialize:function(e){this.chat_item=e.chat_item,this.current_day_indicator=null,this.prev_audio_message,this._pending_avatars=[],this.account=this.chat_item.account,this.model=this.chat_item.model,this.contact=this.model.contact,this.head=this.model.get("saved")?new a.SavedChatHeadView({content:this}):new a.ChatHeadView({content:this}),this.bottom=new a.ChatBottomView({content:this}),this.$history_feedback=this.$(".load-history-feedback"),this.$pinned_message=this.$(".pinned-message"),this.$search_form=this.$(".search-form-header"),this.$el.attr("data-id",this.model.id),this._scrolltop=this.getScrollTop();let t=this.defineMouseWheelEvent();return this.$el.on(t,this.onMouseWheel.bind(this)),this.ps_container.on("ps-scroll-up ps-scroll-down",this.onScroll.bind(this)),this.ps_container.on("ps-scroll-y",this.onScrollY.bind(this)),this.model.on("change:active",this.onChangedActiveStatus,this),this.model.on("load_last_history",this.loadLastHistory,this),this.model.on("get_missed_history",this.requestMissedMessages,this),this.model.messages.on("add",this.onMessage,this),this.model.messages.on("change:state",this.onChangedMessageState,this),this.model.messages.on("change:is_unread",this.onChangedReadState,this),this.model.messages.on("change:timestamp",this.onChangedMessageTimestamp,this),this.model.messages.on("change:trusted",this.onTrustedChanged,this),this.model.messages.on("change:last_replace_time",this.updateMessage,this),this.contact&&(this.subscription_buttons=new a.SubscriptionButtonsView({contact:this.contact,el:this.$(".subscription-buttons-wrap")[0]}),this.contact.on("change:blocked",this.updateBlockedState,this),this.contact.on("change:group_chat",this.updateGroupChat,this),this.contact.on("remove_from_blocklist",this.loadLastHistory,this),this.account.contacts.on("change:name",this.updateName,this),this.account.contacts.on("change:image",this.updateAvatar,this)),this.account.on("change",this.updateMyInfo,this),this.account.dfd_presence.done(()=>{this.account.connection.do_synchronization||this.loadLastHistory()}),this.updateGroupChat(),this},render:function(){this.cancelSearch(),this.scrollToBottom(),this.onScroll(),this.updateContactStatus(),this.contact&&(this.contact.get("group_chat")&&this.updatePinnedMessage(),this.subscription_buttons.render())},openDevicesWindow:function(){let e=this.account.omemo.getPeer(this.contact.get("jid"));e.fingerprints.open()},defineMouseWheelEvent:function(){return u.isUndefined(window.onwheel)?u.isUndefined(window.onmousewheel)?"MozMousePixelScroll":"mousewheel":"wheel"},updateMyInfo:function(){let e=this.account.changed;u.has(e,"name")&&this.updateMyName(),u.has(e,"status")&&this.updateMyStatus(),u.has(e,"image")&&this.updateMyAvatar()},onTrustedChanged:function(e){let t=e.get("trusted"),a=this.$(".chat-message[data-uniqueid=\""+e.get("unique_id")+"\"]");null===t&&(t="none"),a.attr("data-trust",t)},updateGroupChat:function(){this._loading_history=!1,this.model.set("history_loaded",!1)},cancelSearch:function(){this.$search_form.hide().find("input").val("")},updateContactStatus:function(){if("offline"==this.head.$(".contact-status").attr("data-status")&&this.contact.get("last_seen")){let e=(p.now()-this.contact.get("last_seen"))/1e3,t=a.pretty_last_seen(e);this.contact.set({status_message:t})}},updatePinnedMessage:function(){let e=this.contact.get("pinned_message");this.contact.renderPinnedMessage(e,this.$pinned_message)},onChangedVisibility:function(){this.isVisible()?(this.model.set({display:!0,active:!0}),this.readMessages()):this.model.set({display:!1})},onChangedActiveStatus:function(){let e=this.model.get("active");this.sendChatState(e?"active":"inactive"),this.model.get("group_chat")&&(e?this.contact.sendPresent():this.contact.sendNotPresent())},updateName:function(e){let t=e.get("name"),a=e.get("jid");e===this.contact?this.$(`.chat-message.with-author[data-from="${a}"]`).each(function(){r(this).find(".chat-msg-author").text(t)}):this.$(`.fwd-message.with-author[data-from="${a}"]`).each(function(){r(this).find(".fwd-msg-author").text(t)})},updateAvatar:function(e){let t=e.cached_image,a=e.get("jid");e===this.contact?this.$(`.chat-message.with-author[data-from="${a}"]`).each(function(){r(this).find(".left-side .circle-avatar").setAvatar(t,this.avatar_size)}):this.$(`.fwd-message.with-author[data-from="${a}"]`).each(function(){r(this).find(".fwd-left-side .circle-avatar").setAvatar(t,this.avatar_size)})},updateMyStatus:function(){let e;this.account.isOnline()||(e=a.getString("connection_status__you_are_offline")),this.bottom.showChatNotification(e||"",!0)},updateMyName:function(){let e=this.account.get("name"),t=this.account.get("jid");this.$(`.chat-message.with-author[data-from="${t}"]`).each(function(){r(this).find(".chat-msg-author").text(e)}),this.$(`.fwd-message.with-author[data-from="${t}"]`).each(function(){r(this).find(".fwd-msg-author").text(e)})},updateMyAvatar:function(){let e=this.account.cached_image,t=this.account.get("jid");this.$(`.chat-message.with-author[data-from="${t}"]`).each(function(){r(this).find(".left-side .circle-avatar").setAvatar(e,this.avatar_size)}),this.$(`.fwd-message.with-author[data-from="${t}"]`).each(function(){r(this).find(".fwd-left-side .circle-avatar").setAvatar(e,this.avatar_size)})},updateBlockedState:function(){this.model.get("blocked")&&this.model.showBlockedRequestMessage(),this.isVisible()&&(a.body.setScreen(a.body.screen.get("name"),{right:"chat",chat_item:this.chat_item,blocked:this.model.get("blocked")}),this.updateScrollBar())},readMessages:function(e){let t=u.clone(this.model.messages_unread.models);if(!(this.contact&&this.contact.get("invitation"))){if(t.length){let e=t[t.length-1];this.model.sendMarker(e.get("msgid"),"displayed",e.get("stanza_id"),e.get("contact_stanza_id"))}this.model.set("const_unread",0),u.each(t,t=>{(!e||t.get("timestamp")<=e)&&t.set("is_unread",!1)})}},onMouseWheel:function(e){0>e.originalEvent.deltaY&&this.loadPreviousHistory(),this.$(".back-to-bottom").hideIf(this.isScrolledToBottom())},keyupSearch:function(e){if(e.keyCode===s.KEY_ENTER){let e=this.$search_form.find("input").val();this.model.searchMessages(e,()=>{})}e.keyCode===s.KEY_ESCAPE&&this.head.renderSearchPanel()},onScrollY:function(){0===this._scrolltop&&(this.$(".fixed-day-indicator-wrap").css("opacity",1),this.current_day_indicator=f(parseInt(this.$(".chat-content").children().first().data("time"))),this.showDayIndicator(this.current_day_indicator)),this.$(".back-to-bottom").hideIf(this.isScrolledToBottom())},onScroll:function(){if(!this.isVisible())return;this.$(".back-to-bottom").hideIf(this.isScrolledToBottom());let e=this.$(".chat-day-indicator"),t=this.$(".chat-message"),a,n;this._prev_scrolltop=this._scrolltop||0,this._scrolltop=this.getScrollTop(),e.each((e,t)=>{if(this._scrolltop<this._prev_scrolltop){if(t.offsetTop<=this._scrolltop&&t.offsetTop>=this._scrolltop-30)return a=e,n=0,!1;if(t.offsetTop>=this._scrolltop&&t.offsetTop<=this._scrolltop-30)return a=e&&e-1,n=1,!1}else{if(t.offsetTop<=this._scrolltop+30&&t.offsetTop>=this._scrolltop)return a=e&&e-1,n=0,!1;if(t.offsetTop>=this._scrolltop-30&&t.offsetTop<=this._scrolltop)return a=e,n=1,!1}}),a?(this.$(".fixed-day-indicator-wrap").css("opacity",n),this.current_day_indicator=f(parseInt(r(e[a]).attr("data-time")))):(t.each((e,t)=>{if(t.offsetTop+r(t).height()>this._scrolltop&&t.offsetTop<this._scrolltop)return a=e,n=1,!1}),a&&(this.$(".fixed-day-indicator-wrap").css("opacity",n),this.current_day_indicator=f(parseInt(r(t[a]).attr("data-time"))))),null!==this.current_day_indicator&&this.showDayIndicator(this.current_day_indicator),this._scrolltop<this._prev_scrolltop&&(100>this._scrolltop||.1>this.getPercentScrolled())&&this.loadPreviousHistory()},backToBottom:function(){this.scrollToBottom()},MAMRequest:function(e,t,n){let s=this.account,o=e.fast&&s.fast_connection&&s.fast_connection.connected,d=o?s.fast_connection:s.connection,c=this.contact,p=this.model.get("saved"),u=[],g=m(),h=c&&c.get("group_chat"),f=!0,v;delete e.fast,v=h?i({type:"set",to:c.get("full_jid")||c.get("jid")}):i({type:"set"}),v.c("query",{xmlns:l.NS.MAM,queryid:g}).c("x",{xmlns:l.NS.DATAFORM,type:"submit"}).c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t(l.NS.MAM).up().up(),this.account.server_features.get(l.NS.ARCHIVE)&&v.c("field",{var:`{${l.NS.ARCHIVE}}filter_encrypted`}).c("value").t(this.model.get("encrypted")).up().up(),h||v.c("field",{var:"with"}).c("value").t(this.model.get("jid")).up().up(),e.var&&e.var.forEach(e=>{v.c("field",{var:e.var}).c("value").t(e.value).up().up()}),v.up().cnode(new l.RSM(e).toXML());let b=new r.Deferred;s.chats.onStartedMAMRequest(b),b.done(function(){let e=d.addHandler(function(e){if(c&&h==c.get("group_chat")||p){let t=r(e);t.find("result").attr("queryid")===g&&u.push(e)}else u=[],f=!1;return!0},l.NS.MAM),i=function(a){d.deleteHandler(e),s.chats.onCompletedMAMRequest(b);let n=r(a).find(`fin[xmlns="${l.NS.MAM}"]`);if(n.length&&n.attr("queryid")===g){let e=new l.RSM({xml:n.find("set")[0]});e.complete="true"===n.attr("complete"),t&&t(f,u,e)}},m=function(t){d.deleteHandler(e),a.error("MAM error"),a.error(t),s.chats.onCompletedMAMRequest(b),n&&n(t)};o?s.sendFast(v,i,m):s.sendIQ(v,i,m)})},getMessageArchive:function(e,t){if(t.previous_history){if(this._loading_history||this.model.get("history_loaded"))return;this._loading_history=!0,clearTimeout(this._load_history_timeout),this._load_history_timeout=setTimeout(()=>{this._loading_history=!1},6e4),this.showHistoryFeedback()}let n=this.model.account,i=0;this.MAMRequest(e,(s,o,d)=>{clearTimeout(this._load_history_timeout),this._loading_history=!1,this.hideHistoryFeedback(),t.missed_history&&!d.complete&&d.count>o.length&&this.getMessageArchive({after:d.last},{missed_history:!0}),this.model.get("group_chat")?this.contact&&!this.contact.my_info&&this.contact.getMyInfo():this.contact&&!this.contact.get("last_seen")&&!this.contact.get("server")&&this.contact.getLastSeen(),o.length<e.max&&s&&this.model.set("history_loaded",!0),(t.previous_history||!this.model.get("first_archive_id"))&&d.first&&this.model.set("first_archive_id",d.first),(t.last_history||!this.model.get("last_archive_id"))&&d.last&&this.model.set("last_archive_id",d.last),u.each(o,function(e){let a=n.chats.receiveChatMessage(e,u.extend({is_archived:!0},t));a&&i++}),0===i&&t.last_history&&!this.model.get("history_loaded")&&this.getMessageArchive(u.extend(e,{max:a.settings.mam_messages_limit,before:this.model.get("first_archive_id")||""}),{previous_history:!0})},()=>{t.previous_history&&(this._loading_history=!1,this.showHistoryFeedback(!0))})},requestMissedMessages:function(e){if(e){let t={};t.var=[{var:"start",value:p(e).format()}],this.getMessageArchive(t,{missed_history:!0})}},loadLastHistory:function(){if(a.settings.load_history){let e=this.model.get("last_archive_id"),t={};e?t.after=e:(t.before="",t.max=a.settings.mam_messages_limit_start),this.getMessageArchive(t,{last_history:!0})}},loadPreviousHistory:function(){a.settings.load_history&&this.getMessageArchive({fast:!0,max:a.settings.mam_messages_limit,before:this.model.get("first_archive_id")||""},{previous_history:!0})},showHistoryFeedback:function(e){this._load_history_feedback_timeout&&(clearTimeout(this._load_history_feedback_timeout),this._load_history_feedback_timeout=null);let t=a.getString(e?"loading_archived_messages_error":"loading_history");this.$history_feedback.text(t).removeClass("hidden"),e&&(this._load_history_feedback_timeout=setTimeout(this.hideHistoryFeedback.bind(this),5e3))},showDayIndicator:function(e){this.$(".fixed-day-indicator").text(e),this.$(".fixed-day-indicator-wrap").removeClass("hidden")},showPinnedMessage:function(e){if(r(e.target).hasClass("close"))this.unpinMessage();else{let e=this.contact.get("pinned_message"),t=this.buildMessageHtml(e),n=new a.ExpandedMessagePanel({account:this.account,chat_content:this});n.$el.attr("data-color",this.account.settings.get("color")),this.updateMessageInChat(t),this.initPopup(t),n.open(t)}},imageOnload:function(e){let t=e.find(".img-content"),a=e.find(".mdi-link-variant");t.css("background-image","none"),a.attr({"data-image":"true"})},unpinMessage:function(){let e=i({from:this.account.get("jid"),type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("update",{xmlns:l.NS.GROUP_CHAT}).c("pinned-message");this.account.sendIQ(e,()=>{},e=>{r(e).find("error not-allowed").length&&d.dialogs.error(a.getString("groupchat_you_have_no_permissions_to_do_it"))})},hideHistoryFeedback:function(){this.$history_feedback.addClass("hidden")},receiveNoTextMessage:function(e){let t=l.getBareJidFromJid(e.attr("from")),n=l.getBareJidFromJid(e.attr("to")),i=t===this.account.get("jid"),s=e.find(`[xmlns="${l.NS.CHATSTATES}"]`);if(s.length&&!i){let e=s.children("subtype");if("encrypted"==e.attr("type")){let e=a.chats_view.child(`${this.contact.hash_id}:encrypted`);e&&e.content&&e.content.showChatState(s[0].tagName.toLowerCase())}else this.showChatState(s[0].tagName.toLowerCase(),e.attr("type"),e.attr("mime-type"))}},showChatState:function(e,t,n){clearTimeout(this._chatstate_show_timeout);let i=this.contact.get("name"),o;if("composing"!==e)return"paused"===e?void this.showChatState():(this.bottom.showChatNotification(""),void this.chat_item.updateLastMessage());if(!t)this._current_composing_msg=void 0,o=a.getString("chat_state_composing"),this._chatstate_show_timeout=setTimeout(()=>{this.showChatState()},s.CHATSTATE_TIMEOUT_PAUSED);else if(this._current_composing_msg={type:t},"upload"===t){let e=n?d.pretty_file_type_with_article(n):null;n&&(this._current_composing_msg.mime_type=n),o=e?a.getString("chat_state_composing_upload_filetype",[e]):a.getString("chat_state_composing_upload"),this._chatstate_show_timeout=setTimeout(()=>{this.showChatState()},s.CHATSTATE_TIMEOUT_PAUSED_AUDIO)}else"voice"==t&&(o=a.getString("chat_state_composing_voice")),"video"==t&&(o=a.getString("chat_state_composing_video")),this._chatstate_show_timeout=setTimeout(()=>{this.showChatState("paused",t)},s.CHATSTATE_TIMEOUT_PAUSED_AUDIO);o?this.bottom.showChatNotification(`${this.contact.get("name")} ${o}`):this.bottom.showChatNotification(),this.chat_item.$(".last-msg").text(o),this.chat_item.$(".last-msg-date").text(d.pretty_short_datetime()).attr("title",v()),this.chat_item.$(".msg-delivering-state").addClass("hidden")},updateMentions:function(e){e.get("mentions")&&e.get("mentions").forEach(t=>{let a=t.target||"";if(this.contact.get("group_chat")||e.get("groupchat_jid")){let e=a.match(/\?id=\w*/),n=a.match(/\?jid=.*/);e&&this.contact.my_info?(a=e[0].slice(4),a===this.contact.my_info.get("id")&&(t.me=!0)):n&&(a=n[0].slice(5),a===this.account.get("jid")&&(t.me=!0))}else a=a.slice(5),a===this.account.get("jid")&&(t.me=!0)})},onMessage:function(e){this.updateMentions(e),this.account.messages.add(e);let t=this.isScrolledToBottom(),n=this.getScrollBottom();u.isUndefined(e.get("is_accepted"))||this.model.set("is_accepted",!1),this.model.set("opened",!0),!e.get("is_archived")&&e.get("stanza_id")&&this.model.set("last_archive_id",e.get("stanza_id")),e.get("participants_version")&&this.contact.participants&&this.contact.participants.version<e.get("participants_version")&&this.contact.trigger("update_participants");let i=this.addMessage(e);"file_upload"===e.get("type")&&this.startUploadFile(e,i),this.isVisible()&&(t||e.get("submitted_here")?this.scrollToBottom():(this.updateScrollBar(),this.scrollTo(this.ps_container[0].scrollHeight-this.ps_container[0].offsetHeight-n))),e.get("synced_from_server")||e.get("is_archived")||(!(e.isSenderMe()||e.get("silent")||"system"===e.get("type")&&!e.get("auth_request"))&&(e.set("is_unread",!(this.model.get("display")&&a.get("focused"))),!e.get("is_unread")&&this.model.sendMarker(e.get("msgid"),"displayed",e.get("stanza_id"),e.get("contact_stanza_id")),!a.get("focused")&&(this.model.get("saved")||this.contact.get("muted")?e.set("muted",!0):this.notifyMessage(e)),this.model.setMessagesDisplayed(e.get("timestamp"))),this.contact&&this.contact.get("archived")&&(this.contact.get("muted")?e.set("archived",!0):(this.head.archiveChat(),this.contact.set("archived",!1))),this.model.get("saved")&&(e.set("muted",!0),e.set("state",s.MSG_DISPLAYED))),e.get("attention")&&this.attentionMessage(e),e.isSenderMe()&&(!e.get("is_archived")&&!e.get("missed_msg")&&this.readMessages(e.get("timestamp")),this.model.get("last_displayed_id")>=e.get("stanza_id")&&e.get("stanza_id")!==e.get("origin_id")?e.set("state",s.MSG_DISPLAYED):e.get("stanza_id")!==e.get("origin_id")&&(this.model.get("last_delivered_id")>=e.get("stanza_id")||e.get("is_archived"))&&e.set("state",s.MSG_DELIVERED)),(e.get("private_invite")||e.get("invite"))&&(!(this.contact.invitation&&this.contact.invitation.message.get("timestamp")>e.get("timestamp"))&&(this.contact.invitation=new a.GroupchatInvitationView({model:this.contact,message:e})),this.model.contact.set("invitation",!0),this.model.get("active")&&this.model.contact.trigger("open_chat",this.model.contact));let o=this.model.last_message;(!o||e.get("timestamp")>=o.get("timestamp"))&&(this.model.last_message=e,this.chat_item.updateLastMessage()),e.get("mentions")&&e.get("mentions").forEach(t=>{let a=t.target||"",n=a.match(/\?id=\w*/),i=a.match(/\?jid=.*/);a=n?n[0].slice(4):i?i[0].slice(5):"",this.contact.my_info?a===this.contact.my_info.get("id")&&this.account.mentions.create(null,{message:e,contact:this.contact}):this.contact.get("group_chat")&&(this._pending_my_info?this._pending_my_info.done(()=>{a===this.contact.my_info.get("id")&&this.account.mentions.create(null,{message:e,contact:this.contact}),this._pending_my_info=null}):(this._pending_my_info=new r.Deferred,this.contact.getMyInfo(()=>{a===this.contact.my_info.get("id")&&this.account.mentions.create(null,{message:e,contact:this.contact}),this._pending_my_info.resolve()}))),(a===this.account.get("jid")||""===a)&&this.account.mentions.create(null,{message:e,contact:this.contact})})},decryptImages:function(e,t){let a=this.getScrollBottom(),n=e.get("unique_id");if(this.model.get("encrypted")||e.get("encrypted")||t){let t=e.get("images")||[];t.length&&t.forEach(e=>{let t=e.sources[0];(e.iv||e.key)&&this.model.messages.decryptFile(t,e.iv,e.key).then(e=>{if(null!==e){let i=this.$(`.chat-message[data-uniqueid="${n}"] img[src="${t}"]`);i.length&&(i[0].src=e,i[0].onload=()=>{a?this.scrollTo(this.ps_container[0].scrollHeight-a):this.scrollToBottom()},i.attr("data-mfp-src",e))}})});let i=e.get("forwarded_message")||[];i.forEach(e=>{let t=e.get("images")||[],i=e.get("unique_id");t.forEach(e=>{let t=e.sources[0];(e.iv||e.key)&&this.model.messages.decryptFile(t,e.iv,e.key).then(e=>{if(null!==e){let s=this.$(`.chat-message[data-uniqueid="${n}"] .fwd-message[data-uniqueid="${i}"] img[src="${t}"]`);s.length&&(s[0].src=e,s[0].onload=()=>{a?this.scrollTo(this.ps_container[0].scrollHeight-a):this.scrollToBottom()},s.attr("data-mfp-src",e))}})})})}},addMessage:function(e){let t=this.buildMessageHtml(e),a=this.model.messages.indexOf(e);0===a?t.prependTo(this.$(".chat-content")):t.insertAfter(this.$(".chat-message").eq(a-1));let n=t.nextAll(".chat-message").first();return this.updateMessageInChat(t[0]),n.length&&this.updateMessageInChat(n[0]),this.initPopup(t),this.bottom.showChatNotification(),t},initPopup:function(e){let t=e.find(".uploaded-img"),a=e.find(".uploaded-img-for-collage");t.length&&t.each((e,t)=>{this.initMagnificPopup(r(t))}),a.length&&this.initZoomGallery(e)},initMagnificPopup:function(e){let t=this;e.magnificPopup({type:"image",closeOnContentClick:!0,fixedContentPos:!0,mainClass:"mfp-no-margins mfp-with-zoom",image:{verticalFit:!0,titleSrc:function(e){return"<a class=\"image-source-link\" href=\""+e.el.attr("src")+"\" target=\"_blank\">"+t.model.messages.getFilename(e.el.attr("src"))+"</a> "+e.el.attr("title")}},zoom:{enabled:!0,duration:300}})},initZoomGallery:function(e){let t=this;e.find(".zoom-gallery").magnificPopup({delegate:"img",type:"image",closeOnContentClick:!1,closeBtnInside:!1,mainClass:"mfp-with-zoom mfp-img-mobile",image:{verticalFit:!0,titleSrc:function(e){return"<a class=\"image-source-link\" href=\""+e.el.attr("src")+"\" target=\"_blank\">"+t.model.messages.getFilename(e.el.attr("src"))+"</a> "+e.el.attr("title")}},gallery:{enabled:!0},zoom:{enabled:!0,duration:300,opener:function(e){return e}}})},updateMessage:function(e){let t=e.get("images"),n=e.get("only_emoji"),i=e.get("files"),s;if(e instanceof a.Message)this.updateMentions(e),s=this.$(`.chat-message[data-uniqueid="${e.get("unique_id")}"]`);else return;if(s.children(".msg-wrap").children(".chat-msg-content").html(d.markupBodyMessage(e).emojify({tag_name:"div",emoji_size:d.emoji_size(n)})),t){if(1<t.length){let t=this.createImageGrid(e.attributes);s.find(".chat-msg-media-content").html(t)}if(1==t.length){let e=this.createImage(t[0]),a=this.createImageContainer(t[0]);e.onload=()=>{this.imageOnload(s)},s.find(".chat-msg-media-content").html(r(a).html(e)),this.updateScrollBar()}}if(i&&0<i.length){let e=u.clone(i),t,a;r(e).each((n,i)=>{i.type&&(i.voice?t=!0:t=!1);let c=d.file_type_icon(i.type);u.extend(e[n],{is_audio:t,duration:d.pretty_duration(e[n].duration),mdi_icon:c,size:d.pretty_size(e[n].size)}),a=t?r(o.messages.audio_file(e[n])):r(o.messages.file(e[n])),s.find(".chat-msg-media-content").append(a)})}if(e.get("data_form")){let t=d.render_data_form(e.get("data_form"));s.find(".chat-msg-content").append(t)}let c=d.pretty_short_datetime(e.get("last_replace_time")),l=p(e.get("last_replace_time")).format("D MMMM, YYYY HH:mm:ss"),m=`${v(e.get("time"))} ${a.getString("edited",[p(e.get("timestamp")).startOf("day").isSame(p(e.get("last_replace_time")).startOf("day"))?c:l])}`;s.find(".msg-time").prop("title",m),s.find(".edited-info").removeClass("hidden").text(a.getString("chat_screen__message__label_edited")).prop("title",m),s.hyperlinkify({selector:".chat-text-content"})},removeMessage:function(e){let t,n,i;if(e instanceof a.Message)t=e,i=this.$(`.chat-message[data-uniqueid="${e.get("unique_id")}"]`),this.bottom.content_view&&(n=this.bottom.content_view.$(`.chat-message[data-uniqueid="${e.get("unique_id")}"]`));else{if(n=e,!n.length)return;t=this.model.messages.get(n.data("uniqueid"))}t&&t.destroy(),this.removeMessageFromDOM(i),n&&n!==i&&this.removeMessageFromDOM(n)},removeMessageFromDOM:function(e){if(e.hasClass("with-author")&&!e.next().hasClass("with-author")){let t=e.find(".circle-avatar")[0];e.next().addClass("with-author"),e.next().find(".circle-avatar").replaceWith(t)}e.prev(".chat-day-indicator").remove(),e.remove(),this.bottom.manageSelectedMessages(),this._clearing_history||this.updateScrollBar()},clearHistory:function(){let e=[];this._clearing_history=!0,this.account.server_features.get(l.NS.REWRITE)?(this.contact&&!this.contact.get("group_chat")&&a.servers.get(this.contact.domain).server_features.get(l.NS.REWRITE)&&(e=[{name:"symmetric_deletion",checked:!1,text:a.getString("dialog_clear_chat_history__option_delete_for_all")}]),d.dialogs.ask(a.getString("delete_messages__header"),a.getString("clear_chat_history_dialog_message",[this.model.get("jid")]),e,{ok_button_text:a.getString("delete")}).done(e=>{if(!e)return void(this._clearing_history=!1);let t=!!this.model.get("group_chat")||!!e.symmetric_deletion;this.model.retractAllMessages(t,()=>{this._clearing_history=!1,this.chat_item.updateLastMessage(),this.updateScrollBar()},()=>{this._clearing_history=!1})})):d.dialogs.ask(a.getString("delete_messages__header"),`${a.getString("clear_chat_history_dialog_message",[this.model.get("jid")])}\n${a.getString("dialog_clear_chat_history__warning_deletion_not_supported",[this.account.domain]).fontcolor("#E53935")})`,e,{ok_button_text:a.getString("dialog_clear_chat_history__button_delete_locally")}).done(e=>{if(!e)return void(this._clearing_history=!1);let t=u.clone(this.model.messages.models);t.forEach(e=>{this.removeMessage(e)})})},renderVoiceMessage:function(t,n){let i=t.innerHTML,s="waveform"+p.now(),c=r(t),l=c.closest(".link-file");c.addClass("voice-message-rendering").html(r(o.messages.audio_file_waveform({waveform_id:s})));let u=this.createAudio(n,s);return u.on("ready",()=>{let t=e(u.getDuration());c.find(".voice-msg-total-time").text(d.pretty_duration(t)),u.play()}),u.on("error",()=>{c.removeClass("voice-message-rendering"),t.innerHTML=i,u.unAll(),c.find(".voice-message-play").get(0).remove(),d.callback_popup_message(a.getString("jingle__error__audio_not_supported"),3e3)}),u.on("play",()=>{l.addClass("playing");let t=setInterval(function(){let a=e(u.getCurrentTime());u.isPlaying()?c.find(".voice-msg-current-time").text(d.pretty_duration(a)):clearInterval(t)},100)}),u.on("finish",()=>{l.removeClass("playing")}),u.on("pause",()=>{l.removeClass("playing")}),this.$(".voice-message-volume")[0].onchange=()=>{u.setVolume(this.$(".voice-message-volume").val()/100)},u},createImageGrid:function(e){let t;if(6<e.images.length){let a=e.images.length-5;t=r(o.messages["template-for-6"](e)),t.find(".last-image").addClass("hidden-images"),t.find(".image-counter").text("+"+a)}else{let a="template-for-"+e.images.length;t=r(o.messages[a](e))}return t},buildMessageHtml:function(e){let t=u.clone(e.attributes),n=!!(e instanceof a.Message)&&e.isSenderMe(),i=t.user_info||{},s=t.images,c=e.get("only_emoji"),p=t.files,m=!u.isUndefined(s),g=!!p,h=!1,f=i.avatar,b=i.role,A=i.badge,x=i.id,w=t.has_encrypted_files,k,S;if(k=i.nickname||this.model.get("saved")&&this.account.get("name")||t.from_jid===this.contact.get("jid")&&this.contact.get("name"),k||(n?this.model.get("group_chat")?this.contact.my_info?k=this.contact.my_info.get("nickname"):this.contact?this.contact.getMyInfo(()=>{k=this.contact.my_info.get("nickname"),L&&L.children(".msg-wrap").find(".chat-msg-author-wrap .chat-msg-author").text(l.xmlescape(k))}):k=this.account.get("name"):k=this.account.get("name"):k=this.account.contacts.get(t.from_jid)?this.account.contacts.get(t.from_jid).get("name"):t.from_jid),k=l.xmlescape(k||""),n&&this.model.get("group_chat")&&this.contact.my_info&&(b=this.contact.my_info.get("role"),A=this.contact.my_info.get("badge")),u.extend(t,{username:k,state:e instanceof a.Message?e.getState():"sent",verbose_state:e instanceof a.Message?e.getVerboseState():"sent",time:v(t.time),short_time:d.pretty_time(t.time),avatar_id:f,is_image:m,is_file:g,files:p,role:d.pretty_name(b),badge:A,from_id:x}),t.encrypted=t.encrypted||this.model.get("encrypted"),"file_upload"===t.type)return r(o.messages.file_upload(t));if("system"===t.type){let e=t.invite?"group_request":"system";return r(o.messages[e](t))}m&&1<s.length&&(S=this.createImageGrid(t));let M=[t.forwarded_message&&"forwarding",t.encrypted||this.model.get("encrypted")?"encrypted":""],C=d.markupBodyMessage(e),L;if(L=this.model.get("saved")&&!C.length&&t.forwarded_message&&1==t.forwarded_message.length?r(o.messages.saved_main(u.extend(t,{classlist:M.join(" ")}))):r(o.messages.main(u.extend(t,{is_sender:n,message:C,classlist:M.join(" ")}))),t.hasOwnProperty("is_trusted")&&L.attr("data-trust",t.is_trusted),m&&(1<s.length&&L.find(".chat-msg-media-content").html(S),1==s.length)){let e=this.createImage(s[0]),t=this.createImageContainer(s[0]);e.onload=()=>{this.imageOnload(L)},L.find(".chat-msg-media-content").html(r(t).html(e)),this.updateScrollBar()}if(g&&0<p.length){let e=u.clone(p),t;r(e).each((n,i)=>{let s=u.clone(e[n]);i.type&&(i.voice?h=!0:h=!1),1===e.length&&h&&(i.name=a.getString("voice_message"));let c=d.file_type_icon(i.type);u.extend(s,{is_audio:h,duration:d.pretty_duration(s.duration),mdi_icon:c,size:d.pretty_size(s.size)}),t=h?r(o.messages.audio_file(s)):r(o.messages.file(s)),L.find(".chat-msg-media-content").append(t)})}if(e.get("data_form")){let t=d.render_data_form(e.get("data_form"));L.find(".chat-msg-content").append(t)}return t.forwarded_message?(r(t.forwarded_message).each((e,i)=>{n=i.isSenderMe(),t=u.clone(i.attributes);let s=t.images&&t.images.length,c=s?u.clone(t.images):void 0,p=!!t.files,m=t.user_info||{},g=m.avatar,f=d.pretty_name(m.role),b=m.badge,A=m.id,x=t.from_jid,M,C;w||(w=t.has_encrypted_files),k=n?l.xmlescape(m.nickname||this.account.get("name")):l.xmlescape(m.nickname||m.id||this.account.contacts.mergeContact({jid:x}).get("name"));let T=d.markupBodyMessage(i),E=r(o.messages.forwarded(u.extend(t,{time:v(t.time),short_time:d.pretty_short_month_date(t.time),username:k,avatar_id:g,message:T,is_file:p,is_audio:C,role:f,badge:b,from_id:A})));if(this.model.get("saved")&&L.hasClass("saved-main")&&E.append(L.children(".right-side").clone()),i.get("forwarded_message")){let e=i.get("forwarded_message").length,n=a.getQuantityString("forwarded_messages_count",e);E.children(".msg-wrap").children(".fwd-msgs-block").append(r("<a/>",{class:"collapsed-forwarded-message","data-uniqueid":t.unique_id}).text(n))}if(s&&(1<c.length&&(S=this.createImageGrid(t),E.find(".chat-msg-media-content").html(S)),1==c.length)){M=this.createImage(c[0]),M.onload=()=>{this.imageOnload(L)};let e=this.createImageContainer(c[0]);E.find(".chat-msg-media-content").html(r(e).html(M))}if(p&&0<t.files.length){let e=u.clone(t.files),n;s||r(e).each((t,i)=>{let s=u.clone(e[t]);i.type&&(i.voice?h=!0:h=!1),1===e.length&&h&&(i.name=a.getString("voice_message"));let c=d.file_type_icon(i.type);u.extend(s,{is_audio:h,duration:d.pretty_duration(s.duration),mdi_icon:c,size:d.pretty_size(s.size)}),n=h?r(o.messages.audio_file(s)):r(o.messages.file(s)),E.find(".chat-msg-media-content").append(n)})}if(i.get("data_form")){let e=d.render_data_form(i.get("data_form"));E.find(".chat-msg-content").append(e)}L.children(".msg-wrap").length?L.children(".msg-wrap").children(".fwd-msgs-block").append(E):L.children(".fwd-msgs-block").append(E)}),this.updateScrollBar(),this.model.get("saved")&&L.hasClass("saved-main")&&L.children(".right-side").remove()):L.find(".fwd-msgs-block").remove(),(t.encrypted||this.model.get("encrypted")||w)&&this.decryptImages(e,w),L.hyperlinkify({selector:".chat-text-content"}).emojify(".chat-text-content",{tag_name:"div",emoji_size:d.emoji_size(c)}).emojify(".chat-msg-author-badge",{emoji_size:16})},getDateIndicator:function(e){let t=p(e).startOf("day");return r("<div class=\"chat-day-indicator one-line noselect\""+(this.model.get("encrypted")?" data-trust=\""+(this.bottom.$el.attr("data-trust")||this.bottom.$el.attr("data-contact-trust"))+"\"":"")+" data-time=\""+t.format("x")+"\">"+f(t)+"</div>")},hideMessageAuthor:function(e){e.removeClass("with-author")},showMessageAuthor:function(e){if(e.hasClass("system"))return;e.addClass("with-author");let t=e.find(".left-side .circle-avatar"),a=e.data("from"),n;if(a===this.account.get("jid"))this.model.get("group_chat")&&this.contact.my_info&&(n=this.contact.my_info.get("b64_avatar"),n=n?g.getCachedImage(n):g.getDefaultAvatar(this.contact.my_info.get("nickname"))),n||(n=this.account.cached_image);else if(this.model.get("group_chat")){let t=e.find(".msg-wrap .chat-msg-author").text();n=g.getDefaultAvatar(t)}else{let t=this.account.contacts.get(e.data("from"))||e.find(".msg-wrap .chat-msg-author").text()||e.data("from");n=t.cached_image||g.getDefaultAvatar(t)}if(t.setAvatar(n,this.avatar_size),e.data("avatar")&&e.data("from-id"))if(this.account.chat_settings.getHashAvatar(e.data("from-id"))==e.data("avatar")&&this.account.chat_settings.getB64Avatar(e.data("from-id")))t.setAvatar(this.account.chat_settings.getB64Avatar(e.data("from-id")),this.avatar_size);else{let a=this._pending_avatars.find(t=>t.hash==e.data("avatar"));if(a)a.dfd.done(e=>{t.setAvatar(e,this.avatar_size);let n=this._pending_avatars.indexOf(a);-1<n&&this._pending_avatars.splice(n,1)});else{let a=l.NS.PUBSUB_AVATAR_DATA+"#"+e.data("from-id"),n=new r.Deferred;this._pending_avatars.push({hash:e.data("avatar"),dfd:n}),this.contact.getAvatar(e.data("avatar"),a,a=>{t.setAvatar(a,this.avatar_size),this.account.chat_settings.updateCachedAvatars(e.data("from-id"),e.data("avatar"),a),n.resolve(a)})}}},hideFwdMessageAuthor:function(e){e.removeClass("with-author")},showFwdMessageAuthor:function(e){if(!e.length)return;e.addClass("with-author");let t=e.find(".circle-avatar"),a=e.data("from"),n=a===this.account.get("jid"),i=this.account.contacts.get(a)||a,s;if(n?(this.model.get("group_chat")&&this.contact.my_info&&(s=this.contact.my_info.get("b64_avatar"),s=s?g.getCachedImage(s):this.account.cached_image||g.getDefaultAvatar(this.contact.my_info.get("nickname"))),!s&&(s=this.account.cached_image)):i&&(s=i.cached_image||(this.model.get("group_chat")?g.getDefaultAvatar(e.find(".msg-wrap .fwd-msg-author").text()):g.getDefaultAvatar(i))),t.setAvatar(s,this.avatar_size),t.removeClass("hidden"),e.data("avatar")&&e.data("from-id"))if(this.account.chat_settings.getHashAvatar(e.data("from-id"))==e.data("avatar")&&this.account.chat_settings.getB64Avatar(e.data("from-id")))t.setAvatar(this.account.chat_settings.getB64Avatar(e.data("from-id")),this.avatar_size);else{let a=l.NS.PUBSUB_AVATAR_DATA+"#"+e.data("from-id");this.contact&&this.contact.getAvatar(e.data("avatar"),a,a=>{t.setAvatar(a,this.avatar_size),this.account.chat_settings.updateCachedAvatars(e.data("from-id"),e.data("avatar"),a)})}},updateMessageInChat:function(e){let t=r(e);t.prev(".chat-day-indicator").remove();let a=t.prevAll(".chat-message").first();if(!a.length)return this.getDateIndicator(t.data("time")).insertBefore(t),this.showMessageAuthor(t),void t.find(".fwd-message").each((e,t)=>{this.showFwdMessageAuthor(r(t))});if(t.find(".data-form").length)return void this.showMessageAuthor(t);let n=a.hasClass("system"),i=t.data("from")===a.data("from"),s=p(t.data("time")).startOf("day").isSame(p(a.data("time")).startOf("day"));if(s?n||!i||a.hasClass("saved-main")?this.showMessageAuthor(t):this.hideMessageAuthor(t):(this.getDateIndicator(t.data("time")).insertBefore(t),this.showMessageAuthor(t)),t.hasClass("forwarding")){let e=t.find(".fwd-message");e.each((e,a)=>{let n=r(a),i=0<e?n.prev():[];if(n.switchClass("hide-date",s&&i.length),n.removeClass("hide-time"),i.length){let e=n.data("from")===i.data("from");e?this.hideFwdMessageAuthor(n):this.showFwdMessageAuthor(n)}else this.showMessageAuthor(t),this.showFwdMessageAuthor(n)})}},notifyMessage:function(e){if(a.settings.notifications){let t=a.popupNotification({title:this.contact.get("name"),text:a.settings.message_preview?e.getText():a.getString("notification__text_sent_a_message"),icon:this.contact.cached_image.url});t.onclick=()=>{window.focus(),this.model.trigger("open")}}if(a.settings.sound){let t;t=e.get("auth_request")?a.settings.sound_on_auth_request:a.settings.sound_on_message,a.playAudio(t)}a.recountAllMessageCounter()},attentionMessage:function(){let e=a.popupNotification({title:this.contact.get("name"),text:a.getString("chats_attention"),icon:this.contact.cached_image.url});e.onclick=()=>{window.focus(),this.model.trigger("open")};let t=a.settings.sound_on_attention;a.playAudio(t)},sendMessage:function(e){let t=e.get("message"),n="",i=[],o=e.get("forwarded_message"),m=e.get("unique_id"),g=e.get("msgid"),h=c({to:this.model.get("jid"),type:"chat",id:g});if(o&&(n=[],r(o).each((e,a)=>{let s=Array.from(u.escape(u.unescape(this.bottom.createTextMessage([a],">")))+(e!==o.length-1||t.length?"\n":"")),d=n.length,c=r(a.get("xml")).clone(),p=n.concat(s).length;c.attr("from")||c.attr("from",this.account.get("jid")),h.c("reference",{xmlns:l.NS.REFERENCE,type:"mutable",begin:d,end:p}).c("forwarded",{xmlns:"urn:xmpp:forward:0"}).c("delay",{xmlns:"urn:xmpp:delay",stamp:a.get("time")}).up().cnode(c[0]).up().up().up(),n=n.concat(s),i.push({start:d,end:p,type:"forward"})}),t=u.unescape(n.join(""))+t),e.get("mentions")&&e.get("mentions").length&&e.get("mentions").forEach(e=>{let t={xmlns:l.NS.MARKUP};e.is_gc&&(t.node=l.NS.GROUP_CHAT),h.c("reference",{xmlns:l.NS.REFERENCE,begin:e.start+n.length,end:e.end+n.length,type:"decoration"}).c("mention",t).t(e.target).up().up()}),e.get("markups")&&e.get("markups").forEach(e=>{for(let t in h.c("reference",{xmlns:l.NS.REFERENCE,begin:e.start+n.length,end:e.end+n.length,type:"decoration"}),e.markup)h.c(e.markup[t],{xmlns:l.NS.MARKUP}).up();h.up()}),e.get("blockquotes")&&e.get("blockquotes").forEach(e=>{h.c("reference",{xmlns:l.NS.REFERENCE,begin:e.start+n.length,end:e.end+n.length,type:"decoration"}).c("quote",{xmlns:l.NS.MARKUP}).up().up()}),"file_upload"==e.get("type")){t="";let a=e.get("files")||[],s=e.get("images")||[],o=a.concat(s);o.forEach((e,a)=>{n=e.sources[0]+(a==o.length-1?"":"\n");let s=t.length,r=(t+n).length;h.c("reference",{xmlns:l.NS.REFERENCE,type:"mutable",begin:s,end:r}),e.voice&&h.c("voice-message",{xmlns:l.NS.VOICE_MESSAGE}),h.c("file-sharing",{xmlns:l.NS.FILES}).c("file"),e.type&&h.c("media-type").t(e.type).up(),e.name&&h.c("name").t(e.name).up(),e.size&&h.c("size").t(e.size).up(),e.height&&h.c("height").t(e.height).up(),e.width&&h.c("width").t(e.width).up(),e.duration&&h.c("duration").t(e.duration).up(),e.description&&h.c("desc").t(e.description).up(),h.up().c("sources"),e.sources.forEach(t=>{e.iv&&e.key&&(t=t.replace(/^(https|http)/,"aesgcm")+"#"+d.ArrayBuffertoBase64(e.iv)+d.ArrayBuffertoBase64(e.key)),h.c("uri").t(t).up()}),h.up().up().up(),e.voice&&h.up(),t+=n,i.push({start:s,end:r})}),e.set({type:"main"})}if(i.length&&e.set({mutable_content:i}),this.account._pending_messages.push({chat_hash_id:this.model.id,unique_id:m}),e.set("original_message",t),t&&h.c("body").t(t).up(),h.c("markable").attrs({xmlns:l.NS.CHAT_MARKERS}).up().c("origin-id",{id:g,xmlns:"urn:xmpp:sid:0"}).up(),e.set({xml:r(h.tree()).clone()[0]}),e.get("state")===s.MSG_ERROR&&(h.c("retry",{xmlns:l.NS.DELIVERY}).up(),e.set("state",s.MSG_PENDING)),h.toString().length>=s.STANZA_MAX_SIZE)return d.dialogs.error(a.getString("message__error_big_stanza")),void this.removeMessage(e);if(e.get("encrypted")&&this.account.omemo)return void this.account.omemo.encrypt(this.contact,h).then(t=>{t&&(h=t.message,e.set("trusted",t.is_trusted));let a=p.now();this.account.sendFast(h,this.msgCallback.bind(this,a,e))});else{let t=p.now();this.account.sendFast(h,this.msgCallback.bind(this,t,e))}},msgCallback:function(e,t){if(this.bottom.click_counter=0,this.bottom.setDefaultPlaceholder(),!this.model.get("group_chat")&&!this.account.server_features.get(l.NS.DELIVERY))setTimeout(()=>{this.account.last_stanza_timestamp>e&&t.get("state")===s.MSG_PENDING?t.set("state",s.MSG_SENT):(this.account.connection.ping.ping(this.account.get("jid"),()=>{t.get("state")===s.MSG_PENDING&&t.set("state",s.MSG_SENT)}),setTimeout(()=>{this.account.last_stanza_timestamp<e&&t.get("state")===s.MSG_PENDING&&t.set("state",s.MSG_ERROR)},5e3))},1e3);else{let a=5,n=setInterval(()=>{this.account.last_stanza_timestamp<e&&60<a&&t.get("state")===s.MSG_PENDING||60<a?(t.set("state",s.MSG_ERROR),clearInterval(n)):t.get("state")!==s.MSG_PENDING&&clearInterval(n),a+=10},1e4)}},initJingleMessage:function(e){a.current_voip_call&&a.current_voip_call.destroy(),e=e||{},e=e.video?"video":"audio";let t=m();a.current_voip_call=new a.JingleMessage({session_id:t,video_live:"video"===e},{contact:this.contact}),a.current_voip_call.startCall(),a.current_voip_call.modal_view.show({status:s.JINGLE_MSG_PROPOSE})},saveForwardedMessage:function(e){let t=null;return r(e).get("forwarded_message")&&(t=r(e).get("forwarded_message"),0>this.account.forwarded_messages.indexOf(t)&&(t=this.saveForwardedMessage(t))),e=this.account.forwarded_messages.create(u.extend({is_forwarded:!0,forwarded_message:t},e.attributes)),e},onSubmit:function(e,t,n){n=n||{};let i={from_jid:this.account.get("jid"),message:e,mentions:n.mentions,blockquotes:n.blockquotes,markups:n.markup_references,encrypted:this.model.get("encrypted"),submitted_here:!0,forwarded_message:null},s=new r.Deferred;s.done(()=>{if(t.length||""!==e.removeEmoji()||(i.only_emoji=Array.from(e).length),t.length){let e=[];u.each(t,t=>{0>this.account.forwarded_messages.indexOf(t)&&(t=this.saveForwardedMessage(t)),e.push(t)}),i.forwarded_message=e;let a=this.model.messages.create(i);this.sendMessage(a)}else if(e){let e=this.model.messages.create(i);this.sendMessage(e)}this.contact&&this.contact.get("archived")&&!this.contact.get("muted")&&(message.set("muted",!1),this.head.archiveChat(),this.contact.set("archived",!1),a.chats_view.updateScreenAllChats()),this.model.get("group_chat")&&a.toolbar_view.$(".active").hasClass("chats")&&this.contact&&!this.contact.get("muted")&&!this.contact.get("archived")&&a.chats_view.updateScreenAllChats(),a.chats_view.scrollToTop(),a.chats_view.clearSearch()}),this.contact&&this.contact.get("group_chat")&&!this.contact.my_info?this.contact.getMyInfo(()=>{s.resolve()}):s.resolve()},addFileMessage:function(e){let t=[],n=0;if(this.model.messages_view&&this.model.messages_view.data.get("visible")&&this.model.messages_view.openChat(),10<e.length)return void d.dialogs.error(a.getString("too_many_files_at_once"));let i=this.account.server_features.get(l.NS.HTTP_UPLOAD);if(!i)return void d.dialogs.error(a.getString("error_file_upload_not_support",[this.account.domain]));let s=new r.Deferred;s.done(e=>{this.model.messages.create({from_jid:this.account.get("jid"),type:"file_upload",files:e,encrypted:this.model.get("encrypted"),upload_service:i.get("from"),message:"Uploading file",submitted_here:!0})}),r(e).each((a,i)=>{if(d.isImageType(i.type)){let a=new FileReader,o=new r.Deferred;g.compressImage(i).done(i=>{a.readAsDataURL(i),o.done(a=>{a&&(i.height=a.height,i.width=a.width),a.encrypted_file?t.push(a.encrypted_file):t.push(i),n++,n===e.length&&s.resolve(t)})}),a.onload=t=>{if(this.model.get("encrypted"))this.encryptFile(t.target.result).then(e=>{let a=e.iv,n=e.keydata,s=new File([e.payload],i.name,{type:i.type});if(s.iv=a,s.key=n,"image/svg+xml"===s.type)o.resolve({encrypted_file:s,iv:a,key:n});else{let e=new Image;e.onload=function(){let e=this.height,t=this.width;o.resolve({height:e,width:t,encrypted_file:s,iv:a,key:n})},e.src=t.target.result}});else if("image/svg+xml"===i.type)o.resolve();else{let e=new Image;e.onload=function(){let e=this.height,t=this.width;o.resolve({height:e,width:t})},e.src=t.target.result}}}else if(this.model.get("encrypted")){let a=new FileReader;a.onload=a=>{this.encryptFile(a.target.result).then(a=>{let o=a.iv,d=a.keydata,r=new File([a.payload],i.name,{type:i.type});i.voice&&(r.voice=!0),i.duration&&(r.duration=i.duration),r.iv=o,r.key=d,t.push(r),n++,n===e.length&&s.resolve(t)})},a.readAsDataURL(i)}else t.push(i),n++,n===e.length&&s.resolve(t)})},startUploadFile:function(e,t){t.emojify(".chat-msg-author-badge",{emoji_size:16}),t.find(".cancel-upload").show(),t.find(".repeat-upload").hide(),t.find(".status").hide(),t.find(".progress").show();let n=0;r(e.get("files")).each((o,c)=>{let u=new File([c],c.iv&&c.key?m().replace(/-/g,""):c.name);u.iv&&delete u.iv,u.key&&delete u.key;let g=i({type:"get",to:e.get("upload_service")}).c("request",{xmlns:l.NS.HTTP_UPLOAD}).c("filename").t(u.name).up().c("size").t(u.size).up().c("content-type").t(u.type).up(),h=new r.Deferred,f=this;this.account.sendIQ(g,function(e){let t=r(e).find(`slot[xmlns="${l.NS.HTTP_UPLOAD}"]`);h.resolve({get_url:t.find("get").text(),put_url:t.find("put").text()})},function(a){let n=r(a).find("error text").text();f.onFileNotUploaded(e,t,n)});let v=p.now(),b=10,A=setInterval(()=>{this.account.last_stanza_timestamp<v&&60<b&&e.get("state")===s.MSG_PENDING||60<b?(e.set("state",s.MSG_ERROR),clearInterval(A)):e.get("state")!==s.MSG_PENDING&&clearInterval(A),b+=10},1e4);h.done(i=>{clearInterval(A);let s=new XMLHttpRequest,r=t.find(".progress");t.find(".cancel-upload").click(()=>{s.abort()}),s.onabort=()=>{this.removeMessage(t)},s.upload.onprogress=e=>{let n=e.loaded/e.total;r.find(".determinate").attr("style","width: "+100*n+"%"),t.find(".filesize").text(a.getString("file_upload__text_progress",[d.pretty_size(e.loaded),d.pretty_size(e.total)]))},s.onload=s.onerror=function(){201===this.status?(e.get("files")[o].url=i.get_url,n++,n==e.get("files").length&&f.onFileUploaded(e,t)):f.onFileNotUploaded(e,t,this.responseText)},t.data("cancel")?s.abort():(s.open("PUT",i.put_url,!0),s.send(u))})})},encryptFile:async function(e){return await d.AES.encrypt(e)},onFileUploaded:function(e,t){let n=e.get("files"),i=this,s=!1,c=[],l=[],p="";if(r(n).each((e,t)=>{let a={name:t.name,type:t.type,size:t.size,description:t.description||"",sources:[t.url]};t.iv&&(a.iv=t.iv),t.key&&(a.key=t.key),t.voice&&(a.voice=!0),p+=a.sources[0]+"\n",d.isImageType(t.type)?(u.extend(a,{width:t.width,height:t.height}),c.push(a)):(u.extend(a,{duration:t.duration}),l.push(a))}),e.set("message",p.trim()),t.find(".chat-msg-content").addClass("chat-msg-media-content").html(),0<c.length)if(1<c.length){let e;if(6<c.length){let t=c.length-5;e=r(o.messages["template-for-6"]({images:c})),e.find(".last-image").addClass("hidden-images"),e.find(".image-counter").text("+"+t)}else{let t="template-for-"+c.length;e=r(o.messages[t]({images:c}))}t.removeClass("file-upload noselect"),t.find(".chat-msg-content").removeClass("chat-file-content").html(e)}else{let e=this.createImage(c[0]),a=i.createImageContainer(c[0]);e.onload=()=>{this.imageOnload(t)},t.removeClass("file-upload noselect"),t.find(".chat-msg-content").removeClass("chat-file-content").html(a),t.find(".img-content").html(e)}0<l.length&&(t.removeClass("file-upload noselect"),r(l).each((e,n)=>{e||c.length||t.find(".chat-msg-content").removeClass("chat-file-content").html(""),n.type&&(n.voice?s=!0:s=!1);let i={name:n.name,type:n.type,sources:n.sources},p=d.file_type_icon(n.type),m;1===l.length&&s&&(i.name=a.getString("voice_message")),u.extend(i,{size:d.pretty_size(n.size),is_audio:s,duration:d.pretty_duration(n.duration),mdi_icon:p}),m=s?r(o.messages.audio_file(i)):r(o.messages.file(i)),t.find(".chat-msg-content").append(m)})),this.initPopup(t),e.set("images",c),e.set("files",l),(e.get("encrypted")||this.model.get("encrypted"))&&e.get("images").length&&this.decryptImages(e),this.sendMessage(e),this.scrollToBottom()},createAudio:function(e,t){let a=WaveSurfer.create({container:"#"+t,scrollParent:!1,barWidth:3,height:48,barHeight:48,cursorColor:"rgba(211,47,47,0.8)",autoCenter:!1,normalize:!0,hideScrollBar:!0,progressColor:"#757575"});return a.load(e),a.setVolume(.5),a},createImage:function(e){let t=new Image,n=.7*(.715*a.main_panel.$el.width()-176);return e.height&&(t.height=e.height),e.width&&(t.width=e.width),t.src=e.sources[0],r(t).addClass("uploaded-img popup-img"),r(t).attr({"data-mfp-src":e.sources[0],title:e.description||""}),t.height&&t.width&&(t.width>n&&(t.height*=n/t.width,t.width=n),400<t.height&&(t.width*=400/t.height,t.height=400)),t},createImageContainer:function(){return r("<div class=\"img-content\"/>")[0]},onFileNotUploaded:function(e,t,n){let i=n?a.getString("file_upload__error",[n]):a.getString("file_upload__error_default");e.set("state",s.MSG_ERROR),t.find(".cancel-upload").hide(),t.find(".repeat-upload").show(),t.find(".status").text(i).show(),t.find(".progress").hide(),t.find(".repeat-upload").click(()=>{this.startUploadFile(e,t)})},sendChatState:function(e,t){if(!(this.model.get("saved")||this.contact&&"offline"===this.contact.get("status"))){clearTimeout(this._chatstate_timeout),clearTimeout(this._chatstate_send_timeout),this.chat_state=!1;let a=c({to:this.model.get("jid"),type:"chat"}).c(e,{xmlns:l.NS.CHATSTATES});if(this.model.get("encrypted"))if(this.account.settings.get("encrypted_chatstates"))t="encrypted";else return;t&&a.c("subtype",{xmlns:l.NS.EXTENDED_CHATSTATES,type:t}),"composing"===e&&(this.chat_state=!0),this.account.sendMsg(a),"composing"===e&&(this._chatstate_timeout=setTimeout(()=>{this.chat_state=!1},s.CHATSTATE_TIMEOUT_PAUSED),this._chatstate_send_timeout=setTimeout(()=>{this.chat_state||this.sendChatState("paused")},2*s.CHATSTATE_TIMEOUT_PAUSED))}},onChangedMessageState:function(e){e.get("state")===s.MSG_DISPLAYED&&this.model.get("last_displayed_id")<e.get("stanza_id")?(this.model.set("last_displayed_id",e.get("stanza_id")),this.model.set("last_delivered_id",e.get("stanza_id"))):e.get("state")===s.MSG_DELIVERED&&this.model.get("last_delivered_id")<e.get("stanza_id")&&this.model.set("last_delivered_id",e.get("stanza_id"));let t=this.$(`.chat-message[data-uniqueid="${e.get("unique_id")}"]`),a=t.find(".msg-delivering-state");a.attr({"data-state":e.getState(),title:e.getVerboseState()}),a.attr("data-state")===s.MSG_STATE[s.MSG_ERROR]&&a.dropdown({inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"}),e===this.model.last_message&&this.chat_item.updateLastMessage()},onChangedMessageTimestamp:function(e){let t=this.$(`.chat-message[data-uniqueid="${e.get("unique_id")}"]`),a=t.next(),n=t.prev();t.attr({"data-time":e.get("timestamp")}),t.detach(),t.children(".right-side").find(".msg-time").attr({title:v(e.get("time"))}).text(d.pretty_time(e.get("time"))),e.get("user_info")&&t.attr("data-from-id",e.get("user_info").id),this.model.messages.sort();let i=this.model.messages.indexOf(e);if(0===i)n.hasClass("chat-day-indicator")?n.after(t):t.prependTo(this.$(".chat-content"));else{let s=this.$(".chat-message").eq(i-1),o=t.data("from")===s.data("from"),d=p(t.data("time")).startOf("day").isSame(p(s.data("time")).startOf("day"));n.data("from")!==t.data("from")&&a.data("from")===t.data("from")&&("delivered"===a.children(".right-side").find(".msg-delivering-state").attr("data-state")||"displayed"===a.children(".right-side").find(".msg-delivering-state").attr("data-state"))&&this.showMessageAuthor(a),s.next().hasClass("chat-day-indicator")&&p(s.next().data("time")).format("DD.MM.YY")===p(e.get("timestamp")).format("DD.MM.YY")?(t.insertAfter(s.next()),this.showMessageAuthor(t)):t.insertAfter(s),e.get("data_form")||e.get("forwarded_message")||!d||!o||s.hasClass("system")||s.hasClass("saved-main")?this.showMessageAuthor(t):this.hideMessageAuthor(t)}let s=this.model.last_message;(!s||e.get("timestamp")>s.get("timestamp"))&&(this.model.last_message=e,this.chat_item.updateLastMessage())},onChangedReadState:function(e){let t=e.get("is_unread");t?(this.model.messages_unread.add(e),this.model.recountUnread()):(this.model.messages_unread.remove(e),this.model.recountUnread(),!e.get("muted")&&a.recountAllMessageCounter())},onTouchMessage:function(e){if(3===e.which)return;let t=r(e.target),a;a=t.hasClass("chat-message")?t:t.parents(".chat-message"),0!=window.getSelection()&&(d.clearSelection(),a.attr("data-no-select-on-mouseup","1"))},onClickLink:function(e){let t=r(e.target),n=t.closest(".chat-message"),i=this.model.messages.get(n.data("uniqueid"));i||(i=this.account.participant_messages.get(n.data("uniqueid")));let s=i.get("files"),o=i.get("images"),c=[],l="";i.get("forwarded_message")&&i.get("forwarded_message").forEach(e=>{e.get("images")&&c.push(e.get("images"))}),r(s).each(function(e,t){0<e&&(l+="\n"),l+=t.sources[0]}),r(o).each(function(e,t){0<e&&(l+="\n"),l+=t.sources[0]}),r(c).each(function(e,t){r(t).each(function(e,t){""!=l&&(l+="\n"),l+=t.sources[0]})}),d.copyTextToClipboard(l,a.getString("toast_link_copied"),a.getString("toast__not_copied_in_clipboard"))},showParticipantProperties:function(e,t){t=t||{};let n=this.contact.participants.get(e),i=new a.ParticipantPropertiesView({model:this.contact});return n?void(this.contact.my_info&&this.contact.my_info.get("id")===e&&(e=""),this.contact.participants.participantsRequest({id:e},e=>{let t=this.account.parseDataForm(r(e).find(`x[xmlns="${l.NS.DATAFORM}"]`));i.open(n,t)})):void this.contact.getBlockedParticipants(s=>{u.extend(t,{present:null,subscription:null}),t.blocked=!!r(s).find(`query user:has(${e})`).length,(t.blocked||this.contact.participants.get(e))&&(n=new a.Participant(t,{contact:this.contact}),i.open(n,{}))})},onClickMessage:function(e){let t=r(e.target);if(t.hasClass("file-link-download")){e.preventDefault();let n=this.model.messages.get(t.closest(".chat-message").data("uniqueid")),i=t.attr("href"),s=(n.get("files")||[]).find(e=>e.sources[0]==i);if(s&&s.iv&&s.key)return void this.model.messages.decryptFile(i,s.iv,s.key).then(e=>{if(null!==e){let t=document.createElement("a");t.href=e,t.download=s.name,t.click()}});a.openWindow(t.attr("href"))}if(!t.hasClass("msg-delivering-state")&&!t.hasClass("mdi-link-variant")&&!t.hasClass("btn-retry-send-message")&&!t.hasClass("file-link-download")&&!t.is("canvas")&&!t.hasClass("voice-message-volume")){let n=t.closest(".chat-message"),i=t.parents(".fwd-message").first(),s=0<i.length,o=n.attr("data-no-select-on-mouseup"),r;if(n.attr("data-no-select-on-mouseup",""),t.hasClass("data-form-field"))return r=this.model.messages.get(n.data("uniqueid")),void(r&&this.model.sendDataForm(r,t.attr("id")));if(0!=window.getSelection())return;if(t.hasClass("collapsed-forwarded-message")){let e=this.buildMessageHtml(this.account.forwarded_messages.get(t.data("uniqueid"))),n=new a.ExpandedMessagePanel({account:this.account,chat_content:this});return n.$el.attr("data-color",this.account.settings.get("color")),this.updateMessageInChat(e),this.initPopup(e),void n.open(e)}if(t.hasClass("chat-msg-author")||t.hasClass("fwd-msg-author")){let e=s?i.data("from"):n.data("from"),a=s?i.data("fromId"):n.data("fromId");if(this.contact&&this.contact.get("group_chat")){this.bottom.quill.focus();let n=this.bottom.quill.getSelection(),i={jid:e,id:a,nickname:t.text()};n&&(n=n.index),i.position=n||0,this.bottom.insertMention(i)}else if(e===this.account.get("jid"))this.account.showSettings();else if(e===this.model.get("jid"))this.contact.showDetails("all-chats");else{if(e==a)return;let t=this.account.contacts.mergeContact(e);t.showDetails()}return}if(t.hasClass("circle-avatar")){let e=s?i.data("from"):n.data("from");if(this.model.get("group_chat")){let e=s?i.attr("data-from-id"):n.attr("data-from-id"),t=s?i.attr("data-uniqueid"):n.attr("data-uniqueid"),a=this.model.messages.get(t),o=a&&a.get("user_info");return void(e&&this.showParticipantProperties(e,o))}if(e===this.account.get("jid"))this.account.showSettings();else if(e===this.model.get("jid"))this.contact&&this.contact.showDetails("all-chats");else{let t=this.account.contacts.mergeContact(e);t.showDetails()}return}if(t.hasClass("mention")){let e=t.data("target");if(this.contact.get("group_chat")){if(e&&!this.contact.participants.get(e)){let t=this.contact.participants.find(t=>t.get("jid")===e);t&&(e=t.get("id"))}e&&this.showParticipantProperties(e)}else if(e===this.account.get("jid"))this.account.showSettings();else if(e===this.model.get("jid"))this.contact.showDetails("all-chats");else{let t=this.account.contacts.mergeContact(e);t.showDetails()}return}if(t.hasClass("voice-message-play")||t.hasClass("no-uploaded")){let e=t.closest(".link-file"),a=e.find(".file-link-download").attr("href");if(e.find(".mdi-play").removeClass("no-uploaded"),t.closest(".chat-message").hasClass("encrypted")){let n=this.model.messages.get(t.closest(".chat-message").data("uniqueid")),i=t.attr("href"),s=(n.get("files")||[]).find(e=>e.sources[0]==i);s&&s.iv&&s.key&&this.model.messages.decryptFile(a,s.iv,s.key).then(t=>{null===t||(e[0].voice_message=this.renderVoiceMessage(e.find(".file-container")[0],t),this.prev_audio_message&&this.prev_audio_message.voice_message.pause(),this.prev_audio_message=e[0])})}else e[0].voice_message=this.renderVoiceMessage(e.find(".file-container")[0],a),this.prev_audio_message&&this.prev_audio_message.voice_message.pause(),this.prev_audio_message=e[0];return}if(t.hasClass("mdi-play")){let e=t.closest(".link-file");return this.prev_audio_message.voice_message.pause(),this.prev_audio_message=e[0],void e[0].voice_message.play()}if(t.hasClass("mdi-pause"))return void this.prev_audio_message.voice_message.pause();if(t.hasClass("msg-hyperlink")){e&&e.preventDefault(),t.blur();let n=t.attr("href");return void d.dialogs.ask("",`${a.getString("open_this_link")}\n\n<b class='link'>${decodeURI(n)}</b>`,null,{ok_button_text:a.getString("open")}).done(e=>{e&&d.openWindow(n)})}if(t.hasClass("uploaded-img")||t.hasClass("img-content")||t.hasClass("uploaded-img-for-collage"))return void(t.hasClass("img-content")&&t.children("img").click());if(t.hasClass("last-image"))return void t.find("img")[0].click();if(t.hasClass("image-counter"))return void t.closest(".last-image").find("img")[0].click();if(n.hasClass("searched-message"))return void this.model.getMessageContext(n.data("uniqueid"),{seached_messages:!0});let c=()=>{let t=n.hasClass("selected")?n.prevAll(".chat-message.selected").last():n.prevAll(".chat-message.selected").first();if(t.length||(t=n.hasClass("selected")?n.nextAll(".chat-message.selected").last():n.nextAll(".chat-message.selected").first()),t.length||(t=n.hasClass("selected")?n.prevAll(".chat-message.selected").first():n.prevAll(".chat-message.selected").last()),(a.shiftctrl_pressed||a.shift_pressed)&&t.length){let i=[],s=n.hasClass("selected");return i=t.attr("data-time")<n.attr("data-time")?t.nextUntil(n,".chat-message:not(.system)"):n.nextUntil(t,".chat-message:not(.system)"),a.shift_pressed&&this.$(".chat-message").removeClass("selected"),t.switchClass("selected",!s),i.switchClass("selected",!s),n.switchClass("selected",!s),e.preventDefault(),this.bottom.manageSelectedMessages(),!1}return o?void 0:(n.switchClass("selected",!n.hasClass("selected")),e.preventDefault(),this.bottom.manageSelectedMessages(),!1)};if(n.hasClass("participant-message")||n.hasClass("context-message"))return n.hasClass("system")?void 0:void c();if(r=this.model.messages.get(n.data("uniqueid")),!r)return;let l=r.get("type");if("file_upload"===l)return;if("system"===l)return;if(s){let e=this.account.forwarded_messages.get(i.data("uniqueid"));if(!e)return;c()}else c()}},retrySendMessage:function(e){let t=r(e.target).closest(".chat-message"),a=this.model.messages.get(t.data("uniqueid"));"file_upload"===a.get("type")?(a.set("state",s.MSG_PENDING),this.startUploadFile(a,t)):this.sendMessage(a),e.preventDefault()}}),a.ExpandedMessagePanel=a.BasicView.extend({className:"modal expanded-message",template:o.group_chats.pinned_message_panel,ps_selector:".modal-content",ps_settings:{theme:"item-list"},events:{"click .collapsed-forwarded-message":"expandFwdMessage","click .chat-message":"onClickPinnedMessage"},_initialize:function(e){this.account=e.account,this.chat_content=e.chat_content},open:function(e){this.$el.css("width",60>=e.find(".chat-text-content").text().length?540:.715*a.main_panel.$el.width()),this.$el.openModal({ready:()=>{this.updateScrollBar(),this.$(".modal-content").css("height",this.$el.height()-12)},complete:()=>{this.$el.detach(),this.data.set("visible",!1)}}),e.find(".right-side .msg-delivering-state").remove(),this.$(".modal-content").html(e),this.$(".msg-copy-link").remove()},close:function(){this.$el.closeModal({complete:this.hide.bind(this)})},onClickPinnedMessage:function(e){let t=r(e.target);if(t.hasClass("msg-hyperlink")){e&&e.preventDefault();let n=t.attr("href");return void d.dialogs.ask("",`${a.getString("open_this_link")}\n\n<b class="link">${decodeURI(n)}</b>`,null,{ok_button_text:a.getString("open")}).done(e=>{e&&d.openWindow(n)})}},expandFwdMessage:function(e){let t=r(e.target),n=t.data("uniqueid"),i=this.chat_content.buildMessageHtml(this.account.forwarded_messages.get(n)),s=new a.ExpandedMessagePanel({account:this.account,chat_content:this.chat_content});s.$el.attr("data-color",this.account.settings.get("color")),this.chat_content.updateMessageInChat(i),this.chat_content.initPopup(i),s.open(i)}}),a.ChatsBase=Backbone.Collection.extend({model:a.Chat}),a.Chats=a.ChatsBase.extend({initialize:function(){this.collections=[],this.on("add",u.bind(this.updateInCollections,this,"add")),this.on("change",u.bind(this.updateInCollections,this,"change"))},addCollection:function(e){this.collections.push(e)},updateInCollections:function(e,t){u.each(this.collections,function(a){a.update(t,e)})},registerQuillEmbeddedsTags:function(){let e=Quill.import("blots/inline"),t=Quill.import("formats/image");class a extends e{static create(e){let t=super.create(),a=JSON.parse(e),n=a.jid?"?jid="+a.jid:a.id?"?id="+a.id:"";return t.innerHTML=a.nickname,a.is_me&&t.classList.add("ground-color-100"),t.setAttribute("data-target",n),t}static value(e){return e.innerHTML}}a.blotName="mention",a.tagName="mention",a.prototype.optimize=function(){};class n extends t{static create(e){if("string"==typeof e){let t=r(e.emojify({tag_name:"img"}))[0];return t.style.display="none",t.onload=function(){this.style.display="unset"},t}return e}static value(e){return e}}n.blotName="emoji",n.className="emoji",n.tagName="img",n.prototype.optimize=function(){},Quill.register(n),Quill.register(a)}}),a.OpenedChats=a.ChatsBase.extend({comparator:function(e,t){let a=e.get("timestamp"),n=t.get("timestamp");return a>n?-1:a<n?1:0},initialize:function(){this.on("change:timestamp",this.sort,this)},update:function(e){let t=e.get("opened");t?!this.get(e)&&(this.add(e),e.trigger("add_opened_chat",e)):this.get(e)&&(this.remove(e),e.trigger("remove_opened_chat",e))}}),a.ClosedChats=a.ChatsBase.extend({update:function(e){let t=!e.get("opened");t?!this.get(e)&&(this.add(e),e.trigger("add_closed_chat",e)):this.get(e)&&(this.remove(e),e.trigger("remove_closed_chat",e))}}),a.AccountChats=a.ChatsBase.extend({initialize:function(e,t){this.account=t.account,this.mam_requests=0,this.deferred_mam_requests=[],this.account.contacts.on("open_chat",this.openChat,this),this.account.contacts.on("open_mention",this.openMention,this),this.account.contacts.on("presence",this.onPresence,this),this.account.contacts.on("roster_push",this.onRosterPush,this)},getSavedChat:function(){let e=this.account.get("jid"),t={jid:e,type:"saved",name:a.getString("saved_messages__header"),id:`${e}:saved`},n=this.get(t.id);return n||(n=a.chats.create(t,{account:this.account}),this.add(n),n.trigger("load_last_history")),n},getChat:function(e,t){let n=null,i=t&&`${e.hash_id}:${t}`,s=i?this.get(i):this.get(e.hash_id);return i&&(n={id:i}),"encrypted"===t&&(n.type=t),s||(s=a.chats.create(n,{contact:e}),this.add(s),e.set("known",!0)),s},openChat:function(e,t){t=t||{},u.isUndefined(t.clear_search)&&(t.clear_search=!0);let a=this.getChat(e,t.encrypted&&"encrypted");a.trigger("open",{clear_search:t.clear_search})},openMention:function(e,t){let n=this.getChat(e);a.body.setScreen("mentions",{right:"mentions",chat_item:n.item_view}),t&&n.getMessageContext(t,{mention:!0})},registerMessageHandler:function(){this.account.connection.deleteHandler(this._msg_handler),this._msg_handler=this.account.connection.addHandler(e=>(this.receiveMessage(e),!0),null,"message")},registerFastMessageHandler:function(){this.account.fast_connection.deleteHandler(this._fast_msg_handler),this._fast_msg_handler=this.account.fast_connection.addHandler(e=>(this.receiveMessage(e),!0),null,"message")},onStartedMAMRequest:function(e){this.deferred_mam_requests.push(e),this.runMAMRequests()},onCompletedMAMRequest:function(){this.mam_requests--,this.runMAMRequests()},runMAMRequests:function(){for(;this.mam_requests<a.settings.mam_requests_limit;){let e=this.deferred_mam_requests.shift();if(!e)break;this.mam_requests++,e.resolve()}},parsePubSubNode:function(e){if(!e)return null;let t=e.indexOf("#");return-1===t?null:e.slice(t+1,e.length)},receivePubsubMessage:function(e){let t=e.find("info").attr("id"),a=l.getBareJidFromJid(e.attr("from")),n=e.find("items").attr("node");if(!(-1<n.indexOf(l.NS.OMEMO))&&-1<n.indexOf(l.NS.PUBSUB_AVATAR_METADATA)){let i=this.parsePubSubNode(n),o=e.find("info").attr("url"),d=this.account.contacts.get(a);if(d){if(i){if(d.my_info&&i==d.my_info.get("id")&&t==d.my_info.get("avatar"))return void d.trigger("update_my_info");if(t&&this.account.chat_settings.getHashAvatar(i)!=t){let e=l.NS.PUBSUB_AVATAR_DATA+"#"+i;d.getAvatar(t,e,e=>{this.account.chat_settings.updateCachedAvatars(i,t,e),d.my_info&&i==d.my_info.id&&(d.my_info.set({avatar:t,b64_avatar:e}),d.trigger("update_my_info"));let a=d.participants&&d.participants.get(i);a&&(a.set({avatar:t,b64_avatar:e}),this.account.groupchat_settings.updateParticipant(d.get("jid"),a.attributes))},()=>{if(o){this.account.chat_settings.updateCachedAvatars(i,t,o),d.my_info&&i==d.my_info.id&&(d.my_info.set({avatar:t,b64_avatar:o}),d.trigger("update_my_info"));let e=d.participants&&d.participants.get(i);return void(e&&(e.set({avatar:t,b64_avatar:o}),this.account.groupchat_settings.updateParticipant(d.get("jid"),e.attributes)))}})}}else if(!this.get("avatar_priority")||this.get("avatar_priority")<=s.AVATAR_PRIORITIES.PUBSUB_AVATAR){if(!t){let e=g.getDefaultAvatar(d.get("name"));return d.cached_image=g.getCachedImage(e),d.set("avatar_priority",s.AVATAR_PRIORITIES.PUBSUB_AVATAR),d.set("photo_hash",null),d.set("image",e),void d.updateCachedInfo()}if(""!==t&&d.get("photo_hash")===t)return;o&&(d.cached_image=o,d.set({photo_hash:t,image:o,avatar_priority:s.AVATAR_PRIORITIES.PUBSUB_AVATAR})),d.getAvatar(t,l.NS.PUBSUB_AVATAR_DATA,e=>{d.cached_image=g.getCachedImage(e),d.set("avatar_priority",s.AVATAR_PRIORITIES.PUBSUB_AVATAR),d.set("photo_hash",t),d.set("image",e),d.updateCachedInfo()})}}else if(a===this.account.get("jid")){if(o){let e={photo_hash:t,image:o,avatar_priority:s.AVATAR_PRIORITIES.PUBSUB_AVATAR};return this.account.cached_image=o,void this.account.save(e)}if(!t){let e=g.getDefaultAvatar(this.account.get("name"));this.account.cached_image=g.getCachedImage(e);let t={avatar_priority:s.AVATAR_PRIORITIES.PUBSUB_AVATAR,image:e};return void this.account.save(t)}this.account.getAvatar(t,e=>{this.account.cached_image=g.getCachedImage(e);let t={avatar_priority:s.AVATAR_PRIORITIES.PUBSUB_AVATAR,image:e};this.account.save(t)})}}},receiveMessage:function(e){let t=r(e),a=t.attr("type");if(this.account.connection.do_synchronization&&l.getBareJidFromJid(r(e).attr("from"))!==this.account.get("jid")){let e=t.children("time").attr("stamp")||t.children("delay").attr("stamp"),a=+p(e);a>this.account.last_msg_timestamp&&(this.account.last_msg_timestamp=a)}return"headline"===a?this.receiveHeadlineMessage(e):"chat"===a||"normal"===a?this.receiveChatMessage(e):"error"===a?this.receiveErrorMessage(e):void 0},receiveHeadlineMessage:function(e){let t=r(e),n=l.getBareJidFromJid(t.attr("from")),i=t.find(`received[xmlns="${l.NS.DELIVERY}"]`),o=t.children(`x[xmlns="${l.NS.DELIVERY}"]`).children("message");if(i.length){let e=i.children("stanza-id").attr("id"),t=i.children("origin-id").first().attr("id");if(t){let a=this.account.messages.get(t||e),n=i.children("time").attr("stamp")||p(e/1e3).format();if(!a)return;a.set({state:s.MSG_SENT,time:n,timestamp:+p(n)});let o=this.account._pending_messages.find(a=>a.unique_id==(t||e));if(o){let t=this.account.chats.get(o.chat_hash_id);t&&t.setStanzaId(o.unique_id,e),this.account._pending_messages.splice(this.account._pending_messages.indexOf(o),1)}}return}if(o.length)return this.receiveChatMessage(o[0],{echo_msg:!0,stanza_id:o.children("stanza-id").attr("id")});let d=t.children(`revoke[xmlns="${l.NS.AUTH_TOKENS}"]`);if(d.length)return d.children("token-uid").each((e,t)=>{let a=r(t),n=a.text();if(n&&this.account.x_tokens_list){let e=this.account.x_tokens_list.find(e=>e.token_uid==n),t=e?this.account.x_tokens_list.indexOf(e):-1;-1<t&&this.account.x_tokens_list.splice(t,1)}}),void(this.account.settings_right&&this.account.settings_right.updateXTokens());if(t.find(`event[xmlns="${l.NS.PUBSUB}#event"]`).length)return void this.receivePubsubMessage(t);let c=this.account.contacts.get(n),u;if(c&&(u=this.account.chats.getChat(c)),t.children(`x[xmlns="${l.NS.GROUP_CHAT}#system-message"]`).length){if(!c)return;let e=t.children(`x[xmlns="${l.NS.GROUP_CHAT}#system-message"]`).attr("version");e&&c.participants&&c.participants.version<e&&c.trigger("update_participants")}if(t.children(`attention[xmlns="${l.NS.ATTENTION}"]`).length&&a.settings.call_attention)return u?u.messages.createSystemMessage({from_jid:n,message:a.getString("action_attention_requested"),attention:!0}):void 0;if(t.find(`replace[xmlns="${l.NS.REWRITE}#notify"]`).length){if(!c&&(c=this.account.contacts.get(t.find("replace").attr("conversation")))&&(u=this.account.chats.getChat(c)),!u)return;let e=t.find("replace").attr("id"),n=u.messages.find(t=>t.get("stanza_id")==e||t.get("contact_stanza_id")==e),i=a.body.screen.get("right"),s="participant_messages"===i&&this.account.participant_messages||"message_context"===i&&this.account.context_messages||"searched_messages"===i&&this.account.searched_messages||[],o=s.find(t=>t.get("stanza_id")==e);this.receiveChatMessage(t,{replaced:!0}),o&&o.set("last_replace_time",t.find("replaced").attr("stamp")),n&&(n.set("last_replace_time",t.find("replaced").attr("stamp")),c.get("pinned_message")&&c.get("pinned_message").get("unique_id")===n.get("unique_id")&&(c.get("pinned_message").set("message",n.get("message")),u.item_view.content.updatePinnedMessage()),u&&u.item_view.updateLastMessage(u.last_message))}if(t.find("retract-message").length){let e="encrypted"==t.find("retract-message").attr("type");if(!c&&(c=this.account.contacts.get(t.find("retract-message").attr("conversation")))&&(u=this.account.chats.getChat(c,e&&"encrypted")),!u)return;let a=t.find("retract-message"),n=a.attr("id"),i=a.attr("version"),s=u.messages.find(e=>e.get("stanza_id")==n||e.get("contact_stanza_id")==n);s&&(s.set("is_unread",!1),u.item_view.content.removeMessage(s),u.item_view.updateLastMessage(u.last_message)),i>this.account.retraction_version&&(u.get("encrypted")&&this.account.omemo?this.account.omemo.cacheRetractVersion(i):this.account.retraction_version=i)}if(t.find("retract-user").length){let e=t.find("retract-user"),a=e.attr("id"),n=u.messages.filter(e=>e.get("user_info")&&e.get("user_info").id==a);n&&r(n).each((e,t)=>{t.set("is_unread",!1),u.item_view.content.removeMessage(t)}),u.item_view.updateLastMessage(u.last_message)}if(t.find("retract-all").length){if(!c&&(c=this.account.contacts.get(t.find("retract-all").attr("conversation")))&&(u=this.getChat(c,"encrypted"==t.find("retract-all").attr("type")&&"encrypted")),!u)return;let e=u.messages.models;r(e).each((e,t)=>{u.item_view.content.removeMessage(t)}),u.item_view.updateLastMessage()}if(t.find(`confirm[xmlns="${l.NS.HTTP_AUTH}"]`).length){let n=t.find("confirm").attr("id");if(t.attr("from")==this.account.xabber_auth.api_jid&&t.attr("id")==this.account.xabber_auth.request_id)this.account.verifyXabberAccount(n,e=>{a.api_account&&this.account.get("auto_login_xa")&&(a.api_account.save("token",e),a.api_account.login_by_token())});else return this.receiveChatMessage(e)}},receiveStanzaId:function(e,t){t.replaced&&(e=e.children("replace").children("message"));let a={},n=t.from_bare_jid,i,s;return e.children("stanza-id").each((t,a)=>{a=r(a),e.children(`x[xmlns="${l.NS.GROUP_CHAT}"]`).length?a.attr("by")===n?(i=a,s=a):i=a:a.attr("by")===this.account.get("jid")?i=a:s=a}),i&&(a.stanza_id=i.attr("id")),s&&(a.contact_stanza_id=s.attr("id")),a},receiveChatMessage:function(e,t){t=t||{};let n=r(e),i=n.find("forwarded"),s=t.delay,o=n.attr("to"),d=l.getBareJidFromJid(o),c=o&&l.getResourceFromJid(o),p=n.attr("from")||t.from_jid;if(n.children(`encrypted[xmlns="${l.NS.OMEMO}"]`).length&&!t.forwarded)return void(this.account.omemo&&this.account.omemo.receiveChatMessage(e,t));if(n.find("invite").length&&t.forwarded)return;p||(p=this.account.get("jid"));let m=l.getBareJidFromJid(p),g=m===this.account.get("jid");if(t.forwarded&&(!i.length||t.xml))return this.account.forwarded_messages.createFromStanza(n,{is_forwarded:!0,forwarded_message:t.forwarded_message||null,delay:s,replaced:t.replaced,from_jid:p,xml:t.xml});if(i.length&&!t.xml){let e=n.find(`result[xmlns="${l.NS.MAM}"]`);if(e.length){i=e.children("forwarded"),i.length&&(n=i.children("message"),s=i.children("delay"));let a=this.receiveStanzaId(n,{from_bare_jid:m});return this.receiveChatMessage(n[0],u.extend(t,{is_mam:!0,delay:s,stanza_id:a.stanza_id||e.attr("id"),contact_stanza_id:a.contact_stanza_id}))}let a=n.find(`[xmlns="${l.NS.CARBONS}"]`);if(a.length)return n.find("invite").length&&"sent"===a[0].tagName?void 0:(i=a.children("forwarded"),i.length&&(n=i.children("message")),a.find(`request[xmlns="${l.NS.DELIVERY}"][to="${d}"]`).length||this.account.fast_connection&&n.attr("from")===this.account.fast_connection.jid?void 0:this.receiveChatMessage(n[0],u.extend(t,{carbon_copied:!0,carbon_direction:a[0].tagName})));let o=[];return i=n.children(`reference[type="mutable"][xmlns="${l.NS.REFERENCE}"]`).children("forwarded[xmlns=\""+l.NS.FORWARD+"\"]"),i.each((e,a)=>{let n=r(a),i=n.children("message"),s=n.children("delay"),d=this.receiveChatMessage(i[0],{forwarded:!0,pinned_message:t.pinned_message,participant_message:t.participant_message,searched_message:t.searched_message,is_searched:t.is_searched,context_message:t.context_message,from_jid:p,delay:s});o.push(d)}),this.receiveChatMessage(n[0],u.extend({forwarded_message:o.length?o:null,xml:n[0]},t))}!t.is_mam&&c&&c!==this.account.resource&&(a.warn("Message to another resource"),a.warn(e));let h=g?d:m;if(t.replaced&&(h=n.children("replace").attr("conversation")),h===this.account.get("jid")){if(!t.carbon_copied){let e=this.getSavedChat(),a=this.receiveStanzaId(n,{from_bare_jid:m,carbon_copied:t.carbon_copied,replaced:t.replaced});return e.receiveMessage(n,u.extend(t,{is_sender:g,stanza_id:a.stanza_id,contact_stanza_id:a.contact_stanza_id}))}return a.warn("Message from me to me"),void a.warn(e)}let f=this.account.contacts.mergeContact(h),v=this.account.chats.getChat(f,(t.encrypted||t.not_encrypted)&&"encrypted"),b=this.receiveStanzaId(n,{from_bare_jid:m,carbon_copied:t.carbon_copied,replaced:t.replaced});if(n.children(`x[xmlns="${l.NS.GROUP_CHAT}#system-message"]`).length){if(!f)return;let e=n.children(`x[xmlns="${l.NS.GROUP_CHAT}#system-message"]`).attr("version");e&&f.participants&&f.participants.version<e&&f.trigger("update_participants")}return n.find("x[xmlns=\""+l.NS.AUTH_TOKENS+"\"]").length&&!t.is_archived&&(this.account.getAllXTokens(),!f.get("in_roster")&&f.pushInRoster()),v.contact.get("group_chat")&&"sent"===t.carbon_direction&&!n.children(`[xmlns="${l.NS.CHAT_MARKERS}"]`).length?void 0:v.receiveMessage(n,u.extend(t,{is_sender:g,stanza_id:b.stanza_id,contact_stanza_id:b.contact_stanza_id}))},receiveErrorMessage:function(e){let t=e.getAttribute("id"),a=r(e).children("origin-id").attr("id");if(t){let n=r(e).find("error").attr("code"),i=this.account.messages.get(a||t);i&&("405"===n&&i.set("state",s.MSG_BLOCKED),"406"===n&&i.set("state",s.MSG_ERROR))}},onPresence:function(e,t){let a=this.getChat(e);a.onPresence(t)},onRosterPush:function(e,t){let a=this.getChat(e);a.onRosterPush(t)}}),a.AddGroupChatView=a.SearchView.extend({className:"modal main-modal add-group-chat-modal add-contact-modal",template:o.group_chats.add_group_chat,avatar_size:s.AVATAR_SIZES.ACCOUNT_ITEM,ps_selector:".rich-textarea",ps_settings:{theme:"item-list"},events:{"click .account-field .dropdown-content":"selectAccount","click .btn-add":"addGroupChat","keyup .input-group-chat-name input":"updateGroupJid","keyup .rich-textarea":"showPlaceholder","keyup .input-group-chat-jid input":"fixJid","click .btn-cancel":"close","click .property-variant":"changePropertyValue"},render:function(e){if(!a.accounts.connected.length)return void d.dialogs.error(a.getString("dialog_add_contact__error__text_no_accounts"));e||(e={}),this.setDefaultSettings(e);let t=e.account?[e.account]:a.accounts.connected;this.$(".single-acc").showIf(1===t.length),this.$(".multiple-acc").hideIf(1===t.length),this.$(".account-field .dropdown-content").empty(),u.each(t,e=>{this.$(".account-field .dropdown-content").append(this.renderAccountItem(e))}),this.bindAccount(t[0]),this.$(".btn-cancel").text(this.is_login?a.getString("skip"):a.getString("cancel")),this.$el.openModal({ready:()=>{let e={inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"};Materialize.updateTextFields(),this.$(".account-field .dropdown-button").dropdown(e),this.$(".property-field .dropdown-button").dropdown(e),this.$(".property-field .select-xmpp-server .caret").dropdown(e),this.$(".property-field .select-xmpp-server .xmpp-server-item-wrap").dropdown(e)},complete:this.close.bind(this)})},setDefaultSettings:function(e){this.$(".incognito-field .public-item-wrap").showIf(e.public),this.$(".incognito-field .incognito-item-wrap").showIf(e.incognito),e.public&&this.$(".modal-header span").text(a.getString("create_group")),e.incognito&&this.$(".modal-header span").text(a.getString("create_incognito_group")),this.$("input[name=chat_jid]").removeClass("fixed-jid").val(""),this.$("#new_chat_domain").val(""),this.$("input[name=chat_name]").val(""),this.$(".description-field .rich-textarea").text(""),this.$(".btn-add").addClass("non-active"),this.showPlaceholder(),this.$("span.errors").text("").addClass("hidden");let t=this.$(".global-dropdown-wrap"),n=t.find(".dropdown-content .default-value");t.find(".global-item-wrap .property-value").attr("data-value",n.attr("data-value")).text(n.text());let i=this.$(".membership-dropdown-wrap"),s=i.find(".dropdown-content .default-value");i.find(".membership-item-wrap .property-value").attr("data-value",s.attr("data-value")).text(s.text())},bindAccount:function(e){this.account=e,this.$(".input-group-chat-domain").addClass("hidden"),this.$(".account-field .dropdown-button .account-item-wrap").replaceWith(this.renderAccountItem(e));let t=this.account.get("groupchat_servers_list");t.length?this.$(".xmpp-server-dropdown-wrap .field-jid").text(t[0]):this.setCustomDomain(this.$(".property-field.xmpp-server-dropdown-wrap .property-value")),this.$(".modal-content .jid-field .set-default-domain").remove();for(let a=0;a<t.length;a++)r("<div/>",{class:"field-jid property-variant set-default-domain"}).text(t[a]).insertBefore(this.$(".modal-content .jid-field .set-custom-domain"))},renderAccountItem:function(e){let t=r(o.add_chat_account_item({jid:e.get("jid")}));return t},selectAccount:function(e){let t=r(e.target).closest(".account-item-wrap"),n=a.accounts.get(t.data("jid"));this.bindAccount(n)},setCustomDomain:function(e){this.$("#new_chat_domain").val(""),e.text(""),this.$(".input-group-chat-domain").removeClass("hidden")},changePropertyValue:function(e){let t=r(e.target),a=t.closest(".property-field").find(".property-value");return t.hasClass("set-custom-domain")?void this.setCustomDomain(a):void(t.hasClass("set-default-domain")&&(this.$(".input-group-chat-domain").addClass("hidden"),this.$("#new_chat_domain").val("")),a.text(t.text()),a.attr("data-value",t.attr("data-value")))},close:function(){this.$el.closeModal({complete:()=>{this.$el.detach(),this.data.set("visible",!1)}})},updateGroupJid:function(){let e=this.$("input[name=chat_jid]");if(!e.hasClass("fixed-jid")){let e=slug(this.$(".input-group-chat-name input").get(0).value,{lower:!0});this.$("label[for=new_chat_jid]").addClass("active"),this.$(".input-field #new_chat_jid").get(0).value=e}this.$(".btn-add").switchClass("non-active",!this.$(".input-group-chat-name input").get(0).value)},showPlaceholder:function(){let e=""===this.$(".rich-textarea ").text();this.$(".rich-textarea-wrap .placeholder").hideIf(!e)},fixJid:function(){let e=this.$("input[name=chat_jid]");e.hasClass("fixed-jid")||e.addClass("fixed-jid"),""==e.get(0).value&&e.removeClass("fixed-jid")},createGroupChat:function(){let e=this.account.resources.connection.jid,t=this.$("input[name=chat_name]").val(),n=this.$("input[name=chat_jid]").val()?this.$("input[name=chat_jid]").val():void 0,s=this.$(".incognito-field .property-wrap:not(.hidden) .property-value").attr("data-value"),o=this.$("#new_chat_domain").val()||this.$(".xmpp-server-dropdown-wrap .property-value").text(),d=this.$(".global-field .property-value").attr("data-value"),c=this.$(".description-field .rich-textarea").text()||"",u=this.$(".membership-field .property-value").attr("data-value"),m=i({from:e,type:"set",to:o}).c("query",{xmlns:l.NS.GROUP_CHAT+"#create"}).c("name").t(t).up().c("privacy").t(s).up().c("index").t(d).up().c("description").t(c).up().c("membership").t(u).up();n&&m.c("localpart").t(n),this.account.sendIQ(m,e=>{let t=r(e).find("query localpart").text().trim()+"@"+r(e).attr("from").trim(),n=this.account.contacts.mergeContact(t);n.set("group_chat",!0),n.set("subscription_preapproved",!0),n.pres("subscribed"),n.pushInRoster(null,()=>{if(n.pres("subscribe"),n.getMyInfo(),this.close(),a.chats_view.updateScreenAllChats(),n.sendPresent(),n.trigger("open_chat",n),!(this.account.connection&&this.account.connection.do_synchronization)){let e=i({type:"set"}).c("block",{xmlns:l.NS.BLOCKING}).c("item",{jid:t+"/"+p.now()});this.account.sendIQ(e)}})},()=>{this.$(".modal-footer .errors").removeClass("hidden").text(a.getString("groupchat_jid_already_exists"))})},addGroupChat:function(e){if(r(e.target).closest(".button-wrap").hasClass("non-active"))return void r(e.target).blur();let t=this.$("#new_chat_domain").val()||this.$(".xmpp-server-dropdown-wrap .property-value").text(),n=this.$("input[name=chat_jid]").val();if(""==this.$("input[name=chat_name]").val())this.$(".modal-footer .errors").text(a.getString("group_is_empty")).removeClass("hidden");else if(""==n||-1==n.search(/[-]/)&&-1==n.search(/\s/)&&""!=n){this.$(".modal-footer .errors").text("").addClass("hidden");let e=i({type:"get",to:t}).c("query",{xmlns:l.NS.DISCO_INFO}),n;this.account.sendIQ(e,e=>{r(e).children("query").children("feature").each((e,t)=>{r(t).attr("var")==l.NS.GROUP_CHAT&&(n=!0)}),n&&this.createGroupChat()},()=>{this.$(".modal-footer .errors").removeClass("hidden").text(`${a.getString("account_add__alert_invalid_domain")}`)})}else this.$(".modal-footer .errors").removeClass("hidden").text(`${a.getString("account_add__alert_localpart_invalid")}`)}}),a.ChatsView=a.SearchPanelView.extend({className:"recent-chats-container container",ps_selector:".chat-list-wrap",ps_settings:{theme:"item-list"},main_container:".chat-list",template:o.chats_panel,_initialize:function(){this.active_chat=null,this.model.on("add",this.onChatAdded,this),this.model.on("destroy",this.onChatRemoved,this),this.model.on("change:active",this.onChangedActiveStatus,this),this.model.on("change:unread",this.onChangedReadStatus,this),this.model.on("change:const_unread",this.onChangedReadStatus,this),this.model.on("change:timestamp",this.updateChatPosition,this),a.accounts.on("list_changed",this.updateLeftIndicator,this);let e=this.defineMouseWheelEvent();this.$el.on(e,this.onMouseWheel.bind(this)),this.ps_container.on("ps-scroll-y",this.onScrollY.bind(this)),this.ps_container.on("ps-scroll-down",this.onScroll.bind(this)),this.$(".read-all-button").click(this.readAllMessages.bind(this)),a.on("update_screen",this.onUpdatedScreen,this),a.on("update_layout",this.onWindowResized,this),this.$("input").on("input",this.updateSearch.bind(this))},render:function(e){void 0===e.right&&(this.active_chat=null),this.$(".chat-list-wrap").switchClass("with-padding",a.toolbar_view.$(".toolbar-item.unread").length),("chat"!==e.right&&"contact_details"!==e.right&&"searched_messages"!==e.right&&"message_context"!==e.right&&"participant_messages"!==e.right||e.clear_search)&&(this.clearSearch(),a.toolbar_view.$(".active").hasClass("all-chats")&&this.showAllChats())},readAllMessages:function(){let e=this.model,t=a.toolbar_view.$(".active");if(t.hasClass("chats")){let t=e.filter(e=>e.get("saved")||!e.contact.get("group_chat")&&e.get("timestamp")&&!e.contact.get("archived")&&(e.get("unread")||e.get("const_unread")));t.forEach(e=>{e.item_view.content.readMessages()})}if(t.hasClass("all-chats")){let t=e.filter(e=>e.get("saved")||e.get("timestamp")&&!e.contact.get("archived")&&(e.get("unread")||e.get("const_unread")));t.forEach(e=>{e.item_view.content.readMessages()})}if(t.hasClass("group-chats")){let t=e.filter(e=>e.get("saved")||e.contact.get("group_chat")&&e.get("timestamp")&&!e.contact.get("archived")&&(e.get("unread")||e.get("const_unread")));t.forEach(e=>{e.item_view.content.readMessages()})}},onUpdatedScreen:function(){this.$(".read-all-button").switchClass("hidden",!a.toolbar_view.$(".toolbar-item.active.unread").length)},onWindowResized:function(e){e.size_changed&&this.onScroll()},defineMouseWheelEvent:function(){return u.isUndefined(window.onwheel)?u.isUndefined(window.onmousewheel)?"MozMousePixelScroll":"mousewheel":"wheel"},onMouseWheel:function(e){0<e.originalEvent.deltaY&&this.onScroll()},hideChatsFeedback:function(){clearTimeout(this._load_chats_timeout),this.$(".load-chats-feedback").addClass("hidden"),this.updateScrollBar(),this._load_chats_timeout=null},onScroll:function(){if(12>this.getScrollBottom()&&!this._load_chats_timeout&&this.isVisible()){this._load_chats_timeout=setTimeout(()=>{this.hideChatsFeedback()},5e3);let e=a.accounts.connected.filter(e=>!e.roster.conversations_loaded&&e.connection&&e.connection.do_synchronization);e.length&&(this.$(".load-chats-feedback").text(a.getString("placeholder_loading")).removeClass("hidden"),this.updateScrollBar()),e.forEach(e=>{let t={max:a.settings.mam_messages_limit};e.roster.last_chat_msg_id&&(t.after=e.roster.last_chat_msg_id),e.roster.syncFromServer(t)})}},updateLeftIndicator:function(e){this.$el.attr("data-indicator",1<e.connected.length)},onChatAdded:function(e){this.addChild(e.id,e.item_view),this.updateChatPosition(e)},onChatRemoved:function(e,t){this.active_chat===this.child(e.id)&&(this.active_chat=null,a.body.setScreen(null,{chat_item:null},{silent:!a.body.isScreen("all-chats")})),this.removeChild(e.id,t),this.updateScrollBar()},onChangedActiveStatus:function(e){if(e.get("active")){let t=this.active_chat;this.active_chat=this.child(e.id),t&&t.model.set("active",!1)}},onChangedReadStatus:function(e){let t=this.child(e.id),n=a.toolbar_view.$(".active");!t||!n.hasClass("unread")||n.hasClass("unread")&&(e.get("unread")||e.get("const_unread"))||(t.detach(),!this.$(".chat-item").length&&n.hasClass("unread")&&n.click())},replaceChatItem:function(e,t){let a=this.child(e.id);if(a&&e.get("timestamp")){a.$el.detach();let n=t.indexOf(e);0===n?this.$(".chat-list").prepend(a.$el):this.$(".chat-item").eq(n-1).after(a.$el)}},updateChatPosition:function(e){let t=this.child(e.id),n=a.toolbar_view.$(".active");t&&(!n.hasClass("unread")||e.get("unread")||e.get("const_unread"))&&(n.hasClass("group-chats")&&(t.model.get("saved")||t.contact.get("group_chat"))&&this.replaceChatItem(e,this.model.filter(e=>e.get("saved")||e.contact.get("group_chat")&&!e.contact.get("archived"))),n.hasClass("chats")&&(t.model.get("saved")||!t.contact.get("group_chat"))&&this.replaceChatItem(e,this.model.filter(e=>e.get("saved")||!e.contact.get("group_chat")&&!e.contact.get("archived"))),n.hasClass("all-chats")&&(t.model.get("saved")||!t.contact.get("archived"))&&this.replaceChatItem(e,this.model.filter(e=>e.get("saved")||!e.contact.get("archived"))),n.hasClass("archive-chats")&&(t.model.get("saved")||t.contact.get("archived"))&&this.replaceChatItem(e,this.model.filter(e=>e.get("saved")||e.contact.get("archived"))),n.hasClass("account-item")&&(t.model.get("saved")||t.account.get("jid")===n.attr("data-jid"))&&this.replaceChatItem(e,this.model.filter(e=>e.get("saved")||e.account.get("jid")===n.attr("data-jid")&&!e.contact.get("archived"))))},onEnterPressed:function(e){let t;e.closest(".searched-lists-wrap").length?(this.clearSearch(),this.$(".list-item.active").removeClass("active"),e.hasClass("chat-item")&&(t=this.child(e.data("id")),t&&t.open(),e.addClass("active")),e.hasClass("roster-contact")&&(t=a.accounts.get(e.data("account")).chats.getChat(a.accounts.get(e.data("account")).contacts.get(e.data("jid"))),t&&(t=t.item_view),t&&a.chats_view.openChat(t,{clear_search:!1,screen:a.body.screen.get("name")}),e.addClass("active")),e.hasClass("message-item")&&e.click()):(t=this.child(e.data("id")),t&&t.open())},openChat:function(e,t){t=t||{},this.$(".list-item.active").removeClass("active"),e.updateActiveStatus();let n=a.chats_view.getScrollTop();if(t.clear_search&&this.clearSearch(),e.contact&&!e.contact.get("in_roster")&&!1==e.model.get("is_accepted"))e.model.set("display",!0),e.model.set("active",!0),a.body.setScreen("all-chats",{right:"group_invitation",contact:e.contact});else{if(a.toolbar_view.$(".active").hasClass("contacts")&&this.updateScreenAllChats(),!e.model.get("history_loaded")&&20>e.model.messages.length&&e.content.loadPreviousHistory(),!e.model.get("displayed_sent")&&e.model.messages.length){let t=e.model.messages.models[e.model.messages.length-1];t&&!t.isSenderMe()&&(e.model.get("unread")||e.model.get("const_unread"))&&(e.model.sendMarker(t.get("msgid"),"displayed",t.get("stanza_id"),t.get("contact_stanza_id")),e.model.set("displayed_sent",!0))}a.body.setScreen(t.screen||"all-chats",{right:"chat",clear_search:t.clear_search,chat_item:e,blocked:e.model.get("blocked")}),e.contact&&(!e.contact.get("vcard_updated")||e.contact.get("group_chat")&&!e.contact.get("group_info")||e.contact.get("vcard_updated")&&!p(e.contact.get("vcard_updated")).startOf("hour").isSame(p().startOf("hour")))&&e.contact.getVCard()}a.chats_view.scrollTo(n)},showGroupChats:function(){this.$(".chat-item").detach();let e=this.model,t=a.toolbar_view.$(".active.unread").length,n=[];t&&(n=e.filter(e=>e.contact&&e.contact.get("group_chat")&&e.get("timestamp")&&!e.contact.get("archived")&&(e.get("unread")||e.get("const_unread")))),n.length||(n=e.filter(e=>!e.get("saved")&&e.contact.get("group_chat")&&e.get("timestamp")&&!e.contact.get("archived")),a.toolbar_view.$(".toolbar-item.unread").removeClass("unread"),this.onUpdatedScreen()),n.forEach(e=>{this.$(".chat-list").append(e.item_view.$el)})},showChats:function(){this.$(".chat-item").detach();let e=this.model,t=a.toolbar_view.$(".active.unread").length,n=[];t&&(n=e.filter(e=>e.contact&&!e.contact.get("group_chat")&&e.get("timestamp")&&!e.contact.get("archived")&&(e.get("unread")||e.get("const_unread")))),n.length||(n=e.filter(e=>!e.get("saved")&&!e.contact.get("group_chat")&&e.get("timestamp")&&!e.contact.get("archived")),a.toolbar_view.$(".toolbar-item.unread").removeClass("unread"),this.onUpdatedScreen()),n.forEach(e=>{this.$(".chat-list").append(e.item_view.$el)})},showChatsByAccount:function(e){a.body.setScreen("all-chats"),this.$(".chat-item").detach();let t=this.model,n=t.filter(t=>t.account.get("jid")===e.get("jid")&&(t.get("saved")||t.get("timestamp")&&!t.contact.get("archived")));this.$(`.omemo-item:not([data-id="${e.get("jid")}"])`).addClass("hidden"),n.forEach(e=>{this.$(".chat-list").append(e.item_view.$el)})},showArchiveChats:function(){this.$(".chat-item").detach();let e=this.model,t=e.filter(e=>!e.get("saved")&&e.contact.get("archived"));t.forEach(e=>{this.$(".chat-list").append(e.item_view.$el)})},showAllChats:function(){this.$(".chat-item").detach();let e=this.model,t=a.toolbar_view.$(".active.unread").length,n=[];t&&(n=e.filter(e=>e.contact&&e.get("timestamp")&&!e.contact.get("archived")&&(e.get("unread")||e.get("const_unread")))),n.length||(n=e.filter(e=>e.get("saved")||e.get("timestamp")&&!e.contact.get("archived")),a.toolbar_view.$(".toolbar-item.unread").removeClass("unread"),this.onUpdatedScreen()),n.forEach(e=>{this.$(".chat-list").append(e.item_view.$el)})},updateScreenAllChats:function(){a.toolbar_view.$(".toolbar-item").removeClass("active").filter(".all-chats").addClass("active"),this.showAllChats()}}),a.MessageItemView=a.BasicView.extend({className:"message-item list-item",template:o.message_item,avatar_size:s.AVATAR_SIZES.CHAT_ITEM,events:{click:"openByClick"},_initialize:function(){this.contact=this.model.contact,this.account=this.contact?this.contact.account:this.model.account,this.$el.attr("data-id",this.model.id+"-"+this.cid),this.$el.attr("data-contact-jid",this.contact.get("jid")),this.updateName(),this.updateLastMessage(),this.updateAvatar(),this.updateColorScheme(),this.updateGroupChats(),this.updateIcon(),this.updateStatus(),this.account.settings.on("change:color",this.updateColorScheme,this),this.contact.on("change:status",this.updateStatus,this),this.contact.on("change:name",this.updateName,this)},updateName:function(){this.$(".chat-title").text(this.contact.get("name"))},updateAvatar:function(){let e=this.contact.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)},updateStatus:function(){let e=this.contact.get("status"),t=this.contact.getStatusMessage();this.$(".contact-status").attr("data-status",e),this.$(".chat-icon").attr("data-status",e),this.model.get("blocked")?this.$(".contact-status-message").text(a.getString("action_contact_blocked")):this.$(".contact-status-message").text(t)},updateGroupChats:function(){let e=this.contact.get("group_chat");this.$(".status").hideIf(e),this.updateIcon(),e&&(this.$el.addClass("group-chat"),this.$(".chat-title").css("color","#424242"),this.model.set("group_chat",!0))},updateIcon:function(){this.$(".chat-icon").addClass("hidden");let e=this.contact.getIcon();e&&this.$(".chat-icon").removeClass("hidden").switchClass(e,"group-invite"==e||"server"==e||"blocked"==e).html(n.templates.svg[e]())},updateColorScheme:function(){let e=this.account.settings.get("color");this.$el.attr("data-color",e)},updateLastMessage:function(e){if(e||(e=this.model),!e)return;let t=e.get("time"),n=e.get("timestamp"),i=e.get("forwarded_message"),o=e.get("files")||[],c=e.get("images")||[],l=i?e.get("message")||a.getQuantityString("forwarded_messages_count",i.length).italics():e.getText(),p=e.get("user_info")||e.isSenderMe()&&this.contact.my_info&&this.contact.my_info.attributes||{},u="";if(this.model.set({timestamp:n}),this.model.get("group_chat")&&(u=p.nickname||p.jid||(e.isSenderMe()?this.account.get("name"):e.get("from_jid"))||""),o.length||c.length){let e=r("<span class=\"text-color-500\"/>");if(o.length&&c.length)l=e.text(a.getString("recent_chat__last_message__attachments",[o.length+c.length]));else{if(1==o.length&&(o[0].is_audio||o[0].voice))l=e.text(`${a.getString("voice_message")}, `+d.pretty_duration(o[0].duration));else if(0<o.length){let t=0;o.forEach(e=>{t+=+e.size}),l=e.text(a.getQuantityString("recent_chat__last_message__files",o.length)+(0<t?`, ${d.pretty_size(t)}`:""))}if(0<c.length){let t=0;c.forEach(e=>{t+=+e.size}),l=e.text(a.getQuantityString("recent_chat__last_message__images",c.length)+(0<t?`, ${d.pretty_size(t)}`:""))}}this.$(".last-msg").html("").append(u).append(l)}else this.$(".last-msg").text("").append(l),u&&this.$(".last-msg").prepend(r("<span class=text-color-700>"+u+": </span>"));this.$el.emojify(".last-msg",{emoji_size:16}).hyperlinkify({decode_uri:!0}),this.$(".last-msg-date").text(d.pretty_short_datetime_recent_chat(t)).attr("title",v(t)),this.$(".msg-delivering-state").showIf(e.isSenderMe()&&e.get("state")!==s.MSG_ARCHIVED).attr("data-state",e.getState())},openByClick:function(){let e=this.account.chats.getChat(this.contact);this.$el.closest(".left-panel-list-wrap").find(".list-item").removeClass("active"),this.$el.addClass("active"),a.body.setScreen(a.body.screen.get("name"),{right:"message_context",model:e}),this.model.get("unique_id")&&e.getMessageContext(this.model.get("unique_id"),{message:!0})}}),a.ForwardPanelView=a.SearchView.extend({className:"modal dialog-modal forward-panel-modal",template:o.forward_panel,ps_selector:".chat-list-wrap",ps_settings:{theme:"item-list"},open:function(e,t){if(this.messages=e,this.account=t,this.$(".chat-list-wrap").html(""),this.saved_chat=!1,a.chats_view.$(".chat-list .chat-item").each((e,t)=>{let n=r(t).data("id"),i=this.account.chats.get(n);if(i)if(`${this.account.get("jid")}:saved`==n){let e=r(t).clone().removeClass("hidden");e.find(".last-msg").text(a.getString("saved_messages__hint_forward_here")),this.saved_chat=!0,this.$(".chat-list-wrap").prepend(e)}else this.$(".chat-list-wrap").append(r(t).clone().removeClass("hidden"))}),!this.saved_chat){let e=this.account.chats.getSavedChat(),t=e.item_view.$el.clone();t.find(".last-msg").text(a.getString("saved_messages__hint_forward_here")),this.$(".chat-list-wrap").prepend(t)}this.$(".chat-list-wrap").prepend(r("<div/>",{class:"forward-panel-list-title recent-chats-title hidden"}).text(a.getString("category_recent_chats"))),this.$(".chat-list-wrap").append(r("<div/>",{class:"forward-panel-list-title contacts-title hidden"}).text(a.getString("category_title_contacts"))),this.$(".chat-item").removeClass("active"),this.clearSearch(),this.data.set("visible",!0),this.$el.openModal({ready:()=>{this.updateScrollBar(),this.$(".search-input").focus()},complete:()=>{this.$el.detach(),this.data.set("visible",!1)}})},close:function(){let e=new r.Deferred;return this.$el.closeModal({complete:()=>{this.$el.detach(),this.data.set("visible",!1),e.resolve()}}),e.promise()},onClickItem:function(e){let t=r(e.target).closest(".list-item");this.onEnterPressed(t)},search:function(e){let t=!1,n=!1,i=!1,s,o;e=e.toLowerCase(),this.$(".roster-contact.list-item").remove(),e&&this.account.roster.forEach(t=>{let n=t.get("jid"),s=t.hash_id,o=t.get("name").toLowerCase(),d=!!(0>o.indexOf(e)&&0>n.indexOf(e));if(!d)if(!this.$(".chat-list-wrap .chat-item[data-id=\""+s+"\"]").length){let e=a.contacts_view.$(`.account-roster-wrap[data-jid="${this.account.get("jid")}"] .roster-contact[data-jid="${n}"]`).first().clone();e.find(".muted-icon").hide(),this.$(".chat-list-wrap").append(e)}else d=!0;d||(i=!0)}),this.$(".contacts-title").switchClass("hidden",!i),this.$(".chat-item").each((a,i)=>{let d=this.account.chats.get(r(i).data("id"));return d?void(s=d.get("jid"),o=d.contact?d.contact.get("name"):d.get("name"),o&&(o=o.toLowerCase()),t=!(!o||o&&0>o.indexOf(e)&&0>s.indexOf(e)),r(i).hideIf(!t),t&&(n=!0)):void r(i).addClass("hidden")}),this.$(".recent-chats-title").switchClass("hidden",!n),this.$(".modal-content .error").showIf(!i&&!n),this.scrollToTop()},onEmptyQuery:function(){this.$(".roster-contact.list-item").remove(),this.$(".contacts-title").addClass("hidden"),this.$(".recent-chats-title").addClass("hidden")},onEnterPressed:function(e){let t;e.hasClass("roster-contact")&&(t=this.account.chats.getChat(this.account.contacts.get(e.data("jid"))).item_view),e.hasClass("chat-item")&&(t=a.chats_view.child(e.data("id"))),t&&this.forwardTo(t)},forwardTo:function(e){e.model.get("saved")?this.messages.forEach(t=>{e.content.onSubmit("",[t])}):e.content.bottom.setForwardedMessages(this.messages),this.messages=[],this.close().done(()=>{e.open({clear_search:!0})})}}),a.InvitationPanelView=a.SearchView.extend({className:"modal dialog-modal add-user-group-chat",template:o.group_chats.invitation_panel_view,ps_selector:".contacts-list-wrap",ps_settings:{theme:"item-list"},_initialize:function(){this.registerClickEvents()},open:function(e,t){this.selected_contacts=[],this.account=e,this.contact=t,this.clearPanel(),a.contacts_view.$(`.account-roster-wrap[data-jid="${this.account.get("jid")}"] .roster-group`).each((e,t)=>{let a=r(t).clone();r(a).find(".list-item").each((e,t)=>{let a=this.account.contacts.get(r(t).attr("data-jid"));a.get("group_chat")&&t.remove()}),a.children(".list-item").length&&(this.$(".contacts-list-wrap").append(a),a.find(".arrow").click(e=>{this.toggleContacts(e)}),a.find(".group-head").click(e=>{this.selectAllGroup(e)}))}),this.data.set("visible",!0),this.$el.openModal({ready:()=>{this.updateScrollBar(),this.$(".search-input").focus()},complete:()=>{this.$el.detach(),this.data.set("visible",!1),this.selected_contacts=[]}})},addSelectedUsers:function(){if(!this.selected_contacts.length)return void this.$(".modal-footer button").blur();let e=this.selected_contacts.length,t=new r.Deferred,n=0;t.done(t=>{let n;n=t==e?a.getQuantityString("groupchat__toast__invitations_sent",e):a.getQuantityString("groupchat__toast_failed_to_sent_invitations",e),d.callback_popup_message(n,2e3)}),r(this.selected_contacts).each((a,i)=>{this.sendInvite(i,()=>{n++,a==e-1&&t.resolve(n)},()=>{a==e-1&&t.resolve(n)})}),this.close()},clearPanel:function(){this.$(".modal-footer .errors").text(""),this.$(".counter").text(""),this.$(".contacts-list-wrap").empty(),this.clearSearch()},registerClickEvents:function(){this.$(".btn-cancel").click(()=>{this.close()}),this.$(".btn-add").click(()=>{this.addSelectedUsers()})},addUser:function(e){let t=r(e.target).closest(".list-item"),a=t.attr("data-jid");t.toggleClass("click-selected");let n=this.selected_contacts.indexOf(a);-1<n?this.selected_contacts.splice(n,1):this.selected_contacts.push(a),this.updateCounter()},sendInvite:function(e,t,n){let s="member-only"===this.contact.get("group_info").model,o=i({from:this.account.get("jid"),type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("invite",{xmlns:`${l.NS.GROUP_CHAT}#invite`}).c("jid").t(e).up().c("send").t(s).up().c("reason").t("incognito"===this.contact.get("group_info").privacy?a.getString("groupchat__incognito_group__text_invitation"):a.getString("groupchat__public_group__text_invitation",[e]));this.account.sendIQ(o,()=>{s||this.sendInviteMessage(e),this.close(),t&&t()},e=>{this.onInviteError(e),n&&n()})},onInviteError:function(e){let t;0<r(e).find("not-allowed").length&&(t=r(e).find("text").text()||a.getString("groupchat_you_have_no_permissions_to_do_it")),0<r(e).find("conflict").length&&(t=r(e).find("text").text()||a.getString("groupchat__invitation__error_already_invited",[r(e).find("invite").find("jid").text()])),this.$(".modal-footer .errors").removeClass("hidden").text(t)},sendInviteMessage:function(e){let t=a.getString("groupchat_legacy_invitation_body",[this.contact.get("jid")]),n=c({from:this.account.get("jid"),to:e,type:"chat",id:m()}).c("invite",{xmlns:`${l.NS.GROUP_CHAT}#invite`,jid:this.contact.get("jid")}).c("reason").t("incognito"===this.contact.get("group_info").privacy?a.getString("groupchat__incognito_group__text_invitation"):a.getString("groupchat__public_group__text_invitation",[e])).up().up().c("x",{xmlns:l.NS.GROUP_CHAT}).c("privacy").t(this.contact.get("group_info").privacy).up().up().c("body").t(t).up();this.account.sendMsg(n)},search:function(e){e=e.toLowerCase(),e&&this.$(".list-item").each((t,a)=>{let n=r(a).attr("data-jid"),i=this.account.contacts.get(n).get("name").toLowerCase(),s=1<this.$(`.list-item[data-jid="${n}"]`).length&&!this.$(`.list-item[data-jid="${n}"]`).first().is(r(a));r(a).hideIf(0>i.indexOf(e)&&0>n.indexOf(e)||s)}),this.$(".group-head").addClass("hidden"),this.$(".modal-content .error").switchClass("hidden",this.$(".list-item").length!==this.$(".list-item.hidden").length),this.scrollToTop()},onEmptyQuery:function(){this.$(".list-item").removeClass("hidden"),this.$(".group-head").removeClass("hidden")},onClickItem:function(e){this.addUser(e)},onEnterPressed:function(e){let t=e.attr("data-jid"),a=this.selected_contacts.indexOf(t);-1<a&&this.selected_contacts.splice(a,1),this.selected_contacts.push(t),this.updateCounter(),this.addSelectedUsers()},close:function(){this.$el.closeModal({complete:this.hide.bind(this)})},toggleContacts:function(e){let t=r(e.target).hasClass("mdi-chevron-down");if(t){let t=r(e.target).closest(".roster-group");t.find(".list-item").each((e,t)=>{r(t).addClass("hidden")})}else{let t=r(e.target).closest(".roster-group");t.find(".list-item").each((e,t)=>{r(t).removeClass("hidden")})}r(e.target).switchClass("mdi-chevron-right",t),r(e.target).switchClass("mdi-chevron-down",!t),this.updateScrollBar()},selectAllGroup:function(e){if(!r(e.target).hasClass("arrow")){let t=r(e.target).closest(".roster-group");t.hasClass("click-selected")?(t.removeClass("click-selected"),t.find(".list-item").each((e,t)=>{let a=r(t).attr("data-jid"),n=this.selected_contacts.indexOf(a);-1<n&&(this.selected_contacts.splice(n,1),r(t).removeClass("click-selected"))})):(t.addClass("click-selected"),t.find(".list-item").each((e,t)=>{let a=r(t).attr("data-jid"),n=this.selected_contacts.indexOf(a);-1<n||(this.selected_contacts.push(a),r(t).addClass("click-selected"))})),this.updateCounter()}},updateCounter:function(){let e=this.$(".list-item.click-selected").length;e?this.$(".counter").removeClass("hidden").text(e):this.$(".counter").text("")}}),a.SavedChatHeadView=a.BasicView.extend({className:"chat-head-wrap saved-chat",template:o.saved_chat_head,events:{"click .contact-name":"showSettings","click .circle-avatar":"showSettings","click .btn-delete-chat":"deleteChat","click .btn-search-messages":"renderSearchPanel"},_initialize:function(e){this.content=e.content,this.contact=this.content.contact,this.model=this.content.model,clearInterval(this._update_oneliner_interval),this.updateOneLiner(),this._update_oneliner_interval=setInterval(()=>{this.updateOneLiner()},120000),this.account=this.model.account,this.$el.find(".circle-avatar").html(n.templates.svg["saved-messages"]()),this.model.on("close_chat",this.closeChat,this)},render:function(){return this.$(".tooltipped").tooltip({delay:50}),this.$(".btn-more").dropdown({inDuration:100,outDuration:100,hover:!1}),this.$(".chat-head-menu").hide(),this},updateOneLiner:function(){let e=u.random(0,a.getOneLiners().length-1),t=a.getOneLiners()[e].replace(/\\n/,"");return t?void this.$(".one-liner").text(t):void this.updateOneLiner()},closeChat:function(){this.model.set({opened:!1,display:!1,active:!1}),a.chats_view.clearSearch()},showSettings:function(){this.account.showSettings()},deleteChat:function(){let e=this.account.server_features.get(l.NS.REWRITE);d.dialogs.ask(a.getString("dialog_delete_saved_messages__header"),a.getString("dialog_delete_saved_messages__confirm")+(e?"":"\n"+a.getString("dialog_delete_saved_messages__confirm",[this.account.domain]).fontcolor("#E53935")),null,{ok_button_text:e?a.getString("delete"):a.getString("dialog_clear_chat_history__button_delete_locally")}).done(t=>{if(t){if(this.account.connection&&this.account.connection.do_synchronization&&this.model.deleteFromSynchronization(),e)this.model.retractAllMessages(!1);else{let e=this.model.messages.models;r(e).each((e,t)=>{this.content.removeMessage(t)})}this.closeChat(),this.model.set("timestamp",0)}})},renderSearchPanel:function(){let e;this.content.isVisible()&&(e=this.content),this.model.messages_view&&this.model.messages_view.isVisible()&&(e=this.model.messages_view),e&&e.$search_form.slideToggle(200,()=>{"none"!==e.$search_form.css("display")&&e.$search_form.find("input").focus()})}}),a.ChatHeadView=a.BasicView.extend({className:"chat-head-wrap",template:o.chat_head,avatar_size:s.AVATAR_SIZES.CHAT_HEAD,events:{"click .contact-name":"showContactDetails","click .circle-avatar":"showContactDetails","click .btn-notifications":"changeNotifications","click .btn-contact-details":"showContactDetails","click .btn-clear-history":"clearHistory","click .btn-invite-users":"inviteUsers","click .btn-delete-chat":"deleteChat","click .btn-delete-contact":"deleteContact","click .btn-block-contact":"blockContact","click .btn-unblock-contact":"unblockContact","click .btn-export-history":"exportHistory","click .btn-show-fingerprints":"showFingerprints","click .btn-start-encryption":"startEncryptedChat","click .btn-open-encrypted-chat":"openEncryptedChat","click .btn-open-regular-chat":"openRegularChat","click .btn-archive-chat":"archiveChat","click .btn-call-attention":"callAttention","click .btn-search-messages":"renderSearchPanel","click .btn-jingle-message":"sendJingleMessage","click .btn-set-status":"setStatus"},_initialize:function(e){this.content=e.content,this.contact=this.content.contact,this.model=this.content.model,this.account=this.model.account,this.updateName(),this.updateStatus(),this.updateEncrypted(),this.updateAvatar(),this.updateNotifications(),this.updateArchiveButton(),this.model.on("change:encrypted",this.updateEncrypted,this),this.model.on("close_chat",this.closeChat,this),this.contact.on("change",this.onContactChanged,this),this.contact.on("archive_chat",this.archiveChat,this),this.contact.on("change:name",this.updateName,this),this.contact.on("change:status",this.updateStatus,this),this.contact.on("change:status_updated",this.updateStatus,this),this.contact.on("change:image",this.updateAvatar,this),this.contact.on("change:blocked",this.onChangedBlocked,this),this.contact.on("change:muted",this.updateNotifications,this),this.contact.on("change:group_chat",this.updateGroupChatHead,this),this.contact.on("change:subscription",this.updateMenu,this),this.contact.on("change:in_roster",this.updateMenu,this),this.contact.on("update_trusted",this.updateEncryptedColor,this),a.on("change:audio",this.updateGroupChatHead,this)},render:function(){return this.$(".tooltipped").tooltip("remove"),this.$(".tooltipped").tooltip({delay:50}),this.$(".btn-more").dropdown({inDuration:100,outDuration:100,hover:!1}),this.$(".chat-head-menu").hide(),this.updateStatusMsg(),this.updateGroupChatHead(),this},updateEncrypted:function(){this.$el.switchClass("encrypted",this.model.get("encrypted"))},updateEncryptedColor:function(e){this.$el.attr("data-trust",e)},updateName:function(){this.$(".contact-name").text(this.contact.get("name"))},updateStatus:function(){let e=this.contact.get("status"),t=this.contact.getStatusMessage();this.$(".contact-status").attr("data-status",e),this.$(".chat-icon").attr("data-status",e),this.model.get("blocked")?this.$(".contact-status-message").text("Contact blocked"):this.$(".contact-status-message").text(t)},updateStatusMsg:function(){this.$(".contact-status-message").text(this.contact.getStatusMessage())},updateAvatar:function(){let e=this.contact.cached_image;this.$(".circle-avatar").setAvatar(e,this.avatar_size)},onContactChanged:function(){let e=this.contact.changed;(u.has(e,"subscription_request_in")||u.has(e,"subscription_request_out")||u.has(e,"subscription")||u.has(e,"status_message"))&&this.updateStatusMsg(),(u.has(e,"private_chat")||u.has(e,"incognito_chat")||u.has(e,"invitation"))&&this.updateIcon()},onChangedBlocked:function(){this.updateMenu(),this.updateStatusMsg(),this.updateIcon()},updateMenu:function(){let e=this.contact.get("group_chat");this.$(".btn-invite-users").showIf(e&&!this.contact.get("private_chat")&&"both"==this.contact.get("subscription")),this.$(".btn-call-attention").hideIf(e||this.model.get("encrypted")),this.$(".btn-start-encryption").showIf(!e&&this.account.omemo&&!this.model.get("encrypted")&&!this.account.chats.get(`${this.contact.hash_id}:encrypted`)),this.$(".btn-open-encrypted-chat").showIf(!e&&this.account.omemo&&!this.model.get("encrypted")&&this.account.chats.get(`${this.contact.hash_id}:encrypted`)),this.$(".btn-open-regular-chat").showIf(this.model.get("encrypted")),this.$(".btn-show-fingerprints").showIf(!e&&this.account.omemo&&this.model.get("encrypted")),this.$(".btn-retract-own-messages").showIf(e),this.$(".btn-block-contact").hideIf(this.model.get("blocked")),this.$(".btn-unblock-contact").showIf(this.model.get("blocked")),this.$(".btn-delete-contact").showIf(this.contact.get("in_roster")&&!e)},renderSearchPanel:function(){let e;this.content.isVisible()&&(e=this.content),this.model.messages_view&&this.model.messages_view.isVisible()&&(e=this.model.messages_view),e.$search_form.slideToggle(200,()=>{"none"!==e.$search_form.css("display")&&e.$search_form.find("input").focus()})},showContactDetails:function(){this.contact.showDetails("all-chats")},updateNotifications:function(){let e=this.contact.get("muted");this.$(".btn-notifications .muted-icon").switchClass("mdi-bell",!e).switchClass("mdi-bell-off",e)},changeNotifications:function(){let e=!this.contact.get("muted");this.contact.set("muted",e),this.account.chat_settings.updateMutedList(this.contact.get("jid"),e)},callAttention:function(){let e=c({type:"headline",to:this.contact.get("jid")}).c("attention",{xmlns:l.NS.ATTENTION});this.account.sendMsg(e),this.model.messages.createSystemMessage({from_jid:this.account.get("jid"),message:a.getString("action_attention_called")})},archiveChat:function(e){if(e&&(r(e.target).hasClass("mdi-package-down")||r(e.target).hasClass("mdi-package-up"))){let e=this.model.item_view.$el,t=e,a=null,n;for(;null==a&&0<t.length;)if(t=t.next(),t&&!t.hasClass("hidden")){let e=t.attr("data-id");a=this.account.chats.get(e)}null==a?this.getActiveScreen():(n=a.contact,n?n.trigger("open_chat",n):a.item_view&&a.item_view.open())}let t=!this.contact.get("archived"),a=!!t;this.contact.set("archived",t),this.model.messages.length||this.model.item_view.updateLastMessage(),this.$(".btn-archive-chat .mdi").switchClass("mdi-package-up",a),this.$(".btn-archive-chat .mdi").switchClass("mdi-package-down",!a),this.account.chat_settings.updateArchiveChatsList(this.contact.get("jid"),t)},sendJingleMessage:function(){return a.current_voip_call?void d.callback_popup_message(a.getString("jingle__error__call_in_progress"),1e3):void this.content.initJingleMessage()},setStatus:function(){let e=new a.SetGroupchatStatusView;e.open(this.contact)},getActiveScreen:function(){let e=a.toolbar_view.$(".active");return this.$(".omemo-item").removeClass("hidden"),e.hasClass("archive-chats")?void a.toolbar_view.showArchive():e.hasClass("all-chats")?void a.toolbar_view.showAllChats():e.hasClass("chats")?void a.toolbar_view.showChats():e.hasClass("group-chats")?void a.toolbar_view.showGroupChats():e.hasClass("account-item")?void a.toolbar_view.showChatsByAccount():void 0},updateArchiveButton:function(){let e=this.contact.get("archived"),t=!!e;this.contact.set("archived",e),this.$(".btn-archive-chat .mdi").switchClass("mdi-package-up",t),this.$(".btn-archive-chat .mdi").switchClass("mdi-package-down",!t)},updateGroupChatHead:function(){let e=this.contact.get("group_chat");this.updateIcon(),this.$(".btn-jingle-message").showIf(!e&&a.get("audio")),this.$(".btn-set-status").showIf(e),this.$(".contact-status").hideIf(e),this.updateMenu()},updateIcon:function(){this.$(".chat-icon").addClass("hidden");let e=this.contact.getIcon();e&&this.$(".chat-icon").removeClass("hidden group-invite blocked").switchClass(e,"group-invite"==e||"server"==e||"blocked"==e).html(n.templates.svg[e]())},inviteUsers:function(){a.invite_panel||(a.invite_panel=new a.InvitationPanelView({model:a.opened_chats})),a.invite_panel.open(this.account,this.contact)},clearHistory:function(){this.content.clearHistory(),a.chats_view.clearSearch()},leaveGroupChat:function(){this.contact.declineSubscription(),this.contact.removeFromRoster(),this.contact.set("in_roster",!1)},closeChat:function(){this.model.set({opened:!1,display:!1,active:!1}),a.chats_view.clearSearch()},deleteChat:function(){if(this.contact.get("group_chat"))d.dialogs.ask(a.getString("delete_chat"),a.getString("dialog_group_remove__confirm"),null,{ok_button_text:a.getString("delete")}).done(e=>{e&&(this.account.connection&&this.account.connection.do_synchronization&&this.model.deleteFromSynchronization(),this.leaveGroupChat(),this.closeChat())});else{let e=this.account.server_features.get(l.NS.REWRITE);d.dialogs.ask(a.getString("delete_chat"),a.getString("clear_chat_history_dialog_message",[this.model.get("jid")])+(e?"":`\n${a.getString("dialog_clear_chat_history__warning_deletion_not_supported",[this.account.domain]).fontcolor("#E53935")}`),null,{ok_button_text:e?a.getString("delete"):a.getString("dialog_clear_chat_history__button_delete_locally")}).done(t=>{if(t){if(e&&this.model.retractAllMessages(!1),this.account.connection&&this.account.connection.do_synchronization)this.model.deleteFromSynchronization();else{let e=this.model.messages.models;r(e).each((e,t)=>{this.content.removeMessage(t)})}this.closeChat()}})}},deleteContact:function(){this.contact.deleteWithDialog()},blockContact:function(){this.contact.blockWithDialog()},unblockContact:function(){this.contact.unblockWithDialog()},exportHistory:function(){},showFingerprints:function(){if(this.account.omemo){let e=this.account.omemo.getPeer(this.contact.get("jid"));e.fingerprints.open()}},startEncryptedChat:function(){this.account.chats.openChat(this.contact,{encrypted:!0});let e=this.account.chats.get(this.contact.hash_id+":encrypted");e.set("timestamp",p.now()),e.item_view.updateLastMessage()},openEncryptedChat:function(){this.model.set("opened",!0),this.account.chats.openChat(this.contact,{encrypted:!0})},openRegularChat:function(){this.model.set("opened",!0),this.account.chats.openChat(this.contact)}}),a.ChatBottomView=a.BasicView.extend({className:"chat-bottom-wrap",template:o.chat_bottom,avatar_size:s.AVATAR_SIZES.CHAT_BOTTOM,mention_avatar_size:s.AVATAR_SIZES.MENTION_ITEM,events:{click:"onClickBottom","click .my-avatar":"showAccountSettings","keyup .input-message .rich-textarea":"keyUp","keydown .input-message .rich-textarea":"keyDown","change .attach-file input":"onFileInputChanged","mouseup .message-input-panel":"stopWritingVoiceMessage","mousedown .attach-voice-message":"writeVoiceMessage","click .close-forward":"unsetForwardedMessages","click .send-message":"submit","click .markup-text":"onShowMarkupPanel","click .reply-message":"replyMessages","click .forward-message":"forwardMessages","click .pin-message":"pinMessage","click .copy-message":"copyMessages","click .edit-message":"showEditPanel","click .delete-message":"deleteMessages","click .close-message-panel":"resetSelectedMessages","click .mention-item":"inputMention","click .format-text":"updateMarkupPanel","click .btn-manage-devices":"openDevicesWindow"},_initialize:function(e){this.view=e.content,this.model=this.view.model,this.click_counter=0;let t=this.$(".rich-textarea-wrap"),n={enter:{key:13,handler:function(e){"enter"!==a.settings.hotkeys&&this.quill.insertText(e.index,"\n")}},arrow_up:{key:s.KEY_ARROW_UP,handler:()=>{if("none"!==this.$(".mentions-list").css("display")){let e=this.$(".mentions-list").children(".active.mention-item");if(e.length){let t=e.prev(".mention-item");e.removeClass("active"),t.length||(t=this.$(".mentions-list").children(".mention-item").last().addClass("active"),this.$(".mentions-list")[0].scrollTop=this.$(".mentions-list")[0].scrollHeight),t.addClass("active"),t.length&&t[0].offsetTop<=this.$(".mentions-list")[0].scrollTop&&(this.$(".mentions-list")[0].scrollTop=t[0].offsetTop)}else this.$(".mentions-list")[0].scrollTop=this.$(".mentions-list")[0].scrollHeight,this.$(".mentions-list").children(".mention-item").last().addClass("active");return!1}return!0}},arrow_down:{key:s.KEY_ARROW_DOWN,handler:()=>{if("none"!==this.$(".mentions-list").css("display")){let e=this.$(".mentions-list").children(".active.mention-item");if(e.length){let t=e.next(".mention-item");e.removeClass("active"),t.length||(t=this.$(".mentions-list").children(".mention-item").first(),this.$(".mentions-list")[0].scrollTop=0),t.addClass("active"),t.length&&t[0].offsetTop+t[0].clientHeight>=this.$(".mentions-list")[0].scrollTop+this.$(".mentions-list")[0].clientHeight&&(this.$(".mentions-list")[0].scrollTop=t[0].offsetTop-this.$(".mentions-list")[0].clientHeight+t[0].clientHeight)}else this.$(".mentions-list")[0].scrollTop=0,this.$(".mentions-list").children(".mention-item").first().addClass("active");return!1}return!0}},arrow_left:{key:s.KEY_ARROW_LEFT,handler:()=>"none"===this.$(".mentions-list").css("display")},arrow_right:{key:s.KEY_ARROW_RIGHT,handler:()=>"none"===this.$(".mentions-list").css("display")}};this.quill=new Quill(t[0],{modules:{keyboard:{bindings:n},toolbar:[["bold","italic","underline","strike","blockquote"],["clean"]]},formats:["bold","italic","underline","strike","blockquote","clean","emoji","mention"],placeholder:a.getString(this.model.get("encrypted")?"chat_bottom__hint_default_encrypted":"chat_bottom__hint_default"),scrollingContainer:".rich-textarea",theme:"snow"}),this.quill.container.firstChild.classList.add("rich-textarea"),this.contact=this.view.contact,this.account=this.view.account,this.fwd_messages=[],this.edit_message=null,this.$(".account-jid").text(this.account.get("jid")),this.updateAvatar(),this.quill.on("text-change",this.onChangedText,this),this.account.on("change:image",this.updateAvatar,this),this.account.on("trusting_updated",this.updateEncrypted,this),this.contact&&(this.contact.on("change:blocked",this.onBlockedUpdate,this),this.contact.on("update_my_info",this.updateInfoInBottom,this)),this.model.on("reply_selected_messages",this.replyMessages,this),this.model.on("forward_selected_messages",this.forwardMessages,this),this.model.on("copy_selected_messages",this.copyMessages,this),this.model.on("delete_selected_messages",this.deleteMessages,this),this.model.on("edit_selected_message",this.showEditPanel,this),this.model.on("pin_selected_message",this.pinMessage,this),this.model.on("reset_selected_messages",this.resetSelectedMessages,this),this.content_view=(this.view.data.get("visible")?this.view:this.model.messages_view)||this.view;let o=this.$(".input-message .rich-textarea"),d=o[0],c=o.parent(".rich-textarea-wrap"),l=o.siblings(".placeholder");d.onpaste=this.onPaste.bind(this),d.oncut=this.onCut.bind(this),d.ondragenter=e=>{e.preventDefault(),l.text(a.getString("chat_bottom__drag_and_drop__text_drop_files_here")),c.addClass("file-drop")},d.ondragover=e=>{e.preventDefault()},d.ondragleave=e=>{r(e.relatedTarget).closest(".rich-textarea").length||(e.preventDefault(),l.text(a.getString("chat_bottom__hint_default")),c.removeClass("file-drop"))},d.ondrop=e=>{e.preventDefault(),e.stopPropagation(),l.text(a.getString("chat_bottom__hint_default")),c.removeClass("file-drop");let t=e.dataTransfer.files||[];this.view.addFileMessage(t)};let p=this.$(".insert-emoticon"),m=this.$(".emoticons-panel-wrap"),g=this.$(".emoticons-panel"),f=0,v=0,b=Object.keys(h.all).length,A;for(let t in h.all){let e=r(`<div class="emoji-list-wrap"/>`);r(`<div id=${t} class="emoji-list-header">${a.getString(s.EMOJI_LIST_NAME(t))}</div>`).appendTo(e),u.each(h.all[t],function(a){r("<div class=\"emoji-wrap\"/>").html(a.emojify({emoji_size:24,sprite:t})).appendTo(e)}),e.appendTo(g),g.siblings(".emoji-menu").append(h.all[t][0].emojify({href:t,title:a.getString(s.EMOJI_LIST_NAME(t)),tag_name:"a",emoji_size:20}));let n=new Image;n.onload=()=>{f++,f===b&&m.find(".uploading-emoticons").detach()},n.src="./images/emoji/spritesheet"+v++ +".png"}let x=function(e){r(e.target).closest(".emoticons-panel-wrap").length||r(e.target).closest(".insert-emoticon").length||(m.removeClass("opened"),window.removeEventListener("click",x))};g.perfectScrollbar(u.extend({theme:"item-list"},a.ps_settings)),this.$(".emoji-menu .emoji").click(e=>{g[0].scrollTop=this.$(".emoji-list-wrap "+e.target.attributes.href.value)[0].offsetTop-4}),p.click(e=>{A&&clearTimeout(A),e&&e.preventDefault&&e.preventDefault(),m.hasClass("opened")?(m.removeClass("opened"),window.removeEventListener("click",x)):(m.addClass("opened"),window.addEventListener("click",x)),g.perfectScrollbar("update")}),m.hover(null,e=>{e&&e.preventDefault&&e.preventDefault(),A&&clearTimeout(A),A=setTimeout(()=>{m.removeClass("opened")},200)}),m.mousedown(e=>{if(e&&e.preventDefault&&e.preventDefault(),A&&clearTimeout(A),!e.button){let t=r(e.target),a=t.closest(".emoji-wrap").find(".emoji");t.closest(".emoji-menu").length||a.length&&this.typeEmoticon(a.data("emoji"))}}),this.renderLastEmoticons()},render:function(e){this.$(".message-input-panel").hideIf(e.blocked),this.$(".blocked-msg").showIf(e.blocked),this.$el.switchClass("chat-bottom-blocked-wrap",e.blocked),this.updateAvatar(),this.updateEncrypted();let t=this.account.server_features.get(l.NS.HTTP_UPLOAD);return this.content_view=(this.view.data.get("visible")?this.view:this.model.messages_view)||this.view,this.messages_arr=this.content_view.$el.hasClass("participant-messages-wrap")&&this.account.participant_messages||this.content_view.$el.hasClass("messages-context-wrap")&&this.account.context_messages||this.model.messages,this.renderLastEmoticons(),this.$(".attach-file").showIf(t),this.model.get("group_chat")?this.updateInfoInBottom():(this.$(".account-nickname").hide(),this.$(".account-badge").hide(),this.$(".account-role").hide()),this.focusOnInput(),this.manageSelectedMessages(),a.chat_body.updateHeight(),this},setButtonsWidth:function(){let e=[];this.$(".message-actions-panel .button-wrap").each((t,a)=>{e.push(a.clientWidth)}),this.$(".message-actions-panel .button-wrap").css("width",`${t.apply(null,e)}px`)},updateEncrypted:function(){this.$el.children(".preloader-wrapper").detach(),this.$el.children(".omemo-disabled").detach(),this.view.$el.removeClass("encrypted"),this.view.$(".chat-notification").hasClass("encryption-warning")&&this.view.$(".chat-notification").addClass("hidden").removeClass("encryption-warning").html(""),this.$el.attr("data-trust",null),this.$el.attr("data-contact-trust",null),this.$el.find(".warning-wrap").detach(),this.model.get("encrypted")&&(this.account.omemo?(this.$el.addClass("loading"),this.$el.prepend(n.templates.contacts.preloader()),this.account.omemo.checkOwnFingerprints().then(e=>{if("none"==e||"error"==e){let t=this.view.isScrolledToBottom();this.$el.attr("data-trust",e),this.view.$(".chat-message:not([data-trust=untrusted])").attr("data-trust",e),this.view.$(".chat-day-indicator:not(.fixed-day-indicator-wrap)").attr("data-trust",e),this.view.$el.attr("data-trust",e),this.$el.removeClass("loading"),this.$el.children(".preloader-wrapper").detach(),"none"==e?this.$el.prepend(o.encryption_warning({color:"amber",message:a.getString("omemo__alert_new_device_yours__text_new_device")})):this.$el.prepend(o.encryption_warning({color:"red",message:a.getString("omemo__alert_keys_changed_yours__text_keys_changed")})),a.chat_body.updateHeight(),t&&this.view.scrollToBottom(),this.account.omemo.checkContactFingerprints(this.contact),this.focusOnInput()}else this.account.omemo.checkContactFingerprints(this.contact).then(e=>{let t=this.view.isScrolledToBottom();return this.$el.removeClass("loading"),this.$el.children(".preloader-wrapper").detach(),"nil"===e?(this.$el.prepend(r(`<div class="warning-wrap no-fingerprints">${a.getString("omemo__dialog_fingerprints__text_no_fingerprints")}</div>`)),void this.$el.attr("data-contact-trust",e)):void("error"===e?(this.$el.attr("data-contact-trust",e),this.$el.prepend(o.encryption_warning({color:"red",message:a.getString("omemo__alert_keys_changed_partner__text_keys_changed")}))):("none"==e&&(this.view.$el.addClass("encrypted"),this.view.$(".chat-notification").removeClass("hidden").addClass("encryption-warning").html(o.content_encryption_warning({message:a.getString("omemo__alert_new_device_partner__text_new_device")}))),this.$el.attr("data-contact-trust",e)),this.view.$el.attr("data-trust",e),this.view.$(".chat-message:not([data-trust=untrusted])").attr("data-trust",e),this.view.$(".chat-day-indicator:not(.fixed-day-indicator-wrap)").attr("data-trust",e),a.chat_body.updateHeight(),t&&this.view.scrollToBottom(),this.focusOnInput())})})):(this.$el.addClass("loading"),this.$el.prepend(r("<div class=\"omemo-disabled warning-wrap\"/>").text(a.getString("omemo__chat__placeholder_encryption_disabled")))))},openDevicesWindow:function(){if(!this.account.omemo)d.dialogs.error(a.getString("omemo__chat__placeholder_encryption_disabled"));else if(void 0!==this.$el.attr("data-trust"))this.omemo_devices||(this.omemo_devices=new a.Fingerprints({model:this.account.omemo})),this.omemo_devices.open();else if(void 0!==this.$el.attr("data-contact-trust")){let e=this.account.omemo.getPeer(this.contact.get("jid"));e.fingerprints.open()}},onBlockedUpdate:function(){if(this.isVisible()){let e=this.model.get("blocked");this.$(".message-input-panel").hideIf(e),this.$(".blocked-msg").showIf(e),this.$el.switchClass("chat-bottom-blocked-wrap",e)}},onClickBottom:function(e){this.$el.hasClass("chat-bottom-blocked-wrap")&&!r(e.target).closest(".message-actions-panel").length&&this.contact.showDetails(a.body.screen.get("name")),r(e.target).closest(".ql-editor.rich-textarea").length&&!this.quill.getText().trim().length&&3==++this.click_counter&&(this.click_counter=0,this.setOneLiner())},updateInfoInBottom:function(){if(this.contact&&this.contact.my_info){let e=this.contact.my_info.get("nickname"),t=this.contact.my_info.get("badge"),a=this.contact.my_info.get("b64_avatar"),n=this.contact.my_info.get("role");e?(this.$(".account-jid").hide(),this.$(".account-nickname").show().text(e)):this.$(".account-nickname").hide(),t?this.$(".account-badge").show().text(t):this.$(".account-badge").hide(),n&&"member"!=n?this.$(".account-role").show().text(d.pretty_name(n)):this.$(".account-role").hide(),this.$(".input-toolbar").emojify(".account-badge",{emoji_size:16}),a||(a=g.getDefaultAvatar(e)),this.$(".my-avatar.circle-avatar").setAvatar(a,this.avatar_size)}else this.$(".account-jid").show(),this.$(".account-nickname").hide(),this.$(".account-badge").hide(),this.$(".account-role").hide()},updateAvatar:function(){let e;this.contact&&this.contact.get("group_chat")?(this.contact.my_info&&this.contact.my_info.get("b64_avatar")&&(e=this.contact.my_info.get("b64_avatar")),!e&&(e=g.getDefaultAvatar(this.contact.my_info&&this.contact.my_info.nickname||this.account.get("jid")))):e=this.account.cached_image,this.$(".my-avatar.circle-avatar").setAvatar(e,this.avatar_size)},focusOnInput:function(){return this.quill.focus(),this},keyDown:function(e){let t=this.$(".input-message .rich-textarea");if(e.keyCode!==s.KEY_ESCAPE&&e.keyCode!==s.KEY_BACKSPACE&&e.keyCode!==s.KEY_DELETE){if(e.keyCode===s.KEY_ENTER||10===e.keyCode){if("none"!==this.$(".mentions-list").css("display")){let t=this.$(".mentions-list").children(".active.mention-item");return t.length&&t.click(),void e.preventDefault()}let t="enter"===a.settings.hotkeys;if(t&&e.keyCode===s.KEY_ENTER&&!e.shiftKey||!t&&e.ctrlKey)return e.preventDefault(),void this.submit()}!t.getTextFromRichTextarea().trim()||this.view.chat_state||this.view.edit_message||this.view.sendChatState("composing")}},displayMicrophone:function(){this.$(".mdi-send").addClass("hidden"),this.$(".attach-voice-message").removeClass("hidden")},displaySend:function(){this.$(".mdi-send").removeClass("hidden"),this.$(".attach-voice-message").addClass("hidden")},updateMarkupPanel:function(e){let t=r(e.target).closest(".format-text");t.toggleClass("active"),t.hasClass("active")?(this.$(".ql-toolbar.ql-snow").show(),this.$(".last-emoticons").hide()):(this.$(".ql-toolbar.ql-snow").hide(),this.$(".last-emoticons").show())},setOneLiner:function(){let e=u.random(0,a.getOneLiners().length-1),t=a.getOneLiners()[e].replace(/\\n/,"");return t?void this.updatePlaceholder(t):void this.setOneLiner()},setDefaultPlaceholder:function(){let e=this.model.get("encrypted")?a.getString("chat_bottom__hint_default_encrypted"):a.getString("chat_bottom__hint_default");this.updatePlaceholder(e)},updatePlaceholder:function(e){this.quill.root.setAttribute("data-placeholder",e)},changeEncryption:function(){this.model.set("encrypted",!this.model.get("encrypted"))},getParticipantsList:function(){let e=[];return this.contact.participants.each(t=>{e.push(t.get("nickname")||t.get("jid")||t.get("id"))}),e.join(", ")},onChangedText:function(){let e=this.$el.height();e!==this.bottom_height&&(this.bottom_height=e,this.view.scrolled_to_bottom=this.view.isScrolledToBottom())},updateMentionsList:function(e){e=(e||"").toLowerCase(),this.contact.searchByParticipants(e,t=>{if(t.length||-1<a.getString("chat_bottom__mentions_list__item_everyone").toLowerCase().indexOf(e)||"*"===e||-1<"all".indexOf(e)||-1<"\u0432\u0441\u0435".indexOf(e)){this.$(".mentions-list").html("").show().perfectScrollbar({theme:"item-list"}),this.$(".mentions-list")[0].scrollTop=0,t.forEach(t=>{let a=u.clone(t.attributes);if(a.id){a.nickname=a.nickname?l.xmlescape(a.nickname):a.id;let n=r(o.group_chats.mention_item(a));n.find(".circle-avatar").setAvatar(t.get("b64_avatar")||d.images.getDefaultAvatar(t.get("nickname")||t.get("jid")||t.get("id")),this.mention_avatar_size),n.find(".nickname").text().replace(e,e.bold()),this.$(".mentions-list").append(n)}});let n=r(o.group_chats.mention_item({jid:"",nickname:a.getString("chat_bottom__mentions_list__item_everyone"),id:""}));n.find(".circle-avatar").setAvatar(this.contact.cached_image,this.mention_avatar_size),n.find(".one-line.jid").text(this.getParticipantsList()),this.$(".mentions-list").append(n),this.$(".mentions-list").children(".mention-item").first().addClass("active")}else this.$(".mentions-list").html("").hide()})},inputMention:function(e){e&&e.preventDefault();let a=this.$(".rich-textarea"),n=r(e.target).closest(".mention-item"),i=n.data("nickname"),s=n.data("id")||"",o=!this.contact.get("incognito_chat")&&n.data("jid")||"",d=a.getTextFromRichTextarea().replace(/\n$/,""),c=this.quill.selection.lastRange&&this.quill.selection.lastRange.index,l=Array.from(d).slice(0,c).join("").replaceEmoji(),p=l&&Array.from(l.matchAll(/(^|\s)@(\w+)?/g))||[],u=l&&Array.from(l.matchAll(/(^|\s)[+](\w+)?/g))||[],m=p.length?p.slice(-1)[0].index:-1,g=u.length?u.slice(-1)[0].index:-1,h=t(m,g),f=Array.from(l).slice(h,c).join("");if(f.length&&f[0].match(/\s/)&&h++,f=f.replace(/\s?(@|[+])/,""),this.$(".mentions-list").hide(),this.quill.deleteText(h,++f.length),!i.length)if(s.length)i=s;else return;this.insertMention({jid:o,id:s,nickname:i,position:h}),this.focusOnInput()},insertMention:function(e){if(e){let t=e.id,a=e.jid,n=e.nickname,i=!t&&!a||this.account.get("jid")===a||this.contact.my_info&&this.contact.my_info.get("id")===t,s={jid:a,id:t,nickname:l.xmlescape(n),is_me:i},o=e.position;this.quill.insertEmbed(o,"mention",JSON.stringify(s)),this.quill.pasteHTML(o+n.length,"<text> </text>"),this.quill.setSelection(o+n.length+1,0)}},showAccountSettings:function(){if(this.contact.get("group_chat")){let e=new a.ParticipantPropertiesView({model:this.contact});this.contact.my_info&&this.contact.my_rights?e.open(this.contact.my_info,this.contact.my_rights):this.contact.getMyInfo(()=>{e.open(this.contact.my_info,this.contact.my_rights)})}else this.account.showSettings()},keyUp:function(e){let n=r(e.target).closest(".rich-textarea"),i=n.getTextFromRichTextarea().replace(/\n$/,"");if(i&&(this.click_counter=0,this.setDefaultPlaceholder()),e.keyCode===s.KEY_ARROW_UP&&!i){let e=this.view.$(`.chat-message[data-from="${this.account.get("jid")}"]`).last();!e.length&&this.contact.participants&&(e=this.view.$(`.chat-message[data-from="${this.contact.participants.find(e=>e.get("jid")===this.account.get("jid")).get("id")}"]`).last());let t=this.messages_arr.get(e.data("uniqueid"));this.edit_message=t,this.setEditedMessage(t)}if(i&&"\n"!=i||this.edit_message?this.displaySend():this.displayMicrophone(),e.keyCode===s.KEY_ESCAPE)e.preventDefault(),this.unsetForwardedMessages();else{if(e.keyCode===s.KEY_ARROW_UP||e.keyCode===s.KEY_ARROW_DOWN)return;if((e.keyCode===s.KEY_ARROW_LEFT||e.keyCode===s.KEY_ARROW_RIGHT)&&"none"!==this.$(".mentions-list").css("display"))return void this.$(".mentions-list").hide();if(e.keyCode!==s.KEY_BACKSPACE&&e.keyCode!==s.KEY_DELETE||this.edit_message||i&&"\n"!=i||(this.$(".fwd-messages-preview").hasClass("hidden")?this.displayMicrophone():this.displaySend(),n.flushRichTextarea()),e.keyCode===s.KEY_SPACE){let e=this.quill.selection.lastRange&&this.quill.selection.lastRange.index,t=Array.from(i).slice(0,e).join("").replaceEmoji();if(t[e-2]&&t[e-2].match(/@|[+]/))return void this.$(".mentions-list").hide()}if(this.model.get("group_chat")){let e=this.quill.selection.lastRange&&this.quill.selection.lastRange.index,a=Array.from(i).slice(0,e).join("").replace(/\n$/,"").replaceEmoji(),n=Array.from(a.matchAll(/(^|\s)@(\w+)?/g)),s=Array.from(a.matchAll(/(^|\s)[+](\w+)?/g)),o=n.length?n.slice(-1)[0].index:-1,d=s.length?s.slice(-1)[0].index:-1,r=t(o,d);if(this.quill.selection.lastRange&&"mention"===this.quill.getLeaf(this.quill.selection.lastRange.index)[0].parent.domNode.tagName.toLowerCase())return void this.$(".mentions-list").hide();if(-1<e&&-1!==r||this.$(".mentions-list").hide(),-1<r){let t=Array.from(a).slice(r,e).join("").replace(/\s?(@|[+])/,"");this.contact.participants.length&&0<this.contact.participants.version&&this.contact.get("group_info")&&this.contact.participants&&this.contact.get("group_info").members_num==this.contact.participants.length?this.updateMentionsList(t):this.contact.participants.participantsRequest({version:0},()=>{this.updateMentionsList(t)})}else this.$(".mentions-list").hide()}}n.updateRichTextarea(),this.focusOnInput(),a.chat_body.updateHeight()},onCut:function(){this.$(".fwd-messages-preview").hasClass("hidden")?this.displayMicrophone():this.displaySend()},onPaste:function(e){e.preventDefault();let t=r(e.target),n=e.clipboardData;if(n)if(0<n.files.length){let e=n.files[n.files.length-1],t=window.URL.createObjectURL(new Blob([e]));d.dialogs.ask(a.getString("dialog_send_image_from_clipboard__header"),a.getString("dialog_send_image_from_clipboard__confirm"),{blob_image_from_clipboard:t},{ok_button_text:a.getString("chat_send")}).done(t=>{t&&(e.name="clipboard.png",this.view.addFileMessage([e]))})}else if(0<n.items.length){let e=n.items[n.items.length-1];if("file"===e.kind){let t=e.getAsFile(),n=new FileReader,i=new r.Deferred;n.onload=function(e){let t={blob_image_from_clipboard:e.target.result};d.dialogs.ask(a.getString("dialog_send_image_from_clipboard__header"),a.getString("dialog_send_image_from_clipboard__confirm"),t,{ok_button_text:a.getString("chat_send")}).done(e=>{e&&i.resolve()})},i.done(()=>{t.name="clipboard.png",this.view.addFileMessage([t])}),n.readAsDataURL(t)}else{let e=u.escape(n.getData("text")),t=Array.from(e);t.forEach((e,a)=>{"\n"==e&&t.splice(a,1,"<br>")}),e="<p>"+t.join("").emojify({tag_name:"span"})+"</p>",window.document.execCommand("insertHTML",!1,e)}}else{let e=u.escape(n.getData("text")),t=Array.from(e);t.forEach((e,a)=>{"\n"==e&&t.splice(a,1,"<br>")," "==e&&t.splice(a,1,"&nbsp")}),e="<p>"+t.join("").emojify({tag_name:"span"})+"</p>",window.document.execCommand("insertHTML",!1,e)}!t.getTextFromRichTextarea().replace(/\n$/,"")||this.view.chat_state||this.view.edit_message||this.view.sendChatState("composing"),this.focusOnInput(),a.chat_body.updateHeight()},onFileInputChanged:function(e){let t=e.target,a=[];for(let n=0;n<t.files.length;n++)a.push(t.files[n]);this.view.addFileMessage(a),r(t).val("")},stopWritingVoiceMessage:function(){let e=this.$(".message-input-panel");if(0<e.find(".recording").length)return void e.find(".recording").removeClass("recording")},writeVoiceMessage:function(e){let t=r(e.target);t.hasClass("recording")?t.removeClass("recording"):(t.addClass("recording ground-color-50"),this.initAudio())},initAudio:function(){if(navigator.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.webkitGetUserMedia,navigator.getUserMedia){let t=[],n=this.$(".send-area .attach-voice-message");window.navigator.getUserMedia({audio:!0},i=>{if(!n.is(":hover"))return void n.removeClass("recording ground-color-50");let o=new MediaRecorder(i),r=1,c=!0,l,u;o.onstart=()=>{this.view.sendChatState("composing","voice"),this._chatstate_send_timeout=setInterval(()=>{this.view.sendChatState("composing","voice")},s.CHATSTATE_INTERVAL_COMPOSING_AUDIO),l=p.now();let e=this.$(".message-input-panel"),t=this.$(".input-voice-message .timer"),i=this.$(".input-voice-message .voice-msg-status"),u=this.$(".input-voice-message .voice-visualizer");t.text("0:00"),i.css("color","#9E9E9E").text(a.getString("chat_bottom__placeholder__cancel_write_voice")),e.addClass("voice-message-recording");let m=setInterval(()=>{n.hasClass("recording")&&r<s.VOICE_MSG_TIME?(0==r%1&&t.text(d.pretty_duration(r)),r=(10*r+2)/10,c=e.is(":hover"),c?i.css("color","#9E9E9E").text(a.getString("chat_bottom__placeholder__cancel_write_voice")):i.css("color","#D32F2F").text(a.getString("chat_bottom__placeholder__cancel_write_voice_short"))):(c=e.is(":hover"),o.stop(),n.removeClass("recording ground-color-50"),e.removeClass("voice-message-recording"),clearInterval(m))},200),g=!1,h=setInterval(()=>{n.hasClass("recording")?(g?u.css("background-color","#FFF"):u.css("background-color","#D32F2F"),g=!g):clearInterval(h)},500)},o.start(),o.onstop=()=>{if(clearInterval(this._chatstate_send_timeout),this.view.sendChatState("paused"),u=p.now(),c&&1.5<=(u-l)/1e3){let a="voice message "+p().format("YYYY-MM-DD HH:mm:ss")+".ogg",n=new Blob(t,{type:"audio/ogg; codecs=opus"}),i=new File([n],a,{type:"audio/ogg; codecs=opus"});i.voice=!0,i.duration=e((u-l)/1e3),this.view.addFileMessage([i])}t=[]},o.ondataavailable=a=>{t.push(a.data),i.getTracks().forEach(e=>e.stop())}},e=>{console.log(a.getString("file_upload__error",[e])),n.removeClass("recording ground-color-50")})}},typeEmoticon:function(e){"number"==typeof e&&(e=(+e).toString());let t=-1;this.quill.selection.lastRange?t=this.quill.selection.lastRange.index:this.quill.selection.savedRange&&(t=this.quill.selection.savedRange.index),this.quill.focus(),this.edit_message||this.displaySend(),this.view.chat_state||this.view.sendChatState("composing"),this.quill.insertEmbed(t,"emoji",e),this.quill.getFormat(t,1).mention&&this.quill.formatText(t,1,"mention",!1),this.quill.setSelection(t+1),a.chat_body.updateHeight()},renderLastEmoticons:function(){let e=this.account.chat_settings.getLastEmoji(),t=this.$(".last-emoticons").empty(),a;if(7>e.length)for(let e=0;7>e;e++)a=h.getByIndex(e),this.account.chat_settings.updateLastEmoji(a);e=this.account.chat_settings.getLastEmoji();for(let a=0;7>a;a++)r("<div class=\"emoji-wrap\"/>").html(e[a]&&e[a].emojify({tag_name:"div",emoji_size:20})).appendTo(t);t.find(".emoji-wrap").mousedown(e=>{if(e&&e.preventDefault&&e.preventDefault(),!e.button){let t=r(e.target).closest(".emoji-wrap").find(".emoji");this.typeEmoticon(t.data("emoji"))}})},submit:function(){let e=this.$(".input-message .rich-textarea"),t=[],n=[],i=[],o=e.getTextFromRichTextarea();this.$(".mentions-list").html("").hide(),e.find(".emoji").each((e,t)=>{let a=t.innerText;this.account.chat_settings.updateLastEmoji(a)});let c=[];if(o.length>=s.STANZA_MAX_SIZE)return d.dialogs.error(a.getString("message__error_big_stanza")),void e.flushRichTextarea();o.length&&this.quill.getContents().forEach(a=>{if(a.attributes){let d=[],l=c.length,p=l+(a.insert&&a.insert.emoji?1:u.escape(a.insert).length);for(let e in a.attributes)"alt"!=e&&"blockquote"!==e&&d.push(e);if(-1<d.indexOf("mention")){let a=d.indexOf("mention"),n=this.contact.get("group_chat"),i=r(e.find("mention")[t.length]).attr("data-target");d.splice(a,a+1),i=n?"xmpp:"+this.contact.get("jid")+i:"xmpp:"+i,t.push({start:l,end:p,target:i,is_gc:n})}a.attributes.blockquote&&c.length&&Array.from(a.insert).forEach(e=>{let t=0>c.lastIndexOf("\n")?0:c.lastIndexOf("\n")+1,a=c.length;i.push({marker:s.QUOTE_MARKER,start:t,end:a+s.QUOTE_MARKER.length}),o=Array.from(u.escape(o)),t===a?(o[t-1]+=s.QUOTE_MARKER,c[t]=s.QUOTE_MARKER):(o[t]=s.QUOTE_MARKER+o[t],c[t]=s.QUOTE_MARKER+c[t]),a>o.length&&(a=o.length),o[a-1]+="\n",o=u.unescape(o.join("")),c=Array.from(c.join("")),n.forEach(e=>{e.start>=t&&(e.start+=s.QUOTE_MARKER.length,e.end+=s.QUOTE_MARKER.length)}),c=c.concat(Array.from(u.escape(e)))}),d.length&&n.push({start:l,end:p,markup:d})}a.insert&&a.insert.emoji?c=c.concat(Array.from(r(a.insert.emoji).data("emoji"))):a.attributes&&a.attributes.blockquote||(c=c.concat(Array.from(u.escape(a.insert))))});let l=o.length;if(o=o.trimStart(),l>o.length){let e=l-o.length;t.forEach(t=>{t.start-=e,t.end-=e}),n.forEach(t=>{t.start-=e,t.end-=e}),i.forEach(t=>{t.start-=e,t.end-=e})}return o=o.trimEnd(),e.flushRichTextarea(),this.quill.focus(),this.displayMicrophone(),this.edit_message?(this.editMessage(o,{mentions:t,markup_references:n,blockquotes:i}),void e.placeCaretAtEnd()):void((o||this.fwd_messages.length)&&(this.model.get("saved")&&this.fwd_messages.length&&!o?this.fwd_messages.forEach(e=>{this.view.onSubmit("",[e])}):this.view.onSubmit(o,this.fwd_messages,{mentions:t,markup_references:n,blockquotes:i})),this.unsetForwardedMessages(),a.chats_view.clearSearch(),this.model.messages_view&&this.model.messages_view.data.get("visible")&&a.chats_view.openChat(this.model.item_view,{clear_search:!0,screen:a.body.screen.get("name")}),e.placeCaretAtEnd())},setEditedMessage:function(e){this.click_counter=0,this.setDefaultPlaceholder();let t=e.get("message")||"";this.$(".fwd-messages-preview").showIf(this.edit_message),this.$(".fwd-messages-preview .msg-author").text(a.getString("edit_message__header")),this.$(".fwd-messages-preview .msg-text").html(l.xmlescape(t)),this.$(".fwd-messages-preview").emojify(".msg-text",{emoji_size:18}),this.displaySend(),a.chat_body.updateHeight();let n=d.markupBodyMessage(e),i=n.emojify({tag_name:"div"}),s=Array.from(i);s.forEach((e,t)=>{"\n"==e&&(s[t]="<br>")}),i=s.join(""),this.quill.setText(""),this.quill.pasteHTML(0,i,"user"),this.focusOnInput()},setForwardedMessages:function(e){if(this.fwd_messages=e||[],this.$(".fwd-messages-preview").showIf(e.length),e.length){let t=e[0],n,i,s,o;if(1<e.length)i=a.getQuantityString("forwarded_messages_count",e.length);else if(t.get("forwarded_message"))i=a.getQuantityString("forwarded_messages_count",e.length);else{i=(t.get("message")||t.get("original_message")).emojify();let e=t.get("images"),n=t.get("files");if(e&&n)i=t.get("images").length+t.get("files").length+" attachments";else if(e&&(1<e.length?i=a.getString("recent_chat__last_message__images",[e.length]):(s=u.clone(t.get("images")[0]),o=this.createPreviewImage(s))),n)if(1<t.get("files").length)i=a.getString("recent_chat__last_message__files",[t.get("files").length]);else{let e=t.get("files")[0].size;i=e?t.get("files")[0].name+",   "+e:t.get("files")[0].name}}let d=t.get("from_jid");n=t.isSenderMe()?this.account.get("name"):t.get("user_info")&&t.get("user_info").nickname||(this.account.contacts.get(d)?this.account.contacts.get(d).get("name"):d),this.$(".fwd-messages-preview .msg-author").text(n),u.isUndefined(s)?this.$(".fwd-messages-preview .msg-text").html(i):this.$(".fwd-messages-preview .msg-text").html(o)}a.chat_body.updateHeight(),this.displaySend()},onShowMarkupPanel:function(e){let t=r(e.target),a=t.hasClass("opened");this.$(".last-emoticons").showIf(a),this.$(".markup-panel").showIf(!a),t.switchClass("opened",!a)},createPreviewImage:function(e){let t=new Image;return t.src=e.sources[0],r(t).addClass("fwd-img-preview"),t},unsetForwardedMessages:function(e){e&&e.preventDefault&&e.preventDefault();let t=this.$(".input-message .rich-textarea");this.fwd_messages=[],this.edit_message&&t.flushRichTextarea(),this.edit_message=null,this.$(".fwd-messages-preview").addClass("hidden");let n=t.getTextFromRichTextarea();n&&"\n"!=n?this.displaySend():this.displayMicrophone(),a.chat_body.updateHeight(),this.focusOnInput()},resetSelectedMessages:function(){this.content_view.$(".chat-message.selected").removeClass("selected"),this.manageSelectedMessages()},manageSelectedMessages:function(){let e=this.content_view.$(".chat-message.selected"),t=this.$(".message-input-panel"),n=this.$(".message-actions-panel");if(length=e.length,t.hideIf(this.model.get("blocked")||length),n.showIf(length),this.model.get("blocked")&&this.$(".blocked-msg").hideIf(length),length){this.setButtonsWidth();let t=!1;1===length&&(e.first().data("from")===this.account.get("jid")&&(t=!0),this.contact&&this.contact.my_info&&e.first().data("from")===this.contact.my_info.get("id")&&(t=!0)),n.find(".pin-message-wrap").showIf(this.model.get("group_chat")).switchClass("non-active",1!==length&&this.model.get("group_chat")),n.find(".reply-message-wrap").switchClass("non-active",this.model.get("blocked")),n.find(".edit-message-wrap").switchClass("non-active",!(1===length&&t)||this.content_view.$(".chat-message.saved-main.selected").length||this.model.get("blocked")),this.view.$(".chat-notification").hasClass("encryption-warning")||this.view.$(".chat-notification").removeClass("hidden").addClass("msgs-counter").text(a.getQuantityString("chat_screen__bottom_panel__selected_messages__text",length))}else this.view.$(".chat-notification").hasClass("encryption-warning")||this.view.$(".chat-notification").addClass("hidden").removeClass("msgs-counter").text(""),this.focusOnInput()},pinMessage:function(){if(this.model.get("active")&&!this.$(".pin-message-wrap").hasClass("non-active")){let e=this.content_view.$(".chat-message.selected").first(),t=this.messages_arr.get(e.data("uniqueid")),n=t.get("stanza_id");this.resetSelectedMessages();let s=i({from:this.account.get("jid"),type:"set",to:this.contact.get("full_jid")||this.contact.get("jid")}).c("update",{xmlns:l.NS.GROUP_CHAT}).c("pinned-message").t(n);this.account.sendIQ(s,()=>{},e=>{r(e).find("not-allowed").length&&d.dialogs.error(a.getString("groupchat_you_have_no_permissions_to_do_it"))})}},copyMessages:function(){if(!this.model.get("active"))return;let e=this.content_view.$(".chat-message.selected"),t=[];e.each((e,a)=>{let n=this.messages_arr.get(a.dataset.uniqueid);n&&t.push(n)}),this.resetSelectedMessages(),this.pushMessagesToClipboard(t)},editMessage:function(e,t){let a=l.xmlescape(this.edit_message.get("original_message")||""),n="",s=this.edit_message.get("mutable_content"),o=s&&s.find(e=>"groupchat"===e.type),d=this.edit_message.get("stanza_id"),r=s&&s.filter(e=>"forward"===e.type),c=t.markup_references||[],p=t.blockquotes||[],u=t.mentions||[],m=i({from:this.account.get("jid"),type:"set",to:this.contact&&this.contact.get("group_chat")?this.contact.get("jid"):this.account.get("jid")}).c("replace",{xmlns:l.NS.REWRITE,id:d}),g=$build("message").attrs({xmlns:void 0});if(r&&r.forEach((e,t)=>{let i=this.edit_message.get("forwarded_message")[t],s=o&&o.start+o.end;g.c("reference",{xmlns:l.NS.REFERENCE,begin:o?e.start-s:e.start,end:o?e.end-s:e.end,type:"mutable"}).c("forwarded",{xmlns:l.NS.FORWARD}).c("delay",{xmlns:"urn:xmpp:delay",stamp:i.get("time")}).up().cnode(i.get("xml")).up().up().up(),n+=a.slice(e.start,e.end)}),c.forEach(e=>{for(let t in g.c("reference",{xmlns:l.NS.REFERENCE,begin:e.start+n.length,end:e.end+n.length,type:"decoration"}),e.markup)g.c(e.markup[t],{xmlns:l.NS.MARKUP}).up();g.up()}),p.forEach(e=>{g.c("reference",{xmlns:l.NS.REFERENCE,begin:e.start+n.length,end:e.end+n.length,type:"decoration"}).c("quote",{xmlns:l.NS.MARKUP}).up().up()}),u.forEach(e=>{let t={xmlns:l.NS.MARKUP};e.is_gc&&(t.node=l.NS.GROUP_CHAT),g.c("reference",{xmlns:l.NS.REFERENCE,begin:e.start+n.length,end:e.end+n.length,type:"decoration"}).c("mention",t).t(e.target).up().up()}),g.c("body").t(l.xmlunescape(n)+e).up(),this.unsetForwardedMessages(),this.model.get("encrypted")){let e=g.tree().innerHTML;this.account.omemo.encrypt(this.contact,g).then(t=>{m.cnode(t.message.tree()),this.account.omemo.cached_messages.putMessage(this.contact,d,e),this.account.sendIQ(m)})}else m.cnode(g.tree()),this.account.sendIQ(m)},showEditPanel:function(){if(this.model.get("active")&&!this.$(".edit-message-wrap").hasClass("non-active")){let e=this.content_view.$(".chat-message.selected").first(),t=this.messages_arr.get(e.data("uniqueid"));this.edit_message=t,this.resetSelectedMessages(),this.setEditedMessage(t)}},deleteMessages:function(){if(!this.model.get("active"))return;let e=this.content_view.$(".chat-message.selected"),t=[],n=0,i=[];e.each((e,a)=>{let i=this.messages_arr.get(a.dataset.uniqueid);i&&t.push(i),i.isSenderMe()&&n++}),this.account.server_features.get(l.NS.REWRITE)||this.model.get("group_chat")?(!this.model.get("group_chat")&&!this.model.get("saved")&&n==e.length&&this.contact&&a.servers.get(this.contact.domain).server_features.get(l.NS.REWRITE)&&(i=[{name:"symmetric_deletion",checked:!1,text:a.getString("dialog_clear_chat_history__option_delete_for_all")}]),d.dialogs.ask(a.getString("dialog_delete_messages__header"),a.getQuantityString("delete_message_question",t.length),i,{ok_button_text:a.getString("delete")}).done(e=>{if(!e)return void(this._clearing_history=!1);let a=!!this.model.get("group_chat")||!!e.symmetric_deletion;this.resetSelectedMessages(),this.model.retractMessages(t,this.model.get("group_chat"),a)})):d.dialogs.ask(a.getString("dialog_delete_messages__header"),`${a.getQuantityString("delete_message_question",t.length)}\n${a.getString("dialog_clear_chat_history__warning_deletion_not_supported",[this.account.domain]).fontcolor("#E53935")}`,i,{ok_button_text:a.getString("dialog_clear_chat_history__button_delete_locally")}).done(e=>e?void(this.resetSelectedMessages(),t.forEach(e=>{this.view.removeMessage(e)})):void(this._clearing_history=!1))},pushMessagesToClipboard:function(e){let t=this.createTextMessage(e,"");d.copyTextToClipboard(u.unescape(t))},createTextMessage:function(e,t){let a="";for(let n=0,i;n<e.length;n++){i=e[n],this.model.get("saved")&&i.get("forwarded_message")&&1===i.get("forwarded_message").length&&!i.get("message")&&(i=i.get("forwarded_message")[0]);let s=p(i.get("timestamp")).startOf("day"),o=n?p(e[n-1].get("timestamp")).startOf("day"):p(0),r="";o.format("x")!=s.format("x")&&(a+=(t.length?t+" ":"")+f(s)+"\n"),r=i.isSenderMe()?this.account.get("name"):i.get("user_info")&&i.get("user_info").nickname||(this.account.contacts.get(i.get("from_jid"))?this.account.contacts.get(i.get("from_jid")).get("name"):i.get("from_jid")),a+=(t.length?t+" ":"")+"["+d.pretty_time(i.get("timestamp"))+"] "+r+":\n",t.length&&(a+=t);let c=u.unescape(i.get("mutable_content")&&i.get("mutable_content").find(e=>"groupchat"===e.type)?i.get("original_message").slice(i.get("mutable_content").find(e=>"groupchat"===e.type).end):i.get("original_message"));t.length&&(c=c.replace(/\n/g,"\n&gt; ")),t.length&&0!==c.indexOf("&gt;")&&(a+=" "),c=u.unescape(c.replace(/\n&gt; &gt;/g,"\n&gt;&gt;")),a+=u.escape(c)+"\n"}return a.trim()},replyMessages:function(){if(!this.model.get("active"))return;let e=this.content_view.$(".chat-message.selected"),t=[];e.each((e,a)=>{let n=this.messages_arr.get(a.dataset.uniqueid);n&&(this.model.get("saved")&&n.get("forwarded_message")&&n.get("forwarded_message").length&&!n.get("message")?t=t.concat(n.get("forwarded_message")):t.push(n))}),this.resetSelectedMessages(),this.setForwardedMessages(t)},forwardMessages:function(){if(!this.model.get("active"))return;let e=this.content_view.$(".chat-message.selected"),t=[];e.each((e,a)=>{let n=this.messages_arr.get(a.dataset.uniqueid);n&&(this.model.get("saved")&&n.get("forwarded_message")&&n.get("forwarded_message").length&&!n.get("message")?t=t.concat(n.get("forwarded_message")):t.push(n))}),this.resetSelectedMessages(),a.forward_panel||(a.forward_panel=new a.ForwardPanelView({model:a.opened_chats})),a.forward_panel.open(t,this.account)},showChatNotification:function(e,t){this.view.$(".chat-notification").hasClass("msgs-counter")||this.view.$(".chat-notification").hasClass("encryption-warning")||this.view.$(".chat-notification").switchClass("hidden",!e).text(e).switchClass("text-color-300",t)}}),a.ChatHeadContainer=a.Container.extend({className:"chat-head-container panel-head noselect"}),a.ChatBodyContainer=a.Container.extend({className:"chat-body-container",updateHeight:function(){let e=a.chat_bottom.$el.height()+parseInt(a.chat_bottom.$el.css("bottom"));e&&(this.$el.css({bottom:e}),this.view&&(this.view.updateScrollBar(),this.view.scrolled_to_bottom&&this.view.scrollToBottom()))}}),a.NotificationsPlaceholder=a.BasicView.extend({className:"notifications-placeholder",events:{"click .btn-request-notifications":"requestNotifications","click .mdi-close":"close"},_initialize:function(){this.$el.html(`${a.getString("desktop_notifications__alert_enable__text",[s.CLIENT_NAME])} <span class="btn-request-notifications">${a.getString("desktop_notifications__alert_enable__link_text")}</span><button class="btn-request-notifications btn-flat btn-dark btn-main">${a.getString("chat_allow")}</button>`),this.$el.append(r("<i/>").addClass("mdi mdi-22px mdi-close")),a.on("update_screen",this.onUpdatedScreen,this)},requestNotifications:function(){window.Notification.requestPermission(e=>{a._cache.save({notifications:"granted"===e,ignore_notifications_warning:!0}),this.close()})},onUpdatedScreen:function(){a.notifications_placeholder&&(this.$el.detach(),a.placeholders_wrap.$el.append(this.$el),a.main_panel.$el.css("padding-bottom",a.placeholders_wrap.$el.height()))},close:function(){a._cache.save("ignore_notifications_warning",!0),this.remove(),a.notifications_placeholder=void 0,a.main_panel.$el.css("padding-bottom",a.placeholders_wrap.$el.height())}}),a.ChatBottomContainer=a.Container.extend({className:"chat-bottom-container"}),a.ChatPlaceholderView=a.BasicView.extend({className:"placeholder-wrap chat-placeholder-wrap noselect",template:o.chat_placeholder}),a.ChatSettings=Backbone.ModelWithStorage.extend({defaults:{last_emoji:[],muted:[],archived:[],group_chat:[],cached_avatars:[],group_chat_members_lists:[]},getLastEmoji:function(){return u.clone(this.get("last_emoji"))},updateLastEmoji:function(e){let t=u.clone(this.get("last_emoji"));if(0<t.length){let a=t.indexOf(e);for(-1!=a&&t.splice(a,1),t.push(e);7<t.length;)t.shift()}else t.push(e);this.save("last_emoji",t)},updateMutedList:function(e,t){let a=u.clone(this.get("muted")),n=a.indexOf(e);t&&0>n&&a.push(e),!t&&0<=n&&a.splice(n,1),this.save("muted",a)},updateArchiveChatsList:function(e,t){let a=u.clone(this.get("archived")),n=a.indexOf(e);t&&0>n&&a.push(e),!t&&0<=n&&a.splice(n,1),this.save("archived",a)},updateGroupChatsList:function(e,t){let a=u.clone(this.get("group_chat")),n=a.indexOf(e);t&&0>n&&a.push(e),!t&&0<=n&&a.splice(n,1),this.save("group_chat",a)},updateCachedAvatars:function(e,t,a){let n=u.clone(this.get("cached_avatars")),i=n.indexOf(n.find(t=>t.id===e));-1!=i&&n.splice(i,1),n.push({id:e,avatar_hash:t,avatar_b64:a}),this.save("cached_avatars",n)},getAvatarInfoById:function(e){let t=u.clone(this.get("cached_avatars")),a=t.find(t=>t.id===e);return a},getB64Avatar:function(e){let t=this.getAvatarInfoById(e);return t?t.avatar_b64:void 0},getHashAvatar:function(e){let t=this.getAvatarInfoById(e);if(t)return t.avatar_hash}}),a.CachedChats=Backbone.ModelWithDataBase.extend({putChat:function(e,t){this.database.put("chats_items",e,function(e){t&&t(e)})},getChat:function(e,t){this.database.get("chats_items",e,function(e){t&&t(e)})},getAllChats:function(e){this.database.get_all("chats_items",null,function(t){e&&e(t||[])})},removeChat:function(e,t){this.database.remove("chats_items",e,function(e){t&&t(e)})},clearDataBase:function(){this.database.clear_database("roster_items")}}),a.Account.addInitPlugin(function(){this.chat_settings=new a.ChatSettings({id:"chat-settings"},{account:this,storage_name:a.getStorageName()+this.get("jid"),fetch:"after"}),this.messages=new a.Messages(null,{account:this}),this.forwarded_messages=new a.Messages(null,{account:this}),this.pinned_messages=new a.Messages(null,{account:this}),this.chats=new a.AccountChats(null,{account:this})}),a.Account.addConnPlugin(function(){this.cached_chats=new a.CachedChats(null,{name:"cached-chats-list-"+this.get("jid"),objStoreName:"chats_items",primKey:"jid"}),this.cached_chats.on("database_opened",()=>{});let e=this.last_msg_timestamp||this.disconnected_timestamp;this.chats.registerMessageHandler(),this.chats.each(t=>{this.connection.do_synchronization||(t.messages.length?t.trigger("get_missed_history",e):t.trigger("load_last_history"))}),this.trigger("ready_to_get_roster"),this.connection.deleteTimedHandler(this._get_msg_handler),this._get_msg_handler=this.connection.addTimedHandler(6e4,()=>{if(this.connection&&!this.connection.handlers.find(e=>!e.ns&&!e.options.encrypted&&"message"===e.name)){let e=this.last_msg_timestamp;this.chats.registerMessageHandler(),this.roster&&this.roster.syncFromServer({stamp:1e3*e})}return!0}),u.isUndefined(this.settings.get("omemo"))&&!this.omemo_enable_placeholder&&(this.omemo_enable_placeholder=new a.OMEMOEnablePlaceholder({account:this}))},!0,!0),a.Account.addFastConnPlugin(function(){this.chats.registerFastMessageHandler()},!0,!0),a.once("start",function(){["keydown"].forEach(e=>{window.addEventListener(e,t=>{document.onselectstart=function(){return!((t.ctrlKey||t.metaKey)&&t.keyCode==s.KEY_SHIFT||t.shiftKey&&t.keyCode==s.KEY_CTRL||t.keyCode==s.KEY_SHIFT)}})}),["keyup"].forEach(e=>{window.addEventListener(e,()=>{document.onselectstart=function(){return!0}})}),this.chats=new this.Chats,this.chats.addCollection(this.opened_chats=new this.OpenedChats),this.chats.addCollection(this.closed_chats=new this.ClosedChats),this.chats.registerQuillEmbeddedsTags(),this.chats_view=this.left_panel.addChild("chats",this.ChatsView,{model:this.opened_chats}),this.chat_head=this.right_panel.addChild("chat_head",this.ChatHeadContainer),this.chat_body=this.right_panel.addChild("chat_body",this.ChatBodyContainer),this.chat_bottom=this.right_panel.addChild("chat_bottom",this.ChatBottomContainer),this.chat_placeholder=this.right_panel.addChild("chat_placeholder",this.ChatPlaceholderView),this.on("add_group_chat",function(e){this.add_group_chat_view||(this.add_group_chat_view=new this.AddGroupChatView),this.add_group_chat_view.show(e)},this),this.on("change:focused",function(){if(this.get("focused")){let e=this.chats_view.active_chat;e&&e.model.get("display")&&(e.content.readMessages(),!1!==e.model.get("is_accepted")&&e.content.bottom.focusOnInput())}},this),this.on("show_group_chats",function(){this.chats_view.showGroupChats()},this),this.on("show_chats",function(){this.chats_view.showChats()},this),this.on("show_account_chats",function(e,t){this.chats_view.showChatsByAccount(t)},this),this.on("show_archive_chats",function(){this.chats_view.showArchiveChats()},this),this.on("clear_search",function(){this.contacts_view.clearSearch(),this.chats_view.clearSearch()},this)},a),a}}),define("xabber-searching",[],function(){return function(e){let t=e.env,a=t.constants,n=t.templates.searching,i=t.utils,s=t.$,o=t.$iq,d=t.Strophe,r=t._,c=i.images;return e.DiscoveringView=e.BasicView.extend({className:"searching-main noselect",template:n.searching_wide,ps_selector:".chats-list-wrap",ps_settings:{wheelPropagation:!0,theme:"existing-chats-list"},avatar_size:a.AVATAR_SIZES.SYNCHRONIZE_ACCOUNT_ITEM,events:{"click .account-field .dropdown-content":"selectAccount","click .btn-cancel":"close","click .btn-search":"search","click .existing-chat-wrap":"getChatProperties","keyup .search-input":"keyUp"},_initialize:function(){this.data.on("change:color",this.colorUpdated,this),this.$(".searching-properties-field .dropdown-button").on("click",()=>{this.toggleProperties()})},render:function(t){this.endDiscovering(),this.data.set("color","#9E9E9E"),t||(t={});let a=e.accounts.connected,n=t.jid||"";return this.$(".single-acc").showIf(1===a.length),this.$(".multiple-acc").hideIf(1===a.length),this.$(".account-field .dropdown-content").empty(),r.each(a,e=>{this.$(".account-field .dropdown-content").append(this.renderAccountItem(e))}),a.length&&this.bindAccount(a[0]),this.$("#select-searching-properties .account-field .dropdown-button").dropdown({inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,alignment:"left"}),this},toggleProperties:function(){let e=this.isPropertiesVisible();this.$("#select-searching-properties").slideToggle("fast"),this.$(".arrow").switchClass("mdi-chevron-up",!e),this.$(".arrow").switchClass("mdi-chevron-down",e)},isPropertiesVisible:function(){return"none"!==this.$("#select-searching-properties").css("display")},discover:function(){let e=r.escape(this.$(".search-input.simple-input-field").val());if(e){this.isPropertiesVisible()&&this.toggleProperties(),this.$(".searching-more").html("");let t=this.$("#searching_property_title").val(),a=this.$("#searching_property_sort_by").val();this.$(".searching-result-wrap .preloader-wrapper").show(),this.searchExistingGroupChats(e)}},setColor:function(){if(this.account){let e=this.account.settings.get("color");this.data.set("color",e)}},colorUpdated:function(){let e=this.data.get("color");this.$el.attr("data-color",e)},keyUp:function(e){""===this.$(".search-input").val()?this.$(".btn-search").addClass("none-active"):this.$(".btn-search").removeClass("none-active"),e.keyCode===a.KEY_ENTER&&this.discover()},searchExistingGroupChats:function(e){this.account.connection.disco.items(e,null,this.getGroupchatService.bind(this),this.onDiscoveringError.bind(this))},onDiscoveringError:function(t){this.endDiscovering(),this.$(".chats-list").html(""),this.$(".result-string").text(e.getString("discover__no_matches",[s(t).attr("from")]))},endDiscovering:function(){this.$(".searching-result-wrap .preloader-wrapper").hide()},getGroupchatService:function(e){s(e).find("query item").each((e,t)=>{if(s(t).attr("node")===d.NS.GROUP_CHAT){let e=s(t).attr("jid");this.getGroupchatFeatures(e)}}),this.endDiscovering()},getGroupchatFeatures:function(e){let t=o({type:"get",to:e}).c("query",{xmlns:d.NS.DISCO_INFO,node:d.NS.GROUP_CHAT});this.account.sendIQ(t,this.getServerInfo.bind(this),this.onDiscoveringError.bind(this))},getServerInfo:function(e){s(e).find("query identity").each((t,a)=>{let n=s(a);if("conference"===n.attr("category")&&"server"===n.attr("type")){let t=s(e).attr("from");this.getChatsFromSever(t)}})},getChatsFromSever:function(t){let a=o({type:"get",to:t}).c("query",{xmlns:d.NS.DISCO_ITEMS,node:d.NS.GROUP_CHAT});this.account.sendIQ(a,t=>{this.$(".chats-list").html(""),s(t).find("query item").each((e,t)=>{let a=s(t),i=a.attr("name"),o=a.attr("jid"),d=s(n.existing_groupchat_item({name:i,jid:o,color:this.account.settings.get("color")})),r=c.getDefaultAvatar(i);d.find(".circle-avatar").setAvatar(r,32),d.appendTo(this.$(".searching-result-wrap .chats-list"))}),this.$(".result-string").text(e.getString("discover__text_discovered_groups",[s(t).find("query item").length,this.account.get("jid")]))})},bindAccount:function(e){this.account=e,this.$(".account-field .dropdown-button .account-item-wrap").replaceWith(this.renderAccountItem(e)),this.setColor()},renderAccountItem:function(e){let t=s(n.searching_account_item({jid:e.get("jid")}));return t},selectAccount:function(t){let a=s(t.target).closest(".account-item-wrap"),n=e.accounts.get(a.data("jid"));this.bindAccount(n)},getChatProperties:function(t){let a=s(t.target).closest(".existing-chat-wrap"),n=a.data("jid"),i=a.data("name"),r=o({type:"get",to:n}).c("query",{xmlns:d.NS.DISCO_INFO});this.account.sendIQ(r,t=>{let a=s(t),o=a.find("field[var=\"description\"] value").text(),d=a.find("field[var=\"anonymous\"] value").text(),r=a.find("field[var=\"model\"] value").text();this.more_info_view=this.addChild("groupchat_properties",e.MoreInfoView,{model:this,chat_properties:{jid:n,name:i,privacy:d,description:o,membership:r},el:this.$(".searching-more")[0]})})}}),e.MoreInfoView=e.BasicView.extend({className:"searching-main noselect",template:n.existing_groupchat_details_view,events:{"click .btn-join-chat":"joinChat"},_initialize:function(e){this.account=this.model.account,this.chat_properties=e.chat_properties,this.$el.html(this.template(this.chat_properties))},render:function(){},joinChat:function(){let e=this.account.contacts.mergeContact(this.chat_properties.jid);e.set("group_chat",!0),e.acceptRequest(),e.pushInRoster(null,()=>{e.askRequest(),e.getMyInfo(),e.sendPresent()}),e.trigger("open_chat",e)}}),e.Searching=Backbone.Model.extend({initialize:function(e){this.account=e.account},getSearchingFields:function(){let e=o({from:this.account.get("jid"),type:"get",to:"index.xabber.com"}).c("query",{xmlns:d.NS.INDEX+"#groupchat"});this.account.sendIQ(e,this.parseSearchingFields)},parseSearchingFields:function(e){let t=s(e),a=t.find(`x[xmlns = "${d.NS.XDATA}"] field`),n=[];a.each((e,t)=>{let a=s(t);"hidden"!==a.attr("type")&&n.push({var:a.attr("var"),label:a.attr("label")})})}}),e.LocalSearchingView=e.BasicView.extend({className:"",events:{},_initialize:function(e){this.account=e.account},render:function(){},search:function(){}}),e.GlobalSearchingView=e.BasicView.extend({className:"",events:{},_initialize:function(e){this.account=e.account,this.indexed_chats=[]},render:function(){},search:function(e){this.indexed_chats=[];let t=o({to:"index.xabber.com",type:"set",from:this.account.get("jid")}).c("query",{xmlns:d.NS.INDEX+"#groupchat"}).c("x",{xmlns:d.NS.XDATA,type:"form"}).c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t(d.NS.INDEX+"#groupchat").up().up();e.description&&t.c("field",{var:"description"}).c("value").t(e.description).up().up(),e.name&&t.c("field",{var:"name"}).c("value").t(e.name).up().up(),e.model&&t.c("field",{var:"model"}).c("value").t(e.model).up().up(),e.anywhere&&t.c("field",{var:"anywhere"}).c("value").t(e.anywhere).up().up(),this.account.sendIQ(t,this.onSearched.bind(this))},onSearched:function(e){let t=s(e),a=s(t.find("query item groupchat"));a.each((e,t)=>{let a=s(t),n=a.attr("jid"),i={jid:n},o=a.children();o.each((e,t)=>{let a=s(t),n=a[0].tagName.replace(/-/g,"_"),o=a.text();r.extend(i,{[n]:o})}),this.indexed_chats.push(i)})}}),e.once("start",function(){this.discovering=this.wide_panel.addChild("discovering_main",this.DiscoveringView)},e),e}}),define("xabber-mentions",[],function(){return function(e){let t=e.env,a=t.constants,n=t.templates.mentions,i=t.utils,s=t.$,o=t.Strophe,d=t._,r=i.images,c=t=>i.pretty_datetime(t,("ru-RU"==e.settings.language||"default"==e.settings.language&&"ru-RU"==e.get("default_language"))&&"D MMMM YYYY HH:mm:ss");return e.Mention=Backbone.Model.extend({defaults:{active:!1,display:!1,timestamp:0},initialize:function(t,a){this.contact=a.contact,this.message=a.message,this.id=this.message.get("unique_id"),this.set("timestamp",this.message.get("timestamp")),this.account=this.contact.account,this.item_view=new e.MentionItemView({model:this}),this.contact.on("destroy",this.destroy,this),this.message.on("change:last_replace_time",this.onMessageUpdated,this)},onMessageUpdated:function(){this.message.get("mentions")&&this.message.get("mentions").length?this.message.get("mentions").forEach(e=>{let t=e.target||"",a=t.match(/\?id=\w*/),n=t.match(/\?jid=.*/);t=a?a[0].slice(4):n?n[0].slice(5):"",a?this.contact.my_info?t===this.contact.my_info.get("id")?this.item_view.updateLastMessage():this.destroy():this.contact.get("group_chat")&&(this._pending_my_info?this._pending_my_info.done(()=>{t===this.contact.my_info.get("id")?this.item_view.updateLastMessage():this.destroy(),this._pending_my_info=null}):(this._pending_my_info=new s.Deferred,this.contact.getMyInfo(()=>{t===this.contact.my_info.get("id")?this.item_view.updateLastMessage():this.destroy(),this._pending_my_info.resolve()}))):n&&t===this.account.get("jid")?this.item_view.updateLastMessage():this.destroy()}):this.destroy()}}),e.MentionsBase=Backbone.Collection.extend({model:e.Mention}),e.AccountMentions=e.MentionsBase.extend({initialize:function(e,t){this.account=t.account,this.on("add",this.onMentionAdded,this)},onMentionAdded:function(t){e.mentions.add(t)}}),e.Mentions=e.MentionsBase.extend({comparator:"timestamp",initialize:function(){this.collections=[],this.on("add",d.bind(this.updateInCollections,this,"add")),this.on("change",d.bind(this.updateInCollections,this,"change"))},addCollection:function(e){this.collections.push(e)},updateInCollections:function(e,t){d.each(this.collections,function(a){a.update(t,e)})}}),e.MentionsView=e.SearchPanelView.extend({className:"mentions-container container",ps_selector:".mentions-list-wrap",main_container:".mentions-list",ps_settings:{theme:"item-list"},template:n.mentions_panel,_initialize:function(){this.active_mention=null,this.keyup_timeout=null,this.model.on("add",this.onMentionAdded,this),this.model.on("change:active",this.onChangedActiveStatus,this),this.model.on("destroy",this.onMentionRemoved,this),e.accounts.on("list_changed",this.updateLeftIndicator,this),this.ps_container.on("ps-scroll-y",this.onScrollY.bind(this)),this.$("input").on("input",this.updateSearch.bind(this))},render:function(e){!e.right&&this.active_mention&&(this.active_mention.model.set("active",!1),this.active_mention=null),("chat"!==e.right&&"contact_details"!==e.right&&"message_context"!==e.right&&"participant_messages"!==e.right||e.clear_search&&"chat"===e.right)&&this.clearSearch()},onMentionAdded:function(e){this.addChild(e.id,e.item_view),this.updateMentionPosition(e)},onMentionRemoved:function(e,t){t=t||{},this.active_mention===this.child(e.id)&&(this.active_mention=null),this.removeChild(e.id,t),this.updateScrollBar()},selectItem:function(e){this.clearSearchSelection();let t=this.$(".list-item[data-id=\""+e+"\"]");t.length?this.selection_id=e:(t=this.$(".list-item:visible").first(),this.selection_id=t.data("id")),t.find(".mention-info-wrap").addClass("selected")},clearSearchSelection:function(){this.selection_id=null,this.$(".list-item.selected").removeClass("selected"),this.$(".list-item .selected").removeClass("selected")},onEnterPressed:function(t){let a;t.closest(".searched-lists-wrap").length?(this.clearSearch(),this.$(".list-item.active").removeClass("active"),t.hasClass("chat-item")&&(a=e.chats_view.child(t.data("id")),a&&a.open({screen:e.body.screen.get("name"),clear_search:!1}),t.addClass("active")),t.hasClass("roster-contact")&&(a=e.accounts.get(t.data("account")).chats.get(e.accounts.get(t.data("account")).contacts.get(t.data("jid")).hash_id),a&&(a=a.item_view),a&&e.chats_view.openChat(a,{clear_search:!1,screen:e.body.screen.get("name")}),t.addClass("active")),t.hasClass("message-item")&&t.click()):t.find(".mention-info-wrap").click()},replaceMentionItem:function(e,t){let a=this.child(e.id);if(a&&e.get("timestamp")){a.$el.detach();let n=t.indexOf(e);0===n?this.$(".mentions-list").append(a.$el):this.$(".mention-item").eq(-n).before(a.$el);let i=a.$el.prev(".mention-item"),s=a.$el.next(".mention-item"),o=a.$el.data("contact-jid");if(i.length){let e=i.data("contact-jid");e!==o&&a.$el.find(".group-chat-title-wrap").removeClass("hidden")}else a.$el.find(".group-chat-title-wrap").removeClass("hidden");if(s.length){let e=s.data("contact-jid");e===o?s.find(".group-chat-title-wrap").addClass("hidden"):s.find(".group-chat-title-wrap").removeClass("hidden")}else a.$el.find(".group-chat-title-wrap").removeClass("hidden")}},readAllMentions:function(){e.accounts.connected.forEach(e=>{let t=d.clone(e.unread_mentions.models);d.each(t,t=>{let a=t.message.get("msgid"),n=t.message.get("archive_id"),i=t.message.get("contact_archive_id"),s=e.chats.getChat(t.contact);t.message.set("is_unread",!1),s.sendMarker(a,"displayed",n,i)})})},updateLeftIndicator:function(e){this.$el.attr("data-indicator",1<e.connected.length)},updateMentionPosition:function(e){let t=this.child(e.id);t&&this.replaceMentionItem(e,this.model)},onChangedActiveStatus:function(e){if(e.get("active")){let t=this.active_mention;this.active_mention=this.child(e.id),t&&t.model.set("active",!1)}}}),e.MentionItemView=e.BasicView.extend({className:"mention-item list-item",template:n.mention_item,avatar_size:a.AVATAR_SIZES.CHAT_ITEM,events:{"click .mention-info-wrap":"openByClick"},_initialize:function(){this.account=this.model.account,this.contact=this.model.contact,this.$el.attr("data-id",this.model.id),this.$el.attr("data-contact-jid",this.contact.get("jid")),this.updateContactName(),this.updateGroupChat(),this.updateName(),this.updateLastMessage(),this.updateAvatar(),this.updateColorScheme(),this.updateCounter(),this.updateIcon(),this.model.on("change:active",this.updateActiveStatus,this),this.account.settings.on("change:color",this.updateColorScheme,this),this.contact.on("change:name",this.updateContactName,this),this.contact.on("change:group_chat",this.updateGroupChat,this),this.model.message.on("change:is_unread",this.updateCounter,this)},updateName:function(){let e=this.model.message,t=e.get("user_info")||e.isSenderMe()&&this.contact.my_info&&this.contact.my_info.attributes,a=this.contact.get("name");t&&(a=t.nickname||t.jid||t.id||this.model.message.get("from_jid")),this.$(".chat-title").text(a)},updateIcon:function(){this.$(".contact-icon .group-chat-icon").hideIf(!this.contact.get("group_chat")&&this.contact.get("jid")===this.account.domain),this.$(".contact-icon .server-icon").hideIf(this.contact.get("jid")!==this.account.domain)},updateContactName:function(){let e=this.contact.get("name");if(this.$(".group-chat-name").text(e),!this.contact.get("group_chat")&&(this.updateName(),!this.contact.get("photo_hash"))){let t=r.getDefaultAvatar(e);this.$(".circle-avatar").setAvatar(t,this.avatar_size)}},updateGroupChat:function(){this.updateIcon()},updateCounter:function(){let t=this.model.message.get("is_unread");this.$(".msg-counter").switchClass("hidden",!t),t?this.account.unread_mentions.add(this.model):this.account.unread_mentions.remove(this.model),e.toolbar_view.recountAllMessageCounter()},updateLastMessage:function(){let t=this.model.message;if(!t)return;let a=t.get("time"),n=t.get("timestamp"),o=t.get("forwarded_message"),d=t.get("files")||[],r=t.get("images")||[],l=o?t.get("message")||e.getString("forwarded_messages_count",o.length).italics():t.getText();if(this.model.set({timestamp:n}),d.length||r.length){let t=s("<span class=\"text-color-500\"/>");if(d.length&&r.length)l=t.text(e.getString("recent_chat__last_message__attachments",[d.length+r.length]));else{if(0<d.length){let a=0;d.forEach(e=>{a+=+e.size}),l=t.text(e.getQuantityString("recent_chat__last_message__files",d.length)+(0<a?`, ${i.pretty_size(a)}`:""))}if(0<r.length){let a=0;r.forEach(e=>{a+=+e.size}),l=t.text(e.getQuantityString("recent_chat__last_message__images",r.length)+(0<a?`, ${i.pretty_size(a)}`:""))}}this.$(".last-msg").text("").append(l)}else this.$(".last-msg").text(l);this.$el.emojify(".last-msg",{emoji_size:16}),this.$(".last-msg-date").text(i.pretty_short_datetime(a)).attr("title",c(a))},updateActiveStatus:function(){this.$el.find(".mention-info-wrap").switchClass("active",this.model.get("active"))},updateAvatar:function(){let e=this.model.message,t=e.get("user_info")||e.isSenderMe()&&this.contact.my_info&&this.contact.my_info.attributes,a;if(!t)a=this.contact.cached_image,this.$(".circle-avatar").setAvatar(a,this.avatar_size);else if(!t.avatar){let e=r.getDefaultAvatar(t.nickname||t.jid||t.id);this.$(".circle-avatar").setAvatar(e,this.avatar_size)}else if(a=t.b64_avatar||this.account.chat_settings.getB64Avatar(t.id),a)this.$(".circle-avatar").setAvatar(a,this.avatar_size);else{let e=o.NS.PUBSUB_AVATAR_DATA+"#"+t.id;this.contact.getAvatar(t.avatar,e,e=>{a=e,this.account.chat_settings.updateCachedAvatars(t.id,t.avatar,e),this.$(".circle-avatar").setAvatar(a,this.avatar_size)},()=>{let e=r.getDefaultAvatar(t.nickname||t.jid||t.id);this.$(".circle-avatar").setAvatar(e,this.avatar_size)})}},openByClick:function(){let e=this.model.message,t=this.account.chats.getChat(this.contact);this.model.message.set("is_unread",!1),t.sendMarker(e.get("origin_id"),"displayed",e.get("stanza_id"),e.get("contact_stanza_id")),this.model.set("active",!0),this.contact.trigger("open_mention",this.contact,e.get("unique_id"))},updateColorScheme:function(){let e=this.account.settings.get("color");this.$el.attr("data-color",e)}}),e.MentionsPlaceholderView=e.BasicView.extend({className:"placeholder-wrap mentions-placeholder-wrap noselect",template:n.mentions_placeholder}),e.Account.addInitPlugin(function(){this.mentions=new e.AccountMentions(null,{account:this}),this.unread_mentions=new e.Mentions(null,{account:this})}),e.once("start",function(){this.mentions=new this.Mentions,this.mentions_view=this.left_panel.addChild("mentions",this.MentionsView,{model:this.mentions}),this.mentions_placeholder=this.right_panel.addChild("mentions_placeholder",this.MentionsPlaceholderView)},e),e}}),define("xabber-ui",[],function(){return function(e){let t=e.env,a=t.constants,n=t.$;return e.once("start",function(){n(window).on("keydown",t=>{(t.ctrlKey||t.metaKey)&&t.keyCode==a.KEY_SHIFT||t.shiftKey&&t.keyCode==a.KEY_CTRL?(this.shift_pressed=null,this.shiftctrl_pressed=!0,t.preventDefault()):t.keyCode==a.KEY_SHIFT&&(this.shift_pressed=!0,t.preventDefault());let n=e.body.screen.attributes;if(t.keyCode===a.KEY_ESCAPE){if(e.body.$el.siblings("#modals").children(".open").length)return;"all-chats"===n.name&&"contact_details"===n.right&&n.contact.trigger("open_chat",n.contact)}if(n.chat_item&&("mentions"===n.name||"contacts"===n.name||"all-chats"===n.name)&&("chat"===n.right||"participant_messages"===n.right||"message_context"===n.right||"searched_messages"===n.right)&&!window.$(".message-actions-panel").hasClass("hidden")&&!t.ctrlKey&&!t.metaKey){switch(t.keyCode){case 67:n.chat_item.model.trigger("copy_selected_messages");break;case 68:n.chat_item.model.trigger("delete_selected_messages");break;case 69:n.chat_item.model.trigger("edit_selected_message");break;case 70:n.chat_item.model.trigger("forward_selected_messages");break;case 80:n.chat_item.model.trigger("pin_selected_message");break;case 82:n.chat_item.model.trigger("reply_selected_messages");break;case a.KEY_ESCAPE:n.chat_item.model.trigger("reset_selected_messages");}t.preventDefault()}}),n(window).on("keyup",e=>{e.shiftKey&&e.ctrlKey||(this.shiftctrl_pressed=null),e.shiftKey&&!e.ctrlKey&&(this.shift_pressed=!0),e.shiftKey||(this.shift_pressed=null)}),this.updateLayout=function(t){t||(t={}),this.roster_view.isVisible()&&this.updateRosterLayout(t),e.trigger("update_css",t),this.body.$(".ps-container").perfectScrollbar("update")},this.updateRosterLayout=function(){let t=this.body.$el.width(),n=t>=a.WIDTH_MEDIUM,i=t<a.WIDTH_NARROW,s=t<a.WIDTH_TINY,o=this.roster_view.data.get("expanded"),d=this.roster_view.data.get("pinned");if(this.roster_view.$(".collapsed-wrap").hideIf(o),this.roster_view.$(".expanded-wrap").showIf(o),this.roster_view.$(".btn-pin").hideIf(i).text(d?e.getString("group_chat__pinned_message__tooltip_unpin"):e.getString("message_pin")),i&&d)return void this.roster_view.data.set({expanded:!1,pinned:!1});if(!i&&!d&&this.settings.roster.pinned)return void this.roster_view.data.set({expanded:!0,pinned:!0});let r="",c,l;n||!(i||d)?(l=1050,c=300):i?(l=t-50-20-44,1038<l?(l=1038,c=288):(c=250,r=60)):(l=7*(t-50-20)/9,c=2*(t-50-20)/9,r=60),o||(c=n?48:44);let p=(t-l)/2,u=p-50,m=p-c;this.roster_view.$(".expanded-wrap").switchClass("solid",!d&&(!n||0>m)),d&&!r&&3*m<u&&(r=50+.75*(u+m)),this.main_panel.setCustomCss({width:l,"margin-left":r}),this.roster_view.setCustomCss({width:c})},this.on("update_layout",this.updateLayout,this),this.body.addScreen("blank",{}),this.body.addScreen("login",{login:{xmpp_login:null}}),this.body.addScreen("settings",{blur_overlay:null,toolbar:null,main:{wide:{settings:null},placeholders:null},roster:null}),this.body.addScreen("add_account",{blur_overlay:null,toolbar:null,login:null}),this.body.addScreen("about",{blur_overlay:null,toolbar:null,main:{wide:{about:null},placeholders:null},roster:null});let t=new this.ViewPath("account.settings_left"),i=new this.ViewPath("account.settings_right"),s=new this.ViewPath("account.vcard_edit");this.body.addScreen("account_settings",{blur_overlay:null,toolbar:null,main:{wide:{account_settings:{left:t,right:i}},placeholders:null},roster:null}),this.account_settings.patchTree=function(e,a){if("vcard_edit"===a.right)return{left:t,right:s}};let o=new this.ViewPath("chat_item.content.head"),d=new this.ViewPath("chat_item.content"),r=new this.ViewPath("chat_item.content.bottom"),c=new this.ViewPath("contact.invitation"),l=new this.ViewPath("omemo_item.account.omemo_enable_view"),p=new this.ViewPath("contact.details_view"),u=new this.ViewPath("model.messages_view"),m=new this.ViewPath("contact.details_view.participants");this.body.addScreen("contacts",{blur_overlay:null,toolbar:null,main:{left:{contacts:null},right:{contact_placeholder:null},placeholders:null},roster:null}),this.body.addScreen("search",{blur_overlay:null,toolbar:null,main:{wide:{discovering_main:null},placeholders:null},roster:null}),this.body.addScreen("mentions",{blur_overlay:null,toolbar:null,main:{left:{mentions:null},right:{mentions_placeholder:null},placeholders:null},roster:null}),this.body.addScreen("all-chats",{blur_overlay:null,toolbar:null,main:{left:{chats:null},right:{chat_placeholder:null},placeholders:null},roster:null}),this.right_panel.patchTree=function(e,t){return void 0===t.right?void 0:"message_context"===t.right||"participant_messages"===t.right||"searched_messages"===t.right?{chat_head:o,chat_body:u,chat_bottom:r}:"group_invitation"===t.right?{details:c}:"contact_details"===t.right?{details:p}:"participants"===t.details_content?{details_content:m}:t.chat_item?{chat_head:o,chat_body:d,chat_bottom:r}:"enable_encryption"===t.right||t.omemo_item?{details:l}:void 0},this.body.setScreen("blank"),this.api_account?(this.api_account.once("settings_result",function(e){null!==e||this.accounts.length?this.body.isScreen("blank")&&this.body.setScreen("all-chats"):this.body.setScreen("login")},this),this.api_account.ready.then(this.api_account.start.bind(this.api_account))):(this.accounts.length?this.body.isScreen("blank")&&this.body.setScreen("all-chats"):this.body.setScreen("login"),e.trigger("bind_xmpp_accounts"))},e),e}}),define("xabber-omemo",[],function(){var e=String.fromCharCode,t=Math.floor,a=Math.pow;return function(n){let i=n.env,s=i.constants,o=i.utils,d=i.$,r=i.templates.base,c=i.Strophe,l=i._,p=libsignal.KeyHelper,u=libsignal.SignalProtocolAddress,m=libsignal.SessionBuilder,g=libsignal.SessionCipher;return n.Peer=Backbone.Model.extend({idAttribute:"jid",initialize:function(e,t){e=e||{},this.account=t.account,this.devices={},this.store=this.account.omemo.store,this.fingerprints=new n.Fingerprints({model:this}),this.updateDevices(e.devices),this.set({jid:e.jid})},updateDevices:function(e){if(e){for(let t in this.devices)e[t]||(this.account.omemo.removeSession("session"+this.devices[t].address.toString()),delete this.devices[t]);for(let t in e){let a=this.getDevice(t),n=e[t].label;n&&a.set("label",n)}}},getDevicesNode:async function(){return this._pending_devices?new Promise(e=>{this._dfd_devices.done(()=>{e()})}):(this._pending_devices=!0,this._dfd_devices=new d.Deferred,new Promise(e=>{(this.account.background_connection&&this.account.background_connection.connected?this.account.background_connection:this.account.connection).omemo.getDevicesNode(this.get("jid"),t=>{this.updateDevices(this.account.connection.omemo.parseUserDevices(d(t))),this._pending_devices=!1,this._dfd_devices.resolve(),e()},()=>{this._pending_devices=!1,this._dfd_devices.resolve(),e()})}))},encrypt:async function(e){let t=[],a=await o.AES.encrypt(e),n=!0;for(let n in l.keys(this.devices).length||(await this.getDevicesNode()),this.devices)t.push(this.devices[n].encrypt(a.keydata));for(let n in this.account.omemo.own_devices)t.push(this.account.omemo.own_devices[n].encrypt(a.keydata));let i=await Promise.all(t);for(let t in i=i.filter(e=>null!==e),this.devices){let e=this.devices[t];null!==e.get("ik")&&(null===e.get("trusted")&&(n="error"),n&&void 0===e.get("trusted")&&(n="none"))}return{keys:i,iv:a.iv,payload:a.payload,is_trusted:n}},decrypt:async function(e,t,a){let n=this.getDevice(e);return n.decrypt(t,a)},getDevice:function(e){return this.devices[e]||(this.devices[e]=new n.Device({jid:this.get("jid"),id:e},{account:this.account,store:this.store})),this.devices[e]}}),n.Peers=Backbone.Collection.extend({model:n.Peer,initialize:function(){this.collections=[],this.on("add",l.bind(this.updateInCollections,this,"add")),this.on("change",l.bind(this.updateInCollections,this,"change"))},addCollection:function(e){this.collections.push(e)},updateInCollections:function(e,t){l.each(this.collections,function(a){a.update(t,e)})}}),n.Fingerprints=n.BasicView.extend({className:"modal main-modal fingerprints-wrap",template:r.fingerprints,ps_selector:".fingerprints-content",ps_settings:{theme:"item-list"},events:{"click .btn-trust":"trustDevice","click .btn-ignore":"ignoreDevice","click .btn-delete":"deleteDevice","click .set-label + div":"editLabel","click .btn-cancel":"close"},_initialize:function(){this.model.own_devices?(this.account=this.model.account,this.omemo=this.model,this.jid=this.account.get("jid"),this.is_own_devices=!0):(this.account=this.model.account,this.omemo=this.account.omemo,this.jid=this.model.get("jid"))},open:function(){let e="";if(this.is_own_devices)e=this.account.get("name");else{let t=this.account.contacts.get(this.jid);e=t?t.get("name"):this.jid}this.$(".header").text(n.getString("omemo__dialog_fingerprints__header",[e])),this.data.set("visible",!0),this.show(),this.$("div.fingerprints-content").html(i.templates.contacts.preloader()),this.is_own_devices?this.renderOwnDevices():this.renderDevices()},renderDevices:function(){this.model.getDevicesNode().then(()=>{l.keys(this.model.devices).length;this.updateFingerprints(this.model.devices)}),this.updateOwnFingerprint()},renderOwnDevices:function(){this.omemo.getMyDevices().then(()=>{l.keys(this.model.own_devices).length;this.updateFingerprints(this.model.own_devices),this.updateOwnFingerprint()})},render:function(){this.$el.openModal({complete:()=>{this.$el.detach(),this.data.set("visible",!1)}})},editLabel:function(){this.$(".set-label").removeClass("hidden"),this.$(".set-label").focus();let e=e=>{let t=e.target.value.trim();this.saveLabel(t)};this.$(".set-label")[0].onblur=e,this.$("input.set-label")[0].onkeydown=t=>{t.keyCode==s.KEY_ENTER&&e(t)}},saveLabel:function(e){this.$(".set-label").addClass("hidden"),e==this.account.settings.get("device_label_text")||(this.account.settings.save("device_label_text",e),this.account.connection.omemo.publishDevice(this.omemo.get("device_id"),e,()=>{this.updateOwnFingerprint()}))},updateFingerprints:async function(e){let t=0,a=l.keys(e).length,i=new d.Deferred,s=this.$("div.fingerprints-content");for(let r in i.done(e=>{e?this.$(".dropdown-button").dropdown({inDuration:100,outDuration:100,constrainWidth:!1,hover:!1,container:this.$(".fingerprints-content")[0],alignment:"left"}):s.html(d(`<div class="empty-table">${n.getString("omemo__dialog_fingerprints__text_no_fingerprints")}</div>`)),this.jid==this.account.get("jid")&&e++,this.$(".additional-info").text(n.getQuantityString("omemo__dialog_fingerprints__text_devices_count",e,[this.jid,e])),s.find(".preloader-wrapper").detach()}),e){if(r==this.omemo.get("device_id")){t++,a==t&&i.resolve(s.find("div.row").length);continue}let n=e[r];if(n.get("ik")){let e={},o=n.generateFingerprint(),d=(this.omemo.get("fingerprints")[this.jid]||[])[r],c=d?d.fingerprint==o?d.trusted?"trust":"ignore":"error":"unknown";"error"==c&&(e.old_fingerprint=d.fingerprint),s.append(this.addRow(n.id,n.get("label"),c,o,e)),t++,a==t&&i.resolve(s.find("div.row").length)}else(this.account.background_connection&&this.account.background_connection.connected?this.account.background_connection:this.account.connection).omemo.getBundleInfo({jid:n.jid,id:n.id},async e=>{let r=d(e),l=r.find(`item[id="${n.id}"] bundle[xmlns="${c.NS.OMEMO}"]`),p=l.find(`ik`).text();if(p){n.set("ik",o.fromBase64toArrayBuffer(p));let e={},t=n.generateFingerprint(),a=(this.omemo.get("fingerprints")[this.jid]||[])[n.id],i=a?a.fingerprint==t?a.trusted?"trust":"ignore":"error":"unknown";"error"==i&&(e.old_fingerprint=a.fingerprint),s.append(this.addRow(n.id,n.get("label"),i,t,e))}t++,a==t&&i.resolve(s.find("div.row").length)},()=>{t++,a==t&&i.resolve(s.find("div.row").length)})}},updateOwnFingerprint:async function(){this.$(".this-device-content").html("");let e=this.account.omemo;if(e){let t=e.own_devices[e.get("device_id")];t?t.get("fingerprint")?this.$(".this-device-content").append(this.addRow(t.id,t.get("label"),null,t.get("fingerprint"))):t.get("ik")?(t.set("fingerprint",t.generateFingerprint()),this.$(".this-device-content").append(this.addRow(t.id,t.get("label"),null,t.get("fingerprint")))):t.getBundle().then(({pk:e,spk:a,ik:n})=>{t.set("ik",o.fromBase64toArrayBuffer(n));let i=t.generateFingerprint();t.get("fingerprint")&&t.get("fingerprint")===i||t.set("fingerprint",i),this.$(".this-device-content").append(this.addRow(t.id,t.get("label"),null,t.get("fingerprint")))}):e.store.getIdentityKeyPair().then(t=>{let a=t.pubKey;33==a.byteLength&&(a=a.slice(1));let n=Array.from(new Uint8Array(a)).map(e=>e.toString(16).padStart(2,"0")).join("");this.$(".this-device-content").append(this.addRow(e.get("device_id"),this.account.settings.get("device_label_text"),null,n))})}},close:function(){let e=new d.Deferred;return this.$el.closeModal({complete:()=>{this.$el.detach(),this.data.set("visible",!1),e.resolve()}}),e.promise()},trustDevice:function(e){let t=d(e.target).closest("div.row"),a=t.find(".fingerprint").text().replace(/ /g,""),i=t.children(".buttons[data-trust]").attr("data-trust"),s=+t.find("div.device-id").text();t.children(".buttons[data-trust]").attr("data-trust","trust"),t.find(".trust-item-wrap").children().attr("data-value","trust").text(n.getString("omemo__dialog_fingerprints__button_trust")),this.omemo.updateFingerprints(this.jid,s,a,!0);let o=this.is_own_devices?this.account.omemo.own_devices[s]:this.model.devices[s];o&&"trusted"!=i&&("error"===i&&t.find(".old-fingerprint").detach(),o.set("trusted",!0),o.is_session_initiated=!1,o.preKeys=null,this.account.trigger("trusting_updated"))},ignoreDevice:function(e){let t=d(e.target).closest("div.row"),a=t.find(".fingerprint").text().replace(/ /g,""),i=t.children(".buttons[data-trust]").attr("data-trust"),s=+t.find("div.device-id").text();t.children(".buttons[data-trust]").attr("data-trust","ignore"),t.find(".trust-item-wrap").children().attr("data-value","ignore").text(n.getString("omemo__dialog_fingerprints__button_error")),this.omemo.updateFingerprints(this.jid,s,a,!1);let o=this.is_own_devices?this.account.omemo.own_devices[s]:this.model.devices[s];o&&"ignore"!=i&&("error"===i&&t.find(".old-fingerprint").detach(),o.set("trusted",!1),o.is_session_initiated=!1,o.preKeys=null,this.account.trigger("trusting_updated"))},addRow:function(e,t,a,n,i){i=i||{};let s=!!this.is_own_devices,o=e==this.omemo.get("device_id"),d=i.old_fingerprint;n=n.match(/.{1,8}/g).join(" "),d&&(d=d.match(/.{1,8}/g).join(" "));let c=r.fingerprint_item({id:e,label:t,trust:a,fingerprint:n,delete_button:s,edit_setting:o,old_fingerprint:d});return c},deleteDevice:function(e){let t=d(e.target).closest("div.row"),a=+t.find("div.device-id").text();o.dialogs.ask(n.getString("omemo__dialog_delete_device__header"),n.getString("omemo__dialog_delete_device__text",[a]),null,{ok_button_text:n.getString("omemo__dialog_delete_device__button_delete")}).done(e=>{if(e){t.detach(),delete this.model.own_devices[a];let e=this.account.connection;e&&e.omemo&&(delete e.omemo.devices[a],e.omemo.publishDevice(null,null,()=>{t.detach()}),e.omemo.removeItemFromNode(`${c.NS.OMEMO}:bundles`,a))}})}}),n.Bundle=Backbone.Model.extend({initialize:async function(e,t){this.preKeys=[],this.model=t.model,this.store=t.store,this.model.get("identityKey")?this.getIdentity():await this.generateIdentity(),await this.getPreKeys(),this.model.get("resend_bundle")&&(this.model.publishBundle(),this.set("resend_bundle",!1))},generateIdentity:function(){return Promise.all([p.generateIdentityKeyPair(),p.generateRegistrationId()]).then(e=>{let t=e[0],a=e[1];this.store.put("identityKey",t),this.store.put("registrationId",a),this.cacheIdentity(t,a)})},getIdentity:function(){let e=JSON.parse(this.model.get("identityKey")),t=this.model.get("registrationId"),a=o.fromBase64toArrayBuffer(e.pubKey),n=o.fromBase64toArrayBuffer(e.privKey);this.store.put("identityKey",{pubKey:a,privKey:n}),this.store.put("registrationId",t)},cacheIdentity:function(e,t){let a=o.ArrayBuffertoBase64(e.pubKey),n=o.ArrayBuffertoBase64(e.privKey);this.model.save("identityKey",JSON.stringify({pubKey:a,privKey:n})),this.model.save("registrationId",t)},generatePreKeys:async function(){let e=[];for(let t=1;t<=s.PREKEYS_COUNT;t++)e.push(this.generatePreKey(t));return e.push(this.generateSignedPreKey(1)),await Promise.all(e)},getSignedPreKey:async function(){let e=this.model.get("signedPreKey");if(e){let t=o.fromBase64toArrayBuffer(e.keyPair.pubKey),a=o.fromBase64toArrayBuffer(e.keyPair.privKey),n=o.fromBase64toArrayBuffer(e.signature),i=e.keyId;return{keyPair:{pubKey:t,privKey:a},keyId:i,signature:n}}return await this.generateSignedPreKey(this.preKeys[0].keyId||1)},getPreKeys:async function(){let e=this.model.prekeys.getAll();if(Object.keys(e).length>=s.MIN_PREKEYS_COUNT){for(let t in e){let a=e[t],n=a.id,i=JSON.parse(a.key),s=o.fromBase64toArrayBuffer(i.privKey),d=o.fromBase64toArrayBuffer(i.pubKey),r={pubKey:d,privKey:s};this.preKeys.push({keyId:n,keyPair:r}),this.store.storePreKey(n,r)}this.getUsedPreKeys();let t=await this.getSignedPreKey();this.preKeys.push(t),this.store.storeSignedPreKey(t.keyId,t.keyPair)}else this.generatePreKeys().then(e=>{this.preKeys=e,this.getUsedPreKeys()})},getUsedPreKeys:function(){let e=this.model.own_used_prekeys.getAll();if(Object.keys(e).length)for(let t in e){let a=e[t],n=a.id,i=JSON.parse(a.key),s=o.fromBase64toArrayBuffer(i.privKey),d=o.fromBase64toArrayBuffer(i.pubKey);this.store.storePreKey(n,{pubKey:d,privKey:s})}},generatePreKey:async function(e){let t=await p.generatePreKey(e);return this.store.storePreKey(e,t.keyPair),t},generateSignedPreKey:async function(e){let t=await this.store.getIdentityKeyPair(),a=await p.generateSignedPreKey(t,e);return this.store.storeSignedPreKey(e,a.keyPair),this.cacheSignedPreKey(a),a},cacheSignedPreKey:function(e){let t=o.ArrayBuffertoBase64(e.keyPair.pubKey),a=o.ArrayBuffertoBase64(e.keyPair.privKey),n=o.ArrayBuffertoBase64(e.signature),i=e.keyId;this.model.save("signedPreKey",{keyPair:{pubKey:t,privKey:a},keyId:i,signature:n})}}),n.Prekeys=Backbone.Model.extend({initialize:function(e){this.name=e.name,this.model=e.model},get:function(e){let t=l.clone(this.model.get(this.name));return t[e]},put:function(e){if(e.id){let t=l.clone(this.model.get(this.name));t[e.id]=e,this.model.save(this.name,t)}},getAll:function(){let e=l.clone(this.model.get(this.name));return e},remove:function(e){if(e){let t=l.clone(this.model.get(this.name));delete t[e],this.model.save(this.name,t)}}}),n.Device=Backbone.Model.extend({initialize:function(e,t){this.account=t.account,this.id=e.id,this.jid=e.jid,this.store=t.store,this.preKeys=null,this.address=new u(e.jid,e.id)},generateFingerprint:function(){let e=this.get("ik");if(e)return 33==e.byteLength&&(e=e.slice(1)),Array.from(new Uint8Array(e)).map(e=>e.toString(16).padStart(2,"0")).join("")},closeSession:function(e){(this.account.background_connection&&this.account.background_connection.connected?this.account.background_connection:this.account.connection).omemo.sendOptOut({to:this.jid,reason:e},()=>{})},getBundle:async function(){return this._pending_bundle?new Promise((e,t)=>{this._dfd_bundle.done(({pk:t,spk:a,ik:n})=>{e({pk:t,spk:a,ik:n})}),this._dfd_bundle.fail(()=>{t()})}):(this._pending_bundle=!0,this._dfd_bundle=new d.Deferred,new Promise((e,t)=>{(this.account.background_connection&&this.account.background_connection.connected?this.account.background_connection:this.account.connection).omemo.getBundleInfo({jid:this.jid,id:this.id},a=>{let n=d(a),i=n.find(`item[id="${this.id}"] bundle[xmlns="${c.NS.OMEMO}"]`),s=i.find("spk"),o={id:s.attr("id"),key:s.text(),signature:i.find("spks").text()},r=i.find(`ik`).text();this.preKeys=[],r||this.set("ik",null),i.find("prekeys pk").each((e,t)=>{let a=d(t);this.preKeys.push({id:a.attr("id"),key:a.text()})}),this._pending_bundle=!1;let l=this.getRandomPreKey();l?(this._dfd_bundle.resolve({pk:l,spk:o,ik:r}),e({pk:l,spk:o,ik:r})):(this._dfd_bundle.reject(),t())},()=>{this.set("ik",null),this.preKeys=[],this._dfd_bundle.reject(),this._pending_bundle=!1,t()})}))},getRandomPreKey:function(){let e=this.preKeys.length-1,a=t(0+Math.random()*(e+1-0));return this.preKeys[a]},decrypt:async function(e,t){try{let a=new g(this.store,this.address),n;if(t)n=await a.decryptPreKeyWhisperMessage(e,"binary");else{if(!this.store.hasSession(this.address.toString())){let e=this.getCachedSession();e&&(await this.store.storeSession(this.address.toString(),e))}n=await a.decryptWhisperMessage(e,"binary")}return n}catch(t){return null}},getPreKey:function(){let e=this.account.omemo.used_prekeys.get(this.id+"");return e},getCachedSession:function(){return this.account.omemo.getSession("session"+this.address.toString())},encrypt:async function(e){try{if(!1===this.get("trusted")&&this.id!=this.account.omemo.get("device_id"))return null;if(!this.store.hasSession(this.address.toString())||!this.is_session_initiated){if(this.preKeys&&!this.preKeys.length)return null;this.is_session_initiated=!0;let e=await this.initSession();if(!e)return null}let t=this.getSession(),a=await t.encrypt(e);return{preKey:3===a.type,ciphertext:a,deviceId:this.address.getDeviceId()}}catch(t){return console.log("Error:",t),console.warn("Could not encrypt data for device with id "+this.address.getDeviceId()),null}},initSession:async function(){let{pk:e,spk:t,ik:a}=await this.getBundle(),n=this.getPreKey(),i=this.id;n?!t||t&&JSON.stringify(t)==JSON.stringify(n.spk)&&JSON.stringify(a)==JSON.stringify(n.ik)?e=n.pk:this.account.omemo.used_prekeys.put({id:i,pk:e,spk:t,ik:a}):this.account.omemo.used_prekeys.put({id:i,pk:e,spk:t,ik:a}),this.set({pk:o.fromBase64toArrayBuffer(e.key),ik:o.fromBase64toArrayBuffer(a)}),this.fingerprint=this.generateFingerprint();let s=this.account.omemo.isTrusted(this.jid,i,this.fingerprint);return(this.set("trusted",s),this.id==this.account.omemo.get("device_id")||!1!==s)&&(this.processPreKey({registrationId:+i,identityKey:o.fromBase64toArrayBuffer(a),signedPreKey:{keyId:+t.id,publicKey:o.fromBase64toArrayBuffer(t.key),signature:o.fromBase64toArrayBuffer(t.signature)},preKey:{keyId:+e.id,publicKey:o.fromBase64toArrayBuffer(e.key)}}),!0)},processPreKey:function(e){return this.session=new m(this.store,this.address),this.session.processPreKey(e)},removeSession:function(){this.store.removeSession(this.address.toString()),this.sessionCipher=null},getSession:function(){return this.sessionCipher||(this.sessionCipher=new g(this.store,this.address)),this.sessionCipher}}),n.Omemo=Backbone.ModelWithStorage.extend({defaults:{sessions:{},fingerprints:{},prekeys:{},retract_version:0,used_prekeys:{},own_used_prekeys:{},device_id:""},_initialize:function(e,t){this.on("change:device_id",this.onDeviceIdUpdated,this),this.own_devices={},this.account=t.account,this.peers=new n.Peers,this.get("device_id")||this.set("device_id",this.generateDeviceId()),this.store=new n.SignalProtocolStore,this.account.on("device_published",this.publishBundle,this),this.account.on("devices_updated",this.onOwnDevicesUpdated,this),this.store.on("prekey_removed",this.removePreKey,this),this.store.on("session_stored",this.cacheSession,this)},storeSessions:function(){let e=this.get("sessions");for(let t in e){let a=e[t];a&&this.store.put(t,a)}},onConnected:function(){this.prekeys=new n.Prekeys({name:"prekeys",model:this}),this.used_prekeys=new n.Prekeys({name:"used_prekeys",model:this}),this.own_used_prekeys=new n.Prekeys({name:"own_used_prekeys",model:this}),this.cached_messages=new n.DecryptedMessages({id:"decrypted-messages"},{account:this.account,storage_name:n.getStorageName()+"-decrypted-messages-"+this.account.get("jid"),fetch:"before"}),this.bundle=new n.Bundle(null,{store:this.store,model:this}),this.connection=this.account.connection,this.registerMessageHandler(),this.addDevice()},getMyDevices:async function(){return this._pending_own_devices?new Promise(e=>{this._dfd_own_devices.done(()=>{e()})}):(this._pending_own_devices=!0,this._dfd_own_devices=new d.Deferred,new Promise(e=>{let t=this.account.connection;t?t.omemo?t.omemo.getDevicesNode(null,a=>{t.omemo.devices=t.omemo.parseUserDevices(d(a)),this._pending_own_devices=!1,this._dfd_own_devices.resolve(),e()},function(){this._pending_own_devices=!1,this._dfd_own_devices.resolve(),e()}):this._pending_own_devices=!1:this._pending_own_devices=!1}))},updateFingerprints:function(e,t,a,n){let i=l.clone(this.get("fingerprints"));i[e]||(i[e]={});let s=i[e];l.isArray(s)&&(s={}),s[t]={fingerprint:a,trusted:n},i[e]=s,this.save("fingerprints",i)},isTrusted:function(e,t,a){let n=l.clone(this.get("fingerprints"));if(n[e]&&n[e][t]){let i=n[e][t];if(i)return i.fingerprint==a?void 0===i.trusted?void 0:i.trusted:null}},cacheRetractVersion:function(e){console.log("version "+e),this.save("retract_version",e)},getRetractVersion:function(){return this.get("retract_version")},addDevice:function(){let e=this.get("device_id");if(this.connection){let t=this.account.connection.omemo;if(Object.keys(t.devices).length){let a=t.devices[e];if(!a||a&&(a.label||this.account.settings.get("device_label_text"))&&a.label!=this.account.settings.get("device_label_text")){let a=this.account.settings.get("device_label_text");t.publishDevice(e,a,()=>{this.account.trigger("device_published")})}else this.account.trigger("device_published")}else t.getDevicesNode(null,a=>{for(let e in this.account.connection.omemo.devices=t.parseUserDevices(d(a)),this.account.connection.omemo.devices)this.own_devices[e]||(this.own_devices[e]=new n.Device({jid:this.account.get("jid"),id:e},{account:this.account,store:this.store}));let i=t.devices[e];if(!i||i&&(i.label||this.account.settings.get("device_label_text"))&&i.label!=this.account.settings.get("device_label_text")){let a=this.account.settings.get("device_label_text");t.publishDevice(e,a,()=>{this.account.trigger("device_published")})}else this.account.trigger("device_published")})}},onDeviceIdUpdated:function(){this.save("device_id",this.get("device_id"))},generateDeviceId:function(){let e=a(2,31)-1,n=1+2147483647*Math.random();return t(n)},updateMessage:function(e,t){this.cached_messages&&this.cached_messages.updateMessage(e,t)},registerMessageHandler:function(){this.account.connection.deleteHandler(this._msg_handler),this._msg_handler=this.account.connection.addHandler(e=>(this.receiveMessage(e),!0),null,"message",null,null,null,{encrypted:!0})},encrypt:function(e,t){let a=this.getPeer(e.get("jid")),n=d(t.tree()),i=n.children("origin-id").attr("id"),s=c.serialize(n.children("body")[0])||"";return n.children("reference").each((e,t)=>{s+=c.serialize(t)}),i&&this.cached_messages.putMessage(e,i,s),a.encrypt(s).then(n=>{let i=$build("encrypted",{xmlns:c.NS.OMEMO}).c("header",{sid:this.get("device_id"),label:this.account.settings.get("device_label_text")}),s=$build("keys",{jid:this.account.get("jid")});i.c("keys",{jid:e.get("jid")});for(let e of n.keys){let t={rid:e.deviceId,kex:void 0};e.preKey&&(t.kex=!0),a.devices[e.deviceId]?i.c("key",t).t(btoa(e.ciphertext.body)).up():s.c("key",t).t(btoa(e.ciphertext.body)).up()}return i.up().cnode(s.tree()),i.up().c("iv",o.ArrayBuffertoBase64(n.iv)).up().up().c("payload").t(o.ArrayBuffertoBase64(n.payload)),d(t.tree()).find("body").remove(),d(t.tree()).children("reference").remove(),t.cnode(i.tree()),t.up().c("store",{xmlns:"urn:xmpp:hints"}).up().c("body").t("This message is encrypted using OMEMO end-to-end encryption.").up(),{message:t,is_trusted:n.is_trusted}}).catch(()=>{})},hasChanges:function(e,t){let a=l.clone(e),n=l.clone(t);for(let i in a)delete n[i];for(let i in n)delete a[i];return Object.keys(a).length||Object.keys(n).length},receiveHeadlineMessage:function(e){let t=d(e),a=c.getBareJidFromJid(t.attr("from")),i=t.find("items").attr("node");if(t.find("event[xmlns=\""+c.NS.PUBSUB+"#event\"]").length){if(`${c.NS.OMEMO}:devices`==i){let e=this.account.connection.omemo.parseUserDevices(t);if(a===this.account.get("jid")){let t=this.own_devices&&Object.keys(this.own_devices).length,a=this.hasChanges(this.own_devices,e);this.account.connection.omemo.devices=e;let n=this.get("device_id"),i=this.account.connection.omemo.devices[n];a&&this.account.trigger("devices_updated"),t&&a&&this.account.trigger("trusting_updated")}else{let t=this.getPeer(a),n=t.devices&&Object.keys(t.devices).length,i=this.hasChanges(t.devices,e);t.updateDevices(e),n&&i&&this.account.trigger("trusting_updated")}return}if(`${c.NS.OMEMO}:bundles`==i){let e=t.find("items item").first(),i=e.attr("id"),s=e.children(`bundle[xmlns="${c.NS.OMEMO}"]`),r;if(a===this.account.get("jid"))this.account.connection.omemo.devices&&this.account.connection.omemo.devices[i]&&(!this.own_devices[i]&&(this.own_devices[i]=new n.Device({jid:this.account.get("jid"),id:i},{account:this.account,store:this.store})),r=this.own_devices[i]);else{let e=this.peers.get(a);e&&(r=e.devices[i])}if(r){let e=s.find(`ik`).text(),t=r.get(`ik`),a=[];if(!e)return void r.set("ik",null);s.find("prekeys pk").each((e,t)=>{let n=d(t);a.push({id:n.attr("id"),key:n.text()})}),r.preKeys=a,r.set("ik",o.fromBase64toArrayBuffer(e)),r.set("fingerprint",r.generateFingerprint()),t&&(t=o.ArrayBuffertoBase64(t)),l.isUndefined(t)||t==e||this.account.trigger("trusting_updated")}}}},receiveChatMessage:function(e,t){t=t||{};let a=d(e);if(a.find(`encrypted[xmlns="${c.NS.OMEMO}"]`).length){a.find("result[xmlns=\""+c.NS.MAM+"\"]").length&&l.extend(t,{is_mam:!0,is_archived:!0}),a.find("[xmlns=\""+c.NS.CARBONS+"\"]").length&&(t.carbon_copied=!0);let n=a.find(`encrypted[xmlns="${c.NS.OMEMO}"]`).parent(),i=(c.getBareJidFromJid(n.attr("from"))===this.account.get("jid")?c.getBareJidFromJid(n.attr("to")):c.getBareJidFromJid(n.attr("from")))||t.from_jid,s=this.account.contacts.get(t.conversation?t.conversation:i),o=n.children(`stanza-id[by="${this.account.get("jid")}"]`).attr("id"),d=o&&this.cached_messages.getMessage(s,o);if(d){if(!t.replaced)return t.encrypted=!0,void this.getTrusted(a).then(e=>{t.is_trusted=e,a.find("body").remove(),a.find(`encrypted[xmlns="${c.NS.OMEMO}"]`).replaceWith(d),this.account.chats.receiveChatMessage(a[0],t)});if(t.replaced&&a.find(`encrypted[xmlns="${c.NS.OMEMO}"] header`).attr("sid")==this.get("device_id")){t.encrypted=!0,a.find("body").remove(),a.find(`encrypted[xmlns="${c.NS.OMEMO}"]`).replaceWith(d);let e=this.account.chats.getChat(s,"encrypted");e&&e.messages.createFromStanza(a,t);let n=e.messages.find(e=>e.get("stanza_id")==o||e.get("contact_stanza_id")==o);return void(n&&(n.set("last_replace_time",a.find("replaced").attr("stamp")),e&&e.item_view.updateLastMessage(e.last_message)))}}t.replaced?this.decrypt(e.children("replace").children("message"),t).then(e=>{if(e){t.encrypted=!0,o&&this.cached_messages.putMessage(s,o,e),a.find("body").remove(),a.find(`encrypted[xmlns="${c.NS.OMEMO}"]`).replaceWith(e);let n=this.account.chats.getChat(s,"encrypted");n&&n.messages.createFromStanza(a,t);let i=n.messages.find(e=>e.get("stanza_id")==o||e.get("contact_stanza_id")==o);i&&(i.set("last_replace_time",a.find("replaced").attr("stamp")),n&&n.item_view.updateLastMessage(n.last_message))}}):this.getTrusted(a).then(a=>(t.is_trusted=a,this.decrypt(e))).then(e=>{if(e)t.encrypted=!0,o&&this.cached_messages.putMessage(s,o,e),a.find("body").remove();else{if(null===e)return void this.account.chats.getChat(s,"encrypted").item_view.updateLastMessage();t.not_encrypted=!0,delete t.is_trusted}a.find(`encrypted[xmlns="${c.NS.OMEMO}"]`).replaceWith(e),this.account.chats.receiveChatMessage(a[0],t)}).catch(()=>t.synced_msg&&!t.decryption_retry?void this.receiveChatMessage(a[0],l.extend(t,{decryption_retry:!0})):void(t.not_encrypted=!0,delete t.is_trusted,a.find(`encrypted[xmlns="${c.NS.OMEMO}"]`).remove(),this.account.chats.receiveChatMessage(a[0],t)))}},checkOwnFingerprints:async function(){return new Promise(e=>{let t=!0,a=new d.Deferred,n=0;if(a.done(a=>{let t=null===a?"error":void 0===a?"none":a;e(t)}),Object.keys(this.own_devices).length)for(let e in n=Object.keys(this.own_devices).length,this.own_devices){let i=this.own_devices[e];if(e==this.get("device_id")){n--,n||a.resolve(t);continue}if(i.get("fingerprint")){let e=this.isTrusted(this.account.get("jid"),i.id,i.get("fingerprint"));void 0===e&&null!==t&&(t=void 0),null===e&&(t=null),n--,n||a.resolve(t)}else if(i.get("ik")){i.set("fingerprint",i.generateFingerprint());let e=this.isTrusted(this.account.get("jid"),i.id,i.get("fingerprint"));void 0===e&&null!==t&&(t=void 0),null===e&&(t=null),n--,n||a.resolve(t)}else{if(null===i.get("ik")){n--,n||a.resolve(t);continue}i.getBundle().then(({pk:e,spk:s,ik:d})=>{i.set("ik",o.fromBase64toArrayBuffer(d)),i.set("fingerprint",i.generateFingerprint());let r=this.isTrusted(this.account.get("jid"),i.id,i.get("fingerprint"));void 0===r&&null!==t&&(t=void 0),null===r&&(t=null),n--,n||a.resolve(t)}).catch(()=>{n--,n||a.resolve(t)})}}else this.getMyDevices().then(()=>{this.onOwnDevicesUpdated().then(()=>{for(let e in n=Object.keys(this.own_devices).length,this.own_devices){if(e==this.get("device_id")){n--,n||a.resolve(t);continue}let i=this.own_devices[e];if(i.get("fingerprint")){let e=this.isTrusted(this.account.get("jid"),i.id,i.get("fingerprint"));void 0===e&&null!==t&&(t=void 0),null===e&&(t=null),n--,n||a.resolve(t)}else n--,n||a.resolve(t)}})})})},checkContactFingerprints:function(e){return new Promise(a=>{let n=!0,i=this.getPeer(e.get("jid")),s=new d.Deferred,r=0;if(s.done(n=>{let t=null===n?"error":void 0===n?"none":n;e.trigger("update_trusted",t),a(t)}),Object.keys(i.devices).length)for(let t in r=Object.keys(i.devices).length,i.devices){let a=i.devices[t];if(a.get("fingerprint")){let t=this.isTrusted(e.get("jid"),a.id,a.get("fingerprint"));void 0===t&&null!==n&&(n=void 0),null===t&&(n=null),r--,r||s.resolve(n)}else if(a.get("ik")){a.set("fingerprint",a.generateFingerprint());let t=this.isTrusted(e.get("jid"),a.id,a.get("fingerprint"));void 0===t&&null!==n&&(n=void 0),null===t&&(n=null),r--,r||s.resolve(n)}else{if(null===a.get("ik")){r--,r||(1===Object.keys(i.devices).length&&(n="nil"),s.resolve(n));continue}a.getBundle().then(({pk:t,spk:i,ik:d})=>{a.set("ik",o.fromBase64toArrayBuffer(d)),a.set("fingerprint",a.generateFingerprint());let c=this.isTrusted(e.get("jid"),a.id,a.get("fingerprint"));void 0===c&&null!==n&&(n=void 0),null===c&&(n=null),r--,r||s.resolve(n)}).catch(()=>{r--,r||(1===Object.keys(i.devices).length&&(n="nil"),s.resolve(n))})}}else i.getDevicesNode().then(()=>{for(let t in r=Object.keys(i.devices).length,r||s.resolve("nil"),i.devices){let a=i.devices[t];a.getBundle().then(({pk:t,spk:d,ik:c})=>{a.set("ik",o.fromBase64toArrayBuffer(c)),a.set("fingerprint",a.generateFingerprint());let l=this.isTrusted(e.get("jid"),a.id,a.get("fingerprint"));void 0===l&&null!==n&&(n=void 0),null===l&&(1===Object.keys(i.devices).length?n="nil":n=null),r--,r||s.resolve(n)}).catch(()=>{r--,r||(1===Object.keys(i.devices).length&&(n="nil"),s.resolve(n))})}})})},getTrusted:async function(e){let t=e.find(`encrypted[xmlns="${c.NS.OMEMO}"]`).parent(),a=c.getBareJidFromJid(t.attr("from")),n=c.getBareJidFromJid(t.attr("to")),i=this.account.contacts.mergeContact(a===this.account.get("jid")?n:a),s=await this.checkOwnFingerprints(),o=await this.checkContactFingerprints(i);if("error"===s||"none"===s&&"error"!==o)return s;if("error"===o||"none"===o)return o;else{let t=e.find("encrypted header").attr("sid"),a=this.getPeer(i.get("jid")),n=a.devices[t];if(n&&n.get("fingerprint")){let e=this.isTrusted(i.get("jid"),n.id,n.get("fingerprint"));if(!1===e)return"untrusted"}return!0}},receiveMessage:function(e){let t=d(e),a=t.attr("type");if("headline"===a)return this.receiveHeadlineMessage(e)},parseEncrypted:function(e){let t=e.children(`payload`),a=e.children("header"),n=o.fromBase64toArrayBuffer(a.find("iv").text()),i=o.fromBase64toArrayBuffer(t.text()),s=+a.attr("sid"),r=a.find(`key`).get().map(function(e){return{preKey:"true"===d(e).attr("kex"),ciphertext:o.fromBase64toArrayBuffer(d(e).text()),deviceId:parseInt(d(e).attr("rid"))}});return{sid:s,keys:r,iv:n,payload:i}},getPeer:function(e){return this.peers.get(e)||this.peers.create({jid:e},{account:this.account}),this.peers.get(e)},decrypt:async function(e,t){let a=d(e),n=c.getBareJidFromJid(a.attr("from"))||t.from_jid,i;if(a.find("result[xmlns=\""+c.NS.MAM+"\"]").length){let e=a.find("message").first();n=c.getBareJidFromJid(e.attr("from")),i=a.children(`result`).children(`forwarded`).children(`message`).children(`encrypted[xmlns="${c.NS.OMEMO}"]`)}else i=a.find("[xmlns=\""+c.NS.CARBONS+"\"]").length?a.children(`[xmlns="${c.NS.CARBONS}"]`).children(`forwarded`).children(`message`).children(`encrypted[xmlns="${c.NS.OMEMO}"]`):a.children(`encrypted[xmlns="${c.NS.OMEMO}"]`);let s=this.parseEncrypted(i),r=this.get("device_id"),l=s.keys.filter(e=>e.deviceId==r),p=l[0];if(!p)return null;let u=this.getPeer(n),m=await u.decrypt(s.sid,p.ciphertext,p.preKey);if(m){let e=m.slice(0,16),t=m.slice(16),a=s.iv,n=o.AES.arrayBufferConcat(s.payload,t);return o.AES.decrypt(e,a,n)}},toBase64:function(t){return btoa(e(...new Uint8Array(t)))},publish:function(e,t,a){if(!this.account.connection)return;let n=(this.account.background_connection&&this.account.background_connection.connected?this.account.background_connection:this.account.connection).omemo,i=[];a.forEach(e=>{let t=e.keyId,a=o.ArrayBuffertoBase64(e.keyPair.pubKey),n=o.ArrayBuffertoBase64(e.keyPair.privKey),s=JSON.stringify({pubKey:a,privKey:n});e.signature||(i.push({id:t,key:a}),this.prekeys.put({id:t,key:s}))}),n.configNode(()=>{n.publishBundle({spk:{id:e.keyId,key:o.ArrayBuffertoBase64(e.keyPair.pubKey)},spks:o.ArrayBuffertoBase64(e.signature),ik:o.ArrayBuffertoBase64(t),pks:i,device_id:this.get("device_id")})})},removePreKey:async function(e){if(this.account){let t=this.bundle,a=this.bundle.preKeys.find(t=>t.keyId===e&&!t.signature);if(a){let i=o.ArrayBuffertoBase64(a.keyPair.pubKey),d=o.ArrayBuffertoBase64(a.keyPair.privKey),r=JSON.stringify({pubKey:i,privKey:d}),c=this.bundle.preKeys.indexOf(a);if(t.preKeys.splice(c,1),this.own_used_prekeys.put({id:e,key:r}),this.prekeys.remove(e),t.preKeys.length&&t.preKeys.length<s.MIN_PREKEYS_COUNT){let e=s.PREKEYS_COUNT-t.preKeys.length,a=l.sortBy(n.accounts.connected[0].omemo.bundle.preKeys,"keyId").last().keyId;for(let t=++a;a+e;t++)await this.bundle.generatePreKey(t);this.account.omemo.publishBundle()}else this.account.omemo.publishBundle()}}},cacheSession:function(e){let t=e.id,a=e.rec,n=l.clone(this.get("sessions"));l.isArray(n)&&(n={}),n[t]=a,this.save("sessions",n)},removeSession:function(e){let t=l.clone(this.get("sessions"));l.isArray(t)&&(t={}),delete t[e],this.save("sessions",t)},getSession:function(e){let t=l.clone(this.get("sessions"));return t[e]},publishBundle:async function(){let e=this.bundle.preKeys.find(e=>e.signature),t=await this.store.getIdentityKeyPair(),a=this.bundle.preKeys;return e&&t?void(this.account.background_connection&&this.account.background_connection.connected?this.account.background_connection:this.account.connection).omemo.getBundleInfo({jid:this.account.get("jid"),id:this.get("device_id")},()=>{this.publish(e,t.pubKey,a)},n=>{404==d(n).find("error").attr("code")&&(this.account.background_connection&&this.account.background_connection.connected?this.account.background_connection:this.account.connection).omemo.createBundleNode(()=>{this.publish(e,t.pubKey,a)})}):void this.set("resend_bundle",!0)},onOwnDevicesUpdated:async function(){return new Promise(e=>{let t=this.account.connection;if(t&&t.omemo&&t.omemo.devices){for(let e in this.own_devices)t.omemo.devices[e]||(this.account.omemo.removeSession("session"+this.own_devices[e].address.toString()),delete this.own_devices[e]);let a=Object.keys(t.omemo.devices).length;for(let i in t.omemo.devices){this.own_devices[i]||(this.own_devices[i]=new n.Device({jid:this.account.get("jid"),id:i},{account:this.account,store:this.store}));let s=this.own_devices[i],d=t.omemo.devices[i].label;if(!s.get("ik")){if(null===s.get("ik")){a--,a||e();continue}s.getBundle().then(({pk:t,spk:n,ik:i})=>{s.set("ik",o.fromBase64toArrayBuffer(i));let d=s.generateFingerprint();s.get("fingerprint")&&s.get("fingerprint")===d||s.set("fingerprint",d),a--,a||e()}).catch(()=>{a--,a||e()})}else s.get("fingerprint")?(a--,a||e()):(s.set("fingerprint",s.generateFingerprint()),a--,a||e());d&&s.set("label",d)}}})}}),n.DecryptedMessages=Backbone.ModelWithStorage.extend({defaults:{messages:{}},getMessage:function(e,t){let a=l.clone(this.get("messages")),n=a[e.get("jid")]||{};return n[t]},putMessage:function(e,t,a){let n=l.clone(this.get("messages")),i=n[e.get("jid")]||{};i[t]=a,n[e.get("jid")]=i,this.save("messages",n)},removeMessage:function(e,t){let a=e.origin_id,n=l.clone(this.get("messages")),i=n[t.get("jid")]||{};delete i[a],n[t.get("jid")]=i,this.save("messages",n)},updateMessage:function(e,t){let a=e.stanza_id,n=e.origin_id,i=l.clone(this.get("messages")),s=i[t.get("jid")]||{},o=s[n];n&&this.removeMessage({origin_id:n},t),a&&this.putMessage(t,a,o)}}),n.SignalProtocolStore=Backbone.Model.extend({initialize:function(){this.Direction={SENDING:1,RECEIVING:2},this.store={}},getIdentityKeyPair:function(){return Promise.resolve(this.get("identityKey"))},getLocalRegistrationId:function(){return Promise.resolve(this.get("registrationId"))},put:function(e,t){if(void 0===e||void 0===t||null===e||null===t)throw new Error("Tried to store undefined/null");this.store[e]=t},get:function(e,t){if(null===e||void 0===e)throw new Error("Tried to get value for undefined/null key");return e in this.store?this.store[e]:t},remove:function(e){if(null===e||void 0===e)throw new Error("Tried to remove value for undefined/null key");delete this.store[e]},isTrustedIdentity:function(e,t){if(null===e||void 0===e)throw new Error("tried to check identity key for undefined/null key");if(!(t instanceof ArrayBuffer))throw new Error("Expected identityKey to be an ArrayBuffer");let a=this.get("identityKey"+e);return void 0===a?Promise.resolve(!0):Promise.resolve(util.toString(t)===util.toString(a))},loadIdentityKey:function(e){if(null===e||void 0===e)throw new Error("Tried to get identity key for undefined/null key");return Promise.resolve(this.get("identityKey"+e))},saveIdentity:function(e,t){if(null===e||void 0===e)throw new Error("Tried to put identity key for undefined/null key");let a=new u.fromString(e),n=this.get("identityKey"+a.getName());return this.put("identityKey"+a.getName(),t),n&&libsignal.toString(t)!==libsignal.toString(n)?Promise.resolve(!0):Promise.resolve(!1)},loadPreKey:function(e){let t=this.get("25519KeypreKey"+e);return void 0!==t&&(t={pubKey:t.pubKey,privKey:t.privKey}),Promise.resolve(t)},storePreKey:function(e,t){return Promise.resolve(this.put("25519KeypreKey"+e,t))},removePreKey:function(e){this.trigger("prekey_removed",e)},loadSignedPreKey:function(e){let t=this.get("25519KeysignedKey"+e);return void 0!==t&&(t={pubKey:t.pubKey,privKey:t.privKey}),Promise.resolve(t)},storeSignedPreKey:function(e,t){return Promise.resolve(this.put("25519KeysignedKey"+e,t))},removeSignedPreKey:function(e){return Promise.resolve(this.remove("25519KeysignedKey"+e))},loadSession:function(e){return Promise.resolve(this.get("session"+e))},hasSession:function(e){return!!this.get("session"+e)},storeSession:function(e,t){return this.trigger("session_stored",{id:"session"+e,rec:t}),Promise.resolve(this.put("session"+e,t))},removeSession:function(e){return Promise.resolve(this.remove("session"+e))},getAllSessions:function(e){let t=[];for(let a in this.store)a.startsWith("session"+e)&&t.push({id:a,session:this.store[a]});return Promise.resolve(t)},removeAllSessions:function(e){for(let t in this.store)t.startsWith("session"+e)&&delete this.store[t];return Promise.resolve()}}),n.OMEMOEnablePlaceholder=n.BasicView.extend({className:"omemo-enable-placeholder",events:{"click .btn-enable":"enableOmemo","click .btn-escape":"disableOmemo"},_initialize:function(e){this.account=e.account,this.updateColorScheme(),this.$el.html(r.omemo_enable({jid:this.account.get("jid")})),n.placeholders_wrap.$el.append(this.$el),n.main_panel.$el.css("padding-bottom",n.placeholders_wrap.$el.height()),n.on("update_screen",this.onUpdatedScreen,this),this.account.session.on("change:connected",this.updateConnected,this),this.account.settings.on("change:color",this.updateColorScheme,this)},updateColorScheme:function(){let e=this.account.settings.get("color");this.$el.attr("data-color",e)},onUpdatedScreen:function(){this.account.omemo_enable_placeholder&&this.account.omemo_enable_placeholder.cid===this.cid&&(this.$el.detach(),n.placeholders_wrap.$el.append(this.$el),n.main_panel.$el.css("padding-bottom",n.placeholders_wrap.$el.height()))},updateConnected:function(){this.account.isConnected()||this.close()},enableOmemo:function(){this.account.settings.save("omemo",!0),this.close(),this.account.omemo=new n.Omemo({id:"omemo"},{account:this.account,storage_name:n.getStorageName()+"-omemo-settings-"+this.account.get("jid"),fetch:"before"}),setTimeout(()=>{this.account.omemo.onConnected()},2e3)},disableOmemo:function(){this.account.settings.save("omemo",!1),this.close()},close:function(){this.trigger("remove")&&this.remove(),this.account.omemo_enable_placeholder=void 0,n.main_panel.$el.css("padding-bottom",n.placeholders_wrap.$el.height())}}),n.Account.addInitPlugin(function(){this.settings.get("omemo")&&(this.omemo=new n.Omemo({id:"omemo"},{account:this,storage_name:n.getStorageName()+"-omemo-settings-"+this.get("jid"),fetch:"before"}))}),n.Account.addConnPlugin(function(){this.settings.get("omemo")&&this.omemo.onConnected()},!0,!0),n}}),define("xabber",["xabber-core","xabber-views","xabber-api-service","xabber-strophe","xabber-vcard","xabber-accounts","xabber-discovery","xabber-contacts","xabber-chats","xabber-searching","xabber-mentions","xabber-ui","xabber-omemo"],function(e,t,a,n,i,s,o,d,r,c,l,p,u){return e.extendWith(t,a,n,i,s,o,d,r,c,l,p,u)});